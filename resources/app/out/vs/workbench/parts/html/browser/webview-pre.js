/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
!function(){"use strict";function e(e){e&&(e.classList.remove("vscode-light","vscode-dark","vscode-high-contrast"),e.classList.add(l.activeTheme))}function t(){return document.getElementById("active-frame")}function n(){return document.getElementById("pending-frame")}function o(e){if(e&&e.view&&e.view.document)for(var t=e.target;t;){if("A"===t.tagName&&t.href){var n=e.view.document.getElementsByTagName("base")[0];if("#"===t.getAttribute("href"))e.view.scrollTo(0,0);else if(t.hash&&(t.getAttribute("href")===t.hash||n&&t.href.indexOf(n.href)>=0)){var o=e.view.document.getElementById(t.hash.substr(1,t.hash.length-1));o&&o.scrollIntoView()}else s.sendToHost("did-click-link",t.href);e.preventDefault();break}t=t.parentNode}}function i(e){if(!r){const t=e.target.body.scrollTop/e.target.body.clientHeight;isNaN(t)||(r=!0,window.requestAnimationFrame(function(){try{s.sendToHost("did-scroll",t)}catch(e){}r=!1}))}}const s=require("electron").ipcRenderer;var c=!0;const l={initialScrollProgress:void 0};var r=!1;document.addEventListener("DOMContentLoaded",function(r){s.on("baseUrl",function(e,t){l.baseUrl=t}),s.on("styles",function(n,o,i){l.styles=o,l.activeTheme=i;var s=t();if(s){e(s.contentDocument.getElementsByTagName("body")[0]);var c=s.contentDocument.getElementById("_defaultStyles");c&&(c.innerHTML=l.styles)}}),s.on("focus",function(){const e=t();e&&e.contentWindow.focus()}),s.on("content",function(r,d){const a=d.join("\n"),u=(new DOMParser).parseFromString(a,"text/html"),m={scriptTags:u.documentElement.querySelectorAll("script").length,inputTags:u.documentElement.querySelectorAll("input").length,styleTags:u.documentElement.querySelectorAll("style").length,linkStyleSheetTags:u.documentElement.querySelectorAll("link[rel=stylesheet]").length,stringLen:a.length};if(l.baseUrl&&0===u.head.getElementsByTagName("base").length){const h=u.createElement("base");h.href=l.baseUrl,u.head.appendChild(h)}const f=u.createElement("style");f.id="_defaultStyles",f.innerHTML=l.styles,u.head.hasChildNodes()?u.head.insertBefore(f,u.head.firstChild):u.head.appendChild(f),e(u.body);const g=t();var y;if(c)c=!1,y=function(e,t){e.scrollTop=0,isNaN(l.initialScrollProgress)||t.addEventListener("load",function(){0===e.scrollTop&&(e.scrollTop=e.clientHeight*l.initialScrollProgress)})};else{const b=g.contentDocument&&g.contentDocument.body?g.contentDocument.body.scrollTop:0;y=function(e){0===e.scrollTop&&(e.scrollTop=b)}}const v=n();v&&(v.setAttribute("id",""),document.body.removeChild(v));const p=document.createElement("iframe");p.setAttribute("id","pending-frame"),p.setAttribute("frameborder","0"),p.setAttribute("sandbox","allow-scripts allow-forms allow-same-origin"),p.style.cssText="margin: 0; overflow: hidden; position: absolute; width: 100%; height: 100%; display: none",document.body.appendChild(p),p.contentDocument.open("text/html","replace"),p.contentWindow.onbeforeunload=function(e){return console.log("prevented webview navigation"),!1},p.contentWindow.addEventListener("DOMContentLoaded",function(e){const s=e.target;s.body&&(y(s.body,this),s.body.addEventListener("click",o));const c=n();if(c&&c.contentDocument===s){const l=t();l&&document.body.removeChild(l),c.setAttribute("id","active-frame"),c.style.display="block",this.addEventListener("scroll",i)}}),p.contentDocument.write("<!DOCTYPE html>"),p.contentDocument.write(u.documentElement.innerHTML),p.contentDocument.close(),s.sendToHost("did-set-content",m)}),s.on("message",function(e,n){const o=t();o&&o.contentWindow.postMessage(n,document.location.origin)}),s.on("initial-scroll-position",function(e,t){l.initialScrollProgress=t}),window.onmessage=function(e){s.sendToHost(e.data.command,e.data.data)},s.sendToHost("webview-ready",process.pid)})}();
//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/379d2efb5539b09112c793d3d9a413017d736f89/core/vs\workbench\parts\html\browser\webview-pre.js.map
