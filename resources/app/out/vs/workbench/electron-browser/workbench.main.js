/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/
(function(){function e(e){this.tokens=[],this.tokens.links={},this.options=e||l.defaults,this.rules=p.normal,this.options.gfm&&(this.options.tables?this.rules=p.tables:this.rules=p.gfm)}function t(e,t){if(this.options=t||l.defaults,this.links=e,this.rules=f.normal,this.renderer=this.options.renderer||new n,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=f.breaks:this.rules=f.gfm:this.options.pedantic&&(this.rules=f.pedantic)}function n(e){this.options=e||{}}function i(e){this.tokens=[],this.token=null,this.options=e||l.defaults,this.options.renderer=this.options.renderer||new n,this.renderer=this.options.renderer,this.renderer.options=this.options}function r(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function o(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/g,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function s(e,t){return e=e.source,t=t||"",function n(i,r){return i?(r=r.source||r,r=r.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(i,r),n):new RegExp(e,t)}}function a(){}function c(e){for(var t,n,i=1;i<arguments.length;i++){t=arguments[i];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function l(t,n,o){if(o||"function"==typeof n){o||(o=n,n=null);var s,a,u=(n=c({},l.defaults,n||{})).highlight,d=0;try{s=e.lex(t,n)}catch(e){return o(e)}a=s.length;var h=function(e){if(e)return n.highlight=u,o(e);var t;try{t=i.parse(s,n)}catch(t){e=t}return n.highlight=u,e?o(e):o(null,t)};if(!u||u.length<3)return h();if(delete n.highlight,!a)return h();for(;d<s.length;d++)!function(e){"code"!==e.type?--a||h():u(e.text,e.lang,function(t,n){return t?h(t):null==n||n===e.text?--a||h():(e.text=n,e.escaped=!0,void(--a||h()))})}(s[d])}else try{return n&&(n=c({},l.defaults,n)),i.parse(e.lex(t,n),n)}catch(e){if(e.message+="\nPlease report this to https://github.com/chjj/marked.",(n||l.defaults).silent)return"<p>An error occurred:</p><pre>"+r(e.message+"",!0)+"</pre>";throw e}}var u=["exports","require","vs/nls","vs/nls!vs/workbench/electron-browser/workbench.main","vs/base/common/winjs.base","vs/base/common/lifecycle","vs/platform/instantiation/common/instantiation","vs/base/common/errors","vs/base/common/event","vs/base/browser/dom","vs/css!vs/workbench/electron-browser/workbench.main","vs/base/common/platform","vs/base/common/strings","vs/platform/theme/common/themeService","vs/editor/common/core/range","vs/platform/registry/common/platform","vs/base/common/uri","vs/platform/contextkey/common/contextkey","vs/base/common/async","vs/platform/telemetry/common/telemetry","vs/platform/message/common/message","vs/base/common/actions","vs/workbench/services/editor/common/editorService","vs/platform/configuration/common/configuration","vs/base/common/types","vs/editor/common/editorCommonExtensions","vs/base/common/objects","vs/platform/workspace/common/workspace","vs/base/common/paths","vs/platform/theme/common/colorRegistry","vs/workbench/common/editor","vs/platform/storage/common/storage","vs/platform/commands/common/commands","vs/editor/common/editorCommon","vs/base/common/arrays","vs/platform/actions/common/actions","vs/base/common/severity","vs/editor/common/core/position","vs/platform/keybinding/common/keybinding","vs/platform/environment/common/environment","vs/base/browser/builder","vs/platform/contextview/browser/contextView","vs/editor/common/services/modeService","vs/platform/files/common/files","vs/editor/common/services/modelService","vs/workbench/services/group/common/groupService","vs/editor/common/modes","vs/workbench/services/part/common/partService","vs/editor/common/editorContextKeys","vs/base/browser/ui/actionbar/actionbar","vs/workbench/common/actionRegistry","vs/workbench/services/textfile/common/textfiles","path","vs/editor/common/core/selection","vs/platform/quickOpen/common/quickOpen","vs/platform/theme/common/styler","vs/editor/common/services/codeEditorService","vs/workbench/services/viewlet/browser/viewlet","vs/base/common/color","vs/platform/extensions/common/extensions","vs/base/common/keyCodes","vs/workbench/api/node/extHost.protocol","vs/platform/windows/common/windows","vs/platform/editor/common/editor","vs/platform/configuration/common/configurationRegistry","vs/workbench/services/configuration/common/configurationEditing","vs/base/browser/browser","vs/workbench/parts/debug/common/debug","vs/editor/browser/editorBrowserExtensions","vs/platform/lifecycle/common/lifecycle","vs/base/common/map","vs/editor/common/services/resolverService","vs/platform/keybinding/common/keybindingsRegistry","vs/editor/browser/editorBrowser","vs/workbench/common/theme","vs/base/browser/fastDomNode","vs/base/node/pfs","vs/editor/common/model/textModelWithDecorations","vs/workbench/services/panel/common/panelService","vs/base/common/network","vs/platform/node/product","vs/base/common/eventEmitter","vs/base/common/labels","vs/workbench/services/thread/common/threadService","vs/workbench/browser/quickopen","vs/workbench/common/contributions","vs/base/browser/mouseEvent","vs/platform/extensionManagement/common/extensionManagement","vs/workbench/browser/actions","vs/base/browser/keyboardEvent","vs/platform/list/browser/listService","vs/base/browser/ui/widget","vs/workbench/parts/extensions/common/extensions","vs/workbench/parts/files/common/files","vs/base/common/json","vs/platform/instantiation/common/descriptors","os","electron","vs/workbench/browser/parts/editor/baseEditor","vs/workbench/services/untitled/common/untitledEditorService","vs/workbench/parts/emmet/electron-browser/emmetActions","vs/editor/browser/view/viewPart","vs/base/parts/quickopen/browser/quickOpenModel","vs/workbench/browser/viewlet","vs/workbench/services/configuration/common/configuration","vs/editor/common/core/editOperation","vs/workbench/browser/panel","vs/base/common/errorMessage","vs/editor/common/controller/cursorCommon","vs/platform/progress/common/progress","vs/base/browser/ui/inputbox/inputBox","vs/editor/common/view/editorColorRegistry","vs/editor/common/modes/languageConfigurationRegistry","vs/base/common/scrollable","vs/base/browser/ui/aria/aria","vs/base/parts/quickopen/common/quickOpen","vs/platform/instantiation/common/extensions","vs/platform/extensions/common/extensionsRegistry","vs/platform/instantiation/common/serviceCollection","vs/platform/opener/common/opener","vs/workbench/parts/terminal/common/terminal","vs/base/parts/tree/browser/treeDefaults","vs/base/common/filters","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/editor/common/config/editorOptions","vs/workbench/parts/output/common/output","vs/workbench/parts/preferences/common/preferences","vs/base/browser/ui/scrollbar/scrollableElement","vs/base/parts/tree/browser/treeImpl","vs/workbench/services/window/electron-browser/windowService","fs","vs/base/common/collections","vs/base/parts/ipc/common/ipc","vs/base/common/mime","vs/workbench/parts/debug/browser/debugActions","vs/base/common/uuid","vs/platform/node/package","vs/workbench/services/themes/common/workbenchThemeService","vs/workbench/browser/labels","vs/workbench/services/backup/common/backup","vs/base/common/events","vs/platform/extensionManagement/common/extensionManagementUtil","vs/platform/markers/common/markers","crypto","vs/base/common/assert","vs/base/common/glob","vs/editor/common/services/resourceConfiguration","vs/editor/common/controller/cursorEvents","vs/workbench/parts/views/browser/views","vs/editor/common/model/textModelEvents","vs/base/browser/event","vs/base/browser/ui/sash/sash","vs/editor/common/view/viewEvents","vs/workbench/parts/files/common/explorerModel","vs/platform/markers/common/problemMatcher","vs/base/common/idGenerator","vs/platform/search/common/search","child_process","vs/editor/browser/config/configuration","vs/workbench/common/editor/resourceEditorInput","vs/workbench/services/history/common/history","vs/workbench/common/memento","vs/workbench/parts/debug/common/debugModel","vs/workbench/services/scm/common/scm","vs/platform/telemetry/common/telemetryUtils","vs/editor/contrib/snippet/browser/snippetController2","vs/workbench/parts/views/browser/viewsRegistry","vs/base/browser/touch","vs/workbench/electron-browser/actions","vs/workbench/browser/parts/quickopen/quickopen","vs/workbench/parts/tasks/common/tasks","vs/workbench/parts/files/browser/fileActions","vs/editor/common/modes/modesRegistry","vs/editor/common/modes/languageConfiguration","vs/base/browser/ui/splitview/splitview","vs/workbench/services/activity/common/activityBarService","vs/base/browser/ui/list/listWidget","vs/editor/browser/view/dynamicViewOverlay","vs/editor/common/commands/replaceCommand","vs/base/common/functional","vs/platform/actions/browser/menuItemActionItem","vs/base/common/keybindingLabels","vs/editor/browser/codeEditor","vs/base/common/marked/marked","vs/editor/common/controller/coreCommands","vs/workbench/common/editor/textEditorModel","vs/editor/common/services/editorWorkerService","vs/base/common/iterator","vs/editor/common/model/wordHelper","vs/editor/contrib/suggest/browser/suggest","vs/workbench/common/editor/diffEditorInput","vs/editor/common/viewModel/viewModel","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/workbench/parts/search/common/replace","vs/base/browser/htmlContentRenderer","vs/editor/common/core/characterClassifier","vs/workbench/parts/markers/common/messages","vs/workbench/parts/search/common/constants","vs/base/node/processes","vs/platform/statusbar/common/statusbar","vs/base/browser/dnd","vs/base/browser/ui/countBadge/countBadge","vs/workbench/parts/snippets/electron-browser/snippetsService","vs/editor/common/model/textModel","vs/editor/common/view/renderingContext","vs/platform/configuration/common/model","vs/workbench/browser/parts/editor/editorActions","vs/workbench/parts/preferences/browser/preferencesWidgets","vs/workbench/browser/actions/fileActions","vs/workbench/parts/markers/common/constants","vs/workbench/parts/extensions/browser/extensionsActions","vs/workbench/parts/search/common/searchModel","vs/workbench/browser/part","vs/workbench/parts/tasks/common/taskService","vs/editor/common/model/textSource","vs/editor/common/model/tokensBinaryEncoding","vs/workbench/services/keybinding/common/scanCode","vs/editor/common/viewModel/viewEventHandler","vs/workbench/browser/parts/statusbar/statusbar","vs/editor/common/modes/supports","vs/base/browser/ui/findinput/findInput","vs/workbench/services/keybinding/electron-browser/keybindingService","vs/workbench/services/editor/browser/editorService","net","vs/workbench/services/files/node/watcher/common","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/workbench/services/configurationResolver/common/configurationResolver","vs/base/common/cancellation","vs/editor/common/config/commonEditorConfig","vs/editor/contrib/snippet/browser/snippetParser","vs/workbench/parts/welcome/walkThrough/node/walkThroughInput","vs/base/browser/globalMouseMoveMonitor","vs/base/parts/ipc/node/ipc.cp","vs/base/common/comparers","vs/workbench/parts/quickopen/browser/commandsHandler","vs/editor/contrib/find/common/findController","vs/editor/common/viewModel/prefixSumComputer","vs/workbench/services/textMate/electron-browser/textMateService","vs/platform/integrity/common/integrity","vs/workbench/parts/tasks/common/taskSystem","vs/base/common/parsers","vs/workbench/browser/parts/editor/textEditor","vs/editor/common/modes/textToHtmlTokenizer","vs/workbench/services/keybinding/common/keybindingIO","vs/base/common/scorer","vs/workbench/common/editor/untitledEditorInput","vs/editor/common/modes/nullMode","vs/workbench/parts/search/common/search","vs/editor/common/modes/supports/richEditBrackets","vs/editor/common/model/modelLine","vs/editor/common/core/viewLineToken","vs/workbench/parts/search/browser/searchActions","vs/editor/common/controller/wordCharacterClassifier","vs/base/node/encoding","vs/editor/common/core/uint","vs/platform/clipboard/common/clipboardService","vs/workbench/parts/markers/common/markersModel","vs/editor/contrib/find/common/findModel","vs/workbench/services/textfile/common/textFileEditorModel","vs/workbench/electron-browser/workbench","vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/base/common/decorators","vs/base/node/event","vs/base/node/id","vs/workbench/parts/html/browser/webview","vs/base/parts/tree/browser/tree","vs/editor/contrib/zoneWidget/browser/peekViewWidget","vs/workbench/common/editor/editorStacksModel","vs/workbench/common/editor/binaryEditorModel","vs/base/browser/ui/toolbar/toolbar","vs/editor/common/view/overviewZoneManager","vs/editor/common/view/minimapCharRenderer","vs/base/common/diff/diff","vs/base/common/jsonErrorMessages","vs/base/parts/tree/browser/treeDnd","vs/workbench/services/mode/common/workbenchModeService","vs/base/node/stream","vs/editor/common/viewLayout/lineDecorations","vs/base/common/processes","vs/editor/common/viewLayout/viewLineRenderer","vs/base/common/htmlContent","vs/workbench/services/timer/common/timerService","vs/workbench/parts/scm/common/scm","vs/editor/browser/editorDom","vs/editor/browser/view/viewLayer","vs/editor/common/config/editorZoom","vs/workbench/parts/preferences/common/preferencesModels","vs/platform/keybinding/common/keybindingResolver","vs/editor/common/core/editorState","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/workbench/parts/preferences/browser/preferencesActions","vs/base/browser/ui/octiconLabel/octiconLabel","vs/base/node/extfs","vs/base/browser/ui/iconLabel/iconLabel","vs/base/browser/ui/progressbar/progressbar","vs/editor/common/config/fontInfo","vs/workbench/common/editor/rangeDecorations","vs/editor/common/core/token","vs/editor/common/commands/shiftCommand","vs/workbench/parts/terminal/electron-browser/terminalActions","vs/editor/common/controller/cursorTypeOperations","vs/workbench/services/crashReporter/common/crashReporterService","vs/editor/contrib/toggleTabFocusMode/common/toggleTabFocusMode","vs/workbench/parts/extensions/common/extensionsInput","vs/workbench/parts/preferences/browser/preferencesEditor","vs/platform/request/node/request","vs/workbench/parts/execution/common/execution","vs/base/node/request","vs/base/browser/ui/checkbox/checkbox","vs/workbench/browser/parts/editor/binaryEditor","vs/workbench/parts/markers/browser/markersPanelActions","vs/workbench/parts/debug/electron-browser/debugViewer","vs/workbench/browser/parts/editor/titleControl","vs/workbench/common/component","vs/platform/update/common/update","vs/base/browser/ui/selectBox/selectBox","vs/editor/contrib/suggest/browser/suggestController","vs/workbench/common/resources","vs/workbench/parts/update/electron-browser/releaseNotesInput","vs/editor/common/services/bulkEdit","vs/editor/browser/widget/codeEditorWidget","vs/workbench/parts/terminal/electron-browser/terminalColorRegistry","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/base/common/marshalling","semver","vs/editor/contrib/referenceSearch/browser/referencesModel","vs/workbench/parts/execution/electron-browser/terminal","vs/workbench/services/keybinding/common/keybindingEditing","vs/workbench/parts/debug/electron-browser/electronDebugActions","vs/platform/telemetry/node/commonProperties","vs/workbench/parts/debug/common/debugViewModel","vs/platform/telemetry/common/telemetryService","vs/base/browser/ui/scrollbar/scrollbarState","vs/workbench/parts/debug/browser/debugActionItems","vs/workbench/parts/snippets/electron-browser/TMSnippets","vs/workbench/parts/codeEditor/electron-browser/selectionClipboard","vs/platform/telemetry/common/telemetryIpc","vs/workbench/parts/codeEditor/electron-browser/menuPreventer","vs/workbench/browser/parts/editor/webviewEditor","vs/workbench/browser/parts/editor/binaryDiffEditor","vs/editor/browser/viewParts/margin/margin","vs/workbench/browser/parts/editor/sideBySideEditor","vs/editor/contrib/parameterHints/common/parameterHints","vs/editor/contrib/linesOperations/common/linesOperations","vs/workbench/parts/files/browser/fileCommands","vs/editor/contrib/goToDeclaration/browser/goToDeclaration","vs/editor/contrib/format/common/format","vs/editor/contrib/folding/browser/folding","vs/editor/contrib/comment/common/blockCommentCommand","vs/workbench/parts/extensions/electron-browser/extensionsViewlet","vs/editor/contrib/contextmenu/browser/contextmenu","vs/workbench/services/keybinding/common/windowsKeyboardMapper","vs/base/common/paging","vs/workbench/browser/composite","vs/workbench/parts/files/common/editors/fileEditorInput","vs/workbench/browser/parts/editor/textResourceEditor","vs/editor/contrib/format/common/formatCommand","vs/editor/contrib/goToDeclaration/browser/clickLinkGesture","vs/editor/contrib/hover/browser/hoverOperation","vs/editor/contrib/hover/browser/hoverWidgets","vs/css!vs/workbench/parts/scm/electron-browser/media/scmViewlet","vs/editor/contrib/indentation/common/indentUtils","vs/base/browser/ui/button/button","vs/workbench/services/workspace/common/workspaceEditing","vs/base/common/jsonEdit","vs/workbench/common/editor/resourceEditorModel","vs/workbench/parts/debug/browser/linkDetector","vs/workbench/browser/parts/quickopen/quickOpenController","vs/workbench/common/editor/textDiffEditorModel","vs/editor/contrib/snippet/browser/snippetVariables","vs/base/browser/ui/contextview/contextview","vs/workbench/common/editor/diffEditorModel","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/workbench/browser/parts/editor/textDiffEditor","vs/workbench/parts/search/browser/searchWidget","vs/base/browser/ui/dropdown/dropdown","vs/base/common/diagnostics","vs/base/node/stdFork","vs/base/common/worker/simpleWorker","vs/base/browser/ui/findinput/findInputCheckboxes","vs/workbench/browser/activity","vs/workbench/parts/welcome/walkThrough/node/walkThroughUtils","vs/workbench/services/textMate/electron-browser/TMHelper","vs/workbench/parts/views/common/views","vs/base/node/config","vs/css!vs/base/browser/ui/list/list","vs/css!vs/editor/contrib/goToDeclaration/browser/goToDeclarationMouse","vs/workbench/services/textMate/electron-browser/TMGrammars","vs/workbench/parts/terminal/electron-browser/terminal","vs/editor/browser/widget/diffNavigator","vs/workbench/browser/parts/compositePart","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/workbench/parts/tasks/electron-browser/jsonSchemaCommon","vs/workbench/parts/tasks/browser/quickOpen","vs/workbench/services/title/common/titleService","vs/base/browser/iframe","vs/workbench/api/electron-browser/mainThreadHeapService","vs/workbench/parts/tasks/common/taskDefinitionRegistry","vs/workbench/parts/tasks/common/problemCollectors","vs/editor/contrib/goToDeclaration/browser/goToDeclarationCommands","vs/editor/contrib/referenceSearch/browser/referencesController","vs/workbench/parts/snippets/electron-browser/tabCompletion","vs/editor/browser/controller/textAreaState","vs/editor/browser/controller/textAreaInput","vs/platform/keybinding/common/resolvedKeybindingItem","vs/editor/contrib/referenceSearch/browser/referencesWidget","vs/workbench/parts/welcome/walkThrough/electron-browser/walkThroughPart","vs/workbench/parts/search/common/searchQuery","vs/base/node/decoder","vs/editor/common/model/textModelSearch","vs/workbench/api/electron-browser/mainThreadExtensionService","vs/workbench/parts/files/browser/views/explorerViewer","vs/workbench/parts/scm/electron-browser/scmUtil","vs/editor/common/core/lineTokens","vs/base/common/stopwatch","vs/workbench/parts/output/browser/outputActions","vs/platform/url/common/url","vs/base/parts/ipc/node/ipc.net","vs/editor/common/controller/cursorMoveOperations","vs/editor/common/controller/cursorDeleteOperations","vs/workbench/parts/markers/browser/markersPanel","vs/editor/common/controller/cursorWordOperations","vs/editor/common/controller/cursorMoveCommands","vs/workbench/parts/preferences/browser/keybindingWidgets","vs/editor/contrib/wordHighlighter/common/wordHighlighter","vs/base/node/flow","vs/editor/contrib/find/browser/find","vs/editor/browser/widget/embeddedCodeEditorWidget","vs/editor/browser/widget/diffEditorWidget","vs/workbench/parts/files/browser/saveErrorHandler","vs/workbench/services/progress/browser/progressService","vs/css!vs/workbench/browser/parts/panel/media/panelpart","vs/base/common/history","vs/editor/common/model/model","vs/editor/common/viewModel/splitLinesCollection","vs/workbench/parts/html/common/htmlInput","vs/editor/common/services/editorWorkerServiceImpl","vs/workbench/parts/extensions/electron-browser/extensionsActions","vs/editor/browser/viewParts/overviewRuler/overviewRulerImpl","vs/workbench/browser/actions/toggleEditorLayout","vs/workbench/electron-browser/extensionHost","vs/workbench/parts/files/browser/fileResultsNavigation","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/workbench/parts/extensions/electron-browser/extensionsUtils","vs/workbench/browser/actions/toggleActivityBarVisibility","vs/workbench/parts/extensions/common/extensionsFileTemplate","vs/editor/browser/controller/mouseTarget","vs/editor/browser/viewParts/lines/viewLine","vs/workbench/parts/extensions/browser/extensionsWidgets","vs/workbench/parts/preferences/browser/keybindingsEditor","vs/platform/extensions/node/extensionValidator","vs/workbench/parts/extensions/common/extensionQuery","vs/editor/contrib/rename/browser/renameInputField","vs/nls!vs/editor/contrib/contextmenu/browser/contextmenu","vs/nls!vs/editor/contrib/find/common/findController","vs/nls!vs/editor/contrib/folding/browser/folding","vs/nls!vs/editor/contrib/format/browser/formatActions","vs/nls!vs/editor/contrib/goToDeclaration/browser/goToDeclarationCommands","vs/nls!vs/editor/contrib/goToDeclaration/browser/goToDeclarationMouse","vs/nls!vs/editor/contrib/gotoError/browser/gotoError","vs/nls!vs/editor/contrib/hover/browser/hover","vs/nls!vs/editor/contrib/hover/browser/modesContentHover","vs/nls!vs/editor/contrib/inPlaceReplace/common/inPlaceReplace","vs/nls!vs/editor/contrib/indentation/common/indentation","vs/nls!vs/editor/contrib/linesOperations/common/linesOperations","vs/nls!vs/editor/contrib/links/browser/links","vs/nls!vs/editor/contrib/multicursor/common/multicursor","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHints","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/nls!vs/editor/contrib/quickFix/browser/quickFixCommands","vs/nls!vs/editor/contrib/referenceSearch/browser/referenceSearch","vs/nls!vs/editor/contrib/referenceSearch/browser/referencesController","vs/nls!vs/editor/contrib/referenceSearch/browser/referencesModel","vs/nls!vs/editor/contrib/comment/common/comment","vs/nls!vs/editor/contrib/referenceSearch/browser/referencesWidget","vs/nls!vs/editor/contrib/rename/browser/rename","vs/nls!vs/editor/contrib/rename/browser/renameInputField","vs/nls!vs/editor/contrib/smartSelect/common/smartSelect","vs/nls!vs/editor/contrib/suggest/browser/suggestController","vs/nls!vs/editor/contrib/suggest/browser/suggestWidget","vs/nls!vs/editor/contrib/toggleTabFocusMode/common/toggleTabFocusMode","vs/nls!vs/editor/contrib/wordHighlighter/common/wordHighlighter","vs/nls!vs/editor/contrib/zoneWidget/browser/peekViewWidget","vs/nls!vs/platform/actions/browser/menuItemActionItem","vs/nls!vs/platform/actions/electron-browser/menusExtensionPoint","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/extensionManagement/common/extensionEnablementService","vs/nls!vs/platform/extensionManagement/common/extensionManagement","vs/nls!vs/platform/extensionManagement/node/extensionGalleryService","vs/nls!vs/platform/extensions/common/abstractExtensionService","vs/nls!vs/platform/extensions/common/extensionsRegistry","vs/nls!vs/platform/extensions/node/extensionValidator","vs/nls!vs/platform/integrity/node/integrityServiceImpl","vs/nls!vs/platform/jsonschemas/common/jsonValidationExtensionPoint","vs/nls!vs/platform/keybinding/common/abstractKeybindingService","vs/nls!vs/platform/markers/common/problemMatcher","vs/nls!vs/platform/message/common/message","vs/nls!vs/platform/request/node/request","vs/nls!vs/platform/telemetry/common/telemetryService","vs/nls!vs/platform/theme/common/colorRegistry","vs/nls!vs/workbench/api/electron-browser/mainThreadExtensionService","vs/nls!vs/workbench/api/electron-browser/mainThreadMessageService","vs/nls!vs/workbench/browser/actions/configureLocale","vs/nls!vs/workbench/browser/actions/fileActions","vs/nls!vs/workbench/browser/actions/toggleActivityBarVisibility","vs/nls!vs/workbench/browser/actions/toggleEditorLayout","vs/nls!vs/workbench/browser/actions/toggleSidebarPosition","vs/nls!vs/workbench/browser/actions/toggleSidebarVisibility","vs/nls!vs/workbench/browser/actions/toggleStatusbarVisibility","vs/nls!vs/workbench/browser/actions/toggleZenMode","vs/nls!vs/workbench/browser/parts/activitybar/activitybarActions","vs/nls!vs/workbench/browser/parts/activitybar/activitybarPart","vs/nls!vs/workbench/browser/parts/compositePart","vs/nls!vs/workbench/browser/parts/editor/binaryDiffEditor","vs/nls!vs/workbench/browser/parts/editor/binaryEditor","vs/nls!vs/workbench/browser/parts/editor/editor.contribution","vs/nls!vs/workbench/browser/parts/editor/editorActions","vs/nls!vs/workbench/browser/parts/editor/editorCommands","vs/nls!vs/workbench/browser/parts/editor/editorPart","vs/nls!vs/workbench/browser/parts/editor/editorPicker","vs/nls!vs/workbench/browser/parts/editor/editorStatus","vs/nls!vs/workbench/browser/parts/editor/tabsTitleControl","vs/nls!vs/workbench/browser/parts/editor/textDiffEditor","vs/nls!vs/workbench/browser/parts/editor/textEditor","vs/nls!vs/workbench/browser/parts/editor/textResourceEditor","vs/nls!vs/workbench/browser/parts/editor/titleControl","vs/nls!vs/workbench/browser/parts/panel/panelActions","vs/nls!vs/workbench/browser/parts/panel/panelPart","vs/nls!vs/workbench/browser/parts/quickopen/quickOpenController","vs/nls!vs/workbench/browser/parts/quickopen/quickopen","vs/nls!vs/workbench/browser/parts/sidebar/sidebarPart","vs/nls!vs/workbench/browser/parts/statusbar/statusbarPart","vs/nls!vs/workbench/browser/parts/titlebar/titlebarPart","vs/nls!vs/workbench/browser/quickopen","vs/nls!vs/workbench/browser/viewlet","vs/nls!vs/workbench/common/theme","vs/nls!vs/workbench/electron-browser/actions","vs/nls!vs/workbench/electron-browser/commands","vs/nls!vs/workbench/electron-browser/extensionHost","vs/nls!vs/workbench/electron-browser/main","vs/nls!vs/workbench/electron-browser/main.contribution","vs/nls!vs/workbench/electron-browser/shell","vs/nls!vs/workbench/electron-browser/window","vs/nls!vs/workbench/electron-browser/workbench","vs/nls!vs/workbench/node/extensionPoints","vs/nls!vs/workbench/parts/cli/electron-browser/cli.contribution","vs/nls!vs/workbench/parts/codeEditor/electron-browser/accessibility","vs/nls!vs/workbench/parts/codeEditor/electron-browser/inspectKeybindings","vs/nls!vs/workbench/parts/codeEditor/electron-browser/languageConfiguration/languageConfigurationExtensionPoint","vs/nls!vs/workbench/parts/codeEditor/electron-browser/textMate/inspectTMScopes","vs/nls!vs/workbench/parts/codeEditor/electron-browser/toggleMultiCursorModifier","vs/nls!vs/workbench/parts/codeEditor/electron-browser/toggleRenderControlCharacter","vs/nls!vs/workbench/parts/codeEditor/electron-browser/toggleRenderWhitespace","vs/nls!vs/workbench/parts/codeEditor/electron-browser/toggleWordWrap","vs/nls!vs/workbench/parts/codeEditor/electron-browser/wordWrapMigration","vs/nls!vs/workbench/parts/debug/browser/breakpointWidget","vs/nls!vs/workbench/parts/debug/browser/debugActionItems","vs/nls!vs/workbench/parts/debug/browser/debugActions","vs/nls!vs/workbench/parts/debug/browser/debugActionsWidget","vs/nls!vs/workbench/parts/debug/browser/debugContentProvider","vs/nls!vs/workbench/parts/debug/browser/debugEditorActions","vs/nls!vs/workbench/parts/debug/browser/debugEditorModelManager","vs/nls!vs/workbench/parts/debug/browser/debugQuickOpen","vs/nls!vs/workbench/parts/debug/browser/exceptionWidget","vs/nls!vs/workbench/parts/debug/browser/linkDetector","vs/nls!vs/workbench/parts/debug/common/debug","vs/nls!vs/workbench/parts/debug/common/debugModel","vs/nls!vs/workbench/parts/debug/common/debugSource","vs/nls!vs/workbench/parts/debug/electron-browser/debug.contribution","vs/nls!vs/workbench/parts/debug/electron-browser/debugCommands","vs/nls!vs/workbench/parts/debug/electron-browser/debugConfigurationManager","vs/nls!vs/workbench/parts/debug/electron-browser/debugEditorContribution","vs/nls!vs/workbench/parts/debug/electron-browser/debugHover","vs/nls!vs/workbench/parts/debug/electron-browser/debugService","vs/nls!vs/workbench/parts/debug/electron-browser/debugViewer","vs/nls!vs/workbench/parts/debug/electron-browser/debugViews","vs/nls!vs/workbench/parts/debug/electron-browser/electronDebugActions","vs/nls!vs/workbench/parts/debug/electron-browser/rawDebugSession","vs/nls!vs/workbench/parts/debug/electron-browser/repl","vs/nls!vs/workbench/parts/debug/electron-browser/replViewer","vs/nls!vs/workbench/parts/debug/electron-browser/statusbarColorProvider","vs/nls!vs/workbench/parts/debug/electron-browser/terminalSupport","vs/nls!vs/workbench/parts/debug/node/debugAdapter","vs/nls!vs/workbench/parts/emmet/browser/actions/showEmmetCommands","vs/nls!vs/workbench/parts/emmet/electron-browser/actions/balance","vs/nls!vs/workbench/parts/emmet/electron-browser/actions/editPoints","vs/nls!vs/workbench/parts/emmet/electron-browser/actions/evaluateMath","vs/nls!vs/workbench/parts/emmet/electron-browser/actions/expandAbbreviation","vs/nls!vs/workbench/parts/emmet/electron-browser/actions/incrementDecrement","vs/nls!vs/workbench/parts/emmet/electron-browser/actions/matchingPair","vs/nls!vs/workbench/parts/emmet/electron-browser/actions/mergeLines","vs/nls!vs/workbench/parts/emmet/electron-browser/actions/reflectCssValue","vs/nls!vs/workbench/parts/emmet/electron-browser/actions/removeTag","vs/nls!vs/workbench/parts/emmet/electron-browser/actions/selectItem","vs/nls!vs/workbench/parts/emmet/electron-browser/actions/splitJoinTag","vs/nls!vs/workbench/parts/emmet/electron-browser/actions/toggleComment","vs/nls!vs/workbench/parts/emmet/electron-browser/actions/updateImageSize","vs/nls!vs/workbench/parts/emmet/electron-browser/actions/updateTag","vs/nls!vs/workbench/parts/emmet/electron-browser/actions/wrapWithAbbreviation","vs/nls!vs/workbench/parts/emmet/electron-browser/emmet.contribution","vs/nls!vs/workbench/parts/execution/electron-browser/terminal.contribution","vs/nls!vs/workbench/parts/execution/electron-browser/terminalService","vs/nls!vs/workbench/parts/extensions/browser/dependenciesViewer","vs/nls!vs/workbench/parts/extensions/browser/extensionEditor","vs/nls!vs/workbench/parts/extensions/browser/extensionsActions","vs/nls!vs/workbench/parts/extensions/browser/extensionsQuickOpen","vs/nls!vs/workbench/parts/extensions/common/extensionsFileTemplate","vs/nls!vs/workbench/parts/extensions/common/extensionsInput","vs/nls!vs/workbench/parts/extensions/electron-browser/extensionTipsService","vs/nls!vs/workbench/parts/extensions/electron-browser/extensions.contribution","vs/nls!vs/workbench/parts/extensions/electron-browser/extensionsActions","vs/nls!vs/workbench/parts/extensions/electron-browser/extensionsUtils","vs/nls!vs/workbench/parts/extensions/electron-browser/extensionsViewlet","vs/nls!vs/workbench/parts/extensions/electron-browser/extensionsViews","vs/nls!vs/workbench/parts/extensions/node/extensionsWorkbenchService","vs/nls!vs/workbench/parts/feedback/electron-browser/feedback","vs/nls!vs/workbench/parts/files/browser/editors/binaryFileEditor","vs/nls!vs/workbench/parts/files/browser/editors/textFileEditor","vs/nls!vs/workbench/parts/files/browser/fileActions","vs/nls!vs/workbench/parts/files/browser/fileActions.contribution","vs/nls!vs/workbench/parts/files/browser/fileCommands","vs/nls!vs/workbench/parts/files/browser/files.contribution","vs/nls!vs/workbench/parts/files/browser/saveErrorHandler","vs/nls!vs/workbench/parts/files/browser/views/emptyView","vs/nls!vs/workbench/parts/files/browser/views/explorerView","vs/nls!vs/workbench/parts/files/browser/views/explorerViewer","vs/nls!vs/workbench/parts/files/browser/views/openEditorsView","vs/nls!vs/workbench/parts/files/browser/views/openEditorsViewer","vs/nls!vs/workbench/parts/files/common/dirtyFilesTracker","vs/nls!vs/workbench/parts/files/common/editors/fileEditorInput","vs/nls!vs/workbench/parts/html/browser/html.contribution","vs/nls!vs/workbench/parts/html/browser/htmlPreviewPart","vs/nls!vs/workbench/parts/html/browser/webview","vs/nls!vs/workbench/parts/markers/common/messages","vs/nls!vs/workbench/parts/markers/electron-browser/markersElectronContributions","vs/nls!vs/workbench/parts/output/browser/output.contribution","vs/nls!vs/workbench/parts/output/browser/outputActions","vs/nls!vs/workbench/parts/output/browser/outputPanel","vs/nls!vs/workbench/parts/output/common/output","vs/nls!vs/workbench/parts/performance/electron-browser/performance.contribution","vs/nls!vs/workbench/parts/preferences/browser/keybindingWidgets","vs/nls!vs/workbench/parts/preferences/browser/keybindingsEditor","vs/nls!vs/workbench/parts/preferences/browser/keybindingsEditorContribution","vs/nls!vs/workbench/parts/preferences/browser/preferences.contribution","vs/nls!vs/workbench/parts/preferences/browser/preferencesActions","vs/nls!vs/workbench/parts/preferences/browser/preferencesEditor","vs/nls!vs/workbench/parts/preferences/browser/preferencesRenderers","vs/nls!vs/workbench/parts/preferences/browser/preferencesService","vs/nls!vs/workbench/parts/preferences/browser/preferencesWidgets","vs/nls!vs/workbench/parts/preferences/common/keybindingsEditorModel","vs/nls!vs/workbench/parts/preferences/common/preferencesModels","vs/nls!vs/workbench/parts/quickopen/browser/commandsHandler","vs/nls!vs/workbench/parts/quickopen/browser/gotoLineHandler","vs/nls!vs/workbench/parts/quickopen/browser/gotoSymbolHandler","vs/nls!vs/workbench/parts/quickopen/browser/helpHandler","vs/nls!vs/workbench/parts/quickopen/browser/quickopen.contribution","vs/nls!vs/workbench/parts/quickopen/browser/viewPickerHandler","vs/nls!vs/workbench/parts/relauncher/electron-browser/relauncher.contribution","vs/nls!vs/workbench/parts/scm/electron-browser/dirtydiffDecorator","vs/nls!vs/workbench/parts/scm/electron-browser/scm.contribution","vs/nls!vs/workbench/parts/scm/electron-browser/scmActivity","vs/nls!vs/workbench/parts/scm/electron-browser/scmMenus","vs/nls!vs/workbench/parts/scm/electron-browser/scmViewlet","vs/nls!vs/workbench/parts/search/browser/openAnythingHandler","vs/nls!vs/workbench/parts/search/browser/openFileHandler","vs/nls!vs/workbench/parts/search/browser/openSymbolHandler","vs/nls!vs/workbench/parts/search/browser/patternInputWidget","vs/nls!vs/workbench/parts/search/browser/replaceService","vs/nls!vs/workbench/parts/search/browser/search.contribution","vs/nls!vs/workbench/parts/search/browser/searchActions","vs/nls!vs/workbench/parts/search/browser/searchResultsView","vs/nls!vs/workbench/parts/search/browser/searchViewlet","vs/nls!vs/workbench/parts/search/browser/searchWidget","vs/nls!vs/workbench/parts/snippets/electron-browser/TMSnippets","vs/nls!vs/workbench/parts/snippets/electron-browser/insertSnippet","vs/nls!vs/workbench/parts/snippets/electron-browser/snippets.contribution","vs/nls!vs/workbench/parts/snippets/electron-browser/snippetsService","vs/nls!vs/workbench/parts/snippets/electron-browser/tabCompletion","vs/nls!vs/workbench/parts/surveys/electron-browser/languageSurveys.contribution","vs/nls!vs/workbench/parts/surveys/electron-browser/nps.contribution","vs/nls!vs/workbench/parts/tasks/browser/quickOpen","vs/nls!vs/workbench/parts/tasks/browser/taskQuickOpen","vs/nls!vs/workbench/parts/tasks/common/taskDefinitionRegistry","vs/nls!vs/workbench/parts/tasks/common/taskTemplates","vs/nls!vs/workbench/parts/tasks/electron-browser/jsonSchemaCommon","vs/nls!vs/workbench/parts/tasks/electron-browser/jsonSchema_v1","vs/nls!vs/workbench/parts/tasks/electron-browser/jsonSchema_v2","vs/nls!vs/workbench/parts/tasks/electron-browser/task.contribution","vs/nls!vs/workbench/parts/tasks/electron-browser/terminalTaskSystem","vs/nls!vs/workbench/parts/tasks/node/processRunnerDetector","vs/nls!vs/workbench/parts/tasks/node/processTaskSystem","vs/nls!vs/workbench/parts/tasks/node/taskConfiguration","vs/nls!vs/workbench/parts/terminal/electron-browser/terminal.contribution","vs/nls!vs/workbench/parts/terminal/electron-browser/terminalActions","vs/nls!vs/workbench/parts/terminal/electron-browser/terminalColorRegistry","vs/nls!vs/workbench/parts/terminal/electron-browser/terminalConfigHelper","vs/nls!vs/workbench/parts/terminal/electron-browser/terminalFindWidget","vs/nls!vs/workbench/parts/terminal/electron-browser/terminalInstance","vs/nls!vs/workbench/parts/terminal/electron-browser/terminalLinkHandler","vs/nls!vs/workbench/parts/terminal/electron-browser/terminalPanel","vs/nls!vs/workbench/parts/terminal/electron-browser/terminalService","vs/nls!vs/workbench/parts/themes/electron-browser/themes.contribution","vs/nls!vs/workbench/parts/trust/electron-browser/unsupportedWorkspaceSettings.contribution","vs/nls!vs/workbench/parts/update/electron-browser/releaseNotesInput","vs/nls!vs/workbench/parts/update/electron-browser/update","vs/nls!vs/workbench/parts/update/electron-browser/update.contribution","vs/nls!vs/workbench/parts/views/browser/views","vs/nls!vs/workbench/parts/views/browser/viewsExtensionPoint","vs/nls!vs/workbench/parts/watermark/electron-browser/watermark","vs/nls!vs/workbench/parts/welcome/overlay/browser/welcomeOverlay","vs/nls!vs/workbench/parts/welcome/page/electron-browser/vs_code_welcome_page","vs/nls!vs/workbench/parts/welcome/page/electron-browser/welcomePage","vs/nls!vs/workbench/parts/welcome/page/electron-browser/welcomePage.contribution","vs/nls!vs/workbench/parts/welcome/walkThrough/electron-browser/editor/editorWalkThrough","vs/nls!vs/workbench/parts/welcome/walkThrough/electron-browser/walkThrough.contribution","vs/nls!vs/workbench/parts/welcome/walkThrough/electron-browser/walkThroughActions","vs/nls!vs/workbench/parts/welcome/walkThrough/electron-browser/walkThroughPart","vs/nls!vs/workbench/services/configuration/node/configuration","vs/nls!vs/workbench/services/configuration/node/configurationEditingService","vs/nls!vs/workbench/services/crashReporter/common/crashReporterService","vs/nls!vs/workbench/services/editor/browser/editorService","vs/nls!vs/workbench/services/files/electron-browser/fileService","vs/nls!vs/workbench/services/files/node/fileService","vs/nls!vs/workbench/services/keybinding/common/keybindingEditing","vs/nls!vs/workbench/services/keybinding/electron-browser/keybindingService","vs/nls!vs/workbench/services/message/browser/messageList","vs/nls!vs/workbench/services/message/electron-browser/messageService","vs/nls!vs/workbench/services/mode/common/workbenchModeService","vs/nls!vs/workbench/services/progress/browser/progressService2","vs/nls!vs/workbench/services/textMate/electron-browser/TMGrammars","vs/nls!vs/workbench/services/textMate/electron-browser/TMSyntax","vs/nls!vs/workbench/services/textfile/common/textFileEditorModel","vs/nls!vs/workbench/services/textfile/common/textFileService","vs/nls!vs/workbench/services/textfile/electron-browser/textFileService","vs/nls!vs/workbench/services/themes/common/colorThemeSchema","vs/nls!vs/workbench/services/themes/common/fileIconThemeSchema","vs/nls!vs/workbench/services/themes/electron-browser/colorThemeData","vs/nls!vs/workbench/services/themes/electron-browser/workbenchThemeService","vs/platform/clipboard/electron-browser/clipboardService","vs/platform/extensionManagement/common/extensionManagementIpc","vs/platform/extensions/common/ipcRemoteCom","vs/nls!vs/editor/contrib/clipboard/browser/clipboard","vs/nls!vs/editor/contrib/caretOperations/common/transpose","vs/nls!vs/editor/contrib/caretOperations/common/caretOperations","vs/nls!vs/editor/contrib/bracketMatching/common/bracketMatching","vs/nls!vs/editor/common/view/editorColorRegistry","vs/nls!vs/editor/common/services/modelServiceImpl","vs/nls!vs/editor/common/services/bulkEdit","vs/nls!vs/editor/common/modes/modesRegistry","vs/editor/contrib/snippet/browser/snippetSession","vs/editor/contrib/folding/common/foldingModel","vs/editor/contrib/find/common/findDecorations","vs/editor/common/viewModel/viewModelImpl","vs/editor/common/services/webWorker","vs/editor/contrib/smartSelect/common/tokenSelectionSupport","vs/editor/common/viewModel/characterHardWrappingLineMapper","vs/editor/common/model/editableTextModel","vs/editor/contrib/links/common/links","vs/editor/common/model/textModelWithMarkers","vs/editor/common/model/textModelWithTokens","vs/editor/common/services/resourceConfigurationImpl","vs/nls!vs/editor/common/model/textModelWithTokens","vs/editor/common/controller/cursor","vs/editor/common/modes/editorModeContext","vs/platform/actions/common/menu","vs/nls!vs/editor/common/controller/cursor","vs/editor/contrib/linesOperations/common/moveLinesCommand","vs/editor/common/controller/cursorCollection","vs/editor/common/controller/oneCursor","vs/editor/common/controller/cursorColumnSelection","vs/platform/actions/common/menuService","vs/platform/commands/common/commandService","vs/platform/extensions/common/abstractExtensionService","vs/nls!vs/editor/common/config/editorOptions","vs/nls!vs/editor/common/config/commonEditorConfig","vs/platform/instantiation/common/instantiationService","vs/nls!vs/editor/browser/widget/diffReview","vs/platform/keybinding/common/abstractKeybindingService","vs/base/parts/quickopen/browser/quickOpenWidget","vs/nls!vs/base/parts/tree/browser/treeDefaults","vs/platform/contextkey/browser/contextKeyService","vs/nls!vs/base/parts/quickopen/browser/quickOpenWidget","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/nls!vs/base/parts/quickopen/browser/quickOpenModel","stream","vs/platform/markers/common/markerService","vs/nls!vs/base/node/processes","vs/nls!vs/base/common/severity","vs/nls!vs/base/common/processes","vs/platform/message/common/messageIpc","vs/nls!vs/base/common/keybindingLabels","vs/platform/environment/node/http","vs/nls!vs/base/common/jsonErrorMessages","vs/platform/environment/node/environmentService","vs/platform/opener/browser/openerService","vs/nls!vs/base/common/errorMessage","vs/editor/contrib/hover/browser/modesGlyphHover","vs/platform/opener/browser/opener.contribution","vs/nls!vs/base/browser/ui/toolbar/toolbar","vs/base/browser/ui/resourceviewer/resourceViewer","vs/nls!vs/base/browser/ui/resourceviewer/resourceViewer","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/nls!vs/base/browser/ui/findinput/findInputCheckboxes","vs/editor/common/services/modelServiceImpl","vs/editor/contrib/dnd/browser/dnd","vs/nls!vs/base/browser/ui/findinput/findInput","vs/nls!vs/base/browser/ui/aria/aria","vs/nls!vs/base/browser/ui/actionbar/actionbar","vs/editor/common/services/languagesRegistry","vs/editor/common/services/modeServiceImpl","vs/editor/contrib/suggest/browser/completionModel","vs/platform/configuration/node/configurationService","vs/editor/contrib/smartSelect/common/tokenTree","vs/platform/actions/electron-browser/menusExtensionPoint","vs/platform/jsonschemas/common/jsonValidationExtensionPoint","vs/editor/contrib/quickFix/browser/quickFixWidget","vs/editor/contrib/quickFix/browser/lightBulbWidget","vs/editor/contrib/linesOperations/common/sortLinesCommand","vs/platform/search/common/replace","vs/editor/contrib/linesOperations/common/deleteLinesCommand","vs/editor/contrib/linesOperations/common/copyLinesCommand","vs/editor/contrib/inPlaceReplace/common/inPlaceReplaceCommand","vs/editor/contrib/folding/common/indentFoldStrategy","vs/editor/browser/view/viewOverlays","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/editor/contrib/folding/common/folding","vs/platform/integrity/node/integrityServiceImpl","vs/platform/storage/common/storageService","vs/platform/telemetry/browser/errorTelemetry","vs/platform/telemetry/browser/idleMonitor","vs/editor/contrib/find/common/replacePattern","vs/editor/contrib/find/common/replaceAllCommand","vs/editor/common/commonCodeEditor","vs/editor/contrib/find/common/findState","vs/editor/browser/view/viewController","vs/editor/contrib/caretOperations/common/caretOperations","vs/editor/contrib/caretOperations/common/transpose","vs/editor/contrib/clipboard/browser/clipboard","vs/editor/contrib/codelens/browser/codelens","vs/editor/contrib/comment/common/comment","vs/editor/contrib/dnd/common/dragAndDropCommand","vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/editor/contrib/comment/common/lineCommentCommand","vs/editor/contrib/caretOperations/common/moveCaretCommand","vs/editor/common/viewModel/viewModelDecorations","vs/editor/contrib/format/browser/formatActions","vs/editor/common/viewLayout/viewLayout","vs/editor/contrib/hover/common/hover","vs/editor/contrib/hover/browser/modesContentHover","vs/editor/contrib/indentation/common/indentation","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/contrib/multicursor/common/multicursor","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/contrib/quickFix/browser/quickFix","vs/editor/contrib/quickFix/browser/quickFixModel","vs/editor/contrib/quickFix/browser/quickFixCommands","vs/editor/contrib/quickOpen/common/quickOpen","vs/editor/contrib/smartSelect/common/smartSelect","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/contrib/suggest/browser/suggestModel","vs/editor/browser/viewParts/decorations/decorations","vs/editor/contrib/wordOperations/common/wordOperations","vs/platform/contextview/browser/contextViewService","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/common/services/editorSimpleWorker","vs/editor/common/model/mirrorModel","vs/editor/common/viewLayout/linesLayout","vs/editor/common/viewLayout/whitespaceComputer","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/view/viewEventDispatcher","vs/editor/browser/services/codeEditorServiceImpl","vs/editor/browser/viewParts/editorScrollbar/editorScrollbar","vs/editor/common/view/viewContext","vs/editor/common/view/runtimeMinimapCharRenderer","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/browser/view/viewOutgoingEvents","vs/editor/browser/viewParts/lines/viewLines","vs/editor/browser/viewParts/minimap/minimap","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/selections/selections","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/viewParts/currentLineMarginHighlight/currentLineMarginHighlight","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/common/standalone/standaloneBase","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/browser/widget/diffReview","vs/editor/common/services/abstractCodeEditorService","vs/editor/common/modes/supports/electricCharacter","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/browser/view/viewImpl","vs/editor/common/modes/tokenizationRegistry","vs/editor/common/modes/supports/tokenization","vs/editor/common/modes/supports/onEnter","vs/editor/common/modes/supports/inplaceReplaceSupport","vs/editor/contrib/bracketMatching/common/bracketMatching","vs/editor/contrib/codelens/browser/codelensWidget","vs/editor/contrib/codelens/browser/codelensController","vs/editor/contrib/find/browser/findOptionsWidget","vs/editor/contrib/find/browser/findWidget","vs/editor/common/modes/supports/indentRules","vs/editor/contrib/goToDeclaration/browser/messageController","vs/editor/contrib/gotoError/browser/gotoError","vs/editor/contrib/hover/browser/hover","vs/editor/contrib/inPlaceReplace/common/inPlaceReplace","vs/editor/contrib/links/browser/links","vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/editor/contrib/parameterHints/browser/parameterHints","vs/nls!vs/editor/contrib/find/browser/findWidget","vs/editor/contrib/rename/browser/rename","vs/editor/contrib/suggest/browser/suggestWidget","vs/editor/common/modes/supports/characterPair","vs/editor/common/modes/linkComputer","vs/editor/common/modes/languageFeatureRegistry","vs/editor/common/modes/languageSelector","vs/platform/update/common/updateIpc","vs/editor/common/modes/abstractMode","vs/editor/common/model/indentationGuesser","vs/platform/url/common/urlIpc","vs/platform/windows/common/windowsIpc","vs/platform/windows/electron-browser/windowService","vs/editor/common/model/indentRanges","vs/editor/common/model/editStack","vs/editor/common/editorAction","vs/editor/common/diff/diffComputer","vs/editor/contrib/goToDeclaration/browser/goToDeclarationMouse","vs/editor/contrib/referenceSearch/browser/referenceSearch","vs/editor/editor.all","vs/platform/extensionManagement/common/extensionEnablementService","vs/workbench/api/node/extHostTypes","vs/editor/common/commands/surroundSelectionCommand","vs/editor/browser/config/elementSizeObserver","vs/editor/browser/config/charWidthReader","vs/css!vs/workbench/services/progress/browser/media/progressService2","vs/css!vs/workbench/services/message/browser/media/messageList","vs/css!vs/workbench/parts/welcome/walkThrough/electron-browser/walkThroughPart","vs/css!vs/workbench/parts/welcome/page/electron-browser/welcomePage","vs/css!vs/workbench/parts/welcome/overlay/browser/welcomeOverlay","vs/css!vs/workbench/parts/watermark/electron-browser/watermark","vs/css!vs/workbench/parts/views/browser/media/views","vs/css!vs/workbench/parts/update/electron-browser/media/update.contribution","vs/css!vs/workbench/parts/terminal/electron-browser/media/xterm","vs/css!vs/workbench/parts/terminal/electron-browser/media/widgets","vs/css!vs/workbench/parts/terminal/electron-browser/media/terminal","vs/css!vs/workbench/parts/terminal/electron-browser/media/scrollbar","vs/css!vs/workbench/parts/tasks/electron-browser/media/task.contribution","vs/css!vs/workbench/parts/search/browser/media/searchviewlet","vs/css!vs/workbench/parts/search/browser/media/search.contribution","vs/css!vs/workbench/parts/scm/electron-browser/media/dirtydiffDecorator","vs/css!vs/workbench/parts/quickopen/browser/media/gotoSymbolHandler","vs/css!vs/workbench/parts/preferences/browser/media/preferences","vs/css!vs/workbench/parts/preferences/browser/media/keybindingsEditor","vs/css!vs/workbench/parts/preferences/browser/media/keybindings","vs/css!vs/workbench/parts/output/browser/media/output","vs/css!vs/workbench/parts/markers/browser/media/markers","vs/css!vs/workbench/parts/files/browser/media/fileactions","vs/css!vs/workbench/parts/files/browser/media/explorerviewlet","vs/css!vs/workbench/parts/feedback/electron-browser/media/feedback","vs/workbench/electron-browser/nodeCachedDataManager","vs/workbench/node/extensionPoints","vs/css!vs/workbench/parts/extensions/electron-browser/media/extensionsViewlet","vs/css!vs/workbench/parts/extensions/electron-browser/media/extensions","vs/workbench/parts/codeEditor/electron-browser/toggleWordWrap","vs/css!vs/workbench/parts/extensions/browser/media/extensionsWidgets","vs/workbench/parts/debug/browser/breakpointWidget","vs/css!vs/workbench/parts/extensions/browser/media/extensionEditor","vs/workbench/parts/debug/browser/debugContentProvider","vs/workbench/parts/debug/browser/debugEditorModelManager","vs/workbench/parts/debug/browser/debugQuickOpen","vs/workbench/parts/debug/common/debugSource","vs/css!vs/workbench/parts/extensions/browser/media/extensionActions","vs/css!vs/workbench/parts/debug/browser/media/repl","vs/workbench/parts/debug/common/replHistory","vs/css!vs/workbench/parts/debug/browser/media/exceptionWidget","vs/workbench/parts/debug/electron-browser/terminalSupport","vs/workbench/parts/debug/node/v8Protocol","vs/workbench/parts/emmet/browser/actions/showEmmetCommands","vs/workbench/parts/emmet/browser/emmet.browser.contribution","vs/workbench/parts/emmet/electron-browser/editorAccessor","vs/css!vs/workbench/parts/debug/browser/media/debugViewlet","vs/css!vs/workbench/parts/debug/browser/media/debugHover","vs/workbench/parts/execution/electron-browser/terminalService","vs/workbench/parts/execution/electron-browser/execution.contribution","vs/css!vs/workbench/parts/debug/browser/media/debugActionsWidget","vs/css!vs/workbench/parts/debug/browser/media/debug.contribution","vs/workbench/parts/extensions/browser/dependenciesViewer","vs/css!vs/workbench/parts/debug/browser/media/breakpointWidget","vs/css!vs/workbench/parts/codeEditor/electron-browser/textMate/inspectTMScopes","vs/css!vs/workbench/parts/codeEditor/electron-browser/media/codeEditor","vs/css!vs/workbench/parts/codeEditor/electron-browser/accessibility","vs/workbench/parts/feedback/electron-browser/feedback","vs/workbench/parts/feedback/electron-browser/feedbackStatusbarItem","vs/workbench/parts/feedback/electron-browser/feedback.contribution","vs/css!vs/workbench/electron-browser/media/workbench","vs/css!vs/workbench/electron-browser/media/shell","vs/css!vs/workbench/browser/parts/titlebar/media/titlebarpart","vs/workbench/parts/files/browser/editors/binaryFileEditor","vs/css!vs/workbench/browser/parts/statusbar/media/statusbarpart","vs/workbench/parts/html/browser/htmlEditorZone","vs/css!vs/workbench/browser/parts/sidebar/media/sidebarpart","vs/css!vs/workbench/browser/parts/quickopen/media/quickopen","vs/css!vs/workbench/browser/parts/media/compositepart","vs/css!vs/workbench/browser/parts/editor/media/titlecontrol","vs/workbench/parts/markers/browser/markersTreeController","vs/workbench/parts/markers/browser/markersTreeViewer","vs/css!vs/workbench/browser/parts/editor/media/textdiffeditor","vs/workbench/parts/output/common/outputLinkProvider","vs/css!vs/workbench/browser/parts/editor/media/tabstitle","vs/css!vs/workbench/browser/parts/editor/media/notabstitle","vs/workbench/parts/codeEditor/electron-browser/wordWrapMigration","vs/css!vs/workbench/browser/parts/editor/media/editorstatus","vs/workbench/parts/preferences/common/preferencesContentProvider","vs/css!vs/workbench/browser/parts/editor/media/editorpicker","vs/workbench/parts/preferences/common/smartSnippetInserter","vs/workbench/parts/quickopen/browser/helpHandler","vs/workbench/parts/relauncher/electron-browser/relauncher.contribution","vs/css!vs/workbench/browser/parts/editor/media/editorpart","vs/css!vs/workbench/browser/parts/editor/media/editorGroupsControl","vs/workbench/parts/search/browser/patternInputWidget","vs/css!vs/workbench/browser/parts/activitybar/media/activitybarpart","vs/css!vs/workbench/browser/parts/activitybar/media/activityaction","vs/css!vs/workbench/browser/media/part","vs/css!vs/workbench/browser/actions/media/actions","vs/css!vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/workbench/parts/snippets/electron-browser/insertSnippet","vs/css!vs/editor/contrib/zoneWidget/browser/peekViewWidget","vs/workbench/parts/debug/electron-browser/replEditor","vs/workbench/parts/surveys/electron-browser/languageSurveys.contribution","vs/workbench/parts/surveys/electron-browser/nps.contribution","vs/css!vs/editor/contrib/suggest/browser/media/suggest","vs/css!vs/editor/contrib/snippet/browser/snippetSession","vs/css!vs/editor/contrib/rename/browser/renameInputField","vs/workbench/parts/tasks/common/taskTemplates","vs/css!vs/editor/contrib/referenceSearch/browser/referencesWidget","vs/css!vs/editor/contrib/quickFix/browser/lightBulbWidget","vs/css!vs/editor/contrib/parameterHints/browser/parameterHints","vs/workbench/parts/tasks/browser/taskQuickOpen","vs/css!vs/editor/contrib/links/browser/links","vs/workbench/parts/tasks/electron-browser/jsonSchema_v1","vs/workbench/parts/tasks/electron-browser/jsonSchema_v2","vs/workbench/parts/tasks/electron-browser/terminalTaskSystem","vs/workbench/parts/tasks/node/processRunnerDetector","vs/workbench/parts/tasks/node/processTaskSystem","vs/workbench/parts/tasks/node/taskConfiguration","vs/workbench/parts/terminal/browser/terminalWidgetManager","vs/css!vs/editor/contrib/hover/browser/hover","vs/workbench/parts/debug/electron-browser/rawDebugSession","vs/css!vs/editor/contrib/gotoError/browser/gotoError","vs/css!vs/editor/contrib/goToDeclaration/browser/messageController","vs/workbench/parts/terminal/electron-browser/terminalFindWidget","vs/css!vs/editor/contrib/folding/browser/folding","vs/css!vs/editor/contrib/find/browser/findWidget","vs/css!vs/editor/contrib/dnd/browser/dnd","vs/workbench/parts/welcome/gettingStarted/electron-browser/gettingStarted","vs/workbench/parts/welcome/gettingStarted/electron-browser/gettingStarted.contribution","vs/workbench/parts/welcome/page/electron-browser/vs_code_welcome_page","vs/css!vs/editor/contrib/codelens/browser/codelensWidget","vs/css!vs/editor/contrib/clipboard/browser/clipboard","vs/css!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/css!vs/editor/browser/widget/media/tokens","vs/workbench/services/backup/node/backupFileService","vs/css!vs/editor/browser/widget/media/editor","vs/workbench/parts/terminal/electron-browser/terminalConfigHelper","vs/workbench/parts/trust/electron-browser/unsupportedWorkspaceSettings.contribution","vs/css!vs/editor/browser/widget/media/diffReview","vs/workbench/parts/codeEditor/electron-browser/accessibility","vs/workbench/parts/codeEditor/electron-browser/toggleRenderControlCharacter","vs/workbench/parts/codeEditor/electron-browser/toggleRenderWhitespace","vs/css!vs/editor/browser/widget/media/diffEditor","vs/workbench/services/configuration/common/configurationModels","vs/workbench/services/configuration/node/configuration","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/workbench/parts/debug/node/debugAdapter","vs/workbench/services/contextview/electron-browser/contextmenuService","vs/css!vs/editor/browser/viewParts/selections/selections","vs/workbench/services/crashReporter/electron-browser/crashReporterService","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/workbench/parts/debug/browser/exceptionWidget","vs/workbench/parts/debug/electron-browser/debugConfigurationManager","vs/workbench/parts/extensions/node/extensionsWorkbenchService","vs/workbench/parts/quickopen/browser/gotoLineHandler","vs/workbench/parts/quickopen/browser/gotoSymbolHandler","vs/workbench/parts/search/browser/openSymbolHandler","vs/css!vs/editor/browser/viewParts/minimap/minimap","vs/workbench/parts/search/browser/replaceService","vs/workbench/parts/search/browser/replaceContributions","vs/workbench/parts/terminal/electron-browser/terminalLinkHandler","vs/workbench/parts/welcome/walkThrough/electron-browser/editor/editorWalkThrough","vs/workbench/services/configurationResolver/node/configurationResolverService","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/workbench/services/files/node/watcher/nsfw/watcherIpc","vs/workbench/services/files/node/watcher/nsfw/watcherService","vs/workbench/services/files/node/watcher/unix/watcherIpc","vs/workbench/services/files/node/watcher/unix/watcherService","vs/workbench/services/files/node/watcher/win32/csharpWatcherService","vs/workbench/services/files/node/watcher/win32/watcherService","vs/workbench/services/files/node/fileService","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/workbench/browser/parts/editor/editorPicker","vs/workbench/browser/parts/titlebar/titlebarPart","vs/workbench/services/files/electron-browser/fileService","vs/workbench/services/history/browser/history","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/workbench/services/keybinding/common/macLinuxFallbackKeyboardMapper","vs/workbench/services/keybinding/common/macLinuxKeyboardMapper","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/workbench/parts/preferences/browser/keybindingsEditorContribution","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/workbench/parts/update/electron-browser/update.contribution","vs/workbench/parts/codeEditor/electron-browser/inspectKeybindings","vs/workbench/services/message/browser/messageList","vs/workbench/services/message/browser/messageService","vs/css!vs/editor/browser/viewParts/currentLineMarginHighlight/currentLineMarginHighlight","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/workbench/parts/snippets/electron-browser/snippetsTracker","vs/css!vs/editor/browser/controller/textAreaHandler","vs/workbench/parts/output/browser/outputServices","vs/css!vs/base/parts/tree/browser/tree","vs/css!vs/base/parts/quickopen/browser/quickopen","vs/workbench/browser/actions/configureLocale","vs/css!vs/base/browser/ui/toolbar/toolbar","vs/css!vs/base/browser/ui/splitview/splitview","vs/workbench/browser/actions/toggleSidebarPosition","vs/workbench/browser/actions/toggleSidebarVisibility","vs/workbench/browser/actions/toggleStatusbarVisibility","vs/workbench/browser/actions/toggleZenMode","vs/workbench/browser/parts/panel/panelActions","vs/workbench/browser/parts/statusbar/statusbarPart","vs/workbench/parts/cli/electron-browser/cli.contribution","vs/workbench/parts/codeEditor/electron-browser/toggleMultiCursorModifier","vs/css!vs/base/browser/ui/selectBox/selectBox","vs/workbench/parts/debug/browser/debugActionsWidget","vs/base/parts/tree/browser/treeView","vs/workbench/parts/debug/electron-browser/debugHover","vs/workbench/parts/debug/electron-browser/debugEditorContribution","vs/workbench/parts/debug/electron-browser/replViewer","vs/workbench/parts/debug/electron-browser/repl","vs/workbench/parts/debug/electron-browser/statusbarColorProvider","vs/workbench/parts/execution/electron-browser/terminal.contribution","vs/workbench/parts/html/browser/htmlPreviewPart","vs/workbench/parts/html/browser/html.contribution","vs/base/browser/ui/list/listPaging","vs/base/browser/ui/list/listView","vs/workbench/parts/markers/browser/markersWorkbenchContributions","vs/workbench/parts/markers/electron-browser/markersElectronContributions","vs/workbench/parts/markers/markers.contribution","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/workbench/parts/output/browser/output.contribution","vs/workbench/parts/preferences/common/keybindingsEditorModel","vs/css!vs/base/browser/ui/sash/sash","vs/workbench/parts/snippets/electron-browser/snippets.contribution","vs/workbench/parts/terminal/common/terminalService","vs/css!vs/base/browser/ui/resourceviewer/resourceviewer","vs/workbench/parts/terminal/electron-browser/terminalPanel","vs/workbench/parts/update/electron-browser/releaseNotesEditor","vs/workbench/parts/welcome/overlay/browser/welcomeOverlay","vs/workbench/parts/welcome/page/electron-browser/welcomePage","vs/workbench/parts/welcome/page/electron-browser/welcomePage.contribution","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/workbench/parts/welcome/walkThrough/electron-browser/walkThroughActions","vs/css!vs/base/browser/ui/octiconLabel/octicons/octicons-animations","vs/workbench/parts/scm/electron-browser/dirtydiffDecorator","vs/workbench/parts/scm/electron-browser/scmActivity","vs/workbench/services/scm/common/scmService","vs/workbench/services/search/node/searchIpc","vs/workbench/services/telemetry/common/workspaceStats","vs/css!vs/base/browser/ui/octiconLabel/octicons/octicons","vs/css!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/workbench/parts/emmet/electron-browser/actions/balance","vs/workbench/parts/emmet/electron-browser/actions/editPoints","vs/workbench/parts/emmet/electron-browser/actions/evaluateMath","vs/workbench/parts/emmet/electron-browser/actions/expandAbbreviation","vs/workbench/parts/emmet/electron-browser/actions/incrementDecrement","vs/workbench/parts/emmet/electron-browser/actions/matchingPair","vs/workbench/parts/emmet/electron-browser/actions/mergeLines","vs/workbench/parts/emmet/electron-browser/actions/reflectCssValue","vs/workbench/parts/emmet/electron-browser/actions/removeTag","vs/workbench/parts/emmet/electron-browser/actions/selectItem","vs/workbench/parts/emmet/electron-browser/actions/splitJoinTag","vs/workbench/parts/emmet/electron-browser/actions/toggleComment","vs/workbench/parts/emmet/electron-browser/actions/updateImageSize","vs/workbench/parts/emmet/electron-browser/actions/updateTag","vs/workbench/parts/emmet/electron-browser/actions/wrapWithAbbreviation","vs/workbench/parts/emmet/electron-browser/emmet.contribution","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/workbench/parts/codeEditor/electron-browser/languageConfiguration/languageConfigurationExtensionPoint","vs/css!vs/base/browser/ui/findinput/findInputCheckboxes","vs/css!vs/base/browser/ui/findinput/findInput","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/workbench/browser/parts/editor/noTabsTitleControl","vs/css!vs/base/browser/ui/contextview/contextview","vs/workbench/browser/parts/quickopen/quickopen.contribution","vs/workbench/common/editor/untitledEditorModel","vs/css!vs/base/browser/ui/checkbox/checkbox","vs/css!vs/base/browser/ui/button/button","vs/css!vs/base/browser/ui/aria/aria","vs/workbench/parts/files/common/editors/fileEditorTracker","vs/workbench/parts/output/browser/outputPanel","vs/workbench/parts/preferences/browser/preferencesRenderers","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/workbench/parts/tasks/electron-browser/task.contribution","vs/workbench/parts/welcome/walkThrough/node/walkThroughContentProvider","vs/workbench/parts/welcome/walkThrough/electron-browser/walkThrough.contribution","vs/workbench/services/configuration/node/configurationEditingService","vs/css!vs/base/browser/builder","vs/base/worker/defaultWorkerFactory","vs/workbench/parts/preferences/browser/preferencesService","vs/workbench/parts/preferences/browser/preferences.contribution","vs/base/parts/tree/browser/treeViewModel","vs/workbench/services/textfile/common/textFileEditorModelManager","vs/workbench/services/textfile/electron-browser/modelBuilder","vs/workbench/services/themes/common/colorThemeSchema","vs/workbench/services/themes/common/fileIconThemeSchema","vs/base/parts/tree/browser/treeModel","vs/workbench/parts/codeEditor/electron-browser/textMate/inspectTMScopes","vs/workbench/parts/codeEditor/codeEditor.contribution","vs/workbench/parts/search/browser/openFileHandler","vs/workbench/parts/search/browser/openAnythingHandler","vs/workbench/parts/themes/test/electron-browser/themes.test.contribution","vs/workbench/services/themes/electron-browser/themeCompatibility","vs/workbench/services/themes/electron-browser/colorThemeData","vs/workbench/parts/update/electron-browser/update","vs/workbench/services/thread/common/abstractThreadService","vs/base/parts/quickopen/browser/quickOpenViewer","vs/base/parts/ipc/electron-browser/ipc.electron-browser","vs/workbench/api/electron-browser/mainThreadCommands","vs/workbench/api/electron-browser/mainThreadConfiguration","vs/workbench/api/electron-browser/mainThreadDebugService","vs/workbench/api/electron-browser/mainThreadDiagnostics","vs/workbench/api/electron-browser/mainThreadEditor","vs/workbench/api/electron-browser/mainThreadDocumentsAndEditors","vs/workbench/api/electron-browser/mainThreadEditors","vs/workbench/api/electron-browser/mainThreadErrors","vs/base/parts/ipc/common/ipc.electron","vs/workbench/api/electron-browser/mainThreadFileSystemEventService","vs/base/node/mime","vs/workbench/parts/extensions/electron-browser/extensions.contribution","vs/workbench/api/electron-browser/mainThreadLanguageFeatures","vs/workbench/api/electron-browser/mainThreadLanguages","vs/workbench/api/electron-browser/mainThreadMessageService","vs/workbench/api/electron-browser/mainThreadOutputService","vs/workbench/api/electron-browser/mainThreadProgress","vs/workbench/api/electron-browser/mainThreadQuickOpen","vs/workbench/api/electron-browser/mainThreadSCM","vs/workbench/api/electron-browser/mainThreadSaveParticipant","vs/workbench/api/electron-browser/mainThreadStatusBar","vs/workbench/api/electron-browser/mainThreadStorage","vs/workbench/api/electron-browser/mainThreadTask","vs/workbench/api/electron-browser/mainThreadTelemetry","vs/workbench/api/electron-browser/mainThreadTerminalService","vs/workbench/api/electron-browser/mainThreadTreeViews","vs/workbench/api/electron-browser/mainThreadWorkspace","vs/workbench/services/thread/electron-browser/threadService","vs/workbench/electron-browser/main","vs/workbench/services/timer/node/timerService","vs/base/node/startupTimers","vs/workbench/electron-browser/shell","vs/platform/request/electron-browser/requestService","vs/workbench/api/electron-browser/mainThreadDocuments","vs/workbench/api/electron-browser/extensionHost.contribution","vs/workbench/browser/parts/editor/editorStatus","vs/workbench/parts/backup/common/backupModelTracker","vs/workbench/parts/backup/common/backupRestorer","vs/workbench/parts/backup/common/backup.contribution","vs/workbench/parts/files/common/dirtyFilesTracker","vs/platform/request/node/requestService","vs/workbench/browser/parts/editor/tabsTitleControl","vs/workbench/browser/parts/editor/editorGroupsControl","url","vs/workbench/browser/parts/editor/editorCommands","vs/workbench/browser/parts/editor/editor.contribution","vs/workbench/services/search/node/searchService","vs/workbench/services/textfile/common/textFileService","vs/workbench/services/textmodelResolver/common/textModelResolverService","vs/base/node/proxy","vs/workbench/browser/layout","vs/workbench/browser/parts/activitybar/activitybarActions","vs/workbench/browser/parts/activitybar/activitybarPart","vs/base/node/profiler","vs/workbench/parts/debug/browser/debugEditorActions","vs/workbench/parts/debug/electron-browser/debugCommands","vs/base/node/ports","vs/workbench/parts/extensions/browser/extensionEditor","vs/workbench/parts/extensions/browser/extensionsList","vs/workbench/parts/extensions/browser/extensionsQuickOpen","vs/workbench/parts/extensions/electron-browser/extensionTipsService","vs/workbench/parts/files/browser/editors/textFileEditor","vs/base/node/paths","vs/platform/extensionManagement/node/extensionGalleryService","assert","vs/workbench/parts/files/browser/files.contribution","vs/base/browser/ui/list/rangeMap","vs/workbench/parts/files/browser/views/openEditorsViewer","vs/workbench/parts/quickopen/browser/viewPickerHandler","vs/workbench/parts/quickopen/browser/quickopen.contribution","vs/workbench/parts/scm/electron-browser/scm.contribution","vs/workbench/parts/scm/electron-browser/scmMenus","vs/workbench/parts/scm/electron-browser/scmViewlet","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/workbench/parts/search/browser/searchResultsView","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/workbench/parts/search/browser/search.contribution","vs/workbench/parts/themes/electron-browser/themes.contribution","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/workbench/parts/debug/browser/debugViewlet","vs/workbench/parts/debug/electron-browser/debugViews","vs/workbench/parts/extensions/electron-browser/extensionsViews","vs/workbench/parts/files/browser/views/explorerView","vs/workbench/parts/files/browser/views/openEditorsView","vs/workbench/parts/views/browser/treeView","vs/workbench/parts/views/browser/viewsExtensionPoint","vs/base/browser/ui/list/rowCache","vs/base/common/callbackList","vs/workbench/browser/parts/editor/editorPart","vs/workbench/browser/parts/panel/panelPart","vs/workbench/browser/parts/sidebar/sidebarPart","vs/workbench/services/progress/browser/progressService2","vs/workbench/services/viewlet/browser/viewletService","vs/base/common/cache","vs/workbench/parts/terminal/electron-browser/terminal.contribution","vs/base/common/numbers","vs/workbench/electron-browser/window","vs/workbench/parts/debug/electron-browser/debugService","vs/workbench/parts/debug/electron-browser/debug.contribution","vs/base/common/graph","vs/workbench/parts/terminal/electron-browser/terminalService","vs/workbench/parts/performance/electron-browser/performance.contribution","vs/workbench/services/lifecycle/electron-browser/lifecycleService","vs/workbench/services/message/electron-browser/messageService","vs/workbench/services/textfile/electron-browser/textFileService","vs/workbench/services/themes/electron-browser/workbenchThemeService","vs/base/common/jsonFormatter","vs/base/common/hash","vs/workbench/parts/files/browser/fileActions.contribution","vs/workbench/parts/files/browser/views/emptyView","vs/workbench/parts/files/browser/explorerViewlet","vs/workbench/parts/search/browser/searchViewlet","vs/workbench/parts/watermark/electron-browser/watermark","vs/workbench/services/workspace/node/workspaceEditingService","vs/base/common/diff/diffChange","vs/workbench/electron-browser/commands","vs/workbench/electron-browser/main.contribution","vs/workbench/services/textMate/electron-browser/TMSyntax","vs/workbench/parts/terminal/electron-browser/terminalInstance","vs/platform/telemetry/node/workbenchCommonProperties","getmac","winreg","xterm","vs/base/common/marked/raw.marked","vs/base/common/winjs.base.raw","string_decoder","https","http","zlib","vscode-textmate","http-proxy-agent","https-proxy-agent","iconv-lite","jschardet","graceful-fs","gc-signals","fast-plist","native-keymap","vs/workbench/electron-browser/workbench.main"],d=function(e){for(var t=[],n=0,i=e.length;n<i;n++)t[n]=u[e[n]];return t};define(u[395],d([1,0]),function(e,t){"use strict";function n(e){if(!e.parent||e.parent===e)return null;try{var t=e.location,n=e.parent.location;if(t.protocol!==n.protocol||t.hostname!==n.hostname||t.port!==n.port)return r=!0,null}catch(e){return r=!0,null}return e.parent}function i(e,t){for(var n,i=e.document.getElementsByTagName("iframe"),r=0,o=i.length;r<o;r++)if((n=i[r]).contentWindow===t)return n;return null}Object.defineProperty(t,"__esModule",{value:!0});var r=!1,o=null,s=function(){function e(){}return e.getSameOriginWindowChain=function(){if(!o){o=[];var e,t=window;do{(e=n(t))?o.push({window:t,iframeElement:i(e,t)}):o.push({window:t,iframeElement:null}),t=e}while(t)}return o.slice(0)},e.hasDifferentOriginAncestor=function(){return o||this.getSameOriginWindowChain(),r},e.getPositionOfChildWindowRelativeToAncestorWindow=function(e,t){if(!t||e===t)return{top:0,left:0};for(var n=0,i=0,r=this.getSameOriginWindowChain(),o=0;o<r.length;o++){var s=r[o];if(s.window===t)break;if(!s.iframeElement)break;var a=s.iframeElement.getBoundingClientRect();n+=a.top,i+=a.left}return{top:n,left:i}},e}();t.IframeUtils=s}),define(u[1302],d([1,0]),function(e,t){"use strict";function n(e,t){if(e.start>=t.end||t.start>=e.end)return null;var n=Math.max(e.start,t.start),i=Math.min(e.end,t.end);return i-n<=0?null:{start:n,end:i}}function i(e){return e.end-e.start<=0}function r(e,t){for(var i=[],r=0,o=t;r<o.length;r++){var s=o[r];if(!(e.start>=s.range.end)){if(e.end<s.range.start)break;var a=n(e,s.range);a&&i.push({range:a,size:s.size})}}return i}function o(e,t){return{start:e.start+t,end:e.end+t}}function s(e){for(var t=[],n=null,i=0,r=e;i<r.length;i++){var o=r[i],s=o.range.start,a=o.range.end,c=o.size;n&&c===n.size?n.range.end=a:(n={range:{start:s,end:a},size:c},t.push(n))}return t}function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s(e.reduce(function(e,t){return e.concat(t)},[]))}Object.defineProperty(t,"__esModule",{value:!0}),t.intersect=n,t.isEmpty=i,t.relativeComplement=function(e,t){var n=[],r={start:e.start,end:Math.min(t.start,e.end)},o={start:Math.max(t.end,e.start),end:e.end};return i(r)||n.push(r),i(o)||n.push(o),n},t.each=function(e,t){for(var n=e.start;n<e.end;n++)t(n)},t.groupIntersect=r,t.consolidate=s;var c=function(){function e(){this.groups=[],this._size=0}return e.prototype.splice=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var s=n.length-t,c=r({start:0,end:e},this.groups),l=r({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map(function(e){return{range:o(e.range,s),size:e.size}}),u=n.map(function(t,n){return{range:{start:e+n,end:e+n+1},size:t.size}});this.groups=a(c,u,l),this._size=this.groups.reduce(function(e,t){return e+t.size*(t.range.end-t.range.start)},0)},Object.defineProperty(e.prototype,"count",{get:function(){var e=this.groups.length;return e?this.groups[e-1].range.end:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),e.prototype.indexAt=function(e){if(e<0)return-1;for(var t=0,n=0,i=0,r=this.groups;i<r.length;i++){var o=r[i],s=o.range.end-o.range.start,a=n+s*o.size;if(e<a)return t+Math.floor((e-n)/o.size);t+=s,n=a}return t},e.prototype.indexAfter=function(e){return Math.min(this.indexAt(e)+1,this.count)},e.prototype.positionAt=function(e){if(e<0)return-1;for(var t=0,n=0,i=0,r=this.groups;i<r.length;i++){var o=r[i],s=o.range.end-o.range.start,a=n+s;if(e<a)return t+(e-n)*o.size;t+=s*o.size,n=a}return-1},e.prototype.dispose=function(){this.groups=null},e}();t.RangeMap=c}),define(u[332],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,n){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(n),this._arrowSize=Math.round(e),this._visibleSize=0,this._scrollSize=0,this._scrollPosition=0,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}return e.prototype.clone=function(){var t=new e(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize);return t.setVisibleSize(this._visibleSize),t.setScrollSize(this._scrollSize),t.setScrollPosition(this._scrollPosition),t},e.prototype.setVisibleSize=function(e){var t=Math.round(e);return this._visibleSize!==t&&(this._visibleSize=t,this._refreshComputedValues(),!0)},e.prototype.setScrollSize=function(e){var t=Math.round(e);return this._scrollSize!==t&&(this._scrollSize=t,this._refreshComputedValues(),!0)},e.prototype.setScrollPosition=function(e){var t=Math.round(e);return this._scrollPosition!==t&&(this._scrollPosition=t,this._refreshComputedValues(),!0)},e._computeValues=function(e,t,n,i,r){var o=Math.max(0,n-e),s=Math.max(0,o-2*t),a=i>0&&i>n;if(!a)return{computedAvailableSize:Math.round(o),computedIsNeeded:a,computedSliderSize:Math.round(s),computedSliderRatio:0,computedSliderPosition:0};var c=Math.round(Math.max(20,Math.floor(n*s/i))),l=(s-c)/(i-n),u=r*l;return{computedAvailableSize:Math.round(o),computedIsNeeded:a,computedSliderSize:Math.round(c),computedSliderRatio:l,computedSliderPosition:Math.round(u)}},e.prototype._refreshComputedValues=function(){var t=e._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=t.computedAvailableSize,this._computedIsNeeded=t.computedIsNeeded,this._computedSliderSize=t.computedSliderSize,this._computedSliderRatio=t.computedSliderRatio,this._computedSliderPosition=t.computedSliderPosition},e.prototype.getArrowSize=function(){return this._arrowSize},e.prototype.getScrollPosition=function(){return this._scrollPosition},e.prototype.getRectangleLargeSize=function(){return this._computedAvailableSize},e.prototype.getRectangleSmallSize=function(){return this._scrollbarSize},e.prototype.isNeeded=function(){return this._computedIsNeeded},e.prototype.getSliderSize=function(){return this._computedSliderSize},e.prototype.getSliderPosition=function(){return this._computedSliderPosition},e.prototype.getSliderCenter=function(){return this._computedSliderPosition+this._computedSliderSize/2},e.prototype.getDesiredScrollPositionFromOffset=function(e){if(!this._computedIsNeeded)return 0;var t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)},e.prototype.getDesiredScrollPositionFromDelta=function(e){if(!this._computedIsNeeded)return 0;var t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)},e}();t.ScrollbarState=n}),define(u[34],d([1,0]),function(e,t){"use strict";function n(e,t){var n=0,i=e.length;if(0===i)return 0;for(;n<i;){var r=Math.floor((n+i)/2);t(e[r])?i=r:n=r+1}return n}function i(e,t){if(!(e.length<=1)){var n=e.length/2|0,r=e.slice(0,n),o=e.slice(n);i(r,t),i(o,t);for(var s=0,a=0,c=0;s<r.length&&a<o.length;){var l=t(r[s],o[a]);e[c++]=l<=0?r[s++]:o[a++]}for(;s<r.length;)e[c++]=r[s++];for(;a<o.length;)e[c++]=o[a++]}}function r(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}Object.defineProperty(t,"__esModule",{value:!0}),t.tail=function(e,t){return void 0===t&&(t=0),e[e.length-(1+t)]},t.equals=function(e,t,n){if(void 0===n&&(n=function(e,t){return e===t}),e.length!==t.length)return!1;for(var i=0,r=e.length;i<r;i++)if(!n(e[i],t[i]))return!1;return!0},t.binarySearch=function(e,t,n){for(var i=0,r=e.length-1;i<=r;){var o=(i+r)/2|0,s=n(e[o],t);if(s<0)i=o+1;else{if(!(s>0))return o;r=o-1}}return-(i+1)},t.findFirst=n,t.mergeSort=function(e,t){return i(e,t),e},t.groupBy=function(e,t){for(var n,i=[],r=0,o=e.slice(0).sort(t);r<o.length;r++){var s=o[r];n&&0===t(n[0],s)?n.push(s):(n=[s],i.push(n))}return i},t.delta=function(e,t,n){for(var i=[],r=[],o=0,s=0;;){if(o===e.length){r.push.apply(r,t.slice(s));break}if(s===t.length){i.push.apply(i,e.slice(o));break}var a=e[o],c=t[s],l=n(a,c);0===l?(o+=1,s+=1):l<0?(i.push(a),o+=1):l>0&&(r.push(c),s+=1)}return{removed:i,added:r}},t.top=function(e,t,i){if(0===i)return[];for(var r=e.slice(0,i).sort(t),o=i,s=e.length;o<s;o++)!function(o,s){var a=e[o];if(t(a,r[i-1])<0){r.pop();var c=n(r,function(e){return t(a,e)<0});r.splice(c,0,a)}}(o);return r},t.coalesce=function(e){return e?e.filter(function(e){return!!e}):e},t.move=function(e,t,n){e.splice(n,0,e.splice(t,1)[0])},t.isFalsyOrEmpty=function(e){return!Array.isArray(e)||0===e.length},t.distinct=function(e,t){if(!t)return e.filter(function(t,n){return e.indexOf(t)===n});var n=Object.create(null);return e.filter(function(e){var i=t(e);return!n[i]&&(n[i]=!0,!0)})},t.uniqueFilter=function(e){var t=Object.create(null);return function(n){var i=e(n);return!t[i]&&(t[i]=!0,!0)}},t.firstIndex=r,t.first=function(e,t,n){void 0===n&&(n=null);var i=r(e,t);return i<0?n:e[i]},t.commonPrefixLength=function(e,t,n){void 0===n&&(n=function(e,t){return e===t});for(var i=0,r=0,o=Math.min(e.length,t.length);r<o&&n(e[r],t[r]);r++)i++;return i},t.flatten=function(e){return e.reduce(function(e,t){return e.concat(t)},[])},t.range=function(e,t){void 0===t&&(t=0);for(var n=[],i=t;i<e;i++)n.push(i);return n},t.fill=function(e,t,n){void 0===n&&(n=[]);for(var i=0;i<e;i++)n[i]=t();return n},t.index=function(e,t,n){return void 0===n&&(n=function(e){return e}),e.reduce(function(e,i){var r=t(i);return e[r]=n(i,e[r]),e},Object.create(null))},t.insert=function(e,t){return e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}},t.arrayInsert=function(e,t,n){var i=e.slice(0,t),r=e.slice(t);return i.concat(n,r)}}),define(u[144],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ok=function(e,t){if(!e||null===e)throw new Error(t?"Assertion failed ("+t+")":"Assertion Failed")}}),define(u[131],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.prototype.hasOwnProperty;t.values=function(e){var t=[];for(var i in e)n.call(e,i)&&t.push(e[i]);return t},t.size=function(e){var t=0;for(var i in e)n.call(e,i)&&(t+=1);return t},t.forEach=function(e,t){for(var i in e){var r=function(i){if(n.call(e,i)&&!1===t({key:i,value:e[i]},function(){delete e[i]}))return{value:void 0}}(i);if("object"==typeof r)return r.value}},t.remove=function(e,t){return!!n.call(e,t)&&(delete e[t],!0)},t.groupBy=function(e,t){for(var n=Object.create(null),i=0,r=e;i<r.length;i++){var o=r[i],s=t(o),a=n[s];a||(a=n[s]=[]),a.push(o)}return n}}),define(u[58],d([1,0]),function(e,t){"use strict";function n(e){if(!e)return null;var t=e.length;if(0===t)return null;if(35!==e.charCodeAt(0))return null;if(7===t){var n=16*i(e.charCodeAt(1))+i(e.charCodeAt(2)),r=16*i(e.charCodeAt(3))+i(e.charCodeAt(4)),o=16*i(e.charCodeAt(5))+i(e.charCodeAt(6));return new a(n,r,o,255)}if(9===t){var n=16*i(e.charCodeAt(1))+i(e.charCodeAt(2)),r=16*i(e.charCodeAt(3))+i(e.charCodeAt(4)),o=16*i(e.charCodeAt(5))+i(e.charCodeAt(6)),s=16*i(e.charCodeAt(7))+i(e.charCodeAt(8));return new a(n,r,o,s)}if(4===t){var n=i(e.charCodeAt(1)),r=i(e.charCodeAt(2)),o=i(e.charCodeAt(3));return new a(16*n+n,16*r+r,16*o+o)}if(5===t){var n=i(e.charCodeAt(1)),r=i(e.charCodeAt(2)),o=i(e.charCodeAt(3)),s=i(e.charCodeAt(4));return new a(16*n+n,16*r+r,16*o+o,16*s+s)}return null}function i(e){switch(e){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}function r(e){var t=e.r/255,n=e.g/255,i=e.b/255,r=e.a/255,o=Math.max(t,n,i),s=Math.min(t,n,i),a=0,l=0,u=Math.round((s+o)/2*1e3)/1e3,d=o-s;if(d>0){switch(l=Math.min(Math.round(1e3*(u<=.5?d/(2*u):d/(2-2*u)))/1e3,1),o){case t:a=(n-i)/d+(n<i?6:0);break;case n:a=(i-t)/d+2;break;case i:a=(t-n)/d+4}a*=60,a=Math.round(a)}return new c(a,l,u,r)}function o(e){var t,n,i,r=e.h/360,o=Math.min(e.s,1),c=Math.min(e.l,1),l=e.a;if(0===o)t=n=i=c;else{var u=c<.5?c*(1+o):c+o-c*o,d=2*c-u;t=s(d,u,r+1/3),n=s(d,u,r),i=s(d,u,r-1/3)}return new a(Math.round(255*t),Math.round(255*n),Math.round(255*i),Math.round(255*l))}function s(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(t,n,i,r){void 0===r&&(r=255),this.r=e._clampInt_0_255(t),this.g=e._clampInt_0_255(n),this.b=e._clampInt_0_255(i),this.a=e._clampInt_0_255(r)}return e.equals=function(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a},e._clampInt_0_255=function(e){return e<0?0:e>255?255:0|e},e}();t.RGBA=a;var c=function(){function e(t,n,i,r){this.h=e._clampFloat_0_360(t),this.s=e._clampFloat_0_1(n),this.l=e._clampFloat_0_1(i),this.a=e._clampFloat_0_1(r)}return e._clampFloat_0_360=function(e){return e<0?0:e>360?360:e},e._clampFloat_0_1=function(e){return e<0?0:e>1?1:e},e}();t.HSLA=c;var l=/^#[0-9A-Fa-f]{3,8}$/i;t.isValidHexColor=function(e){return l.test(e)&&6!==e.length&&8!==e.length};var u=function(){function e(e){this.rgba=e}return e.fromRGBA=function(t){return new e(t)},e.fromHex=function(t,i){void 0===i&&(i=e.red);var r=n(t);return r?new e(r):i},e.fromHSLA=function(t){return new e(o(t))},e.prototype.equals=function(e){return!!e&&a.equals(this.rgba,e.rgba)},e.prototype.getLuminosity=function(){var t=.2126*e._luminosityFor(this.rgba.r)+.7152*e._luminosityFor(this.rgba.g)+.0722*e._luminosityFor(this.rgba.b);return Math.round(1e4*t)/1e4},e._luminosityFor=function(e){var t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)},e.prototype.getContrast=function(e){var t=this.getLuminosity(),n=e.getLuminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},e.prototype.isDarker=function(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3<128},e.prototype.isLighter=function(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128},e.prototype.isLighterThan=function(e){return this.getLuminosity()>e.getLuminosity()},e.prototype.isDarkerThan=function(e){return this.getLuminosity()<e.getLuminosity()},e.prototype.lighten=function(t){var n=this.toHSLA();return new e(o(new c(n.h,n.s,n.l+n.l*t,n.a)))},e.prototype.darken=function(t){var n=this.toHSLA();return new e(o(new c(n.h,n.s,n.l-n.l*t,n.a)))},e.prototype.transparent=function(t){var n=this.rgba;return new e(new a(n.r,n.g,n.b,Math.round(n.a*t)))},e.prototype.isTransparent=function(){return 0===this.rgba.a},e.prototype.opposite=function(){return new e(new a(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))},e.prototype.toString=function(){var e=this.rgba;return 255===e.a?this.toRGBHex():"rgba("+e.r+", "+e.g+", "+e.b+", "+ +(e.a/255).toFixed(2)+")"},e.prototype.toRGBHex=function(){var t=this.rgba;return"#"+e._toTwoDigitHex(t.r)+e._toTwoDigitHex(t.g)+e._toTwoDigitHex(t.b)},e.prototype.toRGBAHex=function(t){void 0===t&&(t=!1);var n=this.rgba;return t&&255===n.a?this.toRGBHex():"#"+e._toTwoDigitHex(n.r)+e._toTwoDigitHex(n.g)+e._toTwoDigitHex(n.b)+e._toTwoDigitHex(n.a)},e._toTwoDigitHex=function(e){var t=e.toString(16);return 2!==t.length?"0"+t:t},e.prototype.toHSLA=function(){return r(this.rgba)},e.prototype.toRGBA=function(){return this.rgba},e.getLighterColor=function(e,t,n){if(e.isLighterThan(t))return e;n=n||.5;var i=e.getLuminosity(),r=t.getLuminosity();return n=n*(r-i)/r,e.lighten(n)},e.getDarkerColor=function(e,t,n){if(e.isDarkerThan(t))return e;n=n||.5;var i=e.getLuminosity();return n=n*(i-t.getLuminosity())/i,e.darken(n)},e}();u.white=new u(new a(255,255,255,255)),u.black=new u(new a(0,0,0,255)),u.red=new u(new a(255,0,0,255)),u.blue=new u(new a(0,0,255,255)),u.green=new u(new a(0,255,0,255)),u.cyan=new u(new a(0,255,255,255)),u.lightgrey=new u(new a(211,211,211,255)),u.transparent=new u(new a(0,0,0,0)),t.Color=u}),define(u[261],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.memoize=function(e,t,n){var i=null,r=null;if("function"==typeof n.value?(i="value",r=n.value):"function"==typeof n.get&&(i="get",r=n.get),!r)throw new Error("not supported");var o="$memoize$"+t;n[i]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.hasOwnProperty(o)||Object.defineProperty(this,o,{configurable:!1,enumerable:!1,writable:!1,value:r.apply(this,e)}),this[o]}}}),define(u[1350],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DifferenceType={Add:0,Remove:1,Change:2};var n=function(){function e(e,t,n,i){this.originalStart=e,this.originalLength=t,this.modifiedStart=n,this.modifiedLength=i}return e.prototype.getChangeType=function(){return 0===this.originalLength?t.DifferenceType.Add:0===this.modifiedLength?t.DifferenceType.Remove:t.DifferenceType.Change},e.prototype.getOriginalEnd=function(){return this.originalStart+this.originalLength},e.prototype.getModifiedEnd=function(){return this.modifiedStart+this.modifiedLength},e}();t.DiffChange=n}),define(u[272],d([1,0,1350]),function(e,t,n){"use strict";function i(e){return{getLength:function(){return e.length},getElementHash:function(t){return e[t]}}}Object.defineProperty(t,"__esModule",{value:!0}),t.stringDiff=function(e,t){return new c(i(e),i(t)).ComputeDiff()};var r=function(){function e(){}return e.Assert=function(e,t){if(!e)throw new Error(t)},e}();t.Debug=r;var o=function(){function e(){}return e.Copy=function(e,t,n,i,r){for(var o=0;o<r;o++)n[i+o]=e[t+o]},e}();t.MyArray=o;var s=function(){function e(){this.m_changes=[],this.m_originalStart=Number.MAX_VALUE,this.m_modifiedStart=Number.MAX_VALUE,this.m_originalCount=0,this.m_modifiedCount=0}return e.prototype.MarkNextChange=function(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new n.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=Number.MAX_VALUE,this.m_modifiedStart=Number.MAX_VALUE},e.prototype.AddOriginalElement=function(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++},e.prototype.AddModifiedElement=function(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++},e.prototype.getChanges=function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes},e.prototype.getReverseChanges=function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes},e}(),a=Object.prototype.hasOwnProperty,c=function(){function e(e,t,n){void 0===n&&(n=null),this.OriginalSequence=e,this.ModifiedSequence=t,this.ContinueProcessingPredicate=n,this.m_originalIds=[],this.m_modifiedIds=[],this.m_forwardHistory=[],this.m_reverseHistory=[],this.ComputeUniqueIdentifiers()}return e.prototype.ComputeUniqueIdentifiers=function(){var e=this.OriginalSequence.getLength(),t=this.ModifiedSequence.getLength();this.m_originalIds=new Array(e),this.m_modifiedIds=new Array(t);var n,i={},r=1;for(n=0;n<e;n++){var o=this.OriginalSequence.getElementHash(n);a.call(i,o)?this.m_originalIds[n]=i[o]:(this.m_originalIds[n]=r++,i[o]=this.m_originalIds[n])}for(n=0;n<t;n++){var s=this.ModifiedSequence.getElementHash(n);a.call(i,s)?this.m_modifiedIds[n]=i[s]:(this.m_modifiedIds[n]=r++,i[s]=this.m_modifiedIds[n])}},e.prototype.ElementsAreEqual=function(e,t){return this.m_originalIds[e]===this.m_modifiedIds[t]},e.prototype.ComputeDiff=function(){return this._ComputeDiff(0,this.OriginalSequence.getLength()-1,0,this.ModifiedSequence.getLength()-1)},e.prototype._ComputeDiff=function(e,t,n,i){var r=[!1];return this.ComputeDiffRecursive(e,t,n,i,r)},e.prototype.ComputeDiffRecursive=function(e,t,i,o,s){for(s[0]=!1;e<=t&&i<=o&&this.ElementsAreEqual(e,i);)e++,i++;for(;t>=e&&o>=i&&this.ElementsAreEqual(t,o);)t--,o--;if(e>t||i>o){var a=void 0;return i<=o?(r.Assert(e===t+1,"originalStart should only be one more than originalEnd"),a=[new n.DiffChange(e,0,i,o-i+1)]):e<=t?(r.Assert(i===o+1,"modifiedStart should only be one more than modifiedEnd"),a=[new n.DiffChange(e,t-e+1,i,0)]):(r.Assert(e===t+1,"originalStart should only be one more than originalEnd"),r.Assert(i===o+1,"modifiedStart should only be one more than modifiedEnd"),a=[]),a}var c=[0],l=[0],u=this.ComputeRecursionPoint(e,t,i,o,c,l,s),d=c[0],h=l[0];if(null!==u)return u;if(!s[0]){var p=this.ComputeDiffRecursive(e,d,i,h,s),f=[];return f=s[0]?[new n.DiffChange(d+1,t-(d+1)+1,h+1,o-(h+1)+1)]:this.ComputeDiffRecursive(d+1,t,h+1,o,s),this.ConcatenateChanges(p,f)}return[new n.DiffChange(e,t-e+1,i,o-i+1)]},e.prototype.WALKTRACE=function(e,t,i,r,o,a,c,l,u,d,h,p,f,g,v,m,y,b){var S,_=null,E=null,C=new s,w=t,I=i,T=f[0]-m[0]-r,k=Number.MIN_VALUE,x=this.m_forwardHistory.length-1;do{(S=T+e)===w||S<I&&u[S-1]<u[S+1]?(g=(h=u[S+1])-T-r,h<k&&C.MarkNextChange(),k=h,C.AddModifiedElement(h+1,g),T=S+1-e):(g=(h=u[S-1]+1)-T-r,h<k&&C.MarkNextChange(),k=h-1,C.AddOriginalElement(h,g+1),T=S-1-e),x>=0&&(e=(u=this.m_forwardHistory[x])[0],w=1,I=u.length-1)}while(--x>=-1);if(_=C.getReverseChanges(),b[0]){var A=f[0]+1,L=m[0]+1;if(null!==_&&_.length>0){var P=_[_.length-1];A=Math.max(A,P.getOriginalEnd()),L=Math.max(L,P.getModifiedEnd())}E=[new n.DiffChange(A,p-A+1,L,v-L+1)]}else{C=new s,w=a,I=c,T=f[0]-m[0]-l,k=Number.MAX_VALUE,x=y?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{(S=T+o)===w||S<I&&d[S-1]>=d[S+1]?(g=(h=d[S+1]-1)-T-l,h>k&&C.MarkNextChange(),k=h+1,C.AddOriginalElement(h+1,g+1),T=S+1-o):(g=(h=d[S-1])-T-l,h>k&&C.MarkNextChange(),k=h,C.AddModifiedElement(h+1,g+1),T=S-1-o),x>=0&&(o=(d=this.m_reverseHistory[x])[0],w=1,I=d.length-1)}while(--x>=-1);E=C.getChanges()}return this.ConcatenateChanges(_,E)},e.prototype.ComputeRecursionPoint=function(e,t,i,r,s,a,c){var l,u,d,h=0,p=0,f=0,g=0;e--,i--,s[0]=0,a[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];var v=t-e+(r-i),m=v+1,y=new Array(m),b=new Array(m),S=r-i,_=t-e,E=e-i,C=t-r,w=(_-S)%2==0;y[S]=e,b[_]=t,c[0]=!1;var I,T;for(d=1;d<=v/2+1;d++){var k=0,x=0;for(h=this.ClipDiagonalBound(S-d,d,S,m),p=this.ClipDiagonalBound(S+d,d,S,m),I=h;I<=p;I+=2){for(u=(l=I===h||I<p&&y[I-1]<y[I+1]?y[I+1]:y[I-1]+1)-(I-S)-E,T=l;l<t&&u<r&&this.ElementsAreEqual(l+1,u+1);)l++,u++;if(y[I]=l,l+u>k+x&&(k=l,x=u),!w&&Math.abs(I-_)<=d-1&&l>=b[I])return s[0]=l,a[0]=u,T<=b[I]&&d<=1448?this.WALKTRACE(S,h,p,E,_,f,g,C,y,b,l,t,s,u,r,a,w,c):null}var A=(k-e+(x-i)-d)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(k,this.OriginalSequence,A))return c[0]=!0,s[0]=k,a[0]=x,A>0&&d<=1448?this.WALKTRACE(S,h,p,E,_,f,g,C,y,b,l,t,s,u,r,a,w,c):(e++,i++,[new n.DiffChange(e,t-e+1,i,r-i+1)]);for(f=this.ClipDiagonalBound(_-d,d,_,m),g=this.ClipDiagonalBound(_+d,d,_,m),I=f;I<=g;I+=2){for(u=(l=I===f||I<g&&b[I-1]>=b[I+1]?b[I+1]-1:b[I-1])-(I-_)-C,T=l;l>e&&u>i&&this.ElementsAreEqual(l,u);)l--,u--;if(b[I]=l,w&&Math.abs(I-S)<=d&&l<=y[I])return s[0]=l,a[0]=u,T>=y[I]&&d<=1448?this.WALKTRACE(S,h,p,E,_,f,g,C,y,b,l,t,s,u,r,a,w,c):null}if(d<=1447){var L=new Array(p-h+2);L[0]=S-h+1,o.Copy(y,h,L,1,p-h+1),this.m_forwardHistory.push(L),(L=new Array(g-f+2))[0]=_-f+1,o.Copy(b,f,L,1,g-f+1),this.m_reverseHistory.push(L)}}return this.WALKTRACE(S,h,p,E,_,f,g,C,y,b,l,t,s,u,r,a,w,c)},e.prototype.ConcatenateChanges=function(e,t){var n=[],i=null;return 0===e.length||0===t.length?t.length>0?t:e:this.ChangesOverlap(e[e.length-1],t[0],n)?(i=new Array(e.length+t.length-1),o.Copy(e,0,i,0,e.length-1),i[e.length-1]=n[0],o.Copy(t,1,i,e.length,t.length-1),i):(i=new Array(e.length+t.length),o.Copy(e,0,i,0,e.length),o.Copy(t,0,i,e.length,t.length),i)},e.prototype.ChangesOverlap=function(e,t,i){if(r.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),r.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){var o=e.originalStart,s=e.originalLength,a=e.modifiedStart,c=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(s=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(c=t.modifiedStart+t.modifiedLength-e.modifiedStart),i[0]=new n.DiffChange(o,s,a,c),!0}return i[0]=null,!1},e.prototype.ClipDiagonalBound=function(e,t,n,i){if(e>=0&&e<i)return e;var r=n,o=i-n-1,s=t%2==0;return e<0?s===(r%2==0)?0:1:s===(o%2==0)?i-1:i-2},e}();t.LcsDiff=c});var h=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();define(u[140],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e){this.time=(new Date).getTime(),this.originalEvent=e,this.source=null}}();t.Event=n;var i=function(e){function t(t,n,i,r){var o=e.call(this,r)||this;return o.key=t,o.oldValue=n,o.newValue=i,o}return h(t,e),t}(n);t.PropertyChangeEvent=i;var r=function(e){function t(t,n){var i=e.call(this,n)||this;return i.element=t,i}return h(t,e),t}(n);t.ViewerEvent=r,t.EventType={PROPERTY_CHANGED:"propertyChanged",SELECTION:"selection",FOCUS:"focus",BLUR:"blur",HIGHLIGHT:"highlight",EXPAND:"expand",COLLAPSE:"collapse",TOGGLE:"toggle",BEFORE_RUN:"beforeRun",RUN:"run",EDIT:"edit",SAVE:"save",CANCEL:"cancel",CHANGE:"change",DISPOSE:"dispose"}}),define(u[179],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.not=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(void 0,t)}},t.once=function(e){var t,n=this,i=!1;return function(){return i?t:(i=!0,t=e.apply(n,arguments))}}}),define(u[1343],d([1,0]),function(e,t){"use strict";function n(e,t){switch(void 0===t&&(t=0),typeof e){case"object":return null===e?i(349,t):Array.isArray(e)?s(e,t):a(e,t);case"string":return o(e,t);case"boolean":return r(e,t);case"number":return i(e,t);case"undefined":return i(e,937);default:return i(e,617)}}function i(e,t){return(t<<5)-t+e|0}function r(e,t){return i(e?433:863,t)}function o(e,t){t=i(149417,t);for(var n=0,r=e.length;n<r;n++)t=i(e.charCodeAt(n),t);return t}function s(e,t){return t=i(104579,t),e.reduce(function(e,t){return n(t,e)},t)}function a(e,t){return t=i(181387,t),Object.keys(e).sort().reduce(function(t,i){return t=o(i,t),n(e[i],t)},t)}Object.defineProperty(t,"__esModule",{value:!0}),t.hash=n}),define(u[280],d([1,0]),function(e,t){"use strict";function n(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(!i(e[r],t[r]))return!1;return!0}function i(e,t){return!e&&!t||!(!e||!t)&&("string"==typeof e||"string"==typeof t?"string"==typeof e&&"string"==typeof t&&e===t:e.language===t.language&&e.value===t.value)}Object.defineProperty(t,"__esModule",{value:!0}),t.markedStringsEquals=function(e,t){return!e&&!t||!(!e||!t)&&(Array.isArray(e)?!!Array.isArray(t)&&n(e,t):i(e,t))},t.textToMarkedString=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},t.removeMarkdownEscapes=function(e){return e?e.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1"):e}}),define(u[155],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this._prefix=e,this._lastId=0}return e.prototype.nextId=function(){return this._prefix+ ++this._lastId},e}();t.IdGenerator=n,t.defaultGenerator=new n("id#")}),define(u[187],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.length),this.items=e,this.start=t,this.end=n,this.index=t-1}return e.prototype.first=function(){return this.index=this.start,this.current()},e.prototype.next=function(){return this.index=Math.min(this.index+1,this.end),this.current()},e.prototype.current=function(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]},e}();t.ArrayIterator=n;var i=function(e){function t(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.length),e.call(this,t,n,i)||this}return h(t,e),t.prototype.current=function(){return e.prototype.current.call(this)},t.prototype.previous=function(){return this.index=Math.max(this.index-1,this.start-1),this.current()},t.prototype.first=function(){return this.index=this.start,this.current()},t.prototype.last=function(){return this.index=this.end-1,this.current()},t.prototype.parent=function(){return null},t}(n);t.ArrayNavigator=i;var r=function(){function e(e,t){this.iterator=e,this.fn=t}return e.prototype.next=function(){return this.fn(this.iterator.next())},e}();t.MappedIterator=r;var o=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.navigator=t,i}return h(t,e),t.prototype.current=function(){return this.fn(this.navigator.current())},t.prototype.previous=function(){return this.fn(this.navigator.previous())},t.prototype.parent=function(){return this.fn(this.navigator.parent())},t.prototype.first=function(){return this.fn(this.navigator.first())},t.prototype.last=function(){return this.fn(this.navigator.last())},t.prototype.next=function(){return this.fn(this.navigator.next())},t}(r);t.MappedNavigator=o}),define(u[432],d([1,0,187]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t=10),this._initialize(e),this._limit=t,this._onChange()}return e.prototype.add=function(e){this._history.add(e),this._onChange()},e.prototype.addIfNotPresent=function(e){this._history.has(e)||this.add(e)},e.prototype.next=function(){return this._navigator.next()?this._navigator.current():(this.last(),null)},e.prototype.previous=function(){return this._navigator.previous()?this._navigator.current():(this.first(),null)},e.prototype.current=function(){return this._navigator.current()},e.prototype.parent=function(){return null},e.prototype.first=function(){return this._navigator.first()},e.prototype.last=function(){return this._navigator.last()},e.prototype._onChange=function(){this._reduceToLimit(),this._navigator=new n.ArrayNavigator(this._elements),this._navigator.last()},e.prototype._reduceToLimit=function(){var e=this._elements;e.length>this._limit&&this._initialize(e.slice(e.length-this._limit))},e.prototype._initialize=function(e){this._history=new Set;for(var t=0,n=e;t<n.length;t++){var i=n[t];this._history.add(i)}},Object.defineProperty(e.prototype,"_elements",{get:function(){var e=[];return this._history.forEach(function(t){return e.push(t)}),e},enumerable:!0,configurable:!0}),e}();t.HistoryNavigator=i}),define(u[94],d([1,0]),function(e,t){"use strict";function n(e,t){function n(t,n){for(var i=0,r=0;i<t||!n;){var o=e.charCodeAt(h);if(o>=48&&o<=57)r=16*r+o-48;else if(o>=65&&o<=70)r=16*r+o-65+10;else{if(!(o>=97&&o<=102))break;r=16*r+o-97+10}h++,i++}return i<t&&(r=-1),r}function s(){var t=h;if(48===e.charCodeAt(h))h++;else for(h++;h<e.length&&o(e.charCodeAt(h));)h++;if(h<e.length&&46===e.charCodeAt(h)){if(!(++h<e.length&&o(e.charCodeAt(h))))return m=l.UnexpectedEndOfNumber,e.substring(t,h);for(h++;h<e.length&&o(e.charCodeAt(h));)h++}var n=h;if(h<e.length&&(69===e.charCodeAt(h)||101===e.charCodeAt(h)))if((++h<e.length&&43===e.charCodeAt(h)||45===e.charCodeAt(h))&&h++,h<e.length&&o(e.charCodeAt(h))){for(h++;h<e.length&&o(e.charCodeAt(h));)h++;n=h}else m=l.UnexpectedEndOfNumber;return e.substring(t,n)}function a(){for(var t="",i=h;;){if(h>=p){t+=e.substring(i,h),m=l.UnexpectedEndOfString;break}var o=e.charCodeAt(h);if(34===o){t+=e.substring(i,h),h++;break}if(92!==o){if(o>=0&&o<=31){if(r(o)){t+=e.substring(i,h),m=l.UnexpectedEndOfString;break}m=l.InvalidCharacter}h++}else{if(t+=e.substring(i,h),++h>=p){m=l.UnexpectedEndOfString;break}switch(o=e.charCodeAt(h++)){case 34:t+='"';break;case 92:t+="\\";break;case 47:t+="/";break;case 98:t+="\b";break;case 102:t+="\f";break;case 110:t+="\n";break;case 114:t+="\r";break;case 116:t+="\t";break;case 117:var s=n(4,!0);s>=0?t+=String.fromCharCode(s):m=l.InvalidUnicode;break;default:m=l.InvalidEscapeCharacter}i=h}}return t}function c(){if(f="",m=l.None,g=h,h>=p)return g=p,v=u.EOF;var t=e.charCodeAt(h);if(i(t)){do{h++,f+=String.fromCharCode(t),t=e.charCodeAt(h)}while(i(t));return v=u.Trivia}if(r(t))return h++,f+=String.fromCharCode(t),13===t&&10===e.charCodeAt(h)&&(h++,f+="\n"),v=u.LineBreakTrivia;switch(t){case 123:return h++,v=u.OpenBraceToken;case 125:return h++,v=u.CloseBraceToken;case 91:return h++,v=u.OpenBracketToken;case 93:return h++,v=u.CloseBracketToken;case 58:return h++,v=u.ColonToken;case 44:return h++,v=u.CommaToken;case 34:return h++,f=a(),v=u.StringLiteral;case 47:var n=h-1;if(47===e.charCodeAt(h+1)){for(h+=2;h<p&&!r(e.charCodeAt(h));)h++;return f=e.substring(n,h),v=u.LineCommentTrivia}if(42===e.charCodeAt(h+1)){h+=2;for(var c=p-1,y=!1;h<c;){if(42===e.charCodeAt(h)&&47===e.charCodeAt(h+1)){h+=2,y=!0;break}h++}return y||(h++,m=l.UnexpectedEndOfComment),f=e.substring(n,h),v=u.BlockCommentTrivia}return f+=String.fromCharCode(t),h++,v=u.Unknown;case 45:if(f+=String.fromCharCode(t),++h===p||!o(e.charCodeAt(h)))return v=u.Unknown;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return f+=s(),v=u.NumericLiteral;default:for(;h<p&&d(t);)h++,t=e.charCodeAt(h);if(g!==h){switch(f=e.substring(g,h)){case"true":return v=u.TrueKeyword;case"false":return v=u.FalseKeyword;case"null":return v=u.NullKeyword}return v=u.Unknown}return f+=String.fromCharCode(t),h++,v=u.Unknown}}function d(e){if(i(e)||r(e))return!1;switch(e){case 125:case 93:case 123:case 91:case 34:case 58:case 44:return!1}return!0}void 0===t&&(t=!1);var h=0,p=e.length,f="",g=0,v=u.Unknown,m=l.None;return{setPosition:function(e){h=e,f="",g=0,v=u.Unknown,m=l.None},getPosition:function(){return h},scan:t?function(){var e;do{e=c()}while(e>=u.LineCommentTrivia&&e<=u.Trivia);return e}:c,getToken:function(){return v},getTokenValue:function(){return f},getTokenOffset:function(){return g},getTokenLength:function(){return h-g},getTokenError:function(){return m}}}function i(e){return 32===e||9===e||11===e||12===e||160===e||5760===e||e>=8192&&e<=8203||8239===e||8287===e||12288===e||65279===e}function r(e){return 10===e||13===e||8232===e||8233===e}function o(e){return e>=48&&e<=57}function s(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string";default:return"null"}}function a(e){if("array"===e.type)return e.children.map(a);if("object"===e.type){for(var t={},n=0,i=e.children;n<i.length;n++){var r=i[n];t[r.children[0].value]=a(r.children[1])}return t}return e.value}function c(e,t,i){function r(e){return e?function(){return e(v.getTokenOffset(),v.getTokenLength())}:function(){return!0}}function o(e){return e?function(t){return e(t,v.getTokenOffset(),v.getTokenLength())}:function(){return!0}}function s(){for(;;){var e=v.scan();switch(e){case u.LineCommentTrivia:case u.BlockCommentTrivia:I&&a(h.InvalidSymbol);break;case u.Unknown:a(h.InvalidSymbol);break;case u.Trivia:case u.LineBreakTrivia:break;default:return e}}}function a(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),w(e),t.length+n.length>0)for(var i=v.getToken();i!==u.EOF;){if(-1!==t.indexOf(i)){s();break}if(-1!==n.indexOf(i))break;i=s()}}function c(e){var t=v.getTokenValue();return e?E(t):y(t),s(),!0}function l(){switch(v.getToken()){case u.NumericLiteral:var e=0;try{"number"!=typeof(e=JSON.parse(v.getTokenValue()))&&(a(h.InvalidNumberFormat),e=0)}catch(e){a(h.InvalidNumberFormat)}E(e);break;case u.NullKeyword:E(null);break;case u.TrueKeyword:E(!0);break;case u.FalseKeyword:E(!1);break;default:return!1}return s(),!0}function d(){return v.getToken()!==u.StringLiteral?(a(h.PropertyNameExpected,[],[u.CloseBraceToken,u.CommaToken]),!1):(c(!1),v.getToken()===u.ColonToken?(C(":"),s(),g()||a(h.ValueExpected,[],[u.CloseBraceToken,u.CommaToken])):a(h.ColonExpected,[],[u.CloseBraceToken,u.CommaToken]),!0)}function p(){m(),s();for(var e=!1;v.getToken()!==u.CloseBraceToken&&v.getToken()!==u.EOF;){if(v.getToken()===u.CommaToken){if(e||a(h.ValueExpected,[],[]),C(","),s(),v.getToken()===u.CloseBraceToken&&T)break}else e&&a(h.CommaExpected,[],[]);d()||a(h.ValueExpected,[],[u.CloseBraceToken,u.CommaToken]),e=!0}return b(),v.getToken()!==u.CloseBraceToken?a(h.CloseBraceExpected,[u.CloseBraceToken],[]):s(),!0}function f(){S(),s();for(var e=!1;v.getToken()!==u.CloseBracketToken&&v.getToken()!==u.EOF;)v.getToken()===u.CommaToken?(e||a(h.ValueExpected,[],[]),C(","),s()):e&&a(h.CommaExpected,[],[]),g()||a(h.ValueExpected,[],[u.CloseBracketToken,u.CommaToken]),e=!0;return _(),v.getToken()!==u.CloseBracketToken?a(h.CloseBracketExpected,[u.CloseBracketToken],[]):s(),!0}function g(){switch(v.getToken()){case u.OpenBracketToken:return f();case u.OpenBraceToken:return p();case u.StringLiteral:return c(!0);default:return l()}}var v=n(e,!1),m=r(t.onObjectBegin),y=o(t.onObjectProperty),b=r(t.onObjectEnd),S=r(t.onArrayBegin),_=r(t.onArrayEnd),E=o(t.onLiteralValue),C=o(t.onSeparator),w=o(t.onError),I=i&&i.disallowComments,T=i&&i.allowTrailingComma;return s(),v.getToken()===u.EOF||(g()?(v.getToken()!==u.EOF&&a(h.EndOfFileExpected,[],[]),!0):(a(h.ValueExpected,[],[]),!1))}Object.defineProperty(t,"__esModule",{value:!0});var l;!function(e){e[e.None=0]="None",e[e.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=2]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",e[e.InvalidUnicode=4]="InvalidUnicode",e[e.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",e[e.InvalidCharacter=6]="InvalidCharacter"}(l=t.ScanError||(t.ScanError={}));var u;!function(e){e[e.Unknown=0]="Unknown",e[e.OpenBraceToken=1]="OpenBraceToken",e[e.CloseBraceToken=2]="CloseBraceToken",e[e.OpenBracketToken=3]="OpenBracketToken",e[e.CloseBracketToken=4]="CloseBracketToken",e[e.CommaToken=5]="CommaToken",e[e.ColonToken=6]="ColonToken",e[e.NullKeyword=7]="NullKeyword",e[e.TrueKeyword=8]="TrueKeyword",e[e.FalseKeyword=9]="FalseKeyword",e[e.StringLiteral=10]="StringLiteral",e[e.NumericLiteral=11]="NumericLiteral",e[e.LineCommentTrivia=12]="LineCommentTrivia",e[e.BlockCommentTrivia=13]="BlockCommentTrivia",e[e.LineBreakTrivia=14]="LineBreakTrivia",e[e.Trivia=15]="Trivia",e[e.EOF=16]="EOF"}(u=t.SyntaxKind||(t.SyntaxKind={})),t.createScanner=n;var d;!function(e){e[e.nullCharacter=0]="nullCharacter",e[e.maxAsciiCharacter=127]="maxAsciiCharacter",e[e.lineFeed=10]="lineFeed",e[e.carriageReturn=13]="carriageReturn",e[e.lineSeparator=8232]="lineSeparator",e[e.paragraphSeparator=8233]="paragraphSeparator",e[e.nextLine=133]="nextLine",e[e.space=32]="space",e[e.nonBreakingSpace=160]="nonBreakingSpace",e[e.enQuad=8192]="enQuad",e[e.emQuad=8193]="emQuad",e[e.enSpace=8194]="enSpace",e[e.emSpace=8195]="emSpace",e[e.threePerEmSpace=8196]="threePerEmSpace",e[e.fourPerEmSpace=8197]="fourPerEmSpace",e[e.sixPerEmSpace=8198]="sixPerEmSpace",e[e.figureSpace=8199]="figureSpace",e[e.punctuationSpace=8200]="punctuationSpace",e[e.thinSpace=8201]="thinSpace",e[e.hairSpace=8202]="hairSpace",e[e.zeroWidthSpace=8203]="zeroWidthSpace",e[e.narrowNoBreakSpace=8239]="narrowNoBreakSpace",e[e.ideographicSpace=12288]="ideographicSpace",e[e.mathematicalSpace=8287]="mathematicalSpace",e[e.ogham=5760]="ogham",e[e._=95]="_",e[e.$=36]="$",e[e._0=48]="_0",e[e._1=49]="_1",e[e._2=50]="_2",e[e._3=51]="_3",e[e._4=52]="_4",e[e._5=53]="_5",e[e._6=54]="_6",e[e._7=55]="_7",e[e._8=56]="_8",e[e._9=57]="_9",e[e.a=97]="a",e[e.b=98]="b",e[e.c=99]="c",e[e.d=100]="d",e[e.e=101]="e",e[e.f=102]="f",e[e.g=103]="g",e[e.h=104]="h",e[e.i=105]="i",e[e.j=106]="j",e[e.k=107]="k",e[e.l=108]="l",e[e.m=109]="m",e[e.n=110]="n",e[e.o=111]="o",e[e.p=112]="p",e[e.q=113]="q",e[e.r=114]="r",e[e.s=115]="s",e[e.t=116]="t",e[e.u=117]="u",e[e.v=118]="v",e[e.w=119]="w",e[e.x=120]="x",e[e.y=121]="y",e[e.z=122]="z",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.ampersand=38]="ampersand",e[e.asterisk=42]="asterisk",e[e.at=64]="at",e[e.backslash=92]="backslash",e[e.bar=124]="bar",e[e.caret=94]="caret",e[e.closeBrace=125]="closeBrace",e[e.closeBracket=93]="closeBracket",e[e.closeParen=41]="closeParen",e[e.colon=58]="colon",e[e.comma=44]="comma",e[e.dot=46]="dot",e[e.doubleQuote=34]="doubleQuote",e[e.equals=61]="equals",e[e.exclamation=33]="exclamation",e[e.greaterThan=62]="greaterThan",e[e.lessThan=60]="lessThan",e[e.minus=45]="minus",e[e.openBrace=123]="openBrace",e[e.openBracket=91]="openBracket",e[e.openParen=40]="openParen",e[e.percent=37]="percent",e[e.plus=43]="plus",e[e.question=63]="question",e[e.semicolon=59]="semicolon",e[e.singleQuote=39]="singleQuote",e[e.slash=47]="slash",e[e.tilde=126]="tilde",e[e.backspace=8]="backspace",e[e.formFeed=12]="formFeed",e[e.byteOrderMark=65279]="byteOrderMark",e[e.tab=9]="tab",e[e.verticalTab=11]="verticalTab"}(d||(d={})),t.stripComments=function(e,t){var i,r,o=n(e),s=[],a=0;do{switch(r=o.getPosition(),i=o.scan()){case u.LineCommentTrivia:case u.BlockCommentTrivia:case u.EOF:a!==r&&s.push(e.substring(a,r)),void 0!==t&&s.push(o.getTokenValue().replace(/[^\r\n]/g,t)),a=o.getPosition()}}while(i!==u.EOF);return s.join("")};var h;!function(e){e[e.InvalidSymbol=0]="InvalidSymbol",e[e.InvalidNumberFormat=1]="InvalidNumberFormat",e[e.PropertyNameExpected=2]="PropertyNameExpected",e[e.ValueExpected=3]="ValueExpected",e[e.ColonExpected=4]="ColonExpected",e[e.CommaExpected=5]="CommaExpected",e[e.CloseBraceExpected=6]="CloseBraceExpected",e[e.CloseBracketExpected=7]="CloseBracketExpected",e[e.EndOfFileExpected=8]="EndOfFileExpected"}(h=t.ParseErrorCode||(t.ParseErrorCode={})),t.getLocation=function(e,t){function n(e,t,n,i){a.value=e,a.offset=t,a.length=n,a.type=i,a.columnOffset=void 0,o=a}var i=[],r=new Object,o=void 0,a={value:void 0,offset:void 0,length:void 0,type:void 0},l=!1;try{c(e,{onObjectBegin:function(e,n){if(t<=e)throw r;o=void 0,l=t>e,i.push("")},onObjectProperty:function(e,o,s){if(t<o)throw r;if(n(e,o,s,"property"),i[i.length-1]=e,t<=o+s)throw r},onObjectEnd:function(e,n){if(t<=e)throw r;o=void 0,i.pop()},onArrayBegin:function(e,n){if(t<=e)throw r;o=void 0,i.push(0)},onArrayEnd:function(e,n){if(t<=e)throw r;o=void 0,i.pop()},onLiteralValue:function(e,i,o){if(t<i)throw r;if(n(e,i,o,s(e)),t<=i+o)throw r},onSeparator:function(e,n,s){if(t<=n)throw r;if(":"===e&&"property"===o.type)o.columnOffset=n,l=!1,o=void 0;else if(","===e){var a=i[i.length-1];"number"==typeof a?i[i.length-1]=a+1:(l=!0,i[i.length-1]=""),o=void 0}}})}catch(e){if(e!==r)throw e}return{path:i,previousNode:o,isAtPropertyKey:l,matches:function(e){for(var t=0,n=0;t<e.length&&n<i.length;n++)if(e[t]===i[n]||"*"===e[t])t++;else if("**"!==e[t])return!1;return t===e.length}}},t.parse=function(e,t,n){function i(e){Array.isArray(o)?o.push(e):r&&(o[r]=e)}void 0===t&&(t=[]);var r=null,o=[],s=[];return c(e,{onObjectBegin:function(){var e={};i(e),s.push(o),o=e,r=null},onObjectProperty:function(e){r=e},onObjectEnd:function(){o=s.pop()},onArrayBegin:function(){var e=[];i(e),s.push(o),o=e,r=null},onArrayEnd:function(){o=s.pop()},onLiteralValue:i,onError:function(e){t.push({error:e})}},n),o[0]},t.parseTree=function(e,t,n){function i(e){"property"===o.type&&(o.length=e-o.offset,o=o.parent)}function r(e){return o.children.push(e),e}void 0===t&&(t=[]);var o={type:"array",offset:-1,length:-1,children:[]};c(e,{onObjectBegin:function(e){o=r({type:"object",offset:e,length:-1,parent:o,children:[]})},onObjectProperty:function(e,t,n){(o=r({type:"property",offset:t,length:-1,parent:o,children:[]})).children.push({type:"string",value:e,offset:t,length:n,parent:o})},onObjectEnd:function(e,t){o.length=e+t-o.offset,o=o.parent,i(e+t)},onArrayBegin:function(e,t){o=r({type:"array",offset:e,length:-1,parent:o,children:[]})},onArrayEnd:function(e,t){o.length=e+t-o.offset,o=o.parent,i(e+t)},onLiteralValue:function(e,t,n){r({type:s(e),offset:t,length:n,parent:o,value:e}),i(t+n)},onSeparator:function(e,t,n){"property"===o.type&&(":"===e?o.columnOffset=t:","===e&&i(t))},onError:function(e){t.push({error:e})}},n);var a=o.children[0];return a&&delete a.parent,a},t.findNodeAtLocation=function(e,t){if(e){for(var n=e,i=0,r=t;i<r.length;i++){var o=r[i];if("string"==typeof o){if("object"!==n.type)return;for(var s=!1,a=0,c=n.children;a<c.length;a++){var l=c[a];if(l.children[0].value===o){n=l.children[1],s=!0;break}}if(!s)return}else{var u=o;if("array"!==n.type||u<0||u>=n.children.length)return;n=n.children[u]}}return n}},t.getNodeValue=a,t.visit=c}),define(u[1342],d([1,0,94]),function(e,t,n){"use strict";function i(e,t){return e.substring(0,t.offset)+t.content+e.substring(t.offset+t.length)}function r(e,t){for(var n="",i=0;i<t;i++)n+=e;return n}function o(e,t,n){for(var i=0,r=0,o=n.tabSize||4;i<e.length;){var s=e.charAt(i);if(" "===s)r++;else{if("\t"!==s)break;r+=o}i++}return Math.floor(r/o)}function s(e,t){for(var n=0;n<t.length;n++){var i=t.charAt(n);if("\r"===i)return n+1<t.length&&"\n"===t.charAt(n+1)?"\r\n":"\r";if("\n"===i)return"\n"}return e&&e.eol||"\n"}function a(e,t){return-1!=="\r\n".indexOf(e.charAt(t))}Object.defineProperty(t,"__esModule",{value:!0}),t.applyEdit=i,t.applyEdits=function(e,t){for(var n=t.length-1;n>=0;n--)e=i(e,t[n]);return e},t.format=function(e,t,i){function c(){return m+r(v,d+b)}function l(){var e=S.scan();for(y=!1;e===n.SyntaxKind.Trivia||e===n.SyntaxKind.LineBreakTrivia;)y=y||e===n.SyntaxKind.LineBreakTrivia,e=S.scan();return e}function u(t,n,i){e.substring(n,i)!==t&&_.push({offset:n,length:i-n,content:t})}var d,h,p,f;if(t){for(f=(p=t.offset)+t.length;p>0&&!a(e,p-1);)p--;var g=n.createScanner(e,!0);g.setPosition(f),g.scan(),f=g.getPosition(),h=e.substring(p,f),d=o(h,0,i)}else h=e,p=0,f=e.length,d=0;var v,m=s(i,e),y=!1,b=0;v=i.insertSpaces?r(" ",i.tabSize):"\t";var S=n.createScanner(h,!1),_=[],E=l();if(E!==n.SyntaxKind.EOF){var C=S.getTokenOffset()+p;u(r(v,d),p,C)}for(;E!==n.SyntaxKind.EOF;){for(var w=S.getTokenOffset()+S.getTokenLength()+p,I=l(),T="";!y&&(I===n.SyntaxKind.LineCommentTrivia||I===n.SyntaxKind.BlockCommentTrivia);)u(" ",w,S.getTokenOffset()+p),w=S.getTokenOffset()+S.getTokenLength()+p,T=I===n.SyntaxKind.LineCommentTrivia?c():"",I=l();if(I===n.SyntaxKind.CloseBraceToken)E!==n.SyntaxKind.OpenBraceToken&&(b--,T=c());else if(I===n.SyntaxKind.CloseBracketToken)E!==n.SyntaxKind.OpenBracketToken&&(b--,T=c());else if(I!==n.SyntaxKind.EOF){switch(E){case n.SyntaxKind.OpenBracketToken:case n.SyntaxKind.OpenBraceToken:b++,T=c();break;case n.SyntaxKind.CommaToken:case n.SyntaxKind.LineCommentTrivia:T=c();break;case n.SyntaxKind.BlockCommentTrivia:T=y?c():" ";break;case n.SyntaxKind.ColonToken:T=" ";break;case n.SyntaxKind.NullKeyword:case n.SyntaxKind.TrueKeyword:case n.SyntaxKind.FalseKeyword:case n.SyntaxKind.NumericLiteral:I!==n.SyntaxKind.NullKeyword&&I!==n.SyntaxKind.FalseKeyword&&I!==n.SyntaxKind.NumericLiteral||(T=" ")}!y||I!==n.SyntaxKind.LineCommentTrivia&&I!==n.SyntaxKind.BlockCommentTrivia||(T=c())}u(T,w,S.getTokenOffset()+p),E=I}return _}}),define(u[364],d([1,0,94,1342]),function(e,t,n,i){"use strict";function r(e,t,i,r,s){for(var a=[],c=n.parseTree(e,a),l=void 0,u=void 0;t.length>0&&(u=t.pop(),void 0===(l=n.findNodeAtLocation(c,t))&&void 0!==i);)"string"==typeof u?((E={})[u]=i,i=E):i=[i];if(l){if("object"===l.type&&"string"==typeof u){var d=n.findNodeAtLocation(l,[u]);if(void 0!==d){if(void 0===i){var h=l.children.indexOf(d.parent),p=void 0,f=d.parent.offset+d.parent.length;return h>0?p=(S=l.children[h-1]).offset+S.length:(p=l.offset+1,l.children.length>1&&(f=l.children[1].offset)),o(e,{offset:p,length:f-p,content:""},r)}return o(e,{offset:d.offset,length:d.length,content:JSON.stringify(i)},r)}if(void 0===i)return[];var g=JSON.stringify(u)+": "+JSON.stringify(i),v=s?s(l.children.map(function(e){return e.children[0].value})):l.children.length,m=void 0;return m=v>0?{offset:(S=l.children[v-1]).offset+S.length,length:0,content:","+g}:0===l.children.length?{offset:l.offset+1,length:0,content:g}:{offset:l.offset+1,length:0,content:g+","},o(e,m,r)}if("array"===l.type&&"number"==typeof u){if(-1===u){var g=""+JSON.stringify(i),m=void 0;return m=0===l.children.length?{offset:l.offset+1,length:0,content:g}:{offset:(S=l.children[l.children.length-1]).offset+S.length,length:0,content:","+g},o(e,m,r)}if(void 0===i&&l.children.length>=0){var y=u,b=l.children[y],m=void 0;if(1===l.children.length)m={offset:l.offset+1,length:l.length-2,content:""};else if(l.children.length-1===y){var S=l.children[y-1],_=S.offset+S.length;m={offset:_,length:l.offset+l.length-2-_,content:""}}else m={offset:b.offset,length:l.children[y+1].offset-b.offset,content:""};return o(e,m,r)}throw new Error("Array modification not supported yet")}throw new Error("Can not add "+("number"!=typeof u?"index":"property")+" to parent of type "+l.type)}if(void 0===i)throw new Error("Can not delete in empty document");return o(e,{offset:c?c.offset:0,length:c?c.length:0,content:JSON.stringify(i)},r);var E}function o(e,t,n){for(var r=i.applyEdit(e,t),o=t.offset,s=t.offset+t.content.length,a=i.format(r,{offset:o,length:s-o},n),c=a.length-1;c>=0;c--){var l=a[c];r=i.applyEdit(r,l),o=Math.min(o,l.offset),s=Math.max(s,l.offset+l.length),s+=l.content.length-l.length}return[{offset:o,length:e.length-(r.length-s)-o,content:r.substring(o,s)}]}Object.defineProperty(t,"__esModule",{value:!0}),t.removeProperty=function(e,t,n){return r(e,t,void 0,n)},t.setProperty=r}),define(u[60],d([1,0]),function(e,t){"use strict";function n(e,t){var n=!!(2048&e),i=!!(256&e);return new c(2===t?i:n,!!(1024&e),!!(512&e),2===t?n:i,255&e)}Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.Unknown=0]="Unknown",e[e.Backspace=1]="Backspace",e[e.Tab=2]="Tab",e[e.Enter=3]="Enter",e[e.Shift=4]="Shift",e[e.Ctrl=5]="Ctrl",e[e.Alt=6]="Alt",e[e.PauseBreak=7]="PauseBreak",e[e.CapsLock=8]="CapsLock",e[e.Escape=9]="Escape",e[e.Space=10]="Space",e[e.PageUp=11]="PageUp",e[e.PageDown=12]="PageDown",e[e.End=13]="End",e[e.Home=14]="Home",e[e.LeftArrow=15]="LeftArrow",e[e.UpArrow=16]="UpArrow",e[e.RightArrow=17]="RightArrow",e[e.DownArrow=18]="DownArrow",e[e.Insert=19]="Insert",e[e.Delete=20]="Delete",e[e.KEY_0=21]="KEY_0",e[e.KEY_1=22]="KEY_1",e[e.KEY_2=23]="KEY_2",e[e.KEY_3=24]="KEY_3",e[e.KEY_4=25]="KEY_4",e[e.KEY_5=26]="KEY_5",e[e.KEY_6=27]="KEY_6",e[e.KEY_7=28]="KEY_7",e[e.KEY_8=29]="KEY_8",e[e.KEY_9=30]="KEY_9",e[e.KEY_A=31]="KEY_A",e[e.KEY_B=32]="KEY_B",e[e.KEY_C=33]="KEY_C",e[e.KEY_D=34]="KEY_D",e[e.KEY_E=35]="KEY_E",e[e.KEY_F=36]="KEY_F",e[e.KEY_G=37]="KEY_G",e[e.KEY_H=38]="KEY_H",e[e.KEY_I=39]="KEY_I",e[e.KEY_J=40]="KEY_J",e[e.KEY_K=41]="KEY_K",e[e.KEY_L=42]="KEY_L",e[e.KEY_M=43]="KEY_M",e[e.KEY_N=44]="KEY_N",e[e.KEY_O=45]="KEY_O",e[e.KEY_P=46]="KEY_P",e[e.KEY_Q=47]="KEY_Q",e[e.KEY_R=48]="KEY_R",e[e.KEY_S=49]="KEY_S",e[e.KEY_T=50]="KEY_T",e[e.KEY_U=51]="KEY_U",e[e.KEY_V=52]="KEY_V",e[e.KEY_W=53]="KEY_W",e[e.KEY_X=54]="KEY_X",e[e.KEY_Y=55]="KEY_Y",e[e.KEY_Z=56]="KEY_Z",e[e.Meta=57]="Meta",e[e.ContextMenu=58]="ContextMenu",e[e.F1=59]="F1",e[e.F2=60]="F2",e[e.F3=61]="F3",e[e.F4=62]="F4",e[e.F5=63]="F5",e[e.F6=64]="F6",e[e.F7=65]="F7",e[e.F8=66]="F8",e[e.F9=67]="F9",e[e.F10=68]="F10",e[e.F11=69]="F11",e[e.F12=70]="F12",e[e.F13=71]="F13",e[e.F14=72]="F14",e[e.F15=73]="F15",e[e.F16=74]="F16",e[e.F17=75]="F17",e[e.F18=76]="F18",e[e.F19=77]="F19",e[e.NumLock=78]="NumLock",e[e.ScrollLock=79]="ScrollLock",e[e.US_SEMICOLON=80]="US_SEMICOLON",e[e.US_EQUAL=81]="US_EQUAL",e[e.US_COMMA=82]="US_COMMA",e[e.US_MINUS=83]="US_MINUS",e[e.US_DOT=84]="US_DOT",e[e.US_SLASH=85]="US_SLASH",e[e.US_BACKTICK=86]="US_BACKTICK",e[e.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",e[e.US_BACKSLASH=88]="US_BACKSLASH",e[e.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",e[e.US_QUOTE=90]="US_QUOTE",e[e.OEM_8=91]="OEM_8",e[e.OEM_102=92]="OEM_102",e[e.NUMPAD_0=93]="NUMPAD_0",e[e.NUMPAD_1=94]="NUMPAD_1",e[e.NUMPAD_2=95]="NUMPAD_2",e[e.NUMPAD_3=96]="NUMPAD_3",e[e.NUMPAD_4=97]="NUMPAD_4",e[e.NUMPAD_5=98]="NUMPAD_5",e[e.NUMPAD_6=99]="NUMPAD_6",e[e.NUMPAD_7=100]="NUMPAD_7",e[e.NUMPAD_8=101]="NUMPAD_8",e[e.NUMPAD_9=102]="NUMPAD_9",e[e.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",e[e.NUMPAD_ADD=104]="NUMPAD_ADD",e[e.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",e[e.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",e[e.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",e[e.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",e[e.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",e[e.ABNT_C1=110]="ABNT_C1",e[e.ABNT_C2=111]="ABNT_C2",e[e.MAX_VALUE=112]="MAX_VALUE"}(t.KeyCode||(t.KeyCode={}));var i=function(){function e(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}return e.prototype.define=function(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e},e.prototype.keyCodeToStr=function(e){return this._keyCodeToStr[e]},e.prototype.strToKeyCode=function(e){return this._strToKeyCode[e.toLowerCase()]||0},e}(),r=new i,o=new i,s=new i;!function(){function e(e,t,n,i){void 0===n&&(n=t),void 0===i&&(i=n),r.define(e,t),o.define(e,n),s.define(e,i)}e(0,"unknown"),e(1,"Backspace"),e(2,"Tab"),e(3,"Enter"),e(4,"Shift"),e(5,"Ctrl"),e(6,"Alt"),e(7,"PauseBreak"),e(8,"CapsLock"),e(9,"Escape"),e(10,"Space"),e(11,"PageUp"),e(12,"PageDown"),e(13,"End"),e(14,"Home"),e(15,"LeftArrow","Left"),e(16,"UpArrow","Up"),e(17,"RightArrow","Right"),e(18,"DownArrow","Down"),e(19,"Insert"),e(20,"Delete"),e(21,"0"),e(22,"1"),e(23,"2"),e(24,"3"),e(25,"4"),e(26,"5"),e(27,"6"),e(28,"7"),e(29,"8"),e(30,"9"),e(31,"A"),e(32,"B"),e(33,"C"),e(34,"D"),e(35,"E"),e(36,"F"),e(37,"G"),e(38,"H"),e(39,"I"),e(40,"J"),e(41,"K"),e(42,"L"),e(43,"M"),e(44,"N"),e(45,"O"),e(46,"P"),e(47,"Q"),e(48,"R"),e(49,"S"),e(50,"T"),e(51,"U"),e(52,"V"),e(53,"W"),e(54,"X"),e(55,"Y"),e(56,"Z"),e(57,"Meta"),e(58,"ContextMenu"),e(59,"F1"),e(60,"F2"),e(61,"F3"),e(62,"F4"),e(63,"F5"),e(64,"F6"),e(65,"F7"),e(66,"F8"),e(67,"F9"),e(68,"F10"),e(69,"F11"),e(70,"F12"),e(71,"F13"),e(72,"F14"),e(73,"F15"),e(74,"F16"),e(75,"F17"),e(76,"F18"),e(77,"F19"),e(78,"NumLock"),e(79,"ScrollLock"),e(80,";",";","OEM_1"),e(81,"=","=","OEM_PLUS"),e(82,",",",","OEM_COMMA"),e(83,"-","-","OEM_MINUS"),e(84,".",".","OEM_PERIOD"),e(85,"/","/","OEM_2"),e(86,"`","`","OEM_3"),e(110,"ABNT_C1"),e(111,"ABNT_C2"),e(87,"[","[","OEM_4"),e(88,"\\","\\","OEM_5"),e(89,"]","]","OEM_6"),e(90,"'","'","OEM_7"),e(91,"OEM_8"),e(92,"OEM_102"),e(93,"NumPad0"),e(94,"NumPad1"),e(95,"NumPad2"),e(96,"NumPad3"),e(97,"NumPad4"),e(98,"NumPad5"),e(99,"NumPad6"),e(100,"NumPad7"),e(101,"NumPad8"),e(102,"NumPad9"),e(103,"NumPad_Multiply"),e(104,"NumPad_Add"),e(105,"NumPad_Separator"),e(106,"NumPad_Subtract"),e(107,"NumPad_Decimal"),e(108,"NumPad_Divide")}();!function(e){e.toString=function(e){return r.keyCodeToStr(e)},e.fromString=function(e){return r.strToKeyCode(e)},e.toUserSettingsUS=function(e){return o.keyCodeToStr(e)},e.toUserSettingsGeneral=function(e){return s.keyCodeToStr(e)},e.fromUserSettings=function(e){return o.strToKeyCode(e)||s.strToKeyCode(e)}}(t.KeyCodeUtils||(t.KeyCodeUtils={}));var a;!function(e){e[e.CtrlCmd=2048]="CtrlCmd",e[e.Shift=1024]="Shift",e[e.Alt=512]="Alt",e[e.WinCtrl=256]="WinCtrl",e[e.KeyCode=255]="KeyCode"}(a||(a={}));!function(e){e[e.CtrlCmd=2048]="CtrlCmd",e[e.Shift=1024]="Shift",e[e.Alt=512]="Alt",e[e.WinCtrl=256]="WinCtrl"}(t.KeyMod||(t.KeyMod={})),t.KeyChord=function(e,t){return(e|(65535&t)<<16>>>0)>>>0},t.createKeybinding=function(e,t){if(0===e)return null;var i=(65535&e)>>>0,r=(4294901760&e)>>>16;return 0!==r?new l(n(i,t),n(r,t)):n(i,t)},t.createSimpleKeybinding=n;!function(e){e[e.Simple=1]="Simple",e[e.Chord=2]="Chord"}(t.KeybindingType||(t.KeybindingType={}));var c=function(){function e(e,t,n,i,r){this.type=1,this.ctrlKey=e,this.shiftKey=t,this.altKey=n,this.metaKey=i,this.keyCode=r}return e.prototype.equals=function(e){return 1===e.type&&(this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode)},e.prototype.isModifierKey=function(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode},e.prototype.isDuplicateModifierCase=function(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode},e}();t.SimpleKeybinding=c;var l=function(){return function(e,t){this.type=2,this.firstPart=e,this.chordPart=t}}();t.ChordKeybinding=l;var u=function(){return function(e,t,n,i,r,o){this.ctrlKey=e,this.shiftKey=t,this.altKey=n,this.metaKey=i,this.keyLabel=r,this.keyAriaLabel=o}}();t.ResolvedKeybindingPart=u;var d=function(){return function(){}}();t.ResolvedKeybinding=d}),define(u[5],d([1,0,179]),function(e,t,n){"use strict";function i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return Array.isArray(e)?(e.forEach(function(e){return e&&e.dispose()}),[]):0!==t.length?(i(e),i(t),[]):e?(e.dispose(),e):void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.empty=Object.freeze({dispose:function(){}}),t.dispose=i,t.combinedDisposable=function(e){return{dispose:function(){return i(e)}}},t.toDisposable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{dispose:function(){for(var t=0,n=e;t<n.length;t++)(0,n[t])()}}};var r=function(){function e(){this._toDispose=[]}return e.prototype.dispose=function(){this._toDispose=i(this._toDispose)},e.prototype._register=function(e){return this._toDispose.push(e),e},e}();t.Disposable=r;var o=function(){function e(){}return Object.defineProperty(e.prototype,"value",{set:function(e){this._value&&this._value.dispose(),this._value=e},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.value=null},e}();t.OneDisposable=o;var s=function(){function e(){this.references=Object.create(null)}return e.prototype.acquire=function(e){var t=this,i=this.references[e];i||(i=this.references[e]={counter:0,object:this.createReferencedObject(e)});var r=i.object,o=n.once(function(){0==--i.counter&&(t.destroyReferencedObject(i.object),delete t.references[e])});return i.counter++,{object:r,dispose:o}},e}();t.ReferenceCollection=s;var a=function(){function e(e){this.object=e}return e.prototype.dispose=function(){},e}();t.ImmortalReference=a});/**
 * marked - a markdown parser
 * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/chjj/marked
 */
var p={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:a,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:a,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:a,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};p.bullet=/(?:[*+-]|\d+\.)/,p.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,p.item=s(p.item,"gm")(/bull/g,p.bullet)(),p.list=s(p.list)(/bull/g,p.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+p.def.source+")")(),p.blockquote=s(p.blockquote)("def",p.def)(),p._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",p.html=s(p.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,p._tag)(),p.paragraph=s(p.paragraph)("hr",p.hr)("heading",p.heading)("lheading",p.lheading)("blockquote",p.blockquote)("tag","<"+p._tag)("def",p.def)(),p.normal=c({},p),p.gfm=c({},p.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),p.gfm.paragraph=s(p.paragraph)("(?!","(?!"+p.gfm.fences.source.replace("\\1","\\2")+"|"+p.list.source.replace("\\1","\\3")+"|")(),p.tables=c({},p.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=p,e.lex=function(t,n){return new e(n).lex(t)},e.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},e.prototype.token=function(e,t,n){for(var i,r,o,s,a,c,l,u,d,e=e.replace(/^ +$/gm,"");e;)if((o=this.rules.newline.exec(e))&&(e=e.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(e))e=e.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});else if(o=this.rules.heading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(t&&(o=this.rules.nptable.exec(e))){for(e=e.substring(o[0].length),c={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")},u=0;u<c.align.length;u++)/^ *-+: *$/.test(c.align[u])?c.align[u]="right":/^ *:-+: *$/.test(c.align[u])?c.align[u]="center":/^ *:-+ *$/.test(c.align[u])?c.align[u]="left":c.align[u]=null;for(u=0;u<c.cells.length;u++)c.cells[u]=c.cells[u].split(/ *\| */);this.tokens.push(c)}else if(o=this.rules.lheading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(o=this.rules.hr.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,t,!0),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(e)){for(e=e.substring(o[0].length),s=o[2],this.tokens.push({type:"list_start",ordered:s.length>1}),i=!1,d=(o=o[0].match(this.rules.item)).length,u=0;u<d;u++)l=(c=o[u]).length,~(c=c.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(l-=c.length,c=this.options.pedantic?c.replace(/^ {1,4}/gm,""):c.replace(new RegExp("^ {1,"+l+"}","gm"),"")),this.options.smartLists&&u!==d-1&&(s===(a=p.bullet.exec(o[u+1])[0])||s.length>1&&a.length>1||(e=o.slice(u+1).join("\n")+e,u=d-1)),r=i||/\n\n(?!\s*$)/.test(c),u!==d-1&&(i="\n"===c.charAt(c.length-1),r||(r=i)),this.tokens.push({type:r?"loose_item_start":"list_item_start"}),this.token(c,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(e))e=e.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(!n&&t&&(o=this.rules.def.exec(e)))e=e.substring(o[0].length),this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]};else if(t&&(o=this.rules.table.exec(e))){for(e=e.substring(o[0].length),c={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")},u=0;u<c.align.length;u++)/^ *-+: *$/.test(c.align[u])?c.align[u]="right":/^ *:-+: *$/.test(c.align[u])?c.align[u]="center":/^ *:-+ *$/.test(c.align[u])?c.align[u]="left":c.align[u]=null;for(u=0;u<c.cells.length;u++)c.cells[u]=c.cells[u].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(c)}else if(t&&(o=this.rules.paragraph.exec(e)))e=e.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var f={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:a,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:a,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};f._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,f._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,f.link=s(f.link)("inside",f._inside)("href",f._href)(),f.reflink=s(f.reflink)("inside",f._inside)(),f.normal=c({},f),f.pedantic=c({},f.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),f.gfm=c({},f.normal,{escape:s(f.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:s(f.text)("]|","~]|")("|","|https?://|")()}),f.breaks=c({},f.gfm,{br:s(f.br)("{2,}","*")(),text:s(f.gfm.text)("{2,}","*")()}),t.rules=f,t.output=function(e,n,i){return new t(n,i).output(e)},t.prototype.output=function(e){for(var t,n,i,o,s="";e;)if(o=this.rules.escape.exec(e))e=e.substring(o[0].length),s+=o[1];else if(o=this.rules.autolink.exec(e))e=e.substring(o[0].length),"@"===o[2]?(n=":"===o[1].charAt(6)?this.mangle(o[1].substring(7)):this.mangle(o[1]),i=this.mangle("mailto:")+n):i=n=r(o[1]),s+=this.renderer.link(i,null,n);else if(this.inLink||!(o=this.rules.url.exec(e))){if(o=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(o[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(o[0])&&(this.inLink=!1),e=e.substring(o[0].length),s+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):r(o[0]):o[0];else if(o=this.rules.link.exec(e))e=e.substring(o[0].length),this.inLink=!0,s+=this.outputLink(o,{href:o[2],title:o[3]}),this.inLink=!1;else if((o=this.rules.reflink.exec(e))||(o=this.rules.nolink.exec(e))){if(e=e.substring(o[0].length),t=(o[2]||o[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){s+=o[0].charAt(0),e=o[0].substring(1)+e;continue}this.inLink=!0,s+=this.outputLink(o,t),this.inLink=!1}else if(o=this.rules.strong.exec(e))e=e.substring(o[0].length),s+=this.renderer.strong(this.output(o[2]||o[1]));else if(o=this.rules.em.exec(e))e=e.substring(o[0].length),s+=this.renderer.em(this.output(o[2]||o[1]));else if(o=this.rules.code.exec(e))e=e.substring(o[0].length),s+=this.renderer.codespan(r(o[2],!0));else if(o=this.rules.br.exec(e))e=e.substring(o[0].length),s+=this.renderer.br();else if(o=this.rules.del.exec(e))e=e.substring(o[0].length),s+=this.renderer.del(this.output(o[1]));else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),s+=this.renderer.text(r(this.smartypants(o[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(o[0].length),i=n=r(o[1]),s+=this.renderer.link(i,null,n);return s},t.prototype.outputLink=function(e,t){var n=r(t.href),i=t.title?r(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,i,this.output(e[1])):this.renderer.image(n,i,r(e[1]))},t.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},t.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",i=e.length,r=0;r<i;r++)t=e.charCodeAt(r),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},n.prototype.code=function(e,t,n){if(this.options.highlight){var i=this.options.highlight(e,t);null!=i&&i!==e&&(n=!0,e=i)}return t?'<pre><code class="'+this.options.langPrefix+r(t,!0)+'">'+(n?e:r(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:r(e,!0))+"\n</code></pre>"},n.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},n.prototype.html=function(e){return e},n.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},n.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},n.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},n.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},n.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},n.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},n.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},n.prototype.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},n.prototype.strong=function(e){return"<strong>"+e+"</strong>"},n.prototype.em=function(e){return"<em>"+e+"</em>"},n.prototype.codespan=function(e){return"<code>"+e+"</code>"},n.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},n.prototype.del=function(e){return"<del>"+e+"</del>"},n.prototype.link=function(e,t,n){if(this.options.sanitize){try{var i=decodeURIComponent(o(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return""}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:")||0===i.indexOf("data:"))return""}var r='<a href="'+e+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>"},n.prototype.image=function(e,t,n){var i='<img src="'+e+'" alt="'+n+'"';return t&&(i+=' title="'+t+'"'),i+=this.options.xhtml?"/>":">"},n.prototype.text=function(e){return e},i.parse=function(e,t,n){return new i(t,n).parse(e)},i.prototype.parse=function(e){this.inline=new t(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var n="";this.next();)n+=this.tok();return n},i.prototype.next=function(){return this.token=this.tokens.pop()},i.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},i.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},i.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,i,r="",o="";for(n="",e=0;e<this.token.header.length;e++)({header:!0,align:this.token.align[e]}),n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(r+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",i=0;i<t.length;i++)n+=this.renderer.tablecell(this.inline.output(t[i]),{header:!1,align:this.token.align[i]});o+=this.renderer.tablerow(n)}return this.renderer.table(r,o);case"blockquote_start":for(o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":for(var o="",s=this.token.ordered;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,s);case"list_item_start":for(o="";"list_item_end"!==this.next().type;)o+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(o);case"loose_item_start":for(o="";"list_item_end"!==this.next().type;)o+=this.tok();return this.renderer.listitem(o);case"html":var a=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(a);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},a.exec=a,l.options=l.setOptions=function(e){return c(l.defaults,e),l},l.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new n,xhtml:!1},l.Parser=i,l.parser=i.parse,l.Renderer=n,l.Lexer=e,l.lexer=e.lex,l.InlineLexer=t,l.inlineLexer=t.output,l.parse=l,define("vs/base/common/marked/raw.marked",[],function(){return l}),define(u[183],d([1359]),function(e){return{marked:e}}),define(u[79],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.inMemory="inmemory",e.vscode="vscode",e.internal="private",e.walkThrough="walkThrough",e.walkThroughSnippet="walkThroughSnippet",e.http="http",e.https="https",e.file="file",e.untitled="untitled"}(t.Schemas||(t.Schemas={}))}),define(u[11],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=!1,i=!1,r=!1,o=!1,s=!1,a=!1,c=void 0,l=void 0;if(t.LANGUAGE_DEFAULT="en","object"==typeof process){n="win32"===process.platform,i="darwin"===process.platform,r="linux"===process.platform,o=!n&&0===process.getuid();var u=process.env.VSCODE_NLS_CONFIG;if(u)try{var d=JSON.parse(u),h=d.availableLanguages["*"];c=d.locale,l=h||t.LANGUAGE_DEFAULT}catch(e){}s=!0}else if("object"==typeof navigator){var p=navigator.userAgent;n=p.indexOf("Windows")>=0,i=p.indexOf("Macintosh")>=0,r=p.indexOf("Linux")>=0,a=!0,l=c=navigator.language}var f;!function(e){e[e.Web=0]="Web",e[e.Mac=1]="Mac",e[e.Linux=2]="Linux",e[e.Windows=3]="Windows"}(f=t.Platform||(t.Platform={}));var g=f.Web;s&&(i?g=f.Mac:n?g=f.Windows:r&&(g=f.Linux)),t.isWindows=n,t.isMacintosh=i,t.isLinux=r,t.isRootUser=o,t.isNative=s,t.isWeb=a,t.platform=g,t.language=l,t.locale=c;var v="object"==typeof self?self:global;t.globals=v,t.hasWebWorkerSupport=function(){return void 0!==v.Worker},t.setTimeout=v.setTimeout.bind(v),t.clearTimeout=v.clearTimeout.bind(v),t.setInterval=v.setInterval.bind(v),t.clearInterval=v.clearInterval.bind(v);!function(e){e[e.Windows=1]="Windows",e[e.Macintosh=2]="Macintosh",e[e.Linux=3]="Linux"}(t.OperatingSystem||(t.OperatingSystem={})),t.OS=i?2:n?1:3;!function(e){e[e.Unknown=0]="Unknown",e[e.Disabled=1]="Disabled",e[e.Enabled=2]="Enabled"}(t.AccessibilitySupport||(t.AccessibilitySupport={}))}),define(u[376],d([1,0,11]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n.globals;i.Monaco||(i.Monaco={}),i.Monaco.Diagnostics={};i.Monaco.Diagnostics,new Map;t.register=function(e,t){return function(){}}}),define(u[244],d([1,0]),function(e,t){"use strict";function n(e){return 65<=e&&e<=90}Object.defineProperty(t,"__esModule",{value:!0});/*!
    BEGIN THIRD PARTY
    */
/*!
    * string_score.js: String Scoring Algorithm 0.1.22
    *
    * http://joshaven.com/string_score
    * https://github.com/joshaven/string_score
    *
    * Copyright (C) 2009-2014 Joshaven Potter <yourtech@gmail.com>
    * Special thanks to all of the contributors listed here https://github.com/joshaven/string_score
    * MIT License: http://opensource.org/licenses/MIT
    *
    * Date: Tue Mar 1 2011
    * Updated: Tue Mar 10 2015
    */
var i=["-","_"," ","/","\\","."];t.score=function(e,t,r){if(!e||!t)return 0;var o=e+t,s=r&&r[o];if("number"==typeof s)return s;for(var a=t.length,c=e.toLowerCase(),l=t.toLowerCase(),u=0,d=0,h=0;u<a&&"break"!==function(){var r=c.indexOf(l[u],d);if(r<0)return h=0,"break";h+=1,d===r&&(h+=5),e[r]===t[r]&&(h+=1),0===r?h+=8:i.some(function(t){return t===e[r-1]})?h+=7:n(e.charCodeAt(r))&&(h+=1),d=r+1,u++}(););return r&&(r[o]=h),h},t.matches=function(e,t){if(!e||!t)return!1;for(var n=t.length,i=e.toLowerCase(),r=0,o=-1;r<n;){var s=i.indexOf(t[r],o+1);if(s<0)return!1;o=s,r++}return!0}}),/*!
END THIRD PARTY
*/
define(u[414],d([1,0,11]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n.globals.performance&&"function"==typeof n.globals.performance.now,r=function(){function e(e){this._highResolution=i&&e,this._startTime=this._now(),this._stopTime=-1}return e.create=function(t){return void 0===t&&(t=!0),new e(t)},e.prototype.stop=function(){this._stopTime=this._now()},e.prototype.elapsed=function(){return-1!==this._stopTime?this._stopTime-this._startTime:this._now()-this._startTime},e.prototype._now=function(){return this._highResolution?n.globals.performance.now():(new Date).getTime()},e}();t.StopWatch=r}),define(u[24],d([1,0]),function(e,t){"use strict";function n(e){return Array.isArray?Array.isArray(e):!(!e||typeof e.length!==c.number||e.constructor!==Array)}function i(e){return typeof e===c.string||e instanceof String}function r(e){return!(typeof e!==c.object||null===e||Array.isArray(e)||e instanceof RegExp||e instanceof Date)}function o(e){return typeof e===c.undefined}function s(e){return typeof e===c.function}function a(e,t){if(i(t)){if(typeof e!==t)throw new Error("argument does not match constraint: typeof "+t)}else if(s(t)){if(e instanceof t)return;if(e&&e.constructor===t)return;if(1===t.length&&!0===t.call(void 0,e))return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}Object.defineProperty(t,"__esModule",{value:!0});var c={number:"number",string:"string",undefined:"undefined",object:"object",function:"function"};t.isArray=n,t.isString=i,t.isStringArray=function(e){return n(e)&&e.every(function(e){return i(e)})},t.isObject=r,t.isNumber=function(e){return(typeof e===c.number||e instanceof Number)&&!isNaN(e)},t.isBoolean=function(e){return!0===e||!1===e},t.isUndefined=o,t.isUndefinedOrNull=function(e){return o(e)||null===e};var l=Object.prototype.hasOwnProperty;t.isEmptyObject=function(e){if(!r(e))return!1;for(var t in e)if(l.call(e,t))return!1;return!0},t.isFunction=s,t.areFunctions=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e&&e.length>0&&e.every(s)},t.validateConstraints=function(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i++)a(e[i],t[i])},t.validateConstraint=a,t.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=Object.create(e.prototype);return e.apply(i,t),i}}),define(u[1335],d([1,0,24,131]),function(e,t,n,i){"use strict";function r(e){return{data:e,incoming:Object.create(null),outgoing:Object.create(null)}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this._hashFn=e,this._nodes=Object.create(null)}return e.prototype.roots=function(){var e=[];return i.forEach(this._nodes,function(t){n.isEmptyObject(t.value.outgoing)&&e.push(t.value)}),e},e.prototype.traverse=function(e,t,n){var i=this.lookup(e);i&&this._traverse(i,t,Object.create(null),n)},e.prototype._traverse=function(e,t,n,r){var o=this,s=this._hashFn(e.data);if(!n[s]){n[s]=!0,r(e.data);var a=t?e.outgoing:e.incoming;i.forEach(a,function(e){return o._traverse(e.value,t,n,r)})}},e.prototype.insertEdge=function(e,t){var n=this.lookupOrInsertNode(e),i=this.lookupOrInsertNode(t);n.outgoing[this._hashFn(t)]=i,i.incoming[this._hashFn(e)]=n},e.prototype.removeNode=function(e){var t=this._hashFn(e);delete this._nodes[t],i.forEach(this._nodes,function(e){delete e.value.outgoing[t],delete e.value.incoming[t]})},e.prototype.lookupOrInsertNode=function(e){var t=this._hashFn(e),n=this._nodes[t];return n||(n=r(e),this._nodes[t]=n),n},e.prototype.lookup=function(e){return this._nodes[this._hashFn(e)]},Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this._nodes).length},enumerable:!0,configurable:!0}),e.prototype.toString=function(){var e=[];return i.forEach(this._nodes,function(t){e.push(t.key+", (incoming)["+Object.keys(t.value.incoming).join(", ")+"], (outgoing)["+Object.keys(t.value.outgoing).join(",")+"]")}),e.join("\n")},e}();t.Graph=o}),define(u[1331],d([1,0,24]),function(e,t,n){"use strict";function i(e,t,i){var r,o;n.isNumber(t)?(r=e,o=t):(r=0,o=e,i=t);for(var s=r<=o?function(e){return e+1}:function(e){return e-1},a=r<=o?function(e,t){return e<t}:function(e,t){return e>t},c=r;a(c,o);c=s(c))i(c)}Object.defineProperty(t,"__esModule",{value:!0}),t.count=i,t.countToArray=function(e,t){var r=[],o=function(e){return r.push(e)};return n.isUndefined(t)?i(e,o):i(e,t,o),r}}),define(u[26],d([1,0,24]),function(e,t,n){"use strict";function i(e){if(!e||"object"!=typeof e)return e;if(e instanceof RegExp)return e;var t=Array.isArray(e)?[]:{};return Object.keys(e).forEach(function(n){e[n]&&"object"==typeof e[n]?t[n]=i(e[n]):t[n]=e[n]}),t}function r(e){if(!e||"object"!=typeof e)return e;var t=Array.isArray(e)?[]:{};return Object.getOwnPropertyNames(e).forEach(function(n){e[n]&&"object"==typeof e[n]?t[n]=r(e[n]):t[n]=e[n]}),t}function o(e,t,i){if(n.isUndefinedOrNull(e))return e;var r=t(e);if(void 0!==r)return r;if(n.isArray(e)){for(var s=[],a=0;a<e.length;a++)s.push(o(e[a],t,i));return s}if(n.isObject(e)){if(i.indexOf(e)>=0)throw new Error("Cannot clone recursive data-structure");i.push(e);var c={};for(var l in e)u.call(e,l)&&(c[l]=o(e[l],t,i));return i.pop(),c}return e}function s(e,t,i){return void 0===i&&(i=!0),n.isObject(e)?(n.isObject(t)&&Object.keys(t).forEach(function(r){r in e?i&&(n.isObject(e[r])&&n.isObject(t[r])?s(e[r],t[r],i):e[r]=t[r]):e[r]=t[r]}),e):t}function a(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach(function(t){return Object.keys(t).forEach(function(n){return e[n]=t[n]})}),e}function c(e,t){if(e===t)return!0;if(null===e||void 0===e||null===t||void 0===t)return!1;if(typeof e!=typeof t)return!1;if("object"!=typeof e)return!1;if(Array.isArray(e)!==Array.isArray(t))return!1;var n,i;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(!c(e[n],t[n]))return!1}else{var r=[];for(i in e)r.push(i);r.sort();var o=[];for(i in t)o.push(i);if(o.sort(),!c(r,o))return!1;for(n=0;n<r.length;n++)if(!c(e[r[n]],t[r[n]]))return!1}return!0}function l(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=!0;return t}Object.defineProperty(t,"__esModule",{value:!0}),t.clone=i,t.deepClone=r;var u=Object.prototype.hasOwnProperty;t.cloneAndChange=function(e,t){return o(e,t,[])},t.mixin=s,t.assign=a,t.toObject=function(e,t){return e.reduce(function(e,n){return a(e,(i={},i[t(n)]=n,i));var i},Object.create(null))},t.equals=c,t.ensureProperty=function(e,t,n){void 0===e[t]&&(e[t]=n)},t.arrayToHash=l,t.createKeywordMatcher=function(e,t){void 0===t&&(t=!1),t&&(e=e.map(function(e){return e.toLowerCase()}));var n=l(e);return t?function(e){return void 0!==n[e.toLowerCase()]&&n.hasOwnProperty(e.toLowerCase())}:function(e){return void 0!==n[e]&&n.hasOwnProperty(e)}},t.derive=function(e,t){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t=t||function(){};var i=e.prototype,r=t.prototype;t.prototype=Object.create(i);for(var n in r)r.hasOwnProperty(n)&&Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(r,n));Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,configurable:!0,enumerable:!0})},t.safeStringify=function(e){var t=[];return JSON.stringify(e,function(e,i){if(n.isObject(i)||Array.isArray(i)){if(-1!==t.indexOf(i))return"[Circular]";t.push(i)}return i})},t.getOrDefault=function(e,t,n){void 0===n&&(n=null);var i=t(e);return void 0===i?n:i},t.distinct=function(e,t){var n=Object.create(null);return e&&t?(Object.keys(t).forEach(function(i){var r=e[i],o=t[i];c(r,o)||(n[i]=o)}),n):n}}),define(u[240],d([1,0,24]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i;!function(e){e[e.OK=0]="OK",e[e.Info=1]="Info",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Fatal=4]="Fatal"}(i=t.ValidationState||(t.ValidationState={}));var r=function(){function e(){this._state=i.OK}return Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(e){e>this._state&&(this._state=e)},enumerable:!0,configurable:!0}),e.prototype.isOK=function(){return this._state===i.OK},e.prototype.isFatal=function(){return this._state===i.Fatal},e}();t.ValidationStatus=r;var o=function(){function e(){this.status=new r}return e.prototype.info=function(e){},e.prototype.warn=function(e){},e.prototype.error=function(e){},e.prototype.fatal=function(e){},e}();t.NullProblemReporter=o;var s=function(){function e(e){this._problemReporter=e}return e.prototype.reset=function(){this._problemReporter.status.state=i.OK},Object.defineProperty(e.prototype,"problemReporter",{get:function(){return this._problemReporter},enumerable:!0,configurable:!0}),e.prototype.info=function(e){this._problemReporter.info(e)},e.prototype.warn=function(e){this._problemReporter.warn(e)},e.prototype.error=function(e){this._problemReporter.error(e)},e.prototype.fatal=function(e){this._problemReporter.fatal(e)},e.prototype.is=function(e,t,i,r,o,s){return n.isUndefined(e)?(o&&(this._problemReporter.status.state=o),s&&this._problemReporter.info(s),!1):!!t(e)||(i&&(this._problemReporter.status.state=i),r&&this.info(r),!1)},e.merge=function(e,t,i){var r=this;Object.keys(t).forEach(function(o){var s=e[o],a=t[o];n.isUndefined(a)||(n.isUndefined(s)?e[o]=a:i&&(n.isObject(s)&&n.isObject(a)?r.merge(s,a,i):e[o]=a))})},e}();t.Parser=s;var a=function(){function e(){}return e.prototype.resolve=function(e){return n.isString(e)?this.resolveString(e):n.isArray(e)?this.__resolveArray(e):n.isObject(e)?this.__resolveLiteral(e):e},e.prototype.resolveAny=function(e){return n.isString(e)?this.resolveString(e):n.isArray(e)?this.__resolveAnyArray(e):n.isObject(e)?this.__resolveAnyLiteral(e):e},e.prototype.resolveString=function(e){var t=this,i=/\$\{(.*?)\}/g;return e.replace(i,function(e,i){var r=t[i];return n.isString(r)?r:e&&e.indexOf("env.")>0?"":e})},e.prototype.__resolveLiteral=function(e){var t=this,n=Object.create(null);return Object.keys(e).forEach(function(i){var r=e[i];n[i]=t.resolve(r)}),n},e.prototype.__resolveAnyLiteral=function(e){var t=this,n=Object.create(null);return Object.keys(e).forEach(function(i){var r=e[i];n[i]=t.resolveAny(r)}),n},e.prototype.__resolveArray=function(e){var t=this;return e.map(function(e){return t.resolveString(e)})},e.prototype.__resolveAnyArray=function(e){var t=this;return e.map(function(e){return t.resolveAny(e)})},e}();t.AbstractSystemVariables=a}),define(u[16],d([1,0,11]),function(e,t,n){"use strict";function i(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}function r(e){return encodeURIComponent(e).replace(/[!'()*]/g,i)}function o(e){return e.replace(/[#?]/,i)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(){this._scheme=e._empty,this._authority=e._empty,this._path=e._empty,this._query=e._empty,this._fragment=e._empty,this._formatted=null,this._fsPath=null}return e.isUri=function(t){return t instanceof e||!!t&&("string"==typeof t.authority&&"string"==typeof t.fragment&&"string"==typeof t.path&&"string"==typeof t.query&&"string"==typeof t.scheme)},Object.defineProperty(e.prototype,"scheme",{get:function(){return this._scheme},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"authority",{get:function(){return this._authority},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"query",{get:function(){return this._query},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fragment",{get:function(){return this._fragment},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fsPath",{get:function(){if(!this._fsPath){var t;t=this._authority&&this._path&&"file"===this.scheme?"//"+this._authority+this._path:e._driveLetterPath.test(this._path)?this._path[1].toLowerCase()+this._path.substr(2):this._path,n.isWindows&&(t=t.replace(/\//g,"\\")),this._fsPath=t}return this._fsPath},enumerable:!0,configurable:!0}),e.prototype.with=function(t){if(!t)return this;var n=t.scheme,i=t.authority,r=t.path,o=t.query,s=t.fragment;if(void 0===n?n=this.scheme:null===n&&(n=""),void 0===i?i=this.authority:null===i&&(i=""),void 0===r?r=this.path:null===r&&(r=""),void 0===o?o=this.query:null===o&&(o=""),void 0===s?s=this.fragment:null===s&&(s=""),n===this.scheme&&i===this.authority&&r===this.path&&o===this.query&&s===this.fragment)return this;var a=new e;return a._scheme=n,a._authority=i,a._path=r,a._query=o,a._fragment=s,e._validate(a),a},e.parse=function(t){var n=new e,i=e._parseComponents(t);return n._scheme=i.scheme,n._authority=decodeURIComponent(i.authority),n._path=decodeURIComponent(i.path),n._query=decodeURIComponent(i.query),n._fragment=decodeURIComponent(i.fragment),e._validate(n),n},e.file=function(t){var i=new e;if(i._scheme="file",n.isWindows&&(t=t.replace(/\\/g,e._slash)),t[0]===e._slash&&t[0]===t[1]){var r=t.indexOf(e._slash,2);-1===r?i._authority=t.substring(2):(i._authority=t.substring(2,r),i._path=t.substring(r))}else i._path=t;return i._path[0]!==e._slash&&(i._path=e._slash+i._path),e._validate(i),i},e._parseComponents=function(t){var n={scheme:e._empty,authority:e._empty,path:e._empty,query:e._empty,fragment:e._empty},i=e._regexp.exec(t);return i&&(n.scheme=i[2]||n.scheme,n.authority=i[4]||n.authority,n.path=i[5]||n.path,n.query=i[7]||n.query,n.fragment=i[9]||n.fragment),n},e.from=function(t){return(new e).with(t)},e._validate=function(t){if(t.scheme&&!e._schemePattern.test(t.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(t.path)if(t.authority){if(!e._singleSlashStart.test(t.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(e._doubleSlashStart.test(t.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')},e.prototype.toString=function(t){return void 0===t&&(t=!1),t?e._asFormatted(this,!0):(this._formatted||(this._formatted=e._asFormatted(this,!1)),this._formatted)},e._asFormatted=function(t,n){var i=n?o:r,s=[],a=t.scheme,c=t.authority,l=t.path,u=t.query,d=t.fragment;if(a&&s.push(a,":"),(c||"file"===a)&&s.push("//"),c&&(-1===(f=(c=c.toLowerCase()).indexOf(":"))?s.push(i(c)):s.push(i(c.substr(0,f)),c.substr(f))),l){var h=e._upperCaseDrive.exec(l);h&&(l=h[1]?"/"+h[2].toLowerCase()+l.substr(3):h[2].toLowerCase()+l.substr(2));for(var p=0;;){var f=l.indexOf(e._slash,p);if(-1===f){s.push(i(l.substring(p)));break}s.push(i(l.substring(p,f)),e._slash),p=f+1}}return u&&s.push("?",i(u)),d&&s.push("#",i(d)),s.join(e._empty)},e.prototype.toJSON=function(){var e={fsPath:this.fsPath,external:this.toString(),$mid:1};return this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e},e.revive=function(t){var n=new e;return n._scheme=t.scheme||e._empty,n._authority=t.authority||e._empty,n._path=t.path||e._empty,n._query=t.query||e._empty,n._fragment=t.fragment||e._empty,n._fsPath=t.fsPath,n._formatted=t.external,e._validate(n),n},e}();s._empty="",s._slash="/",s._regexp=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,s._driveLetterPath=/^\/[a-zA-z]:/,s._upperCaseDrive=/^(\/)?([A-Z]:)/,s._schemePattern=/^\w[\w\d+.-]*$/,s._singleSlashStart=/^\//,s._doubleSlashStart=/^\/\//,t.default=s}),define(u[70],d([1,0,16]),function(e,t,n){"use strict";function i(e){var t=[];return e.forEach(function(e){return t.push(e)}),t}function r(e){var t=[];return e.forEach(function(e,n){return t.push(n)}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.values=i,t.keys=r,t.getOrSet=function(e,t,n){var i=e.get(t);return void 0===i&&(i=n,e.set(t,i)),i};var o=function(){function e(e,t,n){void 0===e&&(e=Number.MAX_VALUE),void 0===t&&(t=1);var i=this;this.limit=e,this.map=new Map,this.ratio=e*t,n&&n.entries.forEach(function(e){i.set(e.key,e.value)})}return e.prototype.setLimit=function(e){if(!(e<0))for(this.limit=e;this.map.size>this.limit;)this.trim()},e.prototype.serialize=function(){var e={entries:[]};return this.map.forEach(function(t){e.entries.push({key:t.key,value:t.value})}),e},Object.defineProperty(e.prototype,"size",{get:function(){return this.map.size},enumerable:!0,configurable:!0}),e.prototype.set=function(e,t){if(this.map.has(e))return!1;var n={key:e,value:t};return this.push(n),this.size>this.limit&&this.trim(),!0},e.prototype.get=function(e){var t=this.map.get(e);return t?t.value:null},e.prototype.getOrSet=function(e,t){var n=this.get(e);return n||(this.set(e,t),t)},e.prototype.delete=function(e){var t=this.map.get(e);return t?(this.map.delete(e),t.next?t.next.prev=t.prev:this.head=t.prev,t.prev?t.prev.next=t.next:this.tail=t.next,t.value):null},e.prototype.has=function(e){return this.map.has(e)},e.prototype.clear=function(){this.map.clear(),this.head=null,this.tail=null},e.prototype.push=function(e){this.head&&(e.prev=this.head,this.head.next=e),this.tail||(this.tail=e),this.head=e,this.map.set(e.key,e)},e.prototype.trim=function(){if(this.tail)if(this.ratio<this.limit)for(var e=0,t=this.tail;t.next;){if(this.map.delete(t.key),e===this.ratio){this.tail=t.next,this.tail.prev=null;break}t=t.next,e++}else this.map.delete(this.tail.key),this.tail=this.tail.next,this.tail&&(this.tail.prev=null)},e}();t.BoundedMap=o;var s=function(){return function(){this.children=new Map}}(),a=function(){function e(e){this._root=new s,this._splitter=e}return e.prototype.insert=function(e,t){for(var n=this._splitter(e),i=0,r=this._root;i<n.length;i++){var o=r.children.get(n[i]);if(!o)break;r=o}for(var a;i<n.length;i++)a=new s,r.children.set(n[i],a),r=a;r.element=t},e.prototype.lookUp=function(e){for(var t,n=this._splitter(e),i=this._root.children,r=0,o=n;r<o.length;r++){var s=o[r];if(!(t=i.get(s)))return;i=t.children}return t.element},e.prototype.findSubstr=function(e){for(var t,n=this._splitter(e),i=this._root.children,r=0,o=n;r<o.length;r++){var s=o[r],a=i.get(s);if(!a)break;a.element&&(t=a),i=a.children}if(t)return t.element},e.prototype.findSuperstr=function(t){for(var n,i=this._splitter(t),r=this._root.children,o=0,s=i;o<s.length;o++){var a=s[o];if(!(n=r.get(a)))return;r=n.children}var c=new e(this._splitter);return c._root=n,c},e}();a.PathSplitter=function(e){return e.split(/[\\/]/).filter(function(e){return!!e})},t.TrieMap=a;var c=function(){function e(e){this.ignoreCase=e,this.map=new Map}return e.prototype.set=function(e,t){this.map.set(this.toKey(e),t)},e.prototype.get=function(e){return this.map.get(this.toKey(e))},e.prototype.has=function(e){return this.map.has(this.toKey(e))},Object.defineProperty(e.prototype,"size",{get:function(){return this.map.size},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this.map.clear()},e.prototype.delete=function(e){return this.map.delete(this.toKey(e))},e.prototype.forEach=function(e){this.map.forEach(e)},e.prototype.values=function(){return i(this.map)},e.prototype.toKey=function(e){var t=e.toString();return this.ignoreCase&&(t=t.toLowerCase()),t},e}();t.ResourceMap=c;var l=function(e){function t(){return e.call(this)||this}return h(t,e),t.prototype.keys=function(){return r(this.map).map(function(e){return n.default.parse(e)})},t}(c);t.StrictResourceMap=l;var u;!function(e){e.None=0,e.First=1,e.Last=2}(u=t.Touch||(t.Touch={}));var d=function(){function e(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}return e.prototype.clear=function(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0},e.prototype.isEmpty=function(){return!this._head&&!this._tail},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.get=function(e){var t=this._map.get(e);if(t)return t.value},e.prototype.set=function(e,t,n){void 0===n&&(n=u.None);var i=this._map.get(e);if(i)i.value=t,n!==u.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case u.None:this.addItemLast(i);break;case u.First:this.addItemFirst(i);break;case u.Last:default:this.addItemLast(i)}this._map.set(e,i),this._size++}},e.prototype.delete=function(e){return!!this.remove(e)},e.prototype.remove=function(e){var t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value},e.prototype.shift=function(){if(this._head||this._tail){if(!this._head||!this._tail)throw new Error("Invalid list");var e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}},e.prototype.forEach=function(e,t){for(var n=this._head;n;)t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),n=n.next},e.prototype.forEachReverse=function(e,t){for(var n=this._tail;n;)t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),n=n.previous},e.prototype.values=function(){for(var e=[],t=this._head;t;)e.push(t.value),t=t.next;return e},e.prototype.keys=function(){for(var e=[],t=this._head;t;)e.push(t.key),t=t.next;return e},e.prototype.addItemFirst=function(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e},e.prototype.addItemLast=function(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e},e.prototype.removeItem=function(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head)this._head=e.next;else if(e===this._tail)this._tail=e.previous;else{var t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}},e.prototype.touch=function(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===u.First||t===u.Last)if(t===u.First){if(e===this._head)return;var n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e}else if(t===u.Last){if(e===this._tail)return;var n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e}},e}();t.LinkedMap=d}),define(u[323],d([1,0,16]),function(e,t,n){"use strict";function i(e,t){return t instanceof RegExp?{$mid:2,source:t.source,flags:(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")}:t}function r(e,t){var i;switch(void 0!==t&&null!==t&&(i=t.$mid),i){case 1:return n.default.revive(t);case 2:return new RegExp(t.source,t.flags);default:return t}}Object.defineProperty(t,"__esModule",{value:!0}),t.stringify=function(e){return JSON.stringify(e,i)},t.parse=function(e){return JSON.parse(e,r)}}),define(u[12],d([1,0,70]),function(e,t,n){"use strict";function i(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\[\]\(\)\#]/g,"\\$&")}function r(e,t){if(!e||!t)return e;var n=t.length;if(0===n||0===e.length)return e;for(var i=0;e.indexOf(t,i)===i;)i+=n;return e.substring(i)}function o(e,t){if(!e||!t)return e;var n=t.length,i=e.length;if(0===n||0===i)return e;for(var r=i,o=-1;;){if(-1===(o=e.lastIndexOf(t,r-1))||o+n!==r)break;if(0===o)return"";r=o}return e.substring(0,r)}function s(e,t){return e<t?-1:e>t?1:0}function a(e){return e>=97&&e<=122}function c(e){return e>=65&&e<=90}function l(e){return a(e)||c(e)}function u(e,t,n){if(void 0===n&&(n=e.length),"string"!=typeof e||"string"!=typeof t)return!1;for(var i=0;i<n;i++){var r=e.charCodeAt(i),o=t.charCodeAt(i);if(r!==o)if(l(r)&&l(o)){var s=Math.abs(r-o);if(0!==s&&32!==s)return!1}else if(String.fromCharCode(r).toLowerCase()!==String.fromCharCode(o).toLowerCase())return!1}return!0}function d(e,t,n,i,r,o){for(;t<n&&r<o;){if(e[t]!==i[r])return!1;t+=1,r+=1}return!0}function h(e){return(e=+e)>=11904&&e<=55215||e>=63744&&e<=64255||e>=65281&&e<=65374}Object.defineProperty(t,"__esModule",{value:!0}),t.empty="",t.isFalsyOrWhitespace=function(e){return!e||"string"!=typeof e||0===e.trim().length},t.pad=function(e,t,n){void 0===n&&(n="0");for(var i=""+e,r=[i],o=i.length;o<t;o++)r.push(n);return r.reverse().join("")};var p=/{(\d+)}/g;t.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return 0===t.length?e:e.replace(p,function(e,n){var i=parseInt(n,10);return isNaN(i)||i<0||i>=t.length?e:t[i]})},t.escape=function(e){return e.replace(/[<|>|&]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}})},t.escapeRegExpCharacters=i,t.trim=function(e,t){return void 0===t&&(t=" "),o(r(e,t),t)},t.ltrim=r,t.rtrim=o,t.convertSimple2RegExpPattern=function(e){return e.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")},t.stripWildcards=function(e){return e.replace(/\*/g,"")},t.startsWith=function(e,t){if(e.length<t.length)return!1;for(var n=0;n<t.length;n++)if(e[n]!==t[n])return!1;return!0},t.endsWith=function(e,t){var n=e.length-t.length;return n>0?e.indexOf(t,n)===n:0===n&&e===t},t.indexOfIgnoreCase=function(e,t,n){void 0===n&&(n=0);var r=e.indexOf(t,n);return r<0&&(n>0&&(e=e.substr(n)),t=i(t),r=e.search(new RegExp(t,"i"))),r},t.createRegExp=function(e,t,n){if(void 0===n&&(n={}),!e)throw new Error("Cannot create regex from empty string");t||(e=i(e)),n.wholeWord&&(/\B/.test(e.charAt(0))||(e="\\b"+e),/\B/.test(e.charAt(e.length-1))||(e+="\\b"));var r="";return n.global&&(r+="g"),n.matchCase||(r+="i"),n.multiline&&(r+="m"),new RegExp(e,r)},t.regExpLeadsToEndlessLoop=function(e){return"^"!==e.source&&"^$"!==e.source&&"$"!==e.source&&e.exec("")&&0===e.lastIndex},t.canNormalize="function"==typeof"".normalize;var f=/[^\u0000-\u0080]/,g=new n.BoundedMap(1e4);t.normalizeNFC=function(e){if(!t.canNormalize||!e)return e;var n=g.get(e);if(n)return n;var i;return i=f.test(e)?e.normalize("NFC"):e,g.set(e,i),i},t.firstNonWhitespaceIndex=function(e){for(var t=0,n=e.length;t<n;t++){var i=e.charCodeAt(t);if(32!==i&&9!==i)return t}return-1},t.getLeadingWhitespace=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.length);for(var i=t;i<n;i++){var r=e.charCodeAt(i);if(32!==r&&9!==r)return e.substring(t,i)}return e.substring(t,n)},t.lastNonWhitespaceIndex=function(e,t){void 0===t&&(t=e.length-1);for(var n=t;n>=0;n--){var i=e.charCodeAt(n);if(32!==i&&9!==i)return n}return-1},t.compare=s,t.compareIgnoreCase=function(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i++){var r=e.charCodeAt(i),o=t.charCodeAt(i);if(r!==o){c(r)&&(r+=32),c(o)&&(o+=32);var l=r-o;if(0!==l)return a(r)&&a(o)?l:s(e.toLowerCase(),t.toLowerCase())}}return e.length<t.length?-1:e.length>t.length?1:0},t.equalsIgnoreCase=function(e,t){return(e?e.length:0)===(t?t.length:0)&&u(e,t)},t.beginsWithIgnoreCase=function(e,t){var n=t.length;return!(t.length>e.length)&&u(e,t,n)},t.commonPrefixLength=function(e,t){var n,i=Math.min(e.length,t.length);for(n=0;n<i;n++)if(e.charCodeAt(n)!==t.charCodeAt(n))return n;return i},t.commonSuffixLength=function(e,t){var n,i=Math.min(e.length,t.length),r=e.length-1,o=t.length-1;for(n=0;n<i;n++)if(e.charCodeAt(r-n)!==t.charCodeAt(o-n))return n;return i},t.overlap=function(e,t){var n=e.length,i=t.length,r=n-i;if(0===r)return e===t?n:0;for(r<0&&(i+=r,r=0);r<n&&i>0;){if(d(e,r,n,t,0,i))return i;i-=1,r+=1}return 0},t.isHighSurrogate=function(e){return 55296<=e&&e<=56319},t.isLowSurrogate=function(e){return 56320<=e&&e<=57343};var v=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;t.containsRTL=function(e){return v.test(e)};var m=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEF8]|\uD83E[\uDD00-\uDDE6])/;t.containsEmoji=function(e){return m.test(e)};var y=/^[\t\n\r\x20-\x7E]*$/;t.isBasicASCII=function(e){return y.test(e)},t.containsFullWidthCharacter=function(e){for(var t=0,n=e.length;t<n;t++)if(h(e.charCodeAt(t)))return!0;return!1},t.isFullWidthCharacter=h,t.difference=function(e,t,n){void 0===n&&(n=4);var i=Math.abs(e.length-t.length);if(i>n)return 0;var r,o,s=[],a=[];for(r=0;r<t.length+1;++r)a.push(0);for(r=0;r<e.length+1;++r)s.push(a);for(r=1;r<e.length+1;++r)for(o=1;o<t.length+1;++o)e[r-1]===t[o-1]?s[r][o]=s[r-1][o-1]+1:s[r][o]=Math.max(s[r-1][o],s[r][o-1]);return s[e.length][t.length]-Math.sqrt(i)},t.computeLineStarts=function(e){for(var t=/\r\n|\r|\n/g,n=[0];t.exec(e);)n.push(t.lastIndex);return n},t.lcut=function(e,n){if(e.length<n)return e;for(var i=e.split(/\b/),r=0,o=i.length-1;o>=0;o--)if((r+=i[o].length)>n){i.splice(0,o);break}return i.join(t.empty).replace(/^\s/,t.empty)};var b=/\x1B\x5B[12]?K/g,S=/\x1b\[\d+m/g,_=/\x1b\[0?m/g;t.removeAnsiEscapeCodes=function(e){return e&&(e=(e=(e=e.replace(b,"")).replace(S,"")).replace(_,"")),e},t.UTF8_BOM_CHARACTER=String.fromCharCode(65279),t.startsWithUTF8BOM=function(e){return e&&e.length>0&&65279===e.charCodeAt(0)},t.appendWithLimit=function(e,t,n){var i=e.length+t.length;return i>n&&(e="..."+e.substr(i-n)),t.length>n?e+=t.substr(t.length-n):e+=t,e},t.safeBtoa=function(e){return btoa(encodeURIComponent(e))},t.repeat=function(e,t){for(var n="",i=0;i<t;i++)n+=e;return n}}),define(u[122],d([1,0,12,70]),function(e,t,n,i){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t,n){for(var i=0,r=e.length;i<r;i++){var o=e[i](t,n);if(o)return o}return null}}function o(e,t,i){if(!i||i.length<t.length)return null;return(e?n.beginsWithIgnoreCase(i,t):0===i.indexOf(t))?t.length>0?[{start:0,end:t.length}]:[]:null}function s(e,t){var n=t.toLowerCase().indexOf(e.toLowerCase());return-1===n?null:[{start:n,end:n+e.length}]}function a(e,t){return c(e.toLowerCase(),t.toLowerCase(),0,0)}function c(e,t,n,i){if(n===e.length)return[];if(i===t.length)return null;if(e[n]===t[i]){var r=null;if(r=c(e,t,n+1,i+1))return f({start:i,end:i+1},r)}return c(e,t,n,i+1)}function l(e){return 97<=e&&e<=122}function u(e){return 65<=e&&e<=90}function d(e){return 48<=e&&e<=57}function h(e){return 32===e||9===e||10===e||13===e}function p(e){return l(e)||u(e)||d(e)}function f(e,t){return 0===t.length?t=[e]:e.end===t[0].start?t[0].start=e.start:t.unshift(e),t}function g(e,t){for(var n=t;n<e.length;n++){var i=e.charCodeAt(n);if(u(i)||d(i)||n>0&&!p(e.charCodeAt(n-1)))return n}return e.length}function v(e,t,n,i){if(n===e.length)return[];if(i===t.length)return null;if(e[n]!==t[i].toLowerCase())return null;var r=null,o=i+1;for(r=v(e,t,n+1,i+1);!r&&(o=g(t,o))<t.length;)r=v(e,t,n+1,o),o++;return null===r?null:f({start:i,end:i+1},r)}function m(e){for(var t=0,n=0,i=0,r=0,o=0,s=0;s<e.length;s++)u(o=e.charCodeAt(s))&&t++,l(o)&&n++,p(o)&&i++,d(o)&&r++;return{upperPercent:t/e.length,lowerPercent:n/e.length,alphaPercent:i/e.length,numericPercent:r/e.length}}function y(e){var t=e.upperPercent;return 0===e.lowerPercent&&t>.6}function b(e){var t=e.upperPercent,n=e.lowerPercent,i=e.alphaPercent,r=e.numericPercent;return n>.2&&t<.8&&i>.6&&r<.2}function S(e){for(var t=0,n=0,i=0,r=0,o=0;o<e.length;o++)u(i=e.charCodeAt(o))&&t++,l(i)&&n++,h(i)&&r++;return 0!==t&&0!==n||0!==r?t<=5:e.length<=30}function _(e,t){if(!t||0===t.length)return null;if(!S(e))return null;if(t.length>60)return null;var n=m(t);if(!b(n)){if(!y(n))return null;t=t.toLowerCase()}for(var i=null,r=0;r<t.length&&null===(i=v(e.toLowerCase(),t,0,r));)r=g(t,r+1);return i}function E(e,t,n,i,r){if(n===e.length)return[];if(i===t.length)return null;if(e[n]!==t[i].toLowerCase())return null;var o=null,s=i+1;if(o=E(e,t,n+1,i+1,r),!r)for(;!o&&(s=C(t,s))<t.length;)o=E(e,t,n+1,s,r),s++;return null===o?null:f({start:i,end:i+1},o)}function C(e,t){for(var n=t;n<e.length;n++)if(h(e.charCodeAt(n))||n>0&&h(e.charCodeAt(n-1)))return n;return e.length}function w(){for(var e=[],t=[0],n=1;n<=100;n++)t.push(-n);for(n=0;n<100;n++){var i=t.slice(0);i[0]=-n,e.push(i)}return e}function I(e,t,n,i,r){function o(e,t,n){for(void 0===n&&(n=" ");e.length<t;)e=n+e;return e}for(var s=" |   |"+i.split("").map(function(e){return o(e,3)}).join("|")+"\n",a=0;a<=n;a++)s+=0===a?" |":t[a-1]+"|",s+=e[a].slice(0,r+1).map(function(e){return o(e.toString(),3)}).join("|")+"\n";return s}function T(e,t,n){var i=e.length>100?100:e.length,r=t.length>100?100:t.length,o=0;for(void 0===n&&(n=i);o<n&&N[e[o]];)o+=1;if(o===i)return[-100,[]];if(!(i>r)){for(var s=e.toLowerCase(),a=t.toLowerCase(),c=o,l=0;c<i&&l<r;)s[c]===a[l]&&(c+=1),l+=1;if(c===i){for(c=o+1;c<=i;c++){var u="";for(l=1;l<=r;l++){var d=-1,h=a[l-1];s[c-1]===h&&(d=l===c-o?e[c-1]===t[l-1]?7:5:h!==t[l-1]?e[c-1]===t[l-1]?7:5:M[u]?5:1),D[c][l]=d;var p=P[c-1][l-1]+(d>1?1:d),f=P[c-1][l]+-1,g=P[c][l-1]+-1;g>=f?g>p?(P[c][l]=g,O[c][l]=4):g===p?(P[c][l]=g,O[c][l]=6):(P[c][l]=p,O[c][l]=2):f>p?(P[c][l]=f,O[c][l]=1):f===p?(P[c][l]=f,O[c][l]=3):(P[c][l]=p,O[c][l]=2),u=h}}if(R&&(console.log(I(P,e,i,t,r)),console.log(I(O,e,i,t,r)),console.log(I(D,e,i,t,r))),W.length=0,B=-100,V=o,k(i,r,0,new z,!1),0!==W.length)return[B,W[0].toArray()]}}}function k(e,t,n,i,r){if(!(W.length>=10||n<-25)){for(var o=0;e>V&&t>0;){var s=D[e][t],a=O[e][t];if(4===a)t-=1,r?n-=5:i.isEmpty()||(n-=1),r=!1,o=0;else{if(!(2&a))return;if(4&a&&k(e,t-1,i.isEmpty()?n:n-1,i.slice(),r),n+=s,e-=1,t-=1,i.unshift(t),r=!0,1===s){if(o+=1,e===V)return}else n+=1+o*(s-1),o=0}}(n-=t>=3?9:3*t)>B?(B=n,W.unshift(i)):W.push(i)}}function x(e,t){if(!(t+1>=e.length))return e.slice(0,t)+e[t+1]+e[t]+e.slice(t+2)}Object.defineProperty(t,"__esModule",{value:!0}),t.or=r,t.and=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t,n){for(var i=[],r=0,o=e.length;r<o;r++){var s=e[r](t,n);if(!s)return null;i=i.concat(s)}return i}},t.matchesStrictPrefix=o.bind(void 0,!1),t.matchesPrefix=o.bind(void 0,!0),t.matchesContiguousSubString=s,t.matchesSubString=a,t.matchesCamelCase=_,t.matchesWords=function(e,t,n){if(void 0===n&&(n=!1),!t||0===t.length)return null;for(var i=null,r=0;r<t.length&&null===(i=E(e.toLowerCase(),t,0,r,n));)r=C(t,r+1);return i};!function(e){e[e.Contiguous=0]="Contiguous",e[e.Separate=1]="Separate"}(t.SubstringMatching||(t.SubstringMatching={})),t.fuzzyContiguousFilter=r(t.matchesPrefix,_,s);var A=r(t.matchesPrefix,_,a),L=new i.BoundedMap(1e4);t.matchesFuzzy=function(e,i,r){if(void 0===r&&(r=!1),"string"!=typeof e||"string"!=typeof i)return null;var o=L.get(e);o||(o=new RegExp(n.convertSimple2RegExpPattern(e),"i"),L.set(e,o));var s=o.exec(i);return s?[{start:s.index,end:s.index+s[0].length}]:r?A(e,i):t.fuzzyContiguousFilter(e,i)},t.createMatches=function(e){var t=[];if(!e)return t;for(var n,i=0,r=e;i<r.length;i++){var o=r[i];n&&n.end===o?n.end+=1:(n={start:o,end:o+1},t.push(n))}return t};var P=w(),D=w(),O=w(),R=!1,M=Object.create(null);M._=!0,M["-"]=!0,M["."]=!0,M[" "]=!0,M["/"]=!0,M["\\"]=!0,M["'"]=!0,M['"']=!0,M[":"]=!0;var N=Object.create(null);N[" "]=!0,N["\t"]=!0;var F;!function(e){e[e.Top=1]="Top",e[e.Diag=2]="Diag",e[e.Left=4]="Left"}(F||(F={})),t.fuzzyScore=T;var W=[],B=0,V=0,z=function(){function e(){}return e.prototype.isEmpty=function(){return!this._data&&(!this._parent||this._parent.isEmpty())},e.prototype.unshift=function(e){this._data?this._data.unshift(e):this._data=[e]},e.prototype.slice=function(){var t=new e;return t._parent=this,t._parentLen=this._data?this._data.length:0,t},e.prototype.toArray=function(){if(!this._data)return this._parent.toArray();for(var e=[],t=this;t;)t._parent&&t._parent._data&&e.push(t._parent._data.slice(t._parent._data.length-t._parentLen)),t=t._parent;return Array.prototype.concat.apply(this._data,e)},e}();t.nextTypoPermutation=x,t.fuzzyScoreGraceful=function(e,t){for(var n=T(e,t),i=1;i<e.length-1&&!n;i++)n=T(x(e,i),t);return n}}),define(u[28],d([1,0,11,34,12]),function(e,t,n,i,r){"use strict";function o(e){var t=~e.lastIndexOf("/")||~e.lastIndexOf("\\");return 0===t?e:~t==e.length-1?o(e.substring(0,e.length-1)):e.substr(1+~t)}function s(e,t){return t?!p.test(e):!h.test(e)}function a(e,t){if(null===e||void 0===e)return e;var i=e.length;if(0===i)return".";var r=n.isWindows&&t;if(s(e,r))return e;for(var o=r?"\\":"/",a=l(e,o),u=a.length,d=!1,h="",p=a.length;p<=i;p++)if(p===i||47===e.charCodeAt(p)||92===e.charCodeAt(p)){if(c(e,u,p,"..")){var f=h.lastIndexOf(o),g=h.slice(f+1);(a||g.length>0)&&".."!==g&&(h=-1===f?"":h.slice(0,f),d=!0)}else c(e,u,p,".")&&(a||h||p<i-1)&&(d=!0);if(!d){var v=e.slice(u,p);""!==h&&h[h.length-1]!==o&&(h+=o),h+=v}u=p+1,d=!1}return a+h}function c(e,t,n,i){return t+i.length===n&&e.indexOf(i,t)===t}function l(e,t){if(void 0===t&&(t="/"),!e)return"";var n=e.length,i=e.charCodeAt(0);if(47===i||92===i){if((47===(i=e.charCodeAt(1))||92===i)&&47!==(i=e.charCodeAt(2))&&92!==i){for(var r=3,o=r;r<n&&(47!==(i=e.charCodeAt(r))&&92!==i);r++);if(i=e.charCodeAt(r+1),o!==r&&47!==i&&92!==i)for(r+=1;r<n;r++)if(47===(i=e.charCodeAt(r))||92===i)return e.slice(0,r+1).replace(/[\\/]/g,t)}return t}if((i>=65&&i<=90||i>=97&&i<=122)&&58===e.charCodeAt(1))return 47===(i=e.charCodeAt(2))||92===i?e.slice(0,2)+t:e.slice(0,2);var s=e.indexOf("://");if(-1!==s)for(s+=3;s<n;s++)if(47===(i=e.charCodeAt(s))||92===i)return e.slice(0,s+1);return""}function u(e){if(!e)return!1;var t=e.charCodeAt(0);if(47===t||92===t)return!0;if((t>=65&&t<=90||t>=97&&t<=122)&&e.length>2&&58===e.charCodeAt(1)){var n=e.charCodeAt(2);if(47===n||92===n)return!0}return!1}function d(e){return e&&47===e.charCodeAt(0)}Object.defineProperty(t,"__esModule",{value:!0}),t.sep="/",t.nativeSep=n.isWindows?"\\":"/",t.relative=function(e,o){for(var s=r.rtrim(a(e),t.sep),c=r.rtrim(a(o),t.sep),l=n.isLinux?s:s.toLowerCase(),u=n.isLinux?c:c.toLowerCase(),d=l.split(t.sep),h=u.split(t.sep),p=0,f=Math.min(d.length,h.length);p<f&&d[p]===h[p];p++);return i.fill(d.length-p,function(){return".."}).concat(c.split(t.sep).slice(p)).join(t.sep)},t.dirname=function(e){var i=~e.lastIndexOf("/")||~e.lastIndexOf("\\");if(0===i)return".";if(0==~i)return e[0];var r=e.substring(0,~i);return n.isWindows&&":"===r[r.length-1]&&(r+=t.nativeSep),r},t.basename=o,t.extname=function(e){var t=~(e=o(e)).lastIndexOf(".");return t?e.substring(~t):""};var h=/(\/\.\.?\/)|(\/\.\.?)$|^(\.\.?\/)|(\/\/+)|(\\)/,p=/(\\\.\.?\\)|(\\\.\.?)$|^(\.\.?\\)|(\\\\+)|(\/)/;t.normalize=a,t.getRoot=l,t.join=function(){for(var e="",n=0;n<arguments.length;n++){var i=arguments[n];if(n>0){var r=e.charCodeAt(e.length-1);if(47!==r&&92!==r){var o=i.charCodeAt(0);47!==o&&92!==o&&(e+=t.sep)}}e+=i}return a(e)},t.isUNC=function(e){if(!n.isWindows)return!1;if(!e||e.length<5)return!1;var t=e.charCodeAt(0);if(92!==t)return!1;if(92!==(t=e.charCodeAt(1)))return!1;for(var i=2,r=i;i<e.length&&92!==(t=e.charCodeAt(i));i++);return r!==i&&(t=e.charCodeAt(i+1),!isNaN(t)&&92!==t)};var f=n.isWindows?/[\\/:\*\?"<>\|]/g:/[\\/]/g,g=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])$/i;t.isValidBasename=function(e){return!(!e||0===e.length||/^\s+$/.test(e)||(f.lastIndex=0,f.test(e)||n.isWindows&&g.test(e)||"."===e||".."===e||n.isWindows&&"."===e[e.length-1]||n.isWindows&&e.length!==e.trim().length))},t.isEqual=function(e,t,n){var i=e===t;return!n||i?i:!(!e||!t)&&r.equalsIgnoreCase(e,t)},t.isEqualOrParent=function(e,n,i){if(e===n)return!0;if(!e||!n)return!1;if(n.length>e.length)return!1;if(i){if(!r.beginsWithIgnoreCase(e,n))return!1;if(n.length===e.length)return!0;var o=n.length;return n.charAt(n.length-1)===t.nativeSep&&o--,e.charAt(o)===t.nativeSep}return n.charAt(n.length-1)!==t.nativeSep&&(n+=t.nativeSep),0===e.indexOf(n)},t.isAbsolute=function(e){return n.isWindows?u(e):d(e)},t.isAbsolute_win32=u,t.isAbsolute_posix=d}),define(u[233],d([1,0,244,12,28]),function(e,t,n,i,r){"use strict";function o(e,t){if(l){var n=e||"",i=t||"",r=l.compare(n,i);return u&&0===r&&n!==i?n<i?-1:1:r}return s(e,t)}function s(e,t){var n=d.exec(e.toLowerCase()),i=d.exec(t.toLowerCase()),r=n[1]||"",o=n[3]||"",s=i[1]||"",a=i[3]||"";return r!==s?r<s?-1:1:o===a?0:o<a?-1:1}function a(e,t,n){var r=e.toLowerCase(),s=t.toLowerCase(),a=c(e,t,n);if(a)return a;var l=i.endsWith(r,n);if(l!==i.endsWith(s,n))return l?-1:1;var u=o(r,s);return 0!==u?u:r.localeCompare(s)}function c(e,t,n){var r=e.toLowerCase(),o=t.toLowerCase(),s=i.startsWith(r,n),a=i.startsWith(o,n);if(s!==a)return s?-1:1;if(s&&a){if(r.length<o.length)return-1;if(r.length>o.length)return 1}return 0}Object.defineProperty(t,"__esModule",{value:!0});var l,u;t.setFileNameComparer=function(e){l=e,u=e.resolvedOptions().numeric},t.compareFileNames=o;var d=/^([^.]*)(\.(.*))?$/;t.noIntlCompareFileNames=s,t.comparePaths=function(e,t){for(var n,i,s,a,c=e.split(r.nativeSep),l=t.split(r.nativeSep),u=c.length-1,d=l.length-1,h=0;;h++){if(n=u===h,i=d===h,n&&i)return o(c[h],l[h]);if(n)return-1;if(i)return 1;if((s=c[h].toLowerCase())!==(a=l[h].toLowerCase()))return s<a?-1:1}},t.compareAnything=a,t.compareByPrefix=c,t.compareByScore=function(e,t,i,r,o,s){var l=i.getLabel(e),u=i.getLabel(t),d=c(l,u,r);if(d)return d;var h=n.score(l,r,s),p=n.score(u,r,s);if(h!==p)return h>p?-1:1;var f=i.getResourcePath(e),g=i.getResourcePath(t);if(f&&g){var v=n.score(f,r,s),m=n.score(g,r,s);if(v!==m)return v>m?-1:1}return l.length!==u.length?l.length<u.length?-1:1:f&&g&&f.length!==g.length?f.length<g.length?-1:1:l===u&&f&&g?a(f,g,o):a(l,u,o)}}),define(u[82],d([1,0,16,11,28,12]),function(e,t,n,i,r,o){"use strict";function s(e,t){return e&&(i.isMacintosh||i.isLinux)&&r.isEqualOrParent(e,t,!i.isLinux)&&(e="~"+e.substr(t.length)),e}Object.defineProperty(t,"__esModule",{value:!0}),t.getPathLabel=function(e,t,a){if(!e)return null;"string"==typeof e&&(e=n.default.file(e));var c=t?t.getRoot(e):null;if(c){var l=t.getWorkspace2().roots.length>1,u=void 0;if(u=r.isEqual(c.fsPath,e.fsPath,!i.isLinux)?"":r.normalize(o.ltrim(e.fsPath.substr(c.fsPath.length),r.nativeSep),!0),l){var d=r.basename(c.fsPath);u=u?r.join(d,u):d}return u}if(i.isWindows&&e.fsPath&&":"===e.fsPath[1])return r.normalize(e.fsPath.charAt(0).toUpperCase()+e.fsPath.slice(1),!0);var h=r.normalize(e.fsPath,!0);return!i.isWindows&&a&&(h=s(h,a.userHome)),h},t.tildify=s;var a="…",c="\\\\";t.shorten=function(e){for(var t=new Array(e.length),n=!1,i=0;i<e.length;i++){var s=e[i];if(""!==s)if(s){n=!0;var l="";0===s.indexOf(c)?(l=s.substr(0,s.indexOf(c)+c.length),s=s.substr(s.indexOf(c)+c.length)):0===s.indexOf(r.nativeSep)&&(l=s.substr(0,s.indexOf(r.nativeSep)+r.nativeSep.length),s=s.substr(s.indexOf(r.nativeSep)+r.nativeSep.length));for(var u=s.split(r.nativeSep),d=1;n&&d<=u.length;d++)for(var h=u.length-d;n&&h>=0;h--){n=!1;for(var p=u.slice(h,h+d).join(r.nativeSep),f=0;!n&&f<e.length;f++)if(f!==i&&e[f]&&e[f].indexOf(p)>-1){var g=h+d===u.length,v=h>0&&e[f].indexOf(r.nativeSep)>-1?r.nativeSep+p:p,m=o.endsWith(e[f],v);n=!g||m}if(!n){var y="";(o.endsWith(u[0],":")||""!==l)&&(1===h&&(h=0,d++,p=u[0]+r.nativeSep+p),h>0&&(y=u[0]+r.nativeSep),y=l+y),h>0&&(y=y+a+r.nativeSep),y+=p,h+d<u.length&&(y=y+r.nativeSep+a),t[i]=y}}n&&(t[i]=s)}else t[i]=s;else t[i]="."+r.nativeSep}return t};var l;!function(e){e[e.TEXT=0]="TEXT",e[e.VARIABLE=1]="VARIABLE",e[e.SEPARATOR=2]="SEPARATOR"}(l||(l={})),t.template=function(e,t){void 0===t&&(t=Object.create(null));for(var n,i=[],r=!1,o="",s=0;s<e.length;s++)if("$"===(n=e[s])||r&&"{"===n)o&&i.push({value:o,type:l.TEXT}),o="",r=!0;else if("}"===n&&r){var a=t[o];if("string"==typeof a)a.length&&i.push({value:a,type:l.VARIABLE});else if(a){var c=i[i.length-1];c&&c.type===l.SEPARATOR||i.push({value:a.label,type:l.SEPARATOR})}o="",r=!1}else o+=n;return o&&!r&&i.push({value:o,type:l.TEXT}),i.filter(function(e,t){return e.type!==l.SEPARATOR||[i[t-1],i[t+1]].every(function(e){return e&&e.type===l.VARIABLE&&e.value.length>0})}).map(function(e){return e.value}).join("")}}),define(u[135],d([1,0]),function(e,t){"use strict";function n(){return new o}function i(e){return s.test(e)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._value=e}return e.prototype.asHex=function(){return this._value},e.prototype.equals=function(e){return this.asHex()===e.asHex()},e}(),o=function(e){function t(){return e.call(this,[t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-","4",t._randomHex(),t._randomHex(),t._randomHex(),"-",t._oneOf(t._timeHighBits),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex()].join(""))||this}return h(t,e),t._oneOf=function(e){return e[Math.floor(e.length*Math.random())]},t._randomHex=function(){return t._oneOf(t._chars)},t}(r);o._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],o._timeHighBits=["8","9","a","b"],t.v4=n;var s=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;t.isUUID=i,t.parse=function(e){if(!i(e))throw new Error("invalid uuid");return new r(e)},t.generateUuid=function(){return n().asHex()}}),function(){var e={};e["WinJS/Core/_WinJS"]={};var t=function(t,n,i){var r={},o=!1,s=n.map(function(t){return"exports"===t?(o=!0,r):e[t]}),a=i.apply({},s);e[t]=o?r:a};t("WinJS/Core/_Global",[],function(){"use strict";return"undefined"!=typeof window?window:"undefined"!=typeof self?self:"undefined"!=typeof global?global:{}}),t("WinJS/Core/_BaseCoreUtils",["WinJS/Core/_Global"],function(e){"use strict";return{hasWinRT:!!e.Windows,markSupportedForProcessing:function(e){return e.supportedForProcessing=!0,e},_setImmediate:e.setImmediate?e.setImmediate.bind(e):function(t){e.setTimeout(t,0)}}}),t("WinJS/Core/_WriteProfilerMark",["WinJS/Core/_Global"],function(e){"use strict";return e.msWriteProfilerMark||function(){}}),t("WinJS/Core/_Base",["WinJS/Core/_WinJS","WinJS/Core/_Global","WinJS/Core/_BaseCoreUtils","WinJS/Core/_WriteProfilerMark"],function(e,t,n,i){"use strict";function r(e,t,n){var i,r,o,s=Object.keys(t),a=Array.isArray(e);for(r=0,o=s.length;r<o;r++){var c=s[r],l=95!==c.charCodeAt(0),u=t[c];!u||"object"!=typeof u||void 0===u.value&&"function"!=typeof u.get&&"function"!=typeof u.set?l?a?e.forEach(function(e){e[c]=u}):e[c]=u:(i=i||{})[c]={value:u,enumerable:l,configurable:!0,writable:!0}:(void 0===u.enumerable&&(u.enumerable=l),n&&u.setName&&"function"==typeof u.setName&&u.setName(n+"."+c),(i=i||{})[c]=u)}i&&(a?e.forEach(function(e){Object.defineProperties(e,i)}):Object.defineProperties(e,i))}return function(){function n(n,i){var r=n||{};if(i){var o=i.split(".");r===t&&"WinJS"===o[0]&&(r=e,o.splice(0,1));for(var s=0,a=o.length;s<a;s++){var c=o[s];r[c]||Object.defineProperty(r,c,{value:{},writable:!1,enumerable:!0,configurable:!0}),r=r[c]}}return r}function o(e,t,i){var o=n(e,t);return i&&r(o,i,t||"<ANONYMOUS>"),o}var s=e;s.Namespace||(s.Namespace=Object.create(Object.prototype));var a={uninitialized:1,working:2,initialized:3};Object.defineProperties(s.Namespace,{defineWithParent:{value:o,writable:!0,enumerable:!0,configurable:!0},define:{value:function(e,n){return o(t,e,n)},writable:!0,enumerable:!0,configurable:!0},_lazy:{value:function(e){var t,n,r=a.uninitialized;return{setName:function(e){t=e},get:function(){switch(r){case a.initialized:return n;case a.uninitialized:r=a.working;try{i("WinJS.Namespace._lazy:"+t+",StartTM"),n=e()}finally{i("WinJS.Namespace._lazy:"+t+",StopTM"),r=a.uninitialized}return e=null,r=a.initialized,n;case a.working:throw"Illegal: reentrancy on initialization";default:throw"Illegal"}},set:function(e){switch(r){case a.working:throw"Illegal: reentrancy on initialization";default:r=a.initialized,n=e}},enumerable:!0,configurable:!0}},writable:!0,enumerable:!0,configurable:!0},_moduleDefine:{value:function(e,i,o){var s=[e],a=null;return i&&(a=n(t,i),s.push(a)),r(s,o,i||"<ANONYMOUS>"),a},writable:!0,enumerable:!0,configurable:!0}})}(),function(){function t(e,t,i){return e=e||function(){},n.markSupportedForProcessing(e),t&&r(e.prototype,t),i&&r(e,i),e}e.Namespace.define("WinJS.Class",{define:t,derive:function(e,i,o,s){if(e){i=i||function(){};var a=e.prototype;return i.prototype=Object.create(a),n.markSupportedForProcessing(i),Object.defineProperty(i.prototype,"constructor",{value:i,writable:!0,configurable:!0,enumerable:!0}),o&&r(i.prototype,o),s&&r(i,s),i}return t(i,o,s)},mix:function(e){e=e||function(){};var t,n;for(t=1,n=arguments.length;t<n;t++)r(e.prototype,arguments[t]);return e}})}(),{Namespace:e.Namespace,Class:e.Class}}),t("WinJS/Core/_ErrorFromName",["WinJS/Core/_Base"],function(e){"use strict";var t=e.Class.derive(Error,function(e,t){this.name=e,this.message=t||e},{},{supportedForProcessing:!1});return e.Namespace.define("WinJS",{ErrorFromName:t}),t}),t("WinJS/Core/_Events",["exports","WinJS/Core/_Base"],function(e,t){"use strict";function n(e){var t="_on"+e+"state";return{get:function(){var e=this[t];return e&&e.userHandler},set:function(n){var i=this[t];n?(i||(i={wrapper:function(e){return i.userHandler(e)},userHandler:n},Object.defineProperty(this,t,{value:i,enumerable:!1,writable:!0,configurable:!0}),this.addEventListener(e,i.wrapper,!1)),i.userHandler=n):i&&(this.removeEventListener(e,i.wrapper,!1),this[t]=null)},enumerable:!0}}var i=t.Class.define(function(e,t,n){this.detail=t,this.target=n,this.timeStamp=Date.now(),this.type=e},{bubbles:{value:!1,writable:!1},cancelable:{value:!1,writable:!1},currentTarget:{get:function(){return this.target}},defaultPrevented:{get:function(){return this._preventDefaultCalled}},trusted:{value:!1,writable:!1},eventPhase:{value:0,writable:!1},target:null,timeStamp:null,type:null,preventDefault:function(){this._preventDefaultCalled=!0},stopImmediatePropagation:function(){this._stopImmediatePropagationCalled=!0},stopPropagation:function(){}},{supportedForProcessing:!1}),r={_listeners:null,addEventListener:function(e,t,n){n=n||!1,this._listeners=this._listeners||{};for(var i=this._listeners[e]=this._listeners[e]||[],r=0,o=i.length;r<o;r++){var s=i[r];if(s.useCapture===n&&s.listener===t)return}i.push({listener:t,useCapture:n})},dispatchEvent:function(e,t){var n=this._listeners&&this._listeners[e];if(n){for(var r=new i(e,t,this),o=0,s=(n=n.slice(0,n.length)).length;o<s&&!r._stopImmediatePropagationCalled;o++)n[o].listener(r);return r.defaultPrevented||!1}return!1},removeEventListener:function(e,t,n){n=n||!1;var i=this._listeners&&this._listeners[e];if(i)for(var r=0,o=i.length;r<o;r++){var s=i[r];if(s.listener===t&&s.useCapture===n){i.splice(r,1),0===i.length&&delete this._listeners[e];break}}}};t.Namespace._moduleDefine(e,"WinJS.Utilities",{_createEventProperty:n,createEventProperties:function(){for(var e={},t=0,i=arguments.length;t<i;t++){var r=arguments[t];e["on"+r]=n(r)}return e},eventMixin:r})}),t("WinJS/Core/_Trace",["WinJS/Core/_Global"],function(e){"use strict";function t(e){return e}return{_traceAsyncOperationStarting:e.Debug&&e.Debug.msTraceAsyncOperationStarting&&e.Debug.msTraceAsyncOperationStarting.bind(e.Debug)||t,_traceAsyncOperationCompleted:e.Debug&&e.Debug.msTraceAsyncOperationCompleted&&e.Debug.msTraceAsyncOperationCompleted.bind(e.Debug)||t,_traceAsyncCallbackStarting:e.Debug&&e.Debug.msTraceAsyncCallbackStarting&&e.Debug.msTraceAsyncCallbackStarting.bind(e.Debug)||t,_traceAsyncCallbackCompleted:e.Debug&&e.Debug.msTraceAsyncCallbackCompleted&&e.Debug.msTraceAsyncCallbackCompleted.bind(e.Debug)||t}}),t("WinJS/Promise/_StateMachine",["WinJS/Core/_Global","WinJS/Core/_BaseCoreUtils","WinJS/Core/_Base","WinJS/Core/_ErrorFromName","WinJS/Core/_Events","WinJS/Core/_Trace"],function(e,t,n,i,r,o){"use strict";function s(){}function a(e,t){var n;n=t&&"object"==typeof t&&"function"==typeof t.then?O:F,e._value=t,e._setState(n)}function c(e,t,n,i,r,o){return{exception:e,error:t,promise:n,handler:o,id:i,parent:r}}function l(e,t,n,i){var r=n._isException,o=n._errorId;return c(r?t:null,r?null:t,e,o,n,i)}function u(e,t,n){var i=n._isException,r=n._errorId;return S(e,r,i),c(i?t:null,i?null:t,e,r,n)}function d(e,t){var n=++z;return S(e,n),c(null,t,e,n)}function h(e,t){var n=++z;return S(e,n,!0),c(t,null,e,n)}function p(e,t,n,i){b(e,{c:t,e:n,p:i,asyncOpID:o._traceAsyncOperationStarting("WinJS.Promise.done")})}function f(e,t,n,i){e._value=t,m(e,t,n,i),e._setState(B)}function g(t,n){var i=t._value,r=t._listeners;if(r){t._listeners=null;var s,a;for(s=0,a=Array.isArray(r)?r.length:1;s<a;s++){var c=1===a?r:r[s],l=c.c,u=c.promise;if(o._traceAsyncOperationCompleted(c.asyncOpID,e.Debug&&e.Debug.MS_ASYNC_OP_STATUS_SUCCESS),u){o._traceAsyncCallbackStarting(c.asyncOpID);try{u._setCompleteValue(l?l(i):i)}catch(e){u._setExceptionValue(e)}finally{o._traceAsyncCallbackCompleted()}u._state!==O&&u._listeners&&n.push(u)}else q.prototype.done.call(t,l)}}}function v(t,n){var i=t._value,r=t._listeners;if(r){t._listeners=null;var s,a;for(s=0,a=Array.isArray(r)?r.length:1;s<a;s++){var c=1===a?r:r[s],u=c.e,d=c.promise,h=e.Debug&&(i&&i.name===x?e.Debug.MS_ASYNC_OP_STATUS_CANCELED:e.Debug.MS_ASYNC_OP_STATUS_ERROR);if(o._traceAsyncOperationCompleted(c.asyncOpID,h),d){var p=!1;try{u?(o._traceAsyncCallbackStarting(c.asyncOpID),p=!0,u.handlesOnError||m(d,i,l,t,u),d._setCompleteValue(u(i))):d._setChainedErrorValue(i,t)}catch(e){d._setExceptionValue(e)}finally{p&&o._traceAsyncCallbackCompleted()}d._state!==O&&d._listeners&&n.push(d)}else j.prototype.done.call(t,null,u)}}}function m(e,t,n,i,r){if(T._listeners[k]){if(t instanceof Error&&t.message===x)return;T.dispatchEvent(k,n(e,t,i,r))}}function y(e,t){var n=e._listeners;if(n){var i,r;for(i=0,r=Array.isArray(n)?n.length:1;i<r;i++){var o=1===r?n:n[i],s=o.p;if(s)try{s(t)}catch(e){}o.c||o.e||!o.promise||o.promise._progress(t)}}}function b(e,t){var n=e._listeners;n?(n=Array.isArray(n)?n:[n]).push(t):n=t,e._listeners=n}function S(e,t,n){e._isException=n||!1,e._errorId=t}function _(e,t,n,i){e._value=t,m(e,t,n,i),e._setState(V)}function E(e,t){var n;n=t&&"object"==typeof t&&"function"==typeof t.then?O:W,e._value=t,e._setState(n)}function C(e,t,n,i){var r=new U(e);return b(e,{promise:r,c:t,e:n,p:i,asyncOpID:o._traceAsyncOperationStarting("WinJS.Promise.then")}),r}function w(n){var i;return new $(function(r){n?i=e.setTimeout(r,n):t._setImmediate(r)},function(){i&&e.clearTimeout(i)})}function I(e,t){var n=function(){e.cancel()};return e.then(function(){t.cancel()}),t.then(n,n),t}e.Debug&&(e.Debug.setNonUserCodeExceptions=!0);var T=new(n.Class.mix(n.Class.define(null,{},{supportedForProcessing:!1}),r.eventMixin));T._listeners={};var k="error",x="Canceled",A=!1,L={promise:1,thenPromise:2,errorPromise:4,exceptionPromise:8,completePromise:16};L.all=L.promise|L.thenPromise|L.errorPromise|L.exceptionPromise|L.completePromise;var P,D,O,R,M,N,F,W,B,V,z=1;P={name:"created",enter:function(e){e._setState(D)},cancel:s,done:s,then:s,_completed:s,_error:s,_notify:s,_progress:s,_setCompleteValue:s,_setErrorValue:s},D={name:"working",enter:s,cancel:function(e){e._setState(M)},done:p,then:C,_completed:a,_error:f,_notify:s,_progress:y,_setCompleteValue:E,_setErrorValue:_},O={name:"waiting",enter:function(e){var t=e._value;if(t instanceof U&&t._state!==V&&t._state!==W)b(t,{promise:e});else{var n=function(i){t._errorId?e._chainedError(i,t):(m(e,i,l,t,n),e._error(i))};n.handlesOnError=!0,t.then(e._completed.bind(e),n,e._progress.bind(e))}},cancel:function(e){e._setState(R)},done:p,then:C,_completed:a,_error:f,_notify:s,_progress:y,_setCompleteValue:E,_setErrorValue:_},R={name:"waiting_canceled",enter:function(e){e._setState(N);var t=e._value;t.cancel&&t.cancel()},cancel:s,done:p,then:C,_completed:a,_error:f,_notify:s,_progress:y,_setCompleteValue:E,_setErrorValue:_},M={name:"canceled",enter:function(e){e._setState(N),e._cancelAction()},cancel:s,done:p,then:C,_completed:a,_error:f,_notify:s,_progress:y,_setCompleteValue:E,_setErrorValue:_},N={name:"canceling",enter:function(e){var t=new Error(x);t.name=t.message,e._value=t,e._setState(B)},cancel:s,done:s,then:s,_completed:s,_error:s,_notify:s,_progress:s,_setCompleteValue:s,_setErrorValue:s},F={name:"complete_notify",enter:function(e){if(e.done=q.prototype.done,e.then=q.prototype.then,e._listeners)for(var t,n=[e];n.length;)(t=n.shift())._state._notify(t,n);e._setState(W)},cancel:s,done:null,then:null,_completed:s,_error:s,_notify:g,_progress:s,_setCompleteValue:s,_setErrorValue:s},W={name:"success",enter:function(e){e.done=q.prototype.done,e.then=q.prototype.then,e._cleanupAction()},cancel:s,done:null,then:null,_completed:s,_error:s,_notify:g,_progress:s,_setCompleteValue:s,_setErrorValue:s},B={name:"error_notify",enter:function(e){if(e.done=j.prototype.done,e.then=j.prototype.then,e._listeners)for(var t,n=[e];n.length;)(t=n.shift())._state._notify(t,n);e._setState(V)},cancel:s,done:null,then:null,_completed:s,_error:s,_notify:v,_progress:s,_setCompleteValue:s,_setErrorValue:s},V={name:"error",enter:function(e){e.done=j.prototype.done,e.then=j.prototype.then,e._cleanupAction()},cancel:s,done:null,then:null,_completed:s,_error:s,_notify:v,_progress:s,_setCompleteValue:s,_setErrorValue:s};var H,K=n.Class.define(null,{_listeners:null,_nextState:null,_state:null,_value:null,cancel:function(){this._state.cancel(this),this._run()},done:function(e,t,n){this._state.done(this,e,t,n)},then:function(e,t,n){return this._state.then(this,e,t,n)},_chainedError:function(e,t){var n=this._state._error(this,e,u,t);return this._run(),n},_completed:function(e){var t=this._state._completed(this,e);return this._run(),t},_error:function(e){var t=this._state._error(this,e,d);return this._run(),t},_progress:function(e){this._state._progress(this,e)},_setState:function(e){this._nextState=e},_setCompleteValue:function(e){this._state._setCompleteValue(this,e),this._run()},_setChainedErrorValue:function(e,t){var n=this._state._setErrorValue(this,e,u,t);return this._run(),n},_setExceptionValue:function(e){var t=this._state._setErrorValue(this,e,h);return this._run(),t},_run:function(){for(;this._nextState;)this._state=this._nextState,this._nextState=null,this._state.enter(this)}},{supportedForProcessing:!1}),U=n.Class.derive(K,function(e){A&&(!0===A||A&L.thenPromise)&&(this._stack=$._getStack()),this._creator=e,this._setState(P),this._run()},{_creator:null,_cancelAction:function(){this._creator&&this._creator.cancel()},_cleanupAction:function(){this._creator=null}},{supportedForProcessing:!1}),j=n.Class.define(function(e){A&&(!0===A||A&L.errorPromise)&&(this._stack=$._getStack()),this._value=e,m(this,e,d)},{cancel:function(){},done:function(e,t){var n=this._value;if(t)try{t.handlesOnError||m(null,n,l,this,t);var i=t(n);return void(i&&"object"==typeof i&&"function"==typeof i.done&&i.done())}catch(e){n=e}n instanceof Error&&n.message===x||$._doneHandler(n)},then:function(e,t){if(!t)return this;var n,i=this._value;try{t.handlesOnError||m(null,i,l,this,t),n=new q(t(i))}catch(e){n=e===i?this:new G(e)}return n}},{supportedForProcessing:!1}),G=n.Class.derive(j,function(e){A&&(!0===A||A&L.exceptionPromise)&&(this._stack=$._getStack()),this._value=e,m(this,e,h)},{},{supportedForProcessing:!1}),q=n.Class.define(function(e){if(A&&(!0===A||A&L.completePromise)&&(this._stack=$._getStack()),e&&"object"==typeof e&&"function"==typeof e.then){var t=new U(null);return t._setCompleteValue(e),t}this._value=e},{cancel:function(){},done:function(e){if(e)try{var t=e(this._value);t&&"object"==typeof t&&"function"==typeof t.done&&t.done()}catch(e){$._doneHandler(e)}},then:function(e){try{var t=e?e(this._value):this._value;return t===this._value?this:new q(t)}catch(e){return new G(e)}}},{supportedForProcessing:!1}),$=n.Class.derive(K,function(e,t){A&&(!0===A||A&L.promise)&&(this._stack=$._getStack()),this._oncancel=t,this._setState(P),this._run();try{e(this._completed.bind(this),this._error.bind(this),this._progress.bind(this))}catch(e){this._setExceptionValue(e)}},{_oncancel:null,_cancelAction:function(){try{if(!this._oncancel)throw new Error("Promise did not implement oncancel");this._oncancel()}catch(e){e.message,e.stack;T.dispatchEvent("error",e)}},_cleanupAction:function(){this._oncancel=null}},{addEventListener:function(e,t,n){T.addEventListener(e,t,n)},any:function(e){return new $(function(t,n){var i=Object.keys(e);0===i.length&&t();var r=0;i.forEach(function(o){$.as(e[o]).then(function(){t({key:o,value:e[o]})},function(s){s instanceof Error&&s.name===x?++r===i.length&&t($.cancel):n({key:o,value:e[o]})})})},function(){Object.keys(e).forEach(function(t){var n=$.as(e[t]);"function"==typeof n.cancel&&n.cancel()})})},as:function(e){return e&&"object"==typeof e&&"function"==typeof e.then?e:new q(e)},cancel:{get:function(){return H=H||new j(new i(x))}},dispatchEvent:function(e,t){return T.dispatchEvent(e,t)},is:function(e){return e&&"object"==typeof e&&"function"==typeof e.then},join:function(e){return new $(function(t,n,i){var r=Object.keys(e),o=Array.isArray(e)?[]:{},s=Array.isArray(e)?[]:{},a=0,c=r.length,l=function(e){if(0==--c){var a=Object.keys(o).length;if(0===a)t(s);else{var l=0;r.forEach(function(e){var t=o[e];t instanceof Error&&t.name===x&&l++}),l===a?t($.cancel):n(o)}}else i({Key:e,Done:!0})};r.forEach(function(t){var n=e[t];void 0===n?a++:$.then(n,function(e){s[t]=e,l(t)},function(e){o[t]=e,l(t)})}),0!==(c-=a)||t(s)},function(){Object.keys(e).forEach(function(t){var n=$.as(e[t]);"function"==typeof n.cancel&&n.cancel()})})},removeEventListener:function(e,t,n){T.removeEventListener(e,t,n)},supportedForProcessing:!1,then:function(e,t,n,i){return $.as(e).then(t,n,i)},thenEach:function(e,t,n,i){var r=Array.isArray(e)?[]:{};return Object.keys(e).forEach(function(o){r[o]=$.as(e[o]).then(t,n,i)}),$.join(r)},timeout:function(e,t){var n=w(e);return t?I(n,t):n},wrap:function(e){return new q(e)},wrapError:function(e){return new j(e)},_veryExpensiveTagWithStack:{get:function(){return A},set:function(e){A=e}},_veryExpensiveTagWithStack_tag:L,_getStack:function(){if(e.Debug&&e.Debug.debuggerEnabled)try{throw new Error}catch(e){return e.stack}},_cancelBlocker:function(e,t){if(!$.is(e))return $.wrap(e);var n,i,r=new $(function(e,t){n=e,i=t},function(){n=null,i=null,t&&t()});return e.then(function(e){n&&n(e)},function(e){i&&i(e)}),r}});return Object.defineProperties($,r.createEventProperties(k)),$._doneHandler=function(e){t._setImmediate(function(){throw e})},{PromiseStateMachine:K,Promise:$,state_created:P}}),t("WinJS/Promise",["WinJS/Core/_Base","WinJS/Promise/_StateMachine"],function(e,t){"use strict";return e.Namespace.define("WinJS",{Promise:t.Promise}),t.Promise});var n=e["WinJS/Core/_WinJS"];"undefined"==typeof exports&&"function"==typeof define&&define.amd?define("vs/base/common/winjs.base.raw",n):module.exports=n,"undefined"!=typeof process&&"function"==typeof process.nextTick&&(e["WinJS/Core/_BaseCoreUtils"]._setImmediate=function(e){return process.nextTick(e)})}(),define(u[4],d([1360]),function(e){"use strict";return{Promise:e.Promise,TPromise:e.Promise,PPromise:e.Promise}}),define(u[1329],d([1,0,4]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.task=e,this.promise=null}return e.prototype.get=function(){var e=this;if(this.promise)return this.promise;var t=this.task();return this.promise=new n.TPromise(function(e,n){return t.done(e,n)},function(){e.promise=null,t.cancel()}),this.promise},e}();t.default=i}),define(u[7],d([1,0,11,24,4]),function(e,t,n,i,r){"use strict";function o(e){s(e)||t.errorHandler.onUnexpectedError(e)}function s(e){return e instanceof Error&&e.name===l&&e.message===l}Object.defineProperty(t,"__esModule",{value:!0});var a={};r.TPromise.addEventListener("error",function(e){var t=e.detail,n=t.id;t.parent?t.handler&&a&&delete a[n]:(a[n]=t,1===Object.keys(a).length&&setTimeout(function(){var e=a;a={},Object.keys(e).forEach(function(t){var n=e[t];n.exception?o(n.exception):n.error&&o(n.error),console.log("WARNING: Promise with no error callback:"+n.id),console.log(n),n.exception&&console.log(n.exception.stack)})},0))});var c=function(){function e(){this.listeners=[],this.unexpectedErrorHandler=function(e){n.setTimeout(function(){if(e.stack)throw new Error(e.message+"\n\n"+e.stack);throw e},0)}}return e.prototype.addListener=function(e){var t=this;return this.listeners.push(e),function(){t._removeListener(e)}},e.prototype.emit=function(e){this.listeners.forEach(function(t){t(e)})},e.prototype._removeListener=function(e){this.listeners.splice(this.listeners.indexOf(e),1)},e.prototype.setUnexpectedErrorHandler=function(e){this.unexpectedErrorHandler=e},e.prototype.getUnexpectedErrorHandler=function(){return this.unexpectedErrorHandler},e.prototype.onUnexpectedError=function(e){this.unexpectedErrorHandler(e),this.emit(e)},e.prototype.onUnexpectedExternalError=function(e){this.unexpectedErrorHandler(e)},e}();t.ErrorHandler=c,t.errorHandler=new c,t.setUnexpectedErrorHandler=function(e){t.errorHandler.setUnexpectedErrorHandler(e)},t.onUnexpectedError=o,t.onUnexpectedExternalError=function(e){s(e)||t.errorHandler.onUnexpectedExternalError(e)},t.onUnexpectedPromiseError=function(e){return e.then(null,o)},t.transformErrorForSerialization=function(e){return e instanceof Error?{$isError:!0,name:e.name,message:e.message,stack:e.stacktrace||e.stack}:e};var l="Canceled";t.isPromiseCanceledError=s,t.canceled=function(){var e=new Error(l);return e.name=e.message,e},t.notImplemented=function(){return new Error("Not Implemented")},t.illegalArgument=function(e){return e?new Error("Illegal argument: "+e):new Error("Illegal argument")},t.illegalState=function(e){return e?new Error("Illegal state: "+e):new Error("Illegal state")},t.readonly=function(e){return e?new Error("readonly property '"+e+" cannot be changed'"):new Error("readonly property cannot be changed")},t.create=function(e,t){void 0===t&&(t={});var n=new Error(e);return i.isNumber(t.severity)&&(n.severity=t.severity),t.actions&&(n.actions=t.actions),n},t.getErrorMessage=function(e){return e?e.message?e.message:e.stack?e.stack.split("\n")[0]:String(e):"Error"}}),define(u[1323],d([1,0,7]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.add=function(e,t,n){var i=this;void 0===t&&(t=null),this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:function(){return i.remove(e,t)}})},e.prototype.remove=function(e,t){if(void 0===t&&(t=null),this._callbacks){for(var n=!1,i=0,r=this._callbacks.length;i<r;i++)if(this._callbacks[i]===e){if(this._contexts[i]===t)return this._callbacks.splice(i,1),void this._contexts.splice(i,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}},e.prototype.invoke=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this._callbacks){for(var i=[],r=this._callbacks.slice(0),o=this._contexts.slice(0),s=0,a=r.length;s<a;s++)try{i.push(r[s].apply(o[s],e))}catch(e){n.onUnexpectedError(e)}return i}},e.prototype.isEmpty=function(){return!this._callbacks||0===this._callbacks.length},e.prototype.entries=function(){var e=this;return this._callbacks?this._callbacks.map(function(t,n){return[t,e._contexts[n]]}):[]},e.prototype.dispose=function(){this._callbacks=void 0,this._contexts=void 0},e}();t.default=i}),define(u[8],d([1,0,5,1323,4,179]),function(e,t,n,i,r,o){"use strict";function s(e){return function(t,n,i){void 0===n&&(n=null);var r=e(function(e){return r.dispose(),t.call(n,e)},null,i);return r}}function a(e,t){return function(n,i,r){return void 0===i&&(i=null),e(function(e){return n.call(i,t(e))},null,r)}}function c(e,t){return function(n,i,r){return void 0===i&&(i=null),e(function(e){return t(e)&&n.call(i,e)},null,r)}}Object.defineProperty(t,"__esModule",{value:!0});var l;!function(e){var t={dispose:function(){}};e.None=function(){return t}}(l||(l={})),t.default=l;var u=function(){function e(e){this._options=e}return Object.defineProperty(e.prototype,"event",{get:function(){var t=this;return this._event||(this._event=function(n,r,o){t._callbacks||(t._callbacks=new i.default);var s=t._callbacks.isEmpty();s&&t._options&&t._options.onFirstListenerAdd&&t._options.onFirstListenerAdd(t),t._callbacks.add(n,r),s&&t._options&&t._options.onFirstListenerDidAdd&&t._options.onFirstListenerDidAdd(t),t._options&&t._options.onListenerDidAdd&&t._options.onListenerDidAdd(t,n,r);var a;return a={dispose:function(){a.dispose=e._noop,t._disposed||(t._callbacks.remove(n,r),t._options&&t._options.onLastListenerRemove&&t._callbacks.isEmpty()&&t._options.onLastListenerRemove(t))}},Array.isArray(o)&&o.push(a),a}),this._event},enumerable:!0,configurable:!0}),e.prototype.fire=function(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)},e.prototype.dispose=function(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0,this._disposed=!0)},e}();u._noop=function(){},t.Emitter=u;var d=function(){function e(){var e=this;this.hasListeners=!1,this.events=[],this.emitter=new u({onFirstListenerAdd:function(){return e.onFirstListenerAdd()},onLastListenerRemove:function(){return e.onLastListenerRemove()}})}return Object.defineProperty(e.prototype,"event",{get:function(){return this.emitter.event},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this,i={event:e,listener:null};this.events.push(i),this.hasListeners&&this.hook(i);return n.toDisposable(o.once(function(){t.hasListeners&&t.unhook(i);var e=t.events.indexOf(i);t.events.splice(e,1)}))},e.prototype.onFirstListenerAdd=function(){var e=this;this.hasListeners=!0,this.events.forEach(function(t){return e.hook(t)})},e.prototype.onLastListenerRemove=function(){var e=this;this.hasListeners=!1,this.events.forEach(function(t){return e.unhook(t)})},e.prototype.hook=function(e){var t=this;e.listener=e.event(function(e){return t.emitter.fire(e)})},e.prototype.unhook=function(e){e.listener.dispose(),e.listener=null},e.prototype.dispose=function(){this.emitter.dispose()},e}();t.EventMultiplexer=d,t.fromEventEmitter=function(e,t){return function(n,i,r){var o=e.addListener(t,function(){n.apply(i,arguments)});return Array.isArray(r)&&r.push(o),o}},t.fromCallback=function(e){var t,n=new u({onFirstListenerAdd:function(){return t=e(function(e){return n.fire(e)})},onLastListenerRemove:function(){return t.dispose()}});return n.event},t.fromPromise=function(e){var t=new u,n=!1;return e.then(null,function(){return null}).then(function(){n?t.fire():setTimeout(function(){return t.fire()},0)}),n=!0,t.event},t.toPromise=function(e){return new r.TPromise(function(t){var n=e(function(e){n.dispose(),t(e)})})},t.delayed=function(e){var t=null,n=null,i=new u({onFirstListenerAdd:function(){t=e.then(function(e){return n=e(function(e){return i.fire(e)})},function(){return null})},onLastListenerRemove:function(){t&&(t.cancel(),t=null),n&&(n.dispose(),n=null)}});return i.event},t.once=s,t.any=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t,i,r){return void 0===i&&(i=null),n.combinedDisposable(e.map(function(e){return e(function(e){return t.call(i,e)},null,r)}))}},t.debounceEvent=function(e,t,n,i){void 0===n&&(n=100),void 0===i&&(i=!1);var r,o,s,a=new u({onFirstListenerAdd:function(){r=e(function(e){o=t(o,e),!s&&i&&a.fire(o),clearTimeout(s),s=setTimeout(function(){var e=o;o=void 0,a.fire(e),s=null},n)})},onLastListenerRemove:function(){r.dispose()}});return a.event};var h=function(){function e(){this.buffers=[]}return e.prototype.wrapEvent=function(e){var t=this;return function(n,i,r){return e(function(e){var r=t.buffers[t.buffers.length-1];r?r.push(function(){return n.call(i,e)}):n.call(i,e)},void 0,r)}},e.prototype.bufferEvents=function(e){var t=[];this.buffers.push(t),e(),this.buffers.pop(),t.forEach(function(e){return e()})},e}();t.EventBufferer=h,t.mapEvent=a,t.filterEvent=c;var p=function(){function e(e){this._event=e}return Object.defineProperty(e.prototype,"event",{get:function(){return this._event},enumerable:!0,configurable:!0}),e.prototype.map=function(t){return new e(a(this._event,t))},e.prototype.filter=function(t){return new e(c(this._event,t))},e.prototype.on=function(e,t,n){return this._event(e,t,n)},e}();t.chain=function(e){return new p(e)},t.stopwatch=function(e){var t=(new Date).getTime();return a(s(e),function(e){return(new Date).getTime()-t})},t.buffer=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=[]),n=n.slice();var i=e(function(e){n?n.push(e):o.fire(e)}),r=function(){n.forEach(function(e){return o.fire(e)}),n=null},o=new u({onFirstListenerAdd:function(){i||(i=e(function(e){return o.fire(e)}))},onFirstListenerDidAdd:function(){n&&(t?setTimeout(r):r())},onLastListenerRemove:function(){i.dispose(),i=null}});return o.event},t.echo=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=[]),n=n.slice(),e(function(e){n.push(e),r.fire(e)});var i=function(e,t){return n.forEach(function(n){return e.call(t,n)})},r=new u({onListenerDidAdd:function(e,n,r){t?setTimeout(function(){return i(n,r)}):i(n,r)}});return r.event}}),define(u[66],d([1,0,11,8]),function(e,t,n,i){"use strict";function r(){return s.INSTANCE.getZoomLevel()}function o(){return s.INSTANCE.getPixelRatio()}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new i.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this._zoomFactor=0,this._onDidChangeFullscreen=new i.Emitter,this.onDidChangeFullscreen=this._onDidChangeFullscreen.event,this._accessibilitySupport=0,this._onDidChangeAccessibilitySupport=new i.Emitter,this.onDidChangeAccessibilitySupport=this._onDidChangeAccessibilitySupport.event}return e.prototype.getZoomLevel=function(){return this._zoomLevel},e.prototype.getTimeSinceLastZoomLevelChanged=function(){return Date.now()-this._lastZoomLevelChangeTime},e.prototype.setZoomLevel=function(e,t){this._zoomLevel!==e&&(this._zoomLevel=e,this._lastZoomLevelChangeTime=t?0:Date.now(),this._onDidChangeZoomLevel.fire(this._zoomLevel))},e.prototype.getZoomFactor=function(){return this._zoomFactor},e.prototype.setZoomFactor=function(e){this._zoomFactor=e},e.prototype.getPixelRatio=function(){var e=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)},e.prototype.setFullscreen=function(e){this._fullscreen!==e&&(this._fullscreen=e,this._onDidChangeFullscreen.fire())},e.prototype.isFullscreen=function(){return this._fullscreen},e.prototype.setAccessibilitySupport=function(e){this._accessibilitySupport!==e&&(this._accessibilitySupport=e,this._onDidChangeAccessibilitySupport.fire())},e.prototype.getAccessibilitySupport=function(){return this._accessibilitySupport},e}();s.INSTANCE=new s,t.setZoomLevel=function(e,t){s.INSTANCE.setZoomLevel(e,t)},t.getZoomLevel=r,t.getTimeSinceLastZoomLevelChanged=function(){return s.INSTANCE.getTimeSinceLastZoomLevelChanged()},t.onDidChangeZoomLevel=function(e){return s.INSTANCE.onDidChangeZoomLevel(e)},t.getZoomFactor=function(){return s.INSTANCE.getZoomFactor()},t.setZoomFactor=function(e){s.INSTANCE.setZoomFactor(e)},t.getPixelRatio=o,t.setFullscreen=function(e){s.INSTANCE.setFullscreen(e)},t.isFullscreen=function(){return s.INSTANCE.isFullscreen()},t.onDidChangeFullscreen=function(e){return s.INSTANCE.onDidChangeFullscreen(e)},t.setAccessibilitySupport=function(e){s.INSTANCE.setAccessibilitySupport(e)},t.getAccessibilitySupport=function(){return s.INSTANCE.getAccessibilitySupport()},t.onDidChangeAccessibilitySupport=function(e){return s.INSTANCE.onDidChangeAccessibilitySupport(e)};var a=navigator.userAgent;t.isIE=a.indexOf("Trident")>=0,t.isEdge=a.indexOf("Edge/")>=0,t.isEdgeOrIE=t.isIE||t.isEdge,t.isOpera=a.indexOf("Opera")>=0,t.isFirefox=a.indexOf("Firefox")>=0,t.isWebKit=a.indexOf("AppleWebKit")>=0,t.isChrome=a.indexOf("Chrome")>=0,t.isSafari=-1===a.indexOf("Chrome")&&a.indexOf("Safari")>=0,t.isIPad=a.indexOf("iPad")>=0,t.isChromev56=a.indexOf("Chrome/56.")>=0&&-1===a.indexOf("Edge/"),t.supportsTranslate3d=!t.isFirefox,t.canUseTranslate3d=function(){if(!t.supportsTranslate3d)return!1;if(0!==r())return!1;if(t.isChromev56){var e=o();if(Math.floor(e)!==e)return!1}return!0},t.supportsExecCommand=function(e){return(t.isIE||n.isNative)&&document.queryCommandSupported(e)}}),define(u[150],d([1,0,8]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.domEvent=function(e,t,i){var r=function(e){return o.fire(e)},o=new n.Emitter({onFirstListenerAdd:function(){e.addEventListener(t,r,i)},onLastListenerRemove:function(){e.removeEventListener(t,r,i)}});return o.event},t.stop=function(e){return n.mapEvent(e,function(e){return e.preventDefault(),e.stopPropagation(),e})}}),define(u[89],d([1,0,60,11,66]),function(e,t,n,i,r){"use strict";function o(e){if(e.charCode){var t=String.fromCharCode(e.charCode).toUpperCase();return n.KeyCodeUtils.fromString(t)}return s[e.keyCode]||0}Object.defineProperty(t,"__esModule",{value:!0});var s={};s[3]=7,s[8]=1,s[9]=2,s[13]=3,s[16]=4,s[17]=5,s[18]=6,s[19]=7,s[20]=8,s[27]=9,s[32]=10,s[33]=11,s[34]=12,s[35]=13,s[36]=14,s[37]=15,s[38]=16,s[39]=17,s[40]=18,s[45]=19,s[46]=20,s[48]=21,s[49]=22,s[50]=23,s[51]=24,s[52]=25,s[53]=26,s[54]=27,s[55]=28,s[56]=29,s[57]=30,s[65]=31,s[66]=32,s[67]=33,s[68]=34,s[69]=35,s[70]=36,s[71]=37,s[72]=38,s[73]=39,s[74]=40,s[75]=41,s[76]=42,s[77]=43,s[78]=44,s[79]=45,s[80]=46,s[81]=47,s[82]=48,s[83]=49,s[84]=50,s[85]=51,s[86]=52,s[87]=53,s[88]=54,s[89]=55,s[90]=56,s[93]=58,s[96]=93,s[97]=94,s[98]=95,s[99]=96,s[100]=97,s[101]=98,s[102]=99,s[103]=100,s[104]=101,s[105]=102,s[106]=103,s[107]=104,s[108]=105,s[109]=106,s[110]=107,s[111]=108,s[112]=59,s[113]=60,s[114]=61,s[115]=62,s[116]=63,s[117]=64,s[118]=65,s[119]=66,s[120]=67,s[121]=68,s[122]=69,s[123]=70,s[124]=71,s[125]=72,s[126]=73,s[127]=74,s[128]=75,s[129]=76,s[130]=77,s[144]=78,s[145]=79,s[186]=80,s[187]=81,s[188]=82,s[189]=83,s[190]=84,s[191]=85,s[192]=86,s[193]=110,s[194]=111,s[219]=87,s[220]=88,s[221]=89,s[222]=90,s[223]=91,s[226]=92,s[229]=109,r.isIE?s[91]=57:r.isFirefox?(s[59]=80,s[107]=81,s[109]=83,i.isMacintosh&&(s[224]=57)):r.isWebKit&&(s[91]=57,i.isMacintosh?s[93]=57:s[92]=57);var a=i.isMacintosh?256:2048,c=i.isMacintosh?2048:256,l=function(){function e(e){var t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.keyCode=o(t),this.code=t.code,this.ctrlKey=this.ctrlKey||5===this.keyCode,this.altKey=this.altKey||6===this.keyCode,this.shiftKey=this.shiftKey||4===this.keyCode,this.metaKey=this.metaKey||57===this.keyCode,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}return e.prototype.preventDefault=function(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()},e.prototype.stopPropagation=function(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()},e.prototype.toKeybinding=function(){return this._asRuntimeKeybinding},e.prototype.equals=function(e){return this._asKeybinding===e},e.prototype._computeKeybinding=function(){var e=0;5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(e=this.keyCode);var t=0;return this.ctrlKey&&(t|=a),this.altKey&&(t|=512),this.shiftKey&&(t|=1024),this.metaKey&&(t|=c),t|=e},e.prototype._computeRuntimeKeybinding=function(){var e=0;return 5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(e=this.keyCode),new n.SimpleKeybinding(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)},e}();t.StandardKeyboardEvent=l}),define(u[86],d([1,0,11,66,395]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.timestamp=Date.now(),this.browserEvent=e,this.leftButton=0===e.button,this.middleButton=1===e.button,this.rightButton=2===e.button,this.target=e.target,this.detail=e.detail||1,"dblclick"===e.type&&(this.detail=2),this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,"number"==typeof e.pageX?(this.posx=e.pageX,this.posy=e.pageY):(this.posx=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=e.clientY+document.body.scrollTop+document.documentElement.scrollTop);var t=r.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(self,e.view);this.posx-=t.left,this.posy-=t.top}return e.prototype.preventDefault=function(){this.browserEvent.preventDefault&&this.browserEvent.preventDefault()},e.prototype.stopPropagation=function(){this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()},e}();t.StandardMouseEvent=o;var s=function(e){function t(t){var n=e.call(this,t)||this;return n.dataTransfer=t.dataTransfer,n}return h(t,e),t}(o);t.DragMouseEvent=s;var a=function(e){function t(t){return e.call(this,t)||this}return h(t,e),t}(s);t.DropMouseEvent=a;var c=function(){function e(e,t,r){if(void 0===t&&(t=0),void 0===r&&(r=0),this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=r,this.deltaX=t,e){var o=e,s=e;void 0!==o.wheelDeltaY?this.deltaY=o.wheelDeltaY/120:void 0!==s.VERTICAL_AXIS&&s.axis===s.VERTICAL_AXIS&&(this.deltaY=-s.detail/3),void 0!==o.wheelDeltaX?i.isSafari&&n.isWindows?this.deltaX=-o.wheelDeltaX/120:this.deltaX=o.wheelDeltaX/120:void 0!==s.HORIZONTAL_AXIS&&s.axis===s.HORIZONTAL_AXIS&&(this.deltaX=-e.detail/3),0===this.deltaY&&0===this.deltaX&&e.wheelDelta&&(this.deltaY=e.wheelDelta/120)}}return e.prototype.preventDefault=function(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()},e.prototype.stopPropagation=function(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()},e}();t.StandardMouseWheelEvent=c}),define(u[227],d([1,0,8]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=Object.freeze(function(e,t){var n=setTimeout(e.bind(t),0);return{dispose:function(){clearTimeout(n)}}});!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:n.default.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:r})}(i=t.CancellationToken||(t.CancellationToken={}));var o=function(){function e(){this._isCancelled=!1}return e.prototype.cancel=function(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this._emitter=void 0))},Object.defineProperty(e.prototype,"isCancellationRequested",{get:function(){return this._isCancelled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onCancellationRequested",{get:function(){return this._isCancelled?r:(this._emitter||(this._emitter=new n.Emitter),this._emitter.event)},enumerable:!0,configurable:!0}),e}(),s=function(){function e(){}return Object.defineProperty(e.prototype,"token",{get:function(){return this._token||(this._token=new o),this._token},enumerable:!0,configurable:!0}),e.prototype.cancel=function(){this._token?this._token.cancel():this._token=i.Cancelled},e.prototype.dispose=function(){this.cancel()},e}();t.CancellationTokenSource=s}),define(u[18],d([1,0,7,11,4,227,5,8]),function(e,t,n,i,r,o,s,a){"use strict";function c(e){return e&&"function"==typeof e.then}function l(e,t){return new r.TPromise(function(i,r,o){e.done(function(e){try{t(e)}catch(e){n.onUnexpectedError(e)}i(e)},function(e){try{t(e)}catch(e){n.onUnexpectedError(e)}r(e)},function(e){o(e)})},function(){e.cancel()})}Object.defineProperty(t,"__esModule",{value:!0}),t.toThenable=function(e){return c(e)?e:r.TPromise.as(e)},t.asWinJsPromise=function(e){var t=new o.CancellationTokenSource;return new r.TPromise(function(n,i,o){var s=e(t.token);s instanceof r.TPromise?s.then(n,i,o):c(s)?s.then(n,i):n(s)},function(){t.cancel()})},t.wireCancellationToken=function(e,t,i){var o=e.onCancellationRequested(function(){return t.cancel()});return i&&(t=t.then(void 0,function(e){if(!n.isPromiseCanceledError(e))return r.TPromise.wrapError(e)})),l(t,function(){return o.dispose()})};var u=function(){function e(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}return e.prototype.queue=function(e){var t=this;if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){var n=function(){t.queuedPromise=null;var e=t.queue(t.queuedPromiseFactory);return t.queuedPromiseFactory=null,e};this.queuedPromise=new r.Promise(function(e,i,r){t.activePromise.then(n,n,r).done(e)},function(){t.activePromise.cancel()})}return new r.Promise(function(e,n,i){t.queuedPromise.then(e,n,i)},function(){})}return this.activePromise=e(),new r.Promise(function(e,n,i){t.activePromise.done(function(n){t.activePromise=null,e(n)},function(e){t.activePromise=null,n(e)},i)},function(){t.activePromise.cancel()})},e}();t.Throttler=u;var d=function(){function e(){this.current=r.TPromise.as(null)}return e.prototype.queue=function(e){return this.current=this.current.then(function(){return e()})},e}();t.SimpleThrottler=d;var p=function(){function e(e){this.defaultDelay=e,this.timeout=null,this.completionPromise=null,this.onSuccess=null,this.task=null}return e.prototype.trigger=function(e,t){var n=this;return void 0===t&&(t=this.defaultDelay),this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new r.Promise(function(e){n.onSuccess=e},function(){}).then(function(){n.completionPromise=null,n.onSuccess=null;var e=n.task;return n.task=null,e()})),this.timeout=setTimeout(function(){n.timeout=null,n.onSuccess(null)},t),this.completionPromise},e.prototype.isTriggered=function(){return null!==this.timeout},e.prototype.cancel=function(){this.cancelTimeout(),this.completionPromise&&(this.completionPromise.cancel(),this.completionPromise=null)},e.prototype.cancelTimeout=function(){null!==this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},e}();t.Delayer=p;var f=function(e){function t(t){var n=e.call(this,t)||this;return n.throttler=new u,n}return h(t,e),t.prototype.trigger=function(t,n){var i=this;return e.prototype.trigger.call(this,function(){return i.throttler.queue(t)},n)},t}(p);t.ThrottledDelayer=f;var g=function(e){function t(t,n){void 0===n&&(n=0);var i=e.call(this,t)||this;return i.minimumPeriod=n,i.periodThrottler=new u,i}return h(t,e),t.prototype.trigger=function(t,n){var i=this;return e.prototype.trigger.call(this,function(){return i.periodThrottler.queue(function(){return r.Promise.join([r.TPromise.timeout(i.minimumPeriod),t()]).then(function(e){return e[1]})})},n)},t}(f);t.PeriodThrottledDelayer=g;var v=function(){function e(){var e=this;this._value=new r.TPromise(function(t,n){e._completeCallback=t,e._errorCallback=n})}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e.prototype.complete=function(e){this._completeCallback(e)},e.prototype.error=function(e){this._errorCallback(e)},e}();t.PromiseSource=v;var m=function(e){function t(t){var i,r,o,s=this;return s=e.call(this,function(e,t,n){i=e,r=t,o=n},function(){r(n.canceled())})||this,t.then(i,r,o),s}return h(t,e),t}(r.TPromise);t.ShallowCancelThenPromise=m,t.always=l,t.sequence=function(e){function t(){return e.length?e.pop()():null}function n(e){void 0!==e&&null!==e&&i.push(e);var o=t();return o?o.then(n):r.TPromise.as(i)}var i=[];return e=e.reverse(),r.TPromise.as(null).then(n)},t.first=function(e,t){void 0===t&&(t=function(e){return!!e}),e=e.reverse().slice();var n=function(){return 0===e.length?r.TPromise.as(null):e.pop()().then(function(e){return t(e)?r.TPromise.as(e):n()})};return n()};var y=function(){function e(e){this.maxDegreeOfParalellism=e,this.outstandingPromises=[],this.runningPromises=0,this._onFinished=new a.Emitter}return Object.defineProperty(e.prototype,"onFinished",{get:function(){return this._onFinished.event},enumerable:!0,configurable:!0}),e.prototype.queue=function(e){var t=this;return new r.TPromise(function(n,i,r){t.outstandingPromises.push({factory:e,c:n,e:i,p:r}),t.consume()})},e.prototype.consume=function(){for(var e=this;this.outstandingPromises.length&&this.runningPromises<this.maxDegreeOfParalellism;){var t=this.outstandingPromises.shift();this.runningPromises++;var n=t.factory();n.done(t.c,t.e,t.p),n.done(function(){return e.consumed()},function(){return e.consumed()})}},e.prototype.consumed=function(){this.runningPromises--,this.outstandingPromises.length>0?this.consume():this._onFinished.fire()},e.prototype.dispose=function(){this._onFinished.dispose()},e}();t.Limiter=y;var b=function(e){function t(){return e.call(this,1)||this}return h(t,e),t}(y);t.Queue=b,t.setDisposableTimeout=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=setTimeout.apply(void 0,[e,t].concat(n));return{dispose:function(){clearTimeout(r)}}};var S=function(e){function t(){var t=e.call(this)||this;return t._token=-1,t}return h(t,e),t.prototype.dispose=function(){this.cancel(),e.prototype.dispose.call(this)},t.prototype.cancel=function(){-1!==this._token&&(i.clearTimeout(this._token),this._token=-1)},t.prototype.cancelAndSet=function(e,t){var n=this;this.cancel(),this._token=i.setTimeout(function(){n._token=-1,e()},t)},t.prototype.setIfNotSet=function(e,t){var n=this;-1===this._token&&(this._token=i.setTimeout(function(){n._token=-1,e()},t))},t}(s.Disposable);t.TimeoutTimer=S;var _=function(e){function t(){var t=e.call(this)||this;return t._token=-1,t}return h(t,e),t.prototype.dispose=function(){this.cancel(),e.prototype.dispose.call(this)},t.prototype.cancel=function(){-1!==this._token&&(i.clearInterval(this._token),this._token=-1)},t.prototype.cancelAndSet=function(e,t){this.cancel(),this._token=i.setInterval(function(){e()},t)},t}(s.Disposable);t.IntervalTimer=_;var E=function(){function e(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}return e.prototype.dispose=function(){this.cancel(),this.runner=null},e.prototype.cancel=function(){this.isScheduled()&&(i.clearTimeout(this.timeoutToken),this.timeoutToken=-1)},e.prototype.setRunner=function(e){this.runner=e},e.prototype.schedule=function(e){void 0===e&&(e=this.timeout),this.cancel(),this.timeoutToken=i.setTimeout(this.timeoutHandler,e)},e.prototype.isScheduled=function(){return-1!==this.timeoutToken},e.prototype.onTimeout=function(){this.timeoutToken=-1,this.runner&&this.runner()},e}();t.RunOnceScheduler=E,t.nfcall=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new r.Promise(function(n,i){return e.apply(void 0,t.concat([function(e,t){return e?i(e):n(t)}]))},function(){return null})},t.ninvoke=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return new r.Promise(function(i,r){return t.call.apply(t,[e].concat(n,[function(e,t){return e?r(e):i(t)}]))},function(){return null})}}),define(u[81],d([1,0,7]),function(e,t,n){"use strict";function i(e){try{return e()}catch(e){n.onUnexpectedError(e)}}function r(e,t){try{return e(t)}catch(e){n.onUnexpectedError(e)}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){return function(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this.type=e,this.data=t}}();t.EmitterEvent=o;var s=function(){function e(e){if(void 0===e&&(e=null),this._listeners={},this._bulkListeners=[],this._collectedEvents=[],this._deferredCnt=0,e){this._allowedEventTypes={};for(var t=0;t<e.length;t++)this._allowedEventTypes[e[t]]=!0}else this._allowedEventTypes=null}return e.prototype.dispose=function(){this._listeners={},this._bulkListeners=[],this._collectedEvents=[],this._deferredCnt=0,this._allowedEventTypes=null},e.prototype.addListener=function(e,t){if("*"===e)throw new Error("Use addBulkListener(listener) to register your listener!");if(this._allowedEventTypes&&!this._allowedEventTypes.hasOwnProperty(e))throw new Error("This object will never emit this event type!");this._listeners.hasOwnProperty(e)?this._listeners[e].push(t):this._listeners[e]=[t];var n=this;return{dispose:function(){n&&(n._removeListener(e,t),n=null,t=null)}}},e.prototype.addOneTimeListener=function(e,t){var n=this.addListener(e,function(e){n.dispose(),t(e)});return n},e.prototype.addBulkListener=function(e){var t=this;return this._bulkListeners.push(e),{dispose:function(){t._removeBulkListener(e)}}},e.prototype.addEmitter=function(e){var t=this;return e.addBulkListener(function(e){0===t._deferredCnt?t._emitEvents(e):t._collectedEvents.push.apply(t._collectedEvents,e)})},e.prototype._removeListener=function(e,t){if(this._listeners.hasOwnProperty(e))for(var n=this._listeners[e],i=0,r=n.length;i<r;i++)if(n[i]===t){n.splice(i,1);break}},e.prototype._removeBulkListener=function(e){for(var t=0,n=this._bulkListeners.length;t<n;t++)if(this._bulkListeners[t]===e){this._bulkListeners.splice(t,1);break}},e.prototype._emitToSpecificTypeListeners=function(e,t){if(this._listeners.hasOwnProperty(e))for(var n=this._listeners[e].slice(0),i=0,o=n.length;i<o;i++)r(n[i],t)},e.prototype._emitToBulkListeners=function(e){for(var t=this._bulkListeners.slice(0),n=0,i=t.length;n<i;n++)r(t[n],e)},e.prototype._emitEvents=function(e){this._bulkListeners.length>0&&this._emitToBulkListeners(e);for(var t=0,n=e.length;t<n;t++){var i=e[t];this._emitToSpecificTypeListeners(i.type,i.data)}},e.prototype.emit=function(e,t){if(void 0===t&&(t={}),this._allowedEventTypes&&!this._allowedEventTypes.hasOwnProperty(e))throw new Error("Cannot emit this event type because it wasn't listed!");if(this._listeners.hasOwnProperty(e)||0!==this._bulkListeners.length){var n=new o(e,t);0===this._deferredCnt?this._emitEvents([n]):this._collectedEvents.push(n)}},e.prototype.beginDeferredEmit=function(){this._deferredCnt=this._deferredCnt+1},e.prototype.endDeferredEmit=function(){this._deferredCnt=this._deferredCnt-1,0===this._deferredCnt&&this._emitCollected()},e.prototype.deferredEmit=function(e){this.beginDeferredEmit();var t=i(e);return this.endDeferredEmit(),t},e.prototype._emitCollected=function(){if(0!==this._collectedEvents.length){var e=this._collectedEvents;this._collectedEvents=[],this._emitEvents(e)}},e}();t.EventEmitter=s;var a=function(){return function(e,t){this.target=e,this.arg=t}}(),c=function(e){function t(){var t=e.call(this,null)||this;return t._emitQueue=[],t}return h(t,e),t.prototype._emitToSpecificTypeListeners=function(e,t){if(this._listeners.hasOwnProperty(e))for(var n=this._listeners[e],i=0,r=n.length;i<r;i++)this._emitQueue.push(new a(n[i],t))},t.prototype._emitToBulkListeners=function(e){for(var t=this._bulkListeners,n=0,i=t.length;n<i;n++)this._emitQueue.push(new a(t[n],e))},t.prototype._emitEvents=function(t){for(e.prototype._emitEvents.call(this,t);this._emitQueue.length>0;){var n=this._emitQueue.shift();r(n.target,n.arg)}},t}(s);t.OrderGuaranteeEventEmitter=c}),define(u[9],d([1,0,4,18,7,81,5,24,66,89,86]),function(e,t,n,i,r,o,s,a,c,l,u){"use strict";function d(e,t,n,i){return new k(e,t,n,i)}function p(e){return function(t){return e(new u.StandardMouseEvent(t))}}function f(e){return function(t){return e(new l.StandardKeyboardEvent(t))}}function g(e){return document.defaultView.getComputedStyle(e,null)}function v(e,t,n){var i=g(e),r="0";return i&&(r=i.getPropertyValue?i.getPropertyValue(t):i.getAttribute(n)),O(e,r)}function m(e){for(var t=e.offsetParent,n=e.offsetTop,i=e.offsetLeft;null!==(e=e.parentNode)&&e!==document.body&&e!==document.documentElement;){n-=e.scrollTop;var r=g(e);r&&(i-="rtl"!==r.direction?e.scrollLeft:-e.scrollLeft),e===t&&(i+=R.getBorderLeftWidth(e),n+=R.getBorderTopWidth(e),n+=e.offsetTop,i+=e.offsetLeft,t=e.offsetParent)}return{left:i,top:n}}function y(e){var t=R.getMarginLeft(e)+R.getMarginRight(e);return e.offsetWidth+t}function b(e){var t=R.getMarginLeft(e)+R.getMarginRight(e);return e.scrollWidth+t}function S(e,t){if(null===e)return 0;var n=m(e),i=m(t);return n.left-i.left}function _(e){void 0===e&&(e=document.getElementsByTagName("head")[0]);var t=document.createElement("style");return t.type="text/css",t.media="screen",e.appendChild(t),t}function E(e){return e&&e.sheet&&e.sheet.rules?e.sheet.rules:e&&e.sheet&&e.sheet.cssRules?e.sheet.cssRules:[]}function C(e,t){for(;e;){if(e instanceof HTMLElement&&e.hasAttribute(t))return e;e=e.parentNode}return null}Object.defineProperty(t,"__esModule",{value:!0}),t.clearNode=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},t.safeStringifyDOMAware=function(e){var t=[];return JSON.stringify(e,function(e,n){if(n instanceof Element)return"[Element]";if(a.isObject(n)||Array.isArray(n)){if(-1!==t.indexOf(n))return"[Circular]";t.push(n)}return n})},t.isInDOM=function(e){for(;e;){if(e===document.body)return!0;e=e.parentNode}return!1};var w=new(function(){function e(){}return e.prototype._findClassName=function(e,t){var n=e.className;if(n){t=t.trim();var i=n.length,r=t.length;if(0!==r)if(i<r)this._lastStart=-1;else{if(n===t)return this._lastStart=0,void(this._lastEnd=i);for(var o,s=-1;(s=n.indexOf(t,s+1))>=0;){if(o=s+r,(0===s||32===n.charCodeAt(s-1))&&32===n.charCodeAt(o))return this._lastStart=s,void(this._lastEnd=o+1);if(s>0&&32===n.charCodeAt(s-1)&&o===i)return this._lastStart=s-1,void(this._lastEnd=o);if(0===s&&o===i)return this._lastStart=0,void(this._lastEnd=o)}this._lastStart=-1}else this._lastStart=-1}else this._lastStart=-1},e.prototype.hasClass=function(e,t){return this._findClassName(e,t),-1!==this._lastStart},e.prototype.addClass=function(e,t){e.className?(this._findClassName(e,t),-1===this._lastStart&&(e.className=e.className+" "+t)):e.className=t},e.prototype.removeClass=function(e,t){this._findClassName(e,t),-1!==this._lastStart&&(e.className=e.className.substring(0,this._lastStart)+e.className.substring(this._lastEnd))},e.prototype.toggleClass=function(e,t,n){this._findClassName(e,t),-1===this._lastStart||void 0!==n&&n||this.removeClass(e,t),-1!==this._lastStart||void 0!==n&&!n||this.addClass(e,t)},e}()),I=new(function(){function e(){}return e.prototype.hasClass=function(e,t){return t&&e.classList&&e.classList.contains(t)},e.prototype.addClass=function(e,t){t&&e.classList&&e.classList.add(t)},e.prototype.removeClass=function(e,t){t&&e.classList&&e.classList.remove(t)},e.prototype.toggleClass=function(e,t,n){e.classList&&e.classList.toggle(t,n)},e}()),T=c.isIE?w:I;t.hasClass=T.hasClass.bind(T),t.addClass=T.addClass.bind(T),t.removeClass=T.removeClass.bind(T),t.toggleClass=T.toggleClass.bind(T);var k=function(){function e(e,t,n,i){this._node=e,this._type=t,this._handler=n,this._useCapture=i||!1,this._node.addEventListener(this._type,this._handler,this._useCapture)}return e.prototype.dispose=function(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._useCapture),this._node=null,this._handler=null)},e}();t.addDisposableListener=d,t.addStandardDisposableListener=function(e,t,n,i){var r=n;return"click"===t||"mousedown"===t?r=p(n):"keydown"!==t&&"keypress"!==t&&"keyup"!==t||(r=f(n)),d(e,t,r,i)},t.addDisposableNonBubblingMouseOutListener=function(e,t){return d(e,"mouseout",function(n){for(var i=n.relatedTarget||n.toElement;i&&i!==e;)i=i.parentNode;i!==e&&t(n)})};var x=function(){var e=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame,t=self.cancelAnimationFrame||self.cancelRequestAnimationFrame||self.msCancelAnimationFrame||self.msCancelRequestAnimationFrame||self.webkitCancelAnimationFrame||self.webkitCancelRequestAnimationFrame||self.mozCancelAnimationFrame||self.mozCancelRequestAnimationFrame||self.oCancelAnimationFrame||self.oCancelRequestAnimationFrame,n=!!e,i=e||function(e){return setTimeout(function(){return e((new Date).getTime())},0)},r=t||function(e){};return{isNative:n,request:function(e){return i(e)},cancel:function(e){return r(e)}}}(),A=function(){function e(e,t){this._runner=e,this.priority=t,this._canceled=!1}return e.prototype.dispose=function(){this._canceled=!0},e.prototype.execute=function(){if(!this._canceled)try{this._runner()}catch(e){r.onUnexpectedError(e)}},e.sort=function(e,t){return t.priority-e.priority},e}();!function(){var e=[],n=null,i=!1,r=!1,o=function(){for(i=!1,n=e,e=[],r=!0;n.length>0;)n.sort(A.sort),n.shift().execute();r=!1};t.scheduleAtNextAnimationFrame=function(t,n){void 0===n&&(n=0);var r=new A(t,n);return e.push(r),i||(i=!0,x.request(o)),r},t.runAtThisOrScheduleAtNextAnimationFrame=function(e,i){if(r){var o=new A(e,i);return n.push(o),o}return t.scheduleAtNextAnimationFrame(e,i)}}();var L=16,P=function(e,t){return t},D=function(e){function t(t,n,r,o,s){void 0===o&&(o=P),void 0===s&&(s=L);var a=e.call(this)||this,c=null,l=0,u=a._register(new i.TimeoutTimer),h=function(){l=(new Date).getTime(),r(c),c=null};return a._register(d(t,n,function(e){c=o(c,e);var t=(new Date).getTime()-l;t>=s?(u.cancel(),h()):u.setIfNotSet(h,s-t)})),a}return h(t,e),t}(s.Disposable);t.addDisposableThrottledListener=function(e,t,n,i,r){return new D(e,t,n,i,r)},t.getComputedStyle=g;var O=function(e,t){return parseFloat(t)||0},R={getBorderLeftWidth:function(e){return v(e,"border-left-width","borderLeftWidth")},getBorderTopWidth:function(e){return v(e,"border-top-width","borderTopWidth")},getBorderRightWidth:function(e){return v(e,"border-right-width","borderRightWidth")},getBorderBottomWidth:function(e){return v(e,"border-bottom-width","borderBottomWidth")},getPaddingLeft:function(e){return v(e,"padding-left","paddingLeft")},getPaddingTop:function(e){return v(e,"padding-top","paddingTop")},getPaddingRight:function(e){return v(e,"padding-right","paddingRight")},getPaddingBottom:function(e){return v(e,"padding-bottom","paddingBottom")},getMarginLeft:function(e){return v(e,"margin-left","marginLeft")},getMarginTop:function(e){return v(e,"margin-top","marginTop")},getMarginRight:function(e){return v(e,"margin-right","marginRight")},getMarginBottom:function(e){return v(e,"margin-bottom","marginBottom")},__commaSentinel:!1};t.getTopLeftOffset=m,t.getDomNodePagePosition=function(e){var n=e.getBoundingClientRect();return{left:n.left+t.StandardWindow.scrollX,top:n.top+t.StandardWindow.scrollY,width:n.width,height:n.height}},t.StandardWindow=new(function(){function e(){}return Object.defineProperty(e.prototype,"scrollX",{get:function(){return"number"==typeof window.scrollX?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollY",{get:function(){return"number"==typeof window.scrollY?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop},enumerable:!0,configurable:!0}),e}()),t.getContentWidth=function(e){var t=R.getBorderLeftWidth(e)+R.getBorderRightWidth(e),n=R.getPaddingLeft(e)+R.getPaddingRight(e);return e.offsetWidth-t-n},t.getTotalWidth=y,t.getTotalScrollWidth=b,t.getContentHeight=function(e){var t=R.getBorderTopWidth(e)+R.getBorderBottomWidth(e),n=R.getPaddingTop(e)+R.getPaddingBottom(e);return e.offsetHeight-t-n},t.getTotalHeight=function(e){var t=R.getMarginTop(e)+R.getMarginBottom(e);return e.offsetHeight+t},t.getLargestChildWidth=function(e,t){var n=t.map(function(t){return Math.max(b(t),y(t))+S(t,e)||0});return Math.max.apply(Math,n)},t.isAncestor=function(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1},t.findParentWithClass=function(e,n,i){for(;e;){if(t.hasClass(e,n))return e;if(i&&t.hasClass(e,i))return null;e=e.parentNode}return null},t.createStyleSheet=_;var M=_();t.createCSSRule=function(e,t,n){void 0===n&&(n=M),n&&t&&n.sheet.insertRule(e+"{"+t+"}",0)},t.getCSSRule=function(e,t){if(void 0===t&&(t=M),!t)return null;for(var n=E(t),i=0;i<n.length;i++){var r=n[i];if(r.selectorText.replace(/::/gi,":")===e)return r}return null},t.removeCSSRulesContainingSelector=function(e,t){if(void 0===t&&(t=M),t){for(var n=E(t),i=[],r=0;r<n.length;r++)-1!==n[r].selectorText.indexOf(e)&&i.push(r);for(r=i.length-1;r>=0;r--)t.sheet.deleteRule(i[r])}},t.isHTMLElement=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},t.EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:c.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:c.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:c.isWebKit?"webkitAnimationIteration":"animationiteration"},t.EventHelper={stop:function(e,t){e.preventDefault?e.preventDefault():e.returnValue=!1,t&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)}},t.saveParentsScrollTop=function(e){for(var t=[],n=0;e&&e.nodeType===e.ELEMENT_NODE;n++)t[n]=e.scrollTop,e=e.parentNode;return t},t.restoreParentsScrollTop=function(e,t){for(var n=0;e&&e.nodeType===e.ELEMENT_NODE;n++)e.scrollTop!==t[n]&&(e.scrollTop=t[n]),e=e.parentNode};var N=function(e){function n(n){var i=e.call(this)||this,r=!1,s=!1;i._eventEmitter=i._register(new o.EventEmitter);return i._register(d(n,t.EventType.FOCUS,function(e){s=!1,r||(r=!0,i._eventEmitter.emit("focus",{}))},!0)),i._register(d(n,t.EventType.BLUR,function(e){r&&(s=!0,window.setTimeout(function(){s&&(s=!1,r=!1,i._eventEmitter.emit("blur",{}))},0))},!0)),i}return h(n,e),n.prototype.addFocusListener=function(e){return this._eventEmitter.addListener("focus",e)},n.prototype.addBlurListener=function(e){return this._eventEmitter.addListener("blur",e)},n}(s.Disposable);t.trackFocus=function(e){return new N(e)},t.append=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach(function(t){return e.appendChild(t)}),t[t.length-1]},t.prepend=function(e,t){return e.insertBefore(t,e.firstChild),t};var F=/([\w\-]+)?(#([\w\-]+))?((.([\w\-]+))*)/;t.$=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=F.exec(e);if(!r)throw new Error("Bad use of emmet");var o=document.createElement(r[1]||"div");return r[3]&&(o.id=r[3]),r[4]&&(o.className=r[4].replace(/\./g," ").trim()),Object.keys(t||{}).forEach(function(e){/^on\w+$/.test(e)?o[e]=t[e]:"selected"===e?t[e]&&o.setAttribute(e,"true"):o.setAttribute(e,t[e])}),n.filter(function(e){return!!e}).forEach(function(e){e instanceof Node?o.appendChild(e):o.appendChild(document.createTextNode(e))}),o},t.join=function(e,t){var n=[];return e.forEach(function(e,i){i>0&&(t instanceof Node?n.push(t.cloneNode()):n.push(document.createTextNode(t))),n.push(e)}),n},t.show=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,i=e;n<i.length;n++)i[n].style.display=""},t.hide=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,i=e;n<i.length;n++)i[n].style.display="none"},t.removeTabIndexAndUpdateFocus=function(e){if(e&&e.hasAttribute("tabIndex")){if(document.activeElement===e){var t=C(e.parentElement,"tabIndex");t&&t.focus()}e.removeAttribute("tabindex")}},t.getElementsByTagName=function(e){return Array.prototype.slice.call(document.getElementsByTagName(e),0)},t.finalHandler=function(e){return function(t){t.preventDefault(),t.stopPropagation(),e(t)}},t.domContentLoaded=function(){return new n.TPromise(function(e,t){"complete"===document.readyState||document&&null!==document.body?window.setImmediate(e):window.addEventListener("DOMContentLoaded",e,!1)})},t.computeScreenAwareSize=function(e){var t=window.devicePixelRatio*e;return Math.max(1,Math.floor(t))/window.devicePixelRatio}}),define(u[75],d([1,0,9]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.domNode=e,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._layerHint=!1}return e.prototype.setMaxWidth=function(e){this._maxWidth!==e&&(this._maxWidth=e,this.domNode.style.maxWidth=this._maxWidth+"px")},e.prototype.setWidth=function(e){this._width!==e&&(this._width=e,this.domNode.style.width=this._width+"px")},e.prototype.unsetWidth=function(){-1!==this._width&&(this._width=-1,this.domNode.style.width="")},e.prototype.setHeight=function(e){this._height!==e&&(this._height=e,this.domNode.style.height=this._height+"px")},e.prototype.unsetHeight=function(){-1!==this._height&&(this._height=-1,this.domNode.style.height="")},e.prototype.setTop=function(e){this._top!==e&&(this._top=e,this.domNode.style.top=this._top+"px")},e.prototype.unsetTop=function(){-1!==this._top&&(this._top=-1,this.domNode.style.top="")},e.prototype.setLeft=function(e){this._left!==e&&(this._left=e,this.domNode.style.left=this._left+"px")},e.prototype.setBottom=function(e){this._bottom!==e&&(this._bottom=e,this.domNode.style.bottom=this._bottom+"px")},e.prototype.setRight=function(e){this._right!==e&&(this._right=e,this.domNode.style.right=this._right+"px")},e.prototype.setFontFamily=function(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)},e.prototype.setFontWeight=function(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)},e.prototype.setFontSize=function(e){this._fontSize!==e&&(this._fontSize=e,this.domNode.style.fontSize=this._fontSize+"px")},e.prototype.setLineHeight=function(e){this._lineHeight!==e&&(this._lineHeight=e,this.domNode.style.lineHeight=this._lineHeight+"px")},e.prototype.setLetterSpacing=function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.domNode.style.letterSpacing=this._letterSpacing+"px")},e.prototype.setClassName=function(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)},e.prototype.toggleClassName=function(e,t){n.toggleClass(this.domNode,e,t),this._className=this.domNode.className},e.prototype.addClassName=function(e){n.addClass(this.domNode,e),this._className=this.domNode.className},e.prototype.removeClassName=function(e){n.removeClass(this.domNode,e),this._className=this.domNode.className},e.prototype.setDisplay=function(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)},e.prototype.setPosition=function(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)},e.prototype.setVisibility=function(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)},e.prototype.setLayerHinting=function(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.willChange=this._layerHint?"transform":"auto")},e.prototype.setAttribute=function(e,t){this.domNode.setAttribute(e,t)},e.prototype.getAttribute=function(e){return this.domNode.getAttribute(e)},e.prototype.removeAttribute=function(e){this.domNode.removeAttribute(e)},e.prototype.hasAttribute=function(e){return this.domNode.hasAttribute(e)},e.prototype.appendChild=function(e){this.domNode.appendChild(e.domNode)},e.prototype.removeChild=function(e){this.domNode.removeChild(e.domNode)},e}();t.FastDomNode=i,t.createFastDomNode=function(e){return new i(e)}}),define(u[231],d([1,0,5,9,395,86]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.standardMouseMoveMerger=function(e,t){var n=new o.StandardMouseEvent(t);return n.preventDefault(),{leftButton:n.leftButton,posx:n.posx,posy:n.posy}};var s=function(e){function t(){var t=e.call(this)||this;return t.hooks=[],t.mouseMoveEventMerger=null,t.mouseMoveCallback=null,t.onStopCallback=null,t}return h(t,e),t.prototype.dispose=function(){this.stopMonitoring(!1),e.prototype.dispose.call(this)},t.prototype.stopMonitoring=function(e){if(this.isMonitoring()){this.hooks=n.dispose(this.hooks),this.mouseMoveEventMerger=null,this.mouseMoveCallback=null;var t=this.onStopCallback;this.onStopCallback=null,e&&t()}},t.prototype.isMonitoring=function(){return this.hooks.length>0},t.prototype.startMonitoring=function(e,t,n){var s=this;if(!this.isMonitoring()){this.mouseMoveEventMerger=e,this.mouseMoveCallback=t,this.onStopCallback=n;for(var a=r.IframeUtils.getSameOriginWindowChain(),c=0;c<a.length;c++)this.hooks.push(i.addDisposableThrottledListener(a[c].window.document,"mousemove",function(e){return s.mouseMoveCallback(e)},function(e,t){return s.mouseMoveEventMerger(e,t)})),this.hooks.push(i.addDisposableListener(a[c].window.document,"mouseup",function(e){return s.stopMonitoring(!0)}));if(r.IframeUtils.hasDifferentOriginAncestor()){var l=a[a.length-1];this.hooks.push(i.addDisposableListener(l.window.document,"mouseout",function(e){"html"===new o.StandardMouseEvent(e).target.tagName.toLowerCase()&&s.stopMonitoring(!0)})),this.hooks.push(i.addDisposableListener(l.window.document,"mouseover",function(e){"html"===new o.StandardMouseEvent(e).target.tagName.toLowerCase()&&s.stopMonitoring(!0)})),this.hooks.push(i.addDisposableListener(l.window.document.body,"mouseleave",function(e){s.stopMonitoring(!0)}))}}},t}(n.Disposable);t.GlobalMouseMoveMonitor=s}),define(u[194],d([1,0,9,155,12,4,280,183]),function(e,t,n,i,r,o,s,a){"use strict";function c(e){var t=e.inline?"span":"div",n=document.createElement(t);return e.className&&(n.className=e.className),n}function l(e,t){void 0===t&&(t={});var l,u=c(t),d=(t.codeBlockRenderer,t.actionCallback,new o.TPromise(function(e){return l=e})),h=new a.marked.Renderer;return h.image=function(e,t,n){var i=[];if(e){var r=e.split("|").map(function(e){return e.trim()});e=r[0];var o=r[1];if(o){var s=/height=(\d+)/.exec(o),a=/width=(\d+)/.exec(o),c=s&&s[1],l=a&&a[1],u=isFinite(parseInt(l)),d=isFinite(parseInt(c));u&&i.push('width="'+l+'"'),d&&i.push('height="'+c+'"')}}var h=[];return e&&h.push('src="'+e+'"'),n&&h.push('alt="'+n+'"'),t&&h.push('title="'+t+'"'),i.length&&(h=h.concat(i)),"<img "+h.join(" ")+">"},h.link=function(e,t,n){return e===n&&(n=s.removeMarkdownEscapes(n)),t=s.removeMarkdownEscapes(t),!(e=s.removeMarkdownEscapes(e))||e.match(/^data:|javascript:/i)?n:'<a href="#" data-href="'+e+'" title="'+(t||n)+'">'+n+"</a>"},h.paragraph=function(e){return"<p>"+e+"</p>"},t.codeBlockRenderer&&(h.code=function(e,n){var s=t.codeBlockRenderer(n,e);if("string"==typeof s)return s;if(o.TPromise.is(s)){var a=i.defaultGenerator.nextId();return o.TPromise.join([s,d]).done(function(e){var t=e[0],n=u.querySelector('span[data-code="'+a+'"]');n&&(n.innerHTML=t)},function(e){}),'<span data-code="'+a+'">'+r.escape(e)+"</span>"}return e}),t.actionCallback&&n.addStandardDisposableListener(u,"click",function(e){if("A"===e.target.tagName){var n=e.target.dataset.href;n&&t.actionCallback(n,e)}}),u.innerHTML=a.marked(e,{sanitize:!0,renderer:h}),l(),u}function u(e,t,i){var r;if(2===t.type)r=document.createTextNode(t.content);else if(3===t.type)r=document.createElement("b");else if(4===t.type)r=document.createElement("i");else if(5===t.type){var o=document.createElement("a");o.href="#",n.addStandardDisposableListener(o,"click",function(e){i(String(t.index),e)}),r=o}else 7===t.type?r=document.createElement("br"):1===t.type&&(r=e);e!==r&&e.appendChild(r),Array.isArray(t.children)&&t.children.forEach(function(e){u(r,e,i)})}function d(e){for(var t={type:1,children:[]},n=0,i=t,r=[],o=new g(e);!o.eos();){var s=o.next(),a="\\"===s&&0!==p(o.peek());if(a&&(s=o.next()),!a&&h(s)&&s===o.peek()){o.advance(),2===i.type&&(i=r.pop());var c=p(s);if(i.type===c||5===i.type&&6===c)i=r.pop();else{var l={type:c,children:[]};5===c&&(l.index=n,n++),i.children.push(l),r.push(i),i=l}}else if("\n"===s)2===i.type&&(i=r.pop()),i.children.push({type:7});else if(2!==i.type){var u={type:2,content:s};i.children.push(u),r.push(i),i=u}else i.content+=s}return 2===i.type&&(i=r.pop()),r.length,t}function h(e){return 0!==p(e)}function p(e){switch(e){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;default:return 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.renderMarkedString=function(e,t){void 0===t&&(t={});var n;return n="string"==typeof e?e:"```"+e.language+"\n"+e.value+"\n```",l(n,t)},t.renderText=function(e,t){void 0===t&&(t={});var n=c(t);return n.textContent=e,n},t.renderFormattedText=function(e,t){void 0===t&&(t={});var n=c(t);return u(n,d(e),t.actionCallback),n},t.renderMarkdown=l;var f,g=function(){function e(e){this.source=e,this.index=0}return e.prototype.eos=function(){return this.index>=this.source.length},e.prototype.next=function(){var e=this.peek();return this.advance(),e},e.prototype.peek=function(){return this.source[this.index]},e.prototype.advance=function(){this.index++},e}();!function(e){e[e.Invalid=0]="Invalid",e[e.Root=1]="Root",e[e.Text=2]="Text",e[e.Bold=3]="Bold",e[e.Italics=4]="Italics",e[e.Action=5]="Action",e[e.ActionClose=6]="ActionClose",e[e.NewLine=7]="NewLine"}(f||(f={}))}),define(u[167],d([1,0,34,5,9]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o;!function(e){e.Tap="-monaco-gesturetap",e.Change="-monaco-gesturechange",e.Start="-monaco-gesturestart",e.End="-monaco-gesturesend",e.Contextmenu="-monaco-gesturecontextmenu"}(o=t.EventType||(t.EventType={}));var s=function(){function e(e){this.callOnTarget=[],this.activeTouches={},this.target=e,this.handle=null}return e.prototype.dispose=function(){this.target=null,this.handle&&(this.handle.dispose(),this.handle=null)},Object.defineProperty(e.prototype,"target",{set:function(e){var t=this;this.callOnTarget=i.dispose(this.callOnTarget),this.activeTouches={},this.targetElement=e,this.targetElement&&(this.callOnTarget.push(r.addDisposableListener(this.targetElement,"touchstart",function(e){return t.onTouchStart(e)})),this.callOnTarget.push(r.addDisposableListener(this.targetElement,"touchend",function(e){return t.onTouchEnd(e)})),this.callOnTarget.push(r.addDisposableListener(this.targetElement,"touchmove",function(e){return t.onTouchMove(e)})))},enumerable:!0,configurable:!0}),e.newGestureEvent=function(e){var t=document.createEvent("CustomEvent");return t.initEvent(e,!1,!0),t},e.prototype.onTouchStart=function(t){var n=Date.now();t.preventDefault(),this.handle&&(this.handle.dispose(),this.handle=null);for(var i=0,r=t.targetTouches.length;i<r;i++){var s=t.targetTouches.item(i);this.activeTouches[s.identifier]={id:s.identifier,initialTarget:s.target,initialTimeStamp:n,initialPageX:s.pageX,initialPageY:s.pageY,rollingTimestamps:[n],rollingPageX:[s.pageX],rollingPageY:[s.pageY]};var a=e.newGestureEvent(o.Start);a.pageX=s.pageX,a.pageY=s.pageY,this.targetElement.dispatchEvent(a)}},e.prototype.onTouchEnd=function(t){var i=Date.now();t.preventDefault(),t.stopPropagation();for(var r=Object.keys(this.activeTouches).length,s=0,a=t.changedTouches.length;s<a;s++){var c=t.changedTouches.item(s);if(this.activeTouches.hasOwnProperty(String(c.identifier))){var l=this.activeTouches[c.identifier],u=Date.now()-l.initialTimeStamp;if(u<e.HOLD_DELAY&&Math.abs(l.initialPageX-n.tail(l.rollingPageX))<30&&Math.abs(l.initialPageY-n.tail(l.rollingPageY))<30)(d=e.newGestureEvent(o.Tap)).initialTarget=l.initialTarget,d.pageX=n.tail(l.rollingPageX),d.pageY=n.tail(l.rollingPageY),this.targetElement.dispatchEvent(d);else if(u>=e.HOLD_DELAY&&Math.abs(l.initialPageX-n.tail(l.rollingPageX))<30&&Math.abs(l.initialPageY-n.tail(l.rollingPageY))<30){var d=e.newGestureEvent(o.Contextmenu);d.initialTarget=l.initialTarget,d.pageX=n.tail(l.rollingPageX),d.pageY=n.tail(l.rollingPageY),this.targetElement.dispatchEvent(d)}else if(1===r){var h=n.tail(l.rollingPageX),p=n.tail(l.rollingPageY),f=n.tail(l.rollingTimestamps)-l.rollingTimestamps[0],g=h-l.rollingPageX[0],v=p-l.rollingPageY[0];this.inertia(i,Math.abs(g)/f,g>0?1:-1,h,Math.abs(v)/f,v>0?1:-1,p)}delete this.activeTouches[c.identifier]}else console.warn("move of an UNKNOWN touch",c)}},e.prototype.inertia=function(t,n,i,s,a,c,l){var u=this;this.handle=r.scheduleAtNextAnimationFrame(function(){var r=Date.now(),d=r-t,h=0,p=0,f=!0;n+=e.SCROLL_FRICTION*d,a+=e.SCROLL_FRICTION*d,n>0&&(f=!1,h=i*n*d),a>0&&(f=!1,p=c*a*d);var g=e.newGestureEvent(o.Change);g.translationX=h,g.translationY=p,u.targetElement.dispatchEvent(g),f||u.inertia(r,n,i,s+h,a,c,l+p)})},e.prototype.onTouchMove=function(t){var i=Date.now();t.preventDefault(),t.stopPropagation();for(var r=0,s=t.changedTouches.length;r<s;r++){var a=t.changedTouches.item(r);if(this.activeTouches.hasOwnProperty(String(a.identifier))){var c=this.activeTouches[a.identifier],l=e.newGestureEvent(o.Change);l.translationX=a.pageX-n.tail(c.rollingPageX),l.translationY=a.pageY-n.tail(c.rollingPageY),l.pageX=a.pageX,l.pageY=a.pageY,this.targetElement.dispatchEvent(l),c.rollingPageX.length>3&&(c.rollingPageX.shift(),c.rollingPageY.shift(),c.rollingTimestamps.shift()),c.rollingPageX.push(a.pageX),c.rollingPageY.push(a.pageY),c.rollingTimestamps.push(i)}else console.warn("end of an UNKNOWN touch",a)}},e}();s.HOLD_DELAY=700,s.SCROLL_FRICTION=-.005,t.Gesture=s}),define(u[1322],d([1,0,9]),function(e,t,n){"use strict";function i(e){try{e.parentElement.removeChild(e)}catch(e){}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.renderers=e,this.cache=Object.create(null)}return e.prototype.alloc=function(e){var t=this.getTemplateCache(e).pop();if(!t){var i=n.$(".monaco-list-row");t={domNode:i,templateId:e,templateData:this.renderers[e].renderTemplate(i)}}return t},e.prototype.release=function(e){e&&this.releaseRow(e)},e.prototype.releaseRow=function(e){var t=e.domNode,r=e.templateId;n.removeClass(t,"scrolling"),i(t),this.getTemplateCache(r).push(e)},e.prototype.getTemplateCache=function(e){return this.cache[e]||(this.cache[e]=[])},e.prototype.garbageCollect=function(){var e=this;this.cache&&Object.keys(this.cache).forEach(function(t){e.cache[t].forEach(function(n){e.renderers[t].disposeTemplate(n.templateData),n.domNode=null,n.templateData=null}),delete e.cache[t]})},e.prototype.dispose=function(){this.garbageCollect(),this.cache=null,this.renderers=null},e}();t.RowCache=r}),define(u[91],d([1,0,5,86,89,9]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.onclick=function(e,t){this._register(o.addDisposableListener(e,o.EventType.CLICK,function(e){return t(new i.StandardMouseEvent(e))}))},t.prototype.onmousedown=function(e,t){this._register(o.addDisposableListener(e,o.EventType.MOUSE_DOWN,function(e){return t(new i.StandardMouseEvent(e))}))},t.prototype.onmouseover=function(e,t){this._register(o.addDisposableListener(e,o.EventType.MOUSE_OVER,function(e){return t(new i.StandardMouseEvent(e))}))},t.prototype.onnonbubblingmouseout=function(e,t){this._register(o.addDisposableNonBubblingMouseOutListener(e,function(e){return t(new i.StandardMouseEvent(e))}))},t.prototype.onkeydown=function(e,t){this._register(o.addDisposableListener(e,o.EventType.KEY_DOWN,function(e){return t(new r.StandardKeyboardEvent(e))}))},t.prototype.onkeyup=function(e,t){this._register(o.addDisposableListener(e,o.EventType.KEY_UP,function(e){return t(new r.StandardKeyboardEvent(e))}))},t.prototype.oninput=function(e,t){this._register(o.addDisposableListener(e,o.EventType.INPUT,t))},t.prototype.onblur=function(e,t){this._register(o.addDisposableListener(e,o.EventType.BLUR,t))},t.prototype.onfocus=function(e,t){this._register(o.addDisposableListener(e,o.EventType.FOCUS,t))},t.prototype.onchange=function(e,t){this._register(o.addDisposableListener(e,o.EventType.CHANGE,t))},t}(n.Disposable);t.Widget=s}),define(u[322],d([1,0,231,91,18]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ARROW_IMG_SIZE=11;var o=function(e){function i(i){var o=e.call(this)||this;return o._onActivate=i.onActivate,o.bgDomNode=document.createElement("div"),o.bgDomNode.className="arrow-background",o.bgDomNode.style.position="absolute",o.bgDomNode.style.width=i.bgWidth+"px",o.bgDomNode.style.height=i.bgHeight+"px",void 0!==i.top&&(o.bgDomNode.style.top="0px"),void 0!==i.left&&(o.bgDomNode.style.left="0px"),void 0!==i.bottom&&(o.bgDomNode.style.bottom="0px"),void 0!==i.right&&(o.bgDomNode.style.right="0px"),o.domNode=document.createElement("div"),o.domNode.className=i.className,o.domNode.style.position="absolute",o.domNode.style.width=t.ARROW_IMG_SIZE+"px",o.domNode.style.height=t.ARROW_IMG_SIZE+"px",void 0!==i.top&&(o.domNode.style.top=i.top+"px"),void 0!==i.left&&(o.domNode.style.left=i.left+"px"),void 0!==i.bottom&&(o.domNode.style.bottom=i.bottom+"px"),void 0!==i.right&&(o.domNode.style.right=i.right+"px"),o._mouseMoveMonitor=o._register(new n.GlobalMouseMoveMonitor),o.onmousedown(o.bgDomNode,function(e){return o._arrowMouseDown(e)}),o.onmousedown(o.domNode,function(e){return o._arrowMouseDown(e)}),o._mousedownRepeatTimer=o._register(new r.IntervalTimer),o._mousedownScheduleRepeatTimer=o._register(new r.TimeoutTimer),o}return h(i,e),i.prototype._arrowMouseDown=function(e){var t=this;this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(function(){t._mousedownRepeatTimer.cancelAndSet(function(){return t._onActivate()},1e3/24)},200),this._mouseMoveMonitor.startMonitoring(n.standardMouseMoveMerger,function(e){},function(){t._mousedownRepeatTimer.cancel(),t._mousedownScheduleRepeatTimer.cancel()}),e.preventDefault()},i}(i.Widget);t.ScrollbarArrow=o}),define(u[21],d([1,0,4,81,140,8]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAction=function(e){return!!e&&(e instanceof s||"string"==typeof e.id&&"string"==typeof e.label&&"string"==typeof e.class&&"boolean"==typeof e.enabled&&"boolean"==typeof e.checked&&"function"==typeof e.run)};var s=function(){function e(e,t,n,i,r){void 0===t&&(t=""),void 0===n&&(n=""),void 0===i&&(i=!0),this._onDidChange=new o.Emitter,this._id=e,this._label=t,this._cssClass=n,this._enabled=i,this._actionCallback=r}return e.prototype.dispose=function(){this._onDidChange.dispose()},Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this._label},set:function(e){this._setLabel(e)},enumerable:!0,configurable:!0}),e.prototype._setLabel=function(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))},Object.defineProperty(e.prototype,"tooltip",{get:function(){return this._tooltip},set:function(e){this._setTooltip(e)},enumerable:!0,configurable:!0}),e.prototype._setTooltip=function(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))},Object.defineProperty(e.prototype,"class",{get:function(){return this._cssClass},set:function(e){this._setClass(e)},enumerable:!0,configurable:!0}),e.prototype._setClass=function(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))},Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._setEnabled(e)},enumerable:!0,configurable:!0}),e.prototype._setEnabled=function(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))},Object.defineProperty(e.prototype,"checked",{get:function(){return this._checked},set:function(e){this._setChecked(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radio",{get:function(){return this._radio},set:function(e){this._setRadio(e)},enumerable:!0,configurable:!0}),e.prototype._setChecked=function(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))},e.prototype._setRadio=function(e){this._radio!==e&&(this._radio=e,this._onDidChange.fire({radio:e}))},Object.defineProperty(e.prototype,"order",{get:function(){return this._order},set:function(e){this._order=e},enumerable:!0,configurable:!0}),e.prototype.run=function(e,t){return void 0!==this._actionCallback?this._actionCallback(e):n.TPromise.as(!0)},e}();t.Action=s;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.run=function(e,t){var i=this;return e.enabled?(this.emit(r.EventType.BEFORE_RUN,{action:e}),this.runAction(e,t).then(function(t){i.emit(r.EventType.RUN,{action:e,result:t})},function(t){i.emit(r.EventType.RUN,{action:e,error:t})})):n.TPromise.as(null)},t.prototype.runAction=function(e,t){return n.TPromise.as(t?e.run(t):e.run())},t}(i.EventEmitter);t.ActionRunner=a}),define(u[145],d([1,0,34,12,28,70,4]),function(e,t,n,i,r,o,s){"use strict";function a(e){switch(e){case 0:return"";case 1:return _+"*?";default:return"(?:"+S+"|"+_+"+"+S+"|"+S+_+"+)*?"}}function c(e,t){if(!e)return[];for(var n,i=[],r=!1,o=!1,s="",a=0;a<e.length;a++){switch(n=e[a]){case t:if(!r&&!o){i.push(s),s="";continue}break;case"{":r=!0;break;case"}":r=!1;break;case"[":o=!0;break;case"]":o=!1}s+=n}return s&&i.push(s),i}function l(e){if(!e)return"";var t="",n=c(e,"/");if(n.every(function(e){return"**"===e}))t=".*";else{var r=!1;n.forEach(function(e,o){if("**"!==e){for(var s,u=!1,d="",h=!1,p="",f=0;f<e.length;f++)if("}"!==(s=e[f])&&u)d+=s;else if("]"!==s&&h){var g=void 0;switch(s){case"-":case"^":g=s;break;default:g=i.escapeRegExpCharacters(s)}p+=g}else switch(s){case"{":u=!0;continue;case"[":h=!0;continue;case"}":var v="(?:"+c(d,",").map(function(e){return l(e)}).join("|")+")";t+=v,u=!1,d="";break;case"]":t+="["+p+"]",h=!1,p="";break;case"?":t+=_;continue;case"*":t+=a(1);continue;default:t+=i.escapeRegExpCharacters(s)}o<n.length-1&&"**"!==n[o+1]&&(t+=S),r=!1}else r||(t+=a(2),r=!0)})}return t}function u(e,t){if(!e)return P;var n=(e=e.trim())+"_"+!!t.trimForExclusions,r=A.get(n);if(r)return r;var o;if(C.test(e)){var s=e.substr(4);r=function(t,n){return t&&i.endsWith(t,s)?e:null}}else r=(o=w.exec(d(e,t)))?h(o[1],e):(t.trimForExclusions?T:I).test(e)?p(e,t):(o=k.exec(d(e,t)))?f(o[1].substr(1),e,!0):(o=x.exec(d(e,t)))?f(o[1],e,!1):g(e);return A.set(n,r),r}function d(e,t){return t.trimForExclusions&&i.endsWith(e,"/**")?e.substr(0,e.length-2):e}function h(e,t){var n="/"+e,r="\\"+e,o=function(o,s){return o?s?s===e?t:null:o===e||i.endsWith(o,n)||i.endsWith(o,r)?t:null:null},s=[e];return o.basenames=s,o.patterns=[t],o.allBasenames=s,o}function p(e,t){var i=b(e.slice(1,-1).split(",").map(function(e){return u(e,t)}).filter(function(e){return e!==P}),e),r=i.length;if(!r)return P;if(1===r)return i[0];var o=function(t,n){for(var r=0,o=i.length;r<o;r++)if(i[r](t,n))return e;return null},s=n.first(i,function(e){return!!e.allBasenames});s&&(o.allBasenames=s.allBasenames);var a=i.reduce(function(e,t){return t.allPaths?e.concat(t.allPaths):e},[]);return a.length&&(o.allPaths=a),o}function f(e,t,n){var o=r.nativeSep!==r.sep?e.replace(E,r.nativeSep):e,s=r.nativeSep+o,a=n?function(e,n){return e&&(e===o||i.endsWith(e,s))?t:null}:function(e,n){return e&&e===o?t:null};return a.allPaths=[(n?"*/":"./")+e],a}function g(e){try{var t=new RegExp("^"+l(e)+"$");return function(n,i){return t.lastIndex=0,n&&t.test(n)?e:null}}catch(e){return P}}function v(e,t){if(void 0===t&&(t={}),!e)return L;if("string"==typeof e){var n=u(e,t);if(n===P)return L;var i=function(e,t){return!!n(e,t)};return n.allBasenames&&(i.allBasenames=n.allBasenames),n.allPaths&&(i.allPaths=n.allPaths),i}return m(e,t)}function m(e,t){var i=b(Object.getOwnPropertyNames(e).map(function(n){return y(n,e[n],t)}).filter(function(e){return e!==P})),o=i.length;if(!o)return P;if(!i.some(function(e){return e.requiresSiblings})){if(1===o)return i[0];var a=function(e,t,n){for(var r=0,o=i.length;r<o;r++){var s=i[r](e,t);if(s)return s}return null},c=n.first(i,function(e){return!!e.allBasenames});c&&(a.allBasenames=c.allBasenames);var l=i.reduce(function(e,t){return t.allPaths?e.concat(t.allPaths):e},[]);return l.length&&(a.allPaths=l),a}var u=function(e,t,n){function o(n){if(n&&n.length)return t||(t=r.basename(e)),{siblings:n,name:t.substr(0,t.length-r.extname(e).length)}}for(var a,c=!n,l=0,u=i.length;l<u;l++){var d=i[l](e,t,function(){if(!c){c=!0;var e=n();a=s.TPromise.is(e)?e.then(o):o(e)}return a});if(d)return d}return null},d=n.first(i,function(e){return!!e.allBasenames});d&&(u.allBasenames=d.allBasenames);var h=i.reduce(function(e,t){return t.allPaths?e.concat(t.allPaths):e},[]);return h.length&&(u.allPaths=h),u}function y(e,t,n){if(!1===t)return P;var i=u(e,n);if(i===P)return P;if("boolean"==typeof t)return i;if(t){var r=t.when;if("string"==typeof r){var o=function(t){var n=r.replace("$(basename)",t.name);return-1!==t.siblings.indexOf(n)?e:null},a=function(e,t,n){if(!i(e,t))return null;var r=n();return r?s.TPromise.is(r)?r.then(o):o(r):null};return a.requiresSiblings=!0,a}}return i}function b(e,t){var n=e.filter(function(e){return!!e.basenames});if(n.length<2)return e;var i,r=n.reduce(function(e,t){return e.concat(t.basenames)},[]);if(t){i=[];for(var o=0,s=r.length;o<s;o++)i.push(t)}else i=n.reduce(function(e,t){return e.concat(t.patterns)},[]);var a=function(e,t){if(!e)return null;if(!t){var n=void 0;for(n=e.length;n>0;n--){var o=e.charCodeAt(n-1);if(47===o||92===o)break}t=e.substr(n)}var s=r.indexOf(t);return-1!==s?i[s]:null};a.basenames=r,a.patterns=i,a.allBasenames=r;var c=e.filter(function(e){return!e.basenames});return c.push(a),c}Object.defineProperty(t,"__esModule",{value:!0});var S="[/\\\\]",_="[^/\\\\]",E=/\//g;t.splitGlobAware=c;var C=/^\*\*\/\*\.[\w\.-]+$/,w=/^\*\*\/([\w\.-]+)\/?$/,I=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,T=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,k=/^\*\*((\/[\w\.-]+)+)\/?$/,x=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,A=new o.BoundedMap(1e4),L=function(){return!1},P=function(){return null};t.match=function(e,t,n){return!(!e||!t)&&v(e)(t,void 0,n)},t.parse=v,t.parseToAsync=function(e,t){var n=v(e,t);return function(e,t,i){var r=n(e,t,i);return r instanceof s.TPromise?r:s.TPromise.as(r)}},t.getBasenameTerms=function(e){return e.allBasenames||[]},t.getPathTerms=function(e){return e.allPaths||[]}}),define(u[133],d([1,0,28,24,12,145]),function(e,t,n,i,r,o){"use strict";function s(e){return{id:e.id,mime:e.mime,filename:e.filename,extension:e.extension,filepattern:e.filepattern,firstline:e.firstline,userConfigured:e.userConfigured,filenameLowercase:e.filename?e.filename.toLowerCase():void 0,extensionLowercase:e.extension?e.extension.toLowerCase():void 0,filepatternLowercase:e.filepattern?e.filepattern.toLowerCase():void 0,filepatternOnPath:!!e.filepattern&&e.filepattern.indexOf(n.sep)>=0}}function a(e,t,n){for(var i,s,a,c=n.length-1;c>=0;c--){var l=n[c];if(t===l.filenameLowercase){i=l;break}if(l.filepattern&&(!s||l.filepattern.length>s.filepattern.length)){var u=l.filepatternOnPath?e:t;o.match(l.filepatternLowercase,u)&&(s=l)}l.extension&&(!a||l.extension.length>a.extension.length)&&r.endsWith(t,l.extensionLowercase)&&(a=l)}return i?i.mime:s?s.mime:a?a.mime:null}function c(e){if(r.startsWithUTF8BOM(e)&&(e=e.substr(1)),e.length>0)for(var t=0;t<u.length;++t){var n=u[t];if(n.firstline){var i=e.match(n.firstline);if(i&&i.length>0)return n.mime}}return null}function l(e){return!e||("string"==typeof e?e===t.MIME_BINARY||e===t.MIME_TEXT||e===t.MIME_UNKNOWN:1===e.length&&l(e[0]))}Object.defineProperty(t,"__esModule",{value:!0}),t.MIME_TEXT="text/plain",t.MIME_BINARY="application/octet-stream",t.MIME_UNKNOWN="application/unknown";var u=[],d=[],h=[];t.registerTextMime=function(e){var t=s(e);u.push(t),t.userConfigured?h.push(t):d.push(t),t.userConfigured||u.forEach(function(e){e.mime===t.mime||e.userConfigured||(t.extension&&e.extension===t.extension&&console.warn("Overwriting extension <<"+t.extension+">> to now point to mime <<"+t.mime+">>"),t.filename&&e.filename===t.filename&&console.warn("Overwriting filename <<"+t.filename+">> to now point to mime <<"+t.mime+">>"),t.filepattern&&e.filepattern===t.filepattern&&console.warn("Overwriting filepattern <<"+t.filepattern+">> to now point to mime <<"+t.mime+">>"),t.firstline&&e.firstline===t.firstline&&console.warn("Overwriting firstline <<"+t.firstline+">> to now point to mime <<"+t.mime+">>"))})},t.clearTextMimes=function(e){e?(u=u.filter(function(e){return!e.userConfigured}),h=[]):(u=[],d=[],h=[])},t.guessMimeTypes=function(e,i){if(!e)return[t.MIME_UNKNOWN];e=e.toLowerCase();var r=n.basename(e),o=a(e,r,h);if(o)return[o,t.MIME_TEXT];var s=a(e,r,d);if(s)return[s,t.MIME_TEXT];if(i){var l=c(i);if(l)return[l,t.MIME_TEXT]}return[t.MIME_UNKNOWN]},t.isBinaryMime=function(e){if(!e)return!1;return(i.isArray(e)?e:e.split(",").map(function(e){return e.trim()})).indexOf(t.MIME_BINARY)>=0},t.isUnspecific=l,t.suggestFilename=function(e,t){for(var n=0;n<u.length;n++){var i=u[n];if(!i.userConfigured&&i.id===e&&i.extension)return t+i.extension}return t}}),define(u[352],d([1,0,4,24]),function(e,t,n,i){"use strict";function r(e){return{firstPage:e,total:e.length,pageSize:e.length,getPage:null}}Object.defineProperty(t,"__esModule",{value:!0}),t.singlePagePager=r;var o=function(){function e(e,t){void 0===t&&(t=500),this.arg=e,this.pageTimeout=t,this.pages=[],this.pager=i.isArray(e)?r(e):e,this.pages=[{isResolved:!0,promise:null,promiseIndexes:new Set,elements:this.pager.firstPage.slice()}];for(var n=0,o=Math.ceil(this.pager.total/this.pager.pageSize)-1;n<o;n++)this.pages.push({isResolved:!1,promise:null,promiseIndexes:new Set,elements:[]})}return Object.defineProperty(e.prototype,"length",{get:function(){return this.pager.total},enumerable:!0,configurable:!0}),e.prototype.isResolved=function(e){var t=Math.floor(e/this.pager.pageSize);return!!this.pages[t].isResolved},e.prototype.get=function(e){var t=Math.floor(e/this.pager.pageSize),n=e%this.pager.pageSize;return this.pages[t].elements[n]},e.prototype.resolve=function(e){var t=this,i=Math.floor(e/this.pager.pageSize),r=e%this.pager.pageSize,o=this.pages[i];return o.isResolved?n.TPromise.as(o.elements[r]):(o.promise||(o.promise=n.TPromise.timeout(this.pageTimeout).then(function(){return t.pager.getPage(i)}).then(function(e){o.elements=e,o.isResolved=!0,o.promise=null},function(e){return o.isResolved=!1,o.promise=null,n.TPromise.wrapError(e)})),new n.TPromise(function(t,n){o.promiseIndexes.add(e),o.promise.done(function(){return t(o.elements[r])})},function(){o.promise&&(o.promiseIndexes.delete(e),0===o.promiseIndexes.size&&o.promise.cancel())}))},e}();t.PagedModel=o,t.mapPager=function(e,t){return{firstPage:e.firstPage.map(t),total:e.total,pageSize:e.pageSize,getPage:function(n){return e.getPage(n).then(function(e){return e.map(t)})}}},t.mergePagers=function(e,t){return{firstPage:e.firstPage.concat(t.firstPage),total:e.total+t.total,pageSize:e.pageSize+t.pageSize,getPage:function(i){return n.TPromise.join([e.getPage(i),t.getPage(i)]).then(function(e){var t=e[0],n=e[1];return t.concat(n)})}}}}),define(u[113],d([1,0,5,8]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.Auto=1]="Auto",e[e.Hidden=2]="Hidden",e[e.Visible=3]="Visible"}(t.ScrollbarVisibility||(t.ScrollbarVisibility={}));var r=function(){function e(e,t,n,i,r,o){t|=0,n|=0,i|=0,r|=0,o|=0,(e|=0)<0&&(e=0),n+e>t&&(n=t-e),n<0&&(n=0),i<0&&(i=0),o+i>r&&(o=r-i),o<0&&(o=0),this.width=e,this.scrollWidth=t,this.scrollLeft=n,this.height=i,this.scrollHeight=r,this.scrollTop=o}return e.prototype.equals=function(e){return this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop},e.prototype.createScrollEvent=function(e){var t=this.width!==e.width,n=this.scrollWidth!==e.scrollWidth,i=this.scrollLeft!==e.scrollLeft,r=this.height!==e.height,o=this.scrollHeight!==e.scrollHeight,s=this.scrollTop!==e.scrollTop;return{width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:t,scrollWidthChanged:n,scrollLeftChanged:i,heightChanged:r,scrollHeightChanged:o,scrollTopChanged:s}},e}();t.ScrollState=r;var o=function(e){function t(){var t=e.call(this)||this;return t._onScroll=t._register(new i.Emitter),t.onScroll=t._onScroll.event,t._state=new r(0,0,0,0,0,0),t}return h(t,e),t.prototype.getState=function(){return this._state},t.prototype.validateScrollTop=function(e){return e=Math.round(e),e=Math.max(e,0),e=Math.min(e,this._state.scrollHeight-this._state.height)},t.prototype.validateScrollLeft=function(e){return e=Math.round(e),e=Math.max(e,0),e=Math.min(e,this._state.scrollWidth-this._state.width)},t.prototype.updateState=function(e){var t=this._state,n=new r(void 0!==e.width?e.width:t.width,void 0!==e.scrollWidth?e.scrollWidth:t.scrollWidth,void 0!==e.scrollLeft?e.scrollLeft:t.scrollLeft,void 0!==e.height?e.height:t.height,void 0!==e.scrollHeight?e.scrollHeight:t.scrollHeight,void 0!==e.scrollTop?e.scrollTop:t.scrollTop);t.equals(n)||(this._state=n,this._onScroll.fire(this._state.createScrollEvent(t)))},t}(n.Disposable);t.Scrollable=o}),define(u[1314],d([1,0,5,18,113]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n,r){var o=e.call(this)||this;return o._visibility=t,o._visibleClassName=n,o._invisibleClassName=r,o._domNode=null,o._isVisible=!1,o._isNeeded=!1,o._shouldBeVisible=!1,o._revealTimer=o._register(new i.TimeoutTimer),o}return h(t,e),t.prototype.applyVisibilitySetting=function(e){return this._visibility!==r.ScrollbarVisibility.Hidden&&(this._visibility===r.ScrollbarVisibility.Visible||e)},t.prototype.setShouldBeVisible=function(e){var t=this.applyVisibilitySetting(e);this._shouldBeVisible!==t&&(this._shouldBeVisible=t,this.ensureVisibility())},t.prototype.setIsNeeded=function(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())},t.prototype.setDomNode=function(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)},t.prototype.ensureVisibility=function(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)},t.prototype._reveal=function(){var e=this;this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(function(){e._domNode.setClassName(e._visibleClassName)},0))},t.prototype._hide=function(e){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode.setClassName(this._invisibleClassName+(e?" fade":"")))},t}(n.Disposable);t.ScrollbarVisibilityController=o}),define(u[372],d([1,0,11,9,231,91,75,322,1314]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(t){var n=e.call(this)||this;return n._lazyRender=t.lazyRender,n._host=t.host,n._scrollable=t.scrollable,n._scrollbarState=t.scrollbarState,n._visibilityController=n._register(new c.ScrollbarVisibilityController(t.visibility,"visible scrollbar "+t.extraScrollbarClassName,"invisible scrollbar "+t.extraScrollbarClassName)),n._mouseMoveMonitor=n._register(new r.GlobalMouseMoveMonitor),n._shouldRender=!0,n.domNode=s.createFastDomNode(document.createElement("div")),n.domNode.setAttribute("role","presentation"),n.domNode.setAttribute("aria-hidden","true"),n._visibilityController.setDomNode(n.domNode),n.domNode.setPosition("absolute"),n.onmousedown(n.domNode.domNode,function(e){return n._domNodeMouseDown(e)}),n}return h(t,e),t.prototype._createArrow=function(e){var t=this._register(new a.ScrollbarArrow(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)},t.prototype._createSlider=function(e,t,n,i){var r=this;this.slider=s.createFastDomNode(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),this.slider.setWidth(n),this.slider.setHeight(i),this.slider.setLayerHinting(!0),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,function(e){e.leftButton&&(e.preventDefault(),r._sliderMouseDown(e,function(){}))})},t.prototype._onElementSize=function(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},t.prototype._onElementScrollSize=function(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},t.prototype._onElementScrollPosition=function(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},t.prototype.beginReveal=function(){this._visibilityController.setShouldBeVisible(!0)},t.prototype.beginHide=function(){this._visibilityController.setShouldBeVisible(!1)},t.prototype.render=function(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))},t.prototype._domNodeMouseDown=function(e){e.target===this.domNode.domNode&&this._onMouseDown(e)},t.prototype.delegateMouseDown=function(e){var t=this.domNode.domNode.getClientRects()[0].top,n=t+this._scrollbarState.getSliderPosition(),i=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),r=this._sliderMousePosition(e);n<=r&&r<=i?e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,function(){})):this._onMouseDown(e)},t.prototype.delegateSliderMouseDown=function(e,t){this._sliderMouseDown(e,t)},t.prototype._onMouseDown=function(e){var t=i.getDomNodePagePosition(this.domNode.domNode);this.setDesiredScrollPosition(this._scrollbarState.getDesiredScrollPositionFromOffset(this._mouseDownRelativePosition(e,t))),e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,function(){}))},t.prototype._sliderMouseDown=function(e,t){var i=this,o=this._sliderMousePosition(e),s=this._sliderOrthogonalMousePosition(e),a=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(r.standardMouseMoveMerger,function(e){var t=i._sliderOrthogonalMousePosition(e),r=Math.abs(t-s);if(n.isWindows&&r>140)i.setDesiredScrollPosition(a.getScrollPosition());else{var c=i._sliderMousePosition(e)-o;i.setDesiredScrollPosition(a.getDesiredScrollPositionFromDelta(c))}},function(){i.slider.toggleClassName("active",!1),i._host.onDragEnd(),t()}),this._host.onDragStart()},t.prototype.setDesiredScrollPosition=function(e){e=this.validateScrollPosition(e);var t=this._getScrollPosition();return this._setScrollPosition(e),t!==this._getScrollPosition()&&(this._onElementScrollPosition(this._getScrollPosition()),!0)},t}(o.Widget);t.AbstractScrollbar=l}),define(u[1311],d([1,0,372,86,113,332,322]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,n,a){var c=e.call(this,{lazyRender:n.lazyRender,host:a,scrollbarState:new o.ScrollbarState(n.horizontalHasArrows?n.arrowSize:0,n.horizontal===r.ScrollbarVisibility.Hidden?0:n.horizontalScrollbarSize,n.vertical===r.ScrollbarVisibility.Hidden?0:n.verticalScrollbarSize),visibility:n.horizontal,extraScrollbarClassName:"horizontal",scrollable:t})||this;if(n.horizontalHasArrows){var l=(n.arrowSize-s.ARROW_IMG_SIZE)/2,u=(n.horizontalScrollbarSize-s.ARROW_IMG_SIZE)/2;c._createArrow({className:"left-arrow",top:u,left:l,bottom:void 0,right:void 0,bgWidth:n.arrowSize,bgHeight:n.horizontalScrollbarSize,onActivate:function(){return c._host.onMouseWheel(new i.StandardMouseWheelEvent(null,1,0))}}),c._createArrow({className:"right-arrow",top:u,left:void 0,bottom:void 0,right:l,bgWidth:n.arrowSize,bgHeight:n.horizontalScrollbarSize,onActivate:function(){return c._host.onMouseWheel(new i.StandardMouseWheelEvent(null,-1,0))}})}return c._createSlider(Math.floor((n.horizontalScrollbarSize-n.horizontalSliderSize)/2),0,null,n.horizontalSliderSize),c}return h(t,e),t.prototype._updateSlider=function(e,t){this.slider.setWidth(e),this.slider.setLeft(t)},t.prototype._renderDomNode=function(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)},t.prototype.onDidScroll=function(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender},t.prototype._mouseDownRelativePosition=function(e,t){return e.posx-t.left},t.prototype._sliderMousePosition=function(e){return e.posx},t.prototype._sliderOrthogonalMousePosition=function(e){return e.posy},t.prototype._getScrollPosition=function(){return this._scrollable.getState().scrollLeft},t.prototype._setScrollPosition=function(e){this._scrollable.updateState({scrollLeft:e})},t.prototype.validateScrollPosition=function(e){return this._scrollable.validateScrollLeft(e)},t}(n.AbstractScrollbar);t.HorizontalScrollbar=a}),define(u[1309],d([1,0,372,86,113,332,322]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,n,a){var c=e.call(this,{lazyRender:n.lazyRender,host:a,scrollbarState:new o.ScrollbarState(n.verticalHasArrows?n.arrowSize:0,n.vertical===r.ScrollbarVisibility.Hidden?0:n.verticalScrollbarSize,0),visibility:n.vertical,extraScrollbarClassName:"vertical",scrollable:t})||this;if(n.verticalHasArrows){var l=(n.arrowSize-s.ARROW_IMG_SIZE)/2,u=(n.verticalScrollbarSize-s.ARROW_IMG_SIZE)/2;c._createArrow({className:"up-arrow",top:l,left:u,bottom:void 0,right:void 0,bgWidth:n.verticalScrollbarSize,bgHeight:n.arrowSize,onActivate:function(){return c._host.onMouseWheel(new i.StandardMouseWheelEvent(null,0,1))}}),c._createArrow({className:"down-arrow",top:void 0,left:u,bottom:l,right:void 0,bgWidth:n.verticalScrollbarSize,bgHeight:n.arrowSize,onActivate:function(){return c._host.onMouseWheel(new i.StandardMouseWheelEvent(null,0,-1))}})}return c._createSlider(0,Math.floor((n.verticalScrollbarSize-n.verticalSliderSize)/2),n.verticalSliderSize,null),c}return h(t,e),t.prototype._updateSlider=function(e,t){this.slider.setHeight(e),this.slider.setTop(t)},t.prototype._renderDomNode=function(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)},t.prototype.onDidScroll=function(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender},t.prototype._mouseDownRelativePosition=function(e,t){return e.posy-t.top},t.prototype._sliderMousePosition=function(e){return e.posy},t.prototype._sliderOrthogonalMousePosition=function(e){return e.posx},t.prototype._getScrollPosition=function(){return this._scrollable.getState().scrollTop},t.prototype._setScrollPosition=function(e){this._scrollable.updateState({scrollTop:e})},t.prototype.validateScrollPosition=function(e){return this._scrollable.validateScrollTop(e)},t}(n.AbstractScrollbar);t.VerticalScrollbar=a}),define(u[378],d([1,0,7,5,4,18,11]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="$initialize",c=!1;t.logOnceWebWorkerWarning=function(e){s.isWeb&&(c||(c=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/Microsoft/monaco-editor#faq")),console.warn(e.message))};var l=function(){function e(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null)}return e.prototype.setWorkerId=function(e){this._workerId=e},e.prototype.sendMessage=function(e,t){var n=String(++this._lastSentReq),i={c:null,e:null},o=new r.TPromise(function(e,t,n){i.c=e,i.e=t},function(){});return this._pendingReplies[n]=i,this._send({vsWorker:this._workerId,req:n,method:e,args:t}),o},e.prototype.handleMessage=function(e){var t;try{t=JSON.parse(e)}catch(e){}t.vsWorker&&(-1!==this._workerId&&t.vsWorker!==this._workerId||this._handleMessage(t))},e.prototype._handleMessage=function(e){var t=this;if(e.seq){var i=e;if(!this._pendingReplies[i.seq])return void console.warn("Got reply to unknown seq");var r=this._pendingReplies[i.seq];if(delete this._pendingReplies[i.seq],i.err){var o=i.err;return i.err.$isError&&((o=new Error).name=i.err.name,o.message=i.err.message,o.stack=i.err.stack),void r.e(o)}r.c(i.res)}else{var s=e,a=s.req;this._handler.handleMessage(s.method,s.args).then(function(e){t._send({vsWorker:t._workerId,seq:a,res:e,err:void 0})},function(e){t._send({vsWorker:t._workerId,seq:a,res:void 0,err:n.transformErrorForSerialization(e)})})}},e.prototype._send=function(e){var t=JSON.stringify(e);this._handler.sendMessage(t)},e}(),u=function(e){function t(t,n){var i=e.call(this)||this;i._lastRequestTimestamp=-1;var o=null,s=null;i._worker=i._register(t.create("vs/base/common/worker/simpleWorker",function(e){i._protocol.handleMessage(e)},function(e){s(e)})),i._protocol=new l({sendMessage:function(e){i._worker.postMessage(e)},handleMessage:function(e,t){return r.TPromise.as(null)}}),i._protocol.setWorkerId(i._worker.getId());var c=null,u=self.require;"function"==typeof u.getConfig?c=u.getConfig():void 0!==self.requirejs&&(c=self.requirejs.s.contexts._.config),i._lazyProxy=new r.TPromise(function(e,t,n){o=e,s=t},function(){}),i._onModuleLoaded=i._protocol.sendMessage(a,[i._worker.getId(),n,c]),i._onModuleLoaded.then(function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=h(e[n],d);o(t)},function(e){s(e),i._onError("Worker failed to load "+n,e)});var d=function(e,t){return i._request(e,t)},h=function(e,t){return function(){var n=Array.prototype.slice.call(arguments,0);return t(e,n)}};return i}return h(t,e),t.prototype.getProxyObject=function(){return new o.ShallowCancelThenPromise(this._lazyProxy)},t.prototype.getLastRequestTimestamp=function(){return this._lastRequestTimestamp},t.prototype._request=function(e,t){var n=this;return new r.TPromise(function(i,r,o){n._onModuleLoaded.then(function(){n._lastRequestTimestamp=Date.now(),n._protocol.sendMessage(e,t).then(i,r)},r)},function(){})},t.prototype._onError=function(e,t){console.error(e),console.info(t)},t}(i.Disposable);t.SimpleWorkerClient=u;var d=function(){function t(e){var t=this;this._protocol=new l({sendMessage:function(t){e(t)},handleMessage:function(e,n){return t._handleMessage(e,n)}})}return t.prototype.onmessage=function(e){this._protocol.handleMessage(e)},t.prototype._handleMessage=function(e,t){if(e===a)return this.initialize(t[0],t[1],t[2]);if(!this._requestHandler||"function"!=typeof this._requestHandler[e])return r.TPromise.wrapError(new Error("Missing requestHandler or method: "+e));try{return r.TPromise.as(this._requestHandler[e].apply(this._requestHandler,t))}catch(e){return r.TPromise.wrapError(e)}},t.prototype.initialize=function(t,n,i){var o=this;if(this._protocol.setWorkerId(t),i){void 0!==i.baseUrl&&delete i.baseUrl,void 0!==i.paths&&void 0!==i.paths.vs&&delete i.paths.vs;var s=i["vs/nls"];s&&s.pseudo&&e(["vs/nls"],function(e){e.setPseudoTranslation(s.pseudo)}),i.catchError=!0,self.require.config(i)}var a,c,l=new r.TPromise(function(e,t,n){a=e,c=t});return self.require([n],function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0];o._requestHandler=n.create();var i=[];for(var r in o._requestHandler)"function"==typeof o._requestHandler[r]&&i.push(r);a(i)},c),l},t}();t.SimpleWorkerServer=d,t.create=function(e){return new d(e)}}),define(u[384],d([1,0,130,52,26,5,8,94]),function(e,t,n,i,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){void 0===t&&(t={changeBufferDelay:0,defaultConfig:Object.create(null)}),this._path=e,this.options=t,this.disposables=[],this._onDidUpdateConfiguration=new s.Emitter,this.disposables.push(this._onDidUpdateConfiguration),this.registerWatcher(),this.initAsync()}return Object.defineProperty(e.prototype,"path",{get:function(){return this._path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasParseErrors",{get:function(){return this.parseErrors&&this.parseErrors.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidUpdateConfiguration",{get:function(){return this._onDidUpdateConfiguration.event},enumerable:!0,configurable:!0}),e.prototype.initAsync=function(){var e=this;this.loadAsync(function(t){e.loaded||e.updateCache(t)})},e.prototype.updateCache=function(e){this.cache=e,this.loaded=!0},e.prototype.loadSync=function(){try{return this.parse(n.readFileSync(this._path).toString())}catch(e){return this.options.defaultConfig}},e.prototype.loadAsync=function(e){var t=this;n.readFile(this._path,function(n,i){return e(n?t.options.defaultConfig:t.parse(i.toString()))})},e.prototype.parse=function(e){var t;try{this.parseErrors=[],t=this.options.parse?this.options.parse(e,this.parseErrors):a.parse(e,this.parseErrors)}catch(e){}return t||this.options.defaultConfig},e.prototype.registerWatcher=function(){var e=this,t=i.dirname(this._path);this.watch(t),n.lstat(this._path,function(t,i){t||i.isDirectory()||i.isSymbolicLink()&&n.readlink(e._path,function(t,n){t||e.watch(n)})})},e.prototype.watch=function(e){var t=this;if(!this.disposed)try{var i=n.watch(e);i.on("change",function(){return t.onConfigFileChange()}),this.disposables.push(o.toDisposable(function(){i.removeAllListeners(),i.close()}))}catch(t){n.exists(e,function(n){n&&console.warn("Failed to watch "+e+" for configuration changes ("+t.toString()+")")})}},e.prototype.onConfigFileChange=function(){var e=this;this.timeoutHandle&&(global.clearTimeout(this.timeoutHandle),this.timeoutHandle=null),this.timeoutHandle=global.setTimeout(function(){return e.reload()},this.options.changeBufferDelay)},e.prototype.reload=function(e){var t=this;this.loadAsync(function(n){if(r.equals(n,t.cache)||(t.updateCache(n),t._onDidUpdateConfiguration.fire({config:t.cache})),e)return e(n)})},e.prototype.getConfig=function(){return this.ensureLoaded(),this.cache},e.prototype.getValue=function(e,t){if(this.ensureLoaded(),!e)return t;var n=this.cache?this.cache[e]:void 0;return void 0!==n?n:t},e.prototype.ensureLoaded=function(){this.loaded||this.updateCache(this.loadSync())},e.prototype.dispose=function(){this.disposed=!0,this.disposables=o.dispose(this.disposables)},e}();t.ConfigWatcher=c}),define(u[408],d([1,0,1361]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){void 0===e&&(e="utf8"),this.stringDecoder=new n.StringDecoder(e),this.remaining=null}return e.prototype.write=function(e){var t=[],n=this.remaining?this.remaining+this.stringDecoder.write(e):this.stringDecoder.write(e);if(n.length<1)return t;for(var i,r=0,o=r;o<n.length;)if(13===(i=n.charCodeAt(o))||10===i){if(t.push(n.substring(r,o)),++o<n.length){var s=i;i=n.charCodeAt(o),(13===s&&10===i||10===s&&13===i)&&o++}r=o}else o++;return this.remaining=r<n.length?n.substr(r):null,t},e.prototype.end=function(){return this.remaining},e}();t.LineDecoder=i}),define(u[262],d([1,0,8]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromEventEmitter=function(e,t,i){void 0===i&&(i=function(e){return e});var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.fire(i.apply(void 0,e))},o=new n.Emitter({onFirstListenerAdd:function(){return e.on(t,r)},onLastListenerRemove:function(){return e.removeListener(t,r)}});return o.event}}),define(u[425],d([1,0,1300]),function(e,t,n){"use strict";function i(e,t,r){if(n.ok(e,"Missing first parameter"),n.ok("function"==typeof t,"Second parameter must be a function that is called for each element"),n.ok("function"==typeof r,"Third parameter must be a function that is called on error and success"),"function"==typeof e)try{e(function(e,n){e?r(e,null):i(n,t,r)})}catch(e){r(e,null)}else{var o=[],s=function(n){if(n<e.length)try{t(e[n],function(e,t){!0!==e&&!1!==e||(t=e,e=null),e?r(e,null):(t&&o.push(t),process.nextTick(function(){s(n+1)}))},n,e.length)}catch(e){r(e,null)}else r(null,o)};s(0)}}function r(e){n.ok(e.length>1,"Need at least one error handler and one function to process sequence"),e.forEach(function(e){n.ok("function"==typeof e)});var t=e.splice(0,1)[0],r=null;i(e,function(e,t){try{e.call(function(e,n){!0!==e&&!1!==e||(n=e,e=null),e?t(e,null):(r=n,t(null,null))},r)}catch(e){t(e,null)}},function(e,n){e&&t(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.parallel=function(e,t,n){var i=new Array(e.length),r=new Array(e.length),o=!1,s=0;if(0===e.length)return n(null,[]);e.forEach(function(a,c){t(a,function(t,a){if(t?(o=!0,i[c]=null,r[c]=t):(i[c]=a,r[c]=null),++s===e.length)return n(o?r:null,i)})})},t.loop=i,t.sequence=function(e){r(Array.isArray(e)?e:Array.prototype.slice.call(arguments))}}),define(u[292],d([1,0,135,12,11,425,130,52]),function(e,t,n,i,r,o,s,a){"use strict";function c(e){return r.isMacintosh?s.readdirSync(e).map(function(e){return i.normalizeNFC(e)}):s.readdirSync(e)}function l(e,t){return r.isMacintosh?s.readdir(e,function(e,n){return e?t(e,null):t(null,n.map(function(e){return i.normalizeNFC(e)}))}):s.readdir(e,t)}function u(e,t,n){s.exists(e,function(i){if(i)return d(e,function(t,i){return t?n(t):i?void n(null):n(new Error('"'+e+'" is not a directory.'))});u(a.dirname(e),t,function(i){i?n(i):t?s.mkdir(e,t,function(i){if(i)return n(i);s.chmod(e,t,n)}):s.mkdir(e,null,n)})})}function d(e,t){s.stat(e,function(e,n){if(e)return t(e);t(null,n.isDirectory())})}function h(e,t,n,i){i||(i=Object.create(null)),s.stat(e,function(r,o){return r?n(r):o.isDirectory()?i[e]?n(null):(i[e]=!0,void u(t,511&o.mode,function(r){l(e,function(r,o){y(o,function(n,r){h(a.join(e,n),a.join(t,n),function(e){return r(e,void 0)},i)},n)})})):p(e,t,511&o.mode,n)})}function p(e,t,n,i){var r=!1,o=s.createReadStream(e),a=s.createWriteStream(t,{mode:n}),c=function(e){r||(r=!0,i(e))};o.on("error",c),a.on("error",c),o.on("end",function(){a.end(function(){r||(r=!0,s.chmod(t,n,i))})}),o.pipe(a,{end:!1})}function f(e,t){if("\\"===e||"/"===e)return t(new Error("Will not delete root!"));s.exists(e,function(n){n?s.lstat(e,function(n,i){if(n||!i)t(n);else if(!i.isDirectory()||i.isSymbolicLink()){var r=i.mode;128&r?s.unlink(e,t):s.chmod(e,128|r,function(n){n?t(n):s.unlink(e,t)})}else l(e,function(n,i){if(n||!i)t(n);else if(0===i.length)s.rmdir(e,t);else{var r=null,o=i.length;i.forEach(function(n){f(a.join(e,n),function(n){o--,n&&(r=r||n),0===o&&(r?t(r):s.rmdir(e,t))})})}})}):t(null)})}function g(e){try{var t=s.lstatSync(e);t.isDirectory()&&!t.isSymbolicLink()?(c(e).forEach(function(t){return g(a.join(e,t))}),s.rmdirSync(e)):s.unlinkSync(e)}catch(e){if("ENOENT"===e.code)return;throw e}}function v(e){var t=a.dirname(e);if(e===t)return e;var n=a.basename(e).toLowerCase();try{var i=c(t).filter(function(e){return e.toLowerCase()===n});if(1===i.length){if(o=v(t))return a.join(o,i[0])}else if(i.length>1){var r=i.indexOf(n);if(r>=0){var o=v(t);if(o)return a.join(o,i[r])}}}catch(e){}return null}function m(e){return i.rtrim(a.normalize(e),a.sep)}Object.defineProperty(t,"__esModule",{value:!0});var y=o.loop;t.readdirSync=c,t.readdir=l,t.mkdirp=u,t.copy=h,t.del=function(e,t,r,o){s.exists(e,function(c){if(!c)return r(null);s.stat(e,function(c,l){if(c||!l)return r(c);if("."===e[e.length-1]||i.endsWith(e,"./")||i.endsWith(e,".\\"))return f(e,r);var u=a.join(t,n.generateUuid());s.rename(e,u,function(t){if(t)return f(e,r);r(null),f(u,function(e){e&&console.error(e),o&&o(e)})})})})},t.delSync=g,t.mv=function(e,t,n){function r(e){if(e)return n(e);s.stat(t,function(e,i){return e?n(e):i.isDirectory()?n(null):void s.open(t,"a",null,function(e,t){if(e)return n(e);s.futimes(t,i.atime,new Date,function(e){if(e)return n(e);s.close(t,n)})})})}if(e===t)return n(null);s.rename(e,t,function(o){return o?o&&e.toLowerCase()!==t.toLowerCase()&&"EXDEV"===o.code||i.endsWith(e,".")?h(e,t,function(t){if(t)return n(t);f(e,r)}):n(o):r(null)})};var b=!0;t.writeFileAndFlush=function(e,t,n,i){if(!b)return s.writeFile(e,t,n,i);n?"string"==typeof n&&(n={encoding:n,mode:438,flag:"w"}):n={encoding:"utf8",mode:438,flag:"w"},s.open(e,n.flag,n.mode,function(e,r){if(e)return i(e);s.writeFile(r,t,n.encoding,function(e){if(e)return s.close(r,function(){return i(e)});s.fdatasync(r,function(e){return e&&(console.warn("[node.js fs] fdatasync is now disabled for this session because it failed: ",e),b=!1),s.close(r,function(e){return i(e)})})})})},t.realcaseSync=v,t.realpathSync=function(e){try{return s.realpathSync(e)}catch(n){var t=m(e);return s.accessSync(t,s.constants.R_OK),t}},t.realpath=function(e,t){return s.realpath(e,function(n,i){if(!n)return t(null,i);var r=m(e);return s.access(r,s.constants.R_OK,function(e){return t(e,r)})})}}),define(u[263],d([1,0,1356,143,4,7,135,96,70]),function(e,t,n,i,r,o,s,a,c){"use strict";function l(){return new r.TPromise(function(e){try{n.getMac(function(t,n){e(t?void 0:i.createHash("sha256").update(n,"utf8").digest("hex"))})}catch(t){o.onUnexpectedError(t),e(void 0)}})}Object.defineProperty(t,"__esModule",{value:!0}),t.virtualMachineHint=new(function(){function e(){}return e.prototype._isVirtualMachineMacAdress=function(e){return this._virtualMachineOUIs||(this._virtualMachineOUIs=new c.TrieMap(function(e){return e.split(/[-:]/)}),this._virtualMachineOUIs.insert("00-50-56",!0),this._virtualMachineOUIs.insert("00-0C-29",!0),this._virtualMachineOUIs.insert("00-05-69",!0),this._virtualMachineOUIs.insert("00-03-FF",!0),this._virtualMachineOUIs.insert("00-1C-42",!0),this._virtualMachineOUIs.insert("00-16-3E",!0),this._virtualMachineOUIs.insert("08-00-27",!0)),this._virtualMachineOUIs.findSubstr(e)},e.prototype.value=function(){if(void 0===this._value){var e=0,t=0,n=a.networkInterfaces();for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i))for(var r=0,o=n[i];r<o.length;r++){var s=o[r],c=s.mac;s.internal||(t+=1,this._isVirtualMachineMacAdress(c.toUpperCase())&&(e+=1))}this._value=t>0?e/t:0}return this._value},e}());var u;t.getMachineId=function(){return u||(u=l().then(function(e){return e||s.generateUuid()}))}}),define(u[1298],d([1,0,16]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n.default.parse(e.toUrl("paths")).fsPath,r=e.__$__nodeRequire(i);t.getAppDataPath=r.getAppDataPath,t.getDefaultUserDataPath=r.getDefaultUserDataPath}),define(u[76],d([1,0,4,292,52,18,130,96,11,8]),function(e,t,n,i,r,o,s,a,c,l){"use strict";function u(e){return o.nfcall(i.readdir,e)}function d(e,t){var i=function(){return o.nfcall(s.mkdir,e,t).then(null,function(t){return"EEXIST"===t.code?o.nfcall(s.stat,e).then(function(t){return t.isDirectory?null:n.Promise.wrapError(new Error("'"+e+"' exists and is not a directory."))}):n.TPromise.wrapError(t)})};return e===r.dirname(e)?n.TPromise.as(!0):i().then(null,function(o){return"ENOENT"===o.code?d(r.dirname(e),t).then(i):n.TPromise.wrapError(o)})}function h(e){return f(e).then(function(t){return t.isDirectory()&&!t.isSymbolicLink()?u(e).then(function(t){return n.TPromise.join(t.map(function(t){return h(r.join(e,t))}))}).then(function(){return g(e)}):v(e)},function(e){if("ENOENT"!==e.code)return n.TPromise.wrapError(e)})}function p(e){return o.nfcall(s.stat,e)}function f(e){return o.nfcall(s.lstat,e)}function g(e){return o.nfcall(s.rmdir,e)}function v(e){return o.nfcall(s.unlink,e)}function m(e){var t=e;return(c.isWindows||c.isMacintosh)&&(t=t.toLowerCase()),t}function y(e){var t=S[e];return t||(t=new o.Queue,S[e]=t,l.once(t.onFinished)(function(){delete S[e],t.dispose()})),t}function b(e){return p(e).then(function(e){return e.isDirectory()},function(){return!1})}Object.defineProperty(t,"__esModule",{value:!0}),t.readdir=u,t.exists=function(e){return new n.Promise(function(t){return s.exists(e,t)})},t.chmod=function(e,t){return o.nfcall(s.chmod,e,t)},t.mkdirp=d,t.rimraf=h,t.realpath=function(e){return o.nfcall(i.realpath,e)},t.stat=p,t.lstat=f,t.rename=function(e,t){return o.nfcall(s.rename,e,t)},t.rmdir=g,t.unlink=v,t.symlink=function(e,t,n){return o.nfcall(s.symlink,e,t,n)},t.readlink=function(e){return o.nfcall(s.readlink,e)},t.touch=function(e){var t=Date.now()/1e3;return o.nfcall(s.utimes,e,t,t)},t.readFile=function(e,t){return o.nfcall(s.readFile,e,t)};var S=Object.create(null);t.writeFile=function(e,t,n){return void 0===n&&(n="utf8"),y(m(e)).queue(function(){return o.nfcall(i.writeFileAndFlush,e,t,n)})},t.readDirsInDir=function(e){return u(e).then(function(t){return n.TPromise.join(t.map(function(t){return b(r.join(e,t))})).then(function(e){return t.filter(function(t,n){return e[n]})})})},t.dirExists=b,t.fileExists=function(e){return p(e).then(function(e){return e.isFile()},function(){return!1})};var _=a.tmpdir();t.del=function(e,t){return void 0===t&&(t=_),o.nfcall(i.del,e,t)}}),define(u[1292],d([1,0,223]),function(e,t,n){"use strict";function i(e,t,o){if(0===t)return o(0);var s=new n.Socket;s.once("connect",function(){return r(s),i(e+1,t-1,o)}),s.once("error",function(n){return r(s),"ECONNREFUSED"!==n.code?i(e+1,t-1,o):o(e)}),s.connect(e,"127.0.0.1")}function r(e){try{e.removeAllListeners("connect"),e.removeAllListeners("error"),e.end(),e.destroy(),e.unref()}catch(e){console.error(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.findFreePort=function(e,t,n,r){var o=!1,s=setTimeout(function(){if(!o)return o=!0,r(0)},n);i(e,t,function(e){if(!o)return o=!0,clearTimeout(s),r(e)})}}),define(u[1289],d([1,0,4,52,76]),function(e,t,n,i,r){"use strict";function o(e){for(var t=[e.head];t.length>0;){var n=t.pop();if(n.url){var r=i.basename(n.url);n.url!==r&&(n.url="pii_removed/"+r)}n.children&&t.push.apply(t,n.children)}}Object.defineProperty(t,"__esModule",{value:!0}),t.startProfiling=function(e){return a.value.then(function(t){return t.startProfiling(e),!0})};var s=process.env.VSCODE_DEV;t.stopProfiling=function(e,t){return a.value.then(function(e){return e.stopProfiling()}).then(function(a){return new n.TPromise(function(n,c){s||o(a),a.export(function(o,l){if(a.delete(),o)c(o);else{var u=i.join(e,t+"_"+a.title+".cpuprofile");s||(u+=".txt"),r.writeFile(u,l).then(function(){return n(u)},c)}})})})},t.removePiiPaths=o;var a=new(function(){function t(){}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value||(this._value=new n.TPromise(function(t,n){e(["v8-profiler"],t,n)})),this._value},enumerable:!0,configurable:!0}),t}())}),define(u[1285],d([1,0,1279,24,1366,1367]),function(e,t,n,i,r,o){"use strict";function s(e){return"http:"===e.protocol?process.env.HTTP_PROXY||process.env.http_proxy||null:"https:"===e.protocol?process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy||null:null}Object.defineProperty(t,"__esModule",{value:!0}),t.getProxyAgent=function(e,t){void 0===t&&(t={});var a=n.parse(e),c=t.proxyUrl||s(a);if(!c)return null;var l=n.parse(c);if(!/^https?:$/.test(l.protocol))return null;var u={host:l.hostname,port:Number(l.port),auth:l.auth,rejectUnauthorized:!i.isBoolean(t.strictSSL)||t.strictSSL};return"http:"===a.protocol?new r(u):new o(u)}});var g;"function"!=typeof define&&"object"==typeof module&&"object"==typeof module.exports?(global.define=function(e,t){module.exports=t(),global.define=void 0},g=function(){return require("v8-profiler")}):g=function(){return require.__$__nodeRequire("v8-profiler")},define("vs/base/node/startupTimers",[],function(){function e(e,t,n,i){this.name=e,this.started=t,this.stopped=n,this.duration=Math.round((1e9*n[0]+n[1]-(1e9*t[0]+t[1]))/1e6),this.profile=i}function t(t){var o=r.has(t)?g().stopProfiling(t):void 0,s=n.get(t);if(void 0!==s){var a=new e(s.name,s.started,process.hrtime(),o);i.set(t,a),n.delete(t)}}e.compareByStart=function(e,t){return e.started<t.started?-1:e.started>t.started?1:0},global._perfStarts=global._perfStarts||new Map,global._perfTicks=global._perfTicks||new Map,global._perfToBeProfiled=global._perfToBeProfiled||new Set;var n=global._perfStarts,i=global._perfTicks,r=global._perfToBeProfiled,o={Tick:e,startTimer:function(e){if(n.has(e))throw new Error("${name} already exists");r.has(e)&&g().startProfiling(e,!0),n.set(e,{name:e,started:process.hrtime()});var i=t.bind(void 0,e);return{stop:i,while:function(e){return e.then(function(){i()},function(){i()}),e}}},stopTimer:t,ticks:function(){var e=[];return i.forEach(function(t){e.push(t)}),e},tick:function(t){var n=i.get(t);if(!n){var r=Date.now();n=new e(t,r,r)}return n},setProfileList:function(e){r.clear(),e.forEach(function(e){r.add(e)})},disable:function(){var e=Object.freeze({while:function(e){return e},stop:function(){}}),t=Object.create([]);o.startTimer=function(){return e},o.stopTimer=function(){},o.ticks=function(){return t},delete global._perfStarts,delete global._perfTicks}};return o}),define(u[377],d([1,0,52,96,223,157,16]),function(e,t,n,i,r,o,s){"use strict";function a(e){for(var t=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],n="",i=0;i<e;i++)n+=t[Math.floor(t.length*Math.random())];return n}function c(){var e="vscode-"+a(40);return"win32"===process.platform?"\\\\.\\pipe\\"+e+"-sock":n.join(i.tmpdir(),e+".sock")}function l(e,t,n,i){var r={};for(var o in e)r[o]=e[o];return r.STDIN_PIPE_NAME=t,r.STDOUT_PIPE_NAME=n,r.STDERR_PIPE_NAME=i,r.ELECTRON_RUN_AS_NODE="1",r.ELECTRON_NO_ASAR="1",r}Object.defineProperty(t,"__esModule",{value:!0}),t.fork=function(t,n,i,a){var u,d=!1,h=function(e){d||(d=!0,a(null,e))},p=function(e){d||(d=!0,a(e,null))},f=c(),g=c(),v=c(),m=l(i.env||process.env,f,g,v),y=r.createServer(function(e){u.stderr=e});y.listen(v);var b=r.createServer(function(e){e.once("data",function(t){u.stdin=r.connect(f),u.stdout=e,h(u)})});b.listen(g);var S=!1,_=function(){S||(S=!0,process.removeListener("exit",_),b.close(),y.close())},E=s.default.parse(e.toUrl("./stdForkStart.js")).fsPath;(u=o.fork(E,[t].concat(n),{silent:!0,cwd:i.cwd,env:m,execArgv:i.execArgv})).once("error",function(e){_(),p(e)}),u.once("exit",function(e){_(),p(e)}),process.once("exit",_)}}),define(u[276],d([1,0,130,4]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readExactlyByStream=function(e,t){return new i.TPromise(function(n,i){var r=!1,o=new Buffer(t),s=0;e.on("data",function(n){var i=Math.min(t-s,n.length);n.copy(o,s,0,i),(s+=i)===t&&e.destroy()}),e.on("error",function(e){r||(r=!0,i(e))}),e.on("close",function(){r||(r=!0,n({buffer:o,bytesRead:s}))})})},t.readExactlyByFile=function(e,t){return new i.TPromise(function(i,r){n.open(e,"r",null,function(e,o){function s(e,t,s){n.close(o,function(n){return n?r(n):e&&"EISDIR"===e.code?r(e):i({buffer:t,bytesRead:s})})}function a(){n.read(o,c,l,t-l,null,function(e,n){return e?s(e,null,0):0===n?10==++u?s(null,c,l):a():(l+=n)===t?s(null,c,l):a()})}if(e)return r(e);var c=new Buffer(t),l=0,u=0;a()})})},t.readToMatchingString=function(e,t,r,o){return new i.TPromise(function(i,s){return n.open(e,"r",null,function(a,c){function l(e,t){n.close(c,function(n){return n?s(n):e&&"EISDIR"===e.code?s(e):i(t)})}function u(){n.read(c,d,h,r,null,function(n,i){if(n)return l(n,null);if(0===i)return 10==++p?l(null,null):u();h+=i;var r=d.indexOf(t);return r>=0?l(null,d.toString("utf8").substr(0,r)):h>=o?l(new Error("Could not find "+t+" in first "+o+" bytes of "+e),null):u()})}if(a)return s(a);var d=new Buffer(o),h=0,p=0;u()})})}}),define(u[253],d([1,0,276,1368,1369]),function(e,t,n,i,r){"use strict";function o(e){return e===t.UTF8_with_bom?t.UTF8:e}function s(e,n){if(!e||n<2)return null;var i=e.readUInt8(0),r=e.readUInt8(1);if(254===i&&255===r)return t.UTF16be;if(255===i&&254===r)return t.UTF16le;if(n<3)return null;var o=e.readUInt8(2);return 239===i&&187===r&&191===o?t.UTF8:null}function a(e){var t=e.replace(/[^a-zA-Z0-9]/g,"").toLowerCase();return l[t]||t}Object.defineProperty(t,"__esModule",{value:!0}),t.UTF8="utf8",t.UTF8_with_bom="utf8bom",t.UTF16be="utf16be",t.UTF16le="utf16le",t.bomLength=function(e){switch(e){case t.UTF8:return 3;case t.UTF16be:case t.UTF16le:return 2}return 0},t.decode=function(e,t,n){return i.decode(e,o(t),n)},t.encode=function(e,t,n){return i.encode(e,o(t),n)},t.encodingExists=function(e){return i.encodingExists(o(e))},t.decodeStream=function(e){return i.decodeStream(o(e))},t.encodeStream=function(e){return i.encodeStream(o(e))},t.detectEncodingByBOMFromBuffer=s,t.detectEncodingByBOM=function(e){return n.readExactlyByFile(e,3).then(function(e){return s(e.buffer,e.bytesRead)})};r.Constants.MINIMUM_THRESHOLD=.2;var c=["ascii","utf-8","utf-16","utf-32"],l={ibm866:"cp866"};t.guessEncodingByBuffer=function(e){var t=r.detect(e);if(!t||!t.encoding)return null;var n=t.encoding.toLowerCase();return 0<=c.indexOf(n)?null:a(t.encoding)},t.toCanonicalName=function(e){switch(e){case"shiftjis":return"shift-jis";case"utf16le":return"utf-16le";case"utf16be":return"utf-16be";case"big5hkcs":return"big5-hkcs";case"eucjp":return"euc-jp";case"euckr":return"euc-kr";case"koi8r":return"koi8-r";case"koi8u":return"koi8-u";case"macroman":return"x-mac-roman";case"utf8bom":return"utf8";default:var t=e.match(/windows(\d+)/);return t?"windows-"+t[1]:e}}}),define(u[1246],d([1,0,133,276,253]),function(e,t,n,i,r){"use strict";function o(e){return("boolean"==typeof e?e:e&&e.autoGuessEncoding)?p:h}function s(e,t){return i.readExactlyByStream(e,o(t)).then(function(e){return c(e,t&&t.autoGuessEncoding)})}function a(e,t){return i.readExactlyByFile(e,o(t)).then(function(e){return c(e,t&&t.autoGuessEncoding)})}function c(e,t){var i=e.buffer,o=e.bytesRead,s=r.detectEncodingByBOMFromBuffer(i,o),a=!0;if(s!==r.UTF16be&&s!==r.UTF16le)for(var c=0;c<o&&c<d;c++)if(0===i.readInt8(c)){a=!1;break}return t&&a&&!s&&(s=r.guessEncodingByBuffer(i.slice(0,o))),{mimes:a?[n.MIME_TEXT]:[n.MIME_BINARY],encoding:s}}function l(e,t){var i=e,r=t[0];return r!==n.MIME_BINARY&&r!==n.MIME_UNKNOWN&&i.unshift(r),i.filter(function(e,t){return e&&i.indexOf(e)===t}).sort(function(e,t){return e===n.MIME_BINARY?1:t===n.MIME_BINARY?-1:e===n.MIME_TEXT?1:t===n.MIME_TEXT?-1:0})}function u(e,t){var i=l(t.mimes,n.guessMimeTypes(e));return t.mimes=i,t}Object.defineProperty(t,"__esModule",{value:!0});var d=512,h=512,p=4096;t.detectMimeAndEncodingFromBuffer=c,t.detectMimesFromStream=function(e,t,n){return s(e,n).then(function(e){return u(t,e)})},t.detectMimesFromFile=function(e,t){return a(e,t).then(function(t){return u(e,t)})}}),define(u[132],d([1,0,4,5,8]),function(e,t,n,i,r){"use strict";function o(e){return e>=s.ResponseInitialize}Object.defineProperty(t,"__esModule",{value:!0});var s;!function(e){e[e.RequestCommon=0]="RequestCommon",e[e.RequestCancel=1]="RequestCancel",e[e.ResponseInitialize=2]="ResponseInitialize",e[e.ResponseSuccess=3]="ResponseSuccess",e[e.ResponseProgress=4]="ResponseProgress",e[e.ResponseError=5]="ResponseError",e[e.ResponseErrorObj=6]="ResponseErrorObj"}(s||(s={}));var a;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Idle=1]="Idle"}(a||(a={}));var c=function(){function e(e){var t=this;this.protocol=e,this.channels=Object.create(null),this.activeRequests=Object.create(null),this.protocolListener=this.protocol.onMessage(function(e){return t.onMessage(e)}),this.protocol.send({type:s.ResponseInitialize})}return e.prototype.registerChannel=function(e,t){this.channels[e]=t},e.prototype.onMessage=function(e){switch(e.type){case s.RequestCommon:this.onCommonRequest(e);break;case s.RequestCancel:this.onCancelRequest(e)}},e.prototype.onCommonRequest=function(e){var t,r=this,o=this.channels[e.channelName];try{t=o.call(e.name,e.arg)}catch(e){t=n.Promise.wrapError(e)}var a=e.id,c=t.then(function(t){r.protocol.send({id:a,data:t,type:s.ResponseSuccess}),delete r.activeRequests[e.id]},function(t){t instanceof Error?r.protocol.send({id:a,data:{message:t.message,name:t.name,stack:t.stack?t.stack.split("\n"):void 0},type:s.ResponseError}):r.protocol.send({id:a,data:t,type:s.ResponseErrorObj}),delete r.activeRequests[e.id]},function(e){r.protocol.send({id:a,data:e,type:s.ResponseProgress})});this.activeRequests[e.id]=i.toDisposable(function(){return c.cancel()})},e.prototype.onCancelRequest=function(e){var t=this.activeRequests[e.id];t&&(t.dispose(),delete this.activeRequests[e.id])},e.prototype.dispose=function(){var e=this;this.protocolListener.dispose(),this.protocolListener=null,Object.keys(this.activeRequests).forEach(function(t){e.activeRequests[t].dispose()}),this.activeRequests=null},e}();t.ChannelServer=c;var l=function(){function e(e){var t=this;this.protocol=e,this.state=a.Uninitialized,this.activeRequests=[],this.bufferedRequests=[],this.handlers=Object.create(null),this.lastRequestId=0,this.protocolListener=this.protocol.onMessage(function(e){return t.onMessage(e)})}return e.prototype.getChannel=function(e){var t=this;return{call:function(n,i){return t.request(e,n,i)}}},e.prototype.request=function(e,t,n){var i=this,r={raw:{id:this.lastRequestId++,type:s.RequestCommon,channelName:e,name:t,arg:n}},o=this.state===a.Uninitialized?this.bufferRequest(r):this.doRequest(r);return this.activeRequests.push(o),o.then(null,function(e){return null}).done(function(){return i.activeRequests=i.activeRequests.filter(function(e){return e!==o})}),o},e.prototype.doRequest=function(e){var t=this,i=e.raw.id;return new n.Promise(function(n,r,o){t.handlers[i]=function(e){switch(e.type){case s.ResponseSuccess:delete t.handlers[i],n(e.data);break;case s.ResponseError:delete t.handlers[i];var a=new Error(e.data.message);a.stack=e.data.stack,a.name=e.data.name,r(a);break;case s.ResponseErrorObj:delete t.handlers[i],r(e.data);break;case s.ResponseProgress:o(e.data)}},t.send(e.raw)},function(){return t.send({id:i,type:s.RequestCancel})})},e.prototype.bufferRequest=function(e){var t=this,i=null;return new n.Promise(function(n,r,o){t.bufferedRequests.push(e),e.flush=function(){e.flush=null,i=t.doRequest(e).then(n,r,o)}},function(){if(e.flush=null,t.state===a.Uninitialized){var n=t.bufferedRequests.indexOf(e);-1!==n&&t.bufferedRequests.splice(n,1)}else i&&(i.cancel(),i=null)})},e.prototype.onMessage=function(e){if(o(e.type)){if(this.state===a.Uninitialized&&e.type===s.ResponseInitialize)return this.state=a.Idle,this.bufferedRequests.forEach(function(e){return e.flush&&e.flush()}),void(this.bufferedRequests=null);var t=this.handlers[e.id];t&&t(e)}},e.prototype.send=function(e){try{this.protocol.send(e)}catch(e){}},e.prototype.dispose=function(){this.protocolListener.dispose(),this.protocolListener=null,this.activeRequests.forEach(function(e){return e.cancel()}),this.activeRequests=[]},e}();t.ChannelClient=l;var u=function(){function e(e){var t=this;this.channels=Object.create(null),this.channelClients=Object.create(null),this.onClientAdded=new r.Emitter,e(function(e){var n=e.protocol,i=e.onDidClientDisconnect;r.once(n.onMessage)(function(e){var r=new c(n),o=new l(n);Object.keys(t.channels).forEach(function(e){return r.registerChannel(e,t.channels[e])}),t.channelClients[e]=o,t.onClientAdded.fire(e),i(function(){r.dispose(),o.dispose(),delete t.channelClients[e]})})})}return e.prototype.getChannel=function(e,t){var i=this;return{call:function(r,o){var s=t.route(r,o);return s?i.getClient(s).then(function(t){return t.getChannel(e).call(r,o)}):n.TPromise.wrapError(new Error("Client id should be provided"))}}},e.prototype.registerChannel=function(e,t){this.channels[e]=t},e.prototype.getClient=function(e){var t=this,i=this.channelClients[e];return i?n.TPromise.as(i):new n.TPromise(function(n){r.once(r.filterEvent(t.onClientAdded.event,function(t){return t===e}))(function(){return n(t.channelClients[e])})})},e.prototype.dispose=function(){this.channels=null,this.channelClients=null,this.onClientAdded.dispose()},e}();t.IPCServer=u;var d=function(){function e(e,t){e.send(t),this.channelClient=new l(e),this.channelServer=new c(e)}return e.prototype.getChannel=function(e){return this.channelClient.getChannel(e)},e.prototype.registerChannel=function(e,t){this.channelServer.registerChannel(e,t)},e.prototype.dispose=function(){this.channelClient.dispose(),this.channelClient=null,this.channelServer.dispose(),this.channelServer=null},e}();t.IPCClient=d,t.getDelayedChannel=function(e){return{call:function(t,n){return e.then(function(e){return e.call(t,n)})}}},t.getNextTickChannel=function(e){var t=!1;return{call:function(i,r){return t?e.call(i,r):n.TPromise.timeout(0).then(function(){return t=!0}).then(function(){return e.call(i,r)})}}},t.eventToCall=function(e,t){void 0===t&&(t=function(e){return e});var i;return new n.Promise(function(n,r,o){return i=e(function(e){return o(t(e))})},function(){return i.dispose()})},t.eventFromCall=function(e,t,n,i){void 0===n&&(n=null),void 0===i&&(i=function(e){return e});var o,s=new r.Emitter({onFirstListenerAdd:function(){o=e.call(t,n).then(null,function(e){return null},function(e){return s.fire(i(e))})},onLastListenerRemove:function(){o.cancel(),o=null}});return s.event}}),define(u[1244],d([1,0,5,8]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.sender=e,this.onMessageEvent=t;var n=new i.Emitter;t(function(e){return n.fire(e)}),this._onMessage=n.event}return Object.defineProperty(e.prototype,"onMessage",{get:function(){return this._onMessage},enumerable:!0,configurable:!0}),e.prototype.send=function(e){try{this.sender.send("ipc:message",e)}catch(e){}},e.prototype.dispose=function(){this.listener=n.dispose(this.listener)},e}();t.Protocol=r}),define(u[1235],d([1,0,262,132,1244,97]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(n){return e.call(this,t.createProtocol(),n)||this}return h(t,e),t.createProtocol=function(){var e=n.fromEventEmitter(o.ipcRenderer,"ipc:message",function(e,t){return t});return o.ipcRenderer.send("ipc:hello"),new r.Protocol(o.ipcRenderer,e)},t}(i.IPCClient);t.Client=s}),define(u[417],d([1,0,223,4,8,262,132,52,96,135]),function(e,t,n,i,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateRandomPipeName=function(){var e=l.generateUuid();return"win32"===process.platform?"\\\\.\\pipe\\vscode-"+e+"-sock":a.join(c.tmpdir(),"vscode-"+e+".sock")};var u=function(){function e(t){var n=this;this._socket=t,this._onMessage=new r.Emitter,this.onMessage=this._onMessage.event,this._writeBuffer=new(function(){function e(){this._data=[],this._totalLength=0}return e.prototype.add=function(e,t){var n=0===this._totalLength;return this._data.push(e,t),this._totalLength+=e.length+t.length,n},e.prototype.take=function(){var e=Buffer.concat(this._data,this._totalLength);return this._data.length=0,this._totalLength=0,e},e}());var i=[],o=0,s={readHead:!0,bodyIsJson:!1,bodyLen:-1};t.on("data",function(t){for(i.push(t),o+=t.length;o>0;){if(s.readHead){if(!(o>=e._headerLen))break;var r=Buffer.concat(i);s.bodyIsJson=1===r.readInt8(0),s.bodyLen=r.readInt32BE(1),s.readHead=!1;c=r.slice(e._headerLen);o=c.length,i=[c]}if(!s.readHead){if(!(o>=s.bodyLen))break;var a=(r=Buffer.concat(i)).toString("utf8",0,s.bodyLen);s.bodyIsJson&&(a=JSON.parse(a)),n._onMessage.fire(a);var c=r.slice(s.bodyLen);o=c.length,i=[c],s.bodyIsJson=!1,s.bodyLen=-1,s.readHead=!0}}})}return e.prototype.send=function(t){var n=Buffer.alloc(e._headerLen);"string"!=typeof t&&(t=JSON.stringify(t),n.writeInt8(1,0));var i=Buffer.from(t);n.writeInt32BE(i.length,1),this._writeSoon(n,i)},e.prototype._writeSoon=function(e,t){var n=this;this._writeBuffer.add(e,t)&&setImmediate(function(){n._socket.destroyed||n._socket.write(n._writeBuffer.take())})},e}();u._headerLen=17,t.Protocol=u;var d=function(e){function t(n){var i=e.call(this,t.toClientConnectionEvent(n))||this;return i.server=n,i}return h(t,e),t.toClientConnectionEvent=function(e){var t=o.fromEventEmitter(e,"connection");return r.mapEvent(t,function(e){return{protocol:new u(e),onDidClientDisconnect:r.once(o.fromEventEmitter(e,"close"))}})},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.server.close(),this.server=null},t}(s.IPCServer);t.Server=d;var p=function(e){function t(t,n){var i=e.call(this,new u(t),n)||this;return i.socket=t,i._onClose=new r.Emitter,t.once("close",function(){return i._onClose.fire()}),i}return h(t,e),Object.defineProperty(t.prototype,"onClose",{get:function(){return this._onClose.event},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){e.prototype.dispose.call(this),this.socket.end(),this.socket=null},t}(s.IPCClient);t.Client=p,t.serve=function(e){return new i.TPromise(function(t,i){var r=n.createServer();r.on("error",i),r.listen(e,function(){r.removeListener("error",i),t(new d(r))})})},t.connect=function(e,t){return new i.TPromise(function(i,r){var o=n.createConnection(e,function(){o.removeListener("error",r),i(new p(o,t))});o.once("error",r)})}}),define(u[1234],d([1,0,4,24]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.modelProvider=i.isFunction(e.getModel)?e:{getModel:function(){return e}}}return e.prototype.getId=function(e,t){if(!t)return null;var n=this.modelProvider.getModel();return n===t?"__root__":n.dataSource.getId(t)},e.prototype.hasChildren=function(e,t){var n=this.modelProvider.getModel();return n&&n===t&&n.entries.length>0},e.prototype.getChildren=function(e,t){var i=this.modelProvider.getModel();return n.TPromise.as(i===t?i.entries:[])},e.prototype.getParent=function(e,t){return n.TPromise.as(null)},e}();t.DataSource=r;var o=function(){function e(e){this.modelProvider=e}return e.prototype.getAriaLabel=function(e,t){var n=this.modelProvider.getModel();return n.accessibilityProvider&&n.accessibilityProvider.getAriaLabel(t)},e.prototype.getPosInSet=function(e,t){var n=this.modelProvider.getModel();return String(n.entries.indexOf(t)+1)},e.prototype.getSetSize=function(){var e=this.modelProvider.getModel();return String(e.entries.length)},e}();t.AccessibilityProvider=o;var s=function(){function e(e){this.modelProvider=e}return e.prototype.isVisible=function(e,t){var n=this.modelProvider.getModel();return!n.filter||n.filter.isVisible(t)},e}();t.Filter=s;var a=function(){function e(e,t){this.modelProvider=e,this.styles=t}return e.prototype.updateStyles=function(e){this.styles=e},e.prototype.getHeight=function(e,t){return this.modelProvider.getModel().renderer.getHeight(t)},e.prototype.getTemplateId=function(e,t){return this.modelProvider.getModel().renderer.getTemplateId(t)},e.prototype.renderTemplate=function(e,t,n){return this.modelProvider.getModel().renderer.renderTemplate(t,n,this.styles)},e.prototype.renderElement=function(e,t,n,i){this.modelProvider.getModel().renderer.renderElement(t,n,i,this.styles)},e.prototype.disposeTemplate=function(e,t,n){this.modelProvider.getModel().renderer.disposeTemplate(t,n)},e}();t.Renderer=a}),define(u[115],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.PREVIEW=0]="PREVIEW",e[e.OPEN=1]="OPEN",e[e.OPEN_IN_BACKGROUND=2]="OPEN_IN_BACKGROUND"}(t.Mode||(t.Mode={}))}),define(u[265],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,n){this._posx=e,this._posy=t,this._target=n}return e.prototype.preventDefault=function(){},e.prototype.stopPropagation=function(){},Object.defineProperty(e.prototype,"posx",{get:function(){return this._posx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"posy",{get:function(){return this._posy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),e}();t.ContextMenuEvent=n;var i=function(e){function t(t){var n=e.call(this,t.posx,t.posy,t.target)||this;return n.originalEvent=t,n}return h(t,e),t.prototype.preventDefault=function(){this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.originalEvent.stopPropagation()},t}(n);t.MouseContextMenuEvent=i;var r=function(e){function t(t,n,i){var r=e.call(this,t,n,i.target)||this;return r.originalEvent=i,r}return h(t,e),t.prototype.preventDefault=function(){this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.originalEvent.stopPropagation()},t}(n);t.KeyboardContextMenuEvent=r;var o;!function(e){e[e.COPY=0]="COPY",e[e.MOVE=1]="MOVE"}(o=t.DragOverEffect||(t.DragOverEffect={}));var s;!function(e){e[e.BUBBLE_DOWN=0]="BUBBLE_DOWN",e[e.BUBBLE_UP=1]="BUBBLE_UP"}(s=t.DragOverBubble||(t.DragOverBubble={})),t.DRAG_OVER_REJECT={accept:!1},t.DRAG_OVER_ACCEPT={accept:!0},t.DRAG_OVER_ACCEPT_BUBBLE_UP={accept:!0,bubble:s.BUBBLE_UP},t.DRAG_OVER_ACCEPT_BUBBLE_DOWN=function(e){return void 0===e&&(e=!1),{accept:!0,bubble:s.BUBBLE_DOWN,autoExpand:e}},t.DRAG_OVER_ACCEPT_BUBBLE_UP_COPY={accept:!0,bubble:s.BUBBLE_UP,effect:o.COPY},t.DRAG_OVER_ACCEPT_BUBBLE_DOWN_COPY=function(e){return void 0===e&&(e=!1),{accept:!0,bubble:s.BUBBLE_DOWN,effect:o.COPY,autoExpand:e}}}),define(u[274],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.elements=e}return e.prototype.update=function(e){},e.prototype.getData=function(){return this.elements},e}();t.ElementsDragAndDropData=n;var i=function(){function e(e){this.elements=e}return e.prototype.update=function(e){},e.prototype.getData=function(){return this.elements},e}();t.ExternalElementsDragAndDropData=i;var r=function(){function e(){this.types=[],this.files=[]}return e.prototype.update=function(e){e.dataTransfer.types&&(this.types=[],Array.prototype.push.apply(this.types,e.dataTransfer.types)),e.dataTransfer.files&&(this.files=[],Array.prototype.push.apply(this.files,e.dataTransfer.files),this.files=this.files.filter(function(e){return e.size||e.type}))},e.prototype.getData=function(){return{types:this.types,files:this.files}},e}();t.DesktopDragAndDropData=r}),define(u[1224],d([1,0,144,7,5,34,81,4]),function(e,t,n,i,r,o,s,a){"use strict";function c(e,t){for(var n=e.getHierarchy(),i=t.getHierarchy(),r=n[o.commonPrefixLength(n,i)-1],s=r.getNavigator(),a=null,c=null,l=0,u=[];r&&(null===a||null===c);)u.push(r),r===e&&(a=l),r===t&&(c=l),l++,r=s.next();if(null===a||null===c)return[];var d=Math.min(a,c),h=Math.max(a,c);return u.slice(d,h+1)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(t){var n=e.call(this)||this;return n._item=t,n}return h(t,e),Object.defineProperty(t.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.emit("unlock"),e.prototype.dispose.call(this)},t}(s.EventEmitter);t.LockData=l;var u=function(){function e(){this.locks=Object.create({})}return e.prototype.isLocked=function(e){return!!this.locks[e.id]},e.prototype.run=function(e,t){var n=this,i=this.getLock(e);if(i){var r;return new a.Promise(function(o,s){r=i.addOneTimeListener("unlock",function(){return n.run(e,t).then(o,s)})},function(){r.dispose()})}var o;return new a.Promise(function(i,r){if(e.isDisposed())return r(new Error("Item is disposed."));var s=n.locks[e.id]=new l(e);return o=t().then(function(t){return delete n.locks[e.id],s.dispose(),t}).then(i,r)},function(){return o.cancel()})},e.prototype.getLock=function(e){var t;for(t in this.locks){var n=this.locks[t];if(e.intersects(n.item))return n}return null},e}();t.Lock=u;var d=function(e){function t(){var t=e.call(this)||this;return t._isDisposed=!1,t.items={},t}return h(t,e),t.prototype.register=function(e){n.ok(!this.isRegistered(e.id),"item already registered: "+e.id),this.items[e.id]={item:e,disposable:this.addEmitter(e)}},t.prototype.deregister=function(e){n.ok(this.isRegistered(e.id),"item not registered: "+e.id),this.items[e.id].disposable.dispose(),delete this.items[e.id]},t.prototype.isRegistered=function(e){return this.items.hasOwnProperty(e)},t.prototype.getItem=function(e){var t=this.items[e];return t?t.item:null},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.items=null,this._isDisposed=!0},t.prototype.isDisposed=function(){return this._isDisposed},t}(s.EventEmitter);t.ItemRegistry=d;var p=function(e){function t(t,n,i,r,o){var s=e.call(this)||this;return s.registry=n,s.context=i,s.lock=r,s.element=o,s.id=t,s.registry.register(s),s.doesHaveChildren=s.context.dataSource.hasChildren(s.context.tree,s.element),s.needsChildrenRefresh=!0,s.parent=null,s.previous=null,s.next=null,s.firstChild=null,s.lastChild=null,s.userContent=null,s.traits={},s.depth=0,s.expanded=s.context.dataSource.shouldAutoexpand&&s.context.dataSource.shouldAutoexpand(s.context.tree,o),s.emit("item:create",{item:s}),s.visible=s._isVisible(),s.height=s._getHeight(),s._isDisposed=!1,s}return h(t,e),t.prototype.getElement=function(){return this.element},t.prototype.hasChildren=function(){return this.doesHaveChildren},t.prototype.getDepth=function(){return this.depth},t.prototype.isVisible=function(){return this.visible},t.prototype.setVisible=function(e){this.visible=e},t.prototype.isExpanded=function(){return this.expanded},t.prototype._setExpanded=function(e){this.expanded=e},t.prototype.reveal=function(e){void 0===e&&(e=null);var t={item:this,relativeTop:e};this.emit("item:reveal",t)},t.prototype.expand=function(){var e=this;return this.isExpanded()||!this.doesHaveChildren||this.lock.isLocked(this)?a.TPromise.as(!1):this.lock.run(this,function(){var t={item:e};return e.emit("item:expanding",t),(e.needsChildrenRefresh?e.refreshChildren(!1,!0,!0):a.TPromise.as(null)).then(function(){return e._setExpanded(!0),e.emit("item:expanded",t),!0})}).then(function(t){return!e.isDisposed()&&(e.context.options.autoExpandSingleChildren&&t&&null!==e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.isVisible()?e.firstChild.expand().then(function(){return!0}):t)})},t.prototype.collapse=function(e){var t=this;if(void 0===e&&(e=!1),e){var n=a.TPromise.as(null);return this.forEachChild(function(e){n=n.then(function(){return e.collapse(!0)})}),n.then(function(){return t.collapse(!1)})}return!this.isExpanded()||this.lock.isLocked(this)?a.TPromise.as(!1):this.lock.run(this,function(){var e={item:t};return t.emit("item:collapsing",e),t._setExpanded(!1),t.emit("item:collapsed",e),a.TPromise.as(!0)})},t.prototype.addTrait=function(e){var t={item:this,trait:e};this.traits[e]=!0,this.emit("item:addTrait",t)},t.prototype.removeTrait=function(e){var t={item:this,trait:e};delete this.traits[e],this.emit("item:removeTrait",t)},t.prototype.hasTrait=function(e){return this.traits[e]||!1},t.prototype.getAllTraits=function(){var e,t=[];for(e in this.traits)this.traits.hasOwnProperty(e)&&this.traits[e]&&t.push(e);return t},t.prototype.getHeight=function(){return this.height},t.prototype.refreshChildren=function(e,n,r){var o=this;if(void 0===n&&(n=!1),void 0===r&&(r=!1),!r&&!this.isExpanded())return this.needsChildrenRefresh=!0,a.TPromise.as(this);this.needsChildrenRefresh=!1;var s=function(){var r={item:o,isNested:n};o.emit("item:childrenRefreshing",r);return(o.doesHaveChildren?o.context.dataSource.getChildren(o.context.tree,o.element):a.TPromise.as([])).then(function(n){if(o.isDisposed()||o.registry.isDisposed())return a.TPromise.as(null);n=n?n.slice(0):[],n=o.sort(n);for(var i={};null!==o.firstChild;)i[o.firstChild.id]=o.firstChild,o.removeChild(o.firstChild);for(var r=0,s=n.length;r<s;r++){var c=n[r],l=o.context.dataSource.getId(o.context.tree,c),u=i[l]||new t(l,o.registry,o.context,o.lock,c);u.element=c,e&&(u.needsChildrenRefresh=e),delete i[l],o.addChild(u)}for(var d in i)i.hasOwnProperty(d)&&i[d].dispose();return e?a.Promise.join(o.mapEachChild(function(t){return t.doRefresh(e,!0)})):a.TPromise.as(null)}).then(null,i.onUnexpectedError).then(function(){return o.emit("item:childrenRefreshed",r)})};return n?s():this.lock.run(this,s)},t.prototype.doRefresh=function(e,t){void 0===t&&(t=!1);var n={item:this};return this.doesHaveChildren=this.context.dataSource.hasChildren(this.context.tree,this.element),this.height=this._getHeight(),this.setVisible(this._isVisible()),this.emit("item:refresh",n),this.refreshChildren(e,t)},t.prototype.refresh=function(e){return this.doRefresh(e)},t.prototype.getNavigator=function(){return new g(this)},t.prototype.intersects=function(e){return this.isAncestorOf(e)||e.isAncestorOf(this)},t.prototype.getHierarchy=function(){var e=[],t=this;do{e.push(t),t=t.parent}while(t);return e.reverse(),e},t.prototype.isAncestorOf=function(e){for(;e;){if(e.id===this.id)return!0;e=e.parent}return!1},t.prototype.addChild=function(e,t){void 0===t&&(t=this.lastChild);var n=null===this.firstChild,i=null===t,r=t===this.lastChild;n?(this.firstChild=this.lastChild=e,e.next=e.previous=null):i?(this.firstChild.previous=e,e.next=this.firstChild,e.previous=null,this.firstChild=e):r?(this.lastChild.next=e,e.next=null,e.previous=this.lastChild,this.lastChild=e):(e.previous=t,e.next=t.next,t.next.previous=e,t.next=e),e.parent=this,e.depth=this.depth+1},t.prototype.removeChild=function(e){var t=this.firstChild===e,n=this.lastChild===e;t&&n?this.firstChild=this.lastChild=null:t?(e.next.previous=null,this.firstChild=e.next):n?(e.previous.next=null,this.lastChild=e.previous):(e.next.previous=e.previous,e.previous.next=e.next),e.parent=null,e.depth=null},t.prototype.forEachChild=function(e){for(var t,n=this.firstChild;n;)t=n.next,e(n),n=t},t.prototype.mapEachChild=function(e){var t=[];return this.forEachChild(function(n){t.push(e(n))}),t},t.prototype.sort=function(e){var t=this;return this.context.sorter?e.sort(function(e,n){return t.context.sorter.compare(t.context.tree,e,n)}):e},t.prototype._getHeight=function(){return this.context.renderer.getHeight(this.context.tree,this.element)},t.prototype._isVisible=function(){return this.context.filter.isVisible(this.context.tree,this.element)},t.prototype.isDisposed=function(){return this._isDisposed},t.prototype.dispose=function(){this.forEachChild(function(e){return e.dispose()}),this.parent=null,this.previous=null,this.next=null,this.firstChild=null,this.lastChild=null;var t={item:this};this.emit("item:dispose",t),this.registry.deregister(this),e.prototype.dispose.call(this),this._isDisposed=!0},t}(s.EventEmitter);t.Item=p;var f=function(e){function t(t,n,i,r,o){return e.call(this,t,n,i,r,o)||this}return h(t,e),t.prototype.isVisible=function(){return!1},t.prototype.setVisible=function(e){},t.prototype.isExpanded=function(){return!0},t.prototype._setExpanded=function(e){},t.prototype.render=function(){},t.prototype._getHeight=function(){return 0},t.prototype._isVisible=function(){return!1},t}(p),g=function(){function e(e,t){void 0===t&&(t=!0),this.item=e,this.start=t?e:null}return e.lastDescendantOf=function(t){return t?t instanceof f||t.isVisible()&&t.isExpanded()&&null!==t.lastChild?e.lastDescendantOf(t.lastChild):t:null},e.prototype.current=function(){return this.item||null},e.prototype.next=function(){if(this.item)do{if((this.item instanceof f||this.item.isVisible()&&this.item.isExpanded())&&this.item.firstChild)this.item=this.item.firstChild;else if(this.item===this.start)this.item=null;else{for(;this.item&&this.item!==this.start&&!this.item.next;)this.item=this.item.parent;this.item===this.start&&(this.item=null),this.item=this.item?this.item.next:null}}while(this.item&&!this.item.isVisible());return this.item||null},e.prototype.previous=function(){if(this.item)do{var t=e.lastDescendantOf(this.item.previous);t?this.item=t:this.item.parent&&this.item.parent!==this.start&&this.item.parent.isVisible()?this.item=this.item.parent:this.item=null}while(this.item&&!this.item.isVisible());return this.item||null},e.prototype.parent=function(){if(this.item){var e=this.item.parent;e&&e!==this.start&&e.isVisible()?this.item=e:this.item=null}return this.item||null},e.prototype.first=function(){return this.item=this.start,this.next(),this.item||null},e.prototype.last=function(){return e.lastDescendantOf(this.start)},e}();t.TreeNavigator=g;var v=function(e){function t(t){var n=e.call(this)||this;return n.context=t,n.input=null,n.traitsToItems={},n}return h(t,e),t.prototype.setInput=function(e){var t=this,n={item:this.input};this.emit("clearingInput",n),this.setSelection([]),this.setFocus(),this.setHighlight(),this.lock=new u,this.input&&this.input.dispose(),this.registry&&(this.registry.dispose(),this.registryDisposable.dispose()),this.registry=new d,this.registryDisposable=r.combinedDisposable([this.addEmitter(this.registry),this.registry.addListener("item:dispose",function(e){e.item.getAllTraits().forEach(function(n){return delete t.traitsToItems[n][e.item.id]})})]);var i=this.context.dataSource.getId(this.context.tree,e);return this.input=new f(i,this.registry,this.context,this.lock,e),n={item:this.input},this.emit("setInput",n),this.refresh(this.input)},t.prototype.getInput=function(){return this.input?this.input.getElement():null},t.prototype.refresh=function(e,t){var n=this;void 0===e&&(e=null),void 0===t&&(t=!0);var i=this.getItem(e);if(!i)return a.TPromise.as(null);var r={item:i,recursive:t};return this.emit("refreshing",r),i.refresh(t).then(function(){n.emit("refreshed",r)})},t.prototype.expand=function(e){var t=this.getItem(e);return t?t.expand():a.TPromise.as(!1)},t.prototype.expandAll=function(e){if(!e){e=[];for(var t,n=this.getNavigator();t=n.next();)e.push(t)}for(var i=[],r=0,o=e.length;r<o;r++)i.push(this.expand(e[r]));return a.Promise.join(i)},t.prototype.collapse=function(e,t){void 0===t&&(t=!1);var n=this.getItem(e);return n?n.collapse(t):a.TPromise.as(!1)},t.prototype.collapseAll=function(e,t){void 0===e&&(e=null),void 0===t&&(t=!1),e||(e=[this.input],t=!0);for(var n=[],i=0,r=e.length;i<r;i++)n.push(this.collapse(e[i],t));return a.Promise.join(n)},t.prototype.toggleExpansion=function(e){return this.isExpanded(e)?this.collapse(e):this.expand(e)},t.prototype.toggleExpansionAll=function(e){for(var t=[],n=0,i=e.length;n<i;n++)t.push(this.toggleExpansion(e[n]));return a.Promise.join(t)},t.prototype.isExpanded=function(e){var t=this.getItem(e);return!!t&&t.isExpanded()},t.prototype.getExpandedElements=function(){for(var e,t=[],n=this.getNavigator();e=n.next();)e.isExpanded()&&t.push(e.getElement());return t},t.prototype.reveal=function(e,t){var n=this;return void 0===t&&(t=null),this.resolveUnknownParentChain(e).then(function(e){var t=a.TPromise.as(null);return e.forEach(function(e){t=t.then(function(){return n.expand(e)})}),t}).then(function(){var i=n.getItem(e);if(i)return i.reveal(t)})},t.prototype.resolveUnknownParentChain=function(e){var t=this;return this.context.dataSource.getParent(this.context.tree,e).then(function(e){return e?t.resolveUnknownParentChain(e).then(function(t){return t.push(e),t}):a.TPromise.as([])})},t.prototype.setHighlight=function(e,t){this.setTraits("highlighted",e?[e]:[]);var n={highlight:this.getHighlight(),payload:t};this.emit("highlight",n)},t.prototype.getHighlight=function(e){var t=this.getElementsWithTrait("highlighted",e);return 0===t.length?null:t[0]},t.prototype.isHighlighted=function(e){var t=this.getItem(e);return!!t&&t.hasTrait("highlighted")},t.prototype.select=function(e,t){this.selectAll([e],t)},t.prototype.selectRange=function(e,t,n){var i=this.getItem(e),r=this.getItem(t);i&&r&&this.selectAll(c(i,r),n)},t.prototype.deselectRange=function(e,t,n){var i=this.getItem(e),r=this.getItem(t);i&&r&&this.deselectAll(c(i,r),n)},t.prototype.selectAll=function(e,t){this.addTraits("selected",e);var n={selection:this.getSelection(),payload:t};this.emit("selection",n)},t.prototype.deselect=function(e,t){this.deselectAll([e],t)},t.prototype.deselectAll=function(e,t){this.removeTraits("selected",e);var n={selection:this.getSelection(),payload:t};this.emit("selection",n)},t.prototype.setSelection=function(e,t){this.setTraits("selected",e);var n={selection:this.getSelection(),payload:t};this.emit("selection",n)},t.prototype.toggleSelection=function(e,t){this.toggleTrait("selected",e);var n={selection:this.getSelection(),payload:t};this.emit("selection",n)},t.prototype.isSelected=function(e){var t=this.getItem(e);return!!t&&t.hasTrait("selected")},t.prototype.getSelection=function(e){return this.getElementsWithTrait("selected",e)},t.prototype.selectNext=function(e,t,n){void 0===e&&(e=1),void 0===t&&(t=!0);for(var i,r=this.getSelection(),o=r.length>0?r[0]:this.input,s=this.getNavigator(o,!1),a=0;a<e&&(i=s.next());a++)o=i;t?this.setSelection([o],n):this.select(o,n)},t.prototype.selectPrevious=function(e,t,n){void 0===e&&(e=1),void 0===t&&(t=!0);var i=this.getSelection(),r=null,o=null;if(0===i.length){for(s=this.getNavigator(this.input);r=s.next();)o=r;r=o}else{r=i[0];for(var s=this.getNavigator(r,!1),a=0;a<e&&(o=s.previous());a++)r=o}t?this.setSelection([r],n):this.select(r,n)},t.prototype.selectParent=function(e,t){void 0===t&&(t=!0);var n=this.getSelection(),i=n.length>0?n[0]:this.input,r=this.getNavigator(i,!1).parent();r&&(t?this.setSelection([r],e):this.select(r,e))},t.prototype.setFocus=function(e,t){this.setTraits("focused",e?[e]:[]);var n={focus:this.getFocus(),payload:t};this.emit("focus",n)},t.prototype.isFocused=function(e){var t=this.getItem(e);return!!t&&t.hasTrait("focused")},t.prototype.getFocus=function(e){var t=this.getElementsWithTrait("focused",e);return 0===t.length?null:t[0]},t.prototype.focusNext=function(e,t){void 0===e&&(e=1);for(var n,i=this.getFocus()||this.input,r=this.getNavigator(i,!1),o=0;o<e&&(n=r.next());o++)i=n;this.setFocus(i,t)},t.prototype.focusPrevious=function(e,t){void 0===e&&(e=1);for(var n,i=this.getFocus()||this.input,r=this.getNavigator(i,!1),o=0;o<e&&(n=r.previous());o++)i=n;this.setFocus(i,t)},t.prototype.focusParent=function(e){var t=this.getFocus()||this.input,n=this.getNavigator(t,!1).parent();n&&this.setFocus(n,e)},t.prototype.focusFirstChild=function(e){var t=this.getItem(this.getFocus()||this.input),n=this.getNavigator(t,!1),i=n.next();n.parent()===t&&this.setFocus(i,e)},t.prototype.focusFirst=function(e,t){this.focusNth(0,e,t)},t.prototype.focusNth=function(e,t,n){for(var i=this.getParent(n),r=this.getNavigator(i),o=r.first(),s=0;s<e;s++)o=r.next();o&&this.setFocus(o,t)},t.prototype.focusLast=function(e,t){var n,i=this.getParent(t);(n=t?i.lastChild:this.getNavigator(i).last())&&this.setFocus(n,e)},t.prototype.getParent=function(e){if(e){var t=this.getItem(e);if(t&&t.parent)return t.parent}return this.getItem(this.input)},t.prototype.getNavigator=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!0),new g(this.getItem(e),t)},t.prototype.getItem=function(e){return void 0===e&&(e=null),null===e?this.input:e instanceof p?e:"string"==typeof e?this.registry.getItem(e):this.registry.getItem(this.context.dataSource.getId(this.context.tree,e))},t.prototype.addTraits=function(e,t){for(var n,i=this.traitsToItems[e]||{},r=0,o=t.length;r<o;r++)(n=this.getItem(t[r]))&&(n.addTrait(e),i[n.id]=n);this.traitsToItems[e]=i},t.prototype.removeTraits=function(e,t){var n,i,r=this.traitsToItems[e]||{};if(0===t.length){for(i in r)r.hasOwnProperty(i)&&(n=r[i]).removeTrait(e);delete this.traitsToItems[e]}else for(var o=0,s=t.length;o<s;o++)(n=this.getItem(t[o]))&&(n.removeTrait(e),delete r[n.id])},t.prototype.hasTrait=function(e,t){var n=this.getItem(t);return n&&n.hasTrait(e)},t.prototype.toggleTrait=function(e,t){var n=this.getItem(t);n&&(n.hasTrait(e)?this.removeTraits(e,[t]):this.addTraits(e,[t]))},t.prototype.setTraits=function(e,t){if(0===t.length)this.removeTraits(e,t);else{for(var n,i={},r=0,o=t.length;r<o;r++)(n=this.getItem(t[r]))&&(i[n.id]=n);var s,a=this.traitsToItems[e]||{},c=[];for(s in a)a.hasOwnProperty(s)&&(i.hasOwnProperty(s)?delete i[s]:c.push(a[s]));for(var r=0,o=c.length;r<o;r++)(n=c[r]).removeTrait(e),delete a[n.id];for(s in i)i.hasOwnProperty(s)&&((n=i[s]).addTrait(e),a[s]=n);this.traitsToItems[e]=a}},t.prototype.getElementsWithTrait=function(e,t){var n,i=[],r=this.traitsToItems[e]||{};for(n in r)r.hasOwnProperty(n)&&(r[n].isVisible()||t)&&i.push(r[n].getElement());return i},t.prototype.dispose=function(){this.registry&&(this.registry.dispose(),this.registry=null),e.prototype.dispose.call(this)},t}(s.EventEmitter);t.TreeModel=v}),define(u[1219],d([1,0,81,187]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(){var t=e.call(this)||this;return t.heightMap=[],t.indexes={},t}return h(t,e),t.prototype.getTotalHeight=function(){var e=this.heightMap[this.heightMap.length-1];return e?e.top+e.height:0},t.prototype.onInsertItems=function(e,t){void 0===t&&(t=null);var n,i,r,o,s,a=0;if(null===t)r=0,s=0;else{if(r=this.indexes[t]+1,!(i=this.heightMap[r-1]))return void console.error("view item doesnt exist");s=i.top+i.height}for(var c=this.heightMap.splice.bind(this.heightMap,r,0),l=[];n=e.next();)(i=this.createViewItem(n)).top=s+a,this.emit("viewItem:create",{item:i.model}),this.indexes[n.id]=r++,l.push(i),a+=i.height;for(c.apply(this.heightMap,l),o=r;o<this.heightMap.length;o++)(i=this.heightMap[o]).top+=a,this.indexes[i.model.id]=o;for(o=l.length-1;o>=0;o--)this.onInsertItem(l[o]);for(o=this.heightMap.length-1;o>=r;o--)this.onRefreshItem(this.heightMap[o]);return a},t.prototype.onInsertItem=function(e){},t.prototype.onRemoveItems=function(e){for(var t,n,i,r=null,o=0;t=e.next();){if(i=this.indexes[t],!(n=this.heightMap[i]))return void console.error("view item doesnt exist");o-=n.height,delete this.indexes[t],this.onRemoveItem(n),null===r&&(r=i)}if(0!==o)for(this.heightMap.splice(r,i-r+1),i=r;i<this.heightMap.length;i++)(n=this.heightMap[i]).top+=o,this.indexes[n.model.id]=i,this.onRefreshItem(n)},t.prototype.onRemoveItem=function(e){},t.prototype.onRefreshItemSet=function(e){var t=this,n=e.sort(function(e,n){return t.indexes[e.id]-t.indexes[n.id]});this.onRefreshItems(new i.ArrayIterator(n))},t.prototype.onRefreshItems=function(e){for(var t,n,i,r,o=null,s=0;t=e.next();){for(r=this.indexes[t.id];0!==s&&null!==o&&o<r;o++)(n=this.heightMap[o]).top+=s,this.onRefreshItem(n);n=this.heightMap[r],i=t.getHeight(),n.top+=s,s+=i-n.height,n.height=i,this.onRefreshItem(n,!0),o=r+1}if(0!==s&&null!==o)for(;o<this.heightMap.length;o++)(n=this.heightMap[o]).top+=s,this.onRefreshItem(n)},t.prototype.onRefreshItem=function(e,t){void 0===t&&(t=!1)},t.prototype.itemsCount=function(){return this.heightMap.length},t.prototype.itemAt=function(e){return this.heightMap[this.indexAt(e)].model.id},t.prototype.withItemsInRange=function(e,t,n){e=this.indexAt(e),t=this.indexAt(t);for(var i=e;i<=t;i++)n(this.heightMap[i].model.id)},t.prototype.indexAt=function(e){for(var t,n,i=0,r=this.heightMap.length;i<r;)if(t=Math.floor((i+r)/2),n=this.heightMap[t],e<n.top)r=t;else{if(!(e>=n.top+n.height))return t;if(i===t)break;i=t}return this.heightMap.length},t.prototype.indexAfter=function(e){return Math.min(this.indexAt(e)+1,this.heightMap.length)},t.prototype.itemAtIndex=function(e){return this.heightMap[e]},t.prototype.itemAfter=function(e){return this.heightMap[this.indexes[e.model.id]+1]||null},t.prototype.createViewItem=function(e){throw new Error("not implemented")},t.prototype.dispose=function(){this.heightMap=null,this.indexes=null},t}(n.EventEmitter);t.HeightMap=r}),define(u[1216],d([1,0,11,378]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return void 0===t&&(t=!1),n.globals.MonacoEnvironment&&n.globals.MonacoEnvironment.hasOwnProperty(e)?n.globals.MonacoEnvironment[e]:t}("getWorkerUrl",null)||function(t,n){return e.toUrl("./"+t)+"#"+n},o=function(){function e(e,t,n,i,o){this.id=t,this.worker=new Worker(r("workerMain.js",n)),this.postMessage(e),this.worker.onmessage=function(e){i(e.data)},"function"==typeof this.worker.addEventListener&&this.worker.addEventListener("error",o)}return e.prototype.getId=function(){return this.id},e.prototype.postMessage=function(e){this.worker&&this.worker.postMessage(e)},e.prototype.dispose=function(){this.worker.terminate(),this.worker=null},e}(),s=function(){function e(e){this._label=e,this._webWorkerFailedBeforeError=!1}return e.prototype.create=function(t,n,r){var s=this,a=++e.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new o(t,a,this._label||"anonymous"+a,n,function(e){i.logOnceWebWorkerWarning(e),s._webWorkerFailedBeforeError=e,r(e)})},e}();s.LAST_WORKER_ID=0,t.DefaultWorkerFactory=s}),define(u[1215],d([10]),{}),define(u[40],d([1,0,4,24,5,12,144,9,1215]),function(e,t,n,i,r,o,s,a){"use strict";function c(e,t){s.ok(i.isString(e),"Expected String as parameter");var n=document.getElementById(e);return n?new T(n,t):null}function l(e){return e[_]||(e[_]={}),e[_]}function u(e){return!!e[_]}function d(e,t){return e instanceof k?new k(e):new T(e.getHTMLElement(),t)}function p(e,t){return new T(e,t)}function f(){return new T(null,!0)}function g(e,t,n){l(e)[t]=n}function v(e,t,n){if(u(e)){var r=l(e)[t];if(!i.isUndefined(r))return r}return n}function m(e,t){u(e)&&delete l(e)[t]}function y(e,t){g(e,E,t)}function b(e){m(e,E)}function S(e){return v(e,E)}Object.defineProperty(t,"__esModule",{value:!0}),t.withElementById=c,t.Build={withElementById:c};var _="_msDataKey",E="__$binding",C=function(){return function(e,t){this.x=e,this.y=t}}();t.Position=C;var w=function(){return function(e,t,n,i){this.top=e,this.right=t,this.bottom=n,this.left=i}}();t.Box=w;var I=function(){function e(e,t){this.width=e,this.height=t}return e.prototype.substract=function(t){return new e(this.width-t.left-t.right,this.height-t.top-t.bottom)},e}();t.Dimension=I;var T=function(){function e(e,t){this.offdom=t,this.container=e,this.currentElement=e,this.createdElements=[],this.toUnbind={},this.captureToUnbind={}}return e.prototype.asContainer=function(){return d(this,this.offdom)},e.prototype.clone=function(){var t=new e(this.container,this.offdom);return t.currentElement=this.currentElement,t.createdElements=this.createdElements,t.captureToUnbind=this.captureToUnbind,t.toUnbind=this.toUnbind,t},e.prototype.and=function(t){t instanceof e||t instanceof k||(t=new e(t,this.offdom));var n=[this];if(t instanceof k)for(var i=0;i<t.length;i++)n.push(t.item(i));else n.push(t);return new k(n)},e.prototype.build=function(t,n){s.ok(this.offdom,"This builder was not created off-dom, so build() can not be called."),t?t instanceof e&&(t=t.getHTMLElement()):t=this.container,s.ok(t,"Builder can only be build() with a container provided."),s.ok(a.isHTMLElement(t),"The container must either be a HTMLElement or a Builder.");var r,o,c=t,l=c.childNodes;if(i.isNumber(n)&&n<l.length)for(r=0,o=this.createdElements.length;r<o;r++)c.insertBefore(this.createdElements[r],l[n++]);else for(r=0,o=this.createdElements.length;r<o;r++)c.appendChild(this.createdElements[r]);return this},e.prototype.appendTo=function(t,n){t?t instanceof e&&(t=t.getHTMLElement()):t=this.container,s.ok(t,"Builder can only be build() with a container provided."),s.ok(a.isHTMLElement(t),"The container must either be a HTMLElement or a Builder.");var r=t;this.currentElement.parentNode&&this.currentElement.parentNode.removeChild(this.currentElement);var o=r.childNodes;return i.isNumber(n)&&n<o.length?r.insertBefore(this.currentElement,o[n]):r.appendChild(this.currentElement),this},e.prototype.append=function(t,n){return s.ok(t,"Need a child to append"),a.isHTMLElement(t)&&(t=p(t)),s.ok(t instanceof e||t instanceof k,"Need a child to append"),t.appendTo(this,n),this},e.prototype.offDOM=function(){return this.currentElement.parentNode&&this.currentElement.parentNode.removeChild(this.currentElement),this},e.prototype.getHTMLElement=function(){return this.currentElement},e.prototype.getContainer=function(){return this.container},e.prototype.div=function(e,t){return this.doElement("div",e,t)},e.prototype.p=function(e,t){return this.doElement("p",e,t)},e.prototype.ul=function(e,t){return this.doElement("ul",e,t)},e.prototype.ol=function(e,t){return this.doElement("ol",e,t)},e.prototype.li=function(e,t){return this.doElement("li",e,t)},e.prototype.span=function(e,t){return this.doElement("span",e,t)},e.prototype.img=function(e,t){return this.doElement("img",e,t)},e.prototype.a=function(e,t){return this.doElement("a",e,t)},e.prototype.header=function(e,t){return this.doElement("header",e,t)},e.prototype.section=function(e,t){return this.doElement("section",e,t)},e.prototype.footer=function(e,t){return this.doElement("footer",e,t)},e.prototype.element=function(e,t,n){return this.doElement(e,t,n)},e.prototype.doElement=function(t,n,r){var o=document.createElement(t);if(this.currentElement=o,this.offdom&&this.createdElements.push(o),i.isObject(n)&&this.attr(n),i.isFunction(n)&&(r=n),i.isFunction(r)){var s=new e(o);r.call(s,s)}return this.offdom||this.container.appendChild(o),this},e.prototype.domFocus=function(){return this.currentElement.focus(),this},e.prototype.hasFocus=function(){return document.activeElement===this.currentElement},e.prototype.domSelect=function(e){void 0===e&&(e=null);var t=this.currentElement;return t.select(),e&&t.setSelectionRange(e.start,e.end),this},e.prototype.domBlur=function(){return this.currentElement.blur(),this},e.prototype.domClick=function(){return this.currentElement.click(),this},e.prototype.on=function(e,t,n,r){var o=this;if(i.isArray(e))e.forEach(function(e){o.on(e,t,n,r)});else{var s=e,c=a.addDisposableListener(this.currentElement,s,function(e){t(e,o,c)},r||!1);r?(this.captureToUnbind[s]||(this.captureToUnbind[s]=[]),this.captureToUnbind[s].push(c)):(this.toUnbind[s]||(this.toUnbind[s]=[]),this.toUnbind[s].push(c));var l=this.getProperty("__$listeners",[]);l.push(c),this.setProperty("__$listeners",l),n&&i.isArray(n)&&n.push(c)}return this},e.prototype.off=function(e,t){var n=this;if(i.isArray(e))e.forEach(function(e){n.off(e)});else{var o=e;t?this.captureToUnbind[o]&&(this.captureToUnbind[o]=r.dispose(this.captureToUnbind[o])):this.toUnbind[o]&&(this.toUnbind[o]=r.dispose(this.toUnbind[o]))}return this},e.prototype.once=function(e,t,n,r){var o=this;if(i.isArray(e))e.forEach(function(e){o.once(e,t)});else{var s=e,c=a.addDisposableListener(this.currentElement,s,function(e){t(e,o,c),c.dispose()},r||!1);n&&i.isArray(n)&&n.push(c)}return this},e.prototype.preventDefault=function(e,t,n,i){return this.on(e,function(e){e.preventDefault(),t&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},n,i)},e.prototype.attr=function(e,t){if(i.isObject(e)){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];this.doSetAttr(n,r)}return this}return i.isString(e)&&!i.isString(t)?this.currentElement.getAttribute(e):(i.isString(e)&&(i.isString(t)||(t=String(t)),this.doSetAttr(e,t)),this)},e.prototype.doSetAttr=function(e,t){"class"===e&&(e="addClass"),this[e]?i.isArray(t)?this[e].apply(this,t):this[e].call(this,t):this.currentElement.setAttribute(e,t)},e.prototype.removeAttribute=function(e){this.currentElement.removeAttribute(e)},e.prototype.id=function(e){return this.currentElement.setAttribute("id",e),this},e.prototype.src=function(e){return this.currentElement.setAttribute("src",e),this},e.prototype.href=function(e){return this.currentElement.setAttribute("href",e),this},e.prototype.title=function(e){return this.currentElement.setAttribute("title",e),this},e.prototype.name=function(e){return this.currentElement.setAttribute("name",e),this},e.prototype.type=function(e){return this.currentElement.setAttribute("type",e),this},e.prototype.value=function(e){return this.currentElement.setAttribute("value",e),this},e.prototype.alt=function(e){return this.currentElement.setAttribute("alt",e),this},e.prototype.draggable=function(e){return this.currentElement.setAttribute("draggable",e?"true":"false"),this},e.prototype.tabindex=function(e){return this.currentElement.setAttribute("tabindex",e.toString()),this},e.prototype.style=function(e,t){if(i.isObject(e)){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];this.doSetStyle(n,r)}return this}var o=i.isString(e);return o&&i.isUndefined(t)?this.currentElement.style[this.cssKeyToJavaScriptProperty(e)]:(o&&this.doSetStyle(e,t),this)},e.prototype.doSetStyle=function(e,t){if(e.indexOf("-")>=0){var n=e.split("-");e=n[0];for(var i=1;i<n.length;i++){var r=n[i];e=e+r.charAt(0).toUpperCase()+r.substr(1)}}this.currentElement.style[this.cssKeyToJavaScriptProperty(e)]=t},e.prototype.cssKeyToJavaScriptProperty=function(e){if(e.indexOf("-")>=0){var t=e.split("-");e=t[0];for(var n=1;n<t.length;n++){var i=t[n];e=e+i.charAt(0).toUpperCase()+i.substr(1)}}else"float"===e&&(e="cssFloat");return e},e.prototype.getComputedStyle=function(){return a.getComputedStyle(this.currentElement)},e.prototype.addClass=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.forEach(function(t){t.split(" ").forEach(function(t){a.addClass(e.currentElement,t)})}),this},e.prototype.setClass=function(e,t){return void 0===t&&(t=null),null===t?this.currentElement.className=e:t?this.addClass(e):this.removeClass(e),this},e.prototype.hasClass=function(e){return a.hasClass(this.currentElement,e)},e.prototype.removeClass=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.forEach(function(t){t.split(" ").forEach(function(t){a.removeClass(e.currentElement,t)})}),this},e.prototype.swapClass=function(e,t){return this.hasClass(e)?(this.removeClass(e),this.addClass(t)):(this.removeClass(t),this.addClass(e)),this},e.prototype.toggleClass=function(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e),this},e.prototype.color=function(e){return this.currentElement.style.color=e,this},e.prototype.background=function(e){return this.currentElement.style.backgroundColor=e,this},e.prototype.padding=function(e,t,n,r){return i.isString(e)&&e.indexOf(" ")>=0?this.padding.apply(this,e.split(" ")):(i.isUndefinedOrNull(e)||(this.currentElement.style.paddingTop=this.toPixel(e)),i.isUndefinedOrNull(t)||(this.currentElement.style.paddingRight=this.toPixel(t)),i.isUndefinedOrNull(n)||(this.currentElement.style.paddingBottom=this.toPixel(n)),i.isUndefinedOrNull(r)||(this.currentElement.style.paddingLeft=this.toPixel(r)),this)},e.prototype.margin=function(e,t,n,r){return i.isString(e)&&e.indexOf(" ")>=0?this.margin.apply(this,e.split(" ")):(i.isUndefinedOrNull(e)||(this.currentElement.style.marginTop=this.toPixel(e)),i.isUndefinedOrNull(t)||(this.currentElement.style.marginRight=this.toPixel(t)),i.isUndefinedOrNull(n)||(this.currentElement.style.marginBottom=this.toPixel(n)),i.isUndefinedOrNull(r)||(this.currentElement.style.marginLeft=this.toPixel(r)),this)},e.prototype.position=function(e,t,n,r,o){return i.isString(e)&&e.indexOf(" ")>=0?this.position.apply(this,e.split(" ")):(i.isUndefinedOrNull(e)||(this.currentElement.style.top=this.toPixel(e)),i.isUndefinedOrNull(t)||(this.currentElement.style.right=this.toPixel(t)),i.isUndefinedOrNull(n)||(this.currentElement.style.bottom=this.toPixel(n)),i.isUndefinedOrNull(r)||(this.currentElement.style.left=this.toPixel(r)),o||(o="absolute"),this.currentElement.style.position=o,this)},e.prototype.size=function(e,t){return i.isString(e)&&e.indexOf(" ")>=0?this.size.apply(this,e.split(" ")):(i.isUndefinedOrNull(e)||(this.currentElement.style.width=this.toPixel(e)),i.isUndefinedOrNull(t)||(this.currentElement.style.height=this.toPixel(t)),this)},e.prototype.minSize=function(e,t){return i.isString(e)&&e.indexOf(" ")>=0?this.minSize.apply(this,e.split(" ")):(i.isUndefinedOrNull(e)||(this.currentElement.style.minWidth=this.toPixel(e)),i.isUndefinedOrNull(t)||(this.currentElement.style.minHeight=this.toPixel(t)),this)},e.prototype.maxSize=function(e,t){return i.isString(e)&&e.indexOf(" ")>=0?this.maxSize.apply(this,e.split(" ")):(i.isUndefinedOrNull(e)||(this.currentElement.style.maxWidth=this.toPixel(e)),i.isUndefinedOrNull(t)||(this.currentElement.style.maxHeight=this.toPixel(t)),this)},e.prototype.float=function(e){return this.currentElement.style.cssFloat=e,this},e.prototype.clear=function(e){return this.currentElement.style.clear=e,this},e.prototype.normal=function(){return this.currentElement.style.fontStyle="normal",this.currentElement.style.fontWeight="normal",this.currentElement.style.textDecoration="none",this},e.prototype.italic=function(){return this.currentElement.style.fontStyle="italic",this},e.prototype.bold=function(){return this.currentElement.style.fontWeight="bold",this},e.prototype.underline=function(){return this.currentElement.style.textDecoration="underline",this},e.prototype.overflow=function(e){return this.currentElement.style.overflow=e,this},e.prototype.display=function(e){return this.currentElement.style.display=e,this},e.prototype.disable=function(){return this.currentElement.setAttribute("disabled","disabled"),this},e.prototype.enable=function(){return this.currentElement.removeAttribute("disabled"),this},e.prototype.show=function(){return this.hasClass("builder-hidden")&&this.removeClass("builder-hidden"),this.attr("aria-hidden","false"),this.cancelVisibilityPromise(),this},e.prototype.showDelayed=function(e){var t=this;this.cancelVisibilityPromise();var i=n.TPromise.timeout(e);return this.setProperty("__$visibility",i),i.done(function(){t.removeProperty("__$visibility"),t.show()}),this},e.prototype.hide=function(){return this.hasClass("builder-hidden")||this.addClass("builder-hidden"),this.attr("aria-hidden","true"),this.cancelVisibilityPromise(),this},e.prototype.isHidden=function(){return this.hasClass("builder-hidden")||"none"===this.currentElement.style.display},e.prototype.toggleVisibility=function(){return this.cancelVisibilityPromise(),this.swapClass("builder-visible","builder-hidden"),this.isHidden()?this.attr("aria-hidden","true"):this.attr("aria-hidden","false"),this},e.prototype.cancelVisibilityPromise=function(){var e=this.getProperty("__$visibility");e&&(e.cancel(),this.removeProperty("__$visibility"))},e.prototype.border=function(e,t,n){return i.isString(e)&&e.indexOf(" ")>=0?this.border.apply(this,e.split(" ")):(this.currentElement.style.borderWidth=this.toPixel(e),n&&(this.currentElement.style.borderColor=n),t&&(this.currentElement.style.borderStyle=t),this)},e.prototype.borderTop=function(e,t,n){return i.isString(e)&&e.indexOf(" ")>=0?this.borderTop.apply(this,e.split(" ")):(this.currentElement.style.borderTopWidth=this.toPixel(e),n&&(this.currentElement.style.borderTopColor=n),t&&(this.currentElement.style.borderTopStyle=t),this)},e.prototype.borderBottom=function(e,t,n){return i.isString(e)&&e.indexOf(" ")>=0?this.borderBottom.apply(this,e.split(" ")):(this.currentElement.style.borderBottomWidth=this.toPixel(e),n&&(this.currentElement.style.borderBottomColor=n),t&&(this.currentElement.style.borderBottomStyle=t),this)},e.prototype.borderLeft=function(e,t,n){return i.isString(e)&&e.indexOf(" ")>=0?this.borderLeft.apply(this,e.split(" ")):(this.currentElement.style.borderLeftWidth=this.toPixel(e),n&&(this.currentElement.style.borderLeftColor=n),t&&(this.currentElement.style.borderLeftStyle=t),this)},e.prototype.borderRight=function(e,t,n){return i.isString(e)&&e.indexOf(" ")>=0?this.borderRight.apply(this,e.split(" ")):(this.currentElement.style.borderRightWidth=this.toPixel(e),n&&(this.currentElement.style.borderRightColor=n),t&&(this.currentElement.style.borderRightStyle=t),this)},e.prototype.textAlign=function(e){return this.currentElement.style.textAlign=e,this},e.prototype.verticalAlign=function(e){return this.currentElement.style.verticalAlign=e,this},e.prototype.toPixel=function(e){return-1===e.toString().indexOf("px")?e.toString()+"px":e},e.prototype.innerHtml=function(e,t){return t?this.currentElement.innerHTML+=e:this.currentElement.innerHTML=e,this},e.prototype.text=function(e,t){return t?0===this.currentElement.children.length?this.currentElement.textContent+=e:this.currentElement.appendChild(document.createTextNode(e)):this.currentElement.textContent=e,this},e.prototype.safeInnerHtml=function(e,t){return this.innerHtml(o.escape(e),t)},e.prototype.bind=function(e){return y(this.currentElement,e),this},e.prototype.unbind=function(){return b(this.currentElement),this},e.prototype.getBinding=function(){return S(this.currentElement)},e.prototype.setProperty=function(e,t){return g(this.currentElement,e,t),this},e.prototype.getProperty=function(e,t){return v(this.currentElement,e,t)},e.prototype.removeProperty=function(e){return u(this.currentElement)&&delete l(this.currentElement)[e],this},e.prototype.parent=function(e){return s.ok(!this.offdom,"Builder was created with offdom = true and thus has no parent set"),p(this.currentElement.parentNode,e)},e.prototype.children=function(e){for(var t=this.currentElement.children,n=[],i=0;i<t.length;i++)n.push(p(t.item(i),e));return new k(n)},e.prototype.child=function(e){return void 0===e&&(e=0),p(this.currentElement.children.item(e))},e.prototype.removeChild=function(e){return this.currentElement===e.parent().getHTMLElement()&&this.currentElement.removeChild(e.getHTMLElement()),this},e.prototype.select=function(e,t){s.ok(i.isString(e),"Expected String as parameter");for(var n=this.currentElement.querySelectorAll(e),r=[],o=0;o<n.length;o++)r.push(p(n.item(o),t));return new k(r)},e.prototype.matches=function(e){var t=this.currentElement,n=t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector;return n&&n.call(t,e)},e.prototype.isEmpty=function(){return!this.currentElement.childNodes||0===this.currentElement.childNodes.length},e.prototype.unbindDescendants=function(e){if(e&&e.children)for(var t=0,n=e.children.length;t<n;t++){var r=e.children.item(t);if(u(r)){var o=l(r).__$listeners;if(i.isArray(o))for(;o.length;)o.pop().dispose();delete r[_]}this.unbindDescendants(r)}},e.prototype.empty=function(){return this.unbindDescendants(this.currentElement),this.clearChildren(),this.offdom&&(this.createdElements=[]),this},e.prototype.clearChildren=function(){return this.currentElement&&a.clearNode(this.currentElement),this},e.prototype.destroy=function(){if(this.currentElement&&(this.currentElement.parentNode&&this.currentElement.parentNode.removeChild(this.currentElement),this.empty(),u(this.currentElement))){var e=l(this.currentElement).__$listeners;if(i.isArray(e))for(;e.length;)e.pop().dispose();delete this.currentElement[_]}var t;for(t in this.toUnbind)this.toUnbind.hasOwnProperty(t)&&i.isArray(this.toUnbind[t])&&(this.toUnbind[t]=r.dispose(this.toUnbind[t]));for(t in this.captureToUnbind)this.captureToUnbind.hasOwnProperty(t)&&i.isArray(this.captureToUnbind[t])&&(this.captureToUnbind[t]=r.dispose(this.captureToUnbind[t]));this.currentElement=null,this.container=null,this.offdom=null,this.createdElements=null,this.captureToUnbind=null,this.toUnbind=null},e.prototype.dispose=function(){this.destroy()},e.prototype.getTotalSize=function(){var e=a.getTotalWidth(this.currentElement),t=a.getTotalHeight(this.currentElement);return new I(e,t)},e.prototype.getContentSize=function(){var e=a.getContentWidth(this.currentElement),t=a.getContentHeight(this.currentElement);return new I(e,t)},e.prototype.getClientArea=function(){if(this.currentElement!==document.body)return new I(this.currentElement.clientWidth,this.currentElement.clientHeight);if(window.innerWidth&&window.innerHeight)return new I(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientWidth)return new I(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new I(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")},e}();t.Builder=T;var k=function(e){function t(n){var r=this;if(s.ok(i.isArray(n)||n instanceof t,"Expected Array or MultiBuilder as parameter"),r=e.call(this)||this,r.length=0,r.builders=[],i.isArray(n))for(o=0;o<n.length;o++)n[o]instanceof HTMLElement?r.push(p(n[o])):r.push(n[o]);else for(var o=0;o<n.length;o++)r.push(n.item(o));var a=r;for(var c in T.prototype)"clone"!==c&&"and"!==c&&T.prototype.hasOwnProperty(c)&&i.isFunction(T.prototype[c])&&function(e){a[e]=function(){for(var n,r=Array.prototype.slice.call(arguments),o=!1,s=0;s<a.length;s++){var c=a.item(s)[e].apply(a.item(s),r);if(c instanceof t){n||(n=[]),o=!0;for(var l=0;l<c.length;l++)n.push(c.item(l))}else i.isUndefined(c)||c instanceof T||(n||(n=[]),n.push(c))}return n&&o?new t(n):n||a}}(c);return r}return h(t,e),t.prototype.item=function(e){return this.builders[e]},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;n++)this.builders.push(e[n]);this.length=this.builders.length},t.prototype.pop=function(){var e=this.builders.pop();return this.length=this.builders.length,e},t.prototype.concat=function(e){var t=this.builders.concat(e);return this.length=this.builders.length,t},t.prototype.shift=function(){var e=this.builders.shift();return this.length=this.builders.length,e},t.prototype.unshift=function(e){var t=this.builders.unshift(e);return this.length=this.builders.length,t},t.prototype.slice=function(e,t){var n=this.builders.slice(e,t);return this.length=this.builders.length,n},t.prototype.splice=function(e,t){var n=this.builders.splice(e,t);return this.length=this.builders.length,n},t.prototype.clone=function(){return new t(this)},t.prototype.and=function(e){e instanceof T||e instanceof t||(e=new T(e));var n=[];if(e instanceof t)for(var i=0;i<e.length;i++)n.push(e.item(i));else n.push(e);return this.push.apply(this,n),this},t}(T);t.MultiBuilder=k,t.setPropertyOnElement=g,t.getPropertyFromElement=v,t.removePropertyFromElement=m,t.bindElement=y,t.unbindElement=b,t.getBindingFromElement=S,t.Binding={setPropertyOnElement:g,getPropertyFromElement:v,removePropertyFromElement:m,bindElement:y,unbindElement:b,getBindingFromElement:S};var x=/([\w\-]+)?(#([\w\-]+))?((.([\w\-]+))*)/;t.$=function(e){if(i.isUndefined(e))return f();if(!e)throw new Error("Bad use of $");if(a.isHTMLElement(e)||e===window)return p(e);if(i.isArray(e))return new k(e);if(e instanceof T)return d(e);if(i.isString(e)){if("<"===e[0]){var t=void 0,n=document.createElement("div");if(n.innerHTML=o.format.apply(o,arguments),0===n.children.length)throw new Error("Bad use of $");if(1===n.children.length)return t=n.firstChild,n.removeChild(t),p(t);for(var r=[];n.firstChild;)t=n.firstChild,n.removeChild(t),r.push(p(t));return new k(r)}if(1===arguments.length){var s=x.exec(e);if(!s)throw new Error("Bad use of $");var c=s[1]||"div",l=s[3]||void 0,u=(s[4]||"").replace(/\./g," "),h={};return l&&(h.id=l),u&&(h.class=u),f().element(c,h)}var g=f();return g.element.apply(g,arguments),g}throw new Error("Bad use of $")},t.$.Box=w,t.$.Dimension=I,t.$.Position=C,t.$.Builder=T,t.$.MultiBuilder=k,t.$.Build=t.Build,t.$.Binding=t.Binding}),define(u[200],d([1,0,40,16]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var i=this;n.$(e).on("dragover",function(){i.timeout||(i.timeout=setTimeout(function(){t(),i.timeout=null},800))}),n.$(e).on(["dragleave","drop","dragend"],function(){return i.clearDragTimeout()})}return e.prototype.clearDragTimeout=function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},e.prototype.dispose=function(){this.clearDragTimeout()},e}();t.DelayedDragHandler=r,t.extractResources=function(e,t){var n=[];if(e.dataTransfer.types.length>0){if(!t){var r=e.dataTransfer.getData(e.dataTransfer.types[0]);if(r)try{n.push({resource:i.default.parse(r),isExternal:!1})}catch(e){}}if(e.dataTransfer&&e.dataTransfer.files)for(var o=0;o<e.dataTransfer.files.length;o++)if(e.dataTransfer.files[o]&&e.dataTransfer.files[o].path)try{n.push({resource:i.default.file(e.dataTransfer.files[o].path),isExternal:!0})}catch(e){}}return n}}),define(u[1210],d([10]),{}),define(u[1206],d([10]),{}),define(u[1205],d([10]),{}),define(u[362],d([1,0,81,9,40,89,58,26,1205]),function(e,t,n,i,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c={buttonBackground:s.Color.fromHex("#0E639C"),buttonHoverBackground:s.Color.fromHex("#006BB3"),buttonForeground:s.Color.white},l=function(e){function t(t,n){var s=e.call(this)||this;return s.options=n||Object.create(null),a.mixin(s.options,c,!1),s.buttonBackground=s.options.buttonBackground,s.buttonHoverBackground=s.options.buttonHoverBackground,s.buttonForeground=s.options.buttonForeground,s.buttonBorder=s.options.buttonBorder,s.$el=r.$("a.monaco-button").attr({tabIndex:"0",role:"button"}).appendTo(t),s.$el.on(i.EventType.CLICK,function(e){s.enabled?s.emit(i.EventType.CLICK,e):i.EventHelper.stop(e)}),s.$el.on(i.EventType.KEY_DOWN,function(e){var t=new o.StandardKeyboardEvent(e),n=!1;s.enabled&&t.equals(3)||t.equals(10)?(s.emit(i.EventType.CLICK,e),n=!0):t.equals(9)&&(s.$el.domBlur(),n=!0),n&&i.EventHelper.stop(t,!0)}),s.$el.on(i.EventType.MOUSE_OVER,function(e){if(!s.$el.hasClass("disabled")){var t=s.buttonHoverBackground?s.buttonHoverBackground.toString():null;t&&s.$el.style("background-color",t)}}),s.$el.on(i.EventType.MOUSE_OUT,function(e){s.applyStyles()}),s.applyStyles(),s}return h(t,e),t.prototype.style=function(e){this.buttonForeground=e.buttonForeground,this.buttonBackground=e.buttonBackground,this.buttonHoverBackground=e.buttonHoverBackground,this.buttonBorder=e.buttonBorder,this.applyStyles()},t.prototype.applyStyles=function(){if(this.$el){var e=this.buttonBackground?this.buttonBackground.toString():null,t=this.buttonForeground?this.buttonForeground.toString():null,n=this.buttonBorder?this.buttonBorder.toString():null;this.$el.style("color",t),this.$el.style("background-color",e),this.$el.style("border-width",n?"1px":null),this.$el.style("border-style",n?"solid":null),this.$el.style("border-color",n)}},t.prototype.getElement=function(){return this.$el.getHTMLElement()},Object.defineProperty(t.prototype,"label",{set:function(e){this.$el.hasClass("monaco-text-button")||this.$el.addClass("monaco-text-button"),this.$el.text(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"icon",{set:function(e){this.$el.addClass(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return!this.$el.hasClass("disabled")},set:function(e){e?(this.$el.removeClass("disabled"),this.$el.attr({"aria-disabled":"false",tabIndex:"0"})):(this.$el.addClass("disabled"),this.$el.attr("aria-disabled",String(!0)),i.removeTabIndexAndUpdateFocus(this.$el.getHTMLElement()))},enumerable:!0,configurable:!0}),t.prototype.focus=function(){this.$el.domFocus()},t.prototype.dispose=function(){this.$el&&(this.$el.dispose(),this.$el=null),e.prototype.dispose.call(this)},t}(n.EventEmitter);t.Button=l}),define(u[1204],d([10]),{}),define(u[308],d([1,0,9,26,91,58,1204]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={inputActiveOptionBorder:o.Color.fromHex("#007ACC")},a=function(e){function t(t){var n=e.call(this)||this;return n._opts=i.clone(t),i.mixin(n._opts,s,!1),n._checked=n._opts.isChecked,n.domNode=document.createElement("div"),n.domNode.title=n._opts.title,n.domNode.className=n._className(),n.domNode.tabIndex=0,n.domNode.setAttribute("role","checkbox"),n.domNode.setAttribute("aria-checked",String(n._checked)),n.domNode.setAttribute("aria-label",n._opts.title),n.applyStyles(),n.onclick(n.domNode,function(e){n.checked=!n._checked,n._opts.onChange(!1),e.preventDefault()}),n.onkeydown(n.domNode,function(e){if(10===e.keyCode||3===e.keyCode)return n.checked=!n._checked,n._opts.onChange(!0),void e.preventDefault();n._opts.onKeyDown&&n._opts.onKeyDown(e)}),n}return h(t,e),t.prototype.focus=function(){this.domNode.focus()},Object.defineProperty(t.prototype,"checked",{get:function(){return this._checked},set:function(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.className=this._className(),this.applyStyles()},enumerable:!0,configurable:!0}),t.prototype._className=function(){return"custom-checkbox "+this._opts.actionClassName+" "+(this._checked?"checked":"unchecked")},t.prototype.width=function(){return 22},t.prototype.style=function(e){e.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=e.inputActiveOptionBorder),this.applyStyles()},t.prototype.applyStyles=function(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():null)},t.prototype.enable=function(){this.domNode.tabIndex=0,this.domNode.setAttribute("aria-disabled",String(!1))},t.prototype.disable=function(){n.removeTabIndexAndUpdateFocus(this.domNode),this.domNode.setAttribute("aria-disabled",String(!0))},t}(r.Widget);t.Checkbox=a}),define(u[1201],d([10]),{}),define(u[370],d([1,0,40,9,5,81,1201]),function(e,t,n,i,r,o){"use strict";function s(e,t,n,i,r){var o=function(e,t,n,i){return t?e:i?n:e},s=function(e,t,n,i,r){return r?o(e,t,n,i):o(n,i,e,t)};return{top:function(){var r=t.top-e.height,o=t.top+t.height,a=r>=n.top&&r+e.height<=n.top+n.height,l=o>=n.top&&o+e.height<=n.top+n.height;return s(r,a,o,l,i===c.ABOVE)}(),left:function(){var i=t.left,o=t.left+t.width-e.width,c=i>=n.left&&i+e.width<=n.left+n.width,l=o>=n.left&&o+e.width<=n.left+n.width;return s(i,c,o,l,r===a.LEFT)}()}}Object.defineProperty(t,"__esModule",{value:!0});var a;!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(a=t.AnchorAlignment||(t.AnchorAlignment={}));var c;!function(e){e[e.BELOW=0]="BELOW",e[e.ABOVE=1]="ABOVE"}(c=t.AnchorPosition||(t.AnchorPosition={}));var l=function(e){function t(t){var i=e.call(this)||this;return i.$view=n.$(".context-view").hide(),i.setContainer(t),i.toDispose=[{dispose:function(){i.setContainer(null)}}],i.toDisposeOnClean=null,i}return h(t,e),t.prototype.setContainer=function(e){var i=this;this.$container&&(this.$container.off(t.BUBBLE_UP_EVENTS),this.$container.off(t.BUBBLE_DOWN_EVENTS,!0),this.$container=null),e&&(this.$container=n.$(e),this.$view.appendTo(this.$container),this.$container.on(t.BUBBLE_UP_EVENTS,function(e){i.onDOMEvent(e,document.activeElement,!1)}),this.$container.on(t.BUBBLE_DOWN_EVENTS,function(e){i.onDOMEvent(e,document.activeElement,!0)},null,!0))},t.prototype.show=function(e){this.isVisible()&&this.hide(),this.$view.setClass("context-view").empty().style({top:"0px",left:"0px"}).show(),this.toDisposeOnClean=e.render(this.$view.getHTMLElement()),this.delegate=e,this.doLayout()},t.prototype.layout=function(){this.isVisible()&&(!1!==this.delegate.canRelayout?(this.delegate.layout&&this.delegate.layout(),this.doLayout()):this.hide())},t.prototype.doLayout=function(){var e,t=this.delegate.getAnchor();if(i.isHTMLElement(t)){var n=i.getDomNodePagePosition(t);e={top:n.top,left:n.left,width:n.width,height:n.height}}else{var r=t;e={top:r.y,left:r.x,width:r.width||0,height:r.height||0}}var o={top:i.StandardWindow.scrollY,left:i.StandardWindow.scrollX,height:window.innerHeight,width:window.innerWidth},l=this.$view.getTotalSize(),u={width:l.width,height:l.height},d=this.delegate.anchorPosition||c.BELOW,h=this.delegate.anchorAlignment||a.LEFT,p=s(u,e,o,d,h),f=i.getDomNodePagePosition(this.$container.getHTMLElement());p.top-=f.top,p.left-=f.left,this.$view.removeClass("top","bottom","left","right"),this.$view.addClass(d===c.BELOW?"bottom":"top"),this.$view.addClass(h===a.LEFT?"left":"right"),this.$view.style({top:p.top+"px",left:p.left+"px",width:"initial"})},t.prototype.hide=function(e){this.delegate&&this.delegate.onHide&&this.delegate.onHide(e),this.delegate=null,this.toDisposeOnClean&&(this.toDisposeOnClean.dispose(),this.toDisposeOnClean=null),this.$view.hide()},t.prototype.isVisible=function(){return!!this.delegate},t.prototype.onDOMEvent=function(e,t,n){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,document.activeElement):n&&!i.isAncestor(e.target,this.$container.getHTMLElement())&&this.hide())},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.hide(),this.toDispose=r.dispose(this.toDispose)},t}(o.EventEmitter);l.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],l.BUBBLE_DOWN_EVENTS=["click"],t.ContextView=l}),define(u[1199],d([10]),{}),define(u[201],d([1,0,9,12,58,26,1199]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={badgeBackground:r.Color.fromHex("#4D4D4D"),badgeForeground:r.Color.fromHex("#FFFFFF")},a=function(){function e(e,t){this.options=t||Object.create(null),o.mixin(this.options,s,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=n.append(e,n.$(".monaco-count-badge")),this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}return e.prototype.setCount=function(e){this.count=e,this.render()},e.prototype.setTitleFormat=function(e){this.titleFormat=e,this.render()},e.prototype.render=function(){this.element.textContent=""+this.count,this.element.title=i.format(this.titleFormat,this.count),this.applyStyles()},e.prototype.style=function(e){this.badgeBackground=e.badgeBackground,this.badgeForeground=e.badgeForeground,this.badgeBorder=e.badgeBorder,this.applyStyles()},e.prototype.applyStyles=function(){if(this.element){var e=this.badgeBackground?this.badgeBackground.toString():null,t=this.badgeForeground?this.badgeForeground.toString():null,n=this.badgeBorder?this.badgeBorder.toString():null;this.element.style.backgroundColor=e,this.element.style.color=t,this.element.style.borderWidth=n?"1px":null,this.element.style.borderStyle=n?"solid":null,this.element.style.borderColor=n}},e}();t.CountBadge=a}),define(u[1198],d([10]),{}),define(u[375],d([1,0,40,4,167,21,81,5,9,1198]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(t,i){var o=e.call(this)||this;o._toDispose=[],o.$el=n.$(".dropdown").appendTo(t),o.$label=n.$(".dropdown-label");var s=i.labelRenderer;s||(s=function(e){return n.$(e).text(i.label||""),null}),o.$label.on([c.EventType.CLICK,c.EventType.MOUSE_DOWN,r.EventType.Tap],function(e){c.EventHelper.stop(e,!0)}).on([c.EventType.MOUSE_DOWN,r.EventType.Tap],function(e){setTimeout(function(){return o.show()},100)}).appendTo(o.$el);var a=s(o.$label.getHTMLElement());return a&&o._toDispose.push(a),o._toDispose.push(new r.Gesture(o.$label.getHTMLElement())),o}return h(t,e),Object.defineProperty(t.prototype,"toDispose",{get:function(){return this._toDispose},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.$el},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this.$label},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltip",{set:function(e){this.$label.title(e)},enumerable:!0,configurable:!0}),t.prototype.show=function(){},t.prototype.hide=function(){},t.prototype.onEvent=function(e,t){this.hide()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.hide(),this._toDispose=a.dispose(this.toDispose),this.$boxContainer&&(this.$boxContainer.destroy(),this.$boxContainer=null),this.$contents&&(this.$contents.destroy(),this.$contents=null),this.$label&&(this.$label.destroy(),this.$label=null)},t}(o.ActionRunner);t.BaseDropdown=l;var u=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.contextViewProvider=n.contextViewProvider,i}return h(t,e),t.prototype.show=function(){var e=this;this.element.addClass("active"),this.contextViewProvider.showContextView({getAnchor:function(){return e.element.getHTMLElement()},render:function(t){return e.renderContents(t)},onDOMEvent:function(t,n){e.onEvent(t,n)},onHide:function(){e.element.removeClass("active")}})},t.prototype.hide=function(){this.contextViewProvider&&this.contextViewProvider.hideContextView()},t.prototype.renderContents=function(e){return null},t}(l);t.Dropdown=u;var d=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i._contextMenuProvider=n.contextMenuProvider,i.actions=n.actions||[],i.actionProvider=n.actionProvider,i.menuClassName=n.menuClassName||"",i}return h(t,e),Object.defineProperty(t.prototype,"menuOptions",{get:function(){return this._menuOptions},set:function(e){this._menuOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actions",{get:function(){return this.actionProvider?this.actionProvider.getActions():this._actions},set:function(e){this._actions=e},enumerable:!0,configurable:!0}),t.prototype.show=function(){var e=this;this.element.addClass("active"),this._contextMenuProvider.showContextMenu({getAnchor:function(){return e.element.getHTMLElement()},getActions:function(){return i.TPromise.as(e.actions)},getActionsContext:function(){return e.menuOptions?e.menuOptions.context:null},getActionItem:function(t){return e.menuOptions&&e.menuOptions.actionItemProvider?e.menuOptions.actionItemProvider(t):null},getKeyBinding:function(t){return e.menuOptions&&e.menuOptions.getKeyBinding?e.menuOptions.getKeyBinding(t):null},getMenuClassName:function(){return e.menuClassName},onHide:function(){return e.element.removeClass("active")}})},t.prototype.hide=function(){},t}(l);t.DropdownMenu=d;var p=function(e){function t(t){var n=e.call(this)||this;return n.el=document.createElement("div"),n.el.className="dropdown-group",t.appendChild(n.el),n}return h(t,e),Object.defineProperty(t.prototype,"element",{get:function(){return this.el},enumerable:!0,configurable:!0}),t}(s.EventEmitter);t.DropdownGroup=p}),define(u[1197],d([10]),{}),define(u[1196],d([10]),{}),define(u[1194],d([10]),{}),define(u[1193],d([10]),{}),define(u[1176],d([10]),{}),define(u[385],d([10]),{}),define(u[1175],d([10]),{}),define(u[1169],d([10]),{}),define(u[291],d([1,0,12,1175,1169]),function(e,t,n){"use strict";function i(e){return e.replace(/\$\(((.+?)(~(.*?))?)\)/g,function(e,t,n,i,r){return'<span class="octicon octicon-'+n+" "+(r?"octicon-animation-"+r:"")+'"></span>'})}Object.defineProperty(t,"__esModule",{value:!0}),t.expand=i;var r=function(){function e(e){this._container=e}return Object.defineProperty(e.prototype,"text",{set:function(e){var t=e||"";t=i(t=n.escape(t)),this._container.innerHTML=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{set:function(e){this._container.title=e},enumerable:!0,configurable:!0}),e}();t.OcticonLabel=r}),define(u[192],d([1,0,12,9,26,291]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e){this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",this.didEverRender=!1,e.appendChild(this.domNode)}return Object.defineProperty(e.prototype,"element",{get:function(){return this.domNode},enumerable:!0,configurable:!0}),e.prototype.set=function(e,t){void 0===t&&(t=[]),e||(e=""),this.didEverRender&&this.text===e&&r.equals(this.highlights,t)||(Array.isArray(t)||(t=[]),this.text=e,this.highlights=t,this.render())},e.prototype.render=function(){i.clearNode(this.domNode);for(var e,t=[],r=0,s=0;s<this.highlights.length;s++)(e=this.highlights[s]).end!==e.start&&(r<e.start&&(t.push("<span>"),t.push(o.expand(n.escape(this.text.substring(r,e.start)))),t.push("</span>"),r=e.end),t.push('<span class="highlight">'),t.push(o.expand(n.escape(this.text.substring(e.start,e.end)))),t.push("</span>"),r=e.end);r<this.text.length&&(t.push("<span>"),t.push(o.expand(n.escape(this.text.substring(r)))),t.push("</span>")),this.domNode.innerHTML=t.join(""),this.didEverRender=!0},e.prototype.dispose=function(){this.text=null,this.highlights=null},e}();t.HighlightedLabel=s}),define(u[293],d([1,0,9,192,28,82,1194]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){this.domNode=n.append(e,n.$(".monaco-icon-label")),t&&t.supportHighlights?this.labelNode=new i.HighlightedLabel(n.append(this.domNode,n.$("a.label-name"))):this.labelNode=n.append(this.domNode,n.$("a.label-name")),this.descriptionNode=n.append(this.domNode,n.$("span.label-description"))}return Object.defineProperty(e.prototype,"element",{get:function(){return this.domNode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"labelElement",{get:function(){var e=this.labelNode;return e instanceof i.HighlightedLabel?e.element:e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"descriptionElement",{get:function(){return this.descriptionNode},enumerable:!0,configurable:!0}),e.prototype.setValue=function(e,t,r){var o=this.labelNode;o instanceof i.HighlightedLabel?o.set(e||"",r?r.matches:void 0):o.textContent=e||"",this.descriptionNode.textContent=t||"",t?n.removeClass(this.descriptionNode,"empty"):n.addClass(this.descriptionNode,"empty"),this.domNode.title=r&&r.title?r.title:"";var s=["monaco-icon-label"];r&&(r.extraClasses&&s.push.apply(s,r.extraClasses),r.italic&&s.push("italic")),this.domNode.className=s.join(" ")},e.prototype.dispose=function(){var e=this.labelNode;e instanceof i.HighlightedLabel&&e.dispose()},e}();t.IconLabel=s;var a=function(e){function t(t,n,i,r){var o=e.call(this,t)||this;return o.setFile(n,i,r),o}return h(t,e),t.prototype.setFile=function(e,t,n){var i=r.dirname(e.fsPath);this.setValue(r.basename(e.fsPath),i&&"."!==i?o.getPathLabel(i,t,n):"",{title:e.fsPath})},t}(s);t.FileLabel=a}),define(u[1167],d([10]),{}),define(u[294],d([1,0,4,144,40,9,5,58,26,1167]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l={progressBarBackground:a.Color.fromHex("#0E70C0")},u=function(){function e(e,t){this.options=t||Object.create(null),c.mixin(this.options,l,!1),this.toUnbind=[],this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this.create(e)}return e.prototype.create=function(e){var t=this;e.div({class:"progress-container"},function(e){t.element=e.clone(),e.div({class:"progress-bit"}).on([o.EventType.ANIMATION_START,o.EventType.ANIMATION_END,o.EventType.ANIMATION_ITERATION],function(e){switch(e.type){case o.EventType.ANIMATION_START:case o.EventType.ANIMATION_END:t.animationRunning=e.type===o.EventType.ANIMATION_START;break;case o.EventType.ANIMATION_ITERATION:t.animationStopToken&&t.animationStopToken(null)}},t.toUnbind),t.bit=e.getHTMLElement()}),this.applyStyles()},e.prototype.off=function(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.removeClass("active"),this.element.removeClass("infinite"),this.element.removeClass("discrete"),this.workedVal=0,this.totalWork=void 0},e.prototype.done=function(){return this.doDone(!0)},e.prototype.stop=function(){return this.doDone(!1)},e.prototype.doDone=function(e){var t=this;return this.element.addClass("done"),this.element.hasClass("infinite")?(this.bit.style.opacity="0",e?n.TPromise.timeout(200).then(function(){return t.off()}):this.off()):(this.bit.style.width="inherit",e?n.TPromise.timeout(200).then(function(){return t.off()}):this.off()),this},e.prototype.infinite=function(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.removeClass("discrete"),this.element.removeClass("done"),this.element.addClass("active"),this.element.addClass("infinite"),this},e.prototype.total=function(e){return this.workedVal=0,this.totalWork=e,this},e.prototype.hasTotal=function(){return!isNaN(this.totalWork)},e.prototype.worked=function(e){return i.ok(!isNaN(this.totalWork),"Total work not set"),e=Number(e),i.ok(!isNaN(e),"Value is not a number"),e=Math.max(1,e),this.workedVal+=e,this.workedVal=Math.min(this.totalWork,this.workedVal),this.element.hasClass("infinite")&&this.element.removeClass("infinite"),this.element.hasClass("done")&&this.element.removeClass("done"),this.element.hasClass("active")||this.element.addClass("active"),this.element.hasClass("discrete")||this.element.addClass("discrete"),this.bit.style.width=this.workedVal/this.totalWork*100+"%",this},e.prototype.getContainer=function(){return r.$(this.element)},e.prototype.style=function(e){this.progressBarBackground=e.progressBarBackground,this.applyStyles()},e.prototype.applyStyles=function(){if(this.bit){var e=this.progressBarBackground?this.progressBarBackground.toString():null;this.bit.style.backgroundColor=e}},e.prototype.dispose=function(){this.toUnbind=s.dispose(this.toUnbind)},e}();t.ProgressBar=u}),define(u[1161],d([10]),{}),define(u[1158],d([10]),{}),define(u[151],d([1,0,5,40,66,11,24,9,167,81,86,8,1158]),function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p;!function(e){e[e.VERTICAL=0]="VERTICAL",e[e.HORIZONTAL=1]="HORIZONTAL"}(p=t.Orientation||(t.Orientation={}));var f=function(e){function t(t,n,s){void 0===s&&(s={});var l=e.call(this)||this;return l.$e=i.$(".monaco-sash").appendTo(t),o.isMacintosh&&l.$e.addClass("mac"),l.gesture=new c.Gesture(l.$e.getHTMLElement()),l.$e.on(a.EventType.MOUSE_DOWN,function(e){l.onMouseDown(e)}),l.$e.on(a.EventType.DBLCLICK,function(e){l.emit("reset",e)}),l.$e.on(c.EventType.Start,function(e){l.onTouchStart(e)}),l.size=s.baseSize||5,r.isIPad&&(l.size*=4,l.$e.addClass("touch")),l.setOrientation(s.orientation||p.VERTICAL),l.isDisabled=!1,l.hidden=!1,l.layoutProvider=n,l}return h(t,e),t.prototype.getHTMLElement=function(){return this.$e.getHTMLElement()},t.prototype.setOrientation=function(e){this.orientation=e,this.$e.removeClass("horizontal","vertical"),this.$e.addClass(this.getOrientation()),this.orientation===p.HORIZONTAL?this.$e.size(null,this.size):this.$e.size(this.size),this.layoutProvider&&this.layout()},t.prototype.getOrientation=function(){return this.orientation===p.HORIZONTAL?"horizontal":"vertical"},t.prototype.onMouseDown=function(e){var t=this;if(a.EventHelper.stop(e,!1),!this.isDisabled){var n=i.$(a.getElementsByTagName("iframe"));n&&n.style("pointer-events","none");var r=new u.StandardMouseEvent(e),s=r.posx,c=r.posy,l={startX:s,currentX:s,startY:c,currentY:c};this.$e.addClass("active"),this.emit("start",l);var d=i.$(window),h=this.getOrientation()+"-cursor-container"+(o.isMacintosh?"-mac":""),p=s,f=c;d.on("mousemove",function(e){a.EventHelper.stop(e,!1);var n=new u.StandardMouseEvent(e),i={startX:s,currentX:n.posx,startY:c,currentY:n.posy};p=n.posx,f=n.posy,t.emit("change",i)}).once("mouseup",function(e){a.EventHelper.stop(e,!1),t.$e.removeClass("active"),t.emit("end"),d.off("mousemove"),document.body.classList.remove(h);var n=i.$(a.getElementsByTagName("iframe"));n&&n.style("pointer-events","auto")}),document.body.classList.add(h)}},t.prototype.onTouchStart=function(e){var t=this;a.EventHelper.stop(e);var i=[],r=e.pageX,o=e.pageY;this.emit("start",{startX:r,currentX:r,startY:o,currentY:o});var l=r,u=o;i.push(a.addDisposableListener(this.$e.getHTMLElement(),c.EventType.Change,function(e){s.isNumber(e.pageX)&&s.isNumber(e.pageY)&&(t.emit("change",{startX:r,currentX:e.pageX,startY:o,currentY:e.pageY}),l=e.pageX,u=e.pageY)})),i.push(a.addDisposableListener(this.$e.getHTMLElement(),c.EventType.End,function(e){t.emit("end"),n.dispose(i)}))},t.prototype.layout=function(){var e;if(this.orientation===p.VERTICAL){var t=this.layoutProvider;e={left:t.getVerticalSashLeft(this)-this.size/2+"px"},t.getVerticalSashTop&&(e.top=t.getVerticalSashTop(this)+"px"),t.getVerticalSashHeight&&(e.height=t.getVerticalSashHeight(this)+"px")}else{var n=this.layoutProvider;e={top:n.getHorizontalSashTop(this)-this.size/2+"px"},n.getHorizontalSashLeft&&(e.left=n.getHorizontalSashLeft(this)+"px"),n.getHorizontalSashWidth&&(e.width=n.getHorizontalSashWidth(this)+"px")}this.$e.style(e)},t.prototype.show=function(){this.hidden=!1,this.$e.show()},t.prototype.hide=function(){this.hidden=!0,this.$e.hide()},t.prototype.isHidden=function(){return this.hidden},t.prototype.enable=function(){this.$e.removeClass("disabled"),this.isDisabled=!1},t.prototype.disable=function(){this.$e.addClass("disabled"),this.isDisabled=!0},t.prototype.dispose=function(){this.$e&&(this.$e.destroy(),this.$e=null),e.prototype.dispose.call(this)},t}(l.EventEmitter);t.Sash=f;var g=function(e){function t(t,n){var i=e.call(this)||this;return i.minWidth=n,i._onPositionChange=new d.Emitter,i.ratio=.5,i.sash=new f(t,i),i._register(i.sash.addListener("start",function(){return i.onSashDragStart()})),i._register(i.sash.addListener("change",function(e){return i.onSashDrag(e)})),i._register(i.sash.addListener("end",function(){return i.onSashDragEnd()})),i._register(i.sash.addListener("reset",function(){return i.onSashReset()})),i}return h(t,e),Object.defineProperty(t.prototype,"onPositionChange",{get:function(){return this._onPositionChange.event},enumerable:!0,configurable:!0}),t.prototype.getVerticalSashTop=function(){return 0},t.prototype.getVerticalSashLeft=function(){return this.position},t.prototype.getVerticalSashHeight=function(){return this.dimension.height},t.prototype.setDimenesion=function(e){this.dimension=e,this.compute(this.ratio)},t.prototype.onSashDragStart=function(){this.startPosition=this.position},t.prototype.onSashDrag=function(e){this.compute((this.startPosition+(e.currentX-e.startX))/this.dimension.width)},t.prototype.compute=function(e){this.computeSashPosition(e),this.ratio=this.position/this.dimension.width,this._onPositionChange.fire(this.position)},t.prototype.onSashDragEnd=function(){this.sash.layout()},t.prototype.onSashReset=function(){this.ratio=.5,this._onPositionChange.fire(this.position),this.sash.layout()},t.prototype.computeSashPosition=function(e){void 0===e&&(e=this.ratio);var t=this.dimension.width,n=Math.floor((e||.5)*t),i=Math.floor(.5*t);t>2*this.minWidth?(n<this.minWidth&&(n=this.minWidth),n>t-this.minWidth&&(n=t-this.minWidth)):n=i,this.position!==n&&(this.position=n,this.sash.layout())},t}(n.Disposable);t.VSash=g}),define(u[1155],d([10]),{}),define(u[127],d([1,0,9,11,86,1311,1309,5,113,91,18,75,8,1155]),function(e,t,n,i,r,o,s,a,c,l,u,d,p){"use strict";function f(e){var t={lazyRender:void 0!==e.lazyRender&&e.lazyRender,className:void 0!==e.className?e.className:"",useShadows:void 0===e.useShadows||e.useShadows,handleMouseWheel:void 0===e.handleMouseWheel||e.handleMouseWheel,flipAxes:void 0!==e.flipAxes&&e.flipAxes,alwaysConsumeMouseWheel:void 0!==e.alwaysConsumeMouseWheel&&e.alwaysConsumeMouseWheel,scrollYToX:void 0!==e.scrollYToX&&e.scrollYToX,mouseWheelScrollSensitivity:void 0!==e.mouseWheelScrollSensitivity?e.mouseWheelScrollSensitivity:1,arrowSize:void 0!==e.arrowSize?e.arrowSize:11,listenOnDomNode:void 0!==e.listenOnDomNode?e.listenOnDomNode:null,horizontal:void 0!==e.horizontal?e.horizontal:c.ScrollbarVisibility.Auto,horizontalScrollbarSize:void 0!==e.horizontalScrollbarSize?e.horizontalScrollbarSize:10,horizontalSliderSize:void 0!==e.horizontalSliderSize?e.horizontalSliderSize:0,horizontalHasArrows:void 0!==e.horizontalHasArrows&&e.horizontalHasArrows,vertical:void 0!==e.vertical?e.vertical:c.ScrollbarVisibility.Auto,verticalScrollbarSize:void 0!==e.verticalScrollbarSize?e.verticalScrollbarSize:10,verticalHasArrows:void 0!==e.verticalHasArrows&&e.verticalHasArrows,verticalSliderSize:void 0!==e.verticalSliderSize?e.verticalSliderSize:0};return t.horizontalSliderSize=void 0!==e.horizontalSliderSize?e.horizontalSliderSize:t.horizontalScrollbarSize,t.verticalSliderSize=void 0!==e.verticalSliderSize?e.verticalSliderSize:t.verticalScrollbarSize,i.isMacintosh&&(t.className+=" mac"),t}Object.defineProperty(t,"__esModule",{value:!0});var g=function(e){function t(t,n,i){var r=e.call(this)||this;r._onScroll=r._register(new p.Emitter),r.onScroll=r._onScroll.event,t.style.overflow="hidden",r._options=f(n),r._scrollable=void 0===i?r._register(new c.Scrollable):i,r._register(r._scrollable.onScroll(function(e){r._onDidScroll(e),r._onScroll.fire(e)}));var a={onMouseWheel:function(e){return r._onMouseWheel(e)},onDragStart:function(){return r._onDragStart()},onDragEnd:function(){return r._onDragEnd()}};return r._verticalScrollbar=r._register(new s.VerticalScrollbar(r._scrollable,r._options,a)),r._horizontalScrollbar=r._register(new o.HorizontalScrollbar(r._scrollable,r._options,a)),r._domNode=document.createElement("div"),r._domNode.className="monaco-scrollable-element "+r._options.className,r._domNode.setAttribute("role","presentation"),r._domNode.style.position="relative",r._domNode.style.overflow="hidden",r._domNode.appendChild(t),r._domNode.appendChild(r._horizontalScrollbar.domNode.domNode),r._domNode.appendChild(r._verticalScrollbar.domNode.domNode),r._options.useShadows&&(r._leftShadowDomNode=d.createFastDomNode(document.createElement("div")),r._leftShadowDomNode.setClassName("shadow"),r._domNode.appendChild(r._leftShadowDomNode.domNode),r._topShadowDomNode=d.createFastDomNode(document.createElement("div")),r._topShadowDomNode.setClassName("shadow"),r._domNode.appendChild(r._topShadowDomNode.domNode),r._topLeftShadowDomNode=d.createFastDomNode(document.createElement("div")),r._topLeftShadowDomNode.setClassName("shadow top-left-corner"),r._domNode.appendChild(r._topLeftShadowDomNode.domNode)),r._listenOnDomNode=r._options.listenOnDomNode||r._domNode,r._mouseWheelToDispose=[],r._setListeningToMouseWheel(r._options.handleMouseWheel),r.onmouseover(r._listenOnDomNode,function(e){return r._onMouseOver(e)}),r.onnonbubblingmouseout(r._listenOnDomNode,function(e){return r._onMouseOut(e)}),r._hideTimeout=r._register(new u.TimeoutTimer),r._isDragging=!1,r._mouseIsOver=!1,r._shouldRender=!0,r}return h(t,e),t.prototype.dispose=function(){this._mouseWheelToDispose=a.dispose(this._mouseWheelToDispose),e.prototype.dispose.call(this)},t.prototype.getDomNode=function(){return this._domNode},t.prototype.getOverviewRulerLayoutInfo=function(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}},t.prototype.delegateVerticalScrollbarMouseDown=function(e){this._verticalScrollbar.delegateMouseDown(e)},t.prototype.delegateSliderMouseDown=function(e,t){this._verticalScrollbar.delegateSliderMouseDown(e,t)},t.prototype.updateState=function(e){this._scrollable.updateState(e)},t.prototype.getScrollState=function(){return this._scrollable.getState()},t.prototype.updateClassName=function(e){this._options.className=e,i.isMacintosh&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className},t.prototype.updateOptions=function(e){var t=f(e);this._options.handleMouseWheel=t.handleMouseWheel,this._options.mouseWheelScrollSensitivity=t.mouseWheelScrollSensitivity,this._setListeningToMouseWheel(this._options.handleMouseWheel),this._options.lazyRender||this._render()},t.prototype._setListeningToMouseWheel=function(e){var t=this;if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=a.dispose(this._mouseWheelToDispose),e)){var i=function(e){var n=new r.StandardMouseWheelEvent(e);t._onMouseWheel(n)};this._mouseWheelToDispose.push(n.addDisposableListener(this._listenOnDomNode,"mousewheel",i)),this._mouseWheelToDispose.push(n.addDisposableListener(this._listenOnDomNode,"DOMMouseScroll",i))}},t.prototype._onMouseWheel=function(e){var t=-1,n=-1;if(e.deltaY||e.deltaX){var r=e.deltaY*this._options.mouseWheelScrollSensitivity,o=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.flipAxes&&(r=(u=[o,r])[0],o=u[1]);var s=!i.isMacintosh&&e.browserEvent.shiftKey;!this._options.scrollYToX&&!s||o||(o=r,r=0),i.isMacintosh&&(r&&Math.abs(o)<.2&&(o=0),Math.abs(r)>.5*Math.abs(o)&&(o=0));var a=this._scrollable.getState();if(r){var c=a.scrollTop;(t=this._verticalScrollbar.validateScrollPosition((-1!==t?t:c)-50*r))===c&&(t=-1)}if(o){var l=a.scrollLeft;(n=this._horizontalScrollbar.validateScrollPosition((-1!==n?n:l)-50*o))===l&&(n=-1)}-1===t&&-1===n||(-1!==t&&(this._shouldRender=this._verticalScrollbar.setDesiredScrollPosition(t)||this._shouldRender,t=-1),-1!==n&&(this._shouldRender=this._horizontalScrollbar.setDesiredScrollPosition(n)||this._shouldRender,n=-1))}(this._options.alwaysConsumeMouseWheel||this._shouldRender)&&(e.preventDefault(),e.stopPropagation());var u},t.prototype._onDidScroll=function(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._reveal(),this._options.lazyRender||this._render()},t.prototype.renderNow=function(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()},t.prototype._render=function(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){var e=this._scrollable.getState(),t=e.scrollTop>0,n=e.scrollLeft>0;this._leftShadowDomNode.setClassName("shadow"+(n?" left":"")),this._topShadowDomNode.setClassName("shadow"+(t?" top":"")),this._topLeftShadowDomNode.setClassName("shadow top-left-corner"+(t?" top":"")+(n?" left":""))}},t.prototype._onDragStart=function(){this._isDragging=!0,this._reveal()},t.prototype._onDragEnd=function(){this._isDragging=!1,this._hide()},t.prototype._onMouseOut=function(e){this._mouseIsOver=!1,this._hide()},t.prototype._onMouseOver=function(e){this._mouseIsOver=!0,this._reveal()},t.prototype._reveal=function(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()},t.prototype._hide=function(){this._mouseIsOver||this._isDragging||(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())},t.prototype._scheduleHide=function(){var e=this;this._mouseIsOver||this._isDragging||this._hideTimeout.cancelAndSet(function(){return e._hide()},500)},t}(l.Widget);t.ScrollableElement=g;var v=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i._element=t,i.onScroll(function(e){e.scrollTopChanged&&(i._element.scrollTop=e.scrollTop),e.scrollLeftChanged&&(i._element.scrollLeft=e.scrollLeft)}),i.scanDomNode(),i}return h(t,e),t.prototype.scanDomNode=function(){this.updateState({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,scrollLeft:this._element.scrollLeft,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight,scrollTop:this._element.scrollTop})},t}(g);t.DomScrollableElement=v}),define(u[1151],d([1,0,26,5,167,9,150,127,113,1302,1322,11,66]),function(e,t,n,i,r,o,s,a,c,l,u,d,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=["click","dblclick","mouseup","mousedown","mouseover","mousemove","mouseout","contextmenu","touchstart"],f={useShadows:!0},g=function(){function e(e,t,i,o){void 0===o&&(o=f),this.delegate=t,this.items=[],this.itemId=0,this.rangeMap=new l.RangeMap,this.renderers=n.toObject(i,function(e){return e.templateId}),this.cache=new u.RowCache(this.renderers),this.lastRenderTop=0,this.lastRenderHeight=0,this._domNode=document.createElement("div"),this._domNode.className="monaco-list",this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",this.gesture=new r.Gesture(this.rowsContainer),this.scrollableElement=new a.ScrollableElement(this.rowsContainer,{alwaysConsumeMouseWheel:!0,horizontal:c.ScrollbarVisibility.Hidden,vertical:c.ScrollbarVisibility.Auto,useShadows:n.getOrDefault(o,function(e){return e.useShadows},f.useShadows)}),this._domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this._domNode),this.disposables=[this.rangeMap,this.gesture,this.scrollableElement],this.scrollableElement.onScroll(this.onScroll,this,this.disposables),s.domEvent(this.rowsContainer,r.EventType.Change)(this.onTouchChange,this,this.disposables),this.layout()}return Object.defineProperty(e.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),e.prototype.splice=function(e,t,n){var i=this;void 0===n&&(n=[]);var r=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);l.each(r,function(e){return i.removeItemFromDOM(i.items[e])});var o=n.map(function(e){return{id:String(i.itemId++),element:e,size:i.delegate.getHeight(e),templateId:i.delegate.getTemplateId(e),row:null}});(u=this.rangeMap).splice.apply(u,[e,t].concat(o));var s=(d=this.items).splice.apply(d,[e,t].concat(o)),a=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);l.each(a,function(e){return i.insertItemInDOM(i.items[e],e)});var c=this.getContentHeight();return this.rowsContainer.style.height=c+"px",this.scrollableElement.updateState({scrollHeight:c}),s.map(function(e){return e.element});var u,d},Object.defineProperty(e.prototype,"length",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderHeight",{get:function(){return this.scrollableElement.getScrollState().height},enumerable:!0,configurable:!0}),e.prototype.element=function(e){return this.items[e].element},e.prototype.domElement=function(e){var t=this.items[e].row;return t&&t.domNode},e.prototype.elementHeight=function(e){return this.items[e].size},e.prototype.elementTop=function(e){return this.rangeMap.positionAt(e)},e.prototype.indexAt=function(e){return this.rangeMap.indexAt(e)},e.prototype.indexAfter=function(e){return this.rangeMap.indexAfter(e)},e.prototype.layout=function(e){this.scrollableElement.updateState({height:e||o.getContentHeight(this._domNode)})},e.prototype.render=function(e,t){var n=this,i=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),r=this.getRenderRange(e,t),o=l.relativeComplement(r,i),s=l.relativeComplement(i,r);if(o.forEach(function(e){return l.each(e,function(e){return n.insertItemInDOM(n.items[e],e)})}),s.forEach(function(e){return l.each(e,function(e){return n.removeItemFromDOM(n.items[e])})}),h.canUseTranslate3d()&&!d.isWindows){var a="translate3d(0px, -"+e+"px, 0px)";this.rowsContainer.style.transform=a,this.rowsContainer.style.webkitTransform=a}else this.rowsContainer.style.top="-"+e+"px";this.lastRenderTop=e,this.lastRenderHeight=t},e.prototype.insertItemInDOM=function(e,t){e.row||(e.row=this.cache.alloc(e.templateId)),e.row.domNode.parentElement||this.rowsContainer.appendChild(e.row.domNode);var n=this.renderers[e.templateId];e.row.domNode.style.top=this.elementTop(t)+"px",e.row.domNode.style.height=e.size+"px",e.row.domNode.setAttribute("data-index",""+t),n.renderElement(e.element,t,e.row.templateData)},e.prototype.removeItemFromDOM=function(e){this.cache.release(e.row),e.row=null},e.prototype.getContentHeight=function(){return this.rangeMap.size},e.prototype.getScrollTop=function(){return this.scrollableElement.getScrollState().scrollTop},e.prototype.setScrollTop=function(e){this.scrollableElement.updateState({scrollTop:e})},Object.defineProperty(e.prototype,"scrollTop",{get:function(){return this.getScrollTop()},set:function(e){this.setScrollTop(e)},enumerable:!0,configurable:!0}),e.prototype.addListener=function(e,t,n){var i=this,s=t,a=this.domNode;return p.indexOf(e)>-1?t=function(e){return i.fireScopedEvent(e,s,i.getItemIndexFromMouseEvent(e))}:e===r.EventType.Tap&&(a=this.rowsContainer,t=function(e){return i.fireScopedEvent(e,s,i.getItemIndexFromGestureEvent(e))}),o.addDisposableListener(a,e,t,n)},e.prototype.fireScopedEvent=function(e,t,i){if(!(i<0)){var r=this.items[i].element;t(n.assign(e,{element:r,index:i}))}},e.prototype.onScroll=function(e){this.render(e.scrollTop,e.height)},e.prototype.onTouchChange=function(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY},e.prototype.getItemIndexFromMouseEvent=function(e){return this.getItemIndexFromEventTarget(e.target)},e.prototype.getItemIndexFromGestureEvent=function(e){return this.getItemIndexFromEventTarget(e.initialTarget)},e.prototype.getItemIndexFromEventTarget=function(e){for(;e instanceof HTMLElement&&e!==this.rowsContainer;){var t=e,n=t.getAttribute("data-index");if(n){var i=Number(n);if(!isNaN(i))return i}e=t.parentElement}return-1},e.prototype.getRenderRange=function(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}},e.prototype.dispose=function(){this.items=null,this._domNode&&this._domNode.parentElement&&(this._domNode.parentNode.removeChild(this._domNode),this._domNode=null),this.disposables=i.dispose(this.disposables)},e}();t.ListView=g});var v=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};define(u[176],d([1,0,5,24,34,179,261,9,11,167,89,8,150,1151,58,26,385]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m){"use strict";function y(e){return c.isMacintosh?e.metaKey:e.ctrlKey}function b(e){return e.shiftKey}function S(e){return y(e)||b(e)}function _(e,t){var n=e.indexOf(t);if(-1===n)return[];for(var i=[],r=n-1;r>=0&&e[r]===t-(n-r);)i.push(e[r--]);for(i.reverse(),r=n;r<e.length&&e[r]===t+(r-n);)i.push(e[r++]);return i}function E(e,t){for(var n=[],i=0,r=0;i<e.length||r<t.length;)if(i>=e.length)n.push(t[r++]);else if(r>=t.length)n.push(e[i++]);else{if(e[i]===t[r]){n.push(e[i]),i++,r++;continue}e[i]<t[r]?n.push(e[i++]):n.push(t[r++])}return n}function C(e,t){for(var n=[],i=0,r=0;i<e.length||r<t.length;)if(i>=e.length)n.push(t[r++]);else if(r>=t.length)n.push(e[i++]);else{if(e[i]===t[r]){i++,r++;continue}e[i]<t[r]?n.push(e[i++]):r++}return n}Object.defineProperty(t,"__esModule",{value:!0});var w=function(){function e(e){this.spliceables=e}return e.prototype.splice=function(e,t,n){this.spliceables.forEach(function(i){return i.splice(e,t,n)})},e}(),I=function(){function e(e){this.trait=e,this.rendered=[]}return Object.defineProperty(e.prototype,"templateId",{get:function(){return"template:"+this.trait.trait},enumerable:!0,configurable:!0}),e.prototype.renderTemplate=function(e){return{container:e,elementDisposable:n.empty}},e.prototype.renderElement=function(e,t,i){var r=this;i.elementDisposable.dispose();var s={index:t,templateData:i};this.rendered.push(s),i.elementDisposable=n.toDisposable(o.once(function(){return r.rendered.splice(r.rendered.indexOf(s),1)})),this.trait.renderIndex(t,i.container)},e.prototype.renderIndexes=function(e){var t=this;this.rendered.filter(function(t){var n=t.index;return e.indexOf(n)>-1}).forEach(function(e){var n=e.index,i=e.templateData;return t.trait.renderIndex(n,i.container)})},e.prototype.splice=function(e,t){for(var n=0;n<t;n++){var i="key_"+(e+n),r=this.rendered[i];r&&r.elementDisposable.dispose()}},e.prototype.disposeTemplate=function(e){e.elementDisposable.dispose()},e}(),T=function(){function e(e){this._trait=e,this._onChange=new d.Emitter,this.indexes=[]}return Object.defineProperty(e.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trait",{get:function(){return this._trait},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderer",{get:function(){return new I(this)},enumerable:!0,configurable:!0}),e.prototype.splice=function(e,t,n){var i=n.length-t,r=e+t,o=this.indexes.filter(function(t){return t<e}).concat(n.reduce(function(t,n,i){return n?t.concat([i+e]):t},[]),this.indexes.filter(function(e){return e>=r}).map(function(e){return e+i}));this.renderer.splice(e,t),this.set(o)},e.prototype.renderIndex=function(e,t){a.toggleClass(t,this._trait,this.contains(e))},e.prototype.set=function(e){var t=this.indexes;this.indexes=e;var n=E(t,e);return this.renderer.renderIndexes(n),this._onChange.fire({indexes:e}),t},e.prototype.get=function(){return this.indexes},e.prototype.contains=function(e){return this.indexes.some(function(t){return t===e})},e.prototype.dispose=function(){this.indexes=null,this._onChange=n.dispose(this._onChange)},e}();v([s.memoize],T.prototype,"renderer",null);var k=function(e){function t(t){var n=e.call(this,"focused")||this;return n.getDomId=t,n}return h(t,e),t.prototype.renderIndex=function(t,n){e.prototype.renderIndex.call(this,t,n),n.setAttribute("role","treeitem"),n.setAttribute("id",this.getDomId(t))},t}(T),x=function(){function e(){this.length=0}return Object.defineProperty(e.prototype,"templateId",{get:function(){return"aria"},enumerable:!0,configurable:!0}),e.prototype.splice=function(e,t,n){this.length+=n.length-t},e.prototype.renderTemplate=function(e){return e},e.prototype.renderElement=function(e,t,n){n.setAttribute("aria-setsize",""+this.length),n.setAttribute("aria-posinset",""+(t+1))},e.prototype.disposeTemplate=function(e){},e}(),A=function(){function e(e,t,n){this.trait=e,this.view=t,this.getId=n}return e.prototype.splice=function(e,t,n){var i=this;if(!this.getId)return this.trait.splice(e,t,n.map(function(e){return!1}));var r=this.trait.get().map(function(e){return i.getId(i.view.element(e))}),o=n.map(function(e){return r.indexOf(i.getId(e))>-1});this.trait.splice(e,t,o)},e}(),L=function(){function e(e,t){this.list=e,this.view=t,this.disposables=[];var n=d.chain(p.domEvent(t.domNode,"keydown")).map(function(e){return new u.StandardKeyboardEvent(e)});n.filter(function(e){return 3===e.keyCode}).on(this.onEnter,this,this.disposables),n.filter(function(e){return 16===e.keyCode}).on(this.onUpArrow,this,this.disposables),n.filter(function(e){return 18===e.keyCode}).on(this.onDownArrow,this,this.disposables),n.filter(function(e){return 11===e.keyCode}).on(this.onPageUpArrow,this,this.disposables),n.filter(function(e){return 12===e.keyCode}).on(this.onPageDownArrow,this,this.disposables)}return e.prototype.onEnter=function(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus()),this.list.open(this.list.getFocus())},e.prototype.onUpArrow=function(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},e.prototype.onDownArrow=function(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},e.prototype.onPageUpArrow=function(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},e.prototype.onPageDownArrow=function(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},e.prototype.dispose=function(){this.disposables=n.dispose(this.disposables)},e}(),P=function(){function e(e,t,n){void 0===n&&(n={});var i=this;this.list=e,this.view=t,this.options=n,this.disposables=[],this.disposables.push(t.addListener("mousedown",function(e){return i.onMouseDown(e)})),this.disposables.push(t.addListener("click",function(e){return i.onPointer(e)})),this.disposables.push(t.addListener("dblclick",function(e){return i.onDoubleClick(e)})),this.disposables.push(t.addListener("touchstart",function(e){return i.onMouseDown(e)})),this.disposables.push(t.addListener(l.EventType.Tap,function(e){return i.onPointer(e)}))}return Object.defineProperty(e.prototype,"onContextMenu",{get:function(){var e=this,t=d.chain(p.domEvent(this.view.domNode,"keydown")).map(function(e){return new u.StandardKeyboardEvent(e)}).filter(function(t){return e.list.getFocus().length>0}).filter(function(e){return 58===e.keyCode||e.shiftKey&&68===e.keyCode}).map(function(t){var n=e.list.getFocus()[0];return{index:n,element:e.view.element(n),anchor:e.view.domElement(n)}}).filter(function(e){return!!e.anchor}).event,n=d.chain(d.fromCallback(function(t){return e.view.addListener("contextmenu",t)})).map(function(e){return{element:e.element,index:e.index,anchor:{x:e.clientX+1,y:e.clientY}}}).event;return d.any(t,n)},enumerable:!0,configurable:!0}),e.prototype.onMouseDown=function(e){e.preventDefault(),e.stopPropagation(),this.view.domNode.focus();var t=this.list.getFocus()[0];if(t=void 0===t?this.list.getSelection()[0]:t,b(e))return this.changeSelection(e,t);var n=e.index;if(this.list.setFocus([n]),S(e))return this.changeSelection(e,t);this.options.selectOnMouseDown&&(this.list.setSelection([n]),this.list.open([n]))},e.prototype.onPointer=function(e){if(e.preventDefault(),e.stopPropagation(),!S(e)){var t=this.list.getFocus();this.list.setSelection(t),this.list.open(t)}},e.prototype.onDoubleClick=function(e){if(e.preventDefault(),e.stopPropagation(),!S(e)){var t=this.list.getFocus();this.list.setSelection(t),this.list.pin(t)}},e.prototype.changeSelection=function(e,t){var n=e.index;if(b(e)&&void 0!==t){var i=Math.min(t,n),o=Math.max(t,n),s=r.range(o+1,i),a=_(E(c=this.list.getSelection(),[t]),t);if(0===a.length)return;l=E(s,C(c,a));this.list.setSelection(l)}else if(y(e)){var c=this.list.getSelection(),l=c.filter(function(e){return e!==n});c.length===l.length?this.list.setSelection(l.concat([n])):this.list.setSelection(l)}},e.prototype.dispose=function(){this.disposables=n.dispose(this.disposables)},e}();v([s.memoize],P.prototype,"onContextMenu",null);var D={listFocusBackground:g.Color.fromHex("#073655"),listActiveSelectionBackground:g.Color.fromHex("#0E639C"),listActiveSelectionForeground:g.Color.fromHex("#FFFFFF"),listFocusAndSelectionBackground:g.Color.fromHex("#094771"),listFocusAndSelectionForeground:g.Color.fromHex("#FFFFFF"),listInactiveSelectionBackground:g.Color.fromHex("#3F3F46"),listHoverBackground:g.Color.fromHex("#2A2D2E"),listDropBackground:g.Color.fromHex("#383B3D")},O={keyboardSupport:!0,mouseSupport:!0},R=function(e,t){return e-t},M=function(){function e(e,t){this._templateId=e,this.renderers=t}return Object.defineProperty(e.prototype,"templateId",{get:function(){return this._templateId},enumerable:!0,configurable:!0}),e.prototype.renderTemplate=function(e){return this.renderers.map(function(t){return t.renderTemplate(e)})},e.prototype.renderElement=function(e,t,n){this.renderers.forEach(function(i,r){return i.renderElement(e,t,n[r])})},e.prototype.disposeTemplate=function(e){this.renderers.forEach(function(t,n){return t.disposeTemplate(e[n])})},e}(),N=function(){function e(t,n,i,r){void 0===r&&(r=O);var o=this;this.idPrefix="list_id_"+ ++e.InstanceCount,this._onContextMenu=d.default.None,this._onOpen=new d.Emitter,this._onPin=new d.Emitter,this._onDOMFocus=new d.Emitter,this._onDOMBlur=new d.Emitter,this._onDispose=new d.Emitter;var s=new x;this.focus=new k(function(e){return o.getElementDomId(e)}),this.selection=new T("selected"),this.eventBufferer=new d.EventBufferer,m.mixin(r,D,!1),i=i.map(function(e){return new M(e.templateId,[s,o.focus.renderer,o.selection.renderer,e])}),this.view=new f.ListView(t,n,i,r),this.view.domNode.setAttribute("role","tree"),a.addClass(this.view.domNode,this.idPrefix),this.view.domNode.tabIndex=0,this.styleElement=a.createStyleSheet(this.view.domNode),this.spliceable=new w([s,new A(this.focus,this.view,r.identityProvider),new A(this.selection,this.view,r.identityProvider),this.view]),this.disposables=[this.focus,this.selection,this.view,this._onDispose];var c=a.trackFocus(this.view.domNode);if(this.disposables.push(c.addFocusListener(function(){return o._onDOMFocus.fire()})),this.disposables.push(c.addBlurListener(function(){return o._onDOMBlur.fire()})),"boolean"!=typeof r.keyboardSupport||r.keyboardSupport){l=new L(this,this.view);this.disposables.push(l)}if("boolean"!=typeof r.mouseSupport||r.mouseSupport){var l=new P(this,this.view,r);this.disposables.push(l),this._onContextMenu=l.onContextMenu}this.onFocusChange(this._onFocusChange,this,this.disposables),this.onSelectionChange(this._onSelectionChange,this,this.disposables),r.ariaLabel&&this.view.domNode.setAttribute("aria-label",r.ariaLabel),this.style(r)}return Object.defineProperty(e.prototype,"onFocusChange",{get:function(){var e=this;return d.mapEvent(this.eventBufferer.wrapEvent(this.focus.onChange),function(t){return e.toListEvent(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onSelectionChange",{get:function(){var e=this;return d.mapEvent(this.eventBufferer.wrapEvent(this.selection.onChange),function(t){return e.toListEvent(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onContextMenu",{get:function(){return this._onContextMenu},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onOpen",{get:function(){var e=this;return d.mapEvent(this._onOpen.event,function(t){return e.toListEvent({indexes:t})})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onPin",{get:function(){var e=this;return d.mapEvent(this._onPin.event,function(t){return e.toListEvent({indexes:t})})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDOMFocus",{get:function(){return this._onDOMFocus.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDOMBlur",{get:function(){return this._onDOMBlur.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!0,configurable:!0}),e.prototype.splice=function(e,t,n){var i=this;void 0===n&&(n=[]),this.eventBufferer.bufferEvents(function(){return i.spliceable.splice(e,t,n)})},Object.defineProperty(e.prototype,"length",{get:function(){return this.view.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentHeight",{get:function(){return this.view.getContentHeight()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollTop",{get:function(){return this.view.getScrollTop()},set:function(e){this.view.setScrollTop(e)},enumerable:!0,configurable:!0}),e.prototype.layout=function(e){this.view.layout(e)},e.prototype.setSelection=function(e){e=e.sort(R),this.selection.set(e)},e.prototype.selectNext=function(e,t){if(void 0===e&&(e=1),void 0===t&&(t=!1),0!==this.length){var n=this.selection.get(),i=n.length>0?n[0]+e:0;this.setSelection(t?[i%this.length]:[Math.min(i,this.length-1)])}},e.prototype.selectPrevious=function(e,t){if(void 0===e&&(e=1),void 0===t&&(t=!1),0!==this.length){var n=this.selection.get(),i=n.length>0?n[0]-e:0;t&&i<0&&(i=this.length+i%this.length),this.setSelection([Math.max(i,0)])}},e.prototype.getSelection=function(){return this.selection.get()},e.prototype.getSelectedElements=function(){var e=this;return this.getSelection().map(function(t){return e.view.element(t)})},e.prototype.setFocus=function(e){e=e.sort(R),this.focus.set(e)},e.prototype.focusNext=function(e,t){if(void 0===e&&(e=1),void 0===t&&(t=!1),0!==this.length){var n=this.focus.get(),i=n.length>0?n[0]+e:0;this.setFocus(t?[i%this.length]:[Math.min(i,this.length-1)])}},e.prototype.focusPrevious=function(e,t){if(void 0===e&&(e=1),void 0===t&&(t=!1),0!==this.length){var n=this.focus.get(),i=n.length>0?n[0]-e:0;t&&i<0&&(i=(this.length+i%this.length)%this.length),this.setFocus([Math.max(i,0)])}},e.prototype.focusNextPage=function(){var e=this,t=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);t=0===t?0:t-1;var n=this.view.element(t);if(this.getFocusedElements()[0]!==n)this.setFocus([t]);else{var i=this.view.getScrollTop();this.view.setScrollTop(i+this.view.renderHeight-this.view.elementHeight(t)),this.view.getScrollTop()!==i&&setTimeout(function(){return e.focusNextPage()},0)}},e.prototype.focusPreviousPage=function(){var e,t=this,n=this.view.getScrollTop();e=0===n?this.view.indexAt(n):this.view.indexAfter(n-1);var i=this.view.element(e);if(this.getFocusedElements()[0]!==i)this.setFocus([e]);else{var r=n;this.view.setScrollTop(n-this.view.renderHeight),this.view.getScrollTop()!==r&&setTimeout(function(){return t.focusPreviousPage()},0)}},e.prototype.focusLast=function(){0!==this.length&&this.setFocus([this.length-1])},e.prototype.focusFirst=function(){0!==this.length&&this.setFocus([0])},e.prototype.getFocus=function(){return this.focus.get()},e.prototype.getFocusedElements=function(){var e=this;return this.getFocus().map(function(t){return e.view.element(t)})},e.prototype.reveal=function(e,t){var n=this.view.getScrollTop(),r=this.view.elementTop(e),o=this.view.elementHeight(e);if(i.isNumber(t)){t=(t=t<0?0:t)>1?1:t;var s=o-this.view.renderHeight;this.view.setScrollTop(s*t+r)}else{var a=r+o,c=n+this.view.renderHeight;r<n?this.view.setScrollTop(r):a>=c&&this.view.setScrollTop(a-this.view.renderHeight)}},e.prototype.getElementDomId=function(e){return this.idPrefix+"_"+e},e.prototype.isDOMFocused=function(){return this.view.domNode===document.activeElement},e.prototype.getHTMLElement=function(){return this.view.domNode},e.prototype.open=function(e){this._onOpen.fire(e)},e.prototype.pin=function(e){this._onPin.fire(e)},e.prototype.style=function(e){var t=[];e.listFocusBackground&&t.push(".monaco-list."+this.idPrefix+":focus .monaco-list-row.focused { background-color: "+e.listFocusBackground+"; }"),e.listFocusForeground&&t.push(".monaco-list."+this.idPrefix+":focus .monaco-list-row.focused { color: "+e.listFocusForeground+"; }"),e.listActiveSelectionBackground&&(t.push(".monaco-list."+this.idPrefix+":focus .monaco-list-row.selected { background-color: "+e.listActiveSelectionBackground+"; }"),t.push(".monaco-list."+this.idPrefix+":focus .monaco-list-row.selected:hover { background-color: "+e.listActiveSelectionBackground+"; }")),e.listActiveSelectionForeground&&t.push(".monaco-list."+this.idPrefix+":focus .monaco-list-row.selected { color: "+e.listActiveSelectionForeground+"; }"),e.listFocusAndSelectionBackground&&t.push(".monaco-list."+this.idPrefix+":focus .monaco-list-row.selected.focused { background-color: "+e.listFocusAndSelectionBackground+"; }"),e.listFocusAndSelectionForeground&&t.push(".monaco-list."+this.idPrefix+":focus .monaco-list-row.selected.focused { color: "+e.listFocusAndSelectionForeground+"; }"),e.listInactiveFocusBackground&&(t.push(".monaco-list."+this.idPrefix+" .monaco-list-row.focused { background-color:  "+e.listInactiveFocusBackground+"; }"),t.push(".monaco-list."+this.idPrefix+" .monaco-list-row.focused:hover { background-color:  "+e.listInactiveFocusBackground+"; }")),e.listInactiveSelectionBackground&&(t.push(".monaco-list."+this.idPrefix+" .monaco-list-row.selected { background-color:  "+e.listInactiveSelectionBackground+"; }"),t.push(".monaco-list."+this.idPrefix+" .monaco-list-row.selected:hover { background-color:  "+e.listInactiveSelectionBackground+"; }")),e.listInactiveSelectionForeground&&t.push(".monaco-list."+this.idPrefix+" .monaco-list-row.selected { color: "+e.listInactiveSelectionForeground+"; }"),e.listHoverBackground&&t.push(".monaco-list."+this.idPrefix+" .monaco-list-row:hover { background-color:  "+e.listHoverBackground+"; }"),e.listHoverForeground&&t.push(".monaco-list."+this.idPrefix+" .monaco-list-row:hover { color:  "+e.listHoverForeground+"; }"),e.listSelectionOutline&&t.push(".monaco-list."+this.idPrefix+" .monaco-list-row.selected { outline: 1px dotted "+e.listSelectionOutline+"; outline-offset: -1px; }"),e.listFocusOutline&&t.push(".monaco-list."+this.idPrefix+":focus .monaco-list-row.focused { outline: 1px solid "+e.listFocusOutline+"; outline-offset: -1px; }"),e.listInactiveFocusOutline&&t.push(".monaco-list."+this.idPrefix+" .monaco-list-row.focused { outline: 1px dotted "+e.listInactiveFocusOutline+"; outline-offset: -1px; }"),e.listHoverOutline&&t.push(".monaco-list."+this.idPrefix+" .monaco-list-row:hover { outline: 1px dashed "+e.listHoverOutline+"; outline-offset: -1px; }"),this.styleElement.innerHTML=t.join("\n")},e.prototype.toListEvent=function(e){var t=this,n=e.indexes;return{indexes:n,elements:n.map(function(e){return t.view.element(e)})}},e.prototype._onFocusChange=function(){var e=this.focus.get();e.length>0?this.view.domNode.setAttribute("aria-activedescendant",this.getElementDomId(e[0])):this.view.domNode.removeAttribute("aria-activedescendant"),this.view.domNode.setAttribute("role","tree"),a.toggleClass(this.view.domNode,"element-focused",e.length>0)},e.prototype._onSelectionChange=function(){var e=this.selection.get();a.toggleClass(this.view.domNode,"selection-none",0===e.length),a.toggleClass(this.view.domNode,"selection-single",1===e.length),a.toggleClass(this.view.domNode,"selection-multiple",e.length>1)},e.prototype.dispose=function(){this._onDispose.fire(),this.disposables=n.dispose(this.disposables)},e}();N.InstanceCount=0,v([s.memoize],N.prototype,"onFocusChange",null),v([s.memoize],N.prototype,"onSelectionChange",null),v([s.memoize],N.prototype,"onOpen",null),v([s.memoize],N.prototype,"onPin",null),t.List=N}),define(u[1150],d([1,0,34,176,8,385]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){this.renderer=e,this.modelProvider=t}return Object.defineProperty(e.prototype,"templateId",{get:function(){return this.renderer.templateId},enumerable:!0,configurable:!0}),e.prototype.renderTemplate=function(e){return{data:this.renderer.renderTemplate(e),disposable:{dispose:function(){}}}},e.prototype.renderElement=function(e,t,n){var i=this;n.disposable.dispose();var r=this.modelProvider();if(r.isResolved(e))return this.renderer.renderElement(r.get(e),e,n.data);var o=r.resolve(e);n.disposable={dispose:function(){return o.cancel()}},this.renderer.renderPlaceholder(e,n.data),o.done(function(t){return i.renderer.renderElement(t,e,n.data)})},e.prototype.disposeTemplate=function(e){e.disposable.dispose(),e.disposable=null,this.renderer.disposeTemplate(e.data),e.data=null},e}(),s=function(){function e(e,t,n,r){void 0===r&&(r={});var s=this,a=n.map(function(e){return new o(e,function(){return s.model})});this.list=new i.List(e,t,a,r)}return Object.defineProperty(e.prototype,"widget",{get:function(){return this.list},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onFocusChange",{get:function(){var e=this;return r.mapEvent(this.list.onFocusChange,function(t){var n=t.elements,i=t.indexes;return{elements:n.map(function(t){return e._model.get(t)}),indexes:i}})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onSelectionChange",{get:function(){var e=this;return r.mapEvent(this.list.onSelectionChange,function(t){var n=t.elements,i=t.indexes;return{elements:n.map(function(t){return e._model.get(t)}),indexes:i}})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onPin",{get:function(){var e=this;return r.mapEvent(this.list.onPin,function(t){var n=t.elements,i=t.indexes;return{elements:n.map(function(t){return e._model.get(t)}),indexes:i}})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this._model},set:function(e){this._model=e,this.list.splice(0,this.list.length,n.range(e.length))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this.list.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollTop",{get:function(){return this.list.scrollTop},set:function(e){this.list.scrollTop=e},enumerable:!0,configurable:!0}),e.prototype.focusNext=function(e,t){this.list.focusNext(e,t)},e.prototype.focusPrevious=function(e,t){this.list.focusPrevious(e,t)},e.prototype.selectNext=function(e,t){this.list.selectNext(e,t)},e.prototype.selectPrevious=function(e,t){this.list.selectPrevious(e,t)},e.prototype.focusNextPage=function(){this.list.focusNextPage()},e.prototype.focusPreviousPage=function(){this.list.focusPreviousPage()},e.prototype.getFocus=function(){return this.list.getFocus()},e.prototype.setSelection=function(e){this.list.setSelection(e)},e.prototype.layout=function(e){this.list.layout(e)},e.prototype.reveal=function(e,t){this.list.reveal(e,t)},e}();t.PagedList=s}),define(u[1141],d([1,0,11,66,4,5,9,272,167,12,86,89,274,187,127,113,1219,265,8]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,v,m,y,b){"use strict";function S(e){try{e.parentElement.removeChild(e)}catch(e){}}function _(e,t){return!e&&!t||!(!e||!t)&&(e.accept===t.accept&&(e.bubble===t.bubble&&e.effect===t.effect))}Object.defineProperty(t,"__esModule",{value:!0});var E=function(){function e(e){this.context=e,this._cache={"":[]}}return e.prototype.alloc=function(e){var t=this.cache(e).pop();if(!t){var n=document.createElement("div");n.className="content";var i=document.createElement("div");i.appendChild(n),t={element:i,templateId:e,templateData:this.context.renderer.renderTemplate(this.context.tree,e,n)}}return t},e.prototype.release=function(e,t){S(t.element),this.cache(e).push(t)},e.prototype.cache=function(e){return this._cache[e]||(this._cache[e]=[])},e.prototype.garbageCollect=function(){var e=this;this._cache&&Object.keys(this._cache).forEach(function(t){e._cache[t].forEach(function(n){e.context.renderer.disposeTemplate(e.context.tree,t,n.templateData),n.element=null,n.templateData=null}),delete e._cache[t]})},e.prototype.dispose=function(){this.garbageCollect(),this._cache=null,this.context=null},e}();t.RowCache=E;var C=function(){function e(e,t){var n=this;this.context=e,this.model=t,this.id=this.model.id,this.row=null,this.top=0,this.height=t.getHeight(),this._styles={},t.getAllTraits().forEach(function(e){return n._styles[e]=!0}),t.isExpanded()&&this.addClass("expanded")}return Object.defineProperty(e.prototype,"expanded",{set:function(e){e?this.addClass("expanded"):this.removeClass("expanded")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loading",{set:function(e){e?this.addClass("loading"):this.removeClass("loading")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"draggable",{get:function(){return this._draggable},set:function(e){this._draggable=e,this.render(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropTarget",{set:function(e){e?this.addClass("drop-target"):this.removeClass("drop-target")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.row&&this.row.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"templateId",{get:function(){return this._templateId||(this._templateId=this.context.renderer.getTemplateId&&this.context.renderer.getTemplateId(this.context.tree,this.model.getElement()))},enumerable:!0,configurable:!0}),e.prototype.addClass=function(e){this._styles[e]=!0,this.render(!0)},e.prototype.removeClass=function(e){delete this._styles[e],this.render(!0)},e.prototype.render=function(e){var t=this;if(void 0===e&&(e=!1),this.model&&this.element){var n=["monaco-tree-row"];n.push.apply(n,Object.keys(this._styles)),this.model.hasChildren()&&n.push("has-children"),this.element.className=n.join(" "),this.element.draggable=this.draggable,this.element.style.height=this.height+"px",this.element.setAttribute("role","treeitem");var i=this.context.accessibilityProvider,r=i.getAriaLabel(this.context.tree,this.model.getElement());if(r&&this.element.setAttribute("aria-label",r),i.getPosInSet&&i.getSetSize&&(this.element.setAttribute("aria-setsize",i.getSetSize()),this.element.setAttribute("aria-posinset",i.getPosInSet(this.context.tree,this.model.getElement()))),this.model.hasTrait("focused")){var o=l.safeBtoa(this.model.id);this.element.setAttribute("aria-selected","true"),this.element.setAttribute("id",o)}else this.element.setAttribute("aria-selected","false"),this.element.removeAttribute("id");this.model.hasChildren()?this.element.setAttribute("aria-expanded",String(!!this.model.isExpanded())):this.element.removeAttribute("aria-expanded"),this.element.setAttribute("aria-level",String(this.model.getDepth())),this.context.options.paddingOnRow?this.element.style.paddingLeft=this.context.options.twistiePixels+(this.model.getDepth()-1)*this.context.options.indentPixels+"px":(this.element.style.paddingLeft=(this.model.getDepth()-1)*this.context.options.indentPixels+"px",this.row.element.firstElementChild.style.paddingLeft=this.context.options.twistiePixels+"px");var a=this.context.dnd.getDragURI(this.context.tree,this.model.getElement());a!==this.uri&&(this.unbindDragStart&&(this.unbindDragStart.dispose(),this.unbindDragStart=null),a?(this.uri=a,this.draggable=!0,this.unbindDragStart=s.addDisposableListener(this.element,"dragstart",function(e){t.onDragStart(e)})):this.uri=null),e||this.context.renderer.renderElement(this.context.tree,this.model.getElement(),this.templateId,this.row.templateData)}},e.prototype.insertInDOM=function(e,t){if(this.row||(this.row=this.context.cache.alloc(this.templateId),this.element[I.BINDING]=this),!this.element.parentElement){if(null===t)e.appendChild(this.element);else try{e.insertBefore(this.element,t)}catch(t){console.warn("Failed to locate previous tree element"),e.appendChild(this.element)}this.render()}},e.prototype.removeFromDOM=function(){this.row&&(this.unbindDragStart&&(this.unbindDragStart.dispose(),this.unbindDragStart=null),this.uri=null,this.element[I.BINDING]=null,this.context.cache.release(this.templateId,this.row),this.row=null)},e.prototype.dispose=function(){this.row=null,this.model=null},e}();t.ViewItem=C;var w=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.row={element:i,templateData:null,templateId:null},r}return h(t,e),t.prototype.render=function(){if(this.model&&this.element){var e=["monaco-tree-wrapper"];e.push.apply(e,Object.keys(this._styles)),this.model.hasChildren()&&e.push("has-children"),this.element.className=e.join(" ")}},t.prototype.insertInDOM=function(e,t){},t.prototype.removeFromDOM=function(){},t}(C),I=function(e){function t(n,r){var o=e.call(this)||this;o.lastClickTimeStamp=0,o.isRefreshing=!1,o.refreshingPreviousChildrenIds={},o._onDOMFocus=new b.Emitter,o._onDOMBlur=new b.Emitter,t.counter++,o.instance=t.counter,o.context={dataSource:n.dataSource,renderer:n.renderer,controller:n.controller,dnd:n.dnd,filter:n.filter,sorter:n.sorter,tree:n.tree,accessibilityProvider:n.accessibilityProvider,options:n.options,cache:new E(n)},o.modelListeners=[],o.viewListeners=[],o.dragAndDropListeners=[],o.model=null,o.items={},o.domNode=document.createElement("div"),o.domNode.className="monaco-tree no-focused-item monaco-tree-instance-"+o.instance,o.domNode.tabIndex=0,o.styleElement=s.createStyleSheet(o.domNode),o.domNode.setAttribute("role","tree"),o.context.options.ariaLabel&&o.domNode.setAttribute("aria-label",o.context.options.ariaLabel),o.context.options.alwaysFocused&&s.addClass(o.domNode,"focused"),o.context.options.paddingOnRow||s.addClass(o.domNode,"no-row-padding"),o.wrapper=document.createElement("div"),o.wrapper.className="monaco-tree-wrapper",o.scrollableElement=new g.ScrollableElement(o.wrapper,{alwaysConsumeMouseWheel:!0,horizontal:v.ScrollbarVisibility.Hidden,vertical:void 0!==n.options.verticalScrollMode?n.options.verticalScrollMode:v.ScrollbarVisibility.Auto,useShadows:n.options.useShadows}),o.scrollableElement.onScroll(function(e){o.render(e.scrollTop,e.height),o.emit("scroll",e)}),i.isIE?(o.wrapper.style.msTouchAction="none",o.wrapper.style.msContentZooming="none"):o.wrapperGesture=new c.Gesture(o.wrapper),o.rowsContainer=document.createElement("div"),o.rowsContainer.className="monaco-tree-rows",n.options.showTwistie&&(o.rowsContainer.className+=" show-twisties");var a=s.trackFocus(o.domNode);return a.addFocusListener(function(){return o.onFocus()}),a.addBlurListener(function(){return o.onBlur()}),o.viewListeners.push(a),o.viewListeners.push(s.addDisposableListener(o.domNode,"keydown",function(e){return o.onKeyDown(e)})),o.viewListeners.push(s.addDisposableListener(o.domNode,"keyup",function(e){return o.onKeyUp(e)})),o.viewListeners.push(s.addDisposableListener(o.domNode,"mousedown",function(e){return o.onMouseDown(e)})),o.viewListeners.push(s.addDisposableListener(o.domNode,"mouseup",function(e){return o.onMouseUp(e)})),o.viewListeners.push(s.addDisposableListener(o.wrapper,"click",function(e){return o.onClick(e)})),o.viewListeners.push(s.addDisposableListener(o.wrapper,"auxclick",function(e){return o.onClick(e)})),o.viewListeners.push(s.addDisposableListener(o.domNode,"contextmenu",function(e){return o.onContextMenu(e)})),o.viewListeners.push(s.addDisposableListener(o.wrapper,c.EventType.Tap,function(e){return o.onTap(e)})),o.viewListeners.push(s.addDisposableListener(o.wrapper,c.EventType.Change,function(e){return o.onTouchChange(e)})),i.isIE&&(o.viewListeners.push(s.addDisposableListener(o.wrapper,"MSPointerDown",function(e){return o.onMsPointerDown(e)})),o.viewListeners.push(s.addDisposableListener(o.wrapper,"MSGestureTap",function(e){return o.onMsGestureTap(e)})),o.viewListeners.push(s.addDisposableThrottledListener(o.wrapper,"MSGestureChange",function(e){return o.onThrottledMsGestureChange(e)},function(e,t){t.stopPropagation(),t.preventDefault();var n={translationY:t.translationY,translationX:t.translationX};return e&&(n.translationY+=e.translationY,n.translationX+=e.translationX),n}))),o.viewListeners.push(s.addDisposableListener(window,"dragover",function(e){return o.onDragOver(e)})),o.viewListeners.push(s.addDisposableListener(window,"drop",function(e){return o.onDrop(e)})),o.viewListeners.push(s.addDisposableListener(window,"dragend",function(e){return o.onDragEnd(e)})),o.viewListeners.push(s.addDisposableListener(window,"dragleave",function(e){return o.onDragOver(e)})),o.wrapper.appendChild(o.rowsContainer),o.domNode.appendChild(o.scrollableElement.getDomNode()),r.appendChild(o.domNode),o.lastRenderTop=0,o.lastRenderHeight=0,o.didJustPressContextMenuKey=!1,o.currentDropTarget=null,o.currentDropTargets=[],o.shouldInvalidateDropReaction=!1,o.dragAndDropScrollInterval=null,o.dragAndDropScrollTimeout=null,o.onHiddenScrollTop=null,o.onRowsChanged(),o.layout(),o.setupMSGesture(),o.applyStyles(n.options),o}return h(t,e),Object.defineProperty(t.prototype,"onDOMFocus",{get:function(){return this._onDOMFocus.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDOMBlur",{get:function(){return this._onDOMBlur.event},enumerable:!0,configurable:!0}),t.prototype.applyStyles=function(e){var t=[];e.listFocusBackground&&t.push(".monaco-tree.monaco-tree-instance-"+this.instance+".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) { background-color: "+e.listFocusBackground+"; }"),e.listFocusForeground&&t.push(".monaco-tree.monaco-tree-instance-"+this.instance+".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) { color: "+e.listFocusForeground+"; }"),e.listActiveSelectionBackground&&t.push(".monaco-tree.monaco-tree-instance-"+this.instance+".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: "+e.listActiveSelectionBackground+"; }"),e.listActiveSelectionForeground&&t.push(".monaco-tree.monaco-tree-instance-"+this.instance+".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: "+e.listActiveSelectionForeground+"; }"),e.listFocusAndSelectionBackground&&t.push("\n\t\t\t\t.monaco-tree-drag-image,\n\t\t\t\t.monaco-tree.monaco-tree-instance-"+this.instance+".focused .monaco-tree-rows > .monaco-tree-row.focused.selected:not(.highlighted) { background-color: "+e.listFocusAndSelectionBackground+"; }\n\t\t\t"),e.listFocusAndSelectionForeground&&t.push("\n\t\t\t\t.monaco-tree-drag-image,\n\t\t\t\t.monaco-tree.monaco-tree-instance-"+this.instance+".focused .monaco-tree-rows > .monaco-tree-row.focused.selected:not(.highlighted) { color: "+e.listFocusAndSelectionForeground+"; }\n\t\t\t"),e.listInactiveSelectionBackground&&t.push(".monaco-tree.monaco-tree-instance-"+this.instance+" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: "+e.listInactiveSelectionBackground+"; }"),e.listInactiveSelectionForeground&&t.push(".monaco-tree.monaco-tree-instance-"+this.instance+" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: "+e.listInactiveSelectionForeground+"; }"),e.listHoverBackground&&t.push(".monaco-tree.monaco-tree-instance-"+this.instance+" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused) { background-color: "+e.listHoverBackground+"; }"),e.listHoverForeground&&t.push(".monaco-tree.monaco-tree-instance-"+this.instance+" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused) { color: "+e.listHoverForeground+"; }"),e.listDropBackground&&t.push("\n\t\t\t\t.monaco-tree.monaco-tree-instance-"+this.instance+" .monaco-tree-wrapper.drop-target,\n\t\t\t\t.monaco-tree.monaco-tree-instance-"+this.instance+" .monaco-tree-rows > .monaco-tree-row.drop-target { background-color: "+e.listDropBackground+" !important; color: inherit !important; }\n\t\t\t"),e.listFocusOutline&&t.push("\n\t\t\t\t.monaco-tree-drag-image\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ border: 1px solid "+e.listFocusOutline+"; background: #000; }\n\t\t\t\t.monaco-tree.monaco-tree-instance-"+this.instance+" .monaco-tree-rows > .monaco-tree-row \t\t\t\t\t\t\t\t\t\t\t\t\t\t{ border: 1px solid transparent; }\n\t\t\t\t.monaco-tree.monaco-tree-instance-"+this.instance+".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) \t\t\t\t\t\t{ border: 1px dotted "+e.listFocusOutline+"; }\n\t\t\t\t.monaco-tree.monaco-tree-instance-"+this.instance+".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) \t\t\t\t\t\t{ border: 1px solid "+e.listFocusOutline+"; }\n\t\t\t\t.monaco-tree.monaco-tree-instance-"+this.instance+" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted)  \t\t\t\t\t\t\t{ border: 1px solid "+e.listFocusOutline+"; }\n\t\t\t\t.monaco-tree.monaco-tree-instance-"+this.instance+" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused)  \t{ border: 1px dashed "+e.listFocusOutline+"; }\n\t\t\t\t.monaco-tree.monaco-tree-instance-"+this.instance+" .monaco-tree-wrapper.drop-target,\n\t\t\t\t.monaco-tree.monaco-tree-instance-"+this.instance+" .monaco-tree-rows > .monaco-tree-row.drop-target\t\t\t\t\t\t\t\t\t\t\t\t{ border: 1px dashed "+e.listFocusOutline+"; }\n\t\t\t"),this.styleElement.innerHTML=t.join("\n")},t.prototype.createViewItem=function(e){return new C(this.context,e)},t.prototype.getHTMLElement=function(){return this.domNode},t.prototype.focus=function(){this.domNode.focus()},t.prototype.isFocused=function(){return document.activeElement===this.domNode},t.prototype.blur=function(){this.domNode.blur()},t.prototype.onVisible=function(){this.scrollTop=this.onHiddenScrollTop,this.onHiddenScrollTop=null,this.setupMSGesture()},t.prototype.setupMSGesture=function(){var e=this;window.MSGesture&&(this.msGesture=new MSGesture,setTimeout(function(){return e.msGesture.target=e.wrapper},100))},t.prototype.onHidden=function(){this.onHiddenScrollTop=this.scrollTop},t.prototype.isTreeVisible=function(){return null===this.onHiddenScrollTop},t.prototype.layout=function(e){this.isTreeVisible()&&(this.viewHeight=e||s.getContentHeight(this.wrapper))},t.prototype.render=function(e,t){var n,i,r=e,o=e+t,s=this.lastRenderTop+this.lastRenderHeight;for(n=this.indexAfter(o)-1,i=this.indexAt(Math.max(s,r));n>=i;n--)this.insertItemInDOM(this.itemAtIndex(n));for(n=Math.min(this.indexAt(this.lastRenderTop),this.indexAfter(o))-1,i=this.indexAt(r);n>=i;n--)this.insertItemInDOM(this.itemAtIndex(n));for(n=this.indexAt(this.lastRenderTop),i=Math.min(this.indexAt(r),this.indexAfter(s));n<i;n++)this.removeItemFromDOM(this.itemAtIndex(n));for(n=Math.max(this.indexAfter(o),this.indexAt(this.lastRenderTop)),i=this.indexAfter(s);n<i;n++)this.removeItemFromDOM(this.itemAtIndex(n));var a=this.itemAtIndex(this.indexAt(r));a&&(this.rowsContainer.style.top=a.top-r+"px"),this.lastRenderTop=r,this.lastRenderHeight=o-r},t.prototype.setModel=function(e){var t=this;this.releaseModel(),this.model=e,this.modelListeners.push(this.model.addBulkListener(function(e){return t.onModelEvents(e)}))},t.prototype.onModelEvents=function(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n],o=r.data;switch(r.type){case"refreshing":this.onRefreshing();break;case"refreshed":this.onRefreshed();break;case"clearingInput":this.onClearingInput(o);break;case"setInput":this.onSetInput(o);break;case"item:childrenRefreshing":this.onItemChildrenRefreshing(o);break;case"item:childrenRefreshed":this.onItemChildrenRefreshed(o);break;case"item:refresh":t.push(o.item);break;case"item:expanding":this.onItemExpanding(o);break;case"item:expanded":this.onItemExpanded(o);break;case"item:collapsing":this.onItemCollapsing(o);break;case"item:reveal":this.onItemReveal(o);break;case"item:addTrait":this.onItemAddTrait(o);break;case"item:removeTrait":this.onItemRemoveTrait(o);break;case"focus":this.onModelFocusChange()}}t.length>0&&this.onItemsRefresh(t)},t.prototype.onRefreshing=function(){this.isRefreshing=!0},t.prototype.onRefreshed=function(){this.isRefreshing=!1,this.onRowsChanged()},t.prototype.onRowsChanged=function(e){void 0===e&&(e=this.scrollTop),this.isRefreshing||(this.scrollTop=e)},t.prototype.focusNextPage=function(e){var t=this,n=this.indexAt(this.scrollTop+this.viewHeight);n=0===n?0:n-1;var i=this.itemAtIndex(n).model.getElement();if(this.model.getFocus()!==i)this.model.setFocus(i,e);else{var r=this.scrollTop;this.scrollTop+=this.viewHeight,this.scrollTop!==r&&setTimeout(function(){t.focusNextPage(e)},0)}},t.prototype.focusPreviousPage=function(e){var t,n=this;t=0===this.scrollTop?this.indexAt(this.scrollTop):this.indexAfter(this.scrollTop-1);var i=this.itemAtIndex(t).model.getElement();if(this.model.getFocus()!==i)this.model.setFocus(i,e);else{var r=this.scrollTop;this.scrollTop-=this.viewHeight,this.scrollTop!==r&&setTimeout(function(){n.focusPreviousPage(e)},0)}},Object.defineProperty(t.prototype,"viewHeight",{get:function(){return this.scrollableElement.getScrollState().height},set:function(e){this.scrollableElement.updateState({height:e,scrollHeight:this.getTotalHeight()})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollTop",{get:function(){return this.scrollableElement.getScrollState().scrollTop},set:function(e){this.scrollableElement.updateState({scrollTop:e,scrollHeight:this.getTotalHeight()})},enumerable:!0,configurable:!0}),t.prototype.getScrollPosition=function(){var e=this.getTotalHeight()-this.viewHeight;return e<=0?0:this.scrollTop/e},t.prototype.setScrollPosition=function(e){var t=this.getTotalHeight()-this.viewHeight;this.scrollTop=t*e},t.prototype.onClearingInput=function(e){var t=e.item;t&&(this.onRemoveItems(new f.MappedIterator(t.getNavigator(),function(e){return e&&e.id})),this.onRowsChanged())},t.prototype.onSetInput=function(e){this.context.cache.garbageCollect(),this.inputItem=new w(this.context,e.item,this.wrapper),this.emit("viewItem:create",{item:this.inputItem.model})},t.prototype.onItemChildrenRefreshing=function(e){var n=e.item,i=this.items[n.id];if(i&&(i.loadingTimer=setTimeout(function(){i.loadingTimer=0,i.loading=!0},t.LOADING_DECORATION_DELAY)),!e.isNested){for(var r,o=[],s=n.getNavigator();r=s.next();)o.push(r.id);this.refreshingPreviousChildrenIds[n.id]=o}},t.prototype.onItemChildrenRefreshed=function(e){var t=this,n=e.item,i=this.items[n.id];if(i&&(i.loadingTimer&&(clearTimeout(i.loadingTimer),i.loadingTimer=0),i.loading=!1),!e.isNested){for(var r,o=this.refreshingPreviousChildrenIds[n.id],s=[],c=n.getNavigator();r=c.next();)s.push(r);var l=Math.abs(o.length-s.length)>1e3,u=void 0,d=void 0;if(l||(d=(u=new a.LcsDiff({getLength:function(){return o.length},getElementHash:function(e){return o[e]}},{getLength:function(){return s.length},getElementHash:function(e){return s[e].id}},null).ComputeDiff()).some(function(e){if(e.modifiedLength>0)for(var n=e.modifiedStart,i=e.modifiedStart+e.modifiedLength;n<i;n++)if(t.items.hasOwnProperty(s[n].id))return!0;return!1})),!l&&!d&&u.length<50)for(var h=0,p=u.length;h<p;h++){var g=u[h];if(g.originalLength>0&&this.onRemoveItems(new f.ArrayIterator(o,g.originalStart,g.originalStart+g.originalLength)),g.modifiedLength>0){var v=s[g.modifiedStart-1]||n;v=v.getDepth()>0?v:null,this.onInsertItems(new f.ArrayIterator(s,g.modifiedStart,g.modifiedStart+g.modifiedLength),v?v.id:null)}}else(l||u.length)&&(this.onRemoveItems(new f.ArrayIterator(o)),this.onInsertItems(new f.ArrayIterator(s),n.getDepth()>0?n.id:null));(l||u.length)&&this.onRowsChanged()}},t.prototype.onItemsRefresh=function(e){var t=this;this.onRefreshItemSet(e.filter(function(e){return t.items.hasOwnProperty(e.id)})),this.onRowsChanged()},t.prototype.onItemExpanding=function(e){var t=this.items[e.item.id];t&&(t.expanded=!0)},t.prototype.onItemExpanded=function(e){var t=e.item,n=this.items[t.id];if(n){n.expanded=!0;var i=this.onInsertItems(t.getNavigator(),t.id),r=this.scrollTop;n.top+n.height<=this.scrollTop&&(r+=i),this.onRowsChanged(r)}},t.prototype.onItemCollapsing=function(e){var t=e.item,n=this.items[t.id];n&&(n.expanded=!1,this.onRemoveItems(new f.MappedIterator(t.getNavigator(),function(e){return e&&e.id})),this.onRowsChanged())},t.prototype.getRelativeTop=function(e){if(e&&e.isVisible()){var t=this.items[e.id];if(t)return(t.top-this.scrollTop)/(this.viewHeight-t.height)}return-1},t.prototype.onItemReveal=function(e){var t=e.item,n=e.relativeTop,i=this.items[t.id];if(i)if(null!==n){n=(n=n<0?0:n)>1?1:n;var r=i.height-this.viewHeight;this.scrollTop=r*n+i.top}else{var o=i.top+i.height,s=this.scrollTop+this.viewHeight;i.top<this.scrollTop?this.scrollTop=i.top:o>=s&&(this.scrollTop=o-this.viewHeight)}},t.prototype.onItemAddTrait=function(e){var t=e.item,n=e.trait,i=this.items[t.id];i&&i.addClass(n),"highlighted"===n&&(s.addClass(this.domNode,n),i&&(this.highlightedItemWasDraggable=!!i.draggable,i.draggable&&(i.draggable=!1)))},t.prototype.onItemRemoveTrait=function(e){var t=e.item,n=e.trait,i=this.items[t.id];i&&i.removeClass(n),"highlighted"===n&&(s.removeClass(this.domNode,n),this.highlightedItemWasDraggable&&(i.draggable=!0),this.highlightedItemWasDraggable=!1)},t.prototype.onModelFocusChange=function(){var e=this.model&&this.model.getFocus();s.toggleClass(this.domNode,"no-focused-item",!e),e?this.domNode.setAttribute("aria-activedescendant",l.safeBtoa(this.context.dataSource.getId(this.context.tree,e))):this.domNode.removeAttribute("aria-activedescendant")},t.prototype.onInsertItem=function(e){var t=this;e.onDragStart=function(n){t.onDragStart(e,n)},e.needsRender=!0,this.refreshViewItem(e),this.items[e.id]=e},t.prototype.onRefreshItem=function(e,t){void 0===t&&(t=!1),e.needsRender=e.needsRender||t,this.refreshViewItem(e)},t.prototype.onRemoveItem=function(e){this.removeItemFromDOM(e),e.dispose(),this.emit("viewItem:dispose",{item:this.inputItem.model}),delete this.items[e.id]},t.prototype.refreshViewItem=function(e){e.render(),this.shouldBeRendered(e)?this.insertItemInDOM(e):this.removeItemFromDOM(e)},t.prototype.onClick=function(e){if(!this.lastPointerType||"mouse"===this.lastPointerType){var t=new u.StandardMouseEvent(e),n=this.getItemAround(t.target);n&&(i.isIE&&Date.now()-this.lastClickTimeStamp<300&&(t.detail=2),this.lastClickTimeStamp=Date.now(),this.context.controller.onClick(this.context.tree,n.model.getElement(),t))}},t.prototype.onMouseDown=function(e){if(this.didJustPressContextMenuKey=!1,this.context.controller.onMouseDown&&(!this.lastPointerType||"mouse"===this.lastPointerType)){var t=new u.StandardMouseEvent(e);if(!(t.ctrlKey&&n.isNative&&n.isMacintosh)){var i=this.getItemAround(t.target);i&&this.context.controller.onMouseDown(this.context.tree,i.model.getElement(),t)}}},t.prototype.onMouseUp=function(e){if(this.context.controller.onMouseUp&&(!this.lastPointerType||"mouse"===this.lastPointerType)){var t=new u.StandardMouseEvent(e);if(!(t.ctrlKey&&n.isNative&&n.isMacintosh)){var i=this.getItemAround(t.target);i&&this.context.controller.onMouseUp(this.context.tree,i.model.getElement(),t)}}},t.prototype.onTap=function(e){var t=this.getItemAround(e.initialTarget);t&&this.context.controller.onTap(this.context.tree,t.model.getElement(),e)},t.prototype.onTouchChange=function(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY},t.prototype.onContextMenu=function(e){var t,n;if(e instanceof KeyboardEvent||this.didJustPressContextMenuKey){this.didJustPressContextMenuKey=!1;var i=new d.StandardKeyboardEvent(e);if(!(n=this.model.getFocus()))return;var r=this.context.dataSource.getId(this.context.tree,n),o=this.items[r],a=s.getDomNodePagePosition(o.element);t=new y.KeyboardContextMenuEvent(a.left+a.width,a.top,i)}else{var c=new u.StandardMouseEvent(e),l=this.getItemAround(c.target);if(!l)return;n=l.model.getElement(),t=new y.MouseContextMenuEvent(c)}this.context.controller.onContextMenu(this.context.tree,n,t)},t.prototype.onKeyDown=function(e){var t=new d.StandardKeyboardEvent(e);this.didJustPressContextMenuKey=58===t.keyCode||t.shiftKey&&68===t.keyCode,this.didJustPressContextMenuKey&&(t.preventDefault(),t.stopPropagation()),t.target&&t.target.tagName&&"input"===t.target.tagName.toLowerCase()||this.context.controller.onKeyDown(this.context.tree,t)},t.prototype.onKeyUp=function(e){this.didJustPressContextMenuKey&&this.onContextMenu(e),this.didJustPressContextMenuKey=!1,this.context.controller.onKeyUp(this.context.tree,new d.StandardKeyboardEvent(e))},t.prototype.onDragStart=function(e,n){if(!this.model.getHighlight()){var i,r=e.model.getElement(),o=this.model.getSelection();if(i=o.indexOf(r)>-1?o:[r],n.dataTransfer.effectAllowed="copyMove",n.dataTransfer.setData("URL",e.uri),n.dataTransfer.setDragImage){var s=void 0;s=this.context.dnd.getDragLabel?this.context.dnd.getDragLabel(this.context.tree,i):String(i.length);var a=document.createElement("div");a.className="monaco-tree-drag-image",a.textContent=s,document.body.appendChild(a),n.dataTransfer.setDragImage(a,-10,-10),setTimeout(function(){return document.body.removeChild(a)},0)}this.currentDragAndDropData=new p.ElementsDragAndDropData(i),t.currentExternalDragAndDropData=new p.ExternalElementsDragAndDropData(i),this.context.dnd.onDragStart(this.context.tree,this.currentDragAndDropData,new u.DragMouseEvent(n))}},t.prototype.setupDragAndDropScrollInterval=function(){var e=this,t=s.getTopLeftOffset(this.wrapper).top;this.dragAndDropScrollInterval||(this.dragAndDropScrollInterval=window.setInterval(function(){if(void 0!==e.dragAndDropMouseY){var n=e.dragAndDropMouseY-t,i=0,r=e.viewHeight-35;n<35?i=Math.max(-14,.2*(n-35)):n>r&&(i=Math.min(14,.2*(n-r))),e.scrollTop+=i}},10),this.cancelDragAndDropScrollTimeout(),this.dragAndDropScrollTimeout=window.setTimeout(function(){e.cancelDragAndDropScrollInterval(),e.dragAndDropScrollTimeout=null},1e3))},t.prototype.cancelDragAndDropScrollInterval=function(){this.dragAndDropScrollInterval&&(window.clearInterval(this.dragAndDropScrollInterval),this.dragAndDropScrollInterval=null),this.cancelDragAndDropScrollTimeout()},t.prototype.cancelDragAndDropScrollTimeout=function(){this.dragAndDropScrollTimeout&&(window.clearTimeout(this.dragAndDropScrollTimeout),this.dragAndDropScrollTimeout=null)},t.prototype.onDragOver=function(e){var n=this,i=new u.DragMouseEvent(e),o=this.getItemAround(i.target);if(!o||0===i.posx&&0===i.posy&&i.browserEvent.type===s.EventType.DRAG_LEAVE)return this.currentDropTarget&&(this.currentDropTargets.forEach(function(e){return e.dropTarget=!1}),this.currentDropTargets=[],this.currentDropPromise&&(this.currentDropPromise.cancel(),this.currentDropPromise=null)),this.cancelDragAndDropScrollInterval(),this.currentDropTarget=null,this.currentDropElement=null,this.dragAndDropMouseY=null,!1;if(this.setupDragAndDropScrollInterval(),this.dragAndDropMouseY=i.posy,!this.currentDragAndDropData)if(t.currentExternalDragAndDropData)this.currentDragAndDropData=t.currentExternalDragAndDropData;else{if(!i.dataTransfer.types)return!1;this.currentDragAndDropData=new p.DesktopDragAndDropData}this.currentDragAndDropData.update(i);var a,c,l=o.model;do{if(a=l?l.getElement():this.model.getInput(),!(c=this.context.dnd.onDragOver(this.context.tree,this.currentDragAndDropData,a,i))||c.bubble!==y.DragOverBubble.BUBBLE_UP)break;l=l&&l.parent}while(l);if(!l)return this.currentDropElement=null,!1;var d=c&&c.accept;d?(this.currentDropElement=l.getElement(),i.preventDefault(),i.dataTransfer.dropEffect=c.effect===y.DragOverEffect.COPY?"copy":"move"):this.currentDropElement=null;var h=l.id===this.inputItem.id?this.inputItem:this.items[l.id];if((this.shouldInvalidateDropReaction||this.currentDropTarget!==h||!_(this.currentDropElementReaction,c))&&(this.shouldInvalidateDropReaction=!1,this.currentDropTarget&&(this.currentDropTargets.forEach(function(e){return e.dropTarget=!1}),this.currentDropTargets=[],this.currentDropPromise&&(this.currentDropPromise.cancel(),this.currentDropPromise=null)),this.currentDropTarget=h,this.currentDropElementReaction=c,d)){if(this.currentDropTarget&&(this.currentDropTarget.dropTarget=!0,this.currentDropTargets.push(this.currentDropTarget)),c.bubble===y.DragOverBubble.BUBBLE_DOWN)for(var f,g=l.getNavigator();f=g.next();)(o=this.items[f.id])&&(o.dropTarget=!0,this.currentDropTargets.push(o));c.autoExpand&&(this.currentDropPromise=r.TPromise.timeout(500).then(function(){return n.context.tree.expand(n.currentDropElement)}).then(function(){return n.shouldInvalidateDropReaction=!0}))}return!0},t.prototype.onDrop=function(e){if(this.currentDropElement){var t=new u.DragMouseEvent(e);t.preventDefault(),this.currentDragAndDropData.update(t),this.context.dnd.drop(this.context.tree,this.currentDragAndDropData,this.currentDropElement,t),this.onDragEnd(e)}this.cancelDragAndDropScrollInterval()},t.prototype.onDragEnd=function(e){this.currentDropTarget&&(this.currentDropTargets.forEach(function(e){return e.dropTarget=!1}),this.currentDropTargets=[]),this.currentDropPromise&&(this.currentDropPromise.cancel(),this.currentDropPromise=null),this.cancelDragAndDropScrollInterval(),this.currentDragAndDropData=null,t.currentExternalDragAndDropData=null,this.currentDropElement=null,this.currentDropTarget=null,this.dragAndDropMouseY=null},t.prototype.onFocus=function(){this.context.options.alwaysFocused||s.addClass(this.domNode,"focused"),this._onDOMFocus.fire()},t.prototype.onBlur=function(){this.context.options.alwaysFocused||s.removeClass(this.domNode,"focused"),this.domNode.removeAttribute("aria-activedescendant"),this._onDOMBlur.fire()},t.prototype.onMsPointerDown=function(e){if(this.msGesture){var t=e.pointerType;t!==(e.MSPOINTER_TYPE_MOUSE||"mouse")?t===(e.MSPOINTER_TYPE_TOUCH||"touch")&&(this.lastPointerType="touch",e.stopPropagation(),e.preventDefault(),this.msGesture.addPointer(e.pointerId)):this.lastPointerType="mouse"}},t.prototype.onThrottledMsGestureChange=function(e){this.scrollTop-=e.translationY},t.prototype.onMsGestureTap=function(e){e.initialTarget=document.elementFromPoint(e.clientX,e.clientY),this.onTap(e)},t.prototype.insertItemInDOM=function(e){var t=null,n=this.itemAfter(e);n&&n.element&&(t=n.element),e.insertInDOM(this.rowsContainer,t)},t.prototype.removeItemFromDOM=function(e){e&&e.removeFromDOM()},t.prototype.shouldBeRendered=function(e){return e.top<this.lastRenderTop+this.lastRenderHeight&&e.top+e.height>this.lastRenderTop},t.prototype.getItemAround=function(e){var n=this.inputItem;do{if(e[t.BINDING]&&(n=e[t.BINDING]),e===this.wrapper||e===this.domNode)return n;if(e===document.body)return null}while(e=e.parentElement)},t.prototype.releaseModel=function(){this.model&&(this.modelListeners=o.dispose(this.modelListeners),this.model=null)},t.prototype.dispose=function(){this.scrollableElement.dispose(),this.releaseModel(),this.modelListeners=null,this.viewListeners=o.dispose(this.viewListeners),this._onDOMFocus.dispose(),this._onDOMBlur.dispose(),this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.domNode=null,this.wrapperGesture&&(this.wrapperGesture.dispose(),this.wrapperGesture=null),this.context.cache&&(this.context.cache.dispose(),this.context.cache=null),e.prototype.dispose.call(this)},t}(m.HeightMap);I.BINDING="monaco-tree-row",I.LOADING_DECORATION_DELAY=800,I.counter=0,I.currentExternalDragAndDropData=null,t.TreeView=I}),define(u[1139],d([10]),{}),define(u[315],d([1,0,5,8,91,9,34,58,26,1139]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l={selectBackground:a.Color.fromHex("#3C3C3C"),selectForeground:a.Color.fromHex("#F0F0F0"),selectBorder:a.Color.fromHex("#3C3C3C")},u=function(e){function t(t,n,r){void 0===r&&(r=c.clone(l));var s=e.call(this)||this;return s.selectElement=document.createElement("select"),s.selectElement.className="select-box",s.setOptions(t,n),s.toDispose=[],s._onDidSelect=new i.Emitter,s.selectBackground=r.selectBackground,s.selectForeground=r.selectForeground,s.selectBorder=r.selectBorder,s.toDispose.push(o.addStandardDisposableListener(s.selectElement,"change",function(e){s.selectElement.title=e.target.value,s._onDidSelect.fire(e.target.value)})),s}return h(t,e),Object.defineProperty(t.prototype,"onDidSelect",{get:function(){return this._onDidSelect.event},enumerable:!0,configurable:!0}),t.prototype.setOptions=function(e,t,n){var i=this;if(!this.options||!s.equals(this.options,e)){this.options=e,this.selectElement.options.length=0;var r=0;this.options.forEach(function(e){i.selectElement.add(i.createOption(e,n===r++))})}this.select(t)},t.prototype.select=function(e){e>=0&&e<this.options.length?this.selected=e:this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selectElement.title=this.options[this.selected]},t.prototype.focus=function(){this.selectElement&&this.selectElement.focus()},t.prototype.blur=function(){this.selectElement&&this.selectElement.blur()},t.prototype.render=function(e){this.container=e,o.addClass(e,"select-container"),e.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()},t.prototype.style=function(e){this.selectBackground=e.selectBackground,this.selectForeground=e.selectForeground,this.selectBorder=e.selectBorder,this.applyStyles()},t.prototype.applyStyles=function(){if(this.selectElement){var e=this.selectBackground?this.selectBackground.toString():null,t=this.selectForeground?this.selectForeground.toString():null,n=this.selectBorder?this.selectBorder.toString():null;this.selectElement.style.backgroundColor=e,this.selectElement.style.color=t,this.selectElement.style.borderColor=n}},t.prototype.createOption=function(e,t){var n=document.createElement("option");return n.value=e,n.text=e,n.disabled=t,n},t.prototype.dispose=function(){this.toDispose=n.dispose(this.toDispose),e.prototype.dispose.call(this)},t}(r.Widget);t.SelectBox=u}),define(u[1130],d([10]),{}),define(u[174],d([1,0,5,81,24,9,1331,151,89,8,58,1130]),function(e,t,n,i,r,o,s,a,c,l,u){"use strict";function d(e){return e.reduce(function(e,t){return e+t})}Object.defineProperty(t,"__esModule",{value:!0});var p;!function(e){e[e.VERTICAL=0]="VERTICAL",e[e.HORIZONTAL=1]="HORIZONTAL"}(p=t.Orientation||(t.Orientation={}));var f;!function(e){e[e.Flexible=0]="Flexible",e[e.Fixed=1]="Fixed"}(f=t.ViewSizing||(t.ViewSizing={}));var g=function(e){function t(t){var n=e.call(this)||this;return n.size=0,n._sizing=r.isUndefined(t.sizing)?f.Flexible:t.sizing,n._fixedSize=r.isUndefined(t.fixedSize)?22:t.fixedSize,n._minimumSize=r.isUndefined(t.minimumSize)?22:t.minimumSize,n}return h(t,e),Object.defineProperty(t.prototype,"sizing",{get:function(){return this._sizing},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fixedSize",{get:function(){return this._fixedSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minimumSize",{get:function(){return this.sizing===f.Fixed?this.fixedSize:this._minimumSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximumSize",{get:function(){return this.sizing===f.Fixed?this.fixedSize:Number.POSITIVE_INFINITY},enumerable:!0,configurable:!0}),t.prototype.setFlexible=function(e){this._sizing=f.Flexible,this.emit("change",r.isUndefined(e)?this._minimumSize:e)},t.prototype.setFixed=function(e){this._sizing=f.Fixed,this._fixedSize=r.isUndefined(e)?this._fixedSize:e,this.emit("change",this._fixedSize)},t}(i.EventEmitter);t.View=g;var v={headerBackground:u.Color.fromHex("#808080").transparent(.2)},m=function(e){function t(t){var n=e.call(this,t)||this;return n._headerSize=r.isUndefined(t.headerSize)?22:t.headerSize,n._showHeader=n._headerSize>0,n.headerForeground=t.headerForeground,n.headerBackground=t.headerBackground||v.headerBackground,n.headerHighContrastBorder=t.headerHighContrastBorder,n}return h(t,e),t.prototype.style=function(e){this.headerForeground=e.headerForeground,this.headerBackground=e.headerBackground,this.headerHighContrastBorder=e.headerHighContrastBorder,this.applyStyles()},Object.defineProperty(t.prototype,"headerSize",{get:function(){return this._showHeader?this._headerSize:0},enumerable:!0,configurable:!0}),t.prototype.applyStyles=function(){if(this.header){var e=this.headerForeground?this.headerForeground.toString():null,t=this.headerBackground?this.headerBackground.toString():null,n=this.headerHighContrastBorder?this.headerHighContrastBorder.toString():null;this.header.style.color=e,this.header.style.backgroundColor=t,this.header.style.borderTop=n?"1px solid "+n:null}},t.prototype.render=function(e,t){this.header=document.createElement("div"),this.header.className="header";var n=this.headerSize+"px";t===p.HORIZONTAL?this.header.style.width=n:this.header.style.height=n,this._showHeader&&(this.renderHeader(this.header),e.appendChild(this.header)),this.body=document.createElement("div"),this.body.className="body",this.layoutBodyContainer(t),this.renderBody(this.body),e.appendChild(this.body),this.applyStyles()},t.prototype.showHeader=function(){return!this._showHeader&&(this.body.parentElement.contains(this.header)||(this.renderHeader(this.header),this.body.parentElement.insertBefore(this.header,this.body)),o.removeClass(this.header,"hide"),this._showHeader=!0,!0)},t.prototype.hideHeader=function(){return!!this._showHeader&&(o.addClass(this.header,"hide"),this._showHeader=!1,!0)},t.prototype.layout=function(e,t){this.layoutBodyContainer(t),this.layoutBody(e-this.headerSize)},t.prototype.layoutBodyContainer=function(e){var t="calc(100% - "+this.headerSize+"px)";e===p.HORIZONTAL?this.body.style.width=t:this.body.style.height=t},t.prototype.dispose=function(){this.header=null,this.body=null,e.prototype.dispose.call(this)},t}(g);t.HeaderView=m;var y;!function(e){e[e.EXPANDED=0]="EXPANDED",e[e.COLLAPSED=1]="COLLAPSED"}(y=t.CollapsibleState||(t.CollapsibleState={}));var b=function(e){function t(t){var n=e.call(this,t)||this;return n._previousSize=null,n.viewSizing=t.sizing,n.ariaHeaderLabel=t.ariaHeaderLabel,n.setBodySize(r.isUndefined(t.bodySize)?22:t.bodySize),n.changeState(r.isUndefined(t.initialState)?y.EXPANDED:t.initialState),n}return h(t,e),Object.defineProperty(t.prototype,"previousSize",{get:function(){return this._previousSize},enumerable:!0,configurable:!0}),t.prototype.setBodySize=function(e){this._bodySize=e,this.updateSize()},t.prototype.updateSize=function(){this.viewSizing===f.Fixed?this.setFixed(this.state===y.EXPANDED?this._bodySize+this.headerSize:this.headerSize):(this._minimumSize=this._bodySize+this.headerSize,this._previousSize=!this.previousSize||this._previousSize<this._minimumSize?this._minimumSize:this._previousSize,this.state===y.EXPANDED?this.setFlexible(this._previousSize||this._minimumSize):(this._previousSize=this.size||this._minimumSize,this.setFixed(this.headerSize)))},t.prototype.render=function(t,n){var i=this;e.prototype.render.call(this,t,n),o.addClass(this.header,"collapsible"),o.addClass(this.body,"collapsible"),this.header.setAttribute("tabindex","0"),this.header.setAttribute("role","toolbar"),this.ariaHeaderLabel&&this.header.setAttribute("aria-label",this.ariaHeaderLabel),this.header.setAttribute("aria-expanded",String(this.state===y.EXPANDED)),this.headerKeyListener=o.addDisposableListener(this.header,o.EventType.KEY_DOWN,function(e){var t=new c.StandardKeyboardEvent(e),n=!1;t.equals(3)||t.equals(10)||t.equals(15)&&i.state===y.EXPANDED||t.equals(17)&&i.state===y.COLLAPSED?(i.toggleExpansion(),n=!0):t.equals(9)?(i.header.blur(),n=!0):t.equals(16)?(i.emit("focusPrevious"),n=!0):t.equals(18)&&(i.emit("focusNext"),n=!0),n&&o.EventHelper.stop(t,!0)}),this.headerClickListener=o.addDisposableListener(this.header,o.EventType.CLICK,function(){return i.toggleExpansion()}),this.focusTracker=o.trackFocus(this.header),this.focusTracker.addFocusListener(function(){o.addClass(i.header,"focused")}),this.focusTracker.addBlurListener(function(){o.removeClass(i.header,"focused")})},t.prototype.focus=function(){this.header&&this.header.focus()},t.prototype.layout=function(t,n){this.layoutHeader(),e.prototype.layout.call(this,t,n)},t.prototype.isExpanded=function(){return this.state===y.EXPANDED},t.prototype.expand=function(){this.isExpanded()||this.changeState(y.EXPANDED)},t.prototype.collapse=function(){this.isExpanded()&&this.changeState(y.COLLAPSED)},t.prototype.toggleExpansion=function(){this.isExpanded()?this.collapse():this.expand()},t.prototype.layoutHeader=function(){this.header&&(this.state===y.COLLAPSED?o.addClass(this.header,"collapsed"):o.removeClass(this.header,"collapsed"))},t.prototype.changeState=function(e){this.state=e,this.header&&this.header.setAttribute("aria-expanded",String(this.state===y.EXPANDED)),this.layoutHeader(),this.updateSize()},t.prototype.showHeader=function(){var t=e.prototype.showHeader.call(this);return t&&this.updateSize(),t},t.prototype.hideHeader=function(){var t=e.prototype.hideHeader.call(this);return t&&this.updateSize(),t},t.prototype.dispose=function(){this.headerClickListener&&(this.headerClickListener.dispose(),this.headerClickListener=null),this.headerKeyListener&&(this.headerKeyListener.dispose(),this.headerKeyListener=null),this.focusTracker&&(this.focusTracker.dispose(),this.focusTracker=null),e.prototype.dispose.call(this)},t}(m);t.AbstractCollapsibleView=b;var S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.render=function(){},t.prototype.focus=function(){},t.prototype.layout=function(){},t}(g),_=function(e){function t(t){var n=e.call(this,{sizing:f.Fixed,fixedSize:0})||this;return n.size=t.size,n}return h(t,e),t}(S),E=function(e){function t(){return e.call(this,{sizing:f.Fixed,minimumSize:0,fixedSize:0})||this}return h(t,e),t.prototype.setFlexible=function(t){e.prototype.setFlexible.call(this,t)},t.prototype.setFixed=function(t){e.prototype.setFixed.call(this,t)},t}(S),C=function(){function e(e,t){t=t||{},this.orientation=r.isUndefined(t.orientation)?p.VERTICAL:t.orientation,this.el=document.createElement("div"),o.addClass(this.el,"monaco-split-view"),o.addClass(this.el,this.orientation===p.VERTICAL?"vertical":"horizontal"),e.appendChild(this.el),this.size=null,this.viewElements=[],this.views=[],this.viewChangeListeners=[],this.viewFocusPreviousListeners=[],this.viewFocusNextListeners=[],this.viewFocusListeners=[],this.initialWeights=[],this.sashes=[],this.sashesListeners=[],this.animationTimeout=null,this._onFocus=new l.Emitter,this.sashOrientation=this.orientation===p.VERTICAL?a.Orientation.HORIZONTAL:a.Orientation.VERTICAL,this.orientation===p.VERTICAL?(this.measureContainerSize=function(){return o.getContentHeight(e)},this.layoutViewElement=function(e,t){return e.style.height=t+"px"},this.eventWrapper=function(e){return{start:e.startY,current:e.currentY}}):(this.measureContainerSize=function(){return o.getContentWidth(e)},this.layoutViewElement=function(e,t){return e.style.width=t+"px"},this.eventWrapper=function(e){return{start:e.startX,current:e.currentX}}),this.addView(new E,1,0)}return Object.defineProperty(e.prototype,"onFocus",{get:function(){return this._onFocus.event},enumerable:!0,configurable:!0}),e.prototype.addView=function(e,t,n){var i=this;if(void 0===t&&(t=1),void 0===n&&(n=this.views.length-1),t<=0)throw new Error("Initial weight must be a positive number.");this.size=null;var r=this.views.length,s=document.createElement("div");if(o.addClass(s,"split-view-view"),this.viewElements.splice(n,0,s),e.render(s,this.orientation),this.views.splice(n,0,e),this.initialWeights.splice(n,0,t),n===r?this.el.appendChild(s):this.el.insertBefore(s,this.el.children.item(n)),this.views.length>2){var c=new a.Sash(this.el,this,{orientation:this.sashOrientation});this.sashes.splice(n-1,0,c),this.sashesListeners.push(c.addListener("start",function(e){return i.onSashStart(c,i.eventWrapper(e))})),this.sashesListeners.push(c.addListener("change",function(e){return i.onSashChange(c,i.eventWrapper(e))}))}this.viewChangeListeners.splice(n,0,e.addListener("change",function(t){return i.onViewChange(e,t)})),this.onViewChange(e,e.minimumSize);var l=o.trackFocus(s);this.viewFocusListeners.splice(n,0,l),l.addFocusListener(function(){return i._onFocus.fire(e)}),this.viewFocusPreviousListeners.splice(n,0,e.addListener("focusPrevious",function(){return n>0&&i.views[n-1].focus()})),this.viewFocusNextListeners.splice(n,0,e.addListener("focusNext",function(){return n<i.views.length&&i.views[n+1].focus()}))},e.prototype.updateWeight=function(e,t){var n=this.views.indexOf(e);n<0||(this.initialWeights[n]=t)},e.prototype.removeView=function(e){var t=this.views.indexOf(e);if(!(t<0)){this.size=null;var n=new _(e);this.views[t]=n,this.onViewChange(n,0);var i=Math.max(t-1,0);i<this.sashes.length&&(this.sashes[i].dispose(),this.sashes.splice(i,1)),this.viewChangeListeners[t].dispose(),this.viewChangeListeners.splice(t,1),this.viewFocusPreviousListeners[t].dispose(),this.viewFocusPreviousListeners.splice(t,1),this.viewFocusListeners[t].dispose(),this.viewFocusListeners.splice(t,1),this.viewFocusNextListeners[t].dispose(),this.viewFocusNextListeners.splice(t,1),this.views.splice(t,1),this.initialWeights.splice(t,1),this.el.removeChild(this.viewElements[t]),this.viewElements.splice(t,1),n.dispose(),e.dispose()}},e.prototype.layout=function(e){if(e=e||this.measureContainerSize(),null===this.size)return this.size=e,void this.initialLayout();e=Math.max(e,this.views.reduce(function(e,t){return e+t.minimumSize},0));var t=Math.abs(this.size-e),n=s.countToArray(this.views.length-1,-1),i=this.views.map(function(e){return e.size-e.minimumSize}),r=this.views.map(function(e){return e.maximumSize-e.size});e<this.size?this.expandCollapse(Math.min(t,d(i)),i,r,n,[]):e>this.size&&this.expandCollapse(Math.min(t,d(r)),i,r,[],n),this.size=e,this.layoutViews()},e.prototype.onSashStart=function(e,t){var n=this.sashes.indexOf(e),i=this.views.map(function(e){return e.size-e.minimumSize}),r=this.views.map(function(e){return e.maximumSize-e.size}),o=s.countToArray(n,-1),a=s.countToArray(n+1,this.views.length),c=o.map(function(e){return i[e]}),l=a.map(function(e){return i[e]}),u=o.map(function(e){return r[e]}),h=a.map(function(e){return r[e]});this.state={start:t.start,sizes:this.views.map(function(e){return e.size}),up:o,down:a,maxUp:Math.min(d(c),d(h)),maxDown:Math.min(d(u),d(l)),collapses:i,expands:r}},e.prototype.onSashChange=function(e,t){for(var n=t.current-this.state.start,i=0;i<this.views.length;i++)this.views[i].size=this.state.sizes[i];n<0?this.expandCollapse(Math.min(-n,this.state.maxUp),this.state.collapses,this.state.expands,this.state.up,this.state.down):this.expandCollapse(Math.min(n,this.state.maxDown),this.state.collapses,this.state.expands,this.state.down,this.state.up),this.layoutViews()},e.prototype.expandCollapse=function(e,t,n,i,r){var o=this,s=e,a=s;i.forEach(function(e){var n=Math.min(t[e],s);s-=n,o.views[e].size-=n}),r.forEach(function(e){var t=Math.min(n[e],a);a-=t,o.views[e].size+=t})},e.prototype.initialLayout=function(){var e=this,t=0,n=0;this.views.forEach(function(i,r){i.sizing===f.Flexible?t+=e.initialWeights[r]:n+=i.fixedSize});var i=this.size-n;this.views.forEach(function(n,r){n.sizing===f.Flexible?n.size=e.initialWeights[r]*i/t:n.size=n.fixedSize});var r=this.getLastFlexibleViewIndex();r>=0&&(this.views[r].size+=this.size-this.views.reduce(function(e,t){return e+t.size},0)),this.layoutViews()},e.prototype.getLastFlexibleViewIndex=function(e){void 0===e&&(e=null);for(var t=this.views.length-1;t>=0;t--)if(e!==t&&this.views[t].sizing===f.Flexible)return t;return-1},e.prototype.layoutViews=function(){for(var e=0;e<this.views.length;e++)this.layoutViewElement(this.viewElements[e],this.views[e].size),this.views[e].layout(this.views[e].size,this.orientation);this.sashes.forEach(function(e){return e.layout()});var t=!1,n=this.views.map(function(e){return t=e.size-e.minimumSize>0||t});t=!1;var i=this.views.map(function(e){return t=e.maximumSize-e.size>0||t}),r=this.views.slice().reverse();t=!1;var o=r.map(function(e){return t=e.size-e.minimumSize>0||t}).reverse();t=!1;var s=r.map(function(e){return t=e.maximumSize-e.size>0||t}).reverse();this.sashes.forEach(function(e,t){n[t]&&s[t+1]||i[t]&&o[t+1]?e.enable():e.disable()})},e.prototype.onViewChange=function(e,t){if(e!==this.voidView&&(this.areAllViewsFixed()?this.voidView.setFlexible():this.voidView.setFixed()),null!==this.size&&t!==e.size){this.setupAnimation();var n,i,r,o=this.views.indexOf(e),a=Math.abs(t-e.size),c=s.countToArray(o-1,-1),l=s.countToArray(o+1,this.views.length).concat(c),u=this.views.map(function(e){return Math.max(e.size-e.minimumSize,0)}),d=this.views.map(function(e){return Math.max(e.maximumSize-e.size,0)});t<e.size?(n=Math.min(l.reduce(function(e,t){return e+d[t]},0),a),i=[o],r=l):(n=Math.min(l.reduce(function(e,t){return e+u[t]},0),a),i=l,r=[o]),this.expandCollapse(n,u,d,i,r),this.layoutViews()}},e.prototype.setupAnimation=function(){var e=this;r.isNumber(this.animationTimeout)&&window.clearTimeout(this.animationTimeout),o.addClass(this.el,"animated"),this.animationTimeout=window.setTimeout(function(){return e.clearAnimation()},200)},e.prototype.clearAnimation=function(){this.animationTimeout=null,o.removeClass(this.el,"animated")},Object.defineProperty(e.prototype,"voidView",{get:function(){return this.views[this.views.length-1]},enumerable:!0,configurable:!0}),e.prototype.areAllViewsFixed=function(){var e=this;return this.views.every(function(t,n){return t.sizing===f.Fixed||n===e.views.length-1})},e.prototype.getVerticalSashLeft=function(e){return this.getSashPosition(e)},e.prototype.getHorizontalSashTop=function(e){return this.getSashPosition(e)},e.prototype.getSashPosition=function(e){for(var t=this.sashes.indexOf(e),n=0,i=0;i<=t;i++)n+=this.views[i].size;return n},e.prototype.dispose=function(){var e=this;r.isNumber(this.animationTimeout)&&window.clearTimeout(this.animationTimeout),this.orientation=null,this.size=null,this.viewElements.forEach(function(t){return e.el.removeChild(t)}),this.el=null,this.viewElements=[],this.views=n.dispose(this.views),this.sashes=n.dispose(this.sashes),this.sashesListeners=n.dispose(this.sashesListeners),this.measureContainerSize=null,this.layoutViewElement=null,this.eventWrapper=null,this.state=null},e}();t.SplitView=C}),define(u[1129],d([10]),{}),define(u[1127],d([10]),{}),define(u[1126],d([10]),{}),define(u[1124],d([10]),{}),define(u[1122],d([10]),{}),define(u[1121],d([10]),{}),define(u[1116],d([10]),{}),define(u[1114],d([10]),{}),define(u[1111],d([10]),{}),define(u[1110],d([10]),{}),define(u[1109],d([10]),{}),define(u[1104],d([10]),{}),define(u[1096],d([10]),{}),define(u[1090],d([10]),{}),define(u[1083],d([10]),{}),define(u[1082],d([10]),{}),define(u[1081],d([10]),{}),define(u[1079],d([10]),{}),define(u[1076],d([10]),{}),define(u[1073],d([10]),{}),define(u[1069],d([10]),{}),define(u[1066],d([10]),{}),define(u[1064],d([10]),{}),define(u[1063],d([10]),{}),define(u[1062],d([10]),{}),define(u[1061],d([10]),{}),define(u[1057],d([10]),{}),define(u[1056],d([10]),{}),define(u[1055],d([10]),{}),define(u[386],d([10]),{}),define(u[1053],d([10]),{}),define(u[1052],d([10]),{}),define(u[1050],d([10]),{}),define(u[1042],d([10]),{}),define(u[1040],d([10]),{}),define(u[1039],d([10]),{}),define(u[1038],d([10]),{}),define(u[1036],d([10]),{}),define(u[1035],d([10]),{}),define(u[1034],d([10]),{}),define(u[1030],d([10]),{}),define(u[1028],d([10]),{}),define(u[1027],d([10]),{}),define(u[1026],d([10]),{}),define(u[1025],d([10]),{}),define(u[1024],d([10]),{}),define(u[1022],d([10]),{}),define(u[1021],d([10]),{}),define(u[1017],d([10]),{}),define(u[1015],d([10]),{}),define(u[1013],d([10]),{}),define(u[1012],d([10]),{}),define(u[1010],d([10]),{}),define(u[1007],d([10]),{}),define(u[1006],d([10]),{}),define(u[431],d([10]),{}),define(u[1005],d([10]),{}),define(u[1004],d([10]),{}),define(u[1002],d([10]),{}),define(u[1e3],d([10]),{}),define(u[999],d([10]),{}),define(u[998],d([10]),{}),define(u[994],d([10]),{}),define(u[993],d([10]),{}),define(u[992],d([10]),{}),define(u[991],d([10]),{}),define(u[989],d([10]),{}),define(u[988],d([10]),{}),define(u[985],d([10]),{}),define(u[984],d([10]),{}),define(u[978],d([10]),{}),define(u[976],d([10]),{}),define(u[975],d([10]),{}),define(u[970],d([10]),{}),define(u[968],d([10]),{}),define(u[966],d([10]),{}),define(u[965],d([10]),{}),define(u[962],d([10]),{}),define(u[961],d([10]),{}),define(u[960],d([10]),{}),define(u[959],d([10]),{}),define(u[958],d([10]),{}),define(u[957],d([10]),{}),define(u[956],d([10]),{}),define(u[955],d([10]),{}),define(u[954],d([10]),{}),define(u[953],d([10]),{}),define(u[360],d([10]),{}),define(u[952],d([10]),{}),define(u[951],d([10]),{}),define(u[950],d([10]),{}),define(u[949],d([10]),{}),define(u[948],d([10]),{}),define(u[947],d([10]),{}),define(u[946],d([10]),{}),define(u[945],d([10]),{}),define(u[944],d([10]),{}),define(u[943],d([10]),{}),define(u[942],d([10]),{}),define(u[941],d([10]),{}),define(u[940],d([10]),{}),define(u[939],d([10]),{}),define(u[938],d([10]),{}),define(u[937],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.Regular=0]="Regular",e[e.Italic=1]="Italic",e[e.Bold=2]="Bold"}(t.CharWidthRequestType||(t.CharWidthRequestType={}));var n=function(){function e(e,t){this.chr=e,this.type=t,this.width=0}return e.prototype.fulfill=function(e){this.width=e},e}();t.CharWidthRequest=n;var i=function(){function e(e,t){this._bareFontInfo=e,this._requests=t,this._container=null,this._testElements=null}return e.prototype.read=function(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null},e.prototype._createDomElements=function(){var t=document.createElement("div");t.style.position="absolute",t.style.top="-50000px",t.style.width="50000px";var n=document.createElement("div");n.style.fontFamily=this._bareFontInfo.fontFamily,n.style.fontWeight=this._bareFontInfo.fontWeight,n.style.fontSize=this._bareFontInfo.fontSize+"px",n.style.lineHeight=this._bareFontInfo.lineHeight+"px",n.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",t.appendChild(n);var i=document.createElement("div");i.style.fontFamily=this._bareFontInfo.fontFamily,i.style.fontWeight="bold",i.style.fontSize=this._bareFontInfo.fontSize+"px",i.style.lineHeight=this._bareFontInfo.lineHeight+"px",i.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",t.appendChild(i);var r=document.createElement("div");r.style.fontFamily=this._bareFontInfo.fontFamily,r.style.fontWeight=this._bareFontInfo.fontWeight,r.style.fontSize=this._bareFontInfo.fontSize+"px",r.style.lineHeight=this._bareFontInfo.lineHeight+"px",r.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",r.style.fontStyle="italic",t.appendChild(r);for(var o=[],s=0,a=this._requests.length;s<a;s++){var c=this._requests[s],l=void 0;0===c.type&&(l=n),2===c.type&&(l=i),1===c.type&&(l=r),l.appendChild(document.createElement("br"));var u=document.createElement("span");e._render(u,c),l.appendChild(u),o[s]=u}this._container=t,this._testElements=o},e._render=function(e,t){if(" "===t.chr){for(var n="&nbsp;",i=0;i<8;i++)n+=n;e.innerHTML=n}else{for(var r=t.chr,i=0;i<8;i++)r+=r;e.textContent=r}},e.prototype._readFromDomElements=function(){for(var e=0,t=this._requests.length;e<t;e++){var n=this._requests[e],i=this._testElements[e];n.fulfill(i.offsetWidth/256)}},e}();t.readCharWidths=function(e,t){new i(e,t).read()}}),define(u[936],d([1,0,5]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,n){var i=e.call(this)||this;return i.referenceDomElement=t,i.changeCallback=n,i.measureReferenceDomElementToken=-1,i.width=-1,i.height=-1,i.measureReferenceDomElement(!1),i}return h(t,e),t.prototype.dispose=function(){this.stopObserving(),e.prototype.dispose.call(this)},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.startObserving=function(){var e=this;-1===this.measureReferenceDomElementToken&&(this.measureReferenceDomElementToken=setInterval(function(){return e.measureReferenceDomElement(!0)},100))},t.prototype.stopObserving=function(){-1!==this.measureReferenceDomElementToken&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)},t.prototype.observe=function(e){this.measureReferenceDomElement(!0,e)},t.prototype.measureReferenceDomElement=function(e,t){var n=0,i=0;t?(n=t.width,i=t.height):this.referenceDomElement&&(n=this.referenceDomElement.clientWidth,i=this.referenceDomElement.clientHeight),n=Math.max(5,n),i=Math.max(5,i),this.width===n&&this.height===i||(this.width=n,this.height=i,e&&this.changeCallback())},t}(n.Disposable);t.ElementSizeObserver=i}),define(u[73],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.EXACT=0]="EXACT",e[e.ABOVE=1]="ABOVE",e[e.BELOW=2]="BELOW"}(t.ContentWidgetPositionPreference||(t.ContentWidgetPositionPreference={}));!function(e){e[e.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",e[e.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",e[e.TOP_CENTER=2]="TOP_CENTER"}(t.OverlayWidgetPositionPreference||(t.OverlayWidgetPositionPreference={}));!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.TEXTAREA=1]="TEXTAREA",e[e.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",e[e.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",e[e.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",e[e.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",e[e.CONTENT_TEXT=6]="CONTENT_TEXT",e[e.CONTENT_EMPTY=7]="CONTENT_EMPTY",e[e.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",e[e.CONTENT_WIDGET=9]="CONTENT_WIDGET",e[e.OVERVIEW_RULER=10]="OVERVIEW_RULER",e[e.SCROLLBAR=11]="SCROLLBAR",e[e.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",e[e.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"}(t.MouseTargetType||(t.MouseTargetType={}))}),define(u[283],d([1,0,5,86,9,231]),function(e,t,n,i,r,o){"use strict";function s(e){var t=r.getDomNodePagePosition(e);return new l(t.left,t.top,t.width,t.height)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){this.x=e,this.y=t}return e.prototype.toClientCoordinates=function(){return new c(this.x-r.StandardWindow.scrollX,this.y-r.StandardWindow.scrollY)},e}();t.PageCoordinates=a;var c=function(){function e(e,t){this.clientX=e,this.clientY=t}return e.prototype.toPageCoordinates=function(){return new a(this.clientX+r.StandardWindow.scrollX,this.clientY+r.StandardWindow.scrollY)},e}();t.ClientCoordinates=c;var l=function(){return function(e,t,n,i){this.x=e,this.y=t,this.width=n,this.height=i}}();t.EditorPagePosition=l,t.createEditorPagePosition=s;var u=function(e){function t(t,n){var i=e.call(this,t)||this;return i.pos=new a(i.posx,i.posy),i.editorPos=s(n),i}return h(t,e),t}(i.StandardMouseEvent);t.EditorMouseEvent=u;var d=function(){function e(e){this._editorViewDomNode=e}return e.prototype._create=function(e){return new u(e,this._editorViewDomNode)},e.prototype.onContextMenu=function(e,t){var n=this;return r.addDisposableListener(e,"contextmenu",function(e){t(n._create(e))})},e.prototype.onMouseUp=function(e,t){var n=this;return r.addDisposableListener(e,"mouseup",function(e){t(n._create(e))})},e.prototype.onMouseDown=function(e,t){var n=this;return r.addDisposableListener(e,"mousedown",function(e){t(n._create(e))})},e.prototype.onMouseLeave=function(e,t){var n=this;return r.addDisposableNonBubblingMouseOutListener(e,function(e){t(n._create(e))})},e.prototype.onMouseMoveThrottled=function(e,t,n,i){var o=this;return r.addDisposableThrottledListener(e,"mousemove",t,function(e,t){return n(e,o._create(t))},i)},e}();t.EditorMouseEventFactory=d;var p=function(e){function t(t){var n=e.call(this)||this;return n._editorViewDomNode=t,n._globalMouseMoveMonitor=n._register(new o.GlobalMouseMoveMonitor),n._keydownListener=null,n}return h(t,e),t.prototype.startMonitoring=function(e,t,n){var i=this;this._keydownListener=r.addStandardDisposableListener(document,"keydown",function(e){e.toKeybinding().isModifierKey()||i._globalMouseMoveMonitor.stopMonitoring(!0)},!0);this._globalMouseMoveMonitor.startMonitoring(function(t,n){return e(t,new u(n,i._editorViewDomNode))},t,function(){i._keydownListener.dispose(),n()})},t}(n.Disposable);t.GlobalEditorMouseMoveMonitor=p}),define(u[284],d([1,0,75]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this._createLine=e,this._set(1,[])}return e.prototype.flush=function(){this._set(1,[])},e.prototype._set=function(e,t){this._lines=t,this._rendLineNumberStart=e},e.prototype._get=function(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}},e.prototype.getStartLineNumber=function(){return this._rendLineNumberStart},e.prototype.getEndLineNumber=function(){return this._rendLineNumberStart+this._lines.length-1},e.prototype.getCount=function(){return this._lines.length},e.prototype.getLine=function(e){var t=e-this._rendLineNumberStart;if(t<0||t>=this._lines.length)throw new Error("Illegal value for lineNumber: "+e);return this._lines[t]},e.prototype.onLinesDeleted=function(e,t){if(0===this.getCount())return null;var n=this.getStartLineNumber(),i=this.getEndLineNumber();if(t<n){var r=t-e+1;return this._rendLineNumberStart-=r,null}if(e>i)return null;for(var o=0,s=0,a=n;a<=i;a++){var c=a-this._rendLineNumberStart;e<=a&&a<=t&&(0===s?(o=c,s=1):s++)}if(e<n){var l=0;l=t<n?t-e+1:n-e,this._rendLineNumberStart-=l}return this._lines.splice(o,s)},e.prototype.onLinesChanged=function(e,t){if(0===this.getCount())return!1;for(var n=this.getStartLineNumber(),i=this.getEndLineNumber(),r=!1,o=e;o<=t;o++)o>=n&&o<=i&&(this._lines[o-this._rendLineNumberStart].onContentChanged(),r=!0);return r},e.prototype.onLinesInserted=function(e,t){if(0===this.getCount())return null;var n=t-e+1,i=this.getStartLineNumber(),r=this.getEndLineNumber();if(e<=i)return this._rendLineNumberStart+=n,null;if(e>r)return null;if(n+e>r)return this._lines.splice(e-this._rendLineNumberStart,r-e+1);for(var o=[],s=0;s<n;s++)o[s]=this._createLine();var a=e-this._rendLineNumberStart,c=this._lines.slice(0,a),l=this._lines.slice(a,this._lines.length-n),u=this._lines.slice(this._lines.length-n,this._lines.length);return this._lines=c.concat(o).concat(l),u},e.prototype.onTokensChanged=function(e){if(0===this.getCount())return!1;for(var t=this.getStartLineNumber(),n=this.getEndLineNumber(),i=!1,r=0,o=e.length;r<o;r++){var s=e[r];if(!(s.toLineNumber<t||s.fromLineNumber>n))for(var a=Math.max(t,s.fromLineNumber),c=Math.min(n,s.toLineNumber),l=a;l<=c;l++){var u=l-this._rendLineNumberStart;this._lines[u].onTokensChanged(),i=!0}}return i},e}();t.RenderedLinesCollection=i;var r=function(){function e(e){var t=this;this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new i(function(){return t._host.createVisibleLine()})}return e.prototype._createDomNode=function(){var e=n.createFastDomNode(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e},e.prototype.onConfigurationChanged=function(e){return e.layoutInfo},e.prototype.onFlushed=function(e){return this._linesCollection.flush(),!0},e.prototype.onLinesChanged=function(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.toLineNumber)},e.prototype.onLinesDeleted=function(e){var t=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t)for(var n=0,i=t.length;n<i;n++){var r=t[n].getDomNode();r&&this.domNode.domNode.removeChild(r)}return!0},e.prototype.onLinesInserted=function(e){var t=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(t)for(var n=0,i=t.length;n<i;n++){var r=t[n].getDomNode();r&&this.domNode.domNode.removeChild(r)}return!0},e.prototype.onScrollChanged=function(e){return e.scrollTopChanged},e.prototype.onTokensChanged=function(e){return this._linesCollection.onTokensChanged(e.ranges)},e.prototype.onZonesChanged=function(e){return!0},e.prototype.getStartLineNumber=function(){return this._linesCollection.getStartLineNumber()},e.prototype.getEndLineNumber=function(){return this._linesCollection.getEndLineNumber()},e.prototype.getVisibleLine=function(e){return this._linesCollection.getLine(e)},e.prototype.renderLines=function(e){var t=this._linesCollection._get(),n=new o(this.domNode.domNode,this._host,e),i={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length},r=n.render(i,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(r.rendLineNumberStart,r.lines)},e}();t.VisibleLinesCollection=r;var o=function(){function e(e,t,n){this.domNode=e,this.host=t,this.viewportData=n}return e.prototype.render=function(e,t,n,i){var r={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(r.rendLineNumberStart+r.linesLength-1<t||n<r.rendLineNumberStart){r.rendLineNumberStart=t,r.linesLength=n-t+1,r.lines=[];for(var o=t;o<=n;o++)r.lines[o-t]=this.host.createVisibleLine();return this._finishRendering(r,!0,i),r}if(this._renderUntouchedLines(r,Math.max(t-r.rendLineNumberStart,0),Math.min(n-r.rendLineNumberStart,r.linesLength-1),i,t),r.rendLineNumberStart>t?(s=t)<=(a=Math.min(n,r.rendLineNumberStart-1))&&(this._insertLinesBefore(r,s,a,i,t),r.linesLength+=a-s+1):r.rendLineNumberStart<t&&(c=Math.min(r.linesLength,t-r.rendLineNumberStart))>0&&(this._removeLinesBefore(r,c),r.linesLength-=c),r.rendLineNumberStart=t,r.rendLineNumberStart+r.linesLength-1<n)(s=r.rendLineNumberStart+r.linesLength)<=(a=n)&&(this._insertLinesAfter(r,s,a,i,t),r.linesLength+=a-s+1);else if(r.rendLineNumberStart+r.linesLength-1>n){var s=Math.max(0,n-r.rendLineNumberStart+1),a=r.linesLength-1,c=a-s+1;c>0&&(this._removeLinesAfter(r,c),r.linesLength-=c)}return this._finishRendering(r,!1,i),r},e.prototype._renderUntouchedLines=function(e,t,n,i,r){for(var o=e.rendLineNumberStart,s=e.lines,a=t;a<=n;a++){var c=o+a;s[a].layoutLine(c,i[c-r])}},e.prototype._insertLinesBefore=function(e,t,n,i,r){for(var o=[],s=0,a=t;a<=n;a++)o[s++]=this.host.createVisibleLine();e.lines=o.concat(e.lines)},e.prototype._removeLinesBefore=function(e,t){for(var n=0;n<t;n++){var i=e.lines[n].getDomNode();i&&this.domNode.removeChild(i)}e.lines.splice(0,t)},e.prototype._insertLinesAfter=function(e,t,n,i,r){for(var o=[],s=0,a=t;a<=n;a++)o[s++]=this.host.createVisibleLine();e.lines=e.lines.concat(o)},e.prototype._removeLinesAfter=function(e,t){for(var n=e.linesLength-t,i=0;i<t;i++){var r=e.lines[n+i].getDomNode();r&&this.domNode.removeChild(r)}e.lines.splice(n,t)},e.prototype._finishRenderingNewLines=function(e,t,n,i){var r=this.domNode.lastChild;t||!r?this.domNode.innerHTML=n.join(""):r.insertAdjacentHTML("afterend",n.join(""));for(var o=this.domNode.lastChild,s=e.linesLength-1;s>=0;s--){var a=e.lines[s];i[s]&&(a.setDomNode(o),o=o.previousSibling)}},e.prototype._finishRenderingInvalidLines=function(e,t,n){var i=document.createElement("div");i.innerHTML=t.join("");for(var r=0;r<e.linesLength;r++){var o=e.lines[r];if(n[r]){var s=i.firstChild,a=o.getDomNode();a.parentNode.replaceChild(s,a),o.setDomNode(s)}}},e.prototype._finishRendering=function(e,t,n){for(var i=!1,r=[],o=[],s=!1,a=[],c=[],l=0,u=e.linesLength;l<u;l++){var d=e.lines[l],h=l+e.rendLineNumberStart;r[l]=!1,a[l]=!1;var p=d.renderLine(h,n[l],this.viewportData);null!==p&&(d.getDomNode()?(c.push(p),a[l]=!0,s=!0):(o.push(p),r[l]=!0,i=!0))}i&&this._finishRenderingNewLines(e,t,o,r),s&&this._finishRenderingInvalidLines(e,c,a)},e}()}),define(u[285],d([1,0,8]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditorZoom=new(function(){function e(){this._zoomLevel=0,this._onDidChangeZoomLevel=new n.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}return e.prototype.getZoomLevel=function(){return this._zoomLevel},e.prototype.setZoomLevel=function(e){e=Math.min(Math.max(-9,e),9),this._zoomLevel!==e&&(this._zoomLevel=e,this._onDidChangeZoomLevel.fire(this._zoomLevel))},e}())}),define(u[147],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.NotSet=0]="NotSet",e[e.ContentFlush=1]="ContentFlush",e[e.RecoverFromMarkers=2]="RecoverFromMarkers",e[e.Explicit=3]="Explicit",e[e.Paste=4]="Paste",e[e.Undo=5]="Undo",e[e.Redo=6]="Redo"}(t.CursorChangeReason||(t.CursorChangeReason={}))}),define(u[288],d([1,0,12]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.Value=1]="Value",e[e.Selection=2]="Selection",e[e.Position=4]="Position",e[e.Scroll=8]="Scroll"}(t.CodeEditorStateFlag||(t.CodeEditorStateFlag={}));var i=function(){function e(e,t){if(this.flags=t,0!=(1&this.flags)){var i=e.getModel();this.modelVersionId=i?n.format("{0}#{1}",i.uri.toString(),i.getVersionId()):null}0!=(4&this.flags)&&(this.position=e.getPosition()),0!=(2&this.flags)&&(this.selection=e.getSelection()),0!=(8&this.flags)&&(this.scrollLeft=e.getScrollLeft(),this.scrollTop=e.getScrollTop())}return e.prototype._equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.modelVersionId===n.modelVersionId&&(this.scrollLeft===n.scrollLeft&&this.scrollTop===n.scrollTop&&(!(!this.position&&n.position||this.position&&!n.position||this.position&&n.position&&!this.position.equals(n.position))&&!(!this.selection&&n.selection||this.selection&&!n.selection||this.selection&&n.selection&&!this.selection.equalsRange(n.selection))))},e.prototype.validate=function(t){return this._equals(new e(t,this.flags))},e}();t.EditorState=i}),define(u[37],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this.lineNumber=e,this.column=t}return e.prototype.equals=function(t){return e.equals(this,t)},e.equals=function(e,t){return!e&&!t||!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column},e.prototype.isBefore=function(t){return e.isBefore(this,t)},e.isBefore=function(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<t.column},e.prototype.isBeforeOrEqual=function(t){return e.isBeforeOrEqual(this,t)},e.isBeforeOrEqual=function(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<=t.column},e.compare=function(e,t){var n=0|e.lineNumber,i=0|t.lineNumber;return n===i?(0|e.column)-(0|t.column):n-i},e.prototype.clone=function(){return new e(this.lineNumber,this.column)},e.prototype.toString=function(){return"("+this.lineNumber+","+this.column+")"},e.lift=function(t){return new e(t.lineNumber,t.column)},e.isIPosition=function(e){return e&&"number"==typeof e.lineNumber&&"number"==typeof e.column},e}();t.Position=n}),define(u[14],d([1,0,37]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,n,i){e>n||e===n&&t>i?(this.startLineNumber=n,this.startColumn=i,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=n,this.endColumn=i)}return e.prototype.isEmpty=function(){return e.isEmpty(this)},e.isEmpty=function(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn},e.prototype.containsPosition=function(t){return e.containsPosition(this,t)},e.containsPosition=function(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber)&&(!(t.lineNumber===e.startLineNumber&&t.column<e.startColumn)&&!(t.lineNumber===e.endLineNumber&&t.column>e.endColumn))},e.prototype.containsRange=function(t){return e.containsRange(this,t)},e.containsRange=function(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber)&&(!(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber)&&(!(t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn)&&!(t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)))},e.prototype.plusRange=function(t){return e.plusRange(this,t)},e.plusRange=function(t,n){var i,r,o,s;return n.startLineNumber<t.startLineNumber?(i=n.startLineNumber,r=n.startColumn):n.startLineNumber===t.startLineNumber?(i=n.startLineNumber,r=Math.min(n.startColumn,t.startColumn)):(i=t.startLineNumber,r=t.startColumn),n.endLineNumber>t.endLineNumber?(o=n.endLineNumber,s=n.endColumn):n.endLineNumber===t.endLineNumber?(o=n.endLineNumber,s=Math.max(n.endColumn,t.endColumn)):(o=t.endLineNumber,s=t.endColumn),new e(i,r,o,s)},e.prototype.intersectRanges=function(t){return e.intersectRanges(this,t)},e.intersectRanges=function(t,n){var i=t.startLineNumber,r=t.startColumn,o=t.endLineNumber,s=t.endColumn,a=n.startLineNumber,c=n.startColumn,l=n.endLineNumber,u=n.endColumn;return i<a?(i=a,r=c):i===a&&(r=Math.max(r,c)),o>l?(o=l,s=u):o===l&&(s=Math.min(s,u)),i>o?null:i===o&&r>s?null:new e(i,r,o,s)},e.prototype.equalsRange=function(t){return e.equalsRange(this,t)},e.equalsRange=function(e,t){return!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn},e.prototype.getEndPosition=function(){return new n.Position(this.endLineNumber,this.endColumn)},e.prototype.getStartPosition=function(){return new n.Position(this.startLineNumber,this.startColumn)},e.prototype.cloneRange=function(){return new e(this.startLineNumber,this.startColumn,this.endLineNumber,this.endColumn)},e.prototype.toString=function(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"},e.prototype.setEndPosition=function(t,n){return new e(this.startLineNumber,this.startColumn,t,n)},e.prototype.setStartPosition=function(t,n){return new e(t,n,this.endLineNumber,this.endColumn)},e.prototype.collapseToStart=function(){return e.collapseToStart(this)},e.collapseToStart=function(t){return new e(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn)},e.fromPositions=function(t,n){return void 0===n&&(n=t),new e(t.lineNumber,t.column,n.lineNumber,n.column)},e.lift=function(t){return t?new e(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):null},e.isIRange=function(e){return e&&"number"==typeof e.startLineNumber&&"number"==typeof e.startColumn&&"number"==typeof e.endLineNumber&&"number"==typeof e.endColumn},e.areIntersectingOrTouching=function(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)},e.compareRangesUsingStarts=function(e,t){var n=0|e.startLineNumber,i=0|t.startLineNumber;if(n===i){var r=0|e.startColumn,o=0|t.startColumn;if(r===o){var s=0|e.endLineNumber,a=0|t.endLineNumber;return s===a?(0|e.endColumn)-(0|t.endColumn):s-a}return r-o}return n-i},e.compareRangesUsingEnds=function(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber},e.spansMultipleLines=function(e){return e.endLineNumber>e.startLineNumber},e}();t.Range=i}),define(u[389],d([1,0,144,81,26,14,5]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0},c=function(e){function t(n,i){void 0===i&&(i={});var o=e.call(this,[t.Events.UPDATED])||this;return o.editor=n,o.options=r.mixin(i,a,!1),o.disposed=!1,o.toUnbind=[],o.nextIdx=-1,o.ranges=[],o.ignoreSelectionChange=!1,o.revealFirst=o.options.alwaysRevealFirst,o.toUnbind.push(o.editor.onDidDispose(function(){return o.dispose()})),o.toUnbind.push(o.editor.onDidUpdateDiff(function(){return o.onDiffUpdated()})),o.options.followsCaret&&o.toUnbind.push(o.editor.getModifiedEditor().onDidChangeCursorPosition(function(e){o.ignoreSelectionChange||(o.nextIdx=-1)})),o.options.alwaysRevealFirst&&o.toUnbind.push(o.editor.getModifiedEditor().onDidChangeModel(function(e){o.revealFirst=!0})),o.init(),o}return h(t,e),t.prototype.init=function(){this.editor.getLineChanges()},t.prototype.onDiffUpdated=function(){this.init(),this.compute(this.editor.getLineChanges()),this.revealFirst&&null!==this.editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next())},t.prototype.compute=function(e){var n=this;this.ranges=[],e&&e.forEach(function(e){!n.options.ignoreCharChanges&&e.charChanges?e.charChanges.forEach(function(e){n.ranges.push({rhs:!0,range:new o.Range(e.modifiedStartLineNumber,e.modifiedStartColumn,e.modifiedEndLineNumber,e.modifiedEndColumn)})}):n.ranges.push({rhs:!0,range:new o.Range(e.modifiedStartLineNumber,1,e.modifiedStartLineNumber,1)})}),this.ranges.sort(function(e,t){return e.range.getStartPosition().isBeforeOrEqual(t.range.getStartPosition())?-1:t.range.getStartPosition().isBeforeOrEqual(e.range.getStartPosition())?1:0}),this.emit(t.Events.UPDATED,{})},t.prototype.initIdx=function(e){for(var t=!1,n=this.editor.getPosition(),i=0,r=this.ranges.length;i<r&&!t;i++){var o=this.ranges[i].range;n.isBeforeOrEqual(o.getStartPosition())&&(this.nextIdx=i+(e?0:-1),t=!0)}t||(this.nextIdx=e?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)},t.prototype.move=function(e){if(n.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),this.canNavigate()){-1===this.nextIdx?this.initIdx(e):e?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));var t=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{var i=t.range.getStartPosition();this.editor.setPosition(i),this.editor.revealPositionInCenter(i)}finally{this.ignoreSelectionChange=!1}}},t.prototype.canNavigate=function(){return this.ranges&&this.ranges.length>0},t.prototype.next=function(){this.move(!0)},t.prototype.previous=function(){this.move(!1)},t.prototype.dispose=function(){this.toUnbind=s.dispose(this.toUnbind),this.ranges=null,this.disposed=!0,e.prototype.dispose.call(this)},t}(i.EventEmitter);c.Events={UPDATED:"navigation.updated"},t.DiffNavigator=c}),define(u[105],d([1,0,14]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.insert=function(e,t){return{identifier:null,range:new n.Range(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:!0}},e.delete=function(e){return{identifier:null,range:e,text:null,forceMoveMarkers:!0}},e.replace=function(e,t){return{identifier:null,range:e,text:t,forceMoveMarkers:!1}},e.replaceMove=function(e,t){return{identifier:null,range:e,text:t,forceMoveMarkers:!0}},e}();t.EditOperation=i}),define(u[391],d([1,0,12,105,14]),function(e,t,n,i,r){"use strict";function o(e,t){t.sort(function(e,t){return e.lineNumber===t.lineNumber?e.column-t.column:e.lineNumber-t.lineNumber});for(var o=t.length-2;o>=0;o--)t[o].lineNumber===t[o+1].lineNumber&&t.splice(o,1);for(var s=[],a=0,c=0,l=t.length,u=1,d=e.getLineCount();u<=d;u++){var h=e.getLineContent(u),p=h.length+1,f=0;if(!(c<l&&t[c].lineNumber===u&&(f=t[c].column,c++,f===p))&&0!==h.length){var g=n.lastNonWhitespaceIndex(h),v=0;if(-1===g)v=1;else{if(g===h.length-1)continue;v=g+2}v=Math.max(f,v),s[a++]=i.EditOperation.delete(new r.Range(u,v,u,p))}}return s}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e){this.selection=e}return e.prototype.getEditOperations=function(e,t){for(var n=o(e,[]),i=0,r=n.length;i<r;i++){var s=n[i];t.addEditOperation(s.range,s.text)}this.selectionId=t.trackSelection(this.selection)},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this.selectionId)},e}();t.TrimTrailingWhitespaceCommand=s,t.trimTrailingWhitespace=o}),define(u[53],d([1,0,14,37]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;!function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(r=t.SelectionDirection||(t.SelectionDirection={}));var o=function(e){function t(t,n,i,r){var o=e.call(this,t,n,i,r)||this;return o.selectionStartLineNumber=t,o.selectionStartColumn=n,o.positionLineNumber=i,o.positionColumn=r,o}return h(t,e),t.prototype.clone=function(){return new t(this.selectionStartLineNumber,this.selectionStartColumn,this.positionLineNumber,this.positionColumn)},t.prototype.toString=function(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"},t.prototype.equalsSelection=function(e){return t.selectionsEqual(this,e)},t.selectionsEqual=function(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn},t.prototype.getDirection=function(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?r.LTR:r.RTL},t.prototype.setEndPosition=function(e,n){return this.getDirection()===r.LTR?new t(this.startLineNumber,this.startColumn,e,n):new t(e,n,this.startLineNumber,this.startColumn)},t.prototype.getPosition=function(){return new i.Position(this.positionLineNumber,this.positionColumn)},t.prototype.setStartPosition=function(e,n){return this.getDirection()===r.LTR?new t(e,n,this.endLineNumber,this.endColumn):new t(this.endLineNumber,this.endColumn,e,n)},t.fromPositions=function(e,n){return void 0===n&&(n=e),new t(e.lineNumber,e.column,n.lineNumber,n.column)},t.liftSelection=function(e){return new t(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)},t.selectionsArrEqual=function(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(var n=0,i=e.length;n<i;n++)if(!this.selectionsEqual(e[n],t[n]))return!1;return!0},t.isISelection=function(e){return e&&"number"==typeof e.selectionStartLineNumber&&"number"==typeof e.selectionStartColumn&&"number"==typeof e.positionLineNumber&&"number"==typeof e.positionColumn},t.createWithDirection=function(e,n,i,o,s){return s===r.LTR?new t(e,n,i,o):new t(i,o,e,n)},t}(n.Range);t.Selection=o}),define(u[178],d([1,0,53]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,n){void 0===n&&(n=!1),this._range=e,this._text=t,this.insertsAutoWhitespace=n}return e.prototype.getEditOperations=function(e,t){t.addTrackedEditOperation(this._range,this._text)},e.prototype.computeCursorState=function(e,t){var i=t.getInverseEditOperations()[0].range;return new n.Selection(i.endLineNumber,i.endColumn,i.endLineNumber,i.endColumn)},e}();t.ReplaceCommand=i;var r=function(){function e(e,t,n){void 0===n&&(n=!1),this._range=e,this._text=t,this.insertsAutoWhitespace=n}return e.prototype.getEditOperations=function(e,t){t.addTrackedEditOperation(this._range,this._text)},e.prototype.computeCursorState=function(e,t){var i=t.getInverseEditOperations()[0].range;return new n.Selection(i.startLineNumber,i.startColumn,i.startLineNumber,i.startColumn)},e}();t.ReplaceCommandWithoutChangingPosition=r;var o=function(){function e(e,t,n,i,r){void 0===r&&(r=!1),this._range=e,this._text=t,this._columnDeltaOffset=i,this._lineNumberDeltaOffset=n,this.insertsAutoWhitespace=r}return e.prototype.getEditOperations=function(e,t){t.addTrackedEditOperation(this._range,this._text)},e.prototype.computeCursorState=function(e,t){var i=t.getInverseEditOperations()[0].range;return new n.Selection(i.endLineNumber+this._lineNumberDeltaOffset,i.endColumn+this._columnDeltaOffset,i.endLineNumber+this._lineNumberDeltaOffset,i.endColumn+this._columnDeltaOffset)},e}();t.ReplaceCommandWithOffsetCursorState=o;var s=function(){function e(e,t,n){this._range=e,this._text=t,this._initialSelection=n}return e.prototype.getEditOperations=function(e,t){t.addEditOperation(this._range,this._text),this._selectionId=t.trackSelection(this._initialSelection)},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._selectionId)},e}();t.ReplaceCommandThatPreservesSelection=s}),define(u[935],d([1,0,14,53]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n){this._range=e,this._charBeforeSelection=t,this._charAfterSelection=n}return e.prototype.getEditOperations=function(e,t){t.addTrackedEditOperation(new n.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),t.addTrackedEditOperation(new n.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations(),r=n[0].range,o=n[1].range;return new i.Selection(r.endLineNumber,r.endColumn,o.endLineNumber,o.endColumn-this._charAfterSelection.length)},e}();t.SurroundSelectionCommand=r}),define(u[297],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,n){this.offset=0|e,this.type=t,this.language=n}return e.prototype.toString=function(){return"("+this.offset+", "+this.type+")"},e}();t.Token=n;var i=function(){return function(e,t){this.tokens=e,this.endState=t}}();t.TokenizationResult=i;var r=function(){return function(e,t){this.tokens=e,this.endState=t}}();t.TokenizationResult2=r}),define(u[254],d([1,0]),function(e,t){"use strict";function n(e){return e<0?0:e>4294967295?4294967295:0|e}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,n){for(var i=new Uint8Array(e*t),r=0,o=e*t;r<o;r++)i[r]=n;this._data=i,this._rows=e,this._cols=t}return e.prototype.get=function(e,t){return this._data[e*this._cols+t]},e.prototype.set=function(e,t,n){this._data[e*this._cols+t]=n},e}();t.Uint8Matrix=i;!function(e){e[e.MAX_SAFE_SMALL_INTEGER=1073741824]="MAX_SAFE_SMALL_INTEGER",e[e.MIN_SAFE_SMALL_INTEGER=-1073741824]="MIN_SAFE_SMALL_INTEGER",e[e.MAX_UINT_8=255]="MAX_UINT_8",e[e.MAX_UINT_16=65535]="MAX_UINT_16",e[e.MAX_UINT_32=4294967295]="MAX_UINT_32"}(t.Constants||(t.Constants={})),t.toUint8=function(e){return e<0?0:e>255?255:0|e},t.toUint32=n,t.toUint32Array=function(e){for(var t=e.length,i=new Uint32Array(t),r=0;r<t;r++)i[r]=n(e[r]);return i}}),define(u[195],d([1,0,254]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(t){var i=n.toUint8(t);this._defaultValue=i,this._asciiMap=e._createAsciiMap(i),this._map=new Map}return e._createAsciiMap=function(e){for(var t=new Uint8Array(256),n=0;n<256;n++)t[n]=e;return t},e.prototype.set=function(e,t){var i=n.toUint8(t);e>=0&&e<256?this._asciiMap[e]=i:this._map.set(e,i)},e.prototype.get=function(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue},e}();t.CharacterClassifier=i;var r;!function(e){e[e.False=0]="False",e[e.True=1]="True"}(r||(r={}));var o=function(){function e(){this._actual=new i(0)}return e.prototype.add=function(e){this._actual.set(e,1)},e.prototype.has=function(e){return 1===this._actual.get(e)},e}();t.CharacterSet=o}),define(u[252],d([1,0,195]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.Regular=0]="Regular",e[e.Whitespace=1]="Whitespace",e[e.WordSeparator=2]="WordSeparator"}(t.WordCharacterClass||(t.WordCharacterClass={}));var i=function(e){function t(t){for(var n=e.call(this,0)||this,i=0,r=t.length;i<r;i++)n.set(t.charCodeAt(i),2);return n.set(32,1),n.set(9,1),n}return h(t,e),t}(n.CharacterClassifier);t.WordCharacterClassifier=i,t.getMapForWordSeparators=function(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e(n)),t[n]}}(function(e){return new i(e)})}),define(u[929],d([1,0,272,12]),function(e,t,n,i){"use strict";function r(e,t,i){return new n.LcsDiff(e,t,i).ComputeDiff()}function o(e){if(e.length<=1)return e;var t,n,i,r,o,s=[e[0]],c=s[0];for(t=1,n=e.length;t<n;t++)i=(o=e[t]).originalStart-(c.originalStart+c.originalLength),r=o.modifiedStart-(c.modifiedStart+c.modifiedLength),Math.min(i,r)<a?(c.originalLength=o.originalStart+o.originalLength-c.originalStart,c.modifiedLength=o.modifiedStart+o.modifiedLength-c.modifiedStart):(s.push(o),c=o);return s}Object.defineProperty(t,"__esModule",{value:!0});var s=5e3,a=3,c=function(){function e(e,t,n){this.buffer=e,this.startMarkers=t,this.endMarkers=n}return e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.getLength()!==n.getLength())return!1;for(var i=0,r=this.getLength();i<r;i++)if(this.getElementHash(i)!==n.getElementHash(i))return!1;return!0},e.prototype.getLength=function(){return this.startMarkers.length},e.prototype.getElementHash=function(e){return this.buffer.substring(this.startMarkers[e].offset,this.endMarkers[e].offset)},e.prototype.getStartLineNumber=function(e){return e===this.startMarkers.length?this.startMarkers[e-1].lineNumber+1:this.startMarkers[e].lineNumber},e.prototype.getStartColumn=function(e){return this.startMarkers[e].column},e.prototype.getEndLineNumber=function(e){return this.endMarkers[e].lineNumber},e.prototype.getEndColumn=function(e){return this.endMarkers[e].column},e}(),l=function(e){function t(n,i){var r,o,s,a,c,l="",u=[],d=[];for(s=0,r=0,o=n.length;r<o;r++)l+=n[r],a=1,c=n[r].length+1,i&&(a=t._getFirstNonBlankColumn(n[r],1),c=t._getLastNonBlankColumn(n[r],1)),u.push({offset:s+a-1,lineNumber:r+1,column:a}),d.push({offset:s+c-1,lineNumber:r+1,column:c}),s+=n[r].length;return e.call(this,l,u,d)||this}return h(t,e),t._getFirstNonBlankColumn=function(e,t){var n=i.firstNonWhitespaceIndex(e);return-1===n?t:n+1},t._getLastNonBlankColumn=function(e,t){var n=i.lastNonWhitespaceIndex(e);return-1===n?t:n+2},t.prototype.getCharSequence=function(e,t){var n,i,r,o,s=[],a=[];for(n=e;n<=t;n++)for(r=this.startMarkers[n],o=this.endMarkers[n],i=r.offset;i<o.offset;i++)s.push({offset:i,lineNumber:r.lineNumber,column:r.column+(i-r.offset)}),a.push({offset:i+1,lineNumber:r.lineNumber,column:r.column+(i-r.offset)+1});return new c(this.buffer,s,a)},t}(c),u=function(){return function(e,t,n){0===e.originalLength?(this.originalStartLineNumber=0,this.originalStartColumn=0,this.originalEndLineNumber=0,this.originalEndColumn=0):(this.originalStartLineNumber=t.getStartLineNumber(e.originalStart),this.originalStartColumn=t.getStartColumn(e.originalStart),this.originalEndLineNumber=t.getEndLineNumber(e.originalStart+e.originalLength-1),this.originalEndColumn=t.getEndColumn(e.originalStart+e.originalLength-1)),0===e.modifiedLength?(this.modifiedStartLineNumber=0,this.modifiedStartColumn=0,this.modifiedEndLineNumber=0,this.modifiedEndColumn=0):(this.modifiedStartLineNumber=n.getStartLineNumber(e.modifiedStart),this.modifiedStartColumn=n.getStartColumn(e.modifiedStart),this.modifiedEndLineNumber=n.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),this.modifiedEndColumn=n.getEndColumn(e.modifiedStart+e.modifiedLength-1))}}(),d=function(){return function(e,t,n,i,s){if(0===e.originalLength?(this.originalStartLineNumber=t.getStartLineNumber(e.originalStart)-1,this.originalEndLineNumber=0):(this.originalStartLineNumber=t.getStartLineNumber(e.originalStart),this.originalEndLineNumber=t.getEndLineNumber(e.originalStart+e.originalLength-1)),0===e.modifiedLength?(this.modifiedStartLineNumber=n.getStartLineNumber(e.modifiedStart)-1,this.modifiedEndLineNumber=0):(this.modifiedStartLineNumber=n.getStartLineNumber(e.modifiedStart),this.modifiedEndLineNumber=n.getEndLineNumber(e.modifiedStart+e.modifiedLength-1)),0!==e.originalLength&&0!==e.modifiedLength&&i()){var a=t.getCharSequence(e.originalStart,e.originalStart+e.originalLength-1),c=n.getCharSequence(e.modifiedStart,e.modifiedStart+e.modifiedLength-1),l=r(a,c,i);s&&(l=o(l)),this.charChanges=[];for(var d=0,h=l.length;d<h;d++)this.charChanges.push(new u(l[d],a,c))}}}(),p=function(){function e(e,t,n){this.shouldPostProcessCharChanges=n.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=n.shouldIgnoreTrimWhitespace,this.maximumRunTimeMs=s,this.original=new l(e,this.shouldIgnoreTrimWhitespace),this.modified=new l(t,this.shouldIgnoreTrimWhitespace),n.shouldConsiderTrimWhitespaceInEmptyCase&&this.shouldIgnoreTrimWhitespace&&this.original.equals(this.modified)&&(this.shouldIgnoreTrimWhitespace=!1,this.original=new l(e,this.shouldIgnoreTrimWhitespace),this.modified=new l(t,this.shouldIgnoreTrimWhitespace))}return e.prototype.computeDiff=function(){if(1===this.original.getLength()&&0===this.original.getElementHash(0).length)return[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.getLength(),charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}];if(1===this.modified.getLength()&&0===this.modified.getElementHash(0).length)return[{originalStartLineNumber:1,originalEndLineNumber:this.original.getLength(),modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}];this.computationStartTime=(new Date).getTime();for(var e=r(this.original,this.modified,this._continueProcessingPredicate.bind(this)),t=[],n=0,i=e.length;n<i;n++)t.push(new d(e[n],this.original,this.modified,this._continueProcessingPredicate.bind(this),this.shouldPostProcessCharChanges));return t},e.prototype._continueProcessingPredicate=function(){return 0===this.maximumRunTimeMs||(new Date).getTime()-this.computationStartTime<this.maximumRunTimeMs},e}();t.DiffComputer=p}),define(u[928],d([1,0,4]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,n,i,r,o){this.id=e,this.label=t,this.alias=n,this._precondition=i,this._run=r,this._contextKeyService=o}return e.prototype.isSupported=function(){return this._contextKeyService.contextMatchesRules(this._precondition)},e.prototype.run=function(){if(!this.isSupported())return n.TPromise.as(void 0);var e=this._run();return e||n.TPromise.as(void 0)},e}();t.InternalEditorAction=i}),define(u[33],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=4]="Right",e[e.Full=7]="Full"}(t.OverviewRulerLane||(t.OverviewRulerLane={}));!function(e){e[e.TextDefined=0]="TextDefined",e[e.LF=1]="LF",e[e.CRLF=2]="CRLF"}(t.EndOfLinePreference||(t.EndOfLinePreference={}));!function(e){e[e.LF=1]="LF",e[e.CRLF=2]="CRLF"}(t.DefaultEndOfLine||(t.DefaultEndOfLine={}));!function(e){e[e.LF=0]="LF",e[e.CRLF=1]="CRLF"}(t.EndOfLineSequence||(t.EndOfLineSequence={}));var n=function(){function e(e){this.tabSize=0|e.tabSize,this.insertSpaces=Boolean(e.insertSpaces),this.defaultEOL=0|e.defaultEOL,this.trimAutoWhitespace=Boolean(e.trimAutoWhitespace)}return e.prototype.equals=function(e){return this.tabSize===e.tabSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace},e.prototype.createChangeEvent=function(e){return{tabSize:this.tabSize!==e.tabSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}},e}();t.TextModelResolvedOptions=n;var i=function(){return function(e,t){this.range=e,this.matches=t}}();t.FindMatch=i;!function(e){e[e.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",e[e.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",e[e.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",e[e.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"}(t.TrackedRangeStickiness||(t.TrackedRangeStickiness={})),t.isThemeColor=function(e){return e&&"string"==typeof e.id},t.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"},t.isCommonCodeEditor=function(e){return!(!e||"function"!=typeof e.getEditorType)&&e.getEditorType()===t.EditorType.ICodeEditor},t.isCommonDiffEditor=function(e){return!(!e||"function"!=typeof e.getEditorType)&&e.getEditorType()===t.EditorType.IDiffEditor},t.Handler={ExecuteCommand:"executeCommand",ExecuteCommands:"executeCommands",Type:"type",ReplacePreviousChar:"replacePreviousChar",CompositionStart:"compositionStart",CompositionEnd:"compositionEnd",Paste:"paste",Cut:"cut",Undo:"undo",Redo:"redo"}}),define(u[402],d([1,0,14,33,12]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,n){this.value=e,this.selectionStart=t,this.selectionEnd=n}return e.prototype.equals=function(t){return t instanceof e&&(this.value===t.value&&this.selectionStart===t.selectionStart&&this.selectionEnd===t.selectionEnd)},e.prototype.toString=function(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"},e.prototype.readFromTextArea=function(t){return new e(t.getValue(),t.getSelectionStart(),t.getSelectionEnd())},e.prototype.collapseSelection=function(){return new e(this.value,this.value.length,this.value.length)},e.prototype.writeToTextArea=function(e,t,n){t.setValue(e,this.value),n&&t.setSelectionRange(e,this.selectionStart,this.selectionEnd)},e.selectedText=function(t){return new e(t,0,t.length)},e.deduceInput=function(e,t,n){if(!e)return{text:"",replaceCharCnt:0};var i=e.value,o=e.selectionStart,s=e.selectionEnd,a=t.value,c=t.selectionStart,l=t.selectionEnd,u=i.substring(s),d=a.substring(l),h=r.commonSuffixLength(u,d);a=a.substring(0,a.length-h);var p=(i=i.substring(0,i.length-h)).substring(0,o),f=a.substring(0,c),g=r.commonPrefixLength(p,f);if(a=a.substring(g),i=i.substring(g),c-=g,o-=g,l-=g,s-=g,n&&c===l&&i.length>0){var v=null;if(c===a.length?r.startsWith(a,i)&&(v=a.substring(i.length)):r.endsWith(a,i)&&(v=a.substring(0,a.length-i.length)),null!==v&&v.length>0&&(/\uFE0F/.test(v)||r.containsEmoji(v)))return{text:v,replaceCharCnt:0}}return c===l?i===a&&0===o&&s===i.length&&c===a.length&&-1===a.indexOf("\n")&&r.containsFullWidthCharacter(a)?{text:"",replaceCharCnt:0}:{text:a,replaceCharCnt:p.length-g}:{text:a,replaceCharCnt:s-o}},e}();o.EMPTY=new o("",0,0),t.TextAreaState=o;var s=function(){function e(){}return e._getPageOfLine=function(t){return Math.floor((t-1)/e._LINES_PER_PAGE)},e._getRangeForPage=function(t){var i=t*e._LINES_PER_PAGE,r=i+1,o=i+e._LINES_PER_PAGE;return new n.Range(r,1,o+1,1)},e.fromEditorSelection=function(t,r,s){var a=e._getPageOfLine(s.startLineNumber),c=e._getRangeForPage(a),l=e._getPageOfLine(s.endLineNumber),u=e._getRangeForPage(l),d=c.intersectRanges(new n.Range(1,1,s.startLineNumber,s.startColumn)),h=r.getValueInRange(d,i.EndOfLinePreference.LF),p=r.getLineCount(),f=r.getLineMaxColumn(p),g=u.intersectRanges(new n.Range(s.endLineNumber,s.endColumn,p,f)),v=r.getValueInRange(g,i.EndOfLinePreference.LF),m=null;if(a===l||a+1===l)m=r.getValueInRange(s,i.EndOfLinePreference.LF);else{var y=c.intersectRanges(s),b=u.intersectRanges(s);m=r.getValueInRange(y,i.EndOfLinePreference.LF)+String.fromCharCode(8230)+r.getValueInRange(b,i.EndOfLinePreference.LF)}return h.length>500&&(h=h.substring(h.length-500,h.length)),v.length>500&&(v=v.substring(0,500)),m.length>1e3&&(m=m.substring(0,500)+String.fromCharCode(8230)+m.substring(m.length-500,m.length)),new o(h+m+v,h.length,h.length+m.length)},e}();s._LINES_PER_PAGE=10,t.PagedScreenReaderStrategy=s}),define(u[403],d([1,0,18,12,8,5,402,66,11,9]),function(e,t,n,i,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CopyOptions={forceCopyWithSyntaxHighlighting:!1};var u;!function(e){e[e.Type=0]="Type",e[e.Paste=1]="Paste"}(u||(u={}));var d=function(e){function o(t,o){var u=e.call(this)||this;u._onFocus=u._register(new r.Emitter),u.onFocus=u._onFocus.event,u._onBlur=u._register(new r.Emitter),u.onBlur=u._onBlur.event,u._onKeyDown=u._register(new r.Emitter),u.onKeyDown=u._onKeyDown.event,u._onKeyUp=u._register(new r.Emitter),u.onKeyUp=u._onKeyUp.event,u._onCut=u._register(new r.Emitter),u.onCut=u._onCut.event,u._onPaste=u._register(new r.Emitter),u.onPaste=u._onPaste.event,u._onType=u._register(new r.Emitter),u.onType=u._onType.event,u._onCompositionStart=u._register(new r.Emitter),u.onCompositionStart=u._onCompositionStart.event,u._onCompositionUpdate=u._register(new r.Emitter),u.onCompositionUpdate=u._onCompositionUpdate.event,u._onCompositionEnd=u._register(new r.Emitter),u.onCompositionEnd=u._onCompositionEnd.event,u._host=t,u._textArea=u._register(new f(o)),u._asyncTriggerCut=u._register(new n.RunOnceScheduler(function(){return u._onCut.fire()},0)),u._textAreaState=s.TextAreaState.EMPTY,u.writeScreenReaderContent("ctor"),u._hasFocus=!1,u._isDoingComposition=!1,u._nextCommand=0,u._register(l.addStandardDisposableListener(o.domNode,"keydown",function(e){u._isDoingComposition&&e.equals(109)&&e.stopPropagation(),e.equals(9)&&e.preventDefault(),u._onKeyDown.fire(e)})),u._register(l.addStandardDisposableListener(o.domNode,"keyup",function(e){u._onKeyUp.fire(e)})),u._register(l.addDisposableListener(o.domNode,"compositionstart",function(e){u._isDoingComposition||(u._isDoingComposition=!0,a.isEdgeOrIE||u._setAndWriteTextAreaState("compositionstart",s.TextAreaState.EMPTY),u._onCompositionStart.fire())}));var d=function(e){var t=u._textAreaState,n=u._textAreaState.readFromTextArea(u._textArea);return[n,s.TextAreaState.deduceInput(t,n,e)]},h=function(e){var t=u._textAreaState,n=s.TextAreaState.selectedText(e);return[n,{text:n.value,replaceCharCnt:t.selectionEnd-t.selectionStart}]};return u._register(l.addDisposableListener(o.domNode,"compositionupdate",function(e){if(!a.isChromev56){if(a.isEdgeOrIE&&"ja"===e.locale){var t=d(!1),n=t[0],i=t[1];return u._textAreaState=n,u._onType.fire(i),void u._onCompositionUpdate.fire(e)}var r=h(e.data),o=r[0],s=r[1];u._textAreaState=o,u._onType.fire(s),u._onCompositionUpdate.fire(e)}})),u._register(l.addDisposableListener(o.domNode,"compositionend",function(e){if(a.isEdgeOrIE&&"ja"===e.locale){var t=d(!1),n=t[0],i=t[1];u._textAreaState=n,u._onType.fire(i)}else{var r=h(e.data),n=r[0],i=r[1];u._textAreaState=n,u._onType.fire(i)}(a.isEdgeOrIE||a.isChrome)&&(u._textAreaState=u._textAreaState.readFromTextArea(u._textArea)),u._isDoingComposition&&(u._isDoingComposition=!1,u._onCompositionEnd.fire())})),u._register(l.addDisposableListener(o.domNode,"input",function(){if(u._isDoingComposition){if(a.isChromev56){var e=h(u._textArea.getValue()),t=e[0],n=e[1];u._textAreaState=t,u._onType.fire(n);var r={data:n.text};u._onCompositionUpdate.fire(r)}}else{var o=d(c.isMacintosh),s=o[0],l=o[1];0===l.replaceCharCnt&&1===l.text.length&&i.isHighSurrogate(l.text.charCodeAt(0))||(u._textAreaState=s,0===u._nextCommand?""!==l.text&&u._onType.fire(l):(""!==l.text&&u._onPaste.fire({text:l.text}),u._nextCommand=0))}})),u._register(l.addDisposableListener(o.domNode,"cut",function(e){u._ensureClipboardGetsEditorSelection(e),u._asyncTriggerCut.schedule()})),u._register(l.addDisposableListener(o.domNode,"copy",function(e){u._ensureClipboardGetsEditorSelection(e)})),u._register(l.addDisposableListener(o.domNode,"paste",function(e){if(p.canUseTextData(e)){var t=p.getTextData(e);""!==t&&u._onPaste.fire({text:t})}else u._textArea.getSelectionStart()!==u._textArea.getSelectionEnd()&&u._setAndWriteTextAreaState("paste",s.TextAreaState.EMPTY),u._nextCommand=1})),u._register(l.addDisposableListener(o.domNode,"focus",function(){return u._setHasFocus(!0)})),u._register(l.addDisposableListener(o.domNode,"blur",function(){return u._setHasFocus(!1)})),u}return h(o,e),o.prototype.dispose=function(){e.prototype.dispose.call(this)},o.prototype.focusTextArea=function(){this._setHasFocus(!0)},o.prototype.isFocused=function(){return this._hasFocus},o.prototype._setHasFocus=function(e){this._hasFocus!==e&&(this._hasFocus=e,this._hasFocus&&(a.isEdge?this._setAndWriteTextAreaState("focusgain",s.TextAreaState.EMPTY):this.writeScreenReaderContent("focusgain")),this._hasFocus?this._onFocus.fire():this._onBlur.fire())},o.prototype._setAndWriteTextAreaState=function(e,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=t},o.prototype.writeScreenReaderContent=function(e){this._isDoingComposition||this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent(this._textAreaState))},o.prototype._ensureClipboardGetsEditorSelection=function(e){var n=this._host.getPlainTextToCopy();if(p.canUseTextData(e)){var i=null;!a.isEdgeOrIE&&(n.length<65536||t.CopyOptions.forceCopyWithSyntaxHighlighting)&&(i=this._host.getHTMLToCopy()),p.setTextData(e,n,i)}else this._setAndWriteTextAreaState("copy or cut",s.TextAreaState.selectedText(n))},o}(o.Disposable);t.TextAreaInput=d;var p=function(){function e(){}return e.canUseTextData=function(e){return!!e.clipboardData||!!window.clipboardData},e.getTextData=function(e){if(e.clipboardData)return e.preventDefault(),e.clipboardData.getData("text/plain");if(window.clipboardData)return e.preventDefault(),window.clipboardData.getData("Text");throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")},e.setTextData=function(e,t,n){if(e.clipboardData)return e.clipboardData.setData("text/plain",t),null!==n&&e.clipboardData.setData("text/html",n),void e.preventDefault();if(window.clipboardData)return window.clipboardData.setData("Text",t),void e.preventDefault();throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")},e}(),f=function(e){function t(t){var n=e.call(this)||this;return n._actual=t,n}return h(t,e),t.prototype.getValue=function(){return this._actual.domNode.value},t.prototype.setValue=function(e,t){var n=this._actual.domNode;n.value!==t&&(n.value=t)},t.prototype.getSelectionStart=function(){return this._actual.domNode.selectionStart},t.prototype.getSelectionEnd=function(){return this._actual.domNode.selectionEnd},t.prototype.setSelectionRange=function(e,t,n){var i=this._actual.domNode,r=document.activeElement===i,o=i.selectionStart,s=i.selectionEnd;if(!r||o!==t||s!==n)if(r)i.setSelectionRange(t,n);else try{var a=l.saveParentsScrollTop(i);i.focus(),i.setSelectionRange(t,n),l.restoreParentsScrollTop(i,a)}catch(e){}},t}(o.Disposable)}),define(u[927],d([1,0,7]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.model=e,this.currentOpenStackElement=null,this.past=[],this.future=[]}return e.prototype.pushStackElement=function(){null!==this.currentOpenStackElement&&(this.past.push(this.currentOpenStackElement),this.currentOpenStackElement=null)},e.prototype.clear=function(){this.currentOpenStackElement=null,this.past=[],this.future=[]},e.prototype.pushEditOperation=function(e,t,i){this.future=[],this.currentOpenStackElement||(this.currentOpenStackElement={beforeVersionId:this.model.getAlternativeVersionId(),beforeCursorState:e,editOperations:[],afterCursorState:null,afterVersionId:-1});var r={operations:this.model.applyEdits(t)};this.currentOpenStackElement.editOperations.push(r);try{this.currentOpenStackElement.afterCursorState=i?i(r.operations):null}catch(e){n.onUnexpectedError(e),this.currentOpenStackElement.afterCursorState=null}return this.currentOpenStackElement.afterVersionId=this.model.getVersionId(),this.currentOpenStackElement.afterCursorState},e.prototype.undo=function(){if(this.pushStackElement(),this.past.length>0){var e=this.past.pop();try{for(var t=e.editOperations.length-1;t>=0;t--)e.editOperations[t]={operations:this.model.applyEdits(e.editOperations[t].operations)}}catch(e){return this.clear(),null}return this.future.push(e),{selections:e.beforeCursorState,recordedVersionId:e.beforeVersionId}}return null},e.prototype.redo=function(){if(this.future.length>0){if(this.currentOpenStackElement)throw new Error("How is this possible?");var e=this.future.pop();try{for(var t=0;t<e.editOperations.length;t++)e.editOperations[t]={operations:this.model.applyEdits(e.editOperations[t].operations)}}catch(e){return this.clear(),null}return this.past.push(e),{selections:e.afterCursorState,recordedVersionId:e.afterVersionId}}return null},e}();t.EditStack=i}),define(u[926],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,n){this.startLineNumber=e,this.endLineNumber=t,this.indent=n}return e.deepCloneArr=function(t){for(var n=[],i=0,r=t.length;i<r;i++){var o=t[i];n[i]=new e(o.startLineNumber,o.endLineNumber,o.indent)}return n},e}();t.IndentRange=n,t.computeRanges=function(e,t){void 0===t&&(t=1);var i=[],r=[];r.push({indent:-1,line:e.getLineCount()+1});for(var o=e.getLineCount();o>0;o--){var s=e.getIndentLevel(o);if(-1!==s){var a=r[r.length-1];if(a.indent>s){do{r.pop(),a=r[r.length-1]}while(a.indent>s);var c=a.line-1;c-o>=t&&i.push(new n(o,c,s))}a.indent===s?a.line=o:r.push({indent:s,line:o})}}return i.reverse()}}),define(u[922],d([1,0]),function(e,t){"use strict";function n(e,t,n,i){var r;for(r=0;r<t&&r<i&&(c=e.charCodeAt(r))===(d=n.charCodeAt(r));r++);for(var o=0,s=0,a=r;a<t;a++){var c=e.charCodeAt(a);32===c?o++:s++}for(var l=0,u=0,a=r;a<i;a++){var d=n.charCodeAt(a);32===d?l++:u++}if(o>0&&s>0)return 0;if(l>0&&u>0)return 0;var h=Math.abs(s-u),p=Math.abs(o-l);return 0===h?p:p%h==0?p/h:0}Object.defineProperty(t,"__esModule",{value:!0}),t.guessIndentation=function(e,t,i){for(var r=0,o=0,s="",a=0,c=[2,4,6,8],l=[0,0,0,0,0,0,0,0,0],u=0,d=e.length;u<d;u++){for(var h=e[u],p=!1,f=0,g=0,v=0,m=0,y=h.length;m<y;m++){var b=h.charCodeAt(m);if(9===b)v++;else{if(32!==b){p=!0,f=m;break}g++}}if(p){v>0?r++:g>1&&o++;var S=n(s,a,h,f);S<=8&&l[S]++,s=h,a=f}}var _=n(s,a,"",0);_<=8&&l[_]++;var E=i;r!==o&&(E=r<o);var C=t,w=E?0:.1*e.length;return c.forEach(function(e){var t=l[e];t>w&&(w=t,C=e)}),{insertSpaces:E,tabSize:C}}}),define(u[149],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextModelEventType={ModelDispose:"modelDispose",ModelTokensChanged:"modelTokensChanged",ModelLanguageChanged:"modelLanguageChanged",ModelOptionsChanged:"modelOptionsChanged",ModelContentChanged:"contentChanged",ModelRawContentChanged2:"rawContentChanged2",ModelDecorationsChanged:"decorationsChanged"};!function(e){e[e.Flush=1]="Flush",e[e.LineChanged=2]="LineChanged",e[e.LinesDeleted=3]="LinesDeleted",e[e.LinesInserted=4]="LinesInserted",e[e.EOLChanged=5]="EOLChanged"}(t.RawContentChangedType||(t.RawContentChangedType={}));var n=function(){return function(){this.changeType=1}}();t.ModelRawFlush=n;var i=function(){return function(e,t){this.changeType=2,this.lineNumber=e,this.detail=t}}();t.ModelRawLineChanged=i;var r=function(){return function(e,t){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=t}}();t.ModelRawLinesDeleted=r;var o=function(){return function(e,t,n){this.changeType=4,this.fromLineNumber=e,this.toLineNumber=t,this.detail=n}}();t.ModelRawLinesInserted=o;var s=function(){return function(){this.changeType=5}}();t.ModelRawEOLChanged=s;var a=function(){function e(e,t,n,i){this.changes=e,this.versionId=t,this.isUndoing=n,this.isRedoing=i}return e.prototype.containsEvent=function(e){for(var t=0,n=this.changes.length;t<n;t++)if(this.changes[t].changeType===e)return!0;return!1},e}();t.ModelRawContentChangedEvent=a}),define(u[409],d([1,0,12,37,14,33,252]),function(e,t,n,i,r,o,s){"use strict";function a(e,t,n){if(!n)return new o.FindMatch(e,null);for(var i=[],r=0,s=t.length;r<s;r++)i[r]=t[r];return new o.FindMatch(e,i)}function c(e,t,n,i,r){if(0===i)return!0;var o=t.charCodeAt(i-1);if(0!==e.get(o))return!0;if(r>0){var s=t.charCodeAt(i);if(0!==e.get(s))return!0}return!1}function l(e,t,n,i,r){if(i+r===n)return!0;var o=t.charCodeAt(i+r);if(0!==e.get(o))return!0;if(r>0){var s=t.charCodeAt(i+r-1);if(0!==e.get(s))return!0}return!1}function u(e,t,n,i,r){return c(e,t,n,i,r)&&l(e,t,n,i,r)}Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e,t,n,i){this.searchString=e,this.isRegex=t,this.matchCase=n,this.wordSeparators=i}return e._isMultilineRegexSource=function(e){if(!e||0===e.length)return!1;for(var t=0,n=e.length;t<n;t++)if(92===e.charCodeAt(t)){if(++t>=n)break;var i=e.charCodeAt(t);if(110===i||114===i)return!0}return!1},e.prototype.parseSearchRequest=function(){if(""===this.searchString)return null;var t;t=this.isRegex?e._isMultilineRegexSource(this.searchString):this.searchString.indexOf("\n")>=0;var i=null;try{i=n.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:t,global:!0})}catch(e){return null}if(!i)return null;var r=!this.isRegex&&!t;return r&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(r=this.matchCase),new h(i,this.wordSeparators?s.getMapForWordSeparators(this.wordSeparators):null,r?this.searchString:null)},e}();t.SearchParams=d;var h=function(){return function(e,t,n){this.regex=e,this.wordSeparators=t,this.simpleSearch=n}}();t.SearchData=h;var p=function(){function e(){}return e.findMatches=function(e,t,n,i,r){var o=t.parseSearchRequest();return o?o.regex.multiline?this._doFindMatchesMultiline(e,n,new f(o.wordSeparators,o.regex),i,r):this._doFindMatchesLineByLine(e,n,o,i,r):[]},e._getMultilineMatchRange=function(e,t,n,i,o){var s;if("\r\n"===e.getEOL()){for(var a=0,c=0;c<i;c++)10===(h=n.charCodeAt(c))&&a++;s=t+i+a}else s=t+i;var l;if("\r\n"===e.getEOL()){for(var u=0,c=0,d=o.length;c<d;c++){var h=n.charCodeAt(c+i);10===h&&u++}l=s+o.length+u}else l=s+o.length;var p=e.getPositionAt(s),f=e.getPositionAt(l);return new r.Range(p.lineNumber,p.column,f.lineNumber,f.column)},e._doFindMatchesMultiline=function(e,t,n,i,r){var s,c=e.getOffsetAt(t.getStartPosition()),l=e.getValueInRange(t,o.EndOfLinePreference.LF),u=[],d=0;for(n.reset(0);s=n.next(l);)if(u[d++]=a(this._getMultilineMatchRange(e,c,l,s.index,s[0]),s,i),d>=r)return u;return u},e._doFindMatchesLineByLine=function(e,t,n,i,r){var o=[],s=0;if(t.startLineNumber===t.endLineNumber){var a=e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1);return s=this._findMatchesInLine(n,a,t.startLineNumber,t.startColumn-1,s,o,i,r),o}var c=e.getLineContent(t.startLineNumber).substring(t.startColumn-1);s=this._findMatchesInLine(n,c,t.startLineNumber,t.startColumn-1,s,o,i,r);for(var l=t.startLineNumber+1;l<t.endLineNumber&&s<r;l++)s=this._findMatchesInLine(n,e.getLineContent(l),l,0,s,o,i,r);if(s<r){var u=e.getLineContent(t.endLineNumber).substring(0,t.endColumn-1);s=this._findMatchesInLine(n,u,t.endLineNumber,0,s,o,i,r)}return o},e._findMatchesInLine=function(e,t,n,i,s,c,l,d){var h=e.wordSeparators;if(!l&&e.simpleSearch){for(var p=e.simpleSearch,g=p.length,v=t.length,m=-g;-1!==(m=t.indexOf(p,m+g));)if((!h||u(h,t,v,m,g))&&(c[s++]=new o.FindMatch(new r.Range(n,m+1+i,n,m+1+g+i),null),s>=d))return s;return s}var y,b=new f(e.wordSeparators,e.regex);b.reset(0);do{if((y=b.next(t))&&(c[s++]=a(new r.Range(n,y.index+1+i,n,y.index+1+y[0].length+i),y,l),s>=d))return s}while(y);return s},e.findNextMatch=function(e,t,n,i){var r=t.parseSearchRequest();if(!r)return null;var o=new f(r.wordSeparators,r.regex);return r.regex.multiline?this._doFindNextMatchMultiline(e,n,o,i):this._doFindNextMatchLineByLine(e,n,o,i)},e._doFindNextMatchMultiline=function(e,t,n,s){var c=new i.Position(t.lineNumber,1),l=e.getOffsetAt(c),u=e.getLineCount(),d=e.getValueInRange(new r.Range(c.lineNumber,c.column,u,e.getLineMaxColumn(u)),o.EndOfLinePreference.LF);n.reset(t.column-1);var h=n.next(d);return h?a(this._getMultilineMatchRange(e,l,d,h.index,h[0]),h,s):1!==t.lineNumber||1!==t.column?this._doFindNextMatchMultiline(e,new i.Position(1,1),n,s):null},e._doFindNextMatchLineByLine=function(e,t,n,i){var r=e.getLineCount(),o=t.lineNumber,s=e.getLineContent(o),a=this._findFirstMatchInLine(n,s,o,t.column,i);if(a)return a;for(var c=1;c<=r;c++){var l=(o+c-1)%r,u=e.getLineContent(l+1),d=this._findFirstMatchInLine(n,u,l+1,1,i);if(d)return d}return null},e._findFirstMatchInLine=function(e,t,n,i,o){e.reset(i-1);var s=e.next(t);return s?a(new r.Range(n,s.index+1,n,s.index+1+s[0].length),s,o):null},e.findPreviousMatch=function(e,t,n,i){var r=t.parseSearchRequest();if(!r)return null;var o=new f(r.wordSeparators,r.regex);return r.regex.multiline?this._doFindPreviousMatchMultiline(e,n,o,i):this._doFindPreviousMatchLineByLine(e,n,o,i)},e._doFindPreviousMatchMultiline=function(e,t,n,o){var s=this._doFindMatchesMultiline(e,new r.Range(1,1,t.lineNumber,t.column),n,o,9990);if(s.length>0)return s[s.length-1];var a=e.getLineCount();return t.lineNumber!==a||t.column!==e.getLineMaxColumn(a)?this._doFindPreviousMatchMultiline(e,new i.Position(a,e.getLineMaxColumn(a)),n,o):null},e._doFindPreviousMatchLineByLine=function(e,t,n,i){var r=e.getLineCount(),o=t.lineNumber,s=e.getLineContent(o).substring(0,t.column-1),a=this._findLastMatchInLine(n,s,o,i);if(a)return a;for(var c=1;c<=r;c++){var l=(r+o-c-1)%r,u=e.getLineContent(l+1),d=this._findLastMatchInLine(n,u,l+1,i);if(d)return d}return null},e._findLastMatchInLine=function(e,t,n,i){var o,s=null;for(e.reset(0);o=e.next(t);)s=a(new r.Range(n,o.index+1,n,o.index+1+o[0].length),o,i);return s},e}();t.TextModelSearch=p;var f=function(){function e(e,t){this._wordSeparators=e,this._searchRegex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}return e.prototype.reset=function(e){this._searchRegex.lastIndex=e,this._prevMatchStartIndex=-1,this._prevMatchLength=0},e.prototype.next=function(e){var t,n=e.length;do{if(this._prevMatchStartIndex+this._prevMatchLength===n)return null;if(!(t=this._searchRegex.exec(e)))return null;var i=t.index,r=t[0].length;if(i===this._prevMatchStartIndex&&r===this._prevMatchLength)return null;if(this._prevMatchStartIndex=i,this._prevMatchLength=r,!this._wordSeparators||u(this._wordSeparators,e,n,i,r))return t}while(t);return null},e}()}),define(u[214],d([1,0,12,33]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.fromString=function(e){for(var t=0,i=-1;-1!==(i=e.indexOf("\r",i+1));)t++;var r=n.containsRTL(e),o=!r&&n.isBasicASCII(e),s=e.split(/\r\n|\r|\n/),a="";return n.startsWithUTF8BOM(s[0])&&(a=n.UTF8_BOM_CHARACTER,s[0]=s[0].substr(1)),{BOM:a,lines:s,length:e.length,containsRTL:r,isBasicASCII:o,totalCRCount:t}},e}();t.RawTextSource=r;var o=function(){function e(){}return e._getEOL=function(e,t){var n=e.lines.length-1;return 0===n?t===i.DefaultEndOfLine.LF?"\n":"\r\n":e.totalCRCount>n/2?"\r\n":"\n"},e.fromRawTextSource=function(e,t){return{length:e.length,lines:e.lines,BOM:e.BOM,EOL:this._getEOL(e,t),containsRTL:e.containsRTL,isBasicASCII:e.isBasicASCII}},e.fromString=function(e,t){return this.fromRawTextSource(r.fromString(e),t)},e.create=function(e,t){return"string"==typeof e?this.fromString(e,t):this.fromRawTextSource(e,t)},e}();t.TextSource=o}),define(u[215],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.getLanguageId=function(e){return(255&e)>>>0},e.getTokenType=function(e){return(1792&e)>>>8},e.getFontStyle=function(e){return(14336&e)>>>11},e.getForeground=function(e){return(8372224&e)>>>14},e.getBackground=function(e){return(4286578688&e)>>>23},e.getClassNameFromMetadata=function(e){var t="mtk"+this.getForeground(e),n=this.getFontStyle(e);return 1&n&&(t+=" mtki"),2&n&&(t+=" mtkb"),4&n&&(t+=" mtku"),t},e.getInlineStyleFromMetadata=function(e,t){var n=this.getForeground(e),i=this.getFontStyle(e),r="color: "+t[n]+";";return 1&i&&(r+="font-style: italic;"),2&i&&(r+="font-weight: bold;"),4&i&&(r+="text-decoration: underline;"),r},e}();t.TokenMetadata=n}),define(u[250],d([1,0,215]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this.endIndex=e,this._metadata=t}return e.prototype.getForeground=function(){return n.TokenMetadata.getForeground(this._metadata)},e.prototype.getType=function(){return n.TokenMetadata.getClassNameFromMetadata(this._metadata)},e.prototype.getInlineStyle=function(e){return n.TokenMetadata.getInlineStyleFromMetadata(this._metadata,e)},e._equals=function(e,t){return e.endIndex===t.endIndex&&e._metadata===t._metadata},e.equalsArr=function(e,t){var n=e.length;if(n!==t.length)return!1;for(var i=0;i<n;i++)if(!this._equals(e[i],t[i]))return!1;return!0},e}();t.ViewLineToken=i;var r=function(){function e(){}return e.inflateArr=function(e,t){for(var n=[],r=0,o=e.length>>>1;r<o;r++){var s=r+1<o?e[r+1<<1]:t,a=e[1+(r<<1)];n[r]=new i(s,a)}return n},e.sliceAndInflate=function(e,t,n,r,o){for(var s=n-t+r,a=[],c=0,l=this.findIndexInSegmentsArray(e,t),u=e.length>>>1;l<u&&!(e[l<<1]>=n);l++){var d=l+1<u?e[l+1<<1]:o,h=Math.min(s,d-t+r),p=e[1+(l<<1)];a[c++]=new i(h,p)}return a},e.findIndexInSegmentsArray=function(e,t){for(var n=0,i=(e.length>>>1)-1;n<i;){var r=n+Math.ceil((i-n)/2);e[r<<1]>t?i=r-1:n=r}return n},e}();t.ViewLineTokenFactory=r}),define(u[413],d([1,0,215,250]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,i,r,o){this._source=e,this._tokenIndex=t,this._metadata=o,this.startOffset=i,this.endOffset=r,this.hasPrev=this._tokenIndex>0,this.hasNext=this._tokenIndex+1<n}return Object.defineProperty(e.prototype,"languageId",{get:function(){return n.TokenMetadata.getLanguageId(this._metadata)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tokenType",{get:function(){return n.TokenMetadata.getTokenType(this._metadata)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return n.TokenMetadata.getFontStyle(this._metadata)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"foregroundId",{get:function(){return n.TokenMetadata.getForeground(this._metadata)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backgroundId",{get:function(){return n.TokenMetadata.getBackground(this._metadata)},enumerable:!0,configurable:!0}),e.prototype.prev=function(){return this.hasPrev?this._source.tokenAt(this._tokenIndex-1):null},e.prototype.next=function(){return this.hasNext?this._source.tokenAt(this._tokenIndex+1):null},e}();t.LineToken=r;var o=function(){function e(e,t){this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t,this._textLength=this._text.length}return e.prototype.getTokenCount=function(){return this._tokensCount},e.prototype.getLineContent=function(){return this._text},e.prototype.getLineLength=function(){return this._textLength},e.prototype.getTokenStartOffset=function(e){return this._tokens[e<<1]},e.prototype.getLanguageId=function(e){var t=this._tokens[1+(e<<1)];return n.TokenMetadata.getLanguageId(t)},e.prototype.getStandardTokenType=function(e){var t=this._tokens[1+(e<<1)];return n.TokenMetadata.getTokenType(t)},e.prototype.getTokenEndOffset=function(e){return e+1<this._tokensCount?this._tokens[e+1<<1]:this._textLength},e.prototype.findTokenIndexAtOffset=function(e){return i.ViewLineTokenFactory.findIndexInSegmentsArray(this._tokens,e)},e.prototype.findTokenAtOffset=function(e){var t=this.findTokenIndexAtOffset(e);return this.tokenAt(t)},e.prototype.tokenAt=function(e){var t,n=this._tokens[e<<1];t=e+1<this._tokensCount?this._tokens[e+1<<1]:this._textLength;var i=this._tokens[1+(e<<1)];return new r(this,e,this._tokensCount,n,t,i)},e.prototype.firstToken=function(){return 0===this._textLength?null:this.tokenAt(0)},e.prototype.lastToken=function(){return 0===this._textLength?null:this.tokenAt(this._tokensCount-1)},e.prototype.inflate=function(){return i.ViewLineTokenFactory.inflateArr(this._tokens,this._textLength)},e.prototype.sliceAndInflate=function(e,t,n){return i.ViewLineTokenFactory.sliceAndInflate(this._tokens,e,t,n,this._textLength)},e}();t.LineTokens=o}),define(u[249],d([1,0,413,37]),function(e,t,n,i){"use strict";function r(e,t){for(var n=0,i=0,r=e.length;i<r;){var o=e.charCodeAt(i);if(32===o)n++;else{if(9!==o)break;n=n-n%t+t}i++}return i===r?0:n+1}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,n,i){this.id=e,this.internalDecorationId=t,this.position=n,this.stickToPreviousCharacter=i}return e.prototype.toString=function(){return"{'"+this.id+"';"+this.position.toString()+","+this.stickToPreviousCharacter+"}"},e.prototype.updateLineNumber=function(e,t){this.position.lineNumber!==t&&(e.addChangedMarker(this),this.position=new i.Position(t,this.position.column))},e.prototype.updateColumn=function(e,t){this.position.column!==t&&(e.addChangedMarker(this),this.position=new i.Position(this.position.lineNumber,t))},e.prototype.updatePosition=function(e,t){this.position.lineNumber===t.lineNumber&&this.position.column===t.column||(e.addChangedMarker(this),this.position=t)},e.prototype.setPosition=function(e){this.position=e},e.compareMarkers=function(e,t){return e.position.column===t.position.column?(e.stickToPreviousCharacter?0:1)-(t.stickToPreviousCharacter?0:1):e.position.column-t.position.column},e}();t.LineMarker=o;var s=function(){function e(){this._changedDecorations=[],this._changedDecorationsLen=0}return e.prototype.addChangedMarker=function(e){var t=e.internalDecorationId;0!==t&&(this._changedDecorations[this._changedDecorationsLen++]=t)},e.prototype.getDecorationIds=function(){return this._changedDecorations},e}();t.MarkersTracker=s;var a,c={adjust:function(){},finish:function(){}},l={adjustDelta:function(){},adjustSet:function(){},finish:function(){}};!function(e){e[e.MarkerDefined=0]="MarkerDefined",e[e.ForceMove=1]="ForceMove",e[e.ForceStay=2]="ForceStay"}(a||(a={}));var u=function(){function e(e,t,n){this._lineNumber=0|e,this._metadata=0,this._setText(t,n),this._state=null,this._lineTokens=null,this._markers=null}return Object.defineProperty(e.prototype,"lineNumber",{get:function(){return this._lineNumber},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInvalid",{get:function(){return!!(1&this._metadata)},set:function(e){this._metadata=4294967294&this._metadata|(e?1:0)},enumerable:!0,configurable:!0}),e.prototype.getIndentLevel=function(){return((4294967294&this._metadata)>>1)-1},e.prototype._setPlusOneIndentLevel=function(e){this._metadata=1&this._metadata|(4026531839&e)<<1},e.prototype.updateTabSize=function(e){0===e?this._metadata=1&this._metadata:this._setPlusOneIndentLevel(r(this._text,e))},e.prototype.resetTokenizationState=function(){this._state=null,this._lineTokens=null},e.prototype.setState=function(e){this._state=e},e.prototype.getState=function(){return this._state||null},e._getDefaultMetadata=function(e){return(16384|e<<0|2<<23)>>>0},e.prototype.setTokens=function(t,n){n&&0!==n.length&&(2!==n.length||0!==n[0]||n[1]!==e._getDefaultMetadata(t))?this._lineTokens=n.buffer:this._lineTokens=null},e.prototype.getTokens=function(t){var i=this._lineTokens;if(i)return new n.LineTokens(new Uint32Array(i),this._text);var r=new Uint32Array(2);return r[0]=0,r[1]=e._getDefaultMetadata(t),new n.LineTokens(r,this._text)},e.prototype._createTokensAdjuster=function(){var e=this;if(!this._lineTokens)return c;var t=new Uint32Array(this._lineTokens),n=t.length>>>1,i=0,r=0,o=0,s=function(e,s,a){for(var c=a-1;r<e&&i<n;){if(r>0&&0!==s){var l=Math.max(c,r+s);if(t[i<<1]=l,s<0)for(var u=i;u>0;){var d=t[u-1<<1];if(!(d>=l))break;4294967295!==d&&(t[u-1<<1]=4294967295,o++),u--}}++i<n&&(r=t[i<<1])}};return{adjust:s,finish:function(t,n){s(1073741824,t,1),e._deleteMarkedTokens(e._markOverflowingTokensForDeletion(o,n))}}},e.prototype._markOverflowingTokensForDeletion=function(e,t){if(!this._lineTokens)return e;var n=new Uint32Array(this._lineTokens),i=n.length>>>1;if(e+1===i)return e;for(var r=i-1;r>0;r--){var o=n[r<<1];if(o<t)return e;if(4294967295!==o&&(n[r<<1]=4294967295,++e+1===i))return e}return e},e.prototype._deleteMarkedTokens=function(e){if(0!==e){for(var t=new Uint32Array(this._lineTokens),n=t.length>>>1,i=new Uint32Array(n-e<<1),r=0,o=0;o<n;o++){var s=t[o<<1];if(4294967295!==s){var a=t[1+(o<<1)];i[r++]=s,i[r++]=a}}this._lineTokens=i.buffer}},e.prototype._setText=function(e,t){this._text=e,0===t?this._metadata=1&this._metadata:this._setPlusOneIndentLevel(r(e,t))},e.prototype._createMarkersAdjuster=function(e){if(!this._markers)return l;if(0===this._markers.length)return l;this._markers.sort(o.compareMarkers);var t=this._markers,n=t.length,i=0,r=t[i],s=function(e,t){return r.position.column<e||!(r.position.column>e)&&(1!==t&&(2===t||r.stickToPreviousCharacter))},a=function(o,a,c,l){for(;i<n&&s(o,l);){if(0!==a){var u=Math.max(c,r.position.column+a);r.updateColumn(e,u)}++i<n&&(r=t[i])}};return{adjustDelta:a,adjustSet:function(o,a,c){for(;i<n&&s(o,c);)r.updateColumn(e,a),++i<n&&(r=t[i])},finish:function(e,t){a(1073741824,e,1,0)}}},e.prototype.applyEdits=function(e,t,n){for(var i=0,r=this._text,o=this._createTokensAdjuster(),s=this._createMarkersAdjuster(e),a=0,c=t.length;a<c;a++){var l=t[a],u=i+l.startColumn,d=i+l.endColumn,h=d-u,p=l.text.length;o.adjust(l.startColumn-1,i,1),s.adjustDelta(l.startColumn,i,1,l.forceMoveMarkers?1:h>0?2:0);var f=Math.min(h,p);f>0&&(o.adjust(l.startColumn-1+f,i,u),l.forceMoveMarkers||s.adjustDelta(l.startColumn+f,i,u,l.forceMoveMarkers?1:h>p?2:0)),r=r.substring(0,u-1)+l.text+r.substring(d-1),i+=p-h,o.adjust(l.endColumn,i,u),s.adjustSet(l.endColumn,u+p,l.forceMoveMarkers?1:0)}return o.finish(i,r.length),s.finish(i,r.length),this._setText(r,n),i},e.prototype.split=function(t,n,i,r){var s=this._text.substring(0,n-1),a=this._text.substring(n-1),c=null;if(this._markers){this._markers.sort(o.compareMarkers);for(var l=0,u=this._markers.length;l<u;l++)if((h=this._markers[l]).position.column>n||h.position.column===n&&(i||!h.stickToPreviousCharacter)){var d=this._markers.slice(0,l);c=this._markers.slice(l),this._markers=d;break}if(c)for(var l=0,u=c.length;l<u;l++){var h=c[l];h.updateColumn(t,h.position.column-(n-1))}}this._setText(s,r),this._deleteMarkedTokens(this._markOverflowingTokensForDeletion(0,this._text.length));var p=new e(this._lineNumber+1,a,r);return c&&p.addMarkers(c),p},e.prototype.append=function(e,t,n){var r=this._text.length;this._setText(this._text+t._text,n);var o=t._lineTokens;if(o){var s=new Uint32Array(o);if(r>0)for(var a=0,c=s.length>>>1;a<c;a++)s[a<<1]=s[a<<1]+r;var l=this._lineTokens;if(l){var u=new Uint32Array(l),d=new Uint32Array(u.length+s.length);d.set(u,0),d.set(s,u.length),this._lineTokens=d.buffer}else this._lineTokens=s.buffer}if(t._markers){for(var h=t._markers,a=0,c=h.length;a<c;a++){var p=h[a];p.updatePosition(e,new i.Position(this._lineNumber,p.position.column+r))}this.addMarkers(h)}},e.prototype.addMarker=function(e){this._markers?this._markers.push(e):this._markers=[e]},e.prototype.addMarkers=function(e){0!==e.length&&(this._markers?this._markers=this._markers.concat(e):this._markers=e.slice(0))},e.prototype.removeMarker=function(e){if(this._markers){var t=this._indexOfMarkerId(e.id);t<0||(1===this._markers.length?this._markers=null:this._markers.splice(t,1))}},e.prototype.removeMarkers=function(e){if(this._markers){for(var t=0,n=this._markers.length;t<n;t++)e[this._markers[t].id]&&(this._markers.splice(t,1),n--,t--);0===this._markers.length&&(this._markers=null)}},e.prototype.getMarkers=function(){return this._markers?this._markers:null},e.prototype.updateLineNumber=function(e,t){if(this._lineNumber!==t){if(this._markers)for(var n=this._markers,i=0,r=n.length;i<r;i++)n[i].updateLineNumber(e,t);this._lineNumber=t}},e.prototype._indexOfMarkerId=function(e){for(var t=this._markers,n=0,i=t.length;n<i;n++)if(t[n].id===e)return n},e}();t.ModelLine=u}),define(u[188],d([1,0]),function(e,t){"use strict";function n(e,t,n,r){if(t.test(" "))return i(e,t,n,r);var o=e-1-r,s=n.lastIndexOf(" ",o-1)+1,a=n.indexOf(" ",o);-1===a&&(a=n.length),t.lastIndex=s;for(var c;c=t.exec(n);)if(c.index<=o&&t.lastIndex>=o)return{word:c[0],startColumn:r+1+c.index,endColumn:r+1+t.lastIndex};return null}function i(e,t,n,i){var r=e-1-i;t.lastIndex=0;for(var o;o=t.exec(n);){if(o.index>r)return null;if(t.lastIndex>=r)return{word:o[0],startColumn:i+1+o.index,endColumn:i+1+t.lastIndex}}return null}Object.defineProperty(t,"__esModule",{value:!0}),t.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?",t.DEFAULT_WORD_REGEXP=function(e){void 0===e&&(e="");for(var n=t.USUAL_WORD_SEPARATORS,i="(-?\\d*\\.\\d\\w*)|([^",r=0;r<n.length;r++)e.indexOf(n[r])>=0||(i+="\\"+n[r]);return i+="\\s]+)",new RegExp(i,"g")}(),t.ensureValidWordDefinition=function(e){var n=t.DEFAULT_WORD_REGEXP;if(e&&e instanceof RegExp)if(e.global)n=e;else{var i="g";e.ignoreCase&&(i+="i"),e.multiline&&(i+="m"),n=new RegExp(e.source,i)}return n.lastIndex=0,n},t.getWordAtText=function(e,t,i,r){var o=n(e,t,i,r);return t.lastIndex=0,o}}),define(u[921],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this._languageIdentifier=e}return e.prototype.getId=function(){return this._languageIdentifier.language},e.prototype.getLanguageIdentifier=function(){return this._languageIdentifier},e}();t.FrankensteinMode=n}),define(u[173],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.None=0]="None",e[e.Indent=1]="Indent",e[e.IndentOutdent=2]="IndentOutdent",e[e.Outdent=3]="Outdent"}(t.IndentAction||(t.IndentAction={}));var n=function(){function e(e){if(this.open=e.open,this.close=e.close,this._standardTokenMask=0,Array.isArray(e.notIn))for(var t=0,n=e.notIn.length;t<n;t++)switch(e.notIn[t]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4}}return e.prototype.isOK=function(e){return 0==(this._standardTokenMask&e)},e}();t.StandardAutoClosingPairConditional=n}),define(u[919],d([1,0,145]),function(e,t,n){"use strict";function i(e,t,r){if(Array.isArray(e)){for(var o=0,s=0,a=e;s<a.length;s++){var c=i(a[s],t,r);if(10===c)return c;c>o&&(o=c)}return o}if("string"==typeof e)return"*"===e?5:e===r?10:0;if(e){var l=e.language,u=e.pattern,d=e.scheme,o=0;if(d)if(d===t.scheme)o=10;else{if("*"!==d)return 0;o=5}if(l)if(l===r)o=10;else{if("*"!==l)return 0;o=Math.max(o,5)}if(u){if(u!==t.fsPath&&!n.match(u,t.fsPath))return 0;o=10}return o}return 0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return i(e,t,n)>0},t.score=i}),define(u[918],d([1,0,8,919]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this._clock=0,this._entries=[],this._onDidChange=new n.Emitter}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),e.prototype.register=function(e,t){var n=this,i={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),{dispose:function(){if(i){var e=n._entries.indexOf(i);e>=0&&(n._entries.splice(e,1),n._lastCandidate=void 0,n._onDidChange.fire(n._entries.length),i=void 0)}}}},e.prototype.has=function(e){return this.all(e).length>0},e.prototype.all=function(e){if(!e||e.isTooLargeForHavingARichMode())return[];this._updateScores(e);for(var t=[],n=0,i=this._entries;n<i.length;n++){var r=i[n];r._score>0&&t.push(r.provider)}return t},e.prototype.ordered=function(e){var t=[];return this._orderedForEach(e,function(e){return t.push(e.provider)}),t},e.prototype.orderedGroups=function(e){var t,n,i=[];return this._orderedForEach(e,function(e){t&&n===e._score?t.push(e.provider):(n=e._score,t=[e.provider],i.push(t))}),i},e.prototype._orderedForEach=function(e,t){if(e&&!e.isTooLargeForHavingARichMode()){this._updateScores(e);for(var n=0;n<this._entries.length;n++){var i=this._entries[n];i._score>0&&t(i)}}},e.prototype._updateScores=function(t){var n={uri:t.uri.toString(),language:t.getLanguageIdentifier().language};if(!this._lastCandidate||this._lastCandidate.language!==n.language||this._lastCandidate.uri!==n.uri){this._lastCandidate=n;for(var r=0,o=this._entries;r<o.length;r++){var s=o[r];s._score=i.score(s.selector,t.uri,t.getLanguageIdentifier().language)}this._entries.sort(e._compareByScoreAndTime)}},e._compareByScoreAndTime=function(e,t){return e._score<t._score?1:e._score>t._score?-1:e._time<t._time?1:e._time>t._time?-1:0},e}();t.default=r}),define(u[917],d([1,0,195,254]),function(e,t,n,i){"use strict";function r(){return null===l&&(l=new c([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),l}function o(){if(null===u){u=new n.CharacterClassifier(0);for(e=0;e<" \t<>'\"、。｡､，．：；？！＠＃＄％＆＊‘“〈《「『【〔（［｛｢｣｝］）〕】』」》〉”’｀～…".length;e++)u.set(" \t<>'\"、。｡､，．：；？！＠＃＄％＆＊‘“〈《「『【〔（［｛｢｣｝］）〕】』」》〉”’｀～…".charCodeAt(e),1);for(var e=0;e<".,;".length;e++)u.set(".,;".charCodeAt(e),2)}return u}Object.defineProperty(t,"__esModule",{value:!0});var s;!function(e){e[e.Invalid=0]="Invalid",e[e.Start=1]="Start",e[e.H=2]="H",e[e.HT=3]="HT",e[e.HTT=4]="HTT",e[e.HTTP=5]="HTTP",e[e.F=6]="F",e[e.FI=7]="FI",e[e.FIL=8]="FIL",e[e.BeforeColon=9]="BeforeColon",e[e.AfterColon=10]="AfterColon",e[e.AlmostThere=11]="AlmostThere",e[e.End=12]="End",e[e.Accept=13]="Accept"}(s||(s={}));var a,c=function(){function e(e){for(var t=0,n=0,r=0,o=e.length;r<o;r++){var s=e[r],a=s[0],c=s[1],l=s[2];c>t&&(t=c),a>n&&(n=a),l>n&&(n=l)}t++,n++;for(var u=new i.Uint8Matrix(n,t,0),r=0,o=e.length;r<o;r++){var d=e[r],a=d[0],c=d[1],l=d[2];u.set(a,c,l)}this._states=u,this._maxCharCode=t}return e.prototype.nextState=function(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)},e}(),l=null;!function(e){e[e.None=0]="None",e[e.ForceTermination=1]="ForceTermination",e[e.CannotEndIn=2]="CannotEndIn"}(a||(a={}));var u=null,d=function(){function e(){}return e._createLink=function(e,t,n,i,r){var o=r-1;do{var s=t.charCodeAt(o);if(2!==e.get(s))break;o--}while(o>i);return{range:{startLineNumber:n,startColumn:i+1,endLineNumber:n,endColumn:o+2},url:t.substring(i,o+1)}},e.computeLinks=function(t){for(var n=r(),i=o(),s=[],a=1,c=t.getLineCount();a<=c;a++){for(var l=t.getLineContent(a),u=l.length,d=0,h=0,p=0,f=1,g=!1,v=!1,m=!1;d<u;){var y=!1,b=l.charCodeAt(d);if(13===f){var S=void 0;switch(b){case 40:g=!0,S=0;break;case 41:S=g?0:1;break;case 91:v=!0,S=0;break;case 93:S=v?0:1;break;case 123:m=!0,S=0;break;case 125:S=m?0:1;break;case 39:S=34===p||96===p?0:1;break;case 34:S=39===p||96===p?0:1;break;case 96:S=39===p||34===p?0:1;break;default:S=i.get(b)}1===S&&(s.push(e._createLink(i,l,a,h,d)),y=!0)}else 12===f?1===(S=i.get(b))?y=!0:f=13:0===(f=n.nextState(f,b))&&(y=!0);y&&(f=1,g=!1,v=!1,m=!1,h=d+1,p=b),d++}13===f&&s.push(e._createLink(i,l,a,h,u))}return s},e}();t.computeLinks=function(e){return e&&"function"==typeof e.getLineCount&&"function"==typeof e.getLineContent?d.computeLinks(e):[]}}),define(u[916],d([1,0,173]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map(function(e){return new n.StandardAutoClosingPairConditional(e)}):e.brackets?this._autoClosingPairs=e.brackets.map(function(e){return new n.StandardAutoClosingPairConditional({open:e[0],close:e[1]})}):this._autoClosingPairs=[],this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}return e.prototype.getAutoClosingPairs=function(){return this._autoClosingPairs},e.prototype.shouldAutoClosePair=function(e,t,n){if(0===t.getTokenCount())return!0;for(var i=t.findTokenIndexAtOffset(n-2),r=t.getStandardTokenType(i),o=0;o<this._autoClosingPairs.length;++o){var s=this._autoClosingPairs[o];if(s.open===e)return s.isOK(r)}return!0},e.prototype.getSurroundingPairs=function(){return this._surroundingPairs},e}();t.CharacterPairSupport=i}),define(u[905],d([1,0,12,173]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.INCREASE_MASK=1]="INCREASE_MASK",e[e.DECREASE_MASK=2]="DECREASE_MASK",e[e.INDENT_NEXTLINE_MASK=4]="INDENT_NEXTLINE_MASK",e[e.UNINDENT_MASK=8]="UNINDENT_MASK"}(t.IndentConsts||(t.IndentConsts={}));var r=function(){function e(e){this._indentationRules=e}return e.prototype.onType=function(e){if(this._indentationRules){if(this._indentationRules.unIndentedLinePattern&&this._indentationRules.unIndentedLinePattern.test(e))return null;if(this._indentationRules.decreaseIndentPattern&&this._indentationRules.decreaseIndentPattern.test(e))return i.IndentAction.Outdent}return null},e.prototype.containNonWhitespace=function(e){return n.lastNonWhitespaceIndex(e)>=0},e.prototype.shouldIncrease=function(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&this._indentationRules.increaseIndentPattern.test(e))},e.prototype.shouldDecrease=function(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&this._indentationRules.decreaseIndentPattern.test(e))},e.prototype.shouldIndentNextLine=function(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&this._indentationRules.indentNextLinePattern.test(e))},e.prototype.shouldIgnore=function(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&this._indentationRules.unIndentedLinePattern.test(e))},e.prototype.getIndentMetadata=function(e){var t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t},e}();t.IndentRulesSupport=r}),define(u[899],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}return e.prototype.navigateValueSet=function(e,t,n,i,r){if(e&&t&&(o=this.doNavigateValueSet(t,r)))return{range:e,value:o};if(n&&i){var o=this.doNavigateValueSet(i,r);if(o)return{range:n,value:o}}return null},e.prototype.doNavigateValueSet=function(e,t){var n=this.numberReplace(e,t);return null!==n?n:this.textReplace(e,t)},e.prototype.numberReplace=function(e,t){var n=Math.pow(10,e.length-(e.lastIndexOf(".")+1)),i=Number(e),r=parseFloat(e);return isNaN(i)||isNaN(r)||i!==r?null:0!==i||t?(i=Math.floor(i*n),i+=t?n:-n,String(i/n)):null},e.prototype.textReplace=function(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)},e.prototype.valueSetsReplace=function(e,t,n){for(var i=null,r=0,o=e.length;null===i&&r<o;r++)i=this.valueSetReplace(e[r],t,n);return i},e.prototype.valueSetReplace=function(e,t,n){var i=e.indexOf(t);return i>=0?((i+=n?1:-1)<0?i=e.length-1:i%=e.length,e[i]):null},e}();n.INSTANCE=new n,t.BasicInplaceReplace=n}),define(u[898],d([1,0,7,12,173]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t){(t=t||{}).brackets=t.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=t.brackets.map(function(t){return{open:t[0],openRegExp:e._createOpenBracketRegExp(t[0]),close:t[1],closeRegExp:e._createCloseBracketRegExp(t[1])}}),this._regExpRules=t.regExpRules||[],this._indentationRules=t.indentationRules}return e.prototype.onEnter=function(e,t,n){for(var i=0,o=this._regExpRules.length;i<o;i++){var s=this._regExpRules[i];if(s.beforeText.test(t)){if(!s.afterText)return s.action;if(s.afterText.test(n))return s.action}}if(t.length>0&&n.length>0)for(var i=0,o=this._brackets.length;i<o;i++)if((a=this._brackets[i]).openRegExp.test(t)&&a.closeRegExp.test(n))return{indentAction:r.IndentAction.IndentOutdent};if(t.length>0)for(var i=0,o=this._brackets.length;i<o;i++){var a=this._brackets[i];if(a.openRegExp.test(t))return{indentAction:r.IndentAction.Indent}}return null},e._createOpenBracketRegExp=function(t){var n=i.escapeRegExpCharacters(t);return/\B/.test(n.charAt(0))||(n="\\b"+n),n+="\\s*$",e._safeRegExp(n)},e._createCloseBracketRegExp=function(t){var n=i.escapeRegExpCharacters(t);return/\B/.test(n.charAt(n.length-1))||(n+="\\b"),n="^\\s*"+n,e._safeRegExp(n)},e._safeRegExp=function(e){try{return new RegExp(e)}catch(e){return n.onUnexpectedError(e),null}},e}();t.OnEnterSupport=o}),define(u[248],d([1,0,12,14]),function(e,t,n,i){"use strict";function r(e,t){var n={};return function(i){var r=e(i);return n.hasOwnProperty(r)||(n[r]=t(i)),n[r]}}function o(e){var t="("+e.map(n.escapeRegExpCharacters).join(")|(")+")";return n.createRegExp(t,!0)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){return function(e,t,n,i,r){this.languageIdentifier=e,this.open=t,this.close=n,this.forwardRegex=i,this.reversedRegex=r}}();t.RichEditBracket=s;var a=function(){return function(e,t){var n=this;this.brackets=t.map(function(t){return new s(e,t[0],t[1],c({open:t[0],close:t[1]}),l({open:t[0],close:t[1]}))}),this.forwardRegex=u(this.brackets),this.reversedRegex=d(this.brackets),this.textIsBracket={},this.textIsOpenBracket={};var i=0;this.brackets.forEach(function(e){n.textIsBracket[e.open.toLowerCase()]=e,n.textIsBracket[e.close.toLowerCase()]=e,n.textIsOpenBracket[e.open.toLowerCase()]=!0,n.textIsOpenBracket[e.close.toLowerCase()]=!1,i=Math.max(i,e.open.length),i=Math.max(i,e.close.length)}),this.maxBracketLength=i}}();t.RichEditBrackets=a;var c=r(function(e){return e.open+";"+e.close},function(e){return o([e.open,e.close])}),l=r(function(e){return e.open+";"+e.close},function(e){return o([h(e.open),h(e.close)])}),u=r(function(e){return e.map(function(e){return e.open+";"+e.close}).join(";")},function(e){var t=[];return e.forEach(function(e){t.push(e.open),t.push(e.close)}),o(t)}),d=r(function(e){return e.map(function(e){return e.open+";"+e.close}).join(";")},function(e){var t=[];return e.forEach(function(e){t.push(h(e.open)),t.push(h(e.close))}),o(t)}),h=function(){function e(e){for(var t="",n=e.length-1;n>=0;n--)t+=e.charAt(n);return t}var t=null,n=null;return function(i){return t!==i&&(n=e(t=i)),n}}(),p=function(){function e(){}return e._findPrevBracketInText=function(e,t,n,r){var o=n.match(e);if(!o)return null;var s=n.length-o.index,a=o[0].length,c=r+s;return new i.Range(t,c-a+1,t,c+1)},e.findPrevBracketInToken=function(e,t,n,i,r){var o=h(n).substring(n.length-r,n.length-i);return this._findPrevBracketInText(e,t,o,i)},e.findNextBracketInText=function(e,t,n,r){var o=n.match(e);if(!o)return null;var s=o.index,a=o[0].length,c=r+s;return new i.Range(t,c+1,t,c+1+a)},e.findNextBracketInToken=function(e,t,n,i,r){var o=n.substring(i,r);return this.findNextBracketInText(e,t,o,i)},e}();t.BracketsUtils=p}),define(u[897],d([1,0,58]),function(e,t,n){"use strict";function i(e){if(!e||!Array.isArray(e))return[];for(var t=[],n=0,i=0,r=e.length;i<r;i++){var o=e[i],s=-1;if("string"==typeof o.fontStyle){s=0;for(var c=o.fontStyle.split(" "),l=0,u=c.length;l<u;l++)switch(c[l]){case"italic":s|=1;break;case"bold":s|=2;break;case"underline":s|=4}}var d=null;"string"==typeof o.foreground&&(d=o.foreground);var h=null;"string"==typeof o.background&&(h=o.background),t[n++]=new a(o.token||"",i,s,d,h)}return t}function r(e){e.sort(function(e,t){var n=s(e.token,t.token);return 0!==n?n:e.index-t.index});for(var t=0,n="000000",i="ffffff";e.length>=1&&""===e[0].token;){var r=e.shift();-1!==r.fontStyle&&(t=r.fontStyle),null!==r.foreground&&(n=r.foreground),null!==r.background&&(i=r.background)}for(var o=new c,a=new d(t,o.getId(n),o.getId(i)),u=new p(a),h=0,f=e.length;h<f;h++){var g=e[h];u.insert(g.token,g.fontStyle,o.getId(g.foreground),o.getId(g.background))}return new l(o,u)}function o(e){var t=e.match(u);if(!t)return 0;switch(t[1]){case"comment":return 1;case"string":return 2;case"regex":return 4}throw new Error("Unexpected match for standard token type!")}function s(e,t){return e<t?-1:e>t?1:0}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){return function(e,t,n,i,r){this.token=e,this.index=t,this.fontStyle=n,this.foreground=i,this.background=r}}();t.ParsedTokenThemeRule=a,t.parseTokenTheme=i;var c=function(){function e(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}return e.prototype.getId=function(e){if(null===e)return 0;if(e=e.toUpperCase(),!/^[0-9A-F]{6}$/.test(e))throw new Error("Illegal color name: "+e);var t=this._color2id.get(e);return t||(t=++this._lastColorId,this._color2id.set(e,t),this._id2color[t]=n.Color.fromHex("#"+e),t)},e.prototype.getColorMap=function(){return this._id2color.slice(0)},e}();t.ColorMap=c;var l=function(){function e(e,t){this._colorMap=e,this._root=t,this._cache=new Map}return e.createFromRawTokenTheme=function(e){return this.createFromParsedTokenTheme(i(e))},e.createFromParsedTokenTheme=function(e){return r(e)},e.prototype.getColorMap=function(){return this._colorMap.getColorMap()},e.prototype.getThemeTrieElement=function(){return this._root.toExternalThemeTrieElement()},e.prototype._match=function(e){return this._root.match(e)},e.prototype.match=function(e,t){var n=this._cache.get(t);if(void 0===n){var i=this._match(t),r=o(t);n=(i.metadata|r<<8)>>>0,this._cache.set(t,n)}return(n|e<<0)>>>0},e}();t.TokenTheme=l;var u=/\b(comment|string|regex)\b/;t.toStandardTokenType=o,t.strcmp=s;var d=function(){function e(e,t,n){this._fontStyle=e,this._foreground=t,this._background=n,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}return e.prototype.clone=function(){return new e(this._fontStyle,this._foreground,this._background)},e.cloneArr=function(e){for(var t=[],n=0,i=e.length;n<i;n++)t[n]=e[n].clone();return t},e.prototype.acceptOverwrite=function(e,t,n){-1!==e&&(this._fontStyle=e),0!==t&&(this._foreground=t),0!==n&&(this._background=n),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0},e}();t.ThemeTrieElementRule=d;var h=function(){return function(e,t){this.mainRule=e,this.children=t||Object.create(null)}}();t.ExternalThemeTrieElement=h;var p=function(){function e(e){this._mainRule=e,this._children=new Map}return e.prototype.toExternalThemeTrieElement=function(){var e=Object.create(null);return this._children.forEach(function(t,n){e[n]=t.toExternalThemeTrieElement()}),new h(this._mainRule,e)},e.prototype.match=function(e){if(""===e)return this._mainRule;var t,n,i=e.indexOf(".");-1===i?(t=e,n=""):(t=e.substring(0,i),n=e.substring(i+1));var r=this._children.get(t);return void 0!==r?r.match(n):this._mainRule},e.prototype.insert=function(t,n,i,r){if(""!==t){var o,s,a=t.indexOf(".");-1===a?(o=t,s=""):(o=t.substring(0,a),s=t.substring(a+1));var c=this._children.get(o);void 0===c&&(c=new e(this._mainRule.clone()),this._children.set(o,c)),c.insert(s,n,i,r)}else this._mainRule.acceptOverwrite(n,i,r)},e}();t.ThemeTrieElement=p,t.generateTokensCSSForColorMap=function(e){for(var t=[],n=1,i=e.length;n<i;n++){var r=e[n];t[n]=".mtk"+n+" { color: "+r.toString()+"; }"}return t.push(".mtki { font-style: italic; }"),t.push(".mtkb { font-weight: bold; }"),t.push(".mtku { text-decoration: underline; }"),t.join("\n")}}),define(u[896],d([1,0,8,26]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this._onDidChange=new n.Emitter,this.onDidChange=this._onDidChange.event,this._map=Object.create(null),this._colorMap=null}return e.prototype.fire=function(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})},e.prototype.register=function(e,t){var n=this;return this._map[e]=t,this.fire([e]),{dispose:function(){n._map[e]===t&&(delete n._map[e],n.fire([e]))}}},e.prototype.get=function(e){return this._map[e]||null},e.prototype.setColorMap=function(e){i.equals(e,this._colorMap)||(this._colorMap=e,this._onDidChange.fire({changedLanguages:Object.keys(this._map),changedColorMap:!0}))},e.prototype.getColorMap=function(){return this._colorMap},e.prototype.getDefaultForeground=function(){return this._colorMap[1]},e.prototype.getDefaultBackground=function(){return this._colorMap[2]},e}();t.TokenizationRegistryImpl=r}),define(u[46],d([1,0,918,896]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.Null=0]="Null",e[e.PlainText=1]="PlainText"}(t.LanguageId||(t.LanguageId={}));var r=function(){return function(e,t){this.language=e,this.id=t}}();t.LanguageIdentifier=r;!function(e){e[e.NotSet=-1]="NotSet",e[e.None=0]="None",e[e.Italic=1]="Italic",e[e.Bold=2]="Bold",e[e.Underline=4]="Underline"}(t.FontStyle||(t.FontStyle={}));!function(e){e[e.None=0]="None",e[e.DefaultForeground=1]="DefaultForeground",e[e.DefaultBackground=2]="DefaultBackground"}(t.ColorId||(t.ColorId={}));!function(e){e[e.Other=0]="Other",e[e.Comment=1]="Comment",e[e.String=2]="String",e[e.RegEx=4]="RegEx"}(t.StandardTokenType||(t.StandardTokenType={}));!function(e){e[e.LANGUAGEID_MASK=255]="LANGUAGEID_MASK",e[e.TOKEN_TYPE_MASK=1792]="TOKEN_TYPE_MASK",e[e.FONT_STYLE_MASK=14336]="FONT_STYLE_MASK",e[e.FOREGROUND_MASK=8372224]="FOREGROUND_MASK",e[e.BACKGROUND_MASK=4286578688]="BACKGROUND_MASK",e[e.LANGUAGEID_OFFSET=0]="LANGUAGEID_OFFSET",e[e.TOKEN_TYPE_OFFSET=8]="TOKEN_TYPE_OFFSET",e[e.FONT_STYLE_OFFSET=11]="FONT_STYLE_OFFSET",e[e.FOREGROUND_OFFSET=14]="FOREGROUND_OFFSET",e[e.BACKGROUND_OFFSET=23]="BACKGROUND_OFFSET"}(t.MetadataConsts||(t.MetadataConsts={}));!function(e){e[e.Text=0]="Text",e[e.Read=1]="Read",e[e.Write=2]="Write"}(t.DocumentHighlightKind||(t.DocumentHighlightKind={}));var o;!function(e){e[e.File=0]="File",e[e.Module=1]="Module",e[e.Namespace=2]="Namespace",e[e.Package=3]="Package",e[e.Class=4]="Class",e[e.Method=5]="Method",e[e.Property=6]="Property",e[e.Field=7]="Field",e[e.Constructor=8]="Constructor",e[e.Enum=9]="Enum",e[e.Interface=10]="Interface",e[e.Function=11]="Function",e[e.Variable=12]="Variable",e[e.Constant=13]="Constant",e[e.String=14]="String",e[e.Number=15]="Number",e[e.Boolean=16]="Boolean",e[e.Array=17]="Array",e[e.Object=18]="Object",e[e.Key=19]="Key",e[e.Null=20]="Null",e[e.EnumMember=21]="EnumMember",e[e.Struct=22]="Struct",e[e.Event=23]="Event",e[e.Operator=24]="Operator",e[e.TypeParameter=25]="TypeParameter"}(o=t.SymbolKind||(t.SymbolKind={})),t.symbolKindToCssClass=function(){var e=Object.create(null);return e[o.File]="file",e[o.Module]="module",e[o.Namespace]="namespace",e[o.Package]="package",e[o.Class]="class",e[o.Method]="method",e[o.Property]="property",e[o.Field]="field",e[o.Constructor]="constructor",e[o.Enum]="enum",e[o.Interface]="interface",e[o.Function]="function",e[o.Variable]="variable",e[o.Constant]="constant",e[o.String]="string",e[o.Number]="number",e[o.Boolean]="boolean",e[o.Array]="array",e[o.Object]="object",e[o.Key]="key",e[o.Null]="null",e[o.EnumMember]="enum-member",e[o.Struct]="struct",e[o.Event]="event",e[o.Operator]="operator",e[o.TypeParameter]="type-parameter",function(t){return e[t]||"property"}}(),t.ReferenceProviderRegistry=new n.default,t.RenameProviderRegistry=new n.default,t.SuggestRegistry=new n.default,t.SignatureHelpProviderRegistry=new n.default,t.HoverProviderRegistry=new n.default,t.DocumentSymbolProviderRegistry=new n.default,t.DocumentHighlightProviderRegistry=new n.default,t.DefinitionProviderRegistry=new n.default,t.ImplementationProviderRegistry=new n.default,t.TypeDefinitionProviderRegistry=new n.default,t.CodeLensProviderRegistry=new n.default,t.CodeActionProviderRegistry=new n.default,t.DocumentFormattingEditProviderRegistry=new n.default,t.DocumentRangeFormattingEditProviderRegistry=new n.default,t.OnTypeFormattingEditProviderRegistry=new n.default,t.LinkProviderRegistry=new n.default,t.TokenizationRegistry=new i.TokenizationRegistryImpl}),define(u[246],d([1,0,46,297]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.clone=function(){return this},e.prototype.equals=function(e){return this===e},e}();t.NULL_STATE=new r,t.NULL_MODE_ID="vs.editor.nullMode",t.NULL_LANGUAGE_IDENTIFIER=new n.LanguageIdentifier(t.NULL_MODE_ID,0),t.nullTokenize=function(e,t,n,r){return new i.TokenizationResult([new i.Token(r,"",e)],n)},t.nullTokenize2=function(e,t,n,r){var o=new Uint32Array(2);return o[0]=r,o[1]=(16384|e<<0|2<<23)>>>0,new i.TokenizationResult2(o,n)}}),define(u[219],d([1,0,46]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createScopedLineTokens=function(e,t){for(var n=e.getTokenCount(),r=e.findTokenIndexAtOffset(t),o=e.getLanguageId(r),s=r;s+1<n&&e.getLanguageId(s+1)===o;)s++;for(var a=r;a>0&&e.getLanguageId(a-1)===o;)a--;return new i(e,o,a,s+1,e.getTokenStartOffset(a),e.getTokenEndOffset(s))};var i=function(){function e(e,t,n,i,r,o){this._actual=e,this.languageId=t,this._firstTokenIndex=n,this._lastTokenIndex=i,this.firstCharOffset=r,this._lastCharOffset=o}return e.prototype.getLineContent=function(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)},e.prototype.getTokenCount=function(){return this._lastTokenIndex-this._firstTokenIndex},e.prototype.findTokenIndexAtOffset=function(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex},e.prototype.getTokenStartOffset=function(e){return this._actual.getTokenStartOffset(e+this._firstTokenIndex)-this.firstCharOffset},e.prototype.getStandardTokenType=function(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)},e}();t.ScopedLineTokens=i;var r;!function(e){e[e.value=7]="value"}(r||(r={})),t.ignoreBracketsInToken=function(e){return 0!=(7&e)}}),define(u[892],d([1,0,219,248,173]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,n){n=n||{},this._richEditBrackets=e,this._complexAutoClosePairs=t.filter(function(e){return e.open.length>1&&!!e.close}).map(function(e){return new r.StandardAutoClosingPairConditional(e)}),n.docComment&&this._complexAutoClosePairs.push(new r.StandardAutoClosingPairConditional({open:n.docComment.open,close:n.docComment.close}))}return e.prototype.getElectricCharacters=function(){var e=[];if(this._richEditBrackets)for(var t=0,n=this._richEditBrackets.brackets.length;t<n;t++){var i=this._richEditBrackets.brackets[t],r=i.close.charAt(i.close.length-1);e.push(r)}for(var o=0,s=this._complexAutoClosePairs;o<s.length;o++){var a=s[o];e.push(a.open.charAt(a.open.length-1))}return e=e.filter(function(e,t,n){return n.indexOf(e)===t})},e.prototype.onElectricCharacter=function(e,t,n){return this._onElectricAutoClose(e,t,n)||this._onElectricAutoIndent(e,t,n)},e.prototype._onElectricAutoIndent=function(e,t,r){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;var o=t.findTokenIndexAtOffset(r-1);if(n.ignoreBracketsInToken(t.getStandardTokenType(o)))return null;var s=this._richEditBrackets.reversedRegex,a=t.getLineContent().substring(0,r-1)+e,c=i.BracketsUtils.findPrevBracketInToken(s,1,a,0,a.length);if(!c)return null;var l=a.substring(c.startColumn-1,c.endColumn-1);if(l=l.toLowerCase(),this._richEditBrackets.textIsOpenBracket[l])return null;var u=a.substring(0,c.startColumn-1);return/^\s*$/.test(u)?{matchOpenBracket:l}:null},e.prototype._onElectricAutoClose=function(e,t,n){if(!this._complexAutoClosePairs.length)return null;for(var i=t.getLineContent(),r=0,o=this._complexAutoClosePairs.length;r<o;r++){var s=this._complexAutoClosePairs[r];if(e===s.open.charAt(s.open.length-1)&&i.substring(i.length-s.open.length+1)+e===s.open){var a=t.findTokenIndexAtOffset(n-1),c=t.getStandardTokenType(a);if(s.isOK(c)&&!(i.indexOf(s.close,n-1)>=0))return{appendText:s.close}}}return null},e}();t.BracketElectricCharacterSupport=o}),define(u[112],d([1,0,916,892,898,905,248,8,7,12,188,219,14,173]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(t,r,a){var c=null;r&&(c=r._conf),this._conf=e._mergeConf(c,a),this._conf.brackets&&(this.brackets=new s.RichEditBrackets(t,this._conf.brackets)),this.onEnter=e._handleOnEnter(this._conf),this.comments=e._handleComments(this._conf),this.characterPair=new n.CharacterPairSupport(this._conf),this.electricCharacter=new i.BracketElectricCharacterSupport(this.brackets,this.characterPair.getAutoClosingPairs(),this._conf.__electricCharacterSupport),this.wordDefinition=this._conf.wordPattern||u.DEFAULT_WORD_REGEXP,this.indentationRules=this._conf.indentationRules,this._conf.indentationRules&&(this.indentRulesSupport=new o.IndentRulesSupport(this._conf.indentationRules))}return e._mergeConf=function(e,t){return{comments:e?t.comments||e.comments:t.comments,brackets:e?t.brackets||e.brackets:t.brackets,wordPattern:e?t.wordPattern||e.wordPattern:t.wordPattern,indentationRules:e?t.indentationRules||e.indentationRules:t.indentationRules,onEnterRules:e?t.onEnterRules||e.onEnterRules:t.onEnterRules,autoClosingPairs:e?t.autoClosingPairs||e.autoClosingPairs:t.autoClosingPairs,surroundingPairs:e?t.surroundingPairs||e.surroundingPairs:t.surroundingPairs,__electricCharacterSupport:e?t.__electricCharacterSupport||e.__electricCharacterSupport:t.__electricCharacterSupport}},e._handleOnEnter=function(e){var t={},n=!0;return e.brackets&&(n=!1,t.brackets=e.brackets),e.indentationRules&&(n=!1,t.indentationRules=e.indentationRules),e.onEnterRules&&(n=!1,t.regExpRules=e.onEnterRules),n?null:new r.OnEnterSupport(t)},e._handleComments=function(e){var t=e.comments;if(!t)return null;var n={};if(t.lineComment&&(n.lineCommentToken=t.lineComment),t.blockComment){var i=t.blockComment,r=i[0],o=i[1];n.blockCommentStartToken=r,n.blockCommentEndToken=o}return n},e}();t.RichEditSupport=f;var g=function(){function e(){this._onDidChange=new a.Emitter,this.onDidChange=this._onDidChange.event,this._entries=[]}return e.prototype.register=function(e,t){var n=this,i=this._getRichEditSupport(e.id),r=new f(e,i,t);return this._entries[e.id]=r,this._onDidChange.fire(void 0),{dispose:function(){n._entries[e.id]===r&&(n._entries[e.id]=i,n._onDidChange.fire(void 0))}}},e.prototype._getRichEditSupport=function(e){return this._entries[e]||null},e.prototype.getIndentationRules=function(e){var t=this._entries[e];return t?t.indentationRules||null:null},e.prototype._getElectricCharacterSupport=function(e){var t=this._getRichEditSupport(e);return t?t.electricCharacter||null:null},e.prototype.getElectricCharacters=function(e){var t=this._getElectricCharacterSupport(e);return t?t.getElectricCharacters():[]},e.prototype.onElectricCharacter=function(e,t,n){var i=d.createScopedLineTokens(t,n-1),r=this._getElectricCharacterSupport(i.languageId);return r?r.onElectricCharacter(e,i,n-i.firstCharOffset):null},e.prototype.getComments=function(e){var t=this._getRichEditSupport(e);return t?t.comments||null:null},e.prototype._getCharacterPairSupport=function(e){var t=this._getRichEditSupport(e);return t?t.characterPair||null:null},e.prototype.getAutoClosingPairs=function(e){var t=this._getCharacterPairSupport(e);return t?t.getAutoClosingPairs():[]},e.prototype.getSurroundingPairs=function(e){var t=this._getCharacterPairSupport(e);return t?t.getSurroundingPairs():[]},e.prototype.shouldAutoClosePair=function(e,t,n){var i=d.createScopedLineTokens(t,n-1),r=this._getCharacterPairSupport(i.languageId);return!!r&&r.shouldAutoClosePair(e,i,n-i.firstCharOffset)},e.prototype.getWordDefinition=function(e){var t=this._getRichEditSupport(e);return t?u.ensureValidWordDefinition(t.wordDefinition||null):u.ensureValidWordDefinition(null)},e.prototype.getIndentRulesSupport=function(e){var t=this._getRichEditSupport(e);return t?t.indentRulesSupport||null:null},e.prototype.getPrecedingValidLine=function(e,t,n){var i=e.getLanguageIdAtPosition(t,0);if(t>1){var r=t-1,o=-1;for(r=t-1;r>=1;r--){if(e.getLanguageIdAtPosition(r,0)!==i)return o;var s=e.getLineContent(r);if(!n.shouldIgnore(s)&&!/^\s+$/.test(s)&&""!==s)return r;o=r}}return-1},e.prototype.getInheritIndentForLine=function(e,t,n){void 0===n&&(n=!0);var i=this.getIndentRulesSupport(e.getLanguageIdentifier().id);if(!i)return null;if(t<=1)return{indentation:"",action:null};var r=this.getPrecedingValidLine(e,t,i);if(r<1)return{indentation:"",action:null};var o=e.getLineContent(r);if(i.shouldIncrease(o)||i.shouldIndentNextLine(o))return{indentation:l.getLeadingWhitespace(o),action:p.IndentAction.Indent,line:r};if(i.shouldDecrease(o))return{indentation:l.getLeadingWhitespace(o),action:null,line:r};if(1===r)return{indentation:l.getLeadingWhitespace(e.getLineContent(r)),action:null,line:r};var s=r-1,a=i.getIndentMetadata(e.getLineContent(s));if(!(3&a)&&4&a){for(var c=0,u=s-1;u>0;u--)if(!i.shouldIndentNextLine(e.getLineContent(u))){c=u;break}return{indentation:l.getLeadingWhitespace(e.getLineContent(c+1)),action:null,line:c+1}}if(n)return{indentation:l.getLeadingWhitespace(e.getLineContent(r)),action:null,line:r};for(u=r;u>0;u--){var d=e.getLineContent(u);if(i.shouldIncrease(d))return{indentation:l.getLeadingWhitespace(d),action:p.IndentAction.Indent,line:u};if(i.shouldIndentNextLine(d)){for(var c=0,h=u-1;h>0;h--)if(!i.shouldIndentNextLine(e.getLineContent(u))){c=h;break}return{indentation:l.getLeadingWhitespace(e.getLineContent(c+1)),action:null,line:c+1}}if(i.shouldDecrease(d))return{indentation:l.getLeadingWhitespace(d),action:null,line:u}}return{indentation:l.getLeadingWhitespace(e.getLineContent(1)),action:null,line:1}},e.prototype.getGoodIndentForLine=function(e,t,n,i){var r=this.getIndentRulesSupport(t);if(!r)return null;var o=this.getInheritIndentForLine(e,n),s=e.getLineContent(n);if(o){var a=o.line;if(void 0!==a){var u=this._getOnEnterSupport(t),d=null;try{d=u.onEnter("",e.getLineContent(a),"")}catch(e){c.onUnexpectedError(e)}if(d){var h=l.getLeadingWhitespace(e.getLineContent(a));return d.removeText&&(h=h.substring(0,h.length-d.removeText)),d.indentAction===p.IndentAction.Indent||d.indentAction===p.IndentAction.IndentOutdent?h=i.shiftIndent(h):d.indentAction===p.IndentAction.Outdent&&(h=i.unshiftIndent(h)),r.shouldDecrease(s)&&(h=i.unshiftIndent(h)),d.appendText&&(h+=d.appendText),l.getLeadingWhitespace(h)}}return r.shouldDecrease(s)?o.action===p.IndentAction.Indent?o.indentation:i.unshiftIndent(o.indentation):o.action===p.IndentAction.Indent?i.shiftIndent(o.indentation):o.indentation}return null},e.prototype.getIndentForEnter=function(e,t,n,i){e.forceTokenization(t.startLineNumber);var r,o=e.getLineTokens(t.startLineNumber),s=o.findTokenIndexAtOffset(t.startColumn),a=o.findTokenIndexAtOffset(0),c=d.createScopedLineTokens(o,t.startColumn),u=c.getLineContent();r=o.getLanguageId(a)===o.getLanguageId(s)?o.getLineContent().substring(0,t.startColumn-1):u.substr(0,t.startColumn-1-c.firstCharOffset);var h;h=t.isEmpty()?u.substr(t.startColumn-1-c.firstCharOffset):this.getScopedLineTokens(e,t.endLineNumber,t.endColumn).getLineContent().substr(t.endColumn-1-c.firstCharOffset);var f=this.getIndentRulesSupport(c.languageId);if(!f)return null;var g=r,v=l.getLeadingWhitespace(r);if(!i){var m=this.getInheritIndentForLine(e,t.startLineNumber),y=l.getLeadingWhitespace(r);f.shouldDecrease(r)&&m&&(y=m.indentation,m.action!==p.IndentAction.Indent&&(y=n.unshiftIndent(y))),g=y+l.ltrim(l.ltrim(r," "),"\t")}var b={getLineTokens:function(t){return e.getLineTokens(t)},getLanguageIdentifier:function(){return e.getLanguageIdentifier()},getLanguageIdAtPosition:function(t,n){return e.getLanguageIdAtPosition(t,n)},getLineContent:function(n){return n===t.startLineNumber?g:e.getLineContent(n)}},S=this.getInheritIndentForLine(b,t.startLineNumber+1);if(!S)return{beforeEnter:v,afterEnter:v};var _=S.indentation;return S.action===p.IndentAction.Indent&&(_=n.shiftIndent(_)),f.shouldDecrease(h)&&(_=n.unshiftIndent(_)),{beforeEnter:v,afterEnter:_}},e.prototype.getIndentActionForType=function(e,t,n,i){var r=this.getScopedLineTokens(e,t.startLineNumber,t.startColumn),o=this.getIndentRulesSupport(r.languageId);if(!o)return null;var s,a=r.getLineContent(),c=a.substr(0,t.startColumn-1-r.firstCharOffset);if(s=t.isEmpty()?a.substr(t.startColumn-1-r.firstCharOffset):this.getScopedLineTokens(e,t.endLineNumber,t.endColumn).getLineContent().substr(t.endColumn-1-r.firstCharOffset),o.shouldDecrease(c+n+s)){var l=this.getInheritIndentForLine(e,t.startLineNumber,!1);if(!l)return null;var u=l.indentation;return l.action!==p.IndentAction.Indent&&(u=i.unshiftIndent(u)),u}return null},e.prototype.getIndentMetadata=function(e,t){var n=this.getIndentRulesSupport(e.getLanguageIdentifier().id);return n?t<1||t>e.getLineCount()?null:n.getIndentMetadata(e.getLineContent(t)):null},e.prototype._getOnEnterSupport=function(e){var t=this._getRichEditSupport(e);return t?t.onEnter||null:null},e.prototype.getRawEnterActionAtPosition=function(e,t,n){var i=this.getEnterAction(e,new h.Range(t,n,t,n));return i?i.enterAction:null},e.prototype.getEnterAction=function(e,t){var n=this.getIndentationAtPosition(e,t.startLineNumber,t.startColumn),i=this.getScopedLineTokens(e,t.startLineNumber,t.startColumn),r=this._getOnEnterSupport(i.languageId);if(!r)return null;var o,s=i.getLineContent(),a=s.substr(0,t.startColumn-1-i.firstCharOffset);o=t.isEmpty()?s.substr(t.startColumn-1-i.firstCharOffset):this.getScopedLineTokens(e,t.endLineNumber,t.endColumn).getLineContent().substr(t.endColumn-1-i.firstCharOffset);var l=t.startLineNumber,u="";if(l>1&&0===i.firstCharOffset){var d=this.getScopedLineTokens(e,l-1);d.languageId===i.languageId&&(u=d.getLineContent())}var h=null;try{h=r.onEnter(u,a,o)}catch(e){c.onUnexpectedError(e)}return h?(h.appendText||(h.indentAction===p.IndentAction.Indent||h.indentAction===p.IndentAction.IndentOutdent?h.appendText="\t":h.appendText=""),h.removeText&&(n=n.substring(0,n.length-h.removeText)),{enterAction:h,indentation:n}):null},e.prototype.getIndentationAtPosition=function(e,t,n){var i=e.getLineContent(t),r=l.getLeadingWhitespace(i);return r.length>n-1&&(r=r.substring(0,n-1)),r},e.prototype.getScopedLineTokens=function(e,t,n){e.forceTokenization(t);var i=e.getLineTokens(t),r=isNaN(n)?e.getLineMaxColumn(t)-1:n;return d.createScopedLineTokens(i,r)},e.prototype.getBracketsSupport=function(e){var t=this._getRichEditSupport(e);return t?t.brackets||null:null},e}();t.LanguageConfigurationRegistryImpl=g,t.LanguageConfigurationRegistry=new g}),define(u[242],d([1,0,12,46,246,413]),function(e,t,n,i,r,o){"use strict";function s(e){var t=i.TokenizationRegistry.get(e);return t||{getInitialState:function(){return r.NULL_STATE},tokenize:void 0,tokenize2:function(e,t,n){return r.nullTokenize2(0,e,t,n)}}}function a(e,t){for(var i='<div class="monaco-tokenized-source">',r=e.split(/\r\n|\r|\n/),s=t.getInitialState(),a=0,c=r.length;a<c;a++){var l=r[a];a>0&&(i+="<br/>");for(var u=t.tokenize2(l,s,0),d=new o.LineTokens(u.tokens,l).inflate(),h=0,p=0,f=d.length;p<f;p++){var g=d[p];i+='<span class="'+g.getType()+'">'+n.escape(l.substring(h,g.endIndex))+"</span>",h=g.endIndex}s=u.endState}return i+="</div>"}Object.defineProperty(t,"__esModule",{value:!0}),t.tokenizeToString=function(e,t){return a(e,s(t))},t.tokenizeLineToHTML=function(e,t,n,i,r,o){for(var s="<div>",a=i,c=0,l=0,u=t.length;l<u;l++){var d=t[l],h=d.endIndex;if(!(d.endIndex<=i)){for(var p="";a<h&&a<r;a++){var f=e.charCodeAt(a);switch(f){case 9:var g=o-(a+c)%o;for(c+=g-1;g>0;)p+="&nbsp;",g--;break;case 60:p+="&lt;";break;case 62:p+="&gt;";break;case 38:p+="&amp;";break;case 0:p+="&#00;";break;case 65279:case 8232:p+="�";break;case 13:p+="&#8203";break;default:p+=String.fromCharCode(f)}}if(s+='<span style="'+d.getInlineStyle(n)+'">'+p+"</span>",d.endIndex>r||a>=r)break}}return s+="</div>"}}),define(u[891],d([1,0,8]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this._transientWatchers={},this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._onCodeEditorAdd=new n.Emitter,this._onCodeEditorRemove=new n.Emitter,this._onDiffEditorAdd=new n.Emitter,this._onDiffEditorRemove=new n.Emitter}return e.prototype.addCodeEditor=function(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)},Object.defineProperty(e.prototype,"onCodeEditorAdd",{get:function(){return this._onCodeEditorAdd.event},enumerable:!0,configurable:!0}),e.prototype.removeCodeEditor=function(e){delete this._codeEditors[e.getId()]&&this._onCodeEditorRemove.fire(e)},Object.defineProperty(e.prototype,"onCodeEditorRemove",{get:function(){return this._onCodeEditorRemove.event},enumerable:!0,configurable:!0}),e.prototype.getCodeEditor=function(e){return this._codeEditors[e]||null},e.prototype.listCodeEditors=function(){var e=this;return Object.keys(this._codeEditors).map(function(t){return e._codeEditors[t]})},e.prototype.addDiffEditor=function(e){this._diffEditors[e.getId()]=e,this._onDiffEditorAdd.fire(e)},Object.defineProperty(e.prototype,"onDiffEditorAdd",{get:function(){return this._onDiffEditorAdd.event},enumerable:!0,configurable:!0}),e.prototype.removeDiffEditor=function(e){delete this._diffEditors[e.getId()]&&this._onDiffEditorRemove.fire(e)},Object.defineProperty(e.prototype,"onDiffEditorRemove",{get:function(){return this._onDiffEditorRemove.event},enumerable:!0,configurable:!0}),e.prototype.getDiffEditor=function(e){return this._diffEditors[e]||null},e.prototype.listDiffEditors=function(){var e=this;return Object.keys(this._diffEditors).map(function(t){return e._diffEditors[t]})},e.prototype.getFocusedCodeEditor=function(){for(var e=null,t=this.listCodeEditors(),n=0;n<t.length;n++){var i=t[n];if(i.isFocused())return i;i.hasWidgetFocus()&&(e=i)}return e},e.prototype.setTransientModelProperty=function(e,t,n){var i,o=e.uri.toString();this._transientWatchers.hasOwnProperty(o)?i=this._transientWatchers[o]:(i=new r(o,e,this),this._transientWatchers[o]=i),i.set(t,n)},e.prototype.getTransientModelProperty=function(e,t){var n=e.uri.toString();if(this._transientWatchers.hasOwnProperty(n))return this._transientWatchers[n].get(t)},e.prototype._removeWatcher=function(e){delete this._transientWatchers[e.uri]},e}();t.AbstractCodeEditorService=i;var r=function(){function e(e,t,n){var i=this;this.uri=e,this._values={},t.onWillDispose(function(){return n._removeWatcher(i)})}return e.prototype.set=function(e,t){this._values[e]=t},e.prototype.get=function(e){return this._values[e]},e}();t.ModelTransientSettingWatcher=r}),define(u[886],d([1,0,8,60,37,14,53,4,227,297,16]),function(e,t,n,i,r,o,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d;!function(e){e[e.Ignore=0]="Ignore",e[e.Info=1]="Info",e[e.Warning=2]="Warning",e[e.Error=3]="Error"}(d=t.Severity||(t.Severity={}));var h=function(){function e(){}return e.chord=function(e,t){return i.KeyChord(e,t)},e}();h.CtrlCmd=2048,h.Shift=1024,h.Alt=512,h.WinCtrl=256,t.KeyMod=h;var p;!function(e){e[e.Unknown=0]="Unknown",e[e.Backspace=1]="Backspace",e[e.Tab=2]="Tab",e[e.Enter=3]="Enter",e[e.Shift=4]="Shift",e[e.Ctrl=5]="Ctrl",e[e.Alt=6]="Alt",e[e.PauseBreak=7]="PauseBreak",e[e.CapsLock=8]="CapsLock",e[e.Escape=9]="Escape",e[e.Space=10]="Space",e[e.PageUp=11]="PageUp",e[e.PageDown=12]="PageDown",e[e.End=13]="End",e[e.Home=14]="Home",e[e.LeftArrow=15]="LeftArrow",e[e.UpArrow=16]="UpArrow",e[e.RightArrow=17]="RightArrow",e[e.DownArrow=18]="DownArrow",e[e.Insert=19]="Insert",e[e.Delete=20]="Delete",e[e.KEY_0=21]="KEY_0",e[e.KEY_1=22]="KEY_1",e[e.KEY_2=23]="KEY_2",e[e.KEY_3=24]="KEY_3",e[e.KEY_4=25]="KEY_4",e[e.KEY_5=26]="KEY_5",e[e.KEY_6=27]="KEY_6",e[e.KEY_7=28]="KEY_7",e[e.KEY_8=29]="KEY_8",e[e.KEY_9=30]="KEY_9",e[e.KEY_A=31]="KEY_A",e[e.KEY_B=32]="KEY_B",e[e.KEY_C=33]="KEY_C",e[e.KEY_D=34]="KEY_D",e[e.KEY_E=35]="KEY_E",e[e.KEY_F=36]="KEY_F",e[e.KEY_G=37]="KEY_G",e[e.KEY_H=38]="KEY_H",e[e.KEY_I=39]="KEY_I",e[e.KEY_J=40]="KEY_J",e[e.KEY_K=41]="KEY_K",e[e.KEY_L=42]="KEY_L",e[e.KEY_M=43]="KEY_M",e[e.KEY_N=44]="KEY_N",e[e.KEY_O=45]="KEY_O",e[e.KEY_P=46]="KEY_P",e[e.KEY_Q=47]="KEY_Q",e[e.KEY_R=48]="KEY_R",e[e.KEY_S=49]="KEY_S",e[e.KEY_T=50]="KEY_T",e[e.KEY_U=51]="KEY_U",e[e.KEY_V=52]="KEY_V",e[e.KEY_W=53]="KEY_W",e[e.KEY_X=54]="KEY_X",e[e.KEY_Y=55]="KEY_Y",e[e.KEY_Z=56]="KEY_Z",e[e.Meta=57]="Meta",e[e.ContextMenu=58]="ContextMenu",e[e.F1=59]="F1",e[e.F2=60]="F2",e[e.F3=61]="F3",e[e.F4=62]="F4",e[e.F5=63]="F5",e[e.F6=64]="F6",e[e.F7=65]="F7",e[e.F8=66]="F8",e[e.F9=67]="F9",e[e.F10=68]="F10",e[e.F11=69]="F11",e[e.F12=70]="F12",e[e.F13=71]="F13",e[e.F14=72]="F14",e[e.F15=73]="F15",e[e.F16=74]="F16",e[e.F17=75]="F17",e[e.F18=76]="F18",e[e.F19=77]="F19",e[e.NumLock=78]="NumLock",e[e.ScrollLock=79]="ScrollLock",e[e.US_SEMICOLON=80]="US_SEMICOLON",e[e.US_EQUAL=81]="US_EQUAL",e[e.US_COMMA=82]="US_COMMA",e[e.US_MINUS=83]="US_MINUS",e[e.US_DOT=84]="US_DOT",e[e.US_SLASH=85]="US_SLASH",e[e.US_BACKTICK=86]="US_BACKTICK",e[e.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",e[e.US_BACKSLASH=88]="US_BACKSLASH",e[e.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",e[e.US_QUOTE=90]="US_QUOTE",e[e.OEM_8=91]="OEM_8",e[e.OEM_102=92]="OEM_102",e[e.NUMPAD_0=93]="NUMPAD_0",e[e.NUMPAD_1=94]="NUMPAD_1",e[e.NUMPAD_2=95]="NUMPAD_2",e[e.NUMPAD_3=96]="NUMPAD_3",e[e.NUMPAD_4=97]="NUMPAD_4",e[e.NUMPAD_5=98]="NUMPAD_5",e[e.NUMPAD_6=99]="NUMPAD_6",e[e.NUMPAD_7=100]="NUMPAD_7",e[e.NUMPAD_8=101]="NUMPAD_8",e[e.NUMPAD_9=102]="NUMPAD_9",e[e.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",e[e.NUMPAD_ADD=104]="NUMPAD_ADD",e[e.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",e[e.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",e[e.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",e[e.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",e[e.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",e[e.ABNT_C1=110]="ABNT_C1",e[e.ABNT_C2=111]="ABNT_C2",e[e.MAX_VALUE=112]="MAX_VALUE"}(p=t.KeyCode||(t.KeyCode={})),t.createMonacoBaseAPI=function(){return{editor:void 0,languages:void 0,CancellationTokenSource:c.CancellationTokenSource,Emitter:n.Emitter,KeyCode:p,KeyMod:h,Position:r.Position,Range:o.Range,Selection:s.Selection,SelectionDirection:s.SelectionDirection,Severity:d,Promise:a.TPromise,Uri:u.default,Token:l.Token}}}),define(u[271],d([1,0,46,8]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){var e=this;this._onDidChange=new i.Emitter,this.onDidChange=this._onDidChange.event,this._updateColorMap(),n.TokenizationRegistry.onDidChange(function(t){t.changedColorMap&&e._updateColorMap()})}return e.getInstance=function(){return this._INSTANCE||(this._INSTANCE=new e),this._INSTANCE},e.prototype._updateColorMap=function(){var e=n.TokenizationRegistry.getColorMap();if(!e)return this._colors=[null],void(this._backgroundIsLight=!0);this._colors=[null];for(var t=1;t<e.length;t++)this._colors[t]=e[t].toRGBA();var i=e[2].getLuminosity();this._backgroundIsLight=i>=.5,this._onDidChange.fire(void 0)},e.prototype.getColor=function(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]},e.prototype.backgroundIsLight=function(){return this._backgroundIsLight},e}();r._INSTANCE=null,t.MinimapTokensColorTracker=r;!function(e){e[e.START_CH_CODE=32]="START_CH_CODE",e[e.END_CH_CODE=126]="END_CH_CODE",e[e.CHAR_COUNT=95]="CHAR_COUNT",e[e.SAMPLED_CHAR_HEIGHT=16]="SAMPLED_CHAR_HEIGHT",e[e.SAMPLED_CHAR_WIDTH=10]="SAMPLED_CHAR_WIDTH",e[e.SAMPLED_HALF_CHAR_WIDTH=5]="SAMPLED_HALF_CHAR_WIDTH",e[e.x2_CHAR_HEIGHT=4]="x2_CHAR_HEIGHT",e[e.x2_CHAR_WIDTH=2]="x2_CHAR_WIDTH",e[e.x1_CHAR_HEIGHT=2]="x1_CHAR_HEIGHT",e[e.x1_CHAR_WIDTH=1]="x1_CHAR_WIDTH",e[e.RGBA_CHANNELS_CNT=4]="RGBA_CHANNELS_CNT"}(t.Constants||(t.Constants={}));var o=function(){function e(t,n){if(760!==t.length)throw new Error("Invalid x2CharData");if(190!==n.length)throw new Error("Invalid x1CharData");this.x2charData=t,this.x1charData=n,this.x2charDataLight=e.soften(t,.8),this.x1charDataLight=e.soften(n,50/60)}return e.soften=function(e,t){for(var n=new Uint8ClampedArray(e.length),i=0,r=e.length;i<r;i++)n[i]=e[i]*t;return n},e._getChIndex=function(e){return(e-=32)<0&&(e+=95),e%95},e.prototype.x2RenderChar=function(t,n,i,r,o,s,a){if(n+2>t.width||i+4>t.height)console.warn("bad render request outside image data");else{var c=a?this.x2charDataLight:this.x2charData,l=e._getChIndex(r),u=4*t.width,d=s.r,h=s.g,p=s.b,f=o.r-d,g=o.g-h,v=o.b-p,m=t.data,y=4*l*2,b=i*u+4*n,S=c[y]/255;m[b+0]=d+f*S,m[b+1]=h+g*S,m[b+2]=p+v*S;S=c[y+1]/255;m[b+4]=d+f*S,m[b+5]=h+g*S,m[b+6]=p+v*S,b+=u;S=c[y+2]/255;m[b+0]=d+f*S,m[b+1]=h+g*S,m[b+2]=p+v*S;S=c[y+3]/255;m[b+4]=d+f*S,m[b+5]=h+g*S,m[b+6]=p+v*S,b+=u;S=c[y+4]/255;m[b+0]=d+f*S,m[b+1]=h+g*S,m[b+2]=p+v*S;S=c[y+5]/255;m[b+4]=d+f*S,m[b+5]=h+g*S,m[b+6]=p+v*S,b+=u;S=c[y+6]/255;m[b+0]=d+f*S,m[b+1]=h+g*S,m[b+2]=p+v*S;S=c[y+7]/255;m[b+4]=d+f*S,m[b+5]=h+g*S,m[b+6]=p+v*S}},e.prototype.x1RenderChar=function(t,n,i,r,o,s,a){if(n+1>t.width||i+2>t.height)console.warn("bad render request outside image data");else{var c=a?this.x1charDataLight:this.x1charData,l=e._getChIndex(r),u=4*t.width,d=s.r,h=s.g,p=s.b,f=o.r-d,g=o.g-h,v=o.b-p,m=t.data,y=2*l*1,b=i*u+4*n,S=c[y]/255;m[b+0]=d+f*S,m[b+1]=h+g*S,m[b+2]=p+v*S,b+=u;S=c[y+1]/255;m[b+0]=d+f*S,m[b+1]=h+g*S,m[b+2]=p+v*S}},e.prototype.x2BlockRenderChar=function(e,t,n,i,r,o){if(t+2>e.width||n+4>e.height)console.warn("bad render request outside image data");else{var s=4*e.width,a=r.r,c=r.g,l=r.b,u=a+.5*(i.r-a),d=c+.5*(i.g-c),h=l+.5*(i.b-l),p=e.data,f=n*s+4*t;p[f+0]=u,p[f+1]=d,p[f+2]=h,p[f+4]=u,p[f+5]=d,p[f+6]=h,p[(f+=s)+0]=u,p[f+1]=d,p[f+2]=h,p[f+4]=u,p[f+5]=d,p[f+6]=h,p[(f+=s)+0]=u,p[f+1]=d,p[f+2]=h,p[f+4]=u,p[f+5]=d,p[f+6]=h,p[(f+=s)+0]=u,p[f+1]=d,p[f+2]=h,p[f+4]=u,p[f+5]=d,p[f+6]=h}},e.prototype.x1BlockRenderChar=function(e,t,n,i,r,o){if(t+1>e.width||n+2>e.height)console.warn("bad render request outside image data");else{var s=4*e.width,a=r.r,c=r.g,l=r.b,u=a+.5*(i.r-a),d=c+.5*(i.g-c),h=l+.5*(i.b-l),p=e.data,f=n*s+4*t;p[f+0]=u,p[f+1]=d,p[f+2]=h,p[(f+=s)+0]=u,p[f+1]=d,p[f+2]=h}},e}();t.MinimapCharRenderer=o}),define(u[204],d([1,0,14]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this._viewLayout=e,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;var n=this._viewLayout.getCurrentViewport();this.scrollTop=n.top,this.scrollLeft=n.left,this.viewportWidth=n.width,this.viewportHeight=n.height}return e.prototype.getScrolledTopFromAbsoluteTop=function(e){return e-this.scrollTop},e.prototype.getVerticalOffsetForLineNumber=function(e){return this._viewLayout.getVerticalOffsetForLineNumber(e)},e.prototype.lineIsVisible=function(e){return this.visibleRange.startLineNumber<=e&&e<=this.visibleRange.endLineNumber},e.prototype.getDecorationsInViewport=function(){return this.viewportData.getDecorationsInViewport()},e}();t.RestrictedRenderingContext=i;var r=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r._viewLines=i,r}return h(t,e),t.prototype.linesVisibleRangesForRange=function(e,t){return this._viewLines.linesVisibleRangesForRange(e,t)},t.prototype.visibleRangeForPosition=function(e){var t=this._viewLines.visibleRangesForRange2(new n.Range(e.lineNumber,e.column,e.lineNumber,e.column));return t?t[0]:null},t}(i);t.RenderingContext=r;var o=function(){return function(e,t){this.lineNumber=e,this.ranges=t}}();t.LineVisibleRanges=o;var s=function(){function e(e,t){this.left=Math.round(e),this.width=Math.round(t)}return e.prototype.toString=function(){return"["+this.left+","+this.width+"]"},e}();t.HorizontalRange=s}),define(u[882],d([1,0,204]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this.left=e,this.width=t}return e.prototype.toString=function(){return"["+this.left+","+this.width+"]"},e.compare=function(e,t){return e.left-t.left},e}(),r=function(){function e(){}return e._createRange=function(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange},e._detachRange=function(e,t){e.selectNodeContents(t)},e._readClientRects=function(e,t,n,i,r){var o=this._createRange();try{return o.setStart(e,t),o.setEnd(n,i),o.getClientRects()}catch(e){return null}finally{this._detachRange(o,r)}},e._mergeAdjacentRanges=function(e){if(1===e.length)return[new n.HorizontalRange(e[0].left,e[0].width)];e.sort(i.compare);for(var t=[],r=0,o=e[0].left,s=e[0].width,a=1,c=e.length;a<c;a++){var l=e[a],u=l.left,d=l.width;o+s+.9>=u?s=Math.max(s,u+d-o):(t[r++]=new n.HorizontalRange(o,s),o=u,s=d)}return t[r++]=new n.HorizontalRange(o,s),t},e._createHorizontalRangesFromClientRects=function(e,t){if(!e||0===e.length)return null;for(var n=[],r=0,o=e.length;r<o;r++){var s=e[r];n[r]=new i(Math.max(0,s.left-t),s.width)}return this._mergeAdjacentRanges(n)},e.readHorizontalRanges=function(e,t,n,i,r,o,s){var a=e.children.length-1;if(0>a)return null;(t=Math.min(a,Math.max(0,t)))!==(i=Math.min(a,Math.max(0,i)))&&i>0&&0===r&&(i--,r=Number.MAX_VALUE);var c=e.children[t].firstChild,l=e.children[i].firstChild;if(!c||!l)return null;n=Math.min(c.textContent.length,Math.max(0,n)),r=Math.min(l.textContent.length,Math.max(0,r));var u=this._readClientRects(c,n,l,r,s);return this._createHorizontalRangesFromClientRects(u,o)},e}();t.RangeUtil=r}),define(u[874],d([1,0,271]),function(e,t,n){"use strict";function i(e){for(var t=new Uint8ClampedArray(e.length),n=0,i=e.length;n<i;n++)t[n]=e[n];return t}Object.defineProperty(t,"__esModule",{value:!0});var r=null;t.getOrCreateMinimapCharRenderer=function(){if(!r){var e=i(s);s=null;var t=i(o);o=null,r=new n.MinimapCharRenderer(t,e)}return r};var o=[0,0,0,0,0,0,0,0,39,14,39,14,14,5,29,10,96,96,29,29,0,0,0,0,49,113,195,214,227,166,135,42,40,29,194,38,75,148,197,187,145,0,160,61,75,143,2,183,138,58,163,6,177,223,197,227,38,13,11,4,0,0,0,0,10,54,52,8,62,4,71,122,73,2,19,40,10,50,155,36,79,70,145,121,7,5,0,0,2,1,36,12,204,166,16,5,0,0,0,0,1,0,154,34,0,0,0,0,96,83,0,0,0,0,0,0,0,0,46,34,0,82,2,56,53,3,146,0,146,119,152,132,152,131,145,119,170,42,15,42,15,42,172,194,131,132,0,139,80,28,227,143,159,135,15,118,11,126,171,144,20,124,88,106,217,196,0,106,189,92,168,43,5,130,164,133,130,115,183,65,134,120,141,141,170,196,2,106,31,32,105,2,145,130,116,114,132,135,138,140,138,113,147,137,81,183,129,94,0,0,21,16,4,3,46,34,0,0,45,34,1,0,160,49,0,0,43,143,203,23,1,76,0,0,38,28,131,96,38,28,0,0,168,31,29,191,98,0,118,139,5,113,45,13,37,6,97,115,161,179,204,105,223,224,83,52,111,100,184,186,120,132,212,145,180,139,174,161,212,182,104,162,131,0,131,0,104,161,219,120,110,116,110,116,219,120,207,154,163,40,147,22,207,154,202,159,161,47,145,23,111,0,139,154,144,30,144,135,139,187,110,110,168,161,150,145,110,110,185,162,43,16,43,16,185,162,73,129,0,110,0,110,191,87,149,149,236,48,195,91,146,149,146,0,146,0,146,0,187,173,200,201,222,215,172,147,95,95,193,97,224,129,159,206,97,192,155,139,153,115,153,115,156,140,189,158,123,136,190,64,111,0,155,139,153,115,153,114,156,241,197,148,150,152,170,116,110,157,156,128,169,14,13,159,158,149,212,189,43,16,43,16,43,16,148,110,148,110,147,109,182,151,133,121,106,118,114,103,89,66,94,94,211,188,205,207,139,168,151,152,87,76,101,79,151,152,130,156,125,116,47,29,43,16,169,228,11,103,120,6,230,176,55,49,55,6,55,6,193,102,92,0,71,0,13,30,0,147,63,43,12,43,12,43,142,152,71,53,61,61,0,0,0,0,0,0,0,0,0,0,158,146,25,2,0,0,0,0,0,0,0,0,107,130,170,194,176,188,109,0,203,159,113,111,202,158,0,0,135,135,114,0,136,135,0,109,187,190,148,126,177,187,0,0,149,130,218,105,169,135,37,113,146,113,49,13,49,13,0,0,178,195,147,114,255,255,109,0,193,149,110,109,109,109,12,15,125,41,33,41,144,188,1,6,75,53,10,53,210,161,110,0,152,148,210,60,110,156,213,5,63,5,63,5,45,111,0,0,232,172,190,168,190,169,0,0,190,144,109,109,109,109,0,0,168,140,148,111,168,140,0,0,200,151,113,110,255,158,0,0,184,188,147,139,186,255,0,0,122,130,111,0,109,0,0,0,132,69,109,93,110,136,51,5,205,103,61,6,47,106,0,0,110,109,110,122,155,179,0,0,132,120,113,114,84,63,0,0,124,108,202,189,160,174,0,0,144,142,79,57,159,146,0,0,138,138,119,117,255,69,0,0,97,198,47,38,208,84,23,112,41,14,157,7,121,192,35,11,35,11,35,11,160,61,129,9,40,19,20,139,236,44,0,0,15,3,97,93,0,0],s=[0,0,23,12,53,0,130,127,58,149,67,77,72,198,13,0,25,51,25,49,94,2,8,64,0,24,0,21,0,9,19,27,126,126,51,80,72,105,87,98,73,93,106,85,111,123,87,30,116,126,123,110,4,16,9,28,21,53,8,62,23,52,73,21,132,183,78,142,168,175,70,70,128,128,123,110,125,43,100,139,125,119,78,78,54,77,139,139,33,87,201,117,162,149,130,130,138,60,130,172,149,127,95,98,95,25,118,135,110,85,147,175,105,110,121,30,101,113,34,68,20,26,34,68,56,0,0,44,3,0,27,175,80,133,31,66,85,147,32,150,90,25,45,230,77,101,36,83,22,84,71,118,44,44,52,172,38,101,35,130,40,197,43,197,29,26,23,103,67,44,25,129,29,85,27,177,33,97,32,145,33,77,38,96,20,55,36,95,2,22]}),define(u[873],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,n,i){this.configuration=e,this.theme=t,this.model=n,this.viewLayout=n.viewLayout,this.privateViewEventBus=i}return e.prototype.addEventHandler=function(e){this.privateViewEventBus.addEventHandler(e)},e.prototype.removeEventHandler=function(e){this.privateViewEventBus.removeEventHandler(e)},e}();t.ViewContext=n}),define(u[870],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this._eventHandlerGateKeeper=e,this._eventHandlers=[],this._eventQueue=null,this._isConsumingQueue=!1}return e.prototype.addEventHandler=function(e){for(var t=0,n=this._eventHandlers.length;t<n;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)},e.prototype.removeEventHandler=function(e){for(var t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}},e.prototype.emit=function(e){this._eventQueue?this._eventQueue.push(e):this._eventQueue=[e],this._isConsumingQueue||this.consumeQueue()},e.prototype.emitMany=function(e){this._eventQueue?this._eventQueue=this._eventQueue.concat(e):this._eventQueue=e,this._isConsumingQueue||this.consumeQueue()},e.prototype.consumeQueue=function(){var e=this;this._eventHandlerGateKeeper(function(){try{e._isConsumingQueue=!0,e._doConsumeQueue()}finally{e._isConsumingQueue=!1}})},e.prototype._doConsumeQueue=function(){for(;this._eventQueue;){var e=this._eventQueue;this._eventQueue=null;for(var t=this._eventHandlers.slice(0),n=0,i=t.length;n<i;n++)t[n].handleEvents(e)}},e}();t.ViewEventDispatcher=n}),define(u[152],d([1,0,7,5]),function(e,t,n,i){"use strict";function r(e,t){try{e(t)}catch(e){n.onUnexpectedError(e)}}Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.ViewConfigurationChanged=1]="ViewConfigurationChanged",e[e.ViewCursorStateChanged=2]="ViewCursorStateChanged",e[e.ViewDecorationsChanged=3]="ViewDecorationsChanged",e[e.ViewFlushed=4]="ViewFlushed",e[e.ViewFocusChanged=5]="ViewFocusChanged",e[e.ViewLineMappingChanged=6]="ViewLineMappingChanged",e[e.ViewLinesChanged=7]="ViewLinesChanged",e[e.ViewLinesDeleted=8]="ViewLinesDeleted",e[e.ViewLinesInserted=9]="ViewLinesInserted",e[e.ViewRevealRangeRequest=10]="ViewRevealRangeRequest",e[e.ViewScrollChanged=11]="ViewScrollChanged",e[e.ViewTokensChanged=12]="ViewTokensChanged",e[e.ViewTokensColorsChanged=13]="ViewTokensColorsChanged",e[e.ViewZonesChanged=14]="ViewZonesChanged",e[e.ViewThemeChanged=15]="ViewThemeChanged"}(t.ViewEventType||(t.ViewEventType={}));var o=function(){return function(e){this.type=1,this.canUseLayerHinting=e.canUseLayerHinting,this.pixelRatio=e.pixelRatio,this.editorClassName=e.editorClassName,this.lineHeight=e.lineHeight,this.readOnly=e.readOnly,this.accessibilitySupport=e.accessibilitySupport,this.emptySelectionClipboard=e.emptySelectionClipboard,this.layoutInfo=e.layoutInfo,this.fontInfo=e.fontInfo,this.viewInfo=e.viewInfo,this.wrappingInfo=e.wrappingInfo}}();t.ViewConfigurationChangedEvent=o;var s=function(){return function(e,t,n){this.type=2,this.selections=e,this.isInEditableRange=t,this.screenReaderMessage=n}}();t.ViewCursorStateChangedEvent=s;var a=function(){return function(){this.type=3}}();t.ViewDecorationsChangedEvent=a;var c=function(){return function(){this.type=4}}();t.ViewFlushedEvent=c;var l=function(){return function(e){this.type=5,this.isFocused=e}}();t.ViewFocusChangedEvent=l;var u=function(){return function(){this.type=6}}();t.ViewLineMappingChangedEvent=u;var d=function(){return function(e,t){this.type=7,this.fromLineNumber=e,this.toLineNumber=t}}();t.ViewLinesChangedEvent=d;var p=function(){return function(e,t){this.type=8,this.fromLineNumber=e,this.toLineNumber=t}}();t.ViewLinesDeletedEvent=p;var f=function(){return function(e,t){this.type=9,this.fromLineNumber=e,this.toLineNumber=t}}();t.ViewLinesInsertedEvent=f;!function(e){e[e.Simple=0]="Simple",e[e.Center=1]="Center",e[e.CenterIfOutsideViewport=2]="CenterIfOutsideViewport",e[e.Top=3]="Top",e[e.Bottom=4]="Bottom"}(t.VerticalRevealType||(t.VerticalRevealType={}));var g=function(){return function(e,t,n){this.type=10,this.range=e,this.verticalType=t,this.revealHorizontal=n}}();t.ViewRevealRangeRequestEvent=g;var v=function(){return function(e){this.type=11,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}();t.ViewScrollChangedEvent=v;var m=function(){return function(e){this.type=12,this.ranges=e}}();t.ViewTokensChangedEvent=m;var y=function(){return function(){this.type=15}}();t.ViewThemeChangedEvent=y;var b=function(){return function(){this.type=13}}();t.ViewTokensColorsChangedEvent=b;var S=function(){return function(){this.type=14}}();t.ViewZonesChangedEvent=S;var _=function(e){function t(){var t=e.call(this)||this;return t._listeners=[],t}return h(t,e),t.prototype.dispose=function(){this._listeners=[],e.prototype.dispose.call(this)},t.prototype._emit=function(e){for(var t=this._listeners.slice(0),n=0,i=t.length;n<i;n++)r(t[n],e)},t.prototype.addEventListener=function(e){var t=this;return this._listeners.push(e),{dispose:function(){for(var n=t._listeners,i=0,r=n.length;i<r;i++)if(n[i]===e){n.splice(i,1);break}}}},t}(i.Disposable);t.ViewEventEmitter=_}),define(u[277],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,n,i){this.startColumn=e,this.endColumn=t,this.className=n,this.insertsBeforeOrAfter=i}return e._equals=function(e,t){return e.startColumn===t.startColumn&&e.endColumn===t.endColumn&&e.className===t.className&&e.insertsBeforeOrAfter===t.insertsBeforeOrAfter},e.equalsArr=function(t,n){var i=t.length;if(i!==n.length)return!1;for(var r=0;r<i;r++)if(!e._equals(t[r],n[r]))return!1;return!0},e.filter=function(t,n,i,r){if(0===t.length)return[];for(var o=[],s=0,a=0,c=t.length;a<c;a++){var l=t[a],u=l.range;if(!(u.endLineNumber<n||u.startLineNumber>n)&&!u.isEmpty()){var d=u.startLineNumber===n?u.startColumn:i,h=u.endLineNumber===n?u.endColumn:r;h<=1||(o[s++]=new e(d,h,l.inlineClassName,l.insertsBeforeOrAfter))}}return o},e.compare=function(e,t){return e.startColumn===t.startColumn?e.endColumn===t.endColumn?e.className<t.className?-1:e.className>t.className?1:0:e.endColumn-t.endColumn:e.startColumn-t.startColumn},e}();t.LineDecoration=n;var i=function(){return function(e,t,n){this.startOffset=e,this.endOffset=t,this.className=n}}();t.DecorationSegment=i;var r=function(){function e(){this.stopOffsets=[],this.classNames=[],this.count=0}return e.prototype.consumeLowerThan=function(e,t,n){for(;this.count>0&&this.stopOffsets[0]<e;){for(var r=0;r+1<this.count&&this.stopOffsets[r]===this.stopOffsets[r+1];)r++;n.push(new i(t,this.stopOffsets[r],this.classNames.join(" "))),t=this.stopOffsets[r]+1,this.stopOffsets.splice(0,r+1),this.classNames.splice(0,r+1),this.count-=r+1}return this.count>0&&t<e&&(n.push(new i(t,e-1,this.classNames.join(" "))),t=e),t},e.prototype.insert=function(e,t){if(0===this.count||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t);else for(var n=0;n<this.count;n++)if(this.stopOffsets[n]>=e){this.stopOffsets.splice(n,0,e),this.classNames.splice(n,0,t);break}this.count++},e}(),o=function(){function e(){}return e.normalize=function(e){if(0===e.length)return[];for(var t=[],n=new r,i=0,o=0,s=e.length;o<s;o++){var a=e[o],c=a.startColumn-1,l=a.endColumn-2;i=n.consumeLowerThan(c,i,t),0===n.count&&(i=c),n.insert(l,a.className)}return n.consumeLowerThan(1073741824,i,t),t},e}();t.LineDecorationsNormalizer=o}),define(u[279],d([1,0,250,277,12]),function(e,t,n,i,r){"use strict";function o(e){var t,n,i=e.useMonospaceOptimizations,o=e.lineContent;-1!==e.stopRenderingLineAfter&&e.stopRenderingLineAfter<o.length?(t=!0,n=e.stopRenderingLineAfter):(t=!1,n=o.length);var u=s(e.lineTokens,e.fauxIndentLength,n);2!==e.renderWhitespace&&1!==e.renderWhitespace||(u=c(o,n,u,e.fauxIndentLength,e.tabSize,i,1===e.renderWhitespace));var d=!1;if(e.lineDecorations.length>0){for(var h=0,p=e.lineDecorations.length;h<p;h++)if(e.lineDecorations[h].insertsBeforeOrAfter){d=!0;break}u=l(o,n,u,e.lineDecorations)}var f=!1;return e.mightContainRTL&&(f=r.containsRTL(o)),f||e.fontLigatures||(u=a(o,u)),new v(i,o,n,t,u,d,e.tabSize,f,e.spaceWidth,e.renderWhitespace,e.renderControlCharacters)}function s(e,t,n){var i=[],r=0;t>0&&(i[r++]=new d(t,""));for(var o=0,s=e.length;o<s;o++){var a=e[o],c=a.endIndex;if(!(c<=t)){var l=a.getType();if(c>=n){i[r++]=new d(n,l);break}i[r++]=new d(c,l)}}return i}function a(e,t){for(var n=0,i=[],o=0,s=0,a=t.length;s<a;s++){var c=t[s],l=c.endIndex,u=l-n;if(u>50){for(var h=c.type,p=Math.ceil(u/50),f=1;f<p;f++){var g=n+50*f,v=e.charCodeAt(g-1);r.isHighSurrogate(v)&&g--,i[o++]=new d(g,h)}i[o++]=new d(l,h)}else i[o++]=c;n=l}return i}function c(e,t,n,i,o,s,a){var c,l=[],u=0,h=0,p=n[h].type,f=n[h].endIndex,g=r.firstNonWhitespaceIndex(e);-1===g?(g=t,c=t):c=r.lastNonWhitespaceIndex(e);for(var v=0,m=0;m<i;m++)9===(b=e.charCodeAt(m))?v=o:v++;v%=o;for(var y=!1,m=i;m<t;m++){var b=e.charCodeAt(m),S=void 0;if(m<g||m>c)S=!0;else if(9===b)S=!0;else if(32===b)if(a)if(y)S=!0;else{var _=m+1<t?e.charCodeAt(m+1):0;S=32===_||9===_}else S=!0;else S=!1;y?(!S||!s&&v>=o)&&(l[u++]=new d(m,"vs-whitespace"),v%=o):(m===f||S&&m>i)&&(l[u++]=new d(m,p),v%=o),9===b?v=o:v++,y=S,m===f&&(p=n[++h].type,f=n[h].endIndex)}return l[u++]=y?new d(t,"vs-whitespace"):new d(t,p),l}function l(e,t,n,r){r.sort(i.LineDecoration.compare);for(var o=i.LineDecorationsNormalizer.normalize(r),s=o.length,a=0,c=[],l=0,u=0,h=0,p=n.length;h<p;h++){for(var f=n[h],g=f.endIndex,v=f.type;a<s&&o[a].startOffset<g;){var m=o[a];if(m.startOffset>u&&(u=m.startOffset,c[l++]=new d(u,v)),!(m.endOffset+1<=g)){u=g,c[l++]=new d(u,v+" "+m.className);break}u=m.endOffset+1,c[l++]=new d(u,v+" "+m.className),a++}g>u&&(u=g,c[l++]=new d(u,v))}return c}function u(e){for(var t=e.fontIsMonospace,n=e.containsForeignElements,i=e.lineContent,r=e.len,o=e.isOverflowing,s=e.parts,a=e.tabSize,c=e.containsRTL,l=e.spaceWidth,u=e.renderWhitespace,d=e.renderControlCharacters,h=new p(r+1,s.length),g=0,v=0,m=0,y="<span>",b=0,S=s.length;b<S;b++){var _=s[b],E=_.endIndex,C=_.type;if(m=0,0!==u&&C.indexOf("vs-whitespace")>=0){for(var w=0,I="";g<E;g++){if(h.setPartData(g,b,m),9===(T=i.charCodeAt(g)))for(v+=(k=a-(g+v)%a)-1,m+=k-1,k>0&&(I+="&rarr;",w++,k--);k>0;)I+="&nbsp;",w++,k--;else I+="&middot;",w++;m++}h.setPartLength(b,w),y+=t?'<span class="'+C+'">'+I+"</span>":'<span class="'+C+'" style="width:'+l*w+'px">'+I+"</span>"}else{for(var w=0,I="";g<E;g++){h.setPartData(g,b,m);var T=i.charCodeAt(g);switch(T){case 9:var k=a-(g+v)%a;for(v+=k-1,m+=k-1;k>0;)I+="&nbsp;",w++,k--;break;case 32:I+="&nbsp;",w++;break;case 60:I+="&lt;",w++;break;case 62:I+="&gt;",w++;break;case 38:I+="&amp;",w++;break;case 0:I+="&#00;",w++;break;case 65279:case 8232:I+="�",w++;break;case 13:I+="&#8203",w++;break;default:d&&T<32?(I+=String.fromCharCode(9216+T),w++):(I+=String.fromCharCode(T),w++)}m++}h.setPartLength(b,w),y+=c?'<span dir="ltr" class="'+C+'">'+I+"</span>":'<span class="'+C+'">'+I+"</span>"}}return h.setPartData(r,s.length-1,m),o&&(y+="<span>&hellip;</span>"),y+="</span>",new f(h,y,c,n)}Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.None=0]="None",e[e.Boundary=1]="Boundary",e[e.All=2]="All"}(t.RenderWhitespace||(t.RenderWhitespace={}));var d=function(){return function(e,t){this.endIndex=e,this.type=t}}(),h=function(){function e(e,t,n,i,r,o,s,a,c,l,u,d){this.useMonospaceOptimizations=e,this.lineContent=t,this.mightContainRTL=n,this.fauxIndentLength=i,this.lineTokens=r,this.lineDecorations=o,this.tabSize=s,this.spaceWidth=a,this.stopRenderingLineAfter=c,this.renderWhitespace="all"===l?2:"boundary"===l?1:0,this.renderControlCharacters=u,this.fontLigatures=d}return e.prototype.equals=function(e){return this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.lineContent===e.lineContent&&this.mightContainRTL===e.mightContainRTL&&this.fauxIndentLength===e.fauxIndentLength&&this.tabSize===e.tabSize&&this.spaceWidth===e.spaceWidth&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.fontLigatures===e.fontLigatures&&i.LineDecoration.equalsArr(this.lineDecorations,e.lineDecorations)&&n.ViewLineToken.equalsArr(this.lineTokens,e.lineTokens)},e}();t.RenderLineInput=h;!function(e){e[e.PART_INDEX_MASK=4294901760]="PART_INDEX_MASK",e[e.CHAR_INDEX_MASK=65535]="CHAR_INDEX_MASK",e[e.CHAR_INDEX_OFFSET=0]="CHAR_INDEX_OFFSET",e[e.PART_INDEX_OFFSET=16]="PART_INDEX_OFFSET"}(t.CharacterMappingConstants||(t.CharacterMappingConstants={}));var p=function(){function e(e,t){this.length=e,this._data=new Uint32Array(this.length),this._partLengths=new Uint16Array(t)}return e.getPartIndex=function(e){return(4294901760&e)>>>16},e.getCharIndex=function(e){return(65535&e)>>>0},e.prototype.setPartData=function(e,t,n){var i=(t<<16|n<<0)>>>0;this._data[e]=i},e.prototype.setPartLength=function(e,t){this._partLengths[e]=t},e.prototype.getPartLengths=function(){return this._partLengths},e.prototype.charOffsetToPartData=function(e){return 0===this.length?0:e<0?this._data[0]:e>=this.length?this._data[this.length-1]:this._data[e]},e.prototype.partDataToCharOffset=function(t,n,i){if(0===this.length)return 0;for(var r=(t<<16|i<<0)>>>0,o=0,s=this.length-1;o+1<s;){var a=o+s>>>1,c=this._data[a];if(c===r)return a;c>r?s=a:o=a}if(o===s)return o;var l=this._data[o],u=this._data[s];if(l===r)return o;if(u===r)return s;var d=e.getPartIndex(l);return i-e.getCharIndex(l)<=(d!==e.getPartIndex(u)?n:e.getCharIndex(u))-i?o:s},e}();t.CharacterMapping=p;var f=function(){return function(e,t,n,i){this.characterMapping=e,this.html=t,this.containsRTL=n,this.containsForeignElements=i}}();t.RenderLineOutput=f,t.renderViewLine=function(e){return 0===e.lineContent.length?new f(new p(0,0),"<span><span>&nbsp;</span></span>",!1,!1):u(o(e))};var g,v=function(){return function(e,t,n,i,r,o,s,a,c,l,u){this.fontIsMonospace=e,this.lineContent=t,this.len=n,this.isOverflowing=i,this.parts=r,this.containsForeignElements=o,this.tabSize=s,this.containsRTL=a,this.spaceWidth=c,this.renderWhitespace=l,this.renderControlCharacters=u}}();!function(e){e[e.LongToken=50]="LongToken"}(g||(g={}))}),define(u[869],d([1,0,14]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,i,r){this.selections=e,this.startLineNumber=0|t.startLineNumber,this.endLineNumber=0|t.endLineNumber,this.relativeVerticalOffset=t.relativeVerticalOffset,this.bigNumbersDelta=0|t.bigNumbersDelta,this.whitespaceViewportData=i,this._model=r,this.visibleRange=new n.Range(t.startLineNumber,this._model.getLineMinColumn(t.startLineNumber),t.endLineNumber,this._model.getLineMaxColumn(t.endLineNumber))}return e.prototype.getViewLineRenderingData=function(e){return this._model.getViewLineRenderingData(this.visibleRange,e)},e.prototype.getDecorationsInViewport=function(){return this._model.getDecorationsInViewport(this.visibleRange)},e}();t.ViewportData=i}),define(u[868],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this._heights=[],this._ids=[],this._afterLineNumbers=[],this._ordinals=[],this._prefixSum=[],this._prefixSumValidIndex=-1,this._whitespaceId2Index={},this._lastWhitespaceId=0}return e.findInsertionIndex=function(e,t,n,i){for(var r=0,o=e.length;r<o;){var s=r+o>>>1;t===e[s]?i<n[s]?o=s:r=s+1:t<e[s]?o=s:r=s+1}return r},e.prototype.insertWhitespace=function(t,n,i){t|=0,n|=0,i|=0;var r=++this._lastWhitespaceId,o=e.findInsertionIndex(this._afterLineNumbers,t,this._ordinals,n);return this._insertWhitespaceAtIndex(r,o,t,n,i),r},e.prototype._insertWhitespaceAtIndex=function(e,t,n,i,r){e|=0,t|=0,n|=0,i|=0,r|=0,this._heights.splice(t,0,r),this._ids.splice(t,0,e),this._afterLineNumbers.splice(t,0,n),this._ordinals.splice(t,0,i),this._prefixSum.splice(t,0,0);for(var o=Object.keys(this._whitespaceId2Index),s=0,a=o.length;s<a;s++){var c=o[s],l=this._whitespaceId2Index[c];l>=t&&(this._whitespaceId2Index[c]=l+1)}this._whitespaceId2Index[e.toString()]=t,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)},e.prototype.changeWhitespace=function(e,t,n){e|=0,t|=0,n|=0;var i=!1;return i=this.changeWhitespaceHeight(e,n)||i,i=this.changeWhitespaceAfterLineNumber(e,t)||i},e.prototype.changeWhitespaceHeight=function(e,t){t|=0;var n=(e|=0).toString();if(this._whitespaceId2Index.hasOwnProperty(n)){var i=this._whitespaceId2Index[n];if(this._heights[i]!==t)return this._heights[i]=t,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,i-1),!0}return!1},e.prototype.changeWhitespaceAfterLineNumber=function(t,n){n|=0;var i=(t|=0).toString();if(this._whitespaceId2Index.hasOwnProperty(i)){var r=this._whitespaceId2Index[i];if(this._afterLineNumbers[r]!==n){var o=this._ordinals[r],s=this._heights[r];this.removeWhitespace(t);var a=e.findInsertionIndex(this._afterLineNumbers,n,this._ordinals,o);return this._insertWhitespaceAtIndex(t,a,n,o,s),!0}}return!1},e.prototype.removeWhitespace=function(e){var t=(e|=0).toString();if(this._whitespaceId2Index.hasOwnProperty(t)){var n=this._whitespaceId2Index[t];return delete this._whitespaceId2Index[t],this._removeWhitespaceAtIndex(n),!0}return!1},e.prototype._removeWhitespaceAtIndex=function(e){e|=0,this._heights.splice(e,1),this._ids.splice(e,1),this._afterLineNumbers.splice(e,1),this._ordinals.splice(e,1),this._prefixSum.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1);for(var t=Object.keys(this._whitespaceId2Index),n=0,i=t.length;n<i;n++){var r=t[n],o=this._whitespaceId2Index[r];o>=e&&(this._whitespaceId2Index[r]=o-1)}},e.prototype.onLinesDeleted=function(e,t){e|=0,t|=0;for(var n=0,i=this._afterLineNumbers.length;n<i;n++){var r=this._afterLineNumbers[n];e<=r&&r<=t?this._afterLineNumbers[n]=e-1:r>t&&(this._afterLineNumbers[n]-=t-e+1)}},e.prototype.onLinesInserted=function(e,t){e|=0,t|=0;for(var n=0,i=this._afterLineNumbers.length;n<i;n++)e<=this._afterLineNumbers[n]&&(this._afterLineNumbers[n]+=t-e+1)},e.prototype.getTotalHeight=function(){return 0===this._heights.length?0:this.getAccumulatedHeight(this._heights.length-1)},e.prototype.getAccumulatedHeight=function(e){e|=0;var t=Math.max(0,this._prefixSumValidIndex+1);0===t&&(this._prefixSum[0]=this._heights[0],t++);for(var n=t;n<=e;n++)this._prefixSum[n]=this._prefixSum[n-1]+this._heights[n];return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._prefixSum[e]},e.prototype.getAccumulatedHeightBeforeLineNumber=function(e){e|=0;var t=this._findLastWhitespaceBeforeLineNumber(e);return-1===t?0:this.getAccumulatedHeight(t)},e.prototype._findLastWhitespaceBeforeLineNumber=function(e){e|=0;for(var t=this._afterLineNumbers,n=0,i=t.length-1;n<=i;){var r=n+((i-n|0)/2|0)|0;if(t[r]<e){if(r+1>=t.length||t[r+1]>=e)return r;n=r+1|0}else i=r-1|0}return-1},e.prototype._findFirstWhitespaceAfterLineNumber=function(e){e|=0;var t=this._findLastWhitespaceBeforeLineNumber(e)+1;return t<this._heights.length?t:-1},e.prototype.getFirstWhitespaceIndexAfterLineNumber=function(e){return e|=0,this._findFirstWhitespaceAfterLineNumber(e)},e.prototype.getCount=function(){return this._heights.length},e.prototype.getAfterLineNumberForWhitespaceIndex=function(e){return e|=0,this._afterLineNumbers[e]},e.prototype.getIdForWhitespaceIndex=function(e){return e|=0,this._ids[e]},e.prototype.getHeightForWhitespaceIndex=function(e){return e|=0,this._heights[e]},e.prototype.getWhitespaces=function(e){e|=0;for(var t=[],n=0;n<this._heights.length;n++)t.push({id:this._ids[n],afterLineNumber:this._afterLineNumbers[n],heightInLines:this._heights[n]/e});return t},e}();t.WhitespaceComputer=n}),define(u[867],d([1,0,868]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this._lineCount=e,this._lineHeight=t,this._whitespaces=new n.WhitespaceComputer}return e.prototype.setLineHeight=function(e){this._lineHeight=e},e.prototype.onFlushed=function(e){this._lineCount=e},e.prototype.insertWhitespace=function(e,t,n){return this._whitespaces.insertWhitespace(e,t,n)},e.prototype.changeWhitespace=function(e,t,n){return this._whitespaces.changeWhitespace(e,t,n)},e.prototype.removeWhitespace=function(e){return this._whitespaces.removeWhitespace(e)},e.prototype.onLinesDeleted=function(e,t){this._lineCount-=t-e+1,this._whitespaces.onLinesDeleted(e,t)},e.prototype.onLinesInserted=function(e,t){this._lineCount+=t-e+1,this._whitespaces.onLinesInserted(e,t)},e.prototype.getLinesTotalHeight=function(){return this._lineHeight*this._lineCount+this._whitespaces.getTotalHeight()},e.prototype.getVerticalOffsetForLineNumber=function(e){return((e|=0)>1?this._lineHeight*(e-1):0)+this._whitespaces.getAccumulatedHeightBeforeLineNumber(e)},e.prototype.getWhitespaceAccumulatedHeightBeforeLineNumber=function(e){return this._whitespaces.getAccumulatedHeightBeforeLineNumber(e)},e.prototype.hasWhitespace=function(){return this._whitespaces.getCount()>0},e.prototype.isAfterLines=function(e){return e>this.getLinesTotalHeight()},e.prototype.getLineNumberAtOrAfterVerticalOffset=function(e){if((e|=0)<0)return 1;for(var t=0|this._lineCount,n=this._lineHeight,i=1,r=t;i<r;){var o=(i+r)/2|0,s=0|this.getVerticalOffsetForLineNumber(o);if(e>=s+n)i=o+1;else{if(e>=s)return o;r=o}}return i>t?t:i},e.prototype.getLinesViewportData=function(e,t){e|=0,t|=0;var n,i,r=this._lineHeight,o=0|this.getLineNumberAtOrAfterVerticalOffset(e),s=0|this.getVerticalOffsetForLineNumber(o),a=0|this._lineCount,c=0|this._whitespaces.getFirstWhitespaceIndexAfterLineNumber(o),l=0|this._whitespaces.getCount();-1===c?(c=l,i=a+1,n=0):(i=0|this._whitespaces.getAfterLineNumberForWhitespaceIndex(c),n=0|this._whitespaces.getHeightForWhitespaceIndex(c));var u=s,d=u,h=0;s>=5e5&&(h=5e5*Math.floor(s/5e5),d-=h=Math.floor(h/r)*r);for(var p=[],f=e+(t-e)/2,g=-1,v=o;v<=a;v++){if(-1===g){var m=u,y=u+r;(m<=f&&f<y||m>f)&&(g=v)}for(u+=r,p[v-o]=d,d+=r;i===v;)d+=n,u+=n,++c>=l?i=a+1:(i=0|this._whitespaces.getAfterLineNumberForWhitespaceIndex(c),n=0|this._whitespaces.getHeightForWhitespaceIndex(c));if(u>=t){a=v;break}}-1===g&&(g=a);var b=0|this.getVerticalOffsetForLineNumber(a),S=o,_=a;return S<_&&s<e&&S++,S<_&&b+r>t&&_--,{bigNumbersDelta:h,startLineNumber:o,endLineNumber:a,relativeVerticalOffset:p,centeredLineNumber:g,completelyVisibleStartLineNumber:S,completelyVisibleEndLineNumber:_}},e.prototype.getVerticalOffsetForWhitespaceIndex=function(e){e|=0;var t,n=this._whitespaces.getAfterLineNumberForWhitespaceIndex(e);t=n>=1?this._lineHeight*n:0;var i;return i=e>0?this._whitespaces.getAccumulatedHeight(e-1):0,t+i},e.prototype.getWhitespaceIndexAtOrAfterVerticallOffset=function(e){e|=0;var t,n,i,r=0,o=this._whitespaces.getCount()-1;if(o<0)return-1;if(e>=this.getVerticalOffsetForWhitespaceIndex(o)+this._whitespaces.getHeightForWhitespaceIndex(o))return-1;for(;r<o;)if(t=Math.floor((r+o)/2),n=this.getVerticalOffsetForWhitespaceIndex(t),i=this._whitespaces.getHeightForWhitespaceIndex(t),e>=n+i)r=t+1;else{if(e>=n)return t;o=t}return r},e.prototype.getWhitespaceAtVerticalOffset=function(e){e|=0;var t=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(t<0)return null;if(t>=this._whitespaces.getCount())return null;var n=this.getVerticalOffsetForWhitespaceIndex(t);if(n>e)return null;var i=this._whitespaces.getHeightForWhitespaceIndex(t);return{id:this._whitespaces.getIdForWhitespaceIndex(t),afterLineNumber:this._whitespaces.getAfterLineNumberForWhitespaceIndex(t),verticalOffset:n,height:i}},e.prototype.getWhitespaceViewportData=function(e,t){e|=0,t|=0;var n=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),i=this._whitespaces.getCount()-1;if(n<0)return[];for(var r=[],o=n;o<=i;o++){var s=this.getVerticalOffsetForWhitespaceIndex(o),a=this._whitespaces.getHeightForWhitespaceIndex(o);if(s>=t)break;r.push({id:this._whitespaces.getIdForWhitespaceIndex(o),afterLineNumber:this._whitespaces.getAfterLineNumberForWhitespaceIndex(o),verticalOffset:s,height:a})}return r},e.prototype.getWhitespaces=function(){return this._whitespaces.getWhitespaces(this._lineHeight)},e}();t.LinesLayout=i}),define(u[236],d([1,0,254]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){return function(e,t){this.index=e,this.remainder=t}}();t.PrefixSumIndexOfResult=i;var r=function(){function e(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}return e.prototype.getCount=function(){return this.values.length},e.prototype.insertValues=function(e,t){e=n.toUint32(e);var i=this.values,r=this.prefixSum,o=t.length;return 0!==o&&(this.values=new Uint32Array(i.length+o),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e),e+o),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(r.subarray(0,this.prefixSumValidIndex[0]+1)),!0)},e.prototype.changeValue=function(e,t){return e=n.toUint32(e),t=n.toUint32(t),this.values[e]!==t&&(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)},e.prototype.removeValues=function(e,t){e=n.toUint32(e),t=n.toUint32(t);var i=this.values,r=this.prefixSum;if(e>=i.length)return!1;var o=i.length-e;return t>=o&&(t=o),0!==t&&(this.values=new Uint32Array(i.length-t),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(r.subarray(0,this.prefixSumValidIndex[0]+1)),!0)},e.prototype.getTotalValue=function(){return 0===this.values.length?0:this._getAccumulatedValue(this.values.length-1)},e.prototype.getAccumulatedValue=function(e){return e<0?0:(e=n.toUint32(e),this._getAccumulatedValue(e))},e.prototype._getAccumulatedValue=function(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];var t=this.prefixSumValidIndex[0]+1;0===t&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(var n=t;n<=e;n++)this.prefixSum[n]=this.prefixSum[n-1]+this.values[n];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]},e.prototype.getIndexOf=function(e){e=Math.floor(e),this.getTotalValue();for(var t,n,r,o=0,s=this.values.length-1;o<=s;)if(t=o+(s-o)/2|0,n=this.prefixSum[t],r=n-this.values[t],e<r)s=t-1;else{if(!(e>=n))break;o=t+1}return new i(t,e-r)},e}();t.PrefixSumComputer=r;var o=function(){function e(e){this._cacheAccumulatedValueStart=0,this._cache=null,this._actual=new r(e),this._bustCache()}return e.prototype._bustCache=function(){this._cacheAccumulatedValueStart=0,this._cache=null},e.prototype.getCount=function(){return this._actual.getCount()},e.prototype.insertValues=function(e,t){this._actual.insertValues(e,t)&&this._bustCache()},e.prototype.changeValue=function(e,t){this._actual.changeValue(e,t)&&this._bustCache()},e.prototype.removeValues=function(e,t){this._actual.removeValues(e,t)&&this._bustCache()},e.prototype.getTotalValue=function(){return this._actual.getTotalValue()},e.prototype.getAccumulatedValue=function(e){return this._actual.getAccumulatedValue(e)},e.prototype.getIndexOf=function(e){if(e=Math.floor(e),null!==this._cache){var t=e-this._cacheAccumulatedValueStart;if(t>=0&&t<this._cache.length)return this._cache[t]}return this._actual.getIndexOf(e)},e.prototype.warmUpCache=function(e,t){for(var n=[],i=e;i<=t;i++)n[i-e]=this.getIndexOf(i);this._cache=n,this._cacheAccumulatedValueStart=e},e}();t.PrefixSumComputerWithCache=o}),define(u[866],d([1,0,236]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,n,i){this._uri=e,this._lines=t,this._eol=n,this._versionId=i}return e.prototype.dispose=function(){this._lines.length=0},Object.defineProperty(e.prototype,"version",{get:function(){return this._versionId},enumerable:!0,configurable:!0}),e.prototype.getText=function(){return this._lines.join(this._eol)},e.prototype.onEvents=function(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);for(var t=e.changes,n=0,i=t.length;n<i;n++){var r=t[n];this._acceptDeleteRange(r.range),this._acceptInsertText({lineNumber:r.range.startLineNumber,column:r.range.startColumn},r.text)}this._versionId=e.versionId},e.prototype._ensureLineStarts=function(){if(!this._lineStarts){for(var e=this._eol.length,t=this._lines.length,i=new Uint32Array(t),r=0;r<t;r++)i[r]=this._lines[r].length+e;this._lineStarts=new n.PrefixSumComputer(i)}},e.prototype._setLineText=function(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.changeValue(e,this._lines[e].length+this._eol.length)},e.prototype._acceptDeleteRange=function(e){if(e.startLineNumber!==e.endLineNumber)this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber);else{if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1))}},e.prototype._acceptInsertText=function(e,t){if(0!==t.length){var n=t.split(/\r\n|\r|\n/);if(1!==n.length){n[n.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+n[0]);for(var i=new Uint32Array(n.length-1),r=1;r<n.length;r++)this._lines.splice(e.lineNumber+r-1,0,n[r]),i[r-1]=n[r].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,i)}else this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+n[0]+this._lines[e.lineNumber-1].substring(e.column-1))}},e}();t.MirrorModel=i}),define(u[865],d([1,0,16,4,14,929,272,37,866,917,899,188,886]),function(e,t,n,i,r,o,s,a,c,l,u,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),Object.defineProperty(t.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._versionId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eol",{get:function(){return this._eol},enumerable:!0,configurable:!0}),t.prototype.getValue=function(){return this.getText()},t.prototype.getLinesContent=function(){return this._lines.slice(0)},t.prototype.getLineCount=function(){return this._lines.length},t.prototype.getLineContent=function(e){return this._lines[e-1]},t.prototype.getWordAtPosition=function(e,t){var n=d.getWordAtText(e.column,d.ensureValidWordDefinition(t),this._lines[e.lineNumber-1],0);return n?new r.Range(e.lineNumber,n.startColumn,e.lineNumber,n.endColumn):null},t.prototype.getWordUntilPosition=function(e,t){var n=this.getWordAtPosition(e,t);return n?{word:this._lines[e.lineNumber-1].substring(n.startColumn-1,e.column-1),startColumn:n.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}},t.prototype._getAllWords=function(e){var t=this,n=[];return this._lines.forEach(function(i){t._wordenize(i,e).forEach(function(e){n.push(i.substring(e.start,e.end))})}),n},t.prototype.getAllUniqueWords=function(e,t){var n=!1,i=Object.create(null);return this._getAllWords(e).filter(function(e){return t&&!n&&t===e?(n=!0,!1):!i[e]&&(i[e]=!0,!0)})},t.prototype._wordenize=function(e,t){var n,i=[];for(t.lastIndex=0;(n=t.exec(e))&&0!==n[0].length;)i.push({start:n.index,end:n.index+n[0].length});return i},t.prototype.getValueInRange=function(e){if((e=this._validateRange(e)).startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);var t=this._eol,n=e.startLineNumber-1,i=e.endLineNumber-1,r=[];r.push(this._lines[n].substring(e.startColumn-1));for(var o=n+1;o<i;o++)r.push(this._lines[o]);return r.push(this._lines[i].substring(0,e.endColumn-1)),r.join(t)},t.prototype.offsetAt=function(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getAccumulatedValue(e.lineNumber-2)+(e.column-1)},t.prototype.positionAt=function(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();var t=this._lineStarts.getIndexOf(e),n=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,n)}},t.prototype._validateRange=function(e){var t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),n=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||n.lineNumber!==e.endLineNumber||n.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:n.lineNumber,endColumn:n.column}:e},t.prototype._validatePosition=function(e){if(!a.Position.isIPosition(e))throw new Error("bad position");var t=e.lineNumber,n=e.column,i=!1;if(t<1)t=1,n=1,i=!0;else if(t>this._lines.length)t=this._lines.length,n=this._lines[t-1].length+1,i=!0;else{var r=this._lines[t-1].length+1;n<1?(n=1,i=!0):n>r&&(n=r,i=!0)}return i?{lineNumber:t,column:n}:e},t}(c.MirrorModel),g=function(){function e(){this._foreignModule=null}return e.prototype.computeDiff=function(e,t,n){var r=this._getModel(e),s=this._getModel(t);if(!r||!s)return null;var a=r.getLinesContent(),c=s.getLinesContent(),l=new o.DiffComputer(a,c,{shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:n,shouldConsiderTrimWhitespaceInEmptyCase:!0});return i.TPromise.as(l.computeDiff())},e.prototype.computeDirtyDiff=function(e,t,n){var r=this._getModel(e),s=this._getModel(t);if(!r||!s)return null;var a=r.getLinesContent(),c=s.getLinesContent(),l=new o.DiffComputer(a,c,{shouldPostProcessCharChanges:!1,shouldIgnoreTrimWhitespace:n,shouldConsiderTrimWhitespaceInEmptyCase:!1});return i.TPromise.as(l.computeDiff())},e.prototype.computeMoreMinimalEdits=function(t,n,o){var a=this._getModel(t);if(!a)return i.TPromise.as(n);for(var c,l=[],u=0,d=n;u<d.length;u++){var h=d[u],p=h.range,f=h.text,g=h.eol;if("number"==typeof g&&(c=g),p){var v=a.getValueInRange(p);if(f=f.replace(/\r\n|\n|\r/g,a.eol),v!==f)if(Math.max(f.length,v.length)>e._diffLimit)l.push({range:p,text:f});else for(var m=s.stringDiff(v,f),y=a.offsetAt(r.Range.lift(p).getStartPosition()),b=0,S=m;b<S.length;b++){var _=S[b],E=a.positionAt(y+_.originalStart),C=a.positionAt(y+_.originalStart+_.originalLength),w={text:f.substr(_.modifiedStart,_.modifiedLength),range:{startLineNumber:E.lineNumber,startColumn:E.column,endLineNumber:C.lineNumber,endColumn:C.column}};a.getValueInRange(w.range)!==w.text&&l.push(w)}}}return"number"==typeof c&&l.push({eol:c,text:void 0,range:void 0}),i.TPromise.as(l)},e.prototype.computeLinks=function(e){var t=this._getModel(e);return t?i.TPromise.as(l.computeLinks(t)):null},e.prototype.textualSuggest=function(e,t,n,r){var o=this._getModel(e);if(o){for(var s=[],a=new RegExp(n,r),c=o.getWordUntilPosition(t,a).word,l=0,u=o.getAllUniqueWords(a);l<u.length;l++){var d=u[l];d!==c&&isNaN(Number(d))&&s.push({type:"text",label:d,insertText:d,noAutoAccept:!0,overwriteBefore:c.length})}return i.TPromise.as({suggestions:s})}},e.prototype.navigateValueSet=function(e,t,n,r,o){var s=this._getModel(e);if(!s)return null;var a=new RegExp(r,o);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});var c=s.getValueInRange(t),l=s.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},a),d=null;null!==l&&(d=s.getValueInRange(l));var h=u.BasicInplaceReplace.INSTANCE.navigateValueSet(t,c,l,d,n);return i.TPromise.as(h)},e.prototype.loadForeignModule=function(e,t){var n=this;return new i.TPromise(function(i,r){self.require([e],function(e){var r={getMirrorModels:function(){return n._getModels()}};n._foreignModule=e.create(r,t);var o=[];for(var s in n._foreignModule)"function"==typeof n._foreignModule[s]&&o.push(s);i(o)},r)})},e.prototype.fmr=function(e,t){if(!this._foreignModule||"function"!=typeof this._foreignModule[e])return i.TPromise.wrapError(new Error("Missing requestHandler or method: "+e));try{return i.TPromise.as(this._foreignModule[e].apply(this._foreignModule,t))}catch(e){return i.TPromise.wrapError(e)}},e}();g._diffLimit=1e4,t.BaseEditorSimpleWorker=g;var v=function(e){function t(){var t=e.call(this)||this;return t._models=Object.create(null),t}return h(t,e),t.prototype.dispose=function(){this._models=Object.create(null)},t.prototype._getModel=function(e){return this._models[e]},t.prototype._getModels=function(){var e=this,t=[];return Object.keys(this._models).forEach(function(n){return t.push(e._models[n])}),t},t.prototype.acceptNewModel=function(e){this._models[e.url]=new f(n.default.parse(e.url),e.lines,e.EOL,e.versionId)},t.prototype.acceptModelChanged=function(e,t){this._models[e]&&this._models[e].onEvents(t)},t.prototype.acceptRemovedModel=function(e){this._models[e]&&delete this._models[e]},t}(g);t.EditorSimpleWorkerImpl=v,t.create=function(){return new v};var m=self;"function"==typeof m.importScripts&&(m.monaco=p.createMonacoBaseAPI())}),define(u[217],d([1,0,152,5]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(){var t=e.call(this)||this;return t._shouldRender=!0,t}return h(t,e),t.prototype.shouldRender=function(){return this._shouldRender},t.prototype.forceShouldRender=function(){this._shouldRender=!0},t.prototype.setShouldRender=function(){this._shouldRender=!0},t.prototype.onDidRender=function(){this._shouldRender=!1},t.prototype.onConfigurationChanged=function(e){return!1},t.prototype.onCursorStateChanged=function(e){return!1},t.prototype.onDecorationsChanged=function(e){return!1},t.prototype.onFlushed=function(e){return!1},t.prototype.onFocusChanged=function(e){return!1},t.prototype.onLineMappingChanged=function(e){return!1},t.prototype.onLinesChanged=function(e){return!1},t.prototype.onLinesDeleted=function(e){return!1},t.prototype.onLinesInserted=function(e){return!1},t.prototype.onRevealRangeRequest=function(e){return!1},t.prototype.onScrollChanged=function(e){return!1},t.prototype.onTokensChanged=function(e){return!1},t.prototype.onTokensColorsChanged=function(e){return!1},t.prototype.onZonesChanged=function(e){return!1},t.prototype.onThemeChanged=function(e){return!1},t.prototype.handleEvents=function(e){for(var t=!1,n=0,i=e.length;n<i;n++){var r=e[n];switch(r.type){case 1:this.onConfigurationChanged(r)&&(t=!0);break;case 2:this.onCursorStateChanged(r)&&(t=!0);break;case 3:this.onDecorationsChanged(r)&&(t=!0);break;case 4:this.onFlushed(r)&&(t=!0);break;case 5:this.onFocusChanged(r)&&(t=!0);break;case 6:this.onLineMappingChanged(r)&&(t=!0);break;case 7:this.onLinesChanged(r)&&(t=!0);break;case 8:this.onLinesDeleted(r)&&(t=!0);break;case 9:this.onLinesInserted(r)&&(t=!0);break;case 10:this.onRevealRangeRequest(r)&&(t=!0);break;case 11:this.onScrollChanged(r)&&(t=!0);break;case 12:this.onTokensChanged(r)&&(t=!0);break;case 13:this.onTokensColorsChanged(r)&&(t=!0);break;case 14:this.onZonesChanged(r)&&(t=!0);break;case 15:this.onThemeChanged(r)&&(t=!0);break;default:console.info("View received unknown event: "),console.info(r)}}t&&(this._shouldRender=!0)},t}(i.Disposable);t.ViewEventHandler=r}),define(u[177],d([1,0,217]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t}(n.ViewEventHandler);t.DynamicViewOverlay=i}),define(u[101],d([1,0,217,75]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t){var n=e.call(this)||this;return n._context=t,n._context.addEventHandler(n),n}return h(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,e.prototype.dispose.call(this)},t}(n.ViewEventHandler);t.ViewPart=r;!function(e){e[e.None=0]="None",e[e.ContentWidgets=1]="ContentWidgets",e[e.OverflowingContentWidgets=2]="OverflowingContentWidgets",e[e.OverflowGuard=3]="OverflowGuard",e[e.OverlayWidgets=4]="OverlayWidgets",e[e.ScrollableElement=5]="ScrollableElement",e[e.TextArea=6]="TextArea",e[e.ViewLines=7]="ViewLines",e[e.Minimap=8]="Minimap"}(t.PartFingerprint||(t.PartFingerprint={}));var o=function(){function e(){}return e.write=function(e,t){i.FastDomNode,e.setAttribute("data-mprt",String(t))},e.read=function(e){var t=e.getAttribute("data-mprt");return null===t?0:parseInt(t,10)},e.collect=function(e,t){for(var n=[],i=0;e&&e!==document.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(n[i++]=this.read(e)),e=e.parentElement;for(var r=new Uint8Array(i),o=0;o<i;o++)r[o]=n[i-o-1];return r},e}();t.PartFingerprints=o}),define(u[864],d([1,0,9,75,73,101]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){return function(e,t){this.top=e,this.left=t}}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r._viewDomNode=n,r._widgets={},r.domNode=i.createFastDomNode(document.createElement("div")),o.PartFingerprints.write(r.domNode,1),r.domNode.setClassName("contentWidgets"),r.domNode.setPosition("absolute"),r.domNode.setTop(0),r.overflowingContentWidgetsDomNode=i.createFastDomNode(document.createElement("div")),o.PartFingerprints.write(r.overflowingContentWidgetsDomNode,2),r.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets"),r}return h(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._widgets=null,this.domNode=null},t.prototype.onConfigurationChanged=function(e){for(var t=Object.keys(this._widgets),n=0,i=t.length;n<i;n++){var r=t[n];this._widgets[r].onConfigurationChanged(e)}return!0},t.prototype.onDecorationsChanged=function(e){return!0},t.prototype.onFlushed=function(e){return!0},t.prototype.onLinesChanged=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return!0},t.prototype.onZonesChanged=function(e){return!0},t.prototype.addWidget=function(e){var t=new c(this._context,this._viewDomNode,e);this._widgets[t.id]=t,t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(t.domNode):this.domNode.appendChild(t.domNode),this.setShouldRender()},t.prototype.setWidgetPosition=function(e,t,n){this._widgets[e.getId()].setPosition(t,n),this.setShouldRender()},t.prototype.removeWidget=function(e){var t=e.getId();if(this._widgets.hasOwnProperty(t)){var n=this._widgets[t];delete this._widgets[t];var i=n.domNode.domNode;i.parentNode.removeChild(i),i.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}},t.prototype.shouldSuppressMouseDownOnWidget=function(e){return!!this._widgets.hasOwnProperty(e)&&this._widgets[e].suppressMouseDown},t.prototype.prepareRender=function(e){for(var t=Object.keys(this._widgets),n=0,i=t.length;n<i;n++){var r=t[n];this._widgets[r].prepareRender(e)}},t.prototype.render=function(e){for(var t=Object.keys(this._widgets),n=0,i=t.length;n<i;n++){var r=t[n];this._widgets[r].render(e)}},t}(o.ViewPart);t.ViewContentWidgets=a;var c=function(){function e(e,t,n){this._context=e,this._viewDomNode=t,this._actual=n,this.domNode=i.createFastDomNode(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1,this._fixedOverflowWidgets=this._context.configuration.editor.viewInfo.fixedOverflowWidgets,this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth,this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft,this._lineHeight=this._context.configuration.editor.lineHeight,this._position=null,this._preference=null,this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this._updateMaxWidth(),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id)}return e.prototype.onConfigurationChanged=function(e){e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.layoutInfo&&(this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft,this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth,this._updateMaxWidth())},e.prototype._updateMaxWidth=function(){var e=this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth;this.domNode.setMaxWidth(e)},e.prototype.setPosition=function(e,t){this._position=e,this._preference=t},e.prototype._layoutBoxInViewport=function(e,t,n,i){var r=e.top,o=r,s=e.top+this._lineHeight,a=r-n,c=o>=n,l=s,u=i.viewportHeight-s>=n,d=e.left;return d+t>i.scrollLeft+i.viewportWidth&&(d=i.scrollLeft+i.viewportWidth-t),d<i.scrollLeft&&(d=i.scrollLeft),{aboveTop:a,fitsAbove:c,belowTop:l,fitsBelow:u,left:d}},e.prototype._layoutBoxInPage=function(e,t,i,r){var o=e.left-r.scrollLeft;if(o+t<0||o>this._contentWidth)return null;var s=e.top-i,a=e.top+this._lineHeight,c=o+this._contentLeft,l=n.getDomNodePagePosition(this._viewDomNode.domNode),u=l.top+s-n.StandardWindow.scrollY,d=l.top+a-n.StandardWindow.scrollY,h=l.left+c-n.StandardWindow.scrollX,p=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,f=u>=22,g=d+i<=(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)-22;if(h+t+20>p&&(h-=v=h-(p-t-20),c-=v),h<0){var v=h;h-=v,c-=v}return this._fixedOverflowWidgets&&(s=u,a=d,c=h),{aboveTop:s,fitsAbove:f,belowTop:a,fitsBelow:g,left:c}},e.prototype._prepareRenderWidgetAtExactPositionOverflowing=function(e){return new s(e.top,e.left+this._contentLeft)},e.prototype._getTopLeft=function(e,t){var n=e.visibleRangeForPosition(t);if(!n)return null;var i=e.getVerticalOffsetForLineNumber(t.lineNumber)-e.scrollTop;return new s(i,n.left)},e.prototype._prepareRenderWidget=function(e){var t=this;if(!this._position||!this._preference)return null;var n=this._context.model.validateModelPosition(this._position);if(!this._context.model.coordinatesConverter.modelPositionIsVisible(n))return null;for(var i=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(n),o=null,a=function(){if(!o){var n=t._getTopLeft(e,i);if(n){var r=t.domNode.domNode,s=r.clientWidth,a=r.clientHeight;o=t.allowEditorOverflow?t._layoutBoxInPage(n,s,a,e):t._layoutBoxInViewport(n,s,a,e)}}},c=1;c<=2;c++)for(var l=0;l<this._preference.length;l++){var u=this._preference[l];if(u===r.ContentWidgetPositionPreference.ABOVE){if(a(),!o)return null;if(2===c||o.fitsAbove)return new s(o.aboveTop,o.left)}else{if(u!==r.ContentWidgetPositionPreference.BELOW){var d=this._getTopLeft(e,i);return d?this.allowEditorOverflow?this._prepareRenderWidgetAtExactPositionOverflowing(d):d:null}if(a(),!o)return null;if(2===c||o.fitsBelow)return new s(o.belowTop,o.left)}}return null},e.prototype.prepareRender=function(e){this._renderData=this._prepareRenderWidget(e)},e.prototype.render=function(e){this._renderData?(this.allowEditorOverflow?(this.domNode.setTop(this._renderData.top),this.domNode.setLeft(this._renderData.left)):(this.domNode.setTop(this._renderData.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0)):this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden"))},e}()}),define(u[861],d([1,0,177,14,204,1116]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this)||this;return n._context=t,n._lineHeight=n._context.configuration.editor.lineHeight,n._typicalHalfwidthCharacterWidth=n._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,n._renderResult=null,n._context.addEventHandler(n),n}return h(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null,e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.fontInfo&&(this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth),!0},t.prototype.onDecorationsChanged=function(e){return!0},t.prototype.onFlushed=function(e){return!0},t.prototype.onLinesChanged=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged||e.scrollWidthChanged},t.prototype.onZonesChanged=function(e){return!0},t.prototype.prepareRender=function(e){for(var t=e.getDecorationsInViewport(),n=[],r=0,o=0,s=t.length;o<s;o++){var a=t[o];a.source.options.className&&(n[r++]=a)}n=n.sort(function(e,t){var n=e.source.options.className,r=t.source.options.className;return n<r?-1:n>r?1:i.Range.compareRangesUsingStarts(e.range,t.range)});for(var c=e.visibleRange.startLineNumber,l=e.visibleRange.endLineNumber,u=[],d=c;d<=l;d++)u[d-c]="";this._renderWholeLineDecorations(e,n,u),this._renderNormalDecorations(e,n,u),this._renderResult=u},t.prototype._renderWholeLineDecorations=function(e,t,n){for(var i=String(this._lineHeight),r=e.visibleRange.startLineNumber,o=e.visibleRange.endLineNumber,s=0,a=t.length;s<a;s++){var c=t[s];if(c.source.options.isWholeLine)for(var l='<div class="cdr '+c.source.options.className+'" style="left:0;width:100%;height:'+i+'px;"></div>',u=Math.max(c.range.startLineNumber,r),d=Math.min(c.range.endLineNumber,o),h=u;h<=d;h++)n[h-r]+=l}},t.prototype._renderNormalDecorations=function(e,t,n){for(var o=String(this._lineHeight),s=e.visibleRange.startLineNumber,a=0,c=t.length;a<c;a++){var l=t[a];if(!l.source.options.isWholeLine){var u=l.source.options.className,d=l.source.options.showIfCollapsed,h=l.range;d&&1===h.endColumn&&h.endLineNumber!==h.startLineNumber&&(h=new i.Range(h.startLineNumber,h.startColumn,h.endLineNumber-1,this._context.model.getLineMaxColumn(h.endLineNumber-1)));var p=e.linesVisibleRangesForRange(h,"findMatch"===u);if(p)for(var f=0,g=p.length;f<g;f++){var v=p[f],m=v.lineNumber-s;if(d&&1===v.ranges.length){var y=v.ranges[0];0===y.width&&(v.ranges[0]=new r.HorizontalRange(y.left,this._typicalHalfwidthCharacterWidth))}for(var b=0,S=v.ranges.length;b<S;b++){var _=v.ranges[b],E='<div class="cdr '+u+'" style="left:'+String(_.left)+"px;width:"+String(_.width)+"px;height:"+o+'px;"></div>';n[m]+=E}}}}},t.prototype.render=function(e,t){if(!this._renderResult)return"";var n=t-e;if(n<0||n>=this._renderResult.length)throw new Error("Unexpected render request");return this._renderResult[n]},t}(n.DynamicViewOverlay);t.DecorationsOverlay=o}),define(u[289],d([1,0,177,1114]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){return function(e,t,n){this.startLineNumber=+e,this.endLineNumber=+t,this.className=String(n)}}();t.DecorationToRender=i;var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype._render=function(e,t,n){for(var i=[],r=e;r<=t;r++)i[r-e]=[];if(0===n.length)return i;n.sort(function(e,t){return e.className===t.className?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.className<t.className?-1:1});for(var o=null,s=0,a=0,c=n.length;a<c;a++){var l=n[a],u=l.className,d=Math.max(l.startLineNumber,e)-e,h=Math.min(l.endLineNumber,t)-e;o===u?(d=Math.max(s+1,d),s=Math.max(s,h)):(o=u,s=h);for(var p=d;p<=s;p++)i[p].push(o)}return i},t}(n.DynamicViewOverlay);t.DedupOverlay=r;var o=function(e){function t(t){var n=e.call(this)||this;return n._context=t,n._lineHeight=n._context.configuration.editor.lineHeight,n._glyphMargin=n._context.configuration.editor.viewInfo.glyphMargin,n._glyphMarginLeft=n._context.configuration.editor.layoutInfo.glyphMarginLeft,n._glyphMarginWidth=n._context.configuration.editor.layoutInfo.glyphMarginWidth,n._renderResult=null,n._context.addEventHandler(n),n}return h(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null,e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.viewInfo&&(this._glyphMargin=this._context.configuration.editor.viewInfo.glyphMargin),e.layoutInfo&&(this._glyphMarginLeft=this._context.configuration.editor.layoutInfo.glyphMarginLeft,this._glyphMarginWidth=this._context.configuration.editor.layoutInfo.glyphMarginWidth),!0},t.prototype.onDecorationsChanged=function(e){return!0},t.prototype.onFlushed=function(e){return!0},t.prototype.onLinesChanged=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged},t.prototype.onZonesChanged=function(e){return!0},t.prototype._getDecorations=function(e){for(var t=e.getDecorationsInViewport(),n=[],r=0,o=t.length;r<o;r++){var s=t[r],a=s.source.options.glyphMarginClassName;a&&n.push(new i(s.range.startLineNumber,s.range.endLineNumber,a))}return n},t.prototype.prepareRender=function(e){if(this._glyphMargin){for(var t=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,i=this._render(t,n,this._getDecorations(e)),r=this._lineHeight.toString(),o='" style="left:'+this._glyphMarginLeft.toString()+"px;width:"+this._glyphMarginWidth.toString()+"px;height:"+r+'px;"></div>',s=[],a=t;a<=n;a++){var c=a-t,l=i[c];0===l.length?s[c]="":s[c]='<div class="cgmr '+l.join(" ")+o}this._renderResult=s}else this._renderResult=null},t.prototype.render=function(e,t){if(!this._renderResult)return"";var n=t-e;if(n<0||n>=this._renderResult.length)throw new Error("Unexpected render request");return this._renderResult[n]},t}(r);t.GlyphMarginOverlay=o}),define(u[859],d([1,0,289,1104]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var n=e.call(this)||this;return n._context=t,n._decorationsLeft=n._context.configuration.editor.layoutInfo.decorationsLeft,n._decorationsWidth=n._context.configuration.editor.layoutInfo.decorationsWidth,n._renderResult=null,n._context.addEventHandler(n),n}return h(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null,e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){return e.layoutInfo&&(this._decorationsLeft=this._context.configuration.editor.layoutInfo.decorationsLeft,this._decorationsWidth=this._context.configuration.editor.layoutInfo.decorationsWidth),!0},t.prototype.onDecorationsChanged=function(e){return!0},t.prototype.onFlushed=function(e){return!0},t.prototype.onLinesChanged=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged},t.prototype.onZonesChanged=function(e){return!0},t.prototype._getDecorations=function(e){for(var t=e.getDecorationsInViewport(),i=[],r=0,o=t.length;r<o;r++){var s=t[r],a=s.source.options.linesDecorationsClassName;a&&i.push(new n.DecorationToRender(s.range.startLineNumber,s.range.endLineNumber,a))}return i},t.prototype.prepareRender=function(e){for(var t=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,i=this._render(t,n,this._getDecorations(e)),r='" style="left:'+this._decorationsLeft.toString()+"px;width:"+this._decorationsWidth.toString()+'px;"></div>',o=[],s=t;s<=n;s++){for(var a=s-t,c=i[a],l="",u=0,d=c.length;u<d;u++)l+='<div class="cldr '+c[u]+r;o[a]=l}this._renderResult=o},t.prototype.render=function(e,t){return this._renderResult?this._renderResult[t-e]:""},t}(n.DedupOverlay);t.LinesDecorationsOverlay=i}),define(u[340],d([1,0,75,101]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t){var n=e.call(this,t)||this;return n._canUseLayerHinting=n._context.configuration.editor.canUseLayerHinting,n._contentLeft=n._context.configuration.editor.layoutInfo.contentLeft,n._glyphMarginLeft=n._context.configuration.editor.layoutInfo.glyphMarginLeft,n._glyphMarginWidth=n._context.configuration.editor.layoutInfo.glyphMarginWidth,n._domNode=n._createDomNode(),n}return h(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.getDomNode=function(){return this._domNode},t.prototype._createDomNode=function(){var e=n.createFastDomNode(document.createElement("div"));return e.setClassName("margin"),e.setPosition("absolute"),e.setAttribute("role","presentation"),e.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=n.createFastDomNode(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(t.CLASS_NAME),e.appendChild(this._glyphMarginBackgroundDomNode),e},t.prototype.onConfigurationChanged=function(e){return e.canUseLayerHinting&&(this._canUseLayerHinting=this._context.configuration.editor.canUseLayerHinting),e.layoutInfo&&(this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft,this._glyphMarginLeft=this._context.configuration.editor.layoutInfo.glyphMarginLeft,this._glyphMarginWidth=this._context.configuration.editor.layoutInfo.glyphMarginWidth),!0},t.prototype.onScrollChanged=function(t){return e.prototype.onScrollChanged.call(this,t)||t.scrollTopChanged},t.prototype.prepareRender=function(e){},t.prototype.render=function(e){this._domNode.setLayerHinting(this._canUseLayerHinting);var t=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-t);var n=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(n),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(n)},t}(i.ViewPart);r.CLASS_NAME="glyph-margin",t.Margin=r}),define(u[858],d([1,0,289,1096]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var n=e.call(this)||this;return n._context=t,n._renderResult=null,n._context.addEventHandler(n),n}return h(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null,e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){return!0},t.prototype.onDecorationsChanged=function(e){return!0},t.prototype.onFlushed=function(e){return!0},t.prototype.onLinesChanged=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged},t.prototype.onZonesChanged=function(e){return!0},t.prototype._getDecorations=function(e){for(var t=e.getDecorationsInViewport(),i=[],r=0,o=t.length;r<o;r++){var s=t[r],a=s.source.options.marginClassName;a&&i.push(new n.DecorationToRender(s.range.startLineNumber,s.range.endLineNumber,a))}return i},t.prototype.prepareRender=function(e){for(var t=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,i=this._render(t,n,this._getDecorations(e)),r=[],o=t;o<=n;o++){for(var s=o-t,a=i[s],c="",l=0,u=a.length;l<u;l++)c+='<div class="cmdr '+a[l]+'" style=""></div>';r[s]=c}this._renderResult=r},t.prototype.render=function(e,t){return this._renderResult?this._renderResult[t-e]:""},t}(n.DedupOverlay);t.MarginViewLineDecorationsOverlay=i}),define(u[852],d([1,0,75,73,101,1083]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var i=e.call(this,t)||this;return i._widgets={},i._verticalScrollbarWidth=i._context.configuration.editor.layoutInfo.verticalScrollbarWidth,i._minimapWidth=i._context.configuration.editor.layoutInfo.minimapWidth,i._horizontalScrollbarHeight=i._context.configuration.editor.layoutInfo.horizontalScrollbarHeight,i._editorHeight=i._context.configuration.editor.layoutInfo.height,i._editorWidth=i._context.configuration.editor.layoutInfo.width,i._domNode=n.createFastDomNode(document.createElement("div")),r.PartFingerprints.write(i._domNode,4),i._domNode.setClassName("overlayWidgets"),i}return h(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._widgets=null},t.prototype.getDomNode=function(){return this._domNode},t.prototype.onConfigurationChanged=function(e){return!!e.layoutInfo&&(this._verticalScrollbarWidth=this._context.configuration.editor.layoutInfo.verticalScrollbarWidth,this._minimapWidth=this._context.configuration.editor.layoutInfo.minimapWidth,this._horizontalScrollbarHeight=this._context.configuration.editor.layoutInfo.horizontalScrollbarHeight,this._editorHeight=this._context.configuration.editor.layoutInfo.height,this._editorWidth=this._context.configuration.editor.layoutInfo.width,!0)},t.prototype.addWidget=function(e){var t=n.createFastDomNode(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:t},t.setPosition("absolute"),t.setAttribute("widgetId",e.getId()),this._domNode.appendChild(t),this.setShouldRender()},t.prototype.setWidgetPosition=function(e,t){var n=this._widgets[e.getId()];return n.preference!==t&&(n.preference=t,this.setShouldRender(),!0)},t.prototype.removeWidget=function(e){var t=e.getId();if(this._widgets.hasOwnProperty(t)){var n=this._widgets[t].domNode.domNode;delete this._widgets[t],n.parentNode.removeChild(n),this.setShouldRender()}},t.prototype._renderWidget=function(e){var t=e.domNode;if(null!==e.preference)if(e.preference===i.OverlayWidgetPositionPreference.TOP_RIGHT_CORNER)t.setTop(0),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(e.preference===i.OverlayWidgetPositionPreference.BOTTOM_RIGHT_CORNER){var n=t.domNode.clientHeight;t.setTop(this._editorHeight-n-2*this._horizontalScrollbarHeight),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else e.preference===i.OverlayWidgetPositionPreference.TOP_CENTER&&(t.setTop(0),t.domNode.style.right="50%");else t.unsetTop()},t.prototype.prepareRender=function(e){},t.prototype.render=function(e){this._domNode.setWidth(this._editorWidth);for(var t=Object.keys(this._widgets),n=0,i=t.length;n<i;n++){var r=t[n];this._renderWidget(this._widgets[r])}},t}(r.ViewPart);t.ViewOverlayWidgets=o}),define(u[850],d([1,0,7,75,101,37]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t){var n=e.call(this,t)||this;return n._lineHeight=n._context.configuration.editor.lineHeight,n._contentWidth=n._context.configuration.editor.layoutInfo.contentWidth,n._contentLeft=n._context.configuration.editor.layoutInfo.contentLeft,n.domNode=i.createFastDomNode(document.createElement("div")),n.domNode.setClassName("view-zones"),n.domNode.setPosition("absolute"),n.domNode.setAttribute("role","presentation"),n.domNode.setAttribute("aria-hidden","true"),n.marginDomNode=i.createFastDomNode(document.createElement("div")),n.marginDomNode.setClassName("margin-view-zones"),n.marginDomNode.setPosition("absolute"),n.marginDomNode.setAttribute("role","presentation"),n.marginDomNode.setAttribute("aria-hidden","true"),n._zones={},n}return h(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._zones={}},t.prototype._recomputeWhitespacesProps=function(){for(var e=!1,t=Object.keys(this._zones),n=0,i=t.length;n<i;n++){var r=t[n],o=this._zones[r],s=this._computeWhitespaceProps(o.delegate);this._context.viewLayout.changeWhitespace(parseInt(r,10),s.afterViewLineNumber,s.heightInPx)&&(this._safeCallOnComputedHeight(o.delegate,s.heightInPx),e=!0)}return e},t.prototype.onConfigurationChanged=function(e){return e.lineHeight?(this._lineHeight=this._context.configuration.editor.lineHeight,this._recomputeWhitespacesProps()):(e.layoutInfo&&(this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth,this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft),!0)},t.prototype.onLineMappingChanged=function(e){return this._recomputeWhitespacesProps()},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged||e.scrollWidthChanged},t.prototype.onZonesChanged=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype._getZoneOrdinal=function(e){return void 0!==e.afterColumn?e.afterColumn:1e4},t.prototype._computeWhitespaceProps=function(e){if(0===e.afterLineNumber)return{afterViewLineNumber:0,heightInPx:this._heightInPixels(e)};var t;if(void 0!==e.afterColumn)t=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{var n=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t=new o.Position(n,this._context.model.getModelLineMaxColumn(n))}var i;i=t.column===this._context.model.getModelLineMaxColumn(t.lineNumber)?this._context.model.validateModelPosition({lineNumber:t.lineNumber+1,column:1}):this._context.model.validateModelPosition({lineNumber:t.lineNumber,column:t.column+1});var r=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(t),s=this._context.model.coordinatesConverter.modelPositionIsVisible(i);return{afterViewLineNumber:r.lineNumber,heightInPx:s?this._heightInPixels(e):0}},t.prototype.addZone=function(e){var t=this._computeWhitespaceProps(e),n={whitespaceId:this._context.viewLayout.addWhitespace(t.afterViewLineNumber,this._getZoneOrdinal(e),t.heightInPx),delegate:e,isVisible:!1,domNode:i.createFastDomNode(e.domNode),marginDomNode:e.marginDomNode?i.createFastDomNode(e.marginDomNode):null};return this._safeCallOnComputedHeight(n.delegate,t.heightInPx),n.domNode.setPosition("absolute"),n.domNode.domNode.style.width="100%",n.domNode.setDisplay("none"),n.domNode.setAttribute("monaco-view-zone",n.whitespaceId.toString()),this.domNode.appendChild(n.domNode),n.marginDomNode&&(n.marginDomNode.setPosition("absolute"),n.marginDomNode.domNode.style.width="100%",n.marginDomNode.setDisplay("none"),n.marginDomNode.setAttribute("monaco-view-zone",n.whitespaceId.toString()),this.marginDomNode.appendChild(n.marginDomNode)),this._zones[n.whitespaceId.toString()]=n,this.setShouldRender(),n.whitespaceId},t.prototype.removeZone=function(e){if(this._zones.hasOwnProperty(e.toString())){var t=this._zones[e.toString()];return delete this._zones[e.toString()],this._context.viewLayout.removeWhitespace(t.whitespaceId),t.domNode.removeAttribute("monaco-visible-view-zone"),t.domNode.removeAttribute("monaco-view-zone"),t.domNode.domNode.parentNode.removeChild(t.domNode.domNode),t.marginDomNode&&(t.marginDomNode.removeAttribute("monaco-visible-view-zone"),t.marginDomNode.removeAttribute("monaco-view-zone"),t.marginDomNode.domNode.parentNode.removeChild(t.marginDomNode.domNode)),this.setShouldRender(),!0}return!1},t.prototype.layoutZone=function(e){var t=!1;if(this._zones.hasOwnProperty(e.toString())){var n=this._zones[e.toString()],i=this._computeWhitespaceProps(n.delegate);(t=this._context.viewLayout.changeWhitespace(n.whitespaceId,i.afterViewLineNumber,i.heightInPx)||t)&&(this._safeCallOnComputedHeight(n.delegate,i.heightInPx),this.setShouldRender())}return t},t.prototype.shouldSuppressMouseDownOnViewZone=function(e){return!!this._zones.hasOwnProperty(e.toString())&&this._zones[e.toString()].delegate.suppressMouseDown},t.prototype._heightInPixels=function(e){return"number"==typeof e.heightInPx?e.heightInPx:"number"==typeof e.heightInLines?this._lineHeight*e.heightInLines:this._lineHeight},t.prototype._safeCallOnComputedHeight=function(e,t){if("function"==typeof e.onComputedHeight)try{e.onComputedHeight(t)}catch(e){n.onUnexpectedError(e)}},t.prototype._safeCallOnDomNodeTop=function(e,t){if("function"==typeof e.onDomNodeTop)try{e.onDomNodeTop(t)}catch(e){n.onUnexpectedError(e)}},t.prototype.prepareRender=function(e){},t.prototype.render=function(e){for(var t=e.viewportData.whitespaceViewportData,n={},i=!1,r=0,o=t.length;r<o;r++)n[t[r].id.toString()]=t[r],i=!0;for(var s=Object.keys(this._zones),r=0,o=s.length;r<o;r++){var a=s[r],c=this._zones[a],l=0,u=0,d="none";n.hasOwnProperty(a)?(l=n[a].verticalOffset-e.bigNumbersDelta,u=n[a].height,d="block",c.isVisible||(c.domNode.setAttribute("monaco-visible-view-zone","true"),c.isVisible=!0),this._safeCallOnDomNodeTop(c.delegate,e.getScrolledTopFromAbsoluteTop(n[a].verticalOffset))):(c.isVisible&&(c.domNode.removeAttribute("monaco-visible-view-zone"),c.isVisible=!1),this._safeCallOnDomNodeTop(c.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),c.domNode.setTop(l),c.domNode.setHeight(u),c.domNode.setDisplay(d),c.marginDomNode&&(c.marginDomNode.setTop(l),c.marginDomNode.setHeight(u),c.marginDomNode.setDisplay(d))}i&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))},t}(r.ViewPart);t.ViewZones=s}),define(u[191],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t,n,i){this.top=0|e,this.left=0|t,this.width=0|n,this.height=0|i}}();t.Viewport=n;var i=function(){return function(e,t){this.tabSize=e,this.data=t}}();t.MinimapLinesRenderingData=i;var r=function(){return function(e,t,n,i){this.content=e,this.minColumn=t,this.maxColumn=n,this.tokens=i}}();t.ViewLineData=r;var o=function(){return function(e,t,n,i,r,o,s,a){this.minColumn=e,this.maxColumn=t,this.content=n,this.mightContainRTL=i,this.mightContainNonBasicASCII=r,this.tokens=o,this.inlineDecorations=s,this.tabSize=a}}();t.ViewLineRenderingData=o;var s=function(){return function(e,t,n){this.range=e,this.inlineClassName=t,this.insertsBeforeOrAfter=n}}();t.InlineDecoration=s;var a=function(){return function(e){this.range=null,this.source=e}}();t.ViewModelDecoration=a;var c=function(){function e(){this._eventsLen=0,this._events=[],this._eventsLen=0}return e.prototype.emit=function(e){this._events[this._eventsLen++]=e},e.prototype.finalize=function(){var e=this._events;return this._events=null,e},e}();t.ViewEventsCollector=c}),define(u[846],d([1,0,5,113,867,191]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t,n){var o=e.call(this)||this;return o._configuration=t,o._linesLayout=new r.LinesLayout(n,o._configuration.editor.lineHeight),o.scrollable=o._register(new i.Scrollable),o.scrollable.updateState({width:t.editor.layoutInfo.contentWidth,height:t.editor.layoutInfo.contentHeight}),o.onDidScroll=o.scrollable.onScroll,o._updateHeight(),o}return h(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.getScrollable=function(){return this.scrollable},t.prototype.onHeightMaybeChanged=function(){this._updateHeight()},t.prototype.onConfigurationChanged=function(e){e.lineHeight&&this._linesLayout.setLineHeight(this._configuration.editor.lineHeight),e.layoutInfo&&this.scrollable.updateState({width:this._configuration.editor.layoutInfo.contentWidth,height:this._configuration.editor.layoutInfo.contentHeight}),this._updateHeight()},t.prototype.onFlushed=function(e){this._linesLayout.onFlushed(e),this._updateHeight()},t.prototype.onLinesDeleted=function(e,t){this._linesLayout.onLinesDeleted(e,t),this._updateHeight()},t.prototype.onLinesInserted=function(e,t){this._linesLayout.onLinesInserted(e,t),this._updateHeight()},t.prototype._getHorizontalScrollbarHeight=function(e){return this._configuration.editor.viewInfo.scrollbar.horizontal===i.ScrollbarVisibility.Hidden?0:e.width>=e.scrollWidth?0:this._configuration.editor.viewInfo.scrollbar.horizontalScrollbarSize},t.prototype._getTotalHeight=function(){var e=this.scrollable.getState(),t=this._linesLayout.getLinesTotalHeight();return this._configuration.editor.viewInfo.scrollBeyondLastLine?t+=e.height-this._configuration.editor.lineHeight:t+=this._getHorizontalScrollbarHeight(e),Math.max(e.height,t)},t.prototype._updateHeight=function(){this.scrollable.updateState({scrollHeight:this._getTotalHeight()})},t.prototype.getCurrentViewport=function(){var e=this.scrollable.getState();return new o.Viewport(e.scrollTop,e.scrollLeft,e.width,e.height)},t.prototype._computeScrollWidth=function(e,n){return this._configuration.editor.wrappingInfo.isViewportWrapping?Math.max(e,n):Math.max(e+t.LINES_HORIZONTAL_EXTRA_PX,n)},t.prototype.onMaxLineWidthChanged=function(e){var t=this._computeScrollWidth(e,this.getCurrentViewport().width);this.scrollable.updateState({scrollWidth:t}),this._updateHeight()},t.prototype.saveState=function(){var e=this.scrollable.getState(),t=e.scrollTop,n=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t);return{scrollTop:t,scrollTopWithoutViewZones:t-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(n),scrollLeft:e.scrollLeft}},t.prototype.restoreState=function(e){var t=e.scrollTop;"number"!=typeof e.scrollTopWithoutViewZones||this._linesLayout.hasWhitespace()||(t=e.scrollTopWithoutViewZones),this.scrollable.updateState({scrollLeft:e.scrollLeft,scrollTop:t})},t.prototype.addWhitespace=function(e,t,n){return this._linesLayout.insertWhitespace(e,t,n)},t.prototype.changeWhitespace=function(e,t,n){return this._linesLayout.changeWhitespace(e,t,n)},t.prototype.removeWhitespace=function(e){return this._linesLayout.removeWhitespace(e)},t.prototype.getVerticalOffsetForLineNumber=function(e){return this._linesLayout.getVerticalOffsetForLineNumber(e)},t.prototype.isAfterLines=function(e){return this._linesLayout.isAfterLines(e)},t.prototype.getLineNumberAtVerticalOffset=function(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)},t.prototype.getWhitespaceAtVerticalOffset=function(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)},t.prototype.getLinesViewportData=function(){var e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)},t.prototype.getLinesViewportDataAtScrollTop=function(e){var t=this.scrollable.getState();return e+t.height>t.scrollHeight&&(e=t.scrollHeight-t.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+t.height)},t.prototype.getWhitespaceViewportData=function(){var e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)},t.prototype.getWhitespaces=function(){return this._linesLayout.getWhitespaces()},t.prototype.getScrollWidth=function(){return this.scrollable.getState().scrollWidth},t.prototype.getScrollLeft=function(){return this.scrollable.getState().scrollLeft},t.prototype.getScrollHeight=function(){return this.scrollable.getState().scrollHeight},t.prototype.getScrollTop=function(){return this.scrollable.getState().scrollTop},t.prototype.setScrollPosition=function(e){this.scrollable.updateState(e)},t}(n.Disposable);s.LINES_HORIZONTAL_EXTRA_PX=30,t.ViewLayout=s}),define(u[844],d([1,0,14,37,191]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,n,i){this.editorId=e,this.model=t,this.configuration=n,this._coordinatesConverter=i,this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}return e.prototype._clearCachedModelDecorationsResolver=function(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null},e.prototype.dispose=function(){this._decorationsCache=null,this._clearCachedModelDecorationsResolver()},e.prototype.reset=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},e.prototype.onModelDecorationsChanged=function(e){for(var t=e.changedDecorations,n=0,i=t.length;n<i;n++){var r=t[n],o=this._decorationsCache[r];o&&(o.range=null)}var s=e.removedDecorations;if(null!==this._decorationsCache&&void 0!==this._decorationsCache)for(var n=0,i=s.length;n<i;n++){var a=s[n];delete this._decorationsCache[a]}this._clearCachedModelDecorationsResolver()},e.prototype.onLineMappingChanged=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},e.prototype._getOrCreateViewModelDecoration=function(e){var t=e.id,o=this._decorationsCache[t];if(o||(o=new r.ViewModelDecoration(e),this._decorationsCache[t]=o),null===o.range){var s=e.range;if(e.options.isWholeLine){var a=this._coordinatesConverter.convertModelPositionToViewPosition(new i.Position(s.startLineNumber,1)),c=this._coordinatesConverter.convertModelPositionToViewPosition(new i.Position(s.endLineNumber,this.model.getLineMaxColumn(s.endLineNumber)));o.range=new n.Range(a.lineNumber,a.column,c.lineNumber,c.column)}else o.range=this._coordinatesConverter.convertModelRangeToViewRange(s)}return o},e.prototype.getAllOverviewRulerDecorations=function(){for(var e=this.model.getAllDecorations(this.editorId,this.configuration.editor.readOnly),t=[],n=0,i=0,r=e.length;i<r;i++){var o=e[i];if(o.options.overviewRuler.color){var s=this._getOrCreateViewModelDecoration(o);t[n++]=s}}return t},e.prototype.getDecorationsViewportData=function(e){var t=!0;return t=t&&null!==this._cachedModelDecorationsResolver,(t=t&&e.equalsRange(this._cachedModelDecorationsResolverViewRange))||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(e),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver},e.prototype._getDecorationsViewportData=function(e){for(var t=this._coordinatesConverter.convertViewRangeToModelRange(e),i=e.startLineNumber,o=e.endLineNumber,s=this.model.getDecorationsInRange(t,this.editorId,this.configuration.editor.readOnly),a=[],c=0,l=[],u=i;u<=o;u++)l[u-i]=[];for(var d=0,h=s.length;d<h;d++){var p=s[d],f=p.options,g=this._getOrCreateViewModelDecoration(p),v=g.range;if(a[c++]=g,f.inlineClassName)for(var m=new r.InlineDecoration(v,f.inlineClassName,!1),y=Math.max(i,v.startLineNumber),b=Math.min(o,v.endLineNumber),u=y;u<=b;u++)l[u-i].push(m);if(f.beforeContentClassName&&i<=v.startLineNumber&&v.startLineNumber<=o){m=new r.InlineDecoration(new n.Range(v.startLineNumber,v.startColumn,v.startLineNumber,v.startColumn+1),f.beforeContentClassName,!0);l[v.startLineNumber-i].push(m)}if(f.afterContentClassName&&i<=v.endLineNumber&&v.endLineNumber<=o&&v.endColumn>1){m=new r.InlineDecoration(new n.Range(v.endLineNumber,v.endColumn-1,v.endLineNumber,v.endColumn),f.afterContentClassName,!0);l[v.endLineNumber-i].push(m)}}return{decorations:a,inlineDecorations:l}},e}();t.ViewModelDecorations=o}),define(u[843],d([1,0,14]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this._selection=e,this._isMovingLeft=t}return e.prototype.getEditOperations=function(e,t){var i=this._selection;if(this._selectionId=t.trackSelection(i),i.startLineNumber===i.endLineNumber&&(!this._isMovingLeft||0!==i.startColumn)&&(this._isMovingLeft||i.endColumn!==e.getLineMaxColumn(i.startLineNumber))){var r,o,s,a=i.selectionStartLineNumber,c=e.getLineContent(a);this._isMovingLeft?(r=c.substring(0,i.startColumn-2),o=c.substring(i.startColumn-1,i.endColumn-1),s=c.substring(i.startColumn-2,i.startColumn-1)+c.substring(i.endColumn-1)):(r=c.substring(0,i.startColumn-1)+c.substring(i.endColumn-1,i.endColumn),o=c.substring(i.startColumn-1,i.endColumn-1),s=c.substring(i.endColumn));var l=r+o+s;t.addEditOperation(new n.Range(a,1,a,e.getLineMaxColumn(a)),null),t.addEditOperation(new n.Range(a,1,a,1),l),this._cutStartIndex=i.startColumn+(this._isMovingLeft?-1:1),this._cutEndIndex=this._cutStartIndex+i.endColumn-i.startColumn,this._moved=!0}},e.prototype.computeCursorState=function(e,t){var n=t.getTrackedSelection(this._selectionId);return this._moved&&(n=(n=n.setStartPosition(n.startLineNumber,this._cutStartIndex)).setEndPosition(n.startLineNumber,this._cutEndIndex)),n},e}();t.MoveCaretCommand=i}),define(u[348],d([1,0,105,37,14,53,112]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){this._selection=e,this._usedEndToken=null}return e._haystackHasNeedleAtOffset=function(e,t,n){if(n<0)return!1;var i=t.length;if(n+i>e.length)return!1;for(var r=0;r<i;r++)if(e.charCodeAt(n+r)!==t.charCodeAt(r))return!1;return!0},e.prototype._createOperationsForBlockComment=function(t,n,i,o){var s,a=t.startLineNumber,c=t.startColumn,l=t.endLineNumber,u=t.endColumn,d=n.blockCommentStartToken,h=n.blockCommentEndToken,p=i.getLineContent(a).lastIndexOf(d,c-1+d.length),f=i.getLineContent(l).indexOf(h,u-1-h.length);-1!==p&&-1!==f?s=e._createRemoveBlockCommentOperations(new r.Range(a,p+1+d.length,l,f+1),d,h):(s=e._createAddBlockCommentOperations(t,d,h),this._usedEndToken=1===s.length?h:null);for(var g=0;g<s.length;g++)o.addTrackedEditOperation(s[g].range,s[g].text)},e._createRemoveBlockCommentOperations=function(e,t,i){var o=[];return r.Range.isEmpty(e)?o.push(n.EditOperation.delete(new r.Range(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+i.length))):(o.push(n.EditOperation.delete(new r.Range(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),o.push(n.EditOperation.delete(new r.Range(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+i.length)))),o},e._createAddBlockCommentOperations=function(e,t,o){var s=[];return r.Range.isEmpty(e)?s.push(n.EditOperation.replace(new r.Range(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+o)):(s.push(n.EditOperation.insert(new i.Position(e.startLineNumber,e.startColumn),t+" ")),s.push(n.EditOperation.insert(new i.Position(e.endLineNumber,e.endColumn)," "+o))),s},e.prototype.getEditOperations=function(e,t){var n=this._selection.startLineNumber,i=this._selection.startColumn,o=this._selection.endLineNumber,a=this._selection.endColumn;e.forceTokenization(n);var c=e.getLanguageIdAtPosition(n,i),l=s.LanguageConfigurationRegistry.getComments(c);l&&l.blockCommentStartToken&&l.blockCommentEndToken&&this._createOperationsForBlockComment(new r.Range(n,i,o,a),l,e,t)},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations();if(2===n.length){var i=n[0],r=n[1];return new o.Selection(i.range.endLineNumber,i.range.endColumn,r.range.startLineNumber,r.range.startColumn)}var s=n[0].range,a=this._usedEndToken?-this._usedEndToken.length-1:0;return new o.Selection(s.endLineNumber,s.endColumn+a,s.endLineNumber,s.endColumn+a)},e}();t.BlockCommentCommand=a}),define(u[842],d([1,0,12,105,37,14,53,348,112]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.Toggle=0]="Toggle",e[e.ForceAdd=1]="ForceAdd",e[e.ForceRemove=2]="ForceRemove"}(t.Type||(t.Type={}));var l=function(){function e(e,t,n){this._selection=e,this._tabSize=t,this._type=n,this._deltaColumn=0}return e._gatherPreflightCommentStrings=function(e,t,n){e.forceTokenization(t);var i=e.getLanguageIdAtPosition(t,1),r=c.LanguageConfigurationRegistry.getComments(i),o=r?r.lineCommentToken:null;if(!o)return null;for(var s=[],a=0,l=n-t+1;a<l;a++)s[a]={ignore:!1,commentStr:o,commentStrOffset:0,commentStrLength:o.length};return s},e._analyzeLines=function(e,t,i,r){var o,s,c,l,u,d,h,p,f=!0;for(h=0===e||1!==e,l=0,u=i.length;l<u;l++)o=i[l],d=r+l,p=t.getLineContent(d),-1!==(s=n.firstNonWhitespaceIndex(p))?(f=!1,o.ignore=!1,o.commentStrOffset=s,h&&!a.BlockCommentCommand._haystackHasNeedleAtOffset(p,o.commentStr,s)&&(0===e?h=!1:1===e||(o.ignore=!0)),h&&(c=s+o.commentStrLength)<p.length&&32===p.charCodeAt(c)&&(o.commentStrLength+=1)):(o.ignore=!0,o.commentStrOffset=p.length);if(0===e&&f)for(h=!1,l=0,u=i.length;l<u;l++)i[l].ignore=!1;return{supported:!0,shouldRemoveComments:h,lines:i}},e._gatherPreflightData=function(t,n,i,r){var o=e._gatherPreflightCommentStrings(n,i,r);return null===o?{supported:!1,shouldRemoveComments:!1,lines:null}:e._analyzeLines(t,n,o,i)},e.prototype._executeLineComments=function(t,n,i,o){var s;i.shouldRemoveComments?s=e._createRemoveLineCommentsOperations(i.lines,o.startLineNumber):(e._normalizeInsertionPoint(t,i.lines,o.startLineNumber,this._tabSize),s=e._createAddLineCommentsOperations(i.lines,o.startLineNumber));for(var a=new r.Position(o.positionLineNumber,o.positionColumn),c=0,l=s.length;c<l;c++)n.addEditOperation(s[c].range,s[c].text),s[c].range.isEmpty()&&s[c].range.getStartPosition().equals(a)&&(this._deltaColumn=s[c].text.length);this._selectionId=n.trackSelection(o)},e.prototype._attemptRemoveBlockComment=function(e,t,n,i){var r=t.startLineNumber,s=t.endLineNumber,c=i.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn),l=e.getLineContent(r).lastIndexOf(n,c-1),u=e.getLineContent(s).indexOf(i,t.endColumn-1-n.length);return-1!==l&&-1===u&&(u=e.getLineContent(r).indexOf(i,l+n.length),s=r),-1===l&&-1!==u&&(l=e.getLineContent(s).lastIndexOf(n,u),r=s),!t.isEmpty()||-1!==l&&-1!==u||-1!==(l=e.getLineContent(r).indexOf(n))&&(u=e.getLineContent(r).indexOf(i,l+n.length)),-1!==l&&-1!==u?a.BlockCommentCommand._createRemoveBlockCommentOperations(new o.Range(r,l+n.length+1,s,u+1),n,i):null},e.prototype._executeBlockComment=function(e,t,i){e.forceTokenization(i.startLineNumber);var r=e.getLanguageIdAtPosition(i.startLineNumber,i.startColumn),s=c.LanguageConfigurationRegistry.getComments(r);if(s&&s.blockCommentStartToken&&s.blockCommentEndToken){var l=s.blockCommentStartToken,u=s.blockCommentEndToken,d=this._attemptRemoveBlockComment(e,i,l,u);if(!d){if(i.isEmpty()){var h=e.getLineContent(i.startLineNumber),p=n.firstNonWhitespaceIndex(h);-1===p&&(p=h.length),d=a.BlockCommentCommand._createAddBlockCommentOperations(new o.Range(i.startLineNumber,p+1,i.startLineNumber,h.length+1),l,u)}else d=a.BlockCommentCommand._createAddBlockCommentOperations(new o.Range(i.startLineNumber,e.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),l,u);1===d.length&&(this._deltaColumn=l.length)}this._selectionId=t.trackSelection(i);for(var f=0;f<d.length;f++)t.addEditOperation(d[f].range,d[f].text)}},e.prototype.getEditOperations=function(t,n){var i=this._selection;this._moveEndPositionDown=!1,i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,t.getLineMaxColumn(i.endLineNumber-1)));var r=e._gatherPreflightData(this._type,t,i.startLineNumber,i.endLineNumber);return r.supported?this._executeLineComments(t,n,r,i):this._executeBlockComment(t,n,i)},e.prototype.computeCursorState=function(e,t){var n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),new s.Selection(n.startLineNumber,n.startColumn+this._deltaColumn,n.endLineNumber,n.endColumn+this._deltaColumn)},e._createRemoveLineCommentsOperations=function(e,t){var n,r,s,a=[];for(n=0,r=e.length;n<r;n++)(s=e[n]).ignore||a.push(i.EditOperation.delete(new o.Range(t+n,s.commentStrOffset+1,t+n,s.commentStrOffset+s.commentStrLength+1)));return a},e._createAddLineCommentsOperations=function(e,t){var n,o,s,a=[];for(n=0,o=e.length;n<o;n++)(s=e[n]).ignore||a.push(i.EditOperation.insert(new r.Position(t+n,s.commentStrOffset+1),s.commentStr+" "));return a},e.nextVisibleColumn=function(e,t,n,i){return n?e+(t-e%t):e+i},e._normalizeInsertionPoint=function(t,n,i,r){var o,s,a,c,l,u,d=Number.MAX_VALUE;for(o=0,s=n.length;o<s;o++)if(!n[o].ignore){for(a=t.getLineContent(i+o),u=0,c=0,l=n[o].commentStrOffset;u<d&&c<l;c++)u=e.nextVisibleColumn(u,r,9===a.charCodeAt(c),1);u<d&&(d=u)}for(d=Math.floor(d/r)*r,o=0,s=n.length;o<s;o++)if(!n[o].ignore){for(a=t.getLineContent(i+o),u=0,c=0,l=n[o].commentStrOffset;u<d&&c<l;c++)u=e.nextVisibleColumn(u,r,9===a.charCodeAt(c),1);n[o].commentStrOffset=u>d?c-1:c}},e}();t.LineCommentCommand=l}),define(u[840],d([1,0,53,14]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n){this.selection=e,this.targetPosition=t,this.copy=n}return e.prototype.getEditOperations=function(e,t){var r=e.getValueInRange(this.selection);this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new i.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),r),!this.selection.containsPosition(this.targetPosition)||this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition))?this.copy?this.targetSelection=new n.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber>this.selection.endLineNumber?this.targetSelection=new n.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber<this.selection.endLineNumber?this.targetSelection=new n.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new n.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,(this.selection.startLineNumber,this.selection.endLineNumber,this.targetPosition.column-this.selection.endColumn+this.selection.startColumn),this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new n.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn):this.targetSelection=this.selection},e.prototype.computeCursorState=function(e,t){return this.targetSelection},e}();t.DragAndDropCommand=r}),define(u[833],d([1,0,81,14]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._wholeWord=!1,this._matchCase=!1,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._eventEmitter=new n.EventEmitter}return Object.defineProperty(e.prototype,"searchString",{get:function(){return this._searchString},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"replaceString",{get:function(){return this._replaceString},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRevealed",{get:function(){return this._isRevealed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReplaceRevealed",{get:function(){return this._isReplaceRevealed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRegex",{get:function(){return this._isRegex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wholeWord",{get:function(){return this._wholeWord},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matchCase",{get:function(){return this._matchCase},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"searchScope",{get:function(){return this._searchScope},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matchesPosition",{get:function(){return this._matchesPosition},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matchesCount",{get:function(){return this._matchesCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentMatch",{get:function(){return this._currentMatch},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._eventEmitter.dispose()},e.prototype.addChangeListener=function(t){return this._eventEmitter.addListener(e._CHANGED_EVENT,t)},e.prototype.changeMatchInfo=function(t,n,r){var o={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1},s=!1;0===n&&(t=0),t>n&&(t=n),this._matchesPosition!==t&&(this._matchesPosition=t,o.matchesPosition=!0,s=!0),this._matchesCount!==n&&(this._matchesCount=n,o.matchesCount=!0,s=!0),void 0!==r&&(i.Range.equalsRange(this._currentMatch,r)||(this._currentMatch=r,o.currentMatch=!0,s=!0)),s&&this._eventEmitter.emit(e._CHANGED_EVENT,o)},e.prototype.change=function(t,n,r){void 0===r&&(r=!0);var o={moveCursor:n,updateHistory:r,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1},s=!1;void 0!==t.searchString&&this._searchString!==t.searchString&&(this._searchString=t.searchString,o.searchString=!0,s=!0),void 0!==t.replaceString&&this._replaceString!==t.replaceString&&(this._replaceString=t.replaceString,o.replaceString=!0,s=!0),void 0!==t.isRevealed&&this._isRevealed!==t.isRevealed&&(this._isRevealed=t.isRevealed,o.isRevealed=!0,s=!0),void 0!==t.isReplaceRevealed&&this._isReplaceRevealed!==t.isReplaceRevealed&&(this._isReplaceRevealed=t.isReplaceRevealed,o.isReplaceRevealed=!0,s=!0),void 0!==t.isRegex&&this._isRegex!==t.isRegex&&(this._isRegex=t.isRegex,o.isRegex=!0,s=!0),void 0!==t.wholeWord&&this._wholeWord!==t.wholeWord&&(this._wholeWord=t.wholeWord,o.wholeWord=!0,s=!0),void 0!==t.matchCase&&this._matchCase!==t.matchCase&&(this._matchCase=t.matchCase,o.matchCase=!0,s=!0),void 0!==t.searchScope&&(i.Range.equalsRange(this._searchScope,t.searchScope)||(this._searchScope=t.searchScope,o.searchScope=!0,s=!0)),s&&this._eventEmitter.emit(e._CHANGED_EVENT,o)},e}();r._CHANGED_EVENT="changed",t.FindReplaceState=r}),define(u[831],d([1,0,14]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,n){this._editorSelection=e,this._ranges=t,this._replaceStrings=n}return e.prototype.getEditOperations=function(e,t){if(this._ranges.length>0){for(var i=[],r=0;r<this._ranges.length;r++)i.push({range:this._ranges[r],text:this._replaceStrings[r]});i.sort(function(e,t){return n.Range.compareRangesUsingStarts(e.range,t.range)});for(var o=[],s=i[0],r=1;r<i.length;r++)s.range.endLineNumber===i[r].range.startLineNumber&&s.range.endColumn===i[r].range.startColumn?(s.range=s.range.plusRange(i[r].range),s.text=s.text+i[r].text):(o.push(s),s=i[r]);o.push(s);for(r=0;r<o.length;r++)t.addEditOperation(o[r].range,o[r].text)}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)},e}();t.ReplaceAllCommand=i}),define(u[830],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){e&&0!==e.length?1===e.length&&null!==e[0].staticValue?(this._staticValue=e[0].staticValue,this._pieces=null):(this._staticValue=null,this._pieces=e):(this._staticValue="",this._pieces=null)}return e.fromStaticValue=function(t){return new e([i.staticValue(t)])},Object.defineProperty(e.prototype,"hasReplacementPatterns",{get:function(){return null===this._staticValue},enumerable:!0,configurable:!0}),e.prototype.buildReplaceString=function(t){if(null!==this._staticValue)return this._staticValue;for(var n="",i=0,r=this._pieces.length;i<r;i++){var o=this._pieces[i];null===o.staticValue?n+=e._substitute(o.matchIndex,t):n+=o.staticValue}return n},e._substitute=function(e,t){if(0===e)return t[0];for(var n="";e>0;){if(e<t.length)return(t[e]||"")+n;n=String(e%10)+n,e=Math.floor(e/10)}return"$"+n},e}();t.ReplacePattern=n;var i=function(){function e(e,t){this.staticValue=e,this.matchIndex=t}return e.staticValue=function(t){return new e(t,-1)},e.matchIndex=function(t){return new e(null,t)},e}();t.ReplacePiece=i;var r=function(){function e(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}return e.prototype.emitUnchanged=function(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e},e.prototype.emitStatic=function(e,t){this._emitStatic(e),this._lastCharIndex=t},e.prototype._emitStatic=function(e){0!==e.length&&(this._currentStaticPiece+=e)},e.prototype.emitMatchIndex=function(e,t){0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=i.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=i.matchIndex(e),this._lastCharIndex=t},e.prototype.finalize=function(){return this.emitUnchanged(this._source.length),0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=i.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new n(this._result)},e}();t.parseReplaceString=function(e){if(!e||0===e.length)return new n(null);for(var t=new r(e),i=0,o=e.length;i<o;i++){var s=e.charCodeAt(i);if(92!==s){if(36===s){if(++i>=o)break;var a=e.charCodeAt(i);if(36===a){t.emitUnchanged(i-1),t.emitStatic("$",i+1);continue}if(48===a||38===a){t.emitUnchanged(i-1),t.emitMatchIndex(0,i+1);continue}if(49<=a&&a<=57){var c=a-48;if(i+1<o){var l=e.charCodeAt(i+1);if(48<=l&&l<=57){i++,c=10*c+(l-48),t.emitUnchanged(i-2),t.emitMatchIndex(c,i+1);continue}}t.emitUnchanged(i-1),t.emitMatchIndex(c,i+1);continue}}}else{if(++i>=o)break;switch(a=e.charCodeAt(i)){case 92:t.emitUnchanged(i-1),t.emitStatic("\\",i+1);break;case 110:t.emitUnchanged(i-1),t.emitStatic("\n",i+1);break;case 116:t.emitUnchanged(i-1),t.emitStatic("\t",i+1)}}}return t.finalize()}}),define(u[825],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ID="editor.contrib.folding"}),define(u[822],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.computeRanges=function(e){return e.getIndentRanges()},t.limitByIndent=function(e,t){if(e.length<=t)return e;var n=[];e.forEach(function(e){e.indent<1e3&&(n[e.indent]=(n[e.indent]||0)+1)});for(var i=n.length,r=0;r<n.length;r++)if(n[r]&&(t-=n[r])<0){i=r;break}return e.filter(function(e){return e.indent<i})}}),define(u[356],d([1,0,12,14]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this._initialSelection=t,this._edits=[],this._newEol=void 0;for(var n=0,i=e;n<i.length;n++){var r=i[n];"number"==typeof r.eol&&(this._newEol=r.eol),r.range&&"string"==typeof r.text&&this._edits.push(r)}}return e.execute=function(t,n){var i=new e(n,t.getSelection());"number"==typeof i._newEol&&t.getModel().setEOL(i._newEol),t.pushUndoStop(),t.executeCommand("formatEditsCommand",i),t.pushUndoStop()},e.prototype.getEditOperations=function(t,n){for(var r=0,o=this._edits;r<o.length;r++){var s=o[r];null!==e.trimEdit(s,t)&&n.addEditOperation(i.Range.lift(s.range),s.text)}var a=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(a=!0,this._selectionId=n.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(a=!0,this._selectionId=n.trackSelection(this._initialSelection,!1))),a||(this._selectionId=n.trackSelection(this._initialSelection))},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._selectionId)},e.fixLineTerminators=function(e,t){e.text=e.text.replace(/\r\n|\r|\n/g,t.getEOL())},e.trimEdit=function(e,t){return this.fixLineTerminators(e,t),this._trimEdit(t.validateRange(e.range),e.text,e.forceMoveMarkers,t)},e._trimEdit=function(e,t,r,o){var s=o.getValueInRange(e),a=n.commonPrefixLength(t,s);if(a===s.length&&a===t.length)return null;if(a>0){var c=o.modifyPosition(e.getStartPosition(),a);e=new i.Range(c.lineNumber,c.column,e.endLineNumber,e.endColumn),t=t.substring(a),s=s.substr(a)}var l=n.commonSuffixLength(t,s);if(l>0){var u=o.modifyPosition(e.getEndPosition(),-l);e=new i.Range(e.startLineNumber,e.startColumn,u.lineNumber,u.column),t=t.substring(0,t.length-l),s=s.substring(0,s.length-l)}return{text:t,range:e,forceMoveMarkers:r}},e}();t.EditOperationsCommand=r}),define(u[357],d([1,0,66,5,8,11,386]),function(e,t,n,i,r,o){"use strict";function s(e,t){return!!e[t]}function a(e){return"altKey"===e?o.isMacintosh?new u(57,"metaKey",6,"altKey"):new u(5,"ctrlKey",6,"altKey"):o.isMacintosh?new u(6,"altKey",57,"metaKey"):new u(6,"altKey",5,"ctrlKey")}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){return function(e,t){this.target=e.target,this.hasTriggerModifier=s(e.event,t.triggerModifier),this.hasSideBySideModifier=s(e.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=n.isIE||e.event.detail<=1}}();t.ClickLinkMouseEvent=c;var l=function(){return function(e,t){this.keyCodeIsTriggerKey=e.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=e.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=s(e,t.triggerModifier)}}();t.ClickLinkKeyboardEvent=l;var u=function(){function e(e,t,n,i){this.triggerKey=e,this.triggerModifier=t,this.triggerSideBySideKey=n,this.triggerSideBySideModifier=i}return e.prototype.equals=function(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier},e}();t.ClickLinkOptions=u;var d=function(e){function t(t){var n=e.call(this)||this;return n._onMouseMoveOrRelevantKeyDown=n._register(new r.Emitter),n.onMouseMoveOrRelevantKeyDown=n._onMouseMoveOrRelevantKeyDown.event,n._onExecute=n._register(new r.Emitter),n.onExecute=n._onExecute.event,n._onCancel=n._register(new r.Emitter),n.onCancel=n._onCancel.event,n._editor=t,n._opts=a(n._editor.getConfiguration().multiCursorModifier),n.lastMouseMoveEvent=null,n.hasTriggerKeyOnMouseDown=!1,n._register(n._editor.onDidChangeConfiguration(function(e){if(e.multiCursorModifier){var t=a(n._editor.getConfiguration().multiCursorModifier);if(n._opts.equals(t))return;n._opts=t,n.lastMouseMoveEvent=null,n.hasTriggerKeyOnMouseDown=!1,n._onCancel.fire()}})),n._register(n._editor.onMouseMove(function(e){return n.onEditorMouseMove(new c(e,n._opts))})),n._register(n._editor.onMouseDown(function(e){return n.onEditorMouseDown(new c(e,n._opts))})),n._register(n._editor.onMouseUp(function(e){return n.onEditorMouseUp(new c(e,n._opts))})),n._register(n._editor.onKeyDown(function(e){return n.onEditorKeyDown(new l(e,n._opts))})),n._register(n._editor.onKeyUp(function(e){return n.onEditorKeyUp(new l(e,n._opts))})),n._register(n._editor.onMouseDrag(function(){return n.resetHandler()})),n._register(n._editor.onDidChangeCursorSelection(function(e){return n.onDidChangeCursorSelection(e)})),n._register(n._editor.onDidChangeModel(function(e){return n.resetHandler()})),n._register(n._editor.onDidChangeModelContent(function(){return n.resetHandler()})),n._register(n._editor.onDidScrollChange(function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&n.resetHandler()})),n}return h(t,e),t.prototype.onDidChangeCursorSelection=function(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this.resetHandler()},t.prototype.onEditorMouseMove=function(e){this.lastMouseMoveEvent=e,this._onMouseMoveOrRelevantKeyDown.fire([e,null])},t.prototype.onEditorMouseDown=function(e){this.hasTriggerKeyOnMouseDown=e.hasTriggerModifier},t.prototype.onEditorMouseUp=function(e){this.hasTriggerKeyOnMouseDown&&this._onExecute.fire(e)},t.prototype.onEditorKeyDown=function(e){this.lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this.lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()},t.prototype.onEditorKeyUp=function(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()},t.prototype.resetHandler=function(){this.lastMouseMoveEvent=null,this.hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()},t}(i.Disposable);t.ClickLinkGesture=d}),define(u[358],d([1,0,18,7]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;!function(e){e[e.IDLE=0]="IDLE",e[e.FIRST_WAIT=1]="FIRST_WAIT",e[e.SECOND_WAIT=2]="SECOND_WAIT",e[e.WAITING_FOR_ASYNC_COMPUTATION=3]="WAITING_FOR_ASYNC_COMPUTATION"}(r||(r={}));var o=function(){function e(e,t,i,r){var o=this;this._computer=e,this._state=0,this._firstWaitScheduler=new n.RunOnceScheduler(function(){return o._triggerAsyncComputation()},this._getHoverTimeMillis()/2),this._secondWaitScheduler=new n.RunOnceScheduler(function(){return o._triggerSyncComputation()},this._getHoverTimeMillis()/2),this._loadingMessageScheduler=new n.RunOnceScheduler(function(){return o._showLoadingMessage()},3*this._getHoverTimeMillis()),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=t,this._errorCallback=i,this._progressCallback=r}return e.prototype.getComputer=function(){return this._computer},e.prototype._getHoverTimeMillis=function(){return this._computer.getHoverTimeMillis?this._computer.getHoverTimeMillis():e.HOVER_TIME},e.prototype._triggerAsyncComputation=function(){var e=this;this._state=2,this._secondWaitScheduler.schedule(),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=this._computer.computeAsync().then(function(t){e._asyncComputationPromiseDone=!0,e._withAsyncResult(t)},function(){return e._onError})):this._asyncComputationPromiseDone=!0},e.prototype._triggerSyncComputation=function(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))},e.prototype._showLoadingMessage=function(){3===this._state&&this._onProgress(this._computer.getResultWithLoadingMessage())},e.prototype._withAsyncResult=function(e){e&&this._computer.onResult(e,!1),3===this._state&&(this._state=0,this._onComplete(this._computer.getResult()))},e.prototype._onComplete=function(e){this._completeCallback&&this._completeCallback(e)},e.prototype._onError=function(e){this._errorCallback?this._errorCallback(e):i.onUnexpectedError(e)},e.prototype._onProgress=function(e){this._progressCallback&&this._progressCallback(e)},e.prototype.start=function(){0===this._state&&(this._state=1,this._firstWaitScheduler.schedule(),this._loadingMessageScheduler.schedule())},e.prototype.cancel=function(){this._loadingMessageScheduler.cancel(),1===this._state&&this._firstWaitScheduler.cancel(),2===this._state&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),3===this._state&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0},e}();o.HOVER_TIME=300,t.HoverOperation=o}),define(u[359],d([1,0,9,37,73,91,127,5]),function(e,t,n,i,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(t,n){var i=e.call(this)||this;return i.disposables=[],i.allowEditorOverflow=!0,i._id=t,i._editor=n,i._isVisible=!1,i._containerDomNode=document.createElement("div"),i._containerDomNode.className="monaco-editor-hover hidden",i._containerDomNode.tabIndex=0,i._domNode=document.createElement("div"),i._domNode.className="monaco-editor-hover-content",i.scrollbar=new s.DomScrollableElement(i._domNode,{}),i.disposables.push(i.scrollbar),i._containerDomNode.appendChild(i.scrollbar.getDomNode()),i.onkeydown(i._containerDomNode,function(e){e.equals(9)&&i.hide()}),i._register(i._editor.onDidChangeConfiguration(function(e){e.fontInfo&&i.updateFont()})),i._editor.onDidLayoutChange(function(e){return i.updateMaxHeight()}),i.updateMaxHeight(),i._editor.addContentWidget(i),i._showAtPosition=null,i}return h(t,e),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this._isVisible},set:function(e){this._isVisible=e,n.toggleClass(this._containerDomNode,"hidden",!this._isVisible)},enumerable:!0,configurable:!0}),t.prototype.getId=function(){return this._id},t.prototype.getDomNode=function(){return this._containerDomNode},t.prototype.showAt=function(e,t){this._showAtPosition=new i.Position(e.lineNumber,e.column),this.isVisible=!0,this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=t,t&&this._containerDomNode.focus()},t.prototype.hide=function(){this.isVisible&&(this.isVisible=!1,this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus())},t.prototype.getPosition=function(){return this.isVisible?{position:this._showAtPosition,preference:[r.ContentWidgetPositionPreference.ABOVE,r.ContentWidgetPositionPreference.BELOW]}:null},t.prototype.dispose=function(){this._editor.removeContentWidget(this),this.disposables=a.dispose(this.disposables),e.prototype.dispose.call(this)},t.prototype.updateFont=function(){var e=this,t=Array.prototype.slice.call(this._domNode.getElementsByTagName("code")),n=Array.prototype.slice.call(this._domNode.getElementsByClassName("code"));t.concat(n).forEach(function(t){return e._editor.applyFontInfo(t)})},t.prototype.updateContents=function(e){this._domNode.textContent="",this._domNode.appendChild(e),this.updateFont(),this._editor.layoutContentWidget(this),this.scrollbar.scanDomNode()},t.prototype.updateMaxHeight=function(){var e=Math.max(this._editor.getLayoutInfo().height/4,250),t=this._editor.getConfiguration().fontInfo,n=t.fontSize,i=t.lineHeight;this._domNode.style.fontSize=n+"px",this._domNode.style.lineHeight=i+"px",this._domNode.style.maxHeight=e+"px"},t}(o.Widget);t.ContentHoverWidget=c;var l=function(e){function t(t,n){var i=e.call(this)||this;return i._id=t,i._editor=n,i._isVisible=!1,i._domNode=document.createElement("div"),i._domNode.className="monaco-editor-hover hidden",i._domNode.setAttribute("aria-hidden","true"),i._domNode.setAttribute("role","presentation"),i._showAtLineNumber=-1,i._register(i._editor.onDidChangeConfiguration(function(e){e.fontInfo&&i.updateFont()})),i._editor.addOverlayWidget(i),i}return h(t,e),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this._isVisible},set:function(e){this._isVisible=e,n.toggleClass(this._domNode,"hidden",!this._isVisible)},enumerable:!0,configurable:!0}),t.prototype.getId=function(){return this._id},t.prototype.getDomNode=function(){return this._domNode},t.prototype.showAt=function(e){this._showAtLineNumber=e,this.isVisible||(this.isVisible=!0);var t=this._editor.getLayoutInfo(),n=this._editor.getTopForLineNumber(this._showAtLineNumber),i=this._editor.getScrollTop(),r=this._editor.getConfiguration().lineHeight,o=n-i-(this._domNode.clientHeight-r)/2;this._domNode.style.left=t.glyphMarginLeft+t.glyphMarginWidth+"px",this._domNode.style.top=Math.max(Math.round(o),0)+"px"},t.prototype.hide=function(){this.isVisible&&(this.isVisible=!1)},t.prototype.getPosition=function(){return null},t.prototype.dispose=function(){this._editor.removeOverlayWidget(this),e.prototype.dispose.call(this)},t.prototype.updateFont=function(){var e=this,t=Array.prototype.slice.call(this._domNode.getElementsByTagName("code")),n=Array.prototype.slice.call(this._domNode.getElementsByClassName("code"));t.concat(n).forEach(function(t){return e._editor.applyFontInfo(t)})},t.prototype.updateContents=function(e){this._domNode.textContent="",this._domNode.appendChild(e),this.updateFont()},t}(o.Widget);t.GlyphHoverWidget=l}),define(u[821],d([1,0,53]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,n){this._editRange=e,this._originalSelection=t,this._text=n}return e.prototype.getEditOperations=function(e,t){t.addTrackedEditOperation(this._editRange,this._text)},e.prototype.computeCursorState=function(e,t){var i=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new n.Selection(i.endLineNumber,Math.min(this._originalSelection.positionColumn,i.endColumn),i.endLineNumber,Math.min(this._originalSelection.positionColumn,i.endColumn)):new n.Selection(i.endLineNumber,i.endColumn-this._text.length,i.endLineNumber,i.endColumn)},e}();t.InPlaceReplaceCommand=i}),define(u[361],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSpaceCnt=function(e,t){for(var n=0,i=0;i<e.length;i++)"\t"===e.charAt(i)?n+=t:n++;return n},t.generateIndent=function(e,t,n){e=e<0?0:e;var i="";if(!n){var r=Math.floor(e/t);for(e%=t,o=0;o<r;o++)i+="\t"}for(var o=0;o<e;o++)i+=" ";return i}}),define(u[820],d([1,0,14,53]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this._selection=e,this._isCopyingDown=t}return e.prototype.getEditOperations=function(e,t){var i=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._endLineNumberDelta=1,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));for(var r=[],o=i.startLineNumber;o<=i.endLineNumber;o++)r.push(e.getLineContent(o));var s=r.join("\n");""===s&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._isCopyingDown?t.addEditOperation(new n.Range(i.startLineNumber,1,i.startLineNumber,1),s+"\n"):t.addEditOperation(new n.Range(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),"\n"+s),this._selectionId=t.trackSelection(i),this._selectionDirection=this._selection.getDirection()},e.prototype.computeCursorState=function(e,t){var n=t.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){var r=n.startLineNumber,o=n.startColumn,s=n.endLineNumber,a=n.endColumn;0!==this._startLineNumberDelta&&(r+=this._startLineNumberDelta,o=1),0!==this._endLineNumberDelta&&(s+=this._endLineNumberDelta,a=1),n=i.Selection.createWithDirection(r,o,s,a,this._selectionDirection)}return n},e}();t.CopyLinesCommand=r}),define(u[819],d([1,0,14,53]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n){this.startLineNumber=e,this.endLineNumber=t,this.restoreCursorToColumn=n}return e.createFromSelection=function(t){var n=t.endLineNumber;return t.startLineNumber<t.endLineNumber&&1===t.endColumn&&(n-=1),new e(t.startLineNumber,n,t.positionColumn)},e.prototype.getEditOperations=function(e,t){if(1!==e.getLineCount()||1!==e.getLineMaxColumn(1)){var i=this.startLineNumber,r=this.endLineNumber,o=1,s=e.getLineMaxColumn(r);r<e.getLineCount()?(r+=1,s=1):i>1&&(i-=1,o=e.getLineMaxColumn(i)),t.addTrackedEditOperation(new n.Range(i,o,r,s),null)}},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations()[0].range;return new i.Selection(n.endLineNumber,this.restoreCursorToColumn,n.endLineNumber,this.restoreCursorToColumn)},e}();t.DeleteLinesCommand=r}),define(u[817],d([1,0,105,14]),function(e,t,n,i){"use strict";function r(e,t,n){var i=t.startLineNumber,r=t.endLineNumber;if(1===t.endColumn&&r--,i>=r)return null;for(var o=[],s=i;s<=r;s++)o.push(e.getLineContent(s));var a=o.slice(0);return a.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}),!0===n&&(a=a.reverse()),{startLineNumber:i,endLineNumber:r,before:o,after:a}}function o(e,t,o){var s=r(e,t,o);return s?n.EditOperation.replace(new i.Range(s.startLineNumber,1,s.endLineNumber,e.getLineMaxColumn(s.endLineNumber)),s.after.join("\n")):null}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){this.selection=e,this.descending=t}return e.prototype.getEditOperations=function(e,t){var n=o(e,this.selection,this.descending);n&&t.addEditOperation(n.range,n.text),this.selectionId=t.trackSelection(this.selection)},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this.selectionId)},e.canRun=function(e,t,n){var i=r(e,t,n);if(!i)return!1;for(var o=0,s=i.before.length;o<s;o++)if(i.before[o]!==i.after[o])return!0;return!1},e}();t.SortLinesCommand=s});var m=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};define(u[816],d([1,0,227,8,9,33,73,1039]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){var t=this;this._options={stickiness:o.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,glyphMarginClassName:"lightbulb-glyph",glyphMarginHoverMessage:void 0},this._onClick=new i.Emitter,this._decorationIds=[],this._futureFixes=new n.CancellationTokenSource,this._editor=e,this._mouseDownSubscription=this._editor.onMouseDown(function(e){if(e.target.type===s.MouseTargetType.GUTTER_GLYPH_MARGIN&&void 0!==t._currentLine&&t._currentLine===e.target.position.lineNumber){var n=r.getDomNodePagePosition(e.target.element),i=n.top,o=n.height,a=t._editor.getConfiguration().lineHeight;t._onClick.fire({x:e.event.posx,y:i+o+Math.floor(a/3)})}})}return e.prototype.dispose=function(){this._mouseDownSubscription.dispose(),this.hide()},Object.defineProperty(e.prototype,"onClick",{get:function(){return this._onClick.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this._model},set:function(e){var t=this;this._model=e,this.hide(),this._futureFixes=new n.CancellationTokenSource;var i=this._futureFixes.token;e.fixes.done(function(n){!i.isCancellationRequested&&n&&n.length>0?t.show(e):t.hide()},function(e){t.hide()})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this._options.glyphMarginHoverMessage},set:function(e){},enumerable:!0,configurable:!0}),e.prototype.show=function(e){this._currentLine=e.range.startLineNumber,this._decorationIds=this._editor.deltaDecorations(this._decorationIds,[{options:this._options,range:m({},e.range,{endLineNumber:e.range.startLineNumber})}])},e.prototype.hide=function(){this._decorationIds=this._editor.deltaDecorations(this._decorationIds,[]),this._futureFixes.cancel(),this._currentLine=void 0},e}();t.LightBulbWidget=a}),define(u[815],d([1,0,18,9,37,21,8]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t,n){this._onDidExecuteCodeAction=new s.Emitter,this.onDidExecuteCodeAction=this._onDidExecuteCodeAction.event,this._editor=e,this._contextMenuService=t,this._commandService=n}return e.prototype.show=function(e,t){var i=this,s=e.then(function(e){return e.map(function(e){var t=e.command;return new o.Action(t.id,t.title,void 0,!0,function(){return n.always((e=i._commandService).executeCommand.apply(e,[t.id].concat(t.arguments)),function(){return i._onDidExecuteCodeAction.fire(void 0)});var e})})});this._contextMenuService.showContextMenu({getAnchor:function(){return r.Position.isIPosition(t)&&(t=i._toCoords(t)),t},getActions:function(){return s},onHide:function(){i._visible=!1}})},Object.defineProperty(e.prototype,"isVisible",{get:function(){return this._visible},enumerable:!0,configurable:!0}),e.prototype._toCoords=function(e){this._editor.revealPosition(e),this._editor.render();var t=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),n=i.getDomNodePagePosition(this._editor.getDomNode());return{x:n.left+t.left,y:n.top+t.top+t.height}},e}();t.QuickFixContextMenu=a}),define(u[812],d([1,0,14,219,248,112]),function(e,t,n,i,r,o){"use strict";function s(e){var t=new c;return t.start=e.range.getStartPosition(),t.end=e.range.getEndPosition(),t}function a(e,t){if(e instanceof l&&e.isEmpty)return null;if(!n.Range.containsPosition(e.range,t))return null;var i;if(e instanceof l){if(e.hasChildren)for(var r=0,o=e.children.length;r<o&&!i;r++)i=a(e.children[r],t)}else e instanceof u&&(i=a(e.open,t)||a(e.elements,t)||a(e.close,t));return i||e}Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.None=0]="None",e[e.Open=1]="Open",e[e.Close=-1]="Close"}(t.TokenTreeBracket||(t.TokenTreeBracket={}));var c=function(){function e(){}return Object.defineProperty(e.prototype,"range",{get:function(){return new n.Range(this.start.lineNumber,this.start.column,this.end.lineNumber,this.end.column)},enumerable:!0,configurable:!0}),e}();t.Node=c;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),Object.defineProperty(t.prototype,"start",{get:function(){return this.hasChildren?this.children[0].start:this.parent.start},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this.hasChildren?this.children[this.children.length-1].end:this.parent.end},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasChildren",{get:function(){return this.children&&this.children.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return!this.hasChildren&&!this.parent},enumerable:!0,configurable:!0}),t.prototype.append=function(e){return!!e&&(e.parent=this,this.children||(this.children=[]),e instanceof t?e.children&&this.children.push.apply(this.children,e.children):this.children.push(e),!0)},t}(c);t.NodeList=l;var u=function(e){function t(){var t=e.call(this)||this;return t.elements=new l,t.elements.parent=t,t}return h(t,e),Object.defineProperty(t.prototype,"start",{get:function(){return this.open.start},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this.close.end},enumerable:!0,configurable:!0}),t}(c);t.Block=u;var d=function(){return function(e,t,n){this.range=e,this.bracket=t,this.bracketType=n}}(),p=function(){return function(e,t,n){this.lineNumber=t,this.lineText=n,this.startOffset=e.startOffset,this.endOffset=e.endOffset,this.type=e.tokenType,this.languageId=e.languageId}}(),f=function(){function e(e){this._model=e,this._lineCount=this._model.getLineCount(),this._versionId=this._model.getVersionId(),this._lineNumber=0,this._lineText=null,this._advance()}return e.prototype._advance=function(){for(this._next=this._next?this._next.next():null;!this._next&&this._lineNumber<this._lineCount;){this._lineNumber++,this._lineText=this._model.getLineContent(this._lineNumber),this._model.forceTokenization(this._lineNumber);var e=this._model.getLineTokens(this._lineNumber);this._next=e.firstToken()}},e.prototype.next=function(){if(!this._next)return null;if(this._model.getVersionId()!==this._versionId)return null;var e=new p(this._next,this._lineNumber,this._lineText);return this._advance(),e},e}(),g=function(){function e(e){this._rawTokenScanner=new f(e),this._nextBuff=[],this._cachedLanguageBrackets=null,this._cachedLanguageId=-1}return e.prototype.next=function(){if(this._nextBuff.length>0)return this._nextBuff.shift();var e=this._rawTokenScanner.next();if(!e)return null;var t=e.lineNumber,s=e.lineText,a=e.type,c=e.startOffset,l=e.endOffset;this._cachedLanguageId!==e.languageId&&(this._cachedLanguageId=e.languageId,this._cachedLanguageBrackets=o.LanguageConfigurationRegistry.getBracketsSupport(this._cachedLanguageId));var u=this._cachedLanguageBrackets;if(!u||i.ignoreBracketsInToken(a))return new d(new n.Range(t,c+1,t,l+1),0,null);var h;do{if(h=r.BracketsUtils.findNextBracketInToken(u.forwardRegex,t,s,c,l)){var p=h.startColumn-1,f=h.endColumn-1;c<p&&this._nextBuff.push(new d(new n.Range(t,c+1,t,p+1),0,null));var g=s.substring(p,f);g=g.toLowerCase();var v=u.textIsBracket[g],m=u.textIsOpenBracket[g];this._nextBuff.push(new d(new n.Range(t,p+1,t,f+1),m?1:-1,v.languageIdentifier.language+";"+v.open+";"+v.close)),c=f}}while(h);return c<l&&this._nextBuff.push(new d(new n.Range(t,c+1,t,l+1),0,null)),this._nextBuff.shift()},e}(),v=function(){function e(e){this._stack=[],this._scanner=new g(e)}return e.prototype.build=function(){for(var e=new l;e.append(this._line()||this._any()););return e},e.prototype._accept=function(e){var t=this._stack.pop()||this._scanner.next();if(!t)return!1;var n=e(t);return n?this._currentToken=t:(this._stack.push(t),this._currentToken=null),n},e.prototype._peek=function(e){var t=!1;return this._accept(function(n){return t=e(n),!1}),t},e.prototype._line=function(){var e,t=new l;for(this._peek(function(t){return e=t.range.startLineNumber,!1});this._peek(function(t){return t.range.startLineNumber===e})&&t.append(this._token()||this._block()););return t.children&&0!==t.children.length?1===t.children.length?t.children[0]:t:null},e.prototype._token=function(){return this._accept(function(e){return 0===e.bracket})?s(this._currentToken):null},e.prototype._block=function(){var e;if(!this._accept(function(t){return e=t.bracketType,1===t.bracket}))return null;var t=new u;for(t.open=s(this._currentToken);t.elements.append(this._line()););if(!this._accept(function(t){return-1===t.bracket&&t.bracketType===e})){var n=new l;return n.append(t.open),n.append(t.elements),n}return t.close=s(this._currentToken),t},e.prototype._any=function(){return this._accept(function(e){return!0})?s(this._currentToken):null},e}();t.build=function(e){return new v(e).build()},t.find=a}),define(u[229],d([1,0]),function(e,t){"use strict";function n(e,t){for(var n=e.slice();n.length>0;){var i=n.shift();if(!t(i))break;n.unshift.apply(n,i.children)}}Object.defineProperty(t,"__esModule",{value:!0});var i;!function(e){e[e.Dollar=0]="Dollar",e[e.Colon=1]="Colon",e[e.CurlyOpen=2]="CurlyOpen",e[e.CurlyClose=3]="CurlyClose",e[e.Backslash=4]="Backslash",e[e.Int=5]="Int",e[e.VariableName=6]="VariableName",e[e.Format=7]="Format",e[e.EOF=8]="EOF"}(i=t.TokenType||(t.TokenType={}));var r=function(){function e(){this.text("")}return e.isDigitCharacter=function(e){return e>=48&&e<=57},e.isVariableCharacter=function(e){return 95===e||e>=97&&e<=122||e>=65&&e<=90},e.prototype.text=function(e){this.value=e,this.pos=0},e.prototype.tokenText=function(e){return this.value.substr(e.pos,e.len)},e.prototype.next=function(){if(this.pos>=this.value.length)return{type:i.EOF,pos:this.pos,len:0};var t,n=this.pos,r=0,o=this.value.charCodeAt(n);if("number"==typeof(t=e._table[o]))return this.pos+=1,{type:t,pos:n,len:1};if(e.isDigitCharacter(o)){t=i.Int;do{r+=1,o=this.value.charCodeAt(n+r)}while(e.isDigitCharacter(o));return this.pos+=r,{type:t,pos:n,len:r}}if(e.isVariableCharacter(o)){t=i.VariableName;do{o=this.value.charCodeAt(n+ ++r)}while(e.isVariableCharacter(o)||e.isDigitCharacter(o));return this.pos+=r,{type:t,pos:n,len:r}}t=i.Format;do{r+=1,o=this.value.charCodeAt(n+r)}while(!isNaN(o)&&void 0===e._table[o]&&!e.isDigitCharacter(o)&&!e.isVariableCharacter(o));return this.pos+=r,{type:t,pos:n,len:r}},e}();r._table=(d={},d[36]=i.Dollar,d[58]=i.Colon,d[123]=i.CurlyOpen,d[125]=i.CurlyClose,d[92]=i.Backslash,d),t.Scanner=r;var o=function(){function e(){this._children=[]}return e.toString=function(e){for(var t="",n=0,i=e;n<i.length;n++)t+=i[n].toString();return t},Object.defineProperty(e.prototype,"children",{get:function(){return this._children},set:function(e){this._children=[];for(var t=0,n=e;t<n.length;t++){var i=n[t];i.parent=this,this._children.push(i)}},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return""},e.prototype.len=function(){return 0},e}();t.Marker=o;var s=function(e){function t(t){var n=e.call(this)||this;return n.string=t,n}return h(t,e),t.prototype.toString=function(){return this.string},t.prototype.len=function(){return this.string.length},t.prototype.clone=function(){return new t(this.string)},t}(o);t.Text=s;var a=function(e){function t(t,n){var i=e.call(this)||this;return i.index=t,i.children=n,i}return h(t,e),t.compareByIndex=function(e,t){return e.index===t.index?0:e.isFinalTabstop?1:t.isFinalTabstop?-1:e.index<t.index?-1:e.index>t.index?1:0},Object.defineProperty(t.prototype,"isFinalTabstop",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return o.toString(this.children)},t.prototype.clone=function(){return new t(this.index,this.children.map(function(e){return e.clone()}))},t}(o);t.Placeholder=a;var c=function(e){function t(t,n){void 0===t&&(t="");var i=e.call(this)||this;return i.name=t,i.children=n,i}return h(t,e),Object.defineProperty(t.prototype,"isDefined",{get:function(){return void 0!==this.resolvedValue},enumerable:!0,configurable:!0}),t.prototype.len=function(){return this.isDefined?this.resolvedValue.length:e.prototype.len.call(this)},t.prototype.toString=function(){return this.isDefined?this.resolvedValue:o.toString(this.children)},t.prototype.clone=function(){var e=new t(this.name,this.children.map(function(e){return e.clone()}));return e.resolvedValue=this.resolvedValue,e},t}(o);t.Variable=c,t.walk=n;var l=function(e){function t(t){var n=e.call(this)||this;return n.children=t,n}return h(t,e),Object.defineProperty(t.prototype,"placeholders",{get:function(){var e=this;return this._placeholders||(this._placeholders=[],n(this.children,function(t){return t instanceof a&&e.placeholders.push(t),!0})),this._placeholders},enumerable:!0,configurable:!0}),t.prototype.offset=function(e){var t=0,i=!1;return n(this.children,function(n){return n===e?(i=!0,!1):(t+=n.len(),!0)}),i?t:-1},t.prototype.fullLen=function(e){var t=0;return n([e],function(e){return t+=e.len(),!0}),t},t.prototype.enclosingPlaceholders=function(e){for(var t=[],n=e.parent;n;)n instanceof a&&t.push(n),n=n.parent;return t},Object.defineProperty(t.prototype,"text",{get:function(){return o.toString(this.children)},enumerable:!0,configurable:!0}),t.prototype.resolveVariables=function(e){return n(this.children,function(t){return t instanceof c&&(t.resolvedValue=e.resolve(t.name),t.isDefined&&(t.children=[])),!0}),this},t.prototype.replace=function(e,t){var n=e.parent,i=n.children.indexOf(e),r=n.children.slice(0);r.splice.apply(r,[i,1].concat(t)),n.children=r,this._placeholders=void 0},t.prototype.clone=function(){return new t(this.children.map(function(e){return e.clone()}))},t}(o);t.TextmateSnippet=l;var u=function(){function e(){this._scanner=new r}return e.escape=function(e){return e.replace(/\$|}|\\/g,"\\$&")},e.parse=function(t,n){var i=(new e).parse(t,!0,n);return new l(i)},e.prototype.text=function(e){return o.toString(this.parse(e))},e.prototype.parse=function(e,t,n){function i(e,t){for(var n=0;n<e.length;n++){var r=e[n];r instanceof a?t.has(r.index)?0===r.children.length&&(r.children=t.get(r.index).map(function(e){return e.clone()})):(t.set(r.index,r.children),i(r.children,t)):r instanceof c?i(r.children,t):n>0&&r instanceof s&&e[n-1]instanceof s&&(e[n-1].string+=e[n].string,e.splice(n,1),n--)}}var r=[];for(this._scanner.text(e),this._token=this._scanner.next();this._parseAny(r)||this._parseText(r););var o=new Map;return i(r,o),!o.has(0)&&(t&&o.size>0||n)&&r.push(new a(0,[])),r},e.prototype._accept=function(e){return(void 0===e||this._token.type===e)&&(this._prevToken=this._token,this._token=this._scanner.next(),!0)},e.prototype._parseAny=function(e){return!!this._parseEscaped(e)||!!this._parseTM(e)},e.prototype._parseText=function(e){return this._token.type!==i.EOF&&(e.push(new s(this._scanner.tokenText(this._token))),this._accept(void 0),!0)},e.prototype._parseTM=function(e){if(this._accept(i.Dollar)){if(this._accept(i.VariableName)||this._accept(i.Int)){l=this._scanner.tokenText(this._prevToken);return e.push(/^\d+$/.test(l)?new a(Number(l),[]):new c(l,[])),!0}if(this._accept(i.CurlyOpen))for(var t=[],n=[],r=t;;)if(r!==n&&this._accept(i.Colon))r=n;else{if(this._accept(i.CurlyClose)){var l=o.toString(t);return e.push(/^\d+$/.test(l)?new a(Number(l),n):new c(l,n)),!0}if(!this._parseAny(r)&&!this._parseText(r))return n.length>0?(e.push(new s("${"+o.toString(t)+":")),e.push.apply(e,n)):(e.push(new s("${")),e.push.apply(e,t)),!0}return e.push(new s("$")),!0}return!1},e.prototype._parseEscaped=function(e){return!!this._accept(i.Backslash)&&(this._accept(i.Dollar)||this._accept(i.CurlyClose)||this._accept(i.Backslash),e.push(new s(this._scanner.tokenText(this._prevToken))),!0)},e}();t.SnippetParser=u;var d}),define(u[369],d([1,0,28]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this._model=e,this._selection=t}return e.prototype.resolve=function(e){if("SELECTION"===e||"TM_SELECTED_TEXT"===e)return this._model.getValueInRange(this._selection)||void 0;if("TM_CURRENT_LINE"===e)return this._model.getLineContent(this._selection.positionLineNumber);if("TM_CURRENT_WORD"===e){var t=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return t&&t.word||void 0}if("TM_LINE_INDEX"===e)return String(this._selection.positionLineNumber-1);if("TM_LINE_NUMBER"===e)return String(this._selection.positionLineNumber);if("TM_FILENAME"===e)return n.basename(this._model.uri.fsPath);if("TM_DIRECTORY"===e){var i=n.dirname(this._model.uri.fsPath);return"."!==i?i:""}return"TM_FILEPATH"===e?this._model.uri.fsPath:void 0},e}();i.VariableNames=Object.freeze({SELECTION:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0}),t.EditorSnippetVariableResolver=i}),define(u[810],d([1,0,122]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){return function(){}}();t.LineContext=i;var r=function(){function e(t,n,i,r){this._snippetCompareFn=e._compareCompletionItems,this._items=t,this._column=n,this._lineContext=i,"top"===r?this._snippetCompareFn=e._compareCompletionItemsSnippetsUp:"bottom"===r&&(this._snippetCompareFn=e._compareCompletionItemsSnippetsDown)}return Object.defineProperty(e.prototype,"lineContext",{get:function(){return this._lineContext},set:function(e){this._lineContext.leadingLineContent===e.leadingLineContent&&this._lineContext.characterCountDelta===e.characterCountDelta||(this._lineContext=e,this._filteredItems=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._ensureCachedState(),this._filteredItems},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"incomplete",{get:function(){return this._ensureCachedState(),this._isIncomplete},enumerable:!0,configurable:!0}),e.prototype.resolveIncompleteInfo=function(){for(var e=[],t=[],n=0,i=this._items;n<i.length;n++){var r=i[n];r.container.incomplete?e.indexOf(r.support)<0&&e.push(r.support):t.push(r)}return{incomplete:e,complete:t}},Object.defineProperty(e.prototype,"stats",{get:function(){return this._ensureCachedState(),this._stats},enumerable:!0,configurable:!0}),e.prototype._ensureCachedState=function(){this._filteredItems||this._createCachedState()},e.prototype._createCachedState=function(){this._filteredItems=[],this._isIncomplete=!1,this._stats={suggestionCount:0,snippetCount:0,textCount:0};for(var e=this._lineContext,t=e.leadingLineContent,i=e.characterCountDelta,r="",o=0;o<this._items.length;o++){var s=this._items[o],a=s.suggestion,c=s.container;this._isIncomplete=this._isIncomplete||c.incomplete;var l=a.overwriteBefore+i-(s.position.column-this._column);if(r.length!==l&&(r=0===l?"":t.slice(-l)),0===l)s.score=-100;else if("string"==typeof a.filterText){if(!(u=n.fuzzyScore(r,a.filterText,a.overwriteBefore)))continue;s.score=u[0],s.matches=[],(u=n.fuzzyScore(r,a.label,a.overwriteBefore))&&(s.matches=u[1])}else{var u=n.fuzzyScore(r,a.label,a.overwriteBefore);if(!u)continue;s.score=u[0],s.matches=u[1]}switch(s.idx=o,this._filteredItems.push(s),this._stats.suggestionCount++,a.type){case"snippet":this._stats.snippetCount++;break;case"text":this._stats.textCount++}}this._filteredItems.sort(this._snippetCompareFn)},e._compareCompletionItems=function(e,t){return e.score>t.score?-1:e.score<t.score?1:e.idx<t.idx?-1:e.idx>t.idx?1:0},e._compareCompletionItemsSnippetsDown=function(t,n){if(t.suggestion.type!==n.suggestion.type){if("snippet"===t.suggestion.type)return 1;if("snippet"===n.suggestion.type)return-1}return e._compareCompletionItems(t,n)},e._compareCompletionItemsSnippetsUp=function(t,n){if(t.suggestion.type!==n.suggestion.type){if("snippet"===t.suggestion.type)return-1;if("snippet"===n.suggestion.type)return 1}return e._compareCompletionItems(t,n)},e}();t.CompletionModel=r}),define(u[807],d([2,3]),function(e,t){return e.create("vs/base/browser/ui/actionbar/actionbar",t)}),define(u[49],d([1,0,807,5,40,315,21,9,140,24,81,167,89,1210]),function(e,t,n,i,r,o,s,a,c,l,u,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(e){function t(t,n,i){var r=e.call(this)||this;return r.options=i,r._callOnDispose=[],r._context=t||r,r._action=n,n instanceof s.Action&&r._callOnDispose.push(n.onDidChange(function(e){r.builder&&r._handleActionChangeEvent(e)})),r}return h(t,e),t.prototype._handleActionChangeEvent=function(e){void 0!==e.enabled&&this._updateEnabled(),void 0!==e.checked&&this._updateChecked(),void 0!==e.class&&this._updateClass(),void 0!==e.label&&(this._updateLabel(),this._updateTooltip()),void 0!==e.tooltip&&this._updateTooltip()},Object.defineProperty(t.prototype,"callOnDispose",{get:function(){return this._callOnDispose},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actionRunner",{get:function(){return this._actionRunner},set:function(e){this._actionRunner=e},enumerable:!0,configurable:!0}),t.prototype.getAction=function(){return this._action},t.prototype.isEnabled=function(){return this._action.enabled},t.prototype.setActionContext=function(e){this._context=e},t.prototype.render=function(e){var t=this;this.builder=r.$(e),this.gesture=new d.Gesture(e);var n=this.options&&this.options.draggable;n&&(e.draggable=!0),this.builder.on(d.EventType.Tap,function(e){return t.onClick(e)}),this.builder.on(a.EventType.MOUSE_DOWN,function(e){n||a.EventHelper.stop(e),t._action.enabled&&0===e.button&&t.builder.addClass("active")}),this.builder.on(a.EventType.CLICK,function(e){a.EventHelper.stop(e,!0),setTimeout(function(){return t.onClick(e)},50)}),this.builder.on([a.EventType.MOUSE_UP,a.EventType.MOUSE_OUT],function(e){a.EventHelper.stop(e),t.builder.removeClass("active")})},t.prototype.onClick=function(e){a.EventHelper.stop(e,!0);var t;l.isUndefinedOrNull(this._context)?t=e:(t=this._context).event=e,this._actionRunner.run(this._action,t)},t.prototype.focus=function(){this.builder&&this.builder.domFocus()},t.prototype.blur=function(){this.builder&&this.builder.domBlur()},t.prototype._updateEnabled=function(){},t.prototype._updateLabel=function(){},t.prototype._updateTooltip=function(){},t.prototype._updateClass=function(){},t.prototype._updateChecked=function(){},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.builder&&(this.builder.destroy(),this.builder=null),this.gesture&&(this.gesture.dispose(),this.gesture=null),this._callOnDispose=i.dispose(this._callOnDispose)},t}(u.EventEmitter);t.BaseActionItem=f;var g=function(e){function t(n,i){var r=e.call(this,t.ID,n,n?"separator text":"separator")||this;return r.checked=!1,r.radio=!1,r.enabled=!1,r.order=i,r}return h(t,e),t}(s.Action);g.ID="vs.actions.separator",t.Separator=g;var v=function(e){function t(t,n,i){void 0===i&&(i={});var r=e.call(this,t,n,i)||this;return r.options=i,r.options.icon=void 0!==i.icon&&i.icon,r.options.label=void 0===i.label||i.label,r.cssClass="",r}return h(t,e),t.prototype.render=function(t){e.prototype.render.call(this,t),this.$e=r.$("a.action-label").appendTo(this.builder),this._action.id===g.ID?this.$e.attr({role:"presentation"}):this.options.isMenu?this.$e.attr({role:"menuitem"}):this.$e.attr({role:"button"}),this.options.label&&this.options.keybinding&&r.$("span.keybinding").text(this.options.keybinding).appendTo(this.builder),this._updateClass(),this._updateLabel(),this._updateTooltip(),this._updateEnabled(),this._updateChecked()},t.prototype.focus=function(){e.prototype.focus.call(this),this.$e.domFocus()},t.prototype._updateLabel=function(){this.options.label&&this.$e.text(this.getAction().label)},t.prototype._updateTooltip=function(){var e=null;this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=n.localize(0,null,e,this.options.keybinding))),e&&this.$e.attr({title:e})},t.prototype._updateClass=function(){this.cssClass&&this.$e.removeClass(this.cssClass),this.options.icon?(this.cssClass=this.getAction().class,this.$e.addClass("icon"),this.cssClass&&this.$e.addClass(this.cssClass),this._updateEnabled()):this.$e.removeClass("icon")},t.prototype._updateEnabled=function(){this.getAction().enabled?(this.builder.removeClass("disabled"),this.$e.removeClass("disabled"),this.$e.attr({tabindex:0})):(this.builder.addClass("disabled"),this.$e.addClass("disabled"),a.removeTabIndexAndUpdateFocus(this.$e.getHTMLElement()))},t.prototype._updateChecked=function(){this.getAction().checked?this.$e.addClass("checked"):this.$e.removeClass("checked")},t.prototype._updateRadio=function(){this.getAction().radio?this.$e.addClass("radio"):this.$e.removeClass("radio")},t}(f);t.ActionItem=v;var m;!function(e){e[e.HORIZONTAL=1]="HORIZONTAL",e[e.VERTICAL=2]="VERTICAL"}(m=t.ActionsOrientation||(t.ActionsOrientation={}));var y={orientation:m.HORIZONTAL,context:null},b=function(e){function t(t,n){void 0===n&&(n=y);var i=e.call(this)||this;i.options=n,i._context=n.context,i.toDispose=[],i._actionRunner=i.options.actionRunner,i._actionRunner||(i._actionRunner=new s.ActionRunner,i.toDispose.push(i._actionRunner)),i.toDispose.push(i.addEmitter(i._actionRunner)),i.items=[],i.focusedItem=void 0,i.domNode=document.createElement("div"),i.domNode.className="monaco-action-bar",!1!==n.animated&&a.addClass(i.domNode,"animated");var o=i.options.orientation===m.VERTICAL;return o&&(i.domNode.className+=" vertical"),r.$(i.domNode).on(a.EventType.KEY_DOWN,function(e){var t=new p.StandardKeyboardEvent(e),n=!0;t.equals(o?16:15)?i.focusPrevious():t.equals(o?18:17)?i.focusNext():t.equals(9)?i.cancel():t.equals(3)||t.equals(10)||(n=!1),n&&(t.preventDefault(),t.stopPropagation())}),r.$(i.domNode).on(a.EventType.CONTEXT_MENU,function(e){e.preventDefault(),e.stopPropagation()}),r.$(i.domNode).on(a.EventType.KEY_UP,function(e){var t=new p.StandardKeyboardEvent(e);t.equals(3)||t.equals(10)?(i.doTrigger(t),t.preventDefault(),t.stopPropagation()):(t.equals(2)||t.equals(1026))&&i.updateFocusedItem()}),i.focusTracker=a.trackFocus(i.domNode),i.focusTracker.addBlurListener(function(){document.activeElement!==i.domNode&&a.isAncestor(document.activeElement,i.domNode)||(i.emit(a.EventType.BLUR,{}),i.focusedItem=void 0)}),i.focusTracker.addFocusListener(function(){return i.updateFocusedItem()}),i.actionsList=document.createElement("ul"),i.actionsList.className="actions-container",i.options.isMenu?i.actionsList.setAttribute("role","menubar"):i.actionsList.setAttribute("role","toolbar"),i.options.ariaLabel&&i.actionsList.setAttribute("aria-label",i.options.ariaLabel),i.domNode.appendChild(i.actionsList),(t instanceof r.Builder?t.getHTMLElement():t).appendChild(i.domNode),i}return h(t,e),t.prototype.setAriaLabel=function(e){e?this.actionsList.setAttribute("aria-label",e):this.actionsList.removeAttribute("aria-label")},t.prototype.updateFocusedItem=function(){for(var e=0;e<this.actionsList.children.length;e++){var t=this.actionsList.children[e];if(a.isAncestor(document.activeElement,t)){this.focusedItem=e;break}}},Object.defineProperty(t.prototype,"context",{get:function(){return this._context},set:function(e){this._context=e,this.items.forEach(function(t){return t.setActionContext(e)})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actionRunner",{get:function(){return this._actionRunner},set:function(e){e&&(this._actionRunner=e,this.items.forEach(function(t){return t.actionRunner=e}))},enumerable:!0,configurable:!0}),t.prototype.getContainer=function(){return r.$(this.domNode)},t.prototype.push=function(e,t){var n=this;void 0===t&&(t={});var i=Array.isArray(e)?e:[e],r=l.isNumber(t.index)?t.index:null;i.forEach(function(e){var i=document.createElement("li");i.className="action-item",i.setAttribute("role","presentation");var o=null;n.options.actionItemProvider&&(o=n.options.actionItemProvider(e)),o||(o=new v(n.context,e,t)),o.actionRunner=n._actionRunner,o.setActionContext(n.context),n.addEmitter(o),o.render(i),null===r||r<0||r>=n.actionsList.children.length?n.actionsList.appendChild(i):n.actionsList.insertBefore(i,n.actionsList.children[r++]),n.items.push(o)})},t.prototype.pull=function(e){e>=0&&e<this.items.length&&(this.items.splice(e,1),this.actionsList.removeChild(this.actionsList.childNodes[e]))},t.prototype.clear=function(){this.items=i.dispose(this.items),r.$(this.actionsList).empty()},t.prototype.length=function(){return this.items.length},t.prototype.isEmpty=function(){return 0===this.items.length},t.prototype.focus=function(e){e&&void 0===this.focusedItem&&(this.focusedItem=0),this.updateFocus()},t.prototype.focusNext=function(){void 0===this.focusedItem&&(this.focusedItem=this.items.length-1);var e,t=this.focusedItem;do{this.focusedItem=(this.focusedItem+1)%this.items.length,e=this.items[this.focusedItem]}while(this.focusedItem!==t&&!e.isEnabled());this.focusedItem!==t||e.isEnabled()||(this.focusedItem=void 0),this.updateFocus()},t.prototype.focusPrevious=function(){void 0===this.focusedItem&&(this.focusedItem=0);var e,t=this.focusedItem;do{this.focusedItem=this.focusedItem-1,this.focusedItem<0&&(this.focusedItem=this.items.length-1),e=this.items[this.focusedItem]}while(this.focusedItem!==t&&!e.isEnabled());this.focusedItem!==t||e.isEnabled()||(this.focusedItem=void 0),this.updateFocus(!0)},t.prototype.updateFocus=function(e){if(void 0!==this.focusedItem)for(var t=0;t<this.items.length;t++){var n=this.items[t];t===this.focusedItem?l.isFunction(n.focus)&&n.focus(e):l.isFunction(n.blur)&&n.blur()}else this.domNode.focus()},t.prototype.doTrigger=function(e){if(void 0!==this.focusedItem){var t=this.items[this.focusedItem];if(t instanceof f){var n=null===t._context||void 0===t._context?e:t._context;this.run(t._action,n).done()}}},t.prototype.cancel=function(){document.activeElement instanceof HTMLElement&&document.activeElement.blur(),this.emit(c.EventType.CANCEL)},t.prototype.run=function(e,t){return this._actionRunner.run(e,t)},t.prototype.dispose=function(){null!==this.items&&i.dispose(this.items),this.items=null,this.focusTracker&&(this.focusTracker.dispose(),this.focusTracker=null),this.toDispose=i.dispose(this.toDispose),this.getContainer().destroy(),e.prototype.dispose.call(this)},t}(u.EventEmitter);t.ActionBar=b;var S=function(e){function t(t,n,i,r){var s=e.call(this,t,n)||this;return s.selectBox=new o.SelectBox(i,r),s.toDispose=[],s.toDispose.push(s.selectBox),s.registerListeners(),s}return h(t,e),t.prototype.setOptions=function(e,t){this.selectBox.setOptions(e,t)},t.prototype.select=function(e){this.selectBox.select(e)},t.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.selectBox.onDidSelect(function(t){e.actionRunner.run(e._action,e.getActionContext(t)).done()}))},t.prototype.getActionContext=function(e){return e},t.prototype.focus=function(){this.selectBox&&this.selectBox.focus()},t.prototype.blur=function(){this.selectBox&&this.selectBox.blur()},t.prototype.render=function(e){this.selectBox.render(e)},t.prototype.dispose=function(){this.toDispose=i.dispose(this.toDispose),e.prototype.dispose.call(this)},t}(f);t.SelectActionItem=S}),define(u[806],d([2,3]),function(e,t){return e.create("vs/base/browser/ui/aria/aria",t)}),define(u[114],d([1,0,806,11,9,1206]),function(e,t,n,i,r){"use strict";function o(e){s(c,e)}function s(e,t){a&&(e.textContent===t&&(t=n.localize(0,null,t)),r.clearNode(e),e.textContent=t,e.style.visibility="hidden",e.style.visibility="visible")}Object.defineProperty(t,"__esModule",{value:!0});var a,c,l;t.setARIAContainer=function(e){(a=document.createElement("div")).className="monaco-aria-container",(c=document.createElement("div")).className="monaco-alert",c.setAttribute("role","alert"),c.setAttribute("aria-atomic","true"),a.appendChild(c),(l=document.createElement("div")).className="monaco-status",l.setAttribute("role","status"),l.setAttribute("aria-atomic","true"),a.appendChild(l),e.appendChild(a)},t.alert=o,t.status=function(e){i.isMacintosh?o(e):s(l,e)}}),define(u[805],d([2,3]),function(e,t){return e.create("vs/base/browser/ui/findinput/findInput",t)}),define(u[802],d([2,3]),function(e,t){return e.create("vs/base/browser/ui/findinput/findInputCheckboxes",t)}),define(u[379],d([1,0,802,308,1196]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n.localize(0,null),o=n.localize(1,null),s=n.localize(2,null),a=function(e){function t(t){return e.call(this,{actionClassName:"monaco-case-sensitive",title:r+t.appendTitle,isChecked:t.isChecked,onChange:t.onChange,onKeyDown:t.onKeyDown,inputActiveOptionBorder:t.inputActiveOptionBorder})||this}return h(t,e),t}(i.Checkbox);t.CaseSensitiveCheckbox=a;var c=function(e){function t(t){return e.call(this,{actionClassName:"monaco-whole-word",title:o+t.appendTitle,isChecked:t.isChecked,onChange:t.onChange,onKeyDown:t.onKeyDown,inputActiveOptionBorder:t.inputActiveOptionBorder})||this}return h(t,e),t}(i.Checkbox);t.WholeWordsCheckbox=c;var l=function(e){function t(t){return e.call(this,{actionClassName:"monaco-regex",title:s+t.appendTitle,isChecked:t.isChecked,onChange:t.onChange,onKeyDown:t.onKeyDown,inputActiveOptionBorder:t.inputActiveOptionBorder})||this}return h(t,e),t}(i.Checkbox);t.RegexCheckbox=l}),define(u[801],d([2,3]),function(e,t){return e.create("vs/base/browser/ui/inputbox/inputBox",t)}),define(u[110],d([1,0,801,66,9,194,114,49,370,8,91,58,26,1193]),function(e,t,n,i,r,o,s,a,c,l,u,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f,g=r.$;!function(e){e[e.INFO=1]="INFO",e[e.WARNING=2]="WARNING",e[e.ERROR=3]="ERROR"}(f=t.MessageType||(t.MessageType={}));var v={inputBackground:d.Color.fromHex("#3C3C3C"),inputForeground:d.Color.fromHex("#CCCCCC"),inputValidationInfoBorder:d.Color.fromHex("#55AAFF"),inputValidationInfoBackground:d.Color.fromHex("#063B49"),inputValidationWarningBorder:d.Color.fromHex("#B89500"),inputValidationWarningBackground:d.Color.fromHex("#352A05"),inputValidationErrorBorder:d.Color.fromHex("#BE1100"),inputValidationErrorBackground:d.Color.fromHex("#5A1D1D")},m=function(e){function t(t,n,o){var s=e.call(this)||this;s.state="idle",s._onDidChange=s._register(new l.Emitter),s.onDidChange=s._onDidChange.event,s._onDidHeightChange=s._register(new l.Emitter),s.onDidHeightChange=s._onDidHeightChange.event,s.contextViewProvider=n,s.options=o||Object.create(null),p.mixin(s.options,v,!1),s.message=null,s.cachedHeight=null,s.placeholder=s.options.placeholder||"",s.ariaLabel=s.options.ariaLabel||"",s.inputBackground=s.options.inputBackground,s.inputForeground=s.options.inputForeground,s.inputBorder=s.options.inputBorder,s.inputValidationInfoBorder=s.options.inputValidationInfoBorder,s.inputValidationInfoBackground=s.options.inputValidationInfoBackground,s.inputValidationWarningBorder=s.options.inputValidationWarningBorder,s.inputValidationWarningBackground=s.options.inputValidationWarningBackground,s.inputValidationErrorBorder=s.options.inputValidationErrorBorder,s.inputValidationErrorBackground=s.options.inputValidationErrorBackground,s.options.validationOptions&&(s.validation=s.options.validationOptions.validation,s.showValidationMessage=s.options.validationOptions.showMessage||!1),s.element=r.append(t,g(".monaco-inputbox.idle"));var c=s.options.flexibleHeight?"textarea":"input",u=r.append(s.element,g(".wrapper"));return s.input=r.append(u,g(c+".input")),s.input.setAttribute("autocorrect","off"),s.input.setAttribute("autocapitalize","off"),s.input.setAttribute("spellcheck","false"),s.onfocus(s.input,function(){return r.addClass(s.element,"synthetic-focus")}),s.onblur(s.input,function(){return r.removeClass(s.element,"synthetic-focus")}),s.options.flexibleHeight?s.mirror=r.append(u,g("div.mirror")):(s.input.type=s.options.type||"text",s.input.setAttribute("wrap","off")),s.ariaLabel&&s.input.setAttribute("aria-label",s.ariaLabel),s.placeholder&&(s.input.setAttribute("placeholder",s.placeholder),s.input.title=s.placeholder),s.oninput(s.input,function(){return s.onValueChange()}),s.onblur(s.input,function(){return s.onBlur()}),s.onfocus(s.input,function(){return s.onFocus()}),s.placeholder&&i.isIE&&s.onclick(s.input,function(e){r.EventHelper.stop(e,!0),s.input.focus()}),setTimeout(function(){return s.updateMirror()},0),s.options.actions&&(s.actionbar=s._register(new a.ActionBar(s.element)),s.actionbar.push(s.options.actions,{icon:!0,label:!1})),s.applyStyles(),s}return h(t,e),t.prototype.onBlur=function(){this._hideMessage()},t.prototype.onFocus=function(){this._showMessage()},t.prototype.setPlaceHolder=function(e){this.input&&this.input.setAttribute("placeholder",e)},t.prototype.setAriaLabel=function(e){this.ariaLabel=e,this.input&&(e?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label"))},t.prototype.setContextViewProvider=function(e){this.contextViewProvider=e},Object.defineProperty(t.prototype,"inputElement",{get:function(){return this.input},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.input.value},set:function(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return null===this.cachedHeight?r.getTotalHeight(this.element):this.cachedHeight},enumerable:!0,configurable:!0}),t.prototype.focus=function(){this.input.focus()},t.prototype.blur=function(){this.input.blur()},t.prototype.hasFocus=function(){return document.activeElement===this.input},t.prototype.select=function(e){void 0===e&&(e=null),this.input.select(),e&&this.input.setSelectionRange(e.start,e.end)},t.prototype.enable=function(){this.input.removeAttribute("disabled")},t.prototype.disable=function(){this.input.disabled=!0,this._hideMessage()},t.prototype.setEnabled=function(e){e?this.enable():this.disable()},Object.defineProperty(t.prototype,"width",{get:function(){return r.getTotalWidth(this.input)},set:function(e){this.input.style.width=e+"px"},enumerable:!0,configurable:!0}),t.prototype.showMessage=function(e,t){this.message=e,r.removeClass(this.element,"idle"),r.removeClass(this.element,"info"),r.removeClass(this.element,"warning"),r.removeClass(this.element,"error"),r.addClass(this.element,this.classForType(e.type));var i=this.stylesForType(this.message.type);this.element.style.border=i.border?"1px solid "+i.border:null;var o;o=e.type===f.ERROR?n.localize(0,null,e.content):e.type===f.WARNING?n.localize(1,null,e.content):n.localize(2,null,e.content),s.alert(o),(this.hasFocus()||t)&&this._showMessage()},t.prototype.hideMessage=function(){this.message=null,r.removeClass(this.element,"info"),r.removeClass(this.element,"warning"),r.removeClass(this.element,"error"),r.addClass(this.element,"idle"),this._hideMessage(),this.applyStyles()},t.prototype.isInputValid=function(){return!!this.validation&&!this.validation(this.value)},t.prototype.validate=function(){var e=null;return this.validation&&((e=this.validation(this.value))?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),!e},t.prototype.stylesForType=function(e){switch(e){case f.INFO:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground};case f.WARNING:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground}}},t.prototype.classForType=function(e){switch(e){case f.INFO:return"info";case f.WARNING:return"warning";default:return"error"}},t.prototype._showMessage=function(){var e=this;if(this.contextViewProvider&&this.message){var t,n=function(){return t.style.width=r.getTotalWidth(e.element)+"px"};this.state="open",this.contextViewProvider.showContextView({getAnchor:function(){return e.element},anchorAlignment:c.AnchorAlignment.RIGHT,render:function(i){t=r.append(i,g(".monaco-inputbox-container")),n();var s={inline:!0,className:"monaco-inputbox-message"},a=e.message.formatContent?o.renderFormattedText(e.message.content,s):o.renderText(e.message.content,s);r.addClass(a,e.classForType(e.message.type));var c=e.stylesForType(e.message.type);return a.style.backgroundColor=c.background?c.background.toString():null,a.style.border=c.border?"1px solid "+c.border:null,r.append(t,a),null},layout:n})}},t.prototype._hideMessage=function(){this.contextViewProvider&&"open"===this.state&&(this.state="idle",this.contextViewProvider.hideContextView())},t.prototype.onValueChange=function(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),"open"===this.state&&this.contextViewProvider.layout()},t.prototype.updateMirror=function(){if(this.mirror){var e=this.value||this.placeholder,t=10===e.charCodeAt(e.length-1)?" ":"";this.mirror.textContent=e+t,this.layout()}},t.prototype.style=function(e){this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()},t.prototype.applyStyles=function(){if(this.element){var e=this.inputBackground?this.inputBackground.toString():null,t=this.inputForeground?this.inputForeground.toString():null,n=this.inputBorder?this.inputBorder.toString():null;this.element.style.backgroundColor=e,this.element.style.color=t,this.input.style.backgroundColor=e,this.input.style.color=t,this.element.style.borderWidth=n?"1px":null,this.element.style.borderStyle=n?"solid":null,this.element.style.borderColor=n}},t.prototype.layout=function(){if(this.mirror){var e=this.cachedHeight;this.cachedHeight=r.getTotalHeight(this.mirror),e!==this.cachedHeight&&(this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedHeight))}},t.prototype.dispose=function(){this._hideMessage(),this.element=null,this.input=null,this.contextViewProvider=null,this.message=null,this.placeholder=null,this.ariaLabel=null,this.validation=null,this.showValidationMessage=null,this.state=null,this.actionbar=null,e.prototype.dispose.call(this)},t}(u.Widget);t.InputBox=m}),define(u[220],d([1,0,805,9,110,91,8,379,1197]),function(e,t,n,i,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=n.localize(0,null),l=function(e){function t(t,n,i){var r=e.call(this)||this;return r._onDidOptionChange=r._register(new s.Emitter),r.onDidOptionChange=r._onDidOptionChange.event,r._onKeyDown=r._register(new s.Emitter),r.onKeyDown=r._onKeyDown.event,r._onMouseDown=r._register(new s.Emitter),r.onMouseDown=r._onMouseDown.event,r._onInput=r._register(new s.Emitter),r.onInput=r._onInput.event,r._onKeyUp=r._register(new s.Emitter),r.onKeyUp=r._onKeyUp.event,r._onCaseSensitiveKeyDown=r._register(new s.Emitter),r.onCaseSensitiveKeyDown=r._onCaseSensitiveKeyDown.event,r._lastHighlightFindOptions=0,r.contextViewProvider=n,r.width=i.width||100,r.placeholder=i.placeholder||"",r.validation=i.validation,r.label=i.label||c,r.inputActiveOptionBorder=i.inputActiveOptionBorder,r.inputBackground=i.inputBackground,r.inputForeground=i.inputForeground,r.inputBorder=i.inputBorder,r.inputValidationInfoBorder=i.inputValidationInfoBorder,r.inputValidationInfoBackground=i.inputValidationInfoBackground,r.inputValidationWarningBorder=i.inputValidationWarningBorder,r.inputValidationWarningBackground=i.inputValidationWarningBackground,r.inputValidationErrorBorder=i.inputValidationErrorBorder,r.inputValidationErrorBackground=i.inputValidationErrorBackground,r.regex=null,r.wholeWords=null,r.caseSensitive=null,r.domNode=null,r.inputBox=null,r.buildDomNode(i.appendCaseSensitiveLabel||"",i.appendWholeWordsLabel||"",i.appendRegexLabel||""),Boolean(t)&&t.appendChild(r.domNode),r.onkeydown(r.inputBox.inputElement,function(e){return r._onKeyDown.fire(e)}),r.onkeyup(r.inputBox.inputElement,function(e){return r._onKeyUp.fire(e)}),r.oninput(r.inputBox.inputElement,function(e){return r._onInput.fire()}),r.onmousedown(r.inputBox.inputElement,function(e){return r._onMouseDown.fire(e)}),r}return h(t,e),t.prototype.enable=function(){i.removeClass(this.domNode,"disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()},t.prototype.disable=function(){i.addClass(this.domNode,"disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()},t.prototype.setEnabled=function(e){e?this.enable():this.disable()},t.prototype.clear=function(){this.clearValidation(),this.setValue(""),this.focus()},t.prototype.setWidth=function(e){this.width=e,this.domNode.style.width=this.width+"px",this.contextViewProvider.layout(),this.setInputWidth()},t.prototype.getValue=function(){return this.inputBox.value},t.prototype.setValue=function(e){this.inputBox.value!==e&&(this.inputBox.value=e)},t.prototype.style=function(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()},t.prototype.applyStyles=function(){if(this.domNode){var e={inputActiveOptionBorder:this.inputActiveOptionBorder};this.regex.style(e),this.wholeWords.style(e),this.caseSensitive.style(e);var t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}},t.prototype.select=function(){this.inputBox.select()},t.prototype.focus=function(){this.inputBox.focus()},t.prototype.getCaseSensitive=function(){return this.caseSensitive.checked},t.prototype.setCaseSensitive=function(e){this.caseSensitive.checked=e,this.setInputWidth()},t.prototype.getWholeWords=function(){return this.wholeWords.checked},t.prototype.setWholeWords=function(e){this.wholeWords.checked=e,this.setInputWidth()},t.prototype.getRegex=function(){return this.regex.checked},t.prototype.setRegex=function(e){this.regex.checked=e,this.setInputWidth()},t.prototype.focusOnCaseSensitive=function(){this.caseSensitive.focus()},t.prototype.highlightFindOptions=function(){i.removeClass(this.domNode,"highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,i.addClass(this.domNode,"highlight-"+this._lastHighlightFindOptions)},t.prototype.setInputWidth=function(){var e=this.width-this.caseSensitive.width()-this.wholeWords.width()-this.regex.width();this.inputBox.width=e},t.prototype.buildDomNode=function(e,t,n){var o=this;this.domNode=document.createElement("div"),this.domNode.style.width=this.width+"px",i.addClass(this.domNode,"monaco-findInput"),this.inputBox=this._register(new r.InputBox(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation||null,showMessage:!0},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorBorder:this.inputValidationErrorBorder})),this.regex=this._register(new a.RegexCheckbox({appendTitle:n,isChecked:!1,onChange:function(e){o._onDidOptionChange.fire(e),e||o.inputBox.focus(),o.setInputWidth(),o.validate()},inputActiveOptionBorder:this.inputActiveOptionBorder})),this.wholeWords=this._register(new a.WholeWordsCheckbox({appendTitle:t,isChecked:!1,onChange:function(e){o._onDidOptionChange.fire(e),e||o.inputBox.focus(),o.setInputWidth(),o.validate()},inputActiveOptionBorder:this.inputActiveOptionBorder})),this.caseSensitive=this._register(new a.CaseSensitiveCheckbox({appendTitle:e,isChecked:!1,onChange:function(e){o._onDidOptionChange.fire(e),e||o.inputBox.focus(),o.setInputWidth(),o.validate()},onKeyDown:function(e){o._onCaseSensitiveKeyDown.fire(e)},inputActiveOptionBorder:this.inputActiveOptionBorder}));var s=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,function(e){if(e.equals(15)||e.equals(17)||e.equals(9)){var t=s.indexOf(document.activeElement);if(t>=0){var n=void 0;e.equals(17)?n=(t+1)%s.length:e.equals(15)&&(n=0===t?s.length-1:t-1),e.equals(9)?s[t].blur():n>=0&&s[n].focus(),i.EventHelper.stop(e,!0)}}}),this.setInputWidth();var c=document.createElement("div");c.className="controls",c.appendChild(this.caseSensitive.domNode),c.appendChild(this.wholeWords.domNode),c.appendChild(this.regex.domNode),this.domNode.appendChild(c)},t.prototype.validate=function(){this.inputBox.validate()},t.prototype.showMessage=function(e){this.inputBox.showMessage(e)},t.prototype.clearMessage=function(){this.inputBox.hideMessage()},t.prototype.clearValidation=function(){this.inputBox.hideMessage()},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t}(o.Widget);l.OPTION_CHANGE="optionChange",t.FindInput=l}),define(u[800],d([2,3]),function(e,t){return e.create("vs/base/browser/ui/resourceviewer/resourceViewer",t)}),define(u[799],d([1,0,800,133,28,40,9,70,1161]),function(e,t,n,i,r,o,s,a){"use strict";function c(e){var t=e.resource.toString(),n=u.get(t);return n||(n={etag:e.etag,src:t},u.set(t,n)),n.etag!==e.etag&&(n.etag=e.etag,n.src=t+"?"+Date.now()),n.src}Object.defineProperty(t,"__esModule",{value:!0});var l={".bmp":"image/bmp",".gif":"image/gif",".jpg":"image/jpg",".jpeg":"image/jpg",".jpe":"image/jpg",".png":"image/png",".tiff":"image/tiff",".tif":"image/tiff",".ico":"image/x-icon",".tga":"image/x-tga",".psd":"image/vnd.adobe.photoshop",".mid":"audio/midi",".midi":"audio/midi",".mp4a":"audio/mp4",".mpga":"audio/mpeg",".mp2":"audio/mpeg",".mp2a":"audio/mpeg",".mp3":"audio/mpeg",".m2a":"audio/mpeg",".m3a":"audio/mpeg",".oga":"audio/ogg",".ogg":"audio/ogg",".spx":"audio/ogg",".aac":"audio/x-aac",".wav":"audio/x-wav",".wma":"audio/x-ms-wma",".mp4":"video/mp4",".mp4v":"video/mp4",".mpg4":"video/mp4",".mpeg":"video/mpeg",".mpg":"video/mpeg",".mpe":"video/mpeg",".m1v":"video/mpeg",".m2v":"video/mpeg",".ogv":"video/ogg",".qt":"video/quicktime",".mov":"video/quicktime",".webm":"video/webm",".mkv":"video/x-matroska",".mk3d":"video/x-matroska",".mks":"video/x-matroska",".wmv":"video/x-ms-wmv",".flv":"video/x-flv",".avi":"video/x-msvideo",".movie":"video/x-sgi-movie"},u=new a.BoundedMap(100),d=function(){function e(){}return e.show=function(t,a,u,d,h){o.$(a).setClass("monaco-resource-viewer");var p,f=r.extname(t.resource.toString());f&&(p=l[f.toLowerCase()]),p||(p=i.MIME_BINARY),p.indexOf("image/")>=0?t.size<=e.MAX_IMAGE_SIZE?o.$(a).empty().addClass("image").img({src:c(t)}).on(s.EventType.LOAD,function(i,r){var c=r.getHTMLElement();(c.naturalWidth>c.width||c.naturalHeight>c.height)&&(o.$(a).addClass("oversized"),r.on(s.EventType.CLICK,function(e,t){o.$(a).toggleClass("full-size"),u.scanDomNode()})),h&&h(n.localize(0,null,c.naturalWidth,c.naturalHeight,e.formatSize(t.size))),u.scanDomNode()}):o.$(a).empty().p({text:n.localize(1,null)}).append(o.$("a",{role:"button",class:"open-external",text:n.localize(2,null)}).on(s.EventType.CLICK,function(e){d(t.resource)})):(o.$(a).empty().span({text:n.localize(3,null)}),h&&h(e.formatSize(t.size)),u.scanDomNode())},e.formatSize=function(t){return t<e.KB?n.localize(4,null,t):t<e.MB?n.localize(5,null,(t/e.KB).toFixed(2)):t<e.GB?n.localize(6,null,(t/e.MB).toFixed(2)):t<e.TB?n.localize(7,null,(t/e.GB).toFixed(2)):n.localize(8,null,(t/e.TB).toFixed(2))},e}();d.KB=1024,d.MB=d.KB*d.KB,d.GB=d.MB*d.KB,d.TB=d.GB*d.KB,d.MAX_IMAGE_SIZE=d.MB,t.ResourceViewer=d}),define(u[798],d([2,3]),function(e,t){return e.create("vs/base/browser/ui/toolbar/toolbar",t)}),define(u[269],d([1,0,798,4,40,24,21,49,375,1129]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONTEXT="context.toolbar";var l=function(){function e(e,t,n){void 0===n&&(n={orientation:a.ActionsOrientation.HORIZONTAL});var i=this;this.options=n,this.lookupKeybindings="function"==typeof this.options.getKeyBinding,this.toggleMenuAction=new u(function(){return i.toggleMenuActionItem&&i.toggleMenuActionItem.show()});var o=document.createElement("div");o.className="monaco-toolbar",e.appendChild(o),this.actionBar=new a.ActionBar(r.$(o),{orientation:n.orientation,ariaLabel:n.ariaLabel,actionItemProvider:function(e){return e.id===u.ID?(i.toggleMenuActionItem&&i.toggleMenuActionItem.dispose(),i.toggleMenuActionItem=new d(e,e.menuActions,t,i.options.actionItemProvider,i.actionRunner,i.options.getKeyBinding,"toolbar-toggle-more"),i.toggleMenuActionItem.setActionContext(i.actionBar.context),i.toggleMenuActionItem):n.actionItemProvider?n.actionItemProvider(e):null}})}return Object.defineProperty(e.prototype,"actionRunner",{get:function(){return this.actionBar.actionRunner},set:function(e){this.actionBar.actionRunner=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{set:function(e){this.actionBar.context=e,this.toggleMenuActionItem&&this.toggleMenuActionItem.setActionContext(e)},enumerable:!0,configurable:!0}),e.prototype.getContainer=function(){return this.actionBar.getContainer()},e.prototype.setAriaLabel=function(e){this.actionBar.setAriaLabel(e)},e.prototype.setActions=function(e,t){var n=this;return function(){var i=e?e.slice(0):[];n.hasSecondaryActions=t&&t.length>0,n.hasSecondaryActions&&(n.toggleMenuAction.menuActions=t.slice(0),i.push(n.toggleMenuAction)),n.actionBar.clear(),i.forEach(function(e){n.actionBar.push(e,{icon:!0,label:!1,keybinding:n.getKeybindingLabel(e)})})}},e.prototype.getKeybindingLabel=function(e){var t=this.lookupKeybindings?this.options.getKeyBinding(e):void 0;return t?t.getLabel():void 0},e.prototype.addPrimaryAction=function(e){var t=this;return function(){if(t.hasSecondaryActions){var n=t.actionBar.length();t.actionBar.push(e,{icon:!0,label:!1,index:n,keybinding:t.getKeybindingLabel(e)})}else t.actionBar.push(e,{icon:!0,label:!1,keybinding:t.getKeybindingLabel(e)})}},e.prototype.dispose=function(){this.actionBar.dispose(),this.toggleMenuAction.dispose(),this.toggleMenuActionItem&&this.toggleMenuActionItem.dispose()},e}();t.ToolBar=l;var u=function(e){function t(i){var r=e.call(this,t.ID,n.localize(0,null),null,!0)||this;return r.toggleDropdownMenu=i,r}return h(t,e),t.prototype.run=function(){return this.toggleDropdownMenu(),i.TPromise.as(!0)},Object.defineProperty(t.prototype,"menuActions",{get:function(){return this._menuActions},set:function(e){this._menuActions=e},enumerable:!0,configurable:!0}),t}(s.Action);u.ID="toolbar.toggle.more";var d=function(e){function t(t,n,i,r,o,s,a){var c=e.call(this,null,t)||this;return c.menuActionsOrProvider=n,c.contextMenuProvider=i,c.actionItemProvider=r,c.actionRunner=o,c.keybindings=s,c.clazz=a,c}return h(t,e),t.prototype.render=function(e){var t=this,n={contextMenuProvider:this.contextMenuProvider,labelRenderer:function(e){return t.builder=r.$("a.action-label").attr({tabIndex:"0",role:"button","aria-haspopup":"true",title:t._action.label||"",class:t.clazz}),t.builder.appendTo(e),null}};o.isArray(this.menuActionsOrProvider)?n.actions=this.menuActionsOrProvider:n.actionProvider=this.menuActionsOrProvider,this.dropdownMenu=new c.DropdownMenu(e,n),this.dropdownMenu.menuOptions={actionItemProvider:this.actionItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.keybindings,context:this._context},this.toUnbind=this.addEmitter(this.dropdownMenu)},t.prototype.setActionContext=function(t){e.prototype.setActionContext.call(this,t),this.dropdownMenu&&(this.dropdownMenu.menuOptions.context=t)},t.prototype.show=function(){this.dropdownMenu&&this.dropdownMenu.show()},t.prototype.dispose=function(){this.toUnbind.dispose(),this.dropdownMenu.dispose(),e.prototype.dispose.call(this)},t}(a.BaseActionItem);t.DropdownMenuActionItem=d}),define(u[795],d([2,3]),function(e,t){return e.create("vs/base/common/errorMessage",t)}),define(u[107],d([1,0,795,26,24,34,12]),function(e,t,n,i,r,o,s){"use strict";function a(e,t){var n=new d(e);return t?n.verboseMessage:n.message}function c(e,t){return e.message?t&&(e.stack||e.stacktrace)?n.localize(7,null,l(e),e.stack||e.stacktrace):l(e):n.localize(8,null)}function l(e){return"string"==typeof e.code&&"number"==typeof e.errno&&"string"==typeof e.syscall?n.localize(9,null,e.message):e.message}function u(e,t){if(void 0===e&&(e=null),void 0===t&&(t=!1),!e)return n.localize(10,null);if(Array.isArray(e)){var i=o.coalesce(e),s=u(i[0],t);return i.length>1?n.localize(11,null,s,i.length):s}if(r.isString(e))return e;if(!r.isUndefinedOrNull(e.status))return a(e,t);if(e.detail){var l=e.detail;if(l.error){if(l.error&&!r.isUndefinedOrNull(l.error.status))return a(l.error,t);if(!r.isArray(l.error))return c(l.error,t);for(var d=0;d<l.error.length;d++)if(l.error[d]&&!r.isUndefinedOrNull(l.error[d].status))return a(l.error[d],t)}if(l.exception)return r.isUndefinedOrNull(l.exception.status)?c(l.exception,t):a(l.exception,t)}return e.stack?c(e,t):e.message?e.message:n.localize(12,null)}Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e){this.status=e.status,this.statusText=e.statusText,this.name="ConnectionError";try{this.responseText=e.responseText}catch(e){this.responseText=""}if(this.errorMessage=null,this.errorCode=null,this.errorObject=null,this.responseText)try{var t=JSON.parse(this.responseText);this.errorMessage=t.message,this.errorCode=t.code,this.errorObject=t}catch(e){}}return Object.defineProperty(e.prototype,"message",{get:function(){return this.connectionErrorToMessage(this,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verboseMessage",{get:function(){return this.connectionErrorToMessage(this,!0)},enumerable:!0,configurable:!0}),e.prototype.connectionErrorDetailsToMessage=function(e,t){var i=e.errorCode,r=e.errorMessage;return null!==i&&null!==r?n.localize(0,null,s.rtrim(r,"."),i):null!==r?r:t&&null!==e.responseText?e.responseText:null},e.prototype.connectionErrorToMessage=function(e,t){var i=this.connectionErrorDetailsToMessage(e,t);return 401===e.status?null!==i?n.localize(1,null,i):n.localize(2,null):i||(e.status>0&&null!==e.statusText?t&&null!==e.responseText&&e.responseText.length>0?n.localize(3,null,e.statusText,e.status,e.responseText):n.localize(4,null,e.statusText,e.status):t&&null!==e.responseText&&e.responseText.length>0?n.localize(5,null,e.responseText):n.localize(6,null))},e}();t.ConnectionError=d,i.derive(Error,d),t.toErrorMessage=u}),define(u[792],d([2,3]),function(e,t){return e.create("vs/base/common/jsonErrorMessages",t)}),define(u[273],d([1,0,792,94]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getParseErrorMessage=function(e){switch(e){case i.ParseErrorCode.InvalidSymbol:return n.localize(0,null);case i.ParseErrorCode.InvalidNumberFormat:return n.localize(1,null);case i.ParseErrorCode.PropertyNameExpected:return n.localize(2,null);case i.ParseErrorCode.ValueExpected:return n.localize(3,null);case i.ParseErrorCode.ColonExpected:return n.localize(4,null);case i.ParseErrorCode.CommaExpected:return n.localize(5,null);case i.ParseErrorCode.CloseBraceExpected:return n.localize(6,null);case i.ParseErrorCode.CloseBracketExpected:return n.localize(7,null);case i.ParseErrorCode.EndOfFileExpected:return n.localize(8,null);default:return""}}}),define(u[790],d([2,3]),function(e,t){return e.create("vs/base/common/keybindingLabels",t)}),define(u[181],d([1,0,790]),function(e,t,n){"use strict";function i(e,t,n){if(null===t)return"";var i=[];return e.ctrlKey&&i.push(n.ctrlKey),e.shiftKey&&i.push(n.shiftKey),e.altKey&&i.push(n.altKey),e.metaKey&&i.push(n.metaKey),i.push(t),i.join(n.separator)}function r(e,t,n,r,o){var s=i(e,t,o);return null!==r&&(s+=" ",s+=i(n,r,o)),s}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,n){void 0===n&&(n=t),this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=t,this.modifierLabels[3]=n}return e.prototype.toLabel=function(e,t,n,i,o){return null===t&&null===i?null:r(e,t,n,i,this.modifierLabels[o])},e}();t.ModifierLabelProvider=o,t.UILabelProvider=new o({ctrlKey:"⌃",shiftKey:"⇧",altKey:"⌥",metaKey:"⌘",separator:""},{ctrlKey:n.localize(0,null),shiftKey:n.localize(1,null),altKey:n.localize(2,null),metaKey:n.localize(3,null),separator:"+"}),t.AriaLabelProvider=new o({ctrlKey:n.localize(4,null),shiftKey:n.localize(5,null),altKey:n.localize(6,null),metaKey:n.localize(7,null),separator:"+"},{ctrlKey:n.localize(8,null),shiftKey:n.localize(9,null),altKey:n.localize(10,null),metaKey:n.localize(11,null),separator:"+"}),t.ElectronAcceleratorLabelProvider=new o({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),t.UserSettingsLabelProvider=new o({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"})}),define(u[225],d([1,0,26,181,9,1176]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r.$,s=function(){function e(e,t){this.os=t,this.domNode=r.append(e,o(".htmlkb")),this.didEverRender=!1,e.appendChild(this.domNode)}return Object.defineProperty(e.prototype,"element",{get:function(){return this.domNode},enumerable:!0,configurable:!0}),e.prototype.set=function(t,n){this.didEverRender&&this.keybinding===t&&e.areSame(this.matches,n)||(this.keybinding=t,this.matches=n,this.render())},e.prototype.render=function(){if(r.clearNode(this.domNode),this.keybinding){var e=this.keybinding.getParts(),t=e[0],n=e[1];t&&this.renderPart(this.domNode,t,this.matches?this.matches.firstPart:null),n&&(r.append(this.domNode,o("span",null," ")),this.renderPart(this.domNode,n,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()}this.didEverRender=!0},e.prototype.renderPart=function(e,t,n){var r=i.UILabelProvider.modifierLabels[this.os];t.ctrlKey&&this.renderKey(e,r.ctrlKey,n&&n.ctrlKey,r.separator),t.shiftKey&&this.renderKey(e,r.shiftKey,n&&n.shiftKey,r.separator),t.altKey&&this.renderKey(e,r.altKey,n&&n.altKey,r.separator),t.metaKey&&this.renderKey(e,r.metaKey,n&&n.metaKey,r.separator);var o=t.keyLabel;o&&this.renderKey(e,o,n&&n.keyCode,"")},e.prototype.renderKey=function(e,t,n,i){r.append(e,o("span.monaco-kbkey"+(n?".highlight":""),null,t)),i&&r.append(e,o("span",null,i))},e.prototype.dispose=function(){this.keybinding=null},e.areSame=function(e,t){return e===t||!e&&!t||!!e&&!!t&&n.equals(e.firstPart,t.firstPart)&&n.equals(e.chordPart,t.chordPart)},e}();t.KeybindingLabel=s}),define(u[788],d([2,3]),function(e,t){return e.create("vs/base/common/processes",t)}),define(u[278],d([1,0,788,26,11,24,240]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.stdout=0]="stdout",e[e.stderr=1]="stderr"}(t.Source||(t.Source={}));!function(e){e[e.Success=0]="Success",e[e.Unknown=1]="Unknown",e[e.AccessDenied=2]="AccessDenied",e[e.ProcessNotFound=3]="ProcessNotFound"}(t.TerminateResponseCode||(t.TerminateResponseCode={}));var a=function(e){function t(t){return e.call(this,t)||this}return h(t,e),t.prototype.parse=function(e,i){void 0===i&&(i={globals:null,emptyCommand:!1,noDefaults:!1});var o=this.parseExecutable(e,i.globals);if(this.problemReporter.status.isFatal())return o;var a;return e.windows&&r.platform===r.Platform.Windows?a=this.parseExecutable(e.windows):e.osx&&r.platform===r.Platform.Mac?a=this.parseExecutable(e.osx):e.linux&&r.platform===r.Platform.Linux&&(a=this.parseExecutable(e.linux)),a&&(o=t.mergeExecutable(o,a)),o&&o.command||i.emptyCommand?(i.noDefaults||s.Parser.merge(o,{command:void 0,isShellCommand:!1,args:[],options:{}},!1),o):(this.fatal(n.localize(0,null)),null)},t.prototype.parseExecutable=function(e,t){var i=void 0,r=void 0,a=void 0,c=void 0;return this.is(e.command,o.isString)&&(i=e.command),this.is(e.isShellCommand,o.isBoolean,s.ValidationState.Warning,n.localize(1,null,e.isShellCommand))&&(r=e.isShellCommand),this.is(e.args,o.isStringArray,s.ValidationState.Warning,n.localize(2,null,e.isShellCommand))&&(a=e.args.slice(0)),this.is(e.options,o.isObject)&&(c=this.parseCommandOptions(e.options)),{command:i,isShellCommand:r,args:a,options:c}},t.prototype.parseCommandOptions=function(e){var t={};return e?(this.is(e.cwd,o.isString,s.ValidationState.Warning,n.localize(3,null,e.cwd))&&(t.cwd=e.cwd),o.isUndefined(e.env)||(t.env=i.clone(e.env)),t):t},t.mergeExecutable=function(e,t){return e?(s.Parser.merge(e,t,!0),e):t},t}(s.Parser);t.ExecutableParser=a}),define(u[787],d([2,3]),function(e,t){return e.create("vs/base/common/severity",t)}),define(u[36],d([1,0,787,12]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;!function(e){e[e.Ignore=0]="Ignore",e[e.Info=1]="Info",e[e.Warning=2]="Warning",e[e.Error=3]="Error"}(r||(r={})),function(e){var t="error",r="warning",o="warn",s="info",a=Object.create(null);a[e.Error]=n.localize(0,null),a[e.Warning]=n.localize(1,null),a[e.Info]=n.localize(2,null),e.fromValue=function(n){return n?i.equalsIgnoreCase(t,n)?e.Error:i.equalsIgnoreCase(r,n)||i.equalsIgnoreCase(o,n)?e.Warning:i.equalsIgnoreCase(s,n)?e.Info:e.Ignore:e.Ignore},e.toString=function(e){return a[e]||i.empty},e.compare=function(e,t){return t-e}}(r||(r={})),t.default=r}),define(u[786],d([2,3]),function(e,t){return e.create("vs/base/node/processes",t)}),define(u[198],d([1,0,52,157,784,377,786,4,24,16,26,28,11,408,278]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g){"use strict";function v(e){switch(e){case 0:return g.TerminateResponseCode.Success;case 1:return g.TerminateResponseCode.AccessDenied;case 128:return g.TerminateResponseCode.ProcessNotFound;default:return g.TerminateResponseCode.Unknown}}function m(t,n){if(p.isWindows)try{var r={stdio:["pipe","pipe","ignore"]};n&&(r.cwd=n),i.execFileSync("taskkill",["/T","/F","/PID",t.pid.toString()],r)}catch(e){return{success:!1,error:e,code:e.status?v(e.status):g.TerminateResponseCode.Unknown}}else if(p.isLinux||p.isMacintosh)try{var o=l.default.parse(e.toUrl("vs/base/node/terminateProcess.sh")).fsPath,s=i.spawnSync(o,[t.pid.toString()]);if(s.error)return{success:!1,error:s.error}}catch(e){return{success:!1,error:e}}else t.kill("SIGKILL");return{success:!0}}function y(){return process.env.comspec||"cmd.exe"}Object.defineProperty(t,"__esModule",{value:!0});var b=i.exec,S=i.spawn;t.Source=g.Source,t.TerminateResponseCode=g.TerminateResponseCode,t.terminateProcess=m,t.getWindowsShell=y;var _=function(){function e(e,t,n,i){var r=this;if(i)this.cmd=e,this.args=t,this.shell=n,this.options=i;else if(n&&t)this.module=e,this.args=t,this.shell=!1,this.options=n;else{var o=e;this.cmd=o.command,this.shell=o.isShellCommand,this.args=o.args.slice(0),this.options=o.options||{}}if(this.childProcess=null,this.terminateRequested=!1,this.options.env){var s=Object.create(null);Object.keys(process.env).forEach(function(e){s[e]=process.env[e]}),Object.keys(this.options.env).forEach(function(e){s[e]=r.options.env[e]}),this.options.env=s}}return e.prototype.getSanitizedCommand=function(){var t=this.cmd.toLowerCase(),i=t.lastIndexOf(n.sep);return-1!==i&&(t=t.substring(i+1)),e.WellKnowCommands[t]?t:"other"},e.prototype.start=function(){var e=this;return p.isWindows&&(this.options&&this.options.cwd&&d.isUNC(this.options.cwd)||!this.options&&!this.options.cwd&&d.isUNC(process.cwd()))?a.Promise.wrapError(new Error(s.localize(0,null))):this.useExec().then(function(t){var n,i,r,s=new a.PPromise(function(e,t,o){n=e,i=t,r=o});if(t){var l=e.cmd;e.args&&(l=l+" "+e.args.join(" ")),e.childProcess=b(l,e.options,function(t,o,s){e.childProcess=null;var a=t;a&&a.killed?i({killed:e.terminateRequested,stdout:o.toString(),stderr:s.toString()}):e.handleExec(n,r,t,o,s)})}else{var d=null,h=function(t){e.childProcess=null,e.childProcessPromise=null,e.handleClose(t,n,r,i);var o={terminated:e.terminateRequested};c.isNumber(t)&&(o.cmdCode=t),n(o)};if(e.shell&&p.isWindows){var f=u.clone(e.options);f.windowsVerbatimArguments=!0,f.detached=!1;var g=!1,v=!1,m=[],_=e.ensureQuotes(e.cmd);m.push(_.value),g=_.quoted,e.args&&e.args.forEach(function(t){_=e.ensureQuotes(t),m.push(_.value),v=v&&_.quoted});var E=["/s","/c"];g?v?E.push('"'+m.join(" ")+'"'):m.length>1?E.push('"'+m[0]+'" '+m.slice(1).join(" ")):E.push('"'+m[0]+'"'):E.push(m.join(" ")),d=S(y(),E,f)}else e.cmd?d=S(e.cmd,e.args,e.options):e.module&&(e.childProcessPromise=new a.TPromise(function(t,s,a){o.fork(e.module,e.args,e.options,function(o,a){if(o)return s(o),void i({terminated:e.terminateRequested,error:o});e.childProcess=a,e.childProcess.on("close",h),e.handleSpawn(a,n,r,i,!1),t(a)})}));d&&(e.childProcess=d,e.childProcessPromise=a.TPromise.as(d),d.on("error",function(t){e.childProcess=null,i({terminated:e.terminateRequested,error:t})}),d.pid&&(e.childProcess.on("close",h),e.handleSpawn(d,n,r,i,!0)))}return s})},e.prototype.handleClose=function(e,t,n,i){},e.prototype.ensureQuotes=function(t){return e.regexp.test(t)?{value:'"'+t+'"',quoted:!0}:{value:t,quoted:t.length>0&&'"'===t[0]&&'"'===t[t.length-1]}},e.prototype.isRunning=function(){return null!==this.childProcessPromise},Object.defineProperty(e.prototype,"pid",{get:function(){return this.childProcessPromise.then(function(e){return e.pid},function(e){return-1})},enumerable:!0,configurable:!0}),e.prototype.terminate=function(){var e=this;return this.childProcessPromise?this.childProcessPromise.then(function(t){e.terminateRequested=!0;var n=m(t,e.options.cwd);return n.success&&(e.childProcess=null),n},function(e){return{success:!0}}):a.TPromise.as({success:!0})},e.prototype.useExec=function(){var e=this;return new a.TPromise(function(t,n,i){e.shell&&p.isWindows||t(!1);var r=S(y(),["/s","/c"]);r.on("error",function(e){t(!0)}),r.on("exit",function(e){t(!1)})})},e}();_.WellKnowCommands={ant:!0,cmake:!0,eslint:!0,gradle:!0,grunt:!0,gulp:!0,jake:!0,jenkins:!0,jshint:!0,make:!0,maven:!0,msbuild:!0,msc:!0,nmake:!0,npm:!0,rake:!0,tsc:!0,xbuild:!0},_.regexp=/^[^"].* .*[^"]/,t.AbstractProcess=_;var E=function(e){function t(t,n,i,r){return e.call(this,t,n,i,r)||this}return h(t,e),t.prototype.handleExec=function(e,t,n,i,r){[i,r].forEach(function(e,n){var i=new f.LineDecoder;i.write(e).forEach(function(e){t({line:e,source:0===n?g.Source.stdout:g.Source.stderr})});var r=i.end();r&&t({line:r,source:0===n?g.Source.stdout:g.Source.stderr})}),e({terminated:this.terminateRequested,error:n})},t.prototype.handleSpawn=function(e,t,n,i,r){var o=this;this.stdoutLineDecoder=new f.LineDecoder,this.stderrLineDecoder=new f.LineDecoder,e.stdout.on("data",function(e){o.stdoutLineDecoder.write(e).forEach(function(e){return n({line:e,source:g.Source.stdout})})}),e.stderr.on("data",function(e){o.stderrLineDecoder.write(e).forEach(function(e){return n({line:e,source:g.Source.stderr})})})},t.prototype.handleClose=function(e,t,n,i){[this.stdoutLineDecoder.end(),this.stderrLineDecoder.end()].forEach(function(e,t){e&&n({line:e,source:0===t?g.Source.stdout:g.Source.stderr})})},t}(_);t.LineProcess=E;var C=function(e){function t(t,n,i,r){return e.call(this,t,n,i,r)||this}return h(t,e),t.prototype.handleExec=function(e,t,n,i,r){t({data:i,source:g.Source.stdout}),t({data:r,source:g.Source.stderr}),e({terminated:this.terminateRequested,error:n})},t.prototype.handleSpawn=function(e,t,n,i,r){e.stdout.on("data",function(e){n({data:e,source:g.Source.stdout})}),e.stderr.on("data",function(e){n({data:e,source:g.Source.stderr})})},t}(_);t.BufferProcess=C;var w=function(e){function t(t,n,i,r){return e.call(this,t,n,i,r)||this}return h(t,e),t.prototype.handleExec=function(e,t,n,i,o){var s=new r.PassThrough;s.end(i);var a=new r.PassThrough;a.end(o),t({stdin:null,stdout:s,stderr:a}),e({terminated:this.terminateRequested,error:n})},t.prototype.handleSpawn=function(e,t,n,i,r){r?process.nextTick(function(){n({stdin:e.stdin,stdout:e.stdout,stderr:e.stderr})}):n({stdin:e.stdin,stdout:e.stdout,stderr:e.stderr})},t}(_);t.StreamProcess=w,t.createQueuedSender=function(e){var t=[],n=!1,i=function(r){n?t.push(r):e.send(r,function(e){if(e&&console.error(e),n=!1,t.length>0){var r=t.slice(0);t=[],r.forEach(function(e){return i(e)})}})&&!p.isWindows||(n=!0)};return{send:i}}}),define(u[232],d([1,0,157,4,18,26,8,262,198,132]),function(e,t,n,i,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){function t(){var t=e.call(this,{send:function(e){try{process.send(e)}catch(e){}},onMessage:a.fromEventEmitter(process,"message",function(e){return e})})||this;return process.once("disconnect",function(){return t.dispose()}),t}return h(t,e),t}(l.ChannelServer);t.Server=u;var d=function(){function e(e,t){this.modulePath=e,this.options=t;var n=t&&t.timeout?t.timeout:6e4;this.disposeDelayer=new r.Delayer(n),this.activeRequests=[],this.child=null,this._client=null,this.channels=Object.create(null)}return e.prototype.getChannel=function(e){var t=this;return{call:function(n,i){return t.request(e,n,i)}}},e.prototype.request=function(e,t,n){var r=this;if(!this.disposeDelayer)return i.Promise.wrapError(new Error("disposed"));this.disposeDelayer.cancel();var o=(this.channels[e]||(this.channels[e]=this.client.getChannel(e))).call(t,n),s=new i.Promise(function(e,t,n){o.then(e,t,n).done(function(){r.activeRequests&&(r.activeRequests.splice(r.activeRequests.indexOf(s),1),0===r.activeRequests.length&&r.disposeDelayer.trigger(function(){return r.disposeClient()}))})},function(){return o.cancel()});return this.activeRequests.push(s),s},Object.defineProperty(e.prototype,"client",{get:function(){var e=this;if(!this._client){var t=this.options&&this.options.args?this.options.args:[],i=Object.create(null);i.env=o.assign(o.clone(process.env),{VSCODE_PARENT_PID:String(process.pid)}),this.options&&this.options.env&&(i.env=o.assign(i.env,this.options.env)),this.options&&this.options.freshExecArgv&&(i.execArgv=[]),this.options&&"number"==typeof this.options.debug&&(i.execArgv=["--nolazy","--debug="+this.options.debug]),this.options&&"number"==typeof this.options.debugBrk&&(i.execArgv=["--nolazy","--debug-brk="+this.options.debugBrk]),this.child=n.fork(this.modulePath,t,i);var r=new s.Emitter;a.fromEventEmitter(this.child,"message",function(e){return e})(function(t){if(t&&"__$console"===t.type){var n=["%c[IPC Library: "+e.options.serverName+"]","color: darkgreen"];try{var i=JSON.parse(t.arguments);n=n.concat(Object.getOwnPropertyNames(i).map(function(e){return i[e]}))}catch(e){n.push(t.arguments)}return console[t.severity].apply(console,n),null}r.fire(t)});var u=this.options.useQueue?c.createQueuedSender(this.child):this.child,d={send:function(t){return e.child&&e.child.connected&&u.send(t)},onMessage:r.event};this._client=new l.ChannelClient(d);var h=function(){return e.disposeClient()};process.once("exit",h),this.child.on("error",function(t){return console.warn('IPC "'+e.options.serverName+'" errored with '+t)}),this.child.on("exit",function(t,n){process.removeListener("exit",h),e.activeRequests&&(e.activeRequests.forEach(function(e){return e.cancel()}),e.activeRequests=[]),0!==t&&"SIGTERM"!==n&&(console.warn('IPC "'+e.options.serverName+'" crashed with exit code '+t),e.disposeDelayer.cancel(),e.disposeClient())})}return this._client},enumerable:!0,configurable:!0}),e.prototype.disposeClient=function(){this._client&&(this.child.kill(),this.child=null,this._client=null,this.channels=Object.create(null))},e.prototype.dispose=function(){this.disposeDelayer.cancel(),this.disposeDelayer=null,this.disposeClient(),this.activeRequests=null},e}();t.Client=d}),define(u[783],d([2,3]),function(e,t){return e.create("vs/base/parts/quickopen/browser/quickOpenModel",t)}),define(u[102],d([1,0,783,4,24,122,12,28,293,233,49,192,9,225,11]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var v=0,m=function(){function e(){}return e.getLabel=function(e){return e.getLabel()},e.getResourcePath=function(e){var t=e.getResource();return t&&t.fsPath},e}(),y=function(){function e(e){void 0===e&&(e=[]),this.id=(v++).toString(),this.labelHighlights=e,this.descriptionHighlights=[]}return e.prototype.getId=function(){return this.id},e.prototype.getLabel=function(){return null},e.prototype.getLabelOptions=function(){return null},e.prototype.getAriaLabel=function(){return this.getLabel()},e.prototype.getDetail=function(){return null},e.prototype.getIcon=function(){return null},e.prototype.getDescription=function(){return null},e.prototype.getKeybinding=function(){return null},e.prototype.getResource=function(){return null},e.prototype.isHidden=function(){return this.hidden},e.prototype.setHidden=function(e){this.hidden=e},e.prototype.setHighlights=function(e,t,n){this.labelHighlights=e,this.descriptionHighlights=t,this.detailHighlights=n},e.prototype.getHighlights=function(){return[this.labelHighlights,this.descriptionHighlights,this.detailHighlights]},e.prototype.run=function(e,t){return!1},e.compare=function(e,t,n){var i=e.getHighlights()[0]||[],r=t.getHighlights()[0]||[];if(i.length&&!r.length)return-1;if(!i.length&&r.length)return 1;var o=e.getLabel(),s=t.getLabel();if(o===s){var a=e.getResource(),c=t.getResource();a&&c&&(o=a.fsPath,s=c.fsPath)}return l.compareAnything(o,s,n)},e.compareByScore=function(e,t,n,i,r){return l.compareByScore(e,t,m,n,i,r)},e.highlight=function(e,t,n){void 0===n&&(n=!1);var i=[],r=[],c=s.stripWildcards(t),l=e.getLabel(),u=e.getDescription();if(e.getResource()){var d=e.getResource().fsPath;if(t.length===d.length&&t.toLowerCase()===d.toLowerCase())i.push({start:0,end:l.length}),r.push({start:0,end:u.length});else if(n||t.indexOf(a.nativeSep)>=0){var h=o.matchesFuzzy(t,l,n);if(h)i=h;else{var p=u?u+a.nativeSep:"",f=p.length,g=o.matchesFuzzy(t,p+l,n);g||t===c||(g=o.matchesFuzzy(c,p+l,n)),g&&g.forEach(function(e){e.start<f&&e.end>f?(i.push({start:0,end:e.end-f}),r.push({start:e.start,end:f})):e.start>=f?i.push({start:e.start-f,end:e.end-f}):r.push(e)})}}else i=o.matchesFuzzy(t,l)}else i=o.matchesFuzzy(t,l);return{labelHighlights:i,descriptionHighlights:r}},e.prototype.isFile=function(){return!1},e}();t.QuickOpenEntry=y;var b=function(e){function t(t,n,i){var r=e.call(this)||this;return r.entry=t,r.groupLabel=n,r.withBorder=i,r}return h(t,e),t.prototype.getGroupLabel=function(){return this.groupLabel},t.prototype.setGroupLabel=function(e){this.groupLabel=e},t.prototype.showBorder=function(){return this.withBorder},t.prototype.setShowBorder=function(e){this.withBorder=e},t.prototype.getLabel=function(){return this.entry?this.entry.getLabel():e.prototype.getLabel.call(this)},t.prototype.getLabelOptions=function(){return this.entry?this.entry.getLabelOptions():e.prototype.getLabelOptions.call(this)},t.prototype.getAriaLabel=function(){return this.entry?this.entry.getAriaLabel():e.prototype.getAriaLabel.call(this)},t.prototype.getDetail=function(){return this.entry?this.entry.getDetail():e.prototype.getDetail.call(this)},t.prototype.getResource=function(){return this.entry?this.entry.getResource():e.prototype.getResource.call(this)},t.prototype.getIcon=function(){return this.entry?this.entry.getIcon():e.prototype.getIcon.call(this)},t.prototype.getDescription=function(){return this.entry?this.entry.getDescription():e.prototype.getDescription.call(this)},t.prototype.getEntry=function(){return this.entry},t.prototype.getHighlights=function(){return this.entry?this.entry.getHighlights():e.prototype.getHighlights.call(this)},t.prototype.isHidden=function(){return this.entry?this.entry.isHidden():e.prototype.isHidden.call(this)},t.prototype.setHighlights=function(t,n,i){this.entry?this.entry.setHighlights(t,n,i):e.prototype.setHighlights.call(this,t,n,i)},t.prototype.setHidden=function(t){this.entry?this.entry.setHidden(t):e.prototype.setHidden.call(this,t)},t.prototype.run=function(t,n){return this.entry?this.entry.run(t,n):e.prototype.run.call(this,t,n)},t}(y);t.QuickOpenEntryGroup=b;var S=function(){function e(){}return e.prototype.hasActions=function(e,t){return!1},e.prototype.getActions=function(e,t){return i.TPromise.as(null)},e.prototype.hasSecondaryActions=function(e,t){return!1},e.prototype.getSecondaryActions=function(e,t){return i.TPromise.as(null)},e.prototype.getActionItem=function(e,t,n){return null},e}(),_=function(){function e(e,t){void 0===e&&(e=new S),void 0===t&&(t=null),this.actionProvider=e,this.actionRunner=t}return e.prototype.getHeight=function(e){return e.getDetail()?44:22},e.prototype.getTemplateId=function(e){return e instanceof b?"quickOpenEntryGroup":"quickOpenEntry"},e.prototype.renderTemplate=function(e,t,n){var i=document.createElement("div");p.addClass(i,"sub-content"),t.appendChild(i);var r=p.$(".row"),o=p.$(".row"),s=p.$(".quick-open-entry",null,r,o);i.appendChild(s);var a=document.createElement("span");r.appendChild(a);var l=new c.IconLabel(r,{supportHighlights:!0}),h=document.createElement("span");r.appendChild(h),p.addClass(h,"quick-open-entry-description");var v=new d.HighlightedLabel(h),m=document.createElement("span");r.appendChild(m),p.addClass(m,"quick-open-entry-keybinding");var y=new f.KeybindingLabel(m,g.OS),b=document.createElement("div");o.appendChild(b),p.addClass(b,"quick-open-entry-meta");var S,_=new d.HighlightedLabel(b);"quickOpenEntryGroup"===e&&(S=document.createElement("div"),p.addClass(S,"results-group"),t.appendChild(S)),p.addClass(t,"actions");var E=document.createElement("div");return p.addClass(E,"primary-action-bar"),t.appendChild(E),{container:t,entry:s,icon:a,label:l,detail:_,description:v,keybinding:y,group:S,actionBar:new u.ActionBar(E,{actionRunner:this.actionRunner})}},e.prototype.renderElement=function(e,t,n,i){var r=n;if(this.actionProvider.hasActions(null,e)?p.addClass(r.container,"has-actions"):p.removeClass(r.container,"has-actions"),r.actionBar.context=e,this.actionProvider.getActions(null,e).then(function(e){r.actionBar.isEmpty()&&e&&e.length>0?r.actionBar.push(e,{icon:!0,label:!1}):r.actionBar.isEmpty()||e&&0!==e.length||r.actionBar.clear()}),e instanceof b&&e.getGroupLabel()?p.addClass(r.container,"has-group-label"):p.removeClass(r.container,"has-group-label"),e instanceof b){var o=e,s=n;o.showBorder()?(p.addClass(s.container,"results-group-separator"),s.container.style.borderTopColor=i.pickerGroupBorder.toString()):(p.removeClass(s.container,"results-group-separator"),s.container.style.borderTopColor=null);var a=o.getGroupLabel()||"";s.group.textContent=a,s.group.style.color=i.pickerGroupForeground.toString()}if(e instanceof y){var c=e.getHighlights(),l=c[0],u=c[1],d=c[2],h=e.getIcon()?"quick-open-entry-icon "+e.getIcon():"";r.icon.className=h;var f=e.getLabelOptions()||Object.create(null);f.matches=l||[],r.label.setValue(e.getLabel(),null,f),r.detail.set(e.getDetail(),d),r.description.set(e.getDescription(),u||[]),r.description.element.title=e.getDescription(),r.keybinding.set(e.getKeybinding(),null)}},e.prototype.disposeTemplate=function(e,t){var n=t;n.actionBar.dispose(),n.actionBar=null,n.container=null,n.entry=null,n.description.dispose(),n.description=null,n.keybinding.dispose(),n.keybinding=null,n.detail.dispose(),n.detail=null,n.group=null,n.icon=null,n.label.dispose(),n.label=null},e}(),E=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t=new S),this._entries=e,this._dataSource=this,this._renderer=new _(t),this._filter=this,this._runner=this,this._accessibilityProvider=this}return Object.defineProperty(e.prototype,"entries",{get:function(){return this._entries},set:function(e){this._entries=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataSource",{get:function(){return this._dataSource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderer",{get:function(){return this._renderer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"runner",{get:function(){return this._runner},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"accessibilityProvider",{get:function(){return this._accessibilityProvider},enumerable:!0,configurable:!0}),e.prototype.addEntries=function(e){r.isArray(e)&&(this._entries=this._entries.concat(e))},e.prototype.setEntries=function(e){r.isArray(e)&&(this._entries=e)},e.prototype.getEntries=function(e){return e?this._entries.filter(function(e){return!e.isHidden()}):this._entries},e.prototype.getId=function(e){return e.getId()},e.prototype.getLabel=function(e){return e.getLabel()},e.prototype.getAriaLabel=function(e){return e.getAriaLabel()?n.localize(0,null,e.getAriaLabel()):n.localize(1,null)},e.prototype.isVisible=function(e){return!e.isHidden()},e.prototype.run=function(e,t,n){return e.run(t,n)},e}();t.QuickOpenModel=E}),define(u[781],d([2,3]),function(e,t){return e.create("vs/base/parts/quickopen/browser/quickOpenWidget",t)}),define(u[779],d([2,3]),function(e,t){return e.create("vs/base/parts/tree/browser/treeDefaults",t)}),define(u[121],d([1,0,779,4,21,11,7,9,60]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l;!function(e){e[e.ON_MOUSE_DOWN=0]="ON_MOUSE_DOWN",e[e.ON_MOUSE_UP=1]="ON_MOUSE_UP"}(l=t.ClickBehavior||(t.ClickBehavior={}));var u=function(){function e(){this._arr=[]}return e.prototype.set=function(e,t){this._arr.push({keybinding:c.createKeybinding(e,o.OS),callback:t})},e.prototype.dispatch=function(e){for(var t=this._arr.length-1;t>=0;t--){var n=this._arr[t];if(e.equals(n.keybinding))return n.callback}return null},e}();t.KeybindingDispatcher=u;var d=function(){function e(e){void 0===e&&(e={clickBehavior:l.ON_MOUSE_UP,keyboardSupport:!0});var t=this;this.options=e,this.downKeyBindingDispatcher=new u,this.upKeyBindingDispatcher=new u,("boolean"!=typeof e.keyboardSupport||e.keyboardSupport)&&(this.downKeyBindingDispatcher.set(16,function(e,n){return t.onUp(e,n)}),this.downKeyBindingDispatcher.set(18,function(e,n){return t.onDown(e,n)}),this.downKeyBindingDispatcher.set(15,function(e,n){return t.onLeft(e,n)}),this.downKeyBindingDispatcher.set(17,function(e,n){return t.onRight(e,n)}),o.isMacintosh&&(this.downKeyBindingDispatcher.set(2064,function(e,n){return t.onLeft(e,n)}),this.downKeyBindingDispatcher.set(300,function(e,n){return t.onDown(e,n)}),this.downKeyBindingDispatcher.set(302,function(e,n){return t.onUp(e,n)})),this.downKeyBindingDispatcher.set(11,function(e,n){return t.onPageUp(e,n)}),this.downKeyBindingDispatcher.set(12,function(e,n){return t.onPageDown(e,n)}),this.downKeyBindingDispatcher.set(14,function(e,n){return t.onHome(e,n)}),this.downKeyBindingDispatcher.set(13,function(e,n){return t.onEnd(e,n)}),this.downKeyBindingDispatcher.set(10,function(e,n){return t.onSpace(e,n)}),this.downKeyBindingDispatcher.set(9,function(e,n){return t.onEscape(e,n)}),this.upKeyBindingDispatcher.set(3,this.onEnter.bind(this)),this.upKeyBindingDispatcher.set(2051,this.onEnter.bind(this)))}return e.prototype.onMouseDown=function(e,t,n,i){if(void 0===i&&(i="mouse"),this.options.clickBehavior===l.ON_MOUSE_DOWN&&(n.leftButton||n.middleButton)){if(n.target){if(n.target.tagName&&"input"===n.target.tagName.toLowerCase())return!1;if(a.findParentWithClass(n.target,"monaco-action-bar","row"))return!1}return this.onLeftClick(e,t,n,i)}return!1},e.prototype.onClick=function(e,t,n){return o.isMacintosh&&n.ctrlKey?(n.preventDefault(),n.stopPropagation(),!1):(!n.target||!n.target.tagName||"input"!==n.target.tagName.toLowerCase())&&((this.options.clickBehavior!==l.ON_MOUSE_DOWN||!n.leftButton&&!n.middleButton)&&this.onLeftClick(e,t,n))},e.prototype.onLeftClick=function(e,t,n,i){void 0===i&&(i="mouse");var r={origin:i,originalEvent:n};return e.getInput()===t?(e.clearFocus(r),e.clearSelection(r)):(n&&n.browserEvent&&"mousedown"===n.browserEvent.type||n.preventDefault(),n.stopPropagation(),e.DOMFocus(),e.setSelection([t],r),e.setFocus(t,r),e.isExpanded(t)?e.collapse(t).done(null,s.onUnexpectedError):e.expand(t).done(null,s.onUnexpectedError)),!0},e.prototype.onContextMenu=function(e,t,n){return(!n.target||!n.target.tagName||"input"!==n.target.tagName.toLowerCase())&&(n&&(n.preventDefault(),n.stopPropagation()),!1)},e.prototype.onTap=function(e,t,n){var i=n.initialTarget;return(!i||!i.tagName||"input"!==i.tagName.toLowerCase())&&this.onLeftClick(e,t,n,"touch")},e.prototype.onKeyDown=function(e,t){return this.onKey(this.downKeyBindingDispatcher,e,t)},e.prototype.onKeyUp=function(e,t){return this.onKey(this.upKeyBindingDispatcher,e,t)},e.prototype.onKey=function(e,t,n){var i=e.dispatch(n.toKeybinding());return!(!i||!i(t,n))&&(n.preventDefault(),n.stopPropagation(),!0)},e.prototype.onUp=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(n):(e.focusPrevious(1,n),e.reveal(e.getFocus()).done(null,s.onUnexpectedError)),!0},e.prototype.onPageUp=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(n):(e.focusPreviousPage(n),e.reveal(e.getFocus()).done(null,s.onUnexpectedError)),!0},e.prototype.onDown=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(n):(e.focusNext(1,n),e.reveal(e.getFocus()).done(null,s.onUnexpectedError)),!0},e.prototype.onPageDown=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(n):(e.focusNextPage(n),e.reveal(e.getFocus()).done(null,s.onUnexpectedError)),!0},e.prototype.onHome=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(n):(e.focusFirst(n),e.reveal(e.getFocus()).done(null,s.onUnexpectedError)),!0},e.prototype.onEnd=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(n):(e.focusLast(n),e.reveal(e.getFocus()).done(null,s.onUnexpectedError)),!0},e.prototype.onLeft=function(e,t){var n={origin:"keyboard",originalEvent:t};if(e.getHighlight())e.clearHighlight(n);else{var i=e.getFocus();e.collapse(i).then(function(t){if(i&&!t)return e.focusParent(n),e.reveal(e.getFocus())}).done(null,s.onUnexpectedError)}return!0},e.prototype.onRight=function(e,t){var n={origin:"keyboard",originalEvent:t};if(e.getHighlight())e.clearHighlight(n);else{var i=e.getFocus();e.expand(i).then(function(t){if(i&&!t)return e.focusFirstChild(n),e.reveal(e.getFocus())}).done(null,s.onUnexpectedError)}return!0},e.prototype.onEnter=function(e,t){var n={origin:"keyboard",originalEvent:t};if(e.getHighlight())return!1;var i=e.getFocus();return i&&e.setSelection([i],n),!0},e.prototype.onSpace=function(e,t){if(e.getHighlight())return!1;var n=e.getFocus();return n&&e.toggleExpansion(n),!0},e.prototype.onEscape=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?(e.clearHighlight(n),!0):e.getSelection().length?(e.clearSelection(n),!0):!!e.getFocus()&&(e.clearFocus(n),!0)},e}();t.DefaultController=d;var p=function(){function e(){}return e.prototype.getDragURI=function(e,t){return null},e.prototype.onDragStart=function(e,t,n){},e.prototype.onDragOver=function(e,t,n,i){return null},e.prototype.drop=function(e,t,n,i){},e}();t.DefaultDragAndDrop=p;var f=function(){function e(){}return e.prototype.isVisible=function(e,t){return!0},e}();t.DefaultFilter=f;var g=function(){function e(){}return e.prototype.compare=function(e,t,n){return 0},e}();t.DefaultSorter=g;var v=function(){function e(){}return e.prototype.getAriaLabel=function(e,t){return null},e}();t.DefaultAccessibilityProvider=v;var m=function(e){function t(t,i){var r=e.call(this,"vs.tree.collapse",n.localize(0,null),"monaco-tree-action collapse-all",i)||this;return r.viewer=t,r}return h(t,e),t.prototype.run=function(e){return this.viewer.getHighlight()?i.TPromise.as(null):(this.viewer.collapseAll(),this.viewer.clearSelection(),this.viewer.clearFocus(),this.viewer.DOMFocus(),this.viewer.focusFirst(),i.TPromise.as(null))},t}(r.Action);t.CollapseAllAction=m}),define(u[128],d([1,0,121,81,1224,1141,187,8,5,58,26,1126]),function(e,t,n,i,r,o,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(){return function(e,t,i){if(void 0===i&&(i={}),this.tree=e,this.configuration=t,this.options=i,!t.dataSource)throw new Error("You must provide a Data Source to the tree.");this.dataSource=t.dataSource,this.renderer=t.renderer,this.controller=t.controller||new n.DefaultController({clickBehavior:n.ClickBehavior.ON_MOUSE_UP,keyboardSupport:"boolean"!=typeof i.keyboardSupport||i.keyboardSupport}),this.dnd=t.dnd||new n.DefaultDragAndDrop,this.filter=t.filter||new n.DefaultFilter,this.sorter=t.sorter||null,this.accessibilityProvider=t.accessibilityProvider||new n.DefaultAccessibilityProvider}}();t.TreeContext=d;var p={listFocusBackground:l.Color.fromHex("#073655"),listActiveSelectionBackground:l.Color.fromHex("#0E639C"),listActiveSelectionForeground:l.Color.fromHex("#FFFFFF"),listFocusAndSelectionBackground:l.Color.fromHex("#094771"),listFocusAndSelectionForeground:l.Color.fromHex("#FFFFFF"),listInactiveSelectionBackground:l.Color.fromHex("#3F3F46"),listHoverBackground:l.Color.fromHex("#2A2D2E"),listDropBackground:l.Color.fromHex("#383B3D")},f=function(e){function t(t,n,i){void 0===i&&(i={});var s=e.call(this)||this;return s.toDispose=[],s._onDispose=new a.Emitter,s._onHighlightChange=new a.Emitter,s.toDispose.push(s._onDispose,s._onHighlightChange),s.container=t,s.configuration=n,s.options=i,u.mixin(s.options,p,!1),s.options.twistiePixels="number"==typeof s.options.twistiePixels?s.options.twistiePixels:32,s.options.showTwistie=!1!==s.options.showTwistie,s.options.indentPixels="number"==typeof s.options.indentPixels?s.options.indentPixels:12,s.options.alwaysFocused=!0===s.options.alwaysFocused,s.options.useShadows=!1!==s.options.useShadows,s.options.paddingOnRow=!1!==s.options.paddingOnRow,s.context=new d(s,n,i),s.model=new r.TreeModel(s.context),s.view=new o.TreeView(s.context,s.container),s.view.setModel(s.model),s.addEmitter(s.model),s.addEmitter(s.view),s.toDispose.push(s.model.addListener("highlight",function(){return s._onHighlightChange.fire()})),s}return h(t,e),t.prototype.style=function(e){this.view.applyStyles(e)},Object.defineProperty(t.prototype,"onDOMFocus",{get:function(){return this.view&&this.view.onDOMFocus},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDOMBlur",{get:function(){return this.view&&this.view.onDOMBlur},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onHighlightChange",{get:function(){return this._onHighlightChange&&this._onHighlightChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDispose",{get:function(){return this._onDispose&&this._onDispose.event},enumerable:!0,configurable:!0}),t.prototype.getHTMLElement=function(){return this.view.getHTMLElement()},t.prototype.layout=function(e){this.view.layout(e)},t.prototype.DOMFocus=function(){this.view.focus()},t.prototype.isDOMFocused=function(){return this.view.isFocused()},t.prototype.DOMBlur=function(){this.view.blur()},t.prototype.onVisible=function(){this.view.onVisible()},t.prototype.onHidden=function(){this.view.onHidden()},t.prototype.setInput=function(e){return this.model.setInput(e)},t.prototype.getInput=function(){return this.model.getInput()},t.prototype.refresh=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!0),this.model.refresh(e,t)},t.prototype.expand=function(e){return this.model.expand(e)},t.prototype.expandAll=function(e){return this.model.expandAll(e)},t.prototype.collapse=function(e,t){return void 0===t&&(t=!1),this.model.collapse(e,t)},t.prototype.collapseAll=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.model.collapseAll(e,t)},t.prototype.toggleExpansion=function(e){return this.model.toggleExpansion(e)},t.prototype.toggleExpansionAll=function(e){return this.model.toggleExpansionAll(e)},t.prototype.isExpanded=function(e){return this.model.isExpanded(e)},t.prototype.getExpandedElements=function(){return this.model.getExpandedElements()},t.prototype.reveal=function(e,t){return void 0===t&&(t=null),this.model.reveal(e,t)},t.prototype.getRelativeTop=function(e){var t=this.model.getItem(e);return this.view.getRelativeTop(t)},t.prototype.getScrollPosition=function(){return this.view.getScrollPosition()},t.prototype.setScrollPosition=function(e){this.view.setScrollPosition(e)},t.prototype.getContentHeight=function(){return this.view.getTotalHeight()},t.prototype.setHighlight=function(e,t){this.model.setHighlight(e,t)},t.prototype.getHighlight=function(){return this.model.getHighlight()},t.prototype.isHighlighted=function(e){return this.model.isFocused(e)},t.prototype.clearHighlight=function(e){this.model.setHighlight(null,e)},t.prototype.select=function(e,t){this.model.select(e,t)},t.prototype.selectRange=function(e,t,n){this.model.selectRange(e,t,n)},t.prototype.deselectRange=function(e,t,n){this.model.deselectRange(e,t,n)},t.prototype.selectAll=function(e,t){this.model.selectAll(e,t)},t.prototype.deselect=function(e,t){this.model.deselect(e,t)},t.prototype.deselectAll=function(e,t){this.model.deselectAll(e,t)},t.prototype.setSelection=function(e,t){this.model.setSelection(e,t)},t.prototype.toggleSelection=function(e,t){this.model.toggleSelection(e,t)},t.prototype.isSelected=function(e){return this.model.isSelected(e)},t.prototype.getSelection=function(){return this.model.getSelection()},t.prototype.clearSelection=function(e){this.model.setSelection([],e)},t.prototype.selectNext=function(e,t,n){this.model.selectNext(e,t,n)},t.prototype.selectPrevious=function(e,t,n){this.model.selectPrevious(e,t,n)},t.prototype.selectParent=function(e,t){this.model.selectParent(e,t)},t.prototype.setFocus=function(e,t){this.model.setFocus(e,t)},t.prototype.isFocused=function(e){return this.model.isFocused(e)},t.prototype.getFocus=function(){return this.model.getFocus()},t.prototype.focusNext=function(e,t){this.model.focusNext(e,t)},t.prototype.focusPrevious=function(e,t){this.model.focusPrevious(e,t)},t.prototype.focusParent=function(e){this.model.focusParent(e)},t.prototype.focusFirstChild=function(e){this.model.focusFirstChild(e)},t.prototype.focusFirst=function(e,t){this.model.focusFirst(e,t)},t.prototype.focusNth=function(e,t){this.model.focusNth(e,t)},t.prototype.focusLast=function(e,t){this.model.focusLast(e,t)},t.prototype.focusNextPage=function(e){this.view.focusNextPage(e)},t.prototype.focusPreviousPage=function(e){this.view.focusPreviousPage(e)},t.prototype.clearFocus=function(e){this.model.setFocus(null,e)},t.prototype.addTraits=function(e,t){this.model.addTraits(e,t)},t.prototype.removeTraits=function(e,t){this.model.removeTraits(e,t)},t.prototype.toggleTrait=function(e,t){this.model.hasTrait(e,t)?this.model.removeTraits(e,[t]):this.model.addTraits(e,[t])},t.prototype.hasTrait=function(e,t){return this.model.hasTrait(e,t)},t.prototype.getNavigator=function(e,t){return new s.MappedNavigator(this.model.getNavigator(e,t),function(e){return e&&e.getElement()})},t.prototype.dispose=function(){this._onDispose.fire(),null!==this.model&&(this.model.dispose(),this.model=null),null!==this.view&&(this.view.dispose(),this.view=null),this.toDispose=c.dispose(this.toDispose),e.prototype.dispose.call(this)},t}(i.EventEmitter);t.Tree=f}),define(u[778],d([1,0,781,4,11,140,24,7,115,1234,40,110,36,128,294,89,121,9,5,113,58,26,1127]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,v,m,y,b,S,_,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.onContextMenu=function(t,n,i){return r.isMacintosh?this.onLeftClick(t,n,i):e.prototype.onContextMenu.call(this,t,n,i)},t}(m.DefaultController);t.QuickOpenController=C;var w;!function(e){e[e.ELEMENT_SELECTED=0]="ELEMENT_SELECTED",e[e.FOCUS_LOST=1]="FOCUS_LOST",e[e.CANCELED=2]="CANCELED"}(w=t.HideReason||(t.HideReason={}));var I={background:_.Color.fromHex("#1E1E1E"),foreground:_.Color.fromHex("#CCCCCC"),pickerGroupForeground:_.Color.fromHex("#0097FB"),pickerGroupBorder:_.Color.fromHex("#3F3F46"),widgetShadow:_.Color.fromHex("#000000"),progressBarBackground:_.Color.fromHex("#0E70C0")},T=n.localize(0,null),k=function(){function e(e,t,n,i){this.isDisposed=!1,this.toUnbind=[],this.container=e,this.callbacks=t,this.options=n,this.styles=n||Object.create(null),E.mixin(this.styles,I,!1),this.usageLogger=i,this.model=null}return e.prototype.getElement=function(){return u.$(this.builder)},e.prototype.getModel=function(){return this.model},e.prototype.setCallbacks=function(e){this.callbacks=e},e.prototype.create=function(){var e=this;return this.builder=u.$().div(function(t){t.on(y.EventType.KEY_DOWN,function(t){9===new v.StandardKeyboardEvent(t).keyCode&&(y.EventHelper.stop(t,!0),e.hide(w.CANCELED))}).on(y.EventType.CONTEXT_MENU,function(e){return y.EventHelper.stop(e,!0)}).on(y.EventType.FOCUS,function(t){return e.gainingFocus()},null,!0).on(y.EventType.BLUR,function(t){return e.loosingFocus(t)},null,!0),e.progressBar=new g.ProgressBar(t.clone(),{progressBarBackground:e.styles.progressBarBackground}),e.progressBar.getContainer().hide(),t.div({class:"quick-open-input"},function(t){e.inputContainer=t,e.inputBox=new d.InputBox(t.getHTMLElement(),null,{placeholder:e.options.inputPlaceHolder||"",ariaLabel:T,inputBackground:e.styles.inputBackground,inputForeground:e.styles.inputForeground,inputBorder:e.styles.inputBorder,inputValidationInfoBackground:e.styles.inputValidationInfoBackground,inputValidationInfoBorder:e.styles.inputValidationInfoBorder,inputValidationWarningBackground:e.styles.inputValidationWarningBackground,inputValidationWarningBorder:e.styles.inputValidationWarningBorder,inputValidationErrorBackground:e.styles.inputValidationErrorBackground,inputValidationErrorBorder:e.styles.inputValidationErrorBorder}),e.inputElement=e.inputBox.inputElement,e.inputElement.setAttribute("role","combobox"),e.inputElement.setAttribute("aria-haspopup","false"),e.inputElement.setAttribute("aria-autocomplete","list"),y.addDisposableListener(e.inputBox.inputElement,y.EventType.KEY_DOWN,function(t){var n=new v.StandardKeyboardEvent(t),i=e.shouldOpenInBackground(n);if(2!==n.keyCode)if(18===n.keyCode||16===n.keyCode||12===n.keyCode||11===n.keyCode)y.EventHelper.stop(t,!0),e.navigateInTree(n.keyCode,n.shiftKey),e.inputBox.inputElement.selectionStart===e.inputBox.inputElement.selectionEnd&&(e.inputBox.inputElement.selectionStart=e.inputBox.value.length);else if(3===n.keyCode||i){y.EventHelper.stop(t,!0);var r=e.tree.getFocus();r&&e.elementSelected(r,t,i?c.Mode.OPEN_IN_BACKGROUND:c.Mode.OPEN)}}),y.addDisposableListener(e.inputBox.inputElement,y.EventType.INPUT,function(t){e.onType()})}),e.treeContainer=t.div({class:"quick-open-tree"},function(t){e.tree=new f.Tree(t.getHTMLElement(),{dataSource:new l.DataSource(e),controller:new C({clickBehavior:m.ClickBehavior.ON_MOUSE_UP,keyboardSupport:e.options.keyboardSupport}),renderer:e.renderer=new l.Renderer(e,e.styles),filter:new l.Filter(e),accessibilityProvider:new l.AccessibilityProvider(e)},{twistiePixels:11,indentPixels:0,alwaysFocused:!0,verticalScrollMode:S.ScrollbarVisibility.Visible,ariaLabel:n.localize(1,null),keyboardSupport:e.options.keyboardSupport}),e.treeElement=e.tree.getHTMLElement(),e.toUnbind.push(e.tree.addListener(o.EventType.FOCUS,function(t){e.elementFocused(t.focus,t)})),e.toUnbind.push(e.tree.addListener(o.EventType.SELECTION,function(t){t.selection&&t.selection.length>0&&e.elementSelected(t.selection[0],t)}))}).on(y.EventType.KEY_DOWN,function(t){var n=new v.StandardKeyboardEvent(t);e.quickNavigateConfiguration&&(18!==n.keyCode&&16!==n.keyCode&&12!==n.keyCode&&11!==n.keyCode||(y.EventHelper.stop(t,!0),e.navigateInTree(n.keyCode)))}).on(y.EventType.KEY_UP,function(t){var n=new v.StandardKeyboardEvent(t),i=n.keyCode;if(e.quickNavigateConfiguration){var r=e.quickNavigateConfiguration.keybindings;if(3===i||r.some(function(e){var t=e.getParts(),r=t[0];return!t[1]&&(r.shiftKey&&4===i?!(n.ctrlKey||n.altKey||n.metaKey):!(!r.altKey||6!==i)||(!(!r.ctrlKey||5!==i)||!(!r.metaKey||57!==i)))})){var o=e.tree.getFocus();o&&e.elementSelected(o,t)}}}).clone()}).addClass("quick-open-widget").build(this.container),this.layoutDimensions&&this.layout(this.layoutDimensions),this.applyStyles(),this.builder.getHTMLElement()},e.prototype.style=function(e){this.styles=e,this.applyStyles()},e.prototype.applyStyles=function(){if(this.builder){var e=this.styles.foreground?this.styles.foreground.toString():null,t=this.styles.background?this.styles.background.toString():null,n=this.styles.borderColor?this.styles.borderColor.toString():null,i=this.styles.widgetShadow?this.styles.widgetShadow.toString():null;this.builder.style("color",e),this.builder.style("background-color",t),this.builder.style("border-color",n),this.builder.style("border-width",n?"1px":null),this.builder.style("border-style",n?"solid":null),this.builder.style("box-shadow",i?"0 5px 8px "+i:null)}this.progressBar&&this.progressBar.style({progressBarBackground:this.styles.progressBarBackground}),this.inputBox&&this.inputBox.style({inputBackground:this.styles.inputBackground,inputForeground:this.styles.inputForeground,inputBorder:this.styles.inputBorder,inputValidationInfoBackground:this.styles.inputValidationInfoBackground,inputValidationInfoBorder:this.styles.inputValidationInfoBorder,inputValidationWarningBackground:this.styles.inputValidationWarningBackground,inputValidationWarningBorder:this.styles.inputValidationWarningBorder,inputValidationErrorBackground:this.styles.inputValidationErrorBackground,inputValidationErrorBorder:this.styles.inputValidationErrorBorder}),this.tree&&this.tree.style(this.styles),this.renderer&&this.renderer.updateStyles(this.styles)},e.prototype.shouldOpenInBackground=function(e){return 17===e.keyCode&&(!(e.metaKey||e.ctrlKey||e.shiftKey||e.altKey)&&this.inputBox.inputElement.selectionEnd===this.inputBox.value.length)},e.prototype.onType=function(){var e=this.inputBox.value;this.helpText&&(e?this.helpText.hide():this.helpText.show()),this.callbacks.onType(e)},e.prototype.navigate=function(e,t){this.isVisible()&&(!this.quickNavigateConfiguration&&t&&(this.quickNavigateConfiguration=t,this.tree.DOMFocus()),this.navigateInTree(e?18:16))},e.prototype.navigateInTree=function(e,t){var n=this.tree.getInput(),i=n?n.entries:[],r=this.tree.getFocus();switch(e){case 18:this.tree.focusNext();break;case 16:this.tree.focusPrevious();break;case 12:this.tree.focusNextPage();break;case 11:this.tree.focusPreviousPage();break;case 2:t?this.tree.focusPrevious():this.tree.focusNext()}var o=this.tree.getFocus();i.length>1&&r===o&&(16===e||2===e&&t?this.tree.focusLast():(18===e||2===e&&!t)&&this.tree.focusFirst()),(o=this.tree.getFocus())&&this.tree.reveal(o).done(null,a.onUnexpectedError)},e.prototype.elementFocused=function(e,t){if(e&&this.isVisible()){this.inputElement.setAttribute("aria-activedescendant",this.treeElement.getAttribute("aria-activedescendant"));var n={event:t,keymods:this.extractKeyMods(t),quickNavigateConfiguration:this.quickNavigateConfiguration};this.model.runner.run(e,c.Mode.PREVIEW,n)}},e.prototype.elementSelected=function(e,t,n){var i=!0;if(this.isVisible()){var r=n||c.Mode.OPEN,o={event:t,keymods:this.extractKeyMods(t),quickNavigateConfiguration:this.quickNavigateConfiguration};i=this.model.runner.run(e,r,o)}if(this.usageLogger){var s=this.model.entries.indexOf(e),a=this.model.entries.length;this.usageLogger.publicLog("quickOpenWidgetItemAccepted",{index:s,count:a,isQuickNavigate:!!this.quickNavigateConfiguration})}i&&this.hide(w.ELEMENT_SELECTED)},e.prototype.extractKeyMods=function(e){return e&&(e.ctrlKey||e.metaKey||e.payload&&e.payload.originalEvent&&(e.payload.originalEvent.ctrlKey||e.payload.originalEvent.metaKey))?[2048]:[]},e.prototype.show=function(e,t){this.visible=!0,this.isLoosingFocus=!1,this.quickNavigateConfiguration=t?t.quickNavigateConfiguration:void 0,this.quickNavigateConfiguration?(this.inputContainer.hide(),this.builder.show(),this.tree.DOMFocus()):(this.inputContainer.show(),this.builder.show(),this.inputBox.focus()),this.helpText&&(this.quickNavigateConfiguration||s.isString(e)?this.helpText.hide():this.helpText.show()),s.isString(e)?this.doShowWithPrefix(e):this.doShowWithInput(e,t&&t.autoFocus?t.autoFocus:{}),t&&t.inputSelection&&!this.quickNavigateConfiguration&&this.inputBox.select(t.inputSelection),this.callbacks.onShow&&this.callbacks.onShow()},e.prototype.doShowWithPrefix=function(e){this.inputBox.value=e,this.callbacks.onType(e)},e.prototype.doShowWithInput=function(e,t){this.setInput(e,t)},e.prototype.setInputAndLayout=function(e,t){var n=this;this.treeContainer.style({height:this.getHeight(e)+"px"}),this.tree.setInput(null).then(function(){return n.model=e,n.inputElement.setAttribute("aria-haspopup",String(e&&e.entries&&e.entries.length>0)),n.tree.setInput(e)}).done(function(){n.tree.layout(),e&&e.entries.some(function(t){return n.isElementVisible(e,t)})&&n.autoFocus(e,t)},a.onUnexpectedError)},e.prototype.isElementVisible=function(e,t){return!e.filter||e.filter.isVisible(t)},e.prototype.autoFocus=function(e,t){var n=this;void 0===t&&(t={});var i=e.entries.filter(function(t){return n.isElementVisible(e,t)});if(t.autoFocusPrefixMatch){for(var r=void 0,o=void 0,s=t.autoFocusPrefixMatch,c=s.toLowerCase(),l=0;l<i.length;l++){var u=i[l],d=e.dataSource.getLabel(u);if(r||0!==d.indexOf(s)?o||0!==d.toLowerCase().indexOf(c)||(o=u):r=u,r&&o)break}var h=r||o;if(h)return this.tree.setFocus(h),void this.tree.reveal(h,.5).done(null,a.onUnexpectedError)}t.autoFocusFirstEntry?(this.tree.focusFirst(),this.tree.reveal(this.tree.getFocus()).done(null,a.onUnexpectedError)):"number"==typeof t.autoFocusIndex?i.length>t.autoFocusIndex&&(this.tree.focusNth(t.autoFocusIndex),this.tree.reveal(this.tree.getFocus()).done(null,a.onUnexpectedError)):t.autoFocusSecondEntry?i.length>1&&this.tree.focusNth(1):t.autoFocusLastEntry&&i.length>1&&this.tree.focusLast()},e.prototype.refresh=function(e,t){var n=this;this.isVisible()&&(this.treeContainer.style({height:this.getHeight(e)+"px"}),this.tree.refresh().done(function(){n.tree.layout(),t&&e&&e.entries.some(function(t){return n.isElementVisible(e,t)})&&n.autoFocus(e,t)},a.onUnexpectedError))},e.prototype.getHeight=function(t){var n=this,i=t.renderer;if(!t){var r=i.getHeight(null);return this.options.minItemsToShow?this.options.minItemsToShow*r:0}var o,s=0;this.layoutDimensions&&this.layoutDimensions.height&&(o=.4*(this.layoutDimensions.height-50)),(!o||o>e.MAX_ITEMS_HEIGHT)&&(o=e.MAX_ITEMS_HEIGHT);for(var a=t.entries.filter(function(e){return n.isElementVisible(t,e)}),c=this.options.maxItemsToShow||a.length,l=0;l<c&&l<a.length;l++){var u=i.getHeight(a[l]);if(!(s+u<=o))break;s+=u}return s},e.prototype.hide=function(e){var t=this;if(this.isVisible()){if(this.visible=!1,this.builder.hide(),this.builder.domBlur(),e===w.CANCELED&&this.model){var n=this.model.entries.filter(function(e){return t.isElementVisible(t.model,e)}).length;this.usageLogger&&this.usageLogger.publicLog("quickOpenWidgetCancelled",{count:n,isQuickNavigate:!!this.quickNavigateConfiguration})}this.inputBox.value="",this.tree.setInput(null),this.inputElement.setAttribute("aria-haspopup","false"),this.treeContainer.style({height:(this.options.minItemsToShow?22*this.options.minItemsToShow:0)+"px"}),this.progressBar.stop().getContainer().hide(),this.tree.isDOMFocused()?this.tree.DOMBlur():this.inputBox.hasFocus()&&this.inputBox.blur(),e===w.ELEMENT_SELECTED?this.callbacks.onOk():this.callbacks.onCancel(),this.callbacks.onHide&&this.callbacks.onHide(e)}},e.prototype.getQuickNavigateConfiguration=function(){return this.quickNavigateConfiguration},e.prototype.setPlaceHolder=function(e){this.inputBox&&this.inputBox.setPlaceHolder(e)},e.prototype.setValue=function(e,t){if(this.inputBox)if(this.inputBox.value=e,Array.isArray(t)){var n=t[0],i=t[1];this.inputBox.select({start:n,end:i})}else this.inputBox.select()},e.prototype.setPassword=function(e){this.inputBox&&(this.inputBox.inputElement.type=e?"password":"text")},e.prototype.setInput=function(e,t,n){this.isVisible()&&(this.getInput()&&this.onInputChanging(),this.setInputAndLayout(e,t),this.inputBox&&this.inputBox.setAriaLabel(n||T))},e.prototype.onInputChanging=function(){var e=this;this.inputChangingTimeoutHandle&&(clearTimeout(this.inputChangingTimeoutHandle),this.inputChangingTimeoutHandle=null),this.builder.addClass("content-changing"),this.inputChangingTimeoutHandle=setTimeout(function(){e.builder.removeClass("content-changing")},500)},e.prototype.getInput=function(){return this.tree.getInput()},e.prototype.getTree=function(){return this.tree},e.prototype.showInputDecoration=function(e){this.inputBox&&this.inputBox.showMessage({type:e===p.default.Info?d.MessageType.INFO:e===p.default.Warning?d.MessageType.WARNING:d.MessageType.ERROR,content:""})},e.prototype.clearInputDecoration=function(){this.inputBox&&this.inputBox.hideMessage()},e.prototype.focus=function(){this.isVisible()&&this.inputBox&&this.inputBox.focus()},e.prototype.accept=function(){if(this.isVisible()){var e=this.tree.getFocus();e&&this.elementSelected(e)}},e.prototype.getProgressBar=function(){return this.progressBar},e.prototype.getInputBox=function(){return this.inputBox},e.prototype.setExtraClass=function(e){var t=this.builder.getProperty("extra-class");t&&this.builder.removeClass(t),e?(this.builder.addClass(e),this.builder.setProperty("extra-class",e)):t&&this.builder.removeProperty("extra-class")},e.prototype.isVisible=function(){return this.visible},e.prototype.layout=function(t){this.layoutDimensions=t;var n=Math.min(.62*this.layoutDimensions.width,e.MAX_WIDTH);this.builder&&(this.builder.style({width:n+"px",marginLeft:"-"+n/2+"px"}),this.inputContainer.style({width:n-12+"px"}))},e.prototype.gainingFocus=function(){this.isLoosingFocus=!1},e.prototype.loosingFocus=function(e){var t=this;if(this.isVisible()){var n=e.relatedTarget;!this.quickNavigateConfiguration&&y.isAncestor(n,this.builder.getHTMLElement())||(this.isLoosingFocus=!0,i.TPromise.timeout(0).then(function(){t.isLoosingFocus&&(t.isDisposed||t.callbacks.onFocusLost&&t.callbacks.onFocusLost()||t.hide(w.FOCUS_LOST))}))}},e.prototype.dispose=function(){this.isDisposed=!0,this.toUnbind=b.dispose(this.toUnbind),this.progressBar.dispose(),this.inputBox.dispose(),this.tree.dispose()},e}();k.MAX_WIDTH=600,k.MAX_ITEMS_HEIGHT=440,t.QuickOpenWidget=k}),define(u[776],d([2,3]),function(e,t){return e.create("vs/editor/browser/widget/diffReview",t)}),define(u[774],d([2,3]),function(e,t){return e.create("vs/editor/common/config/commonEditorConfig",t)}),define(u[773],d([2,3]),function(e,t){return e.create("vs/editor/common/config/editorOptions",t)}),define(u[124],d([1,0,773,11,113,188]),function(e,t,n,i,r,o){"use strict";function s(e,t){return"string"!=typeof e?t:"line"===e?b.Line:"block"===e?b.Block:"underline"===e?b.Underline:"line-thin"===e?b.LineThin:"block-outline"===e?b.BlockOutline:"underline-thin"===e?b.UnderlineThin:b.Line}function a(e,t){return void 0===e?t:"false"!==e&&Boolean(e)}function c(e,t){return"string"!=typeof e?t:e}function l(e,t,n){return"string"!=typeof e?t:-1===n.indexOf(e)?t:e}function u(e,t,n,i){var r;return void 0===e?r=t:(r=parseInt(e,10),isNaN(r)&&(r=t)),r=Math.max(n,r),0|(r=Math.min(i,r))}function d(e,t){var n=parseFloat(e);return isNaN(n)&&(n=t),n}function h(e,t){return"string"!=typeof e?t:"indent"===e?v.Indent:"same"===e?v.Same:v.None}function p(e,t){if("string"!=typeof e)return t;switch(e){case"blink":return y.Blink;case"smooth":return y.Smooth;case"phase":return y.Phase;case"expand":return y.Expand;case"visible":case"solid":return y.Solid}return y.Blink}function f(e,t){if("string"!=typeof e)return t;switch(e){case"hidden":return r.ScrollbarVisibility.Hidden;case"visible":return r.ScrollbarVisibility.Visible;default:return r.ScrollbarVisibility.Auto}}Object.defineProperty(t,"__esModule",{value:!0});var g;!function(e){e[e.None=0]="None",e[e.Small=1]="Small",e[e.Large=2]="Large",e[e.SmallBlocks=3]="SmallBlocks",e[e.LargeBlocks=4]="LargeBlocks"}(g=t.RenderMinimap||(t.RenderMinimap={}));var v;!function(e){e[e.None=0]="None",e[e.Same=1]="Same",e[e.Indent=2]="Indent"}(v=t.WrappingIndent||(t.WrappingIndent={}));var y;!function(e){e[e.Hidden=0]="Hidden",e[e.Blink=1]="Blink",e[e.Smooth=2]="Smooth",e[e.Phase=3]="Phase",e[e.Expand=4]="Expand",e[e.Solid=5]="Solid"}(y=t.TextEditorCursorBlinkingStyle||(t.TextEditorCursorBlinkingStyle={})),t.blinkingStyleToString=function(e){if(e===y.Blink)return"blink";if(e===y.Expand)return"expand";if(e===y.Phase)return"phase";if(e===y.Smooth)return"smooth";if(e===y.Solid)return"solid";throw new Error("blinkingStyleToString: Unknown blinkingStyle")};var b;!function(e){e[e.Line=1]="Line",e[e.Block=2]="Block",e[e.Underline=3]="Underline",e[e.LineThin=4]="LineThin",e[e.BlockOutline=5]="BlockOutline",e[e.UnderlineThin=6]="UnderlineThin"}(b=t.TextEditorCursorStyle||(t.TextEditorCursorStyle={})),t.cursorStyleToString=function(e){if(e===b.Line)return"line";if(e===b.Block)return"block";if(e===b.Underline)return"underline";if(e===b.LineThin)return"line-thin";if(e===b.BlockOutline)return"block-outline";if(e===b.UnderlineThin)return"underline-thin";throw new Error("cursorStyleToString: Unknown cursorStyle")};var S=function(){function e(e){this.canUseLayerHinting=e.canUseLayerHinting,this.pixelRatio=e.pixelRatio,this.editorClassName=e.editorClassName,this.lineHeight=0|e.lineHeight,this.readOnly=e.readOnly,this.accessibilitySupport=e.accessibilitySupport,this.multiCursorModifier=e.multiCursorModifier,this.wordSeparators=e.wordSeparators,this.autoClosingBrackets=e.autoClosingBrackets,this.autoIndent=e.autoIndent,this.useTabStops=e.useTabStops,this.tabFocusMode=e.tabFocusMode,this.dragAndDrop=e.dragAndDrop,this.emptySelectionClipboard=e.emptySelectionClipboard,this.layoutInfo=e.layoutInfo,this.fontInfo=e.fontInfo,this.viewInfo=e.viewInfo,this.wrappingInfo=e.wrappingInfo,this.contribInfo=e.contribInfo}return e.prototype.equals=function(t){return this.canUseLayerHinting===t.canUseLayerHinting&&this.pixelRatio===t.pixelRatio&&this.editorClassName===t.editorClassName&&this.lineHeight===t.lineHeight&&this.readOnly===t.readOnly&&this.accessibilitySupport===t.accessibilitySupport&&this.multiCursorModifier===t.multiCursorModifier&&this.wordSeparators===t.wordSeparators&&this.autoClosingBrackets===t.autoClosingBrackets&&this.autoIndent===t.autoIndent&&this.useTabStops===t.useTabStops&&this.tabFocusMode===t.tabFocusMode&&this.dragAndDrop===t.dragAndDrop&&this.emptySelectionClipboard===t.emptySelectionClipboard&&e._equalsLayoutInfo(this.layoutInfo,t.layoutInfo)&&this.fontInfo.equals(t.fontInfo)&&e._equalsViewOptions(this.viewInfo,t.viewInfo)&&e._equalsWrappingInfo(this.wrappingInfo,t.wrappingInfo)&&e._equalsContribOptions(this.contribInfo,t.contribInfo)},e.prototype.createChangeEvent=function(t){return{canUseLayerHinting:this.canUseLayerHinting!==t.canUseLayerHinting,pixelRatio:this.pixelRatio!==t.pixelRatio,editorClassName:this.editorClassName!==t.editorClassName,lineHeight:this.lineHeight!==t.lineHeight,readOnly:this.readOnly!==t.readOnly,accessibilitySupport:this.accessibilitySupport!==t.accessibilitySupport,multiCursorModifier:this.multiCursorModifier!==t.multiCursorModifier,wordSeparators:this.wordSeparators!==t.wordSeparators,autoClosingBrackets:this.autoClosingBrackets!==t.autoClosingBrackets,autoIndent:this.autoIndent!==t.autoIndent,useTabStops:this.useTabStops!==t.useTabStops,tabFocusMode:this.tabFocusMode!==t.tabFocusMode,dragAndDrop:this.dragAndDrop!==t.dragAndDrop,emptySelectionClipboard:this.emptySelectionClipboard!==t.emptySelectionClipboard,layoutInfo:!e._equalsLayoutInfo(this.layoutInfo,t.layoutInfo),fontInfo:!this.fontInfo.equals(t.fontInfo),viewInfo:!e._equalsViewOptions(this.viewInfo,t.viewInfo),wrappingInfo:!e._equalsWrappingInfo(this.wrappingInfo,t.wrappingInfo),contribInfo:!e._equalsContribOptions(this.contribInfo,t.contribInfo)}},e._equalsLayoutInfo=function(e,t){return e.width===t.width&&e.height===t.height&&e.glyphMarginLeft===t.glyphMarginLeft&&e.glyphMarginWidth===t.glyphMarginWidth&&e.glyphMarginHeight===t.glyphMarginHeight&&e.lineNumbersLeft===t.lineNumbersLeft&&e.lineNumbersWidth===t.lineNumbersWidth&&e.lineNumbersHeight===t.lineNumbersHeight&&e.decorationsLeft===t.decorationsLeft&&e.decorationsWidth===t.decorationsWidth&&e.decorationsHeight===t.decorationsHeight&&e.contentLeft===t.contentLeft&&e.contentWidth===t.contentWidth&&e.contentHeight===t.contentHeight&&e.renderMinimap===t.renderMinimap&&e.minimapWidth===t.minimapWidth&&e.viewportColumn===t.viewportColumn&&e.verticalScrollbarWidth===t.verticalScrollbarWidth&&e.horizontalScrollbarHeight===t.horizontalScrollbarHeight&&this._equalsOverviewRuler(e.overviewRuler,t.overviewRuler)},e._equalsOverviewRuler=function(e,t){return e.width===t.width&&e.height===t.height&&e.top===t.top&&e.right===t.right},e._equalsViewOptions=function(e,t){return e.extraEditorClassName===t.extraEditorClassName&&e.disableMonospaceOptimizations===t.disableMonospaceOptimizations&&this._equalsNumberArrays(e.rulers,t.rulers)&&e.ariaLabel===t.ariaLabel&&e.renderLineNumbers===t.renderLineNumbers&&e.renderCustomLineNumbers===t.renderCustomLineNumbers&&e.renderRelativeLineNumbers===t.renderRelativeLineNumbers&&e.selectOnLineNumbers===t.selectOnLineNumbers&&e.glyphMargin===t.glyphMargin&&e.revealHorizontalRightPadding===t.revealHorizontalRightPadding&&e.roundedSelection===t.roundedSelection&&e.overviewRulerLanes===t.overviewRulerLanes&&e.overviewRulerBorder===t.overviewRulerBorder&&e.cursorBlinking===t.cursorBlinking&&e.mouseWheelZoom===t.mouseWheelZoom&&e.cursorStyle===t.cursorStyle&&e.hideCursorInOverviewRuler===t.hideCursorInOverviewRuler&&e.scrollBeyondLastLine===t.scrollBeyondLastLine&&e.stopRenderingLineAfter===t.stopRenderingLineAfter&&e.renderWhitespace===t.renderWhitespace&&e.renderControlCharacters===t.renderControlCharacters&&e.fontLigatures===t.fontLigatures&&e.renderIndentGuides===t.renderIndentGuides&&e.renderLineHighlight===t.renderLineHighlight&&this._equalsScrollbarOptions(e.scrollbar,t.scrollbar)&&this._equalsMinimapOptions(e.minimap,t.minimap)&&e.fixedOverflowWidgets===t.fixedOverflowWidgets},e._equalsScrollbarOptions=function(e,t){return e.arrowSize===t.arrowSize&&e.vertical===t.vertical&&e.horizontal===t.horizontal&&e.useShadows===t.useShadows&&e.verticalHasArrows===t.verticalHasArrows&&e.horizontalHasArrows===t.horizontalHasArrows&&e.handleMouseWheel===t.handleMouseWheel&&e.horizontalScrollbarSize===t.horizontalScrollbarSize&&e.horizontalSliderSize===t.horizontalSliderSize&&e.verticalScrollbarSize===t.verticalScrollbarSize&&e.verticalSliderSize===t.verticalSliderSize&&e.mouseWheelScrollSensitivity===t.mouseWheelScrollSensitivity},e._equalsMinimapOptions=function(e,t){return e.enabled===t.enabled&&e.showSlider===t.showSlider&&e.renderCharacters===t.renderCharacters&&e.maxColumn===t.maxColumn},e._equalsNumberArrays=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},e._equalFindOptions=function(e,t){return e.seedSearchStringFromSelection===t.seedSearchStringFromSelection&&e.autoFindInSelection===t.autoFindInSelection},e._equalsWrappingInfo=function(e,t){return e.inDiffEditor===t.inDiffEditor&&e.isDominatedByLongLines===t.isDominatedByLongLines&&e.isWordWrapMinified===t.isWordWrapMinified&&e.isViewportWrapping===t.isViewportWrapping&&e.wrappingColumn===t.wrappingColumn&&e.wrappingIndent===t.wrappingIndent&&e.wordWrapBreakBeforeCharacters===t.wordWrapBreakBeforeCharacters&&e.wordWrapBreakAfterCharacters===t.wordWrapBreakAfterCharacters&&e.wordWrapBreakObtrusiveCharacters===t.wordWrapBreakObtrusiveCharacters},e._equalsContribOptions=function(t,n){return t.selectionClipboard===n.selectionClipboard&&t.hover===n.hover&&t.links===n.links&&t.contextmenu===n.contextmenu&&e._equalsQuickSuggestions(t.quickSuggestions,n.quickSuggestions)&&t.quickSuggestionsDelay===n.quickSuggestionsDelay&&t.parameterHints===n.parameterHints&&t.iconsInSuggestions===n.iconsInSuggestions&&t.formatOnType===n.formatOnType&&t.formatOnPaste===n.formatOnPaste&&t.suggestOnTriggerCharacters===n.suggestOnTriggerCharacters&&t.acceptSuggestionOnEnter===n.acceptSuggestionOnEnter&&t.acceptSuggestionOnCommitCharacter===n.acceptSuggestionOnCommitCharacter&&t.snippetSuggestions===n.snippetSuggestions&&t.wordBasedSuggestions===n.wordBasedSuggestions&&t.suggestFontSize===n.suggestFontSize&&t.suggestLineHeight===n.suggestLineHeight&&t.selectionHighlight===n.selectionHighlight&&t.occurrencesHighlight===n.occurrencesHighlight&&t.codeLens===n.codeLens&&t.folding===n.folding&&t.showFoldingControls===n.showFoldingControls&&t.matchBrackets===n.matchBrackets&&this._equalFindOptions(t.find,n.find)},e._equalsQuickSuggestions=function(e,t){return"boolean"==typeof e?"boolean"==typeof t&&e===t:"boolean"!=typeof t&&(e.comments===t.comments&&e.other===t.other&&e.strings===t.strings)},e}();t.InternalEditorOptions=S;var _=function(){function e(){}return e.validate=function(e,t){var n=e.wordWrap;!0===n?n="on":!1===n&&(n="off"),n=l(n,t.wordWrap,["off","on","wordWrapColumn","bounded"]);var r,o=this._sanitizeViewInfo(e,t.viewInfo),s=this._sanitizeContribInfo(e,t.contribInfo);"string"==typeof e.multiCursorModifier&&(r="ctrlCmd"===e.multiCursorModifier?i.isMacintosh?"metaKey":"ctrlKey":"altKey");var d=l(r,t.multiCursorModifier,["altKey","metaKey","ctrlKey"]);return{inDiffEditor:a(e.inDiffEditor,t.inDiffEditor),wordSeparators:c(e.wordSeparators,t.wordSeparators),lineNumbersMinChars:u(e.lineNumbersMinChars,t.lineNumbersMinChars,1,10),lineDecorationsWidth:void 0===e.lineDecorationsWidth?t.lineDecorationsWidth:e.lineDecorationsWidth,readOnly:a(e.readOnly,t.readOnly),mouseStyle:l(e.mouseStyle,t.mouseStyle,["text","default","copy"]),disableLayerHinting:a(e.disableLayerHinting,t.disableLayerHinting),automaticLayout:a(e.automaticLayout,t.automaticLayout),wordWrap:n,wordWrapColumn:u(e.wordWrapColumn,t.wordWrapColumn,1,1073741824),wordWrapMinified:a(e.wordWrapMinified,t.wordWrapMinified),wrappingIndent:h(e.wrappingIndent,t.wrappingIndent),wordWrapBreakBeforeCharacters:c(e.wordWrapBreakBeforeCharacters,t.wordWrapBreakBeforeCharacters),wordWrapBreakAfterCharacters:c(e.wordWrapBreakAfterCharacters,t.wordWrapBreakAfterCharacters),wordWrapBreakObtrusiveCharacters:c(e.wordWrapBreakObtrusiveCharacters,t.wordWrapBreakObtrusiveCharacters),autoClosingBrackets:a(e.autoClosingBrackets,t.autoClosingBrackets),autoIndent:a(e.autoIndent,t.autoIndent),dragAndDrop:a(e.dragAndDrop,t.dragAndDrop),emptySelectionClipboard:a(e.emptySelectionClipboard,t.emptySelectionClipboard),useTabStops:a(e.useTabStops,t.useTabStops),multiCursorModifier:d,accessibilitySupport:l(e.accessibilitySupport,t.accessibilitySupport,["auto","on","off"]),viewInfo:o,contribInfo:s}},e._sanitizeScrollbarOpts=function(e,t,n){if("object"!=typeof e)return t;var i=u(e.horizontalScrollbarSize,t.horizontalScrollbarSize,0,1e3),r=u(e.verticalScrollbarSize,t.verticalScrollbarSize,0,1e3);return{vertical:f(e.vertical,t.vertical),horizontal:f(e.horizontal,t.horizontal),arrowSize:u(e.arrowSize,t.arrowSize,0,1e3),useShadows:a(e.useShadows,t.useShadows),verticalHasArrows:a(e.verticalHasArrows,t.verticalHasArrows),horizontalHasArrows:a(e.horizontalHasArrows,t.horizontalHasArrows),horizontalScrollbarSize:i,horizontalSliderSize:u(e.horizontalSliderSize,i,0,1e3),verticalScrollbarSize:r,verticalSliderSize:u(e.verticalSliderSize,r,0,1e3),handleMouseWheel:a(e.handleMouseWheel,t.handleMouseWheel),mouseWheelScrollSensitivity:n}},e._sanitizeMinimapOpts=function(e,t){return"object"!=typeof e?t:{enabled:a(e.enabled,t.enabled),showSlider:l(e.showSlider,t.showSlider,["always","mouseover"]),renderCharacters:a(e.renderCharacters,t.renderCharacters),maxColumn:u(e.maxColumn,t.maxColumn,1,1e4)}},e._santizeFindOpts=function(e,t){return"object"!=typeof e?t:{seedSearchStringFromSelection:a(e.seedSearchStringFromSelection,t.seedSearchStringFromSelection),autoFindInSelection:a(e.autoFindInSelection,t.autoFindInSelection)}},e._sanitizeViewInfo=function(e,t){var n=[];if(Array.isArray(e.rulers)){for(var i=0,r=e.rulers.length;i<r;i++)n.push(u(e.rulers[i],0,0,1e4));n.sort()}var o=t.renderLineNumbers,h=t.renderCustomLineNumbers,f=t.renderRelativeLineNumbers;if(void 0!==e.lineNumbers){var g=e.lineNumbers;!0===g?g="on":!1===g&&(g="off"),"function"==typeof g?(o=!0,h=g,f=!1):"relative"===g?(o=!0,h=null,f=!0):"on"===g?(o=!0,h=null,f=!1):(o=!1,h=null,f=!1)}var v=a(e.fontLigatures,t.fontLigatures),m=a(e.disableMonospaceOptimizations,t.disableMonospaceOptimizations)||v,y=e.renderWhitespace;!0===y?y="boundary":!1===y&&(y="none"),y=l(e.renderWhitespace,t.renderWhitespace,["none","boundary","all"]);var b=e.renderLineHighlight;!0===b?b="line":!1===b&&(b="none"),b=l(e.renderLineHighlight,t.renderLineHighlight,["none","gutter","line","all"]);var S=d(e.mouseWheelScrollSensitivity,t.scrollbar.mouseWheelScrollSensitivity),_=this._sanitizeScrollbarOpts(e.scrollbar,t.scrollbar,S),E=this._sanitizeMinimapOpts(e.minimap,t.minimap);return{extraEditorClassName:c(e.extraEditorClassName,t.extraEditorClassName),disableMonospaceOptimizations:m,rulers:n,ariaLabel:c(e.ariaLabel,t.ariaLabel),renderLineNumbers:o,renderCustomLineNumbers:h,renderRelativeLineNumbers:f,selectOnLineNumbers:a(e.selectOnLineNumbers,t.selectOnLineNumbers),glyphMargin:a(e.glyphMargin,t.glyphMargin),revealHorizontalRightPadding:u(e.revealHorizontalRightPadding,t.revealHorizontalRightPadding,0,1e3),roundedSelection:a(e.roundedSelection,t.roundedSelection),overviewRulerLanes:u(e.overviewRulerLanes,t.overviewRulerLanes,0,3),overviewRulerBorder:a(e.overviewRulerBorder,t.overviewRulerBorder),cursorBlinking:p(e.cursorBlinking,t.cursorBlinking),mouseWheelZoom:a(e.mouseWheelZoom,t.mouseWheelZoom),cursorStyle:s(e.cursorStyle,t.cursorStyle),hideCursorInOverviewRuler:a(e.hideCursorInOverviewRuler,t.hideCursorInOverviewRuler),scrollBeyondLastLine:a(e.scrollBeyondLastLine,t.scrollBeyondLastLine),stopRenderingLineAfter:u(e.stopRenderingLineAfter,t.stopRenderingLineAfter,-1,1073741824),renderWhitespace:y,renderControlCharacters:a(e.renderControlCharacters,t.renderControlCharacters),fontLigatures:v,renderIndentGuides:a(e.renderIndentGuides,t.renderIndentGuides),renderLineHighlight:b,scrollbar:_,minimap:E,fixedOverflowWidgets:a(e.fixedOverflowWidgets,t.fixedOverflowWidgets)}},e._sanitizeContribInfo=function(e,t){var n;n="object"==typeof e.quickSuggestions?m({other:!0},e.quickSuggestions):a(e.quickSuggestions,t.quickSuggestions);var i=this._santizeFindOpts(e.find,t.find);return{selectionClipboard:a(e.selectionClipboard,t.selectionClipboard),hover:a(e.hover,t.hover),links:a(e.links,t.links),contextmenu:a(e.contextmenu,t.contextmenu),quickSuggestions:n,quickSuggestionsDelay:u(e.quickSuggestionsDelay,t.quickSuggestionsDelay,-1073741824,1073741824),parameterHints:a(e.parameterHints,t.parameterHints),iconsInSuggestions:a(e.iconsInSuggestions,t.iconsInSuggestions),formatOnType:a(e.formatOnType,t.formatOnType),formatOnPaste:a(e.formatOnPaste,t.formatOnPaste),suggestOnTriggerCharacters:a(e.suggestOnTriggerCharacters,t.suggestOnTriggerCharacters),acceptSuggestionOnEnter:l(e.acceptSuggestionOnEnter,t.acceptSuggestionOnEnter,["on","smart","off"]),acceptSuggestionOnCommitCharacter:a(e.acceptSuggestionOnCommitCharacter,t.acceptSuggestionOnCommitCharacter),snippetSuggestions:l(e.snippetSuggestions,t.snippetSuggestions,["top","bottom","inline","none"]),wordBasedSuggestions:a(e.wordBasedSuggestions,t.wordBasedSuggestions),suggestFontSize:u(e.suggestFontSize,t.suggestFontSize,0,1e3),suggestLineHeight:u(e.suggestLineHeight,t.suggestLineHeight,0,1e3),selectionHighlight:a(e.selectionHighlight,t.selectionHighlight),occurrencesHighlight:a(e.occurrencesHighlight,t.occurrencesHighlight),codeLens:a(e.codeLens,t.codeLens)&&a(e.referenceInfos,!0),folding:a(e.folding,t.folding),showFoldingControls:l(e.showFoldingControls,t.showFoldingControls,["always","mouseover"]),matchBrackets:a(e.matchBrackets,t.matchBrackets),find:i}},e}();t.EditorOptionsValidator=_;var E=function(){function e(){}return e._tweakValidatedOptions=function(e,t){var i=2===t,r=1===t;return{inDiffEditor:e.inDiffEditor,wordSeparators:e.wordSeparators,lineNumbersMinChars:e.lineNumbersMinChars,lineDecorationsWidth:e.lineDecorationsWidth,readOnly:e.readOnly,mouseStyle:e.mouseStyle,disableLayerHinting:e.disableLayerHinting,automaticLayout:e.automaticLayout,wordWrap:e.wordWrap,wordWrapColumn:e.wordWrapColumn,wordWrapMinified:e.wordWrapMinified,wrappingIndent:e.wrappingIndent,wordWrapBreakBeforeCharacters:e.wordWrapBreakBeforeCharacters,wordWrapBreakAfterCharacters:e.wordWrapBreakAfterCharacters,wordWrapBreakObtrusiveCharacters:e.wordWrapBreakObtrusiveCharacters,autoClosingBrackets:e.autoClosingBrackets,autoIndent:e.autoIndent,dragAndDrop:e.dragAndDrop,emptySelectionClipboard:e.emptySelectionClipboard,useTabStops:e.useTabStops,multiCursorModifier:e.multiCursorModifier,accessibilitySupport:e.accessibilitySupport,viewInfo:{extraEditorClassName:e.viewInfo.extraEditorClassName,disableMonospaceOptimizations:e.viewInfo.disableMonospaceOptimizations,rulers:e.viewInfo.rulers,ariaLabel:r?n.localize(0,null):e.viewInfo.ariaLabel,renderLineNumbers:e.viewInfo.renderLineNumbers,renderCustomLineNumbers:e.viewInfo.renderCustomLineNumbers,renderRelativeLineNumbers:e.viewInfo.renderRelativeLineNumbers,selectOnLineNumbers:e.viewInfo.selectOnLineNumbers,glyphMargin:e.viewInfo.glyphMargin,revealHorizontalRightPadding:e.viewInfo.revealHorizontalRightPadding,roundedSelection:!i&&e.viewInfo.roundedSelection,overviewRulerLanes:e.viewInfo.overviewRulerLanes,overviewRulerBorder:e.viewInfo.overviewRulerBorder,cursorBlinking:e.viewInfo.cursorBlinking,mouseWheelZoom:e.viewInfo.mouseWheelZoom,cursorStyle:e.viewInfo.cursorStyle,hideCursorInOverviewRuler:e.viewInfo.hideCursorInOverviewRuler,scrollBeyondLastLine:e.viewInfo.scrollBeyondLastLine,stopRenderingLineAfter:e.viewInfo.stopRenderingLineAfter,renderWhitespace:i?"none":e.viewInfo.renderWhitespace,renderControlCharacters:!i&&e.viewInfo.renderControlCharacters,fontLigatures:!i&&e.viewInfo.fontLigatures,renderIndentGuides:!i&&e.viewInfo.renderIndentGuides,renderLineHighlight:i?"none":e.viewInfo.renderLineHighlight,scrollbar:e.viewInfo.scrollbar,minimap:{enabled:!i&&e.viewInfo.minimap.enabled,renderCharacters:e.viewInfo.minimap.renderCharacters,showSlider:e.viewInfo.minimap.showSlider,maxColumn:e.viewInfo.minimap.maxColumn},fixedOverflowWidgets:e.viewInfo.fixedOverflowWidgets},contribInfo:{selectionClipboard:e.contribInfo.selectionClipboard,hover:e.contribInfo.hover,links:!i&&e.contribInfo.links,contextmenu:e.contribInfo.contextmenu,quickSuggestions:e.contribInfo.quickSuggestions,quickSuggestionsDelay:e.contribInfo.quickSuggestionsDelay,parameterHints:e.contribInfo.parameterHints,iconsInSuggestions:e.contribInfo.iconsInSuggestions,formatOnType:e.contribInfo.formatOnType,formatOnPaste:e.contribInfo.formatOnPaste,suggestOnTriggerCharacters:e.contribInfo.suggestOnTriggerCharacters,acceptSuggestionOnEnter:e.contribInfo.acceptSuggestionOnEnter,acceptSuggestionOnCommitCharacter:e.contribInfo.acceptSuggestionOnCommitCharacter,snippetSuggestions:e.contribInfo.snippetSuggestions,wordBasedSuggestions:e.contribInfo.wordBasedSuggestions,suggestFontSize:e.contribInfo.suggestFontSize,suggestLineHeight:e.contribInfo.suggestLineHeight,selectionHighlight:!i&&e.contribInfo.selectionHighlight,occurrencesHighlight:!i&&e.contribInfo.occurrencesHighlight,codeLens:!i&&e.contribInfo.codeLens,folding:!i&&e.contribInfo.folding,showFoldingControls:e.contribInfo.showFoldingControls,matchBrackets:!i&&e.contribInfo.matchBrackets,find:e.contribInfo.find}}},e.createInternalEditorOptions=function(e,t){var n;n="auto"===t.accessibilitySupport?e.accessibilitySupport:"on"===t.accessibilitySupport?2:1;var i,r=this._tweakValidatedOptions(t,n);i="string"==typeof r.lineDecorationsWidth&&/^\d+(\.\d+)?ch$/.test(r.lineDecorationsWidth)?parseFloat(r.lineDecorationsWidth.substr(0,r.lineDecorationsWidth.length-2))*e.fontInfo.typicalHalfwidthCharacterWidth:u(r.lineDecorationsWidth,0,0,1e3),r.contribInfo.folding&&(i+=16);var o=C.compute({outerWidth:e.outerWidth,outerHeight:e.outerHeight,showGlyphMargin:r.viewInfo.glyphMargin,lineHeight:e.fontInfo.lineHeight,showLineNumbers:r.viewInfo.renderLineNumbers,lineNumbersMinChars:r.lineNumbersMinChars,lineNumbersDigitCount:e.lineNumbersDigitCount,lineDecorationsWidth:i,typicalHalfwidthCharacterWidth:e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:e.fontInfo.maxDigitWidth,verticalScrollbarWidth:r.viewInfo.scrollbar.verticalScrollbarSize,horizontalScrollbarHeight:r.viewInfo.scrollbar.horizontalScrollbarSize,scrollbarArrowSize:r.viewInfo.scrollbar.arrowSize,verticalScrollbarHasArrows:r.viewInfo.scrollbar.verticalHasArrows,minimap:r.viewInfo.minimap.enabled,minimapRenderCharacters:r.viewInfo.minimap.renderCharacters,minimapMaxColumn:r.viewInfo.minimap.maxColumn,pixelRatio:e.pixelRatio}),s=null,a=r.wordWrap,c=r.wordWrapColumn,l=r.wordWrapMinified;s=2===n?{isWordWrapMinified:!1,isViewportWrapping:!1,wrappingColumn:-1}:l&&e.isDominatedByLongLines?{isWordWrapMinified:!0,isViewportWrapping:!0,wrappingColumn:Math.max(1,o.viewportColumn)}:"on"===a?{isWordWrapMinified:!1,isViewportWrapping:!0,wrappingColumn:Math.max(1,o.viewportColumn)}:"bounded"===a?{isWordWrapMinified:!1,isViewportWrapping:!0,wrappingColumn:Math.min(Math.max(1,o.viewportColumn),c)}:"wordWrapColumn"===a?{isWordWrapMinified:!1,isViewportWrapping:!1,wrappingColumn:c}:{isWordWrapMinified:!1,isViewportWrapping:!1,wrappingColumn:-1};var d={inDiffEditor:r.inDiffEditor,isDominatedByLongLines:e.isDominatedByLongLines,isWordWrapMinified:s.isWordWrapMinified,isViewportWrapping:s.isViewportWrapping,wrappingColumn:s.wrappingColumn,wrappingIndent:r.wrappingIndent,wordWrapBreakBeforeCharacters:r.wordWrapBreakBeforeCharacters,wordWrapBreakAfterCharacters:r.wordWrapBreakAfterCharacters,wordWrapBreakObtrusiveCharacters:r.wordWrapBreakObtrusiveCharacters},h="monaco-editor";return r.viewInfo.extraEditorClassName&&(h+=" "+r.viewInfo.extraEditorClassName),e.extraEditorClassName&&(h+=" "+e.extraEditorClassName),r.viewInfo.fontLigatures&&(h+=" enable-ligatures"),"default"===r.mouseStyle?h+=" mouse-default":"copy"===r.mouseStyle&&(h+=" mouse-copy"),new S({canUseLayerHinting:!r.disableLayerHinting,pixelRatio:e.pixelRatio,editorClassName:h,lineHeight:e.fontInfo.lineHeight,readOnly:r.readOnly,accessibilitySupport:n,multiCursorModifier:r.multiCursorModifier,wordSeparators:r.wordSeparators,autoClosingBrackets:r.autoClosingBrackets,autoIndent:r.autoIndent,useTabStops:r.useTabStops,tabFocusMode:!!r.readOnly||e.tabFocusMode,dragAndDrop:r.dragAndDrop,emptySelectionClipboard:r.emptySelectionClipboard&&e.emptySelectionClipboard,layoutInfo:o,fontInfo:e.fontInfo,viewInfo:r.viewInfo,wrappingInfo:d,contribInfo:r.contribInfo})},e}();t.InternalEditorOptionsFactory=E;var C=function(){function e(){}return e.compute=function(e){var t=0|e.outerWidth,n=0|e.outerHeight,i=e.showGlyphMargin,r=0|e.lineHeight,o=e.showLineNumbers,s=0|e.lineNumbersMinChars,a=0|e.lineNumbersDigitCount,c=0|e.lineDecorationsWidth,l=e.typicalHalfwidthCharacterWidth,u=e.maxDigitWidth,d=0|e.verticalScrollbarWidth,h=e.verticalScrollbarHasArrows,p=0|e.scrollbarArrowSize,f=0|e.horizontalScrollbarHeight,v=e.minimap,m=e.minimapRenderCharacters,y=0|e.minimapMaxColumn,b=e.pixelRatio,S=0;if(o){var _=Math.max(a,s);S=Math.round(_*u)}var E=0;i&&(E=r);var C,w,I,T=0+E,k=T+S,x=k+c,A=t-E-S-c;if(v){var L=void 0;b>=2?(C=m?g.Large:g.LargeBlocks,L=2/b):(C=m?g.Small:g.SmallBlocks,L=1/b),(w=Math.max(0,Math.floor((A-d)*L/(l+L))))/L>y&&(w=Math.floor(y*L)),I=A-w}else w=0,C=g.None,I=A;var P=Math.max(1,Math.floor((I-d)/l)),D=h?p:0;return{width:t,height:n,glyphMarginLeft:0,glyphMarginWidth:E,glyphMarginHeight:n,lineNumbersLeft:T,lineNumbersWidth:S,lineNumbersHeight:n,decorationsLeft:k,decorationsWidth:c,decorationsHeight:n,contentLeft:x,contentWidth:I,contentHeight:n,renderMinimap:C,minimapWidth:w,viewportColumn:P,verticalScrollbarWidth:d,horizontalScrollbarHeight:f,overviewRuler:{top:D,width:d,height:n-2*D,right:0}}},e}();t.EditorLayoutProvider=C;t.EDITOR_FONT_DEFAULTS={fontFamily:i.isMacintosh?"Menlo, Monaco, 'Courier New', monospace":i.isLinux?"'Droid Sans Mono', 'Courier New', monospace, 'Droid Sans Fallback'":"Consolas, 'Courier New', monospace",fontWeight:"normal",fontSize:i.isMacintosh?12:14,lineHeight:0,letterSpacing:0},t.EDITOR_MODEL_DEFAULTS={tabSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0},t.EDITOR_DEFAULTS={inDiffEditor:!1,wordSeparators:o.USUAL_WORD_SEPARATORS,lineNumbersMinChars:5,lineDecorationsWidth:10,readOnly:!1,mouseStyle:"text",disableLayerHinting:!1,automaticLayout:!1,wordWrap:"off",wordWrapColumn:80,wordWrapMinified:!0,wrappingIndent:v.Same,wordWrapBreakBeforeCharacters:"([{‘“〈《「『【〔（［｛｢£¥＄￡￥+＋",wordWrapBreakAfterCharacters:" \t})]?|&,;¢°′″‰℃、。｡､￠，．：；？！％・･ゝゞヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻ｧｨｩｪｫｬｭｮｯｰ”〉》」』】〕）］｝｣",wordWrapBreakObtrusiveCharacters:".",autoClosingBrackets:!0,autoIndent:!1,dragAndDrop:!0,emptySelectionClipboard:!0,useTabStops:!0,multiCursorModifier:"altKey",accessibilitySupport:"auto",viewInfo:{extraEditorClassName:"",disableMonospaceOptimizations:!1,rulers:[],ariaLabel:n.localize(1,null),renderLineNumbers:!0,renderCustomLineNumbers:null,renderRelativeLineNumbers:!1,selectOnLineNumbers:!0,glyphMargin:!0,revealHorizontalRightPadding:30,roundedSelection:!0,overviewRulerLanes:2,overviewRulerBorder:!0,cursorBlinking:y.Blink,mouseWheelZoom:!1,cursorStyle:b.Line,hideCursorInOverviewRuler:!1,scrollBeyondLastLine:!0,stopRenderingLineAfter:1e4,renderWhitespace:"none",renderControlCharacters:!1,fontLigatures:!1,renderIndentGuides:!0,renderLineHighlight:"line",scrollbar:{vertical:r.ScrollbarVisibility.Auto,horizontal:r.ScrollbarVisibility.Auto,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:10,horizontalSliderSize:10,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,mouseWheelScrollSensitivity:1},minimap:{enabled:!0,showSlider:"mouseover",renderCharacters:!0,maxColumn:120},fixedOverflowWidgets:!1},contribInfo:{selectionClipboard:!0,hover:!0,links:!0,contextmenu:!0,quickSuggestions:{other:!0,comments:!1,strings:!1},quickSuggestionsDelay:10,parameterHints:!0,iconsInSuggestions:!0,formatOnType:!1,formatOnPaste:!1,suggestOnTriggerCharacters:!0,acceptSuggestionOnEnter:"on",acceptSuggestionOnCommitCharacter:!0,snippetSuggestions:"inline",wordBasedSuggestions:!0,suggestFontSize:0,suggestLineHeight:0,selectionHighlight:!0,occurrencesHighlight:!0,codeLens:!0,folding:!0,showFoldingControls:"mouseover",matchBrackets:!0,find:{seedSearchStringFromSelection:!0,autoFindInSelection:!1}}}}),define(u[295],d([1,0,11,285,124]),function(e,t,n,i,r){"use strict";function o(e,t){if("number"==typeof e)return e;var n=parseFloat(e);return isNaN(n)?t:n}function s(e,t){if("number"==typeof e)return Math.round(e);var n=parseInt(e);return isNaN(n)?t:n}function a(e,t,n){return e<t?t:e>n?n:e}function c(e,t){return"string"!=typeof e?t:e}Object.defineProperty(t,"__esModule",{value:!0});var l=n.isMacintosh?1.5:1.35,u=function(){function e(e){this.zoomLevel=e.zoomLevel,this.fontFamily=String(e.fontFamily),this.fontWeight=String(e.fontWeight),this.fontSize=e.fontSize,this.lineHeight=0|e.lineHeight,this.letterSpacing=e.letterSpacing}return e.createFromRawSettings=function(t,n){var u=c(t.fontFamily,r.EDITOR_FONT_DEFAULTS.fontFamily),d=c(t.fontWeight,r.EDITOR_FONT_DEFAULTS.fontWeight),h=o(t.fontSize,r.EDITOR_FONT_DEFAULTS.fontSize);0===(h=a(h,0,100))?h=r.EDITOR_FONT_DEFAULTS.fontSize:h<8&&(h=8);var p=s(t.lineHeight,0);0===(p=a(p,0,150))?p=Math.round(l*h):p<8&&(p=8);var f=o(t.letterSpacing,0);f=a(f,-20,20);var g=1+.1*i.EditorZoom.getZoomLevel();return h*=g,p*=g,new e({zoomLevel:n,fontFamily:u,fontWeight:d,fontSize:h,lineHeight:p,letterSpacing:f})},e.prototype.getId=function(){return this.zoomLevel+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.lineHeight+"-"+this.letterSpacing},e}();t.BareFontInfo=u;var d=function(e){function t(t,n){var i=e.call(this,t)||this;return i.isTrusted=n,i.isMonospace=t.isMonospace,i.typicalHalfwidthCharacterWidth=t.typicalHalfwidthCharacterWidth,i.typicalFullwidthCharacterWidth=t.typicalFullwidthCharacterWidth,i.spaceWidth=t.spaceWidth,i.maxDigitWidth=t.maxDigitWidth,i}return h(t,e),t.prototype.equals=function(e){return this.fontFamily===e.fontFamily&&this.fontWeight===e.fontWeight&&this.fontSize===e.fontSize&&this.lineHeight===e.lineHeight&&this.letterSpacing===e.letterSpacing&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===e.typicalFullwidthCharacterWidth&&this.spaceWidth===e.spaceWidth&&this.maxDigitWidth===e.maxDigitWidth},t}(u);t.FontInfo=d}),define(u[203],d([1,0,81,12,37,14,33,249,922,124,236,926,409,214,149]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LONG_LINE_BOUNDARY=1e4;var g=function(){function e(t,i){this._eventEmitter=new n.OrderGuaranteeEventEmitter;var r=e.resolveCreationData(t,i);this._shouldSimplifyMode=r.text.length>e.MODEL_SYNC_LIMIT,this._shouldDenyMode=r.text.length>e.MODEL_TOKENIZATION_LIMIT,this._options=new s.TextModelResolvedOptions(r.options),this._constructLines(r.text),this._setVersionId(1),this._isDisposed=!1,this._isDisposing=!1}return e.createFromString=function(t,n){return void 0===n&&(n=e.DEFAULT_CREATION_OPTIONS),new e(p.RawTextSource.fromString(t),n)},e.resolveCreationData=function(e,t){var n,i=p.TextSource.fromRawTextSource(e,t.defaultEOL);if(t.detectIndentation){var r=c.guessIndentation(i.lines,t.tabSize,t.insertSpaces);n=new s.TextModelResolvedOptions({tabSize:r.tabSize,insertSpaces:r.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL})}else n=new s.TextModelResolvedOptions({tabSize:t.tabSize,insertSpaces:t.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL});return{text:i,options:n}},e.prototype.addBulkListener=function(e){return this._eventEmitter.addBulkListener(e)},e.prototype._assertNotDisposed=function(){if(this._isDisposed)throw new Error("Model is disposed!")},e.prototype.isTooLargeForHavingAMode=function(){return this._assertNotDisposed(),this._shouldDenyMode},e.prototype.isTooLargeForHavingARichMode=function(){return this._assertNotDisposed(),this._shouldSimplifyMode},e.prototype.getOptions=function(){return this._assertNotDisposed(),this._options},e.prototype.updateOptions=function(e){this._assertNotDisposed();var t=void 0!==e.tabSize?e.tabSize:this._options.tabSize,n=void 0!==e.insertSpaces?e.insertSpaces:this._options.insertSpaces,i=void 0!==e.trimAutoWhitespace?e.trimAutoWhitespace:this._options.trimAutoWhitespace,r=new s.TextModelResolvedOptions({tabSize:t,insertSpaces:n,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:i});if(!this._options.equals(r)){var o=this._options.createChangeEvent(r);if(this._options=r,o.tabSize)for(var a=this._options.tabSize,c=0,l=this._lines.length;c<l;c++)this._lines[c].updateTabSize(a);this._eventEmitter.emit(f.TextModelEventType.ModelOptionsChanged,o)}},e.prototype.detectIndentation=function(e,t){this._assertNotDisposed();var n=this._lines.map(function(e){return e.text}),i=c.guessIndentation(n,t,e);this.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize})},e._normalizeIndentationFromWhitespace=function(e,t,n){for(var i=0,r=0;r<e.length;r++)"\t"===e.charAt(r)?i+=t:i++;var o="";if(!n){var s=Math.floor(i/t);i%=t;for(r=0;r<s;r++)o+="\t"}for(r=0;r<i;r++)o+=" ";return o},e.normalizeIndentation=function(t,n,r){var o=i.firstNonWhitespaceIndex(t);return-1===o&&(o=t.length),e._normalizeIndentationFromWhitespace(t.substring(0,o),n,r)+t.substring(o)},e.prototype.normalizeIndentation=function(t){return this._assertNotDisposed(),e.normalizeIndentation(t,this._options.tabSize,this._options.insertSpaces)},e.prototype.getOneIndent=function(){this._assertNotDisposed();var e=this._options.tabSize;if(this._options.insertSpaces){for(var t="",n=0;n<e;n++)t+=" ";return t}return"\t"},e.prototype.getVersionId=function(){return this._assertNotDisposed(),this._versionId},e.prototype.mightContainRTL=function(){return this._mightContainRTL},e.prototype.mightContainNonBasicASCII=function(){return this._mightContainNonBasicASCII},e.prototype.getAlternativeVersionId=function(){return this._assertNotDisposed(),this._alternativeVersionId},e.prototype._ensureLineStarts=function(){if(!this._lineStarts){for(var e=this._EOL.length,t=this._lines.length,n=new Uint32Array(t),i=0;i<t;i++)n[i]=this._lines[i].text.length+e;this._lineStarts=new u.PrefixSumComputer(n)}},e.prototype.getOffsetAt=function(e){this._assertNotDisposed();var t=this._validatePosition(e.lineNumber,e.column,!1);return this._ensureLineStarts(),this._lineStarts.getAccumulatedValue(t.lineNumber-2)+t.column-1},e.prototype.getPositionAt=function(e){this._assertNotDisposed(),e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();var t=this._lineStarts.getIndexOf(e),n=this._lines[t.index].text.length;return new r.Position(t.index+1,Math.min(t.remainder+1,n+1))},e.prototype._increaseVersionId=function(){this._setVersionId(this._versionId+1)},e.prototype._setVersionId=function(e){this._versionId=e,this._alternativeVersionId=this._versionId},e.prototype._overwriteAlternativeVersionId=function(e){this._alternativeVersionId=e},e.prototype.isDisposed=function(){return this._isDisposed},e.prototype.dispose=function(){this._isDisposed=!0,this._lines=null,this._EOL=null,this._BOM=null,this._eventEmitter.dispose()},e.prototype._emitContentChanged2=function(e,t,n,i,r,s,a,c,l){var u={changes:[{range:new o.Range(e,t,n,i),rangeLength:r,text:s}],eol:this._EOL,versionId:this.getVersionId(),isUndoing:a,isRedoing:c,isFlush:l};this._isDisposing||this._eventEmitter.emit(f.TextModelEventType.ModelContentChanged,u)},e.prototype._resetValue=function(e){this._constructLines(e),this._increaseVersionId()},e.prototype.equals=function(e){if(this._assertNotDisposed(),this._BOM!==e.BOM)return!1;if(this._EOL!==e.EOL)return!1;if(this._lines.length!==e.lines.length)return!1;for(var t=0,n=this._lines.length;t<n;t++)if(this._lines[t].text!==e.lines[t])return!1;return!0},e.prototype.setValue=function(e){if(this._assertNotDisposed(),null!==e){var t=p.TextSource.fromString(e,this._options.defaultEOL);this.setValueFromTextSource(t)}},e.prototype.setValueFromTextSource=function(e){if(this._assertNotDisposed(),null!==e){var t=this.getFullModelRange(),n=this.getValueLengthInRange(t),i=this.getLineCount(),r=this.getLineMaxColumn(i);this._resetValue(e),this._emitModelRawContentChangedEvent(new f.ModelRawContentChangedEvent([new f.ModelRawFlush],this._versionId,!1,!1)),this._emitContentChanged2(1,1,i,r,n,this.getValue(),!1,!1,!0)}},e.prototype.getValue=function(e,t){void 0===t&&(t=!1),this._assertNotDisposed();var n=this.getFullModelRange(),i=this.getValueInRange(n,e);return t?this._BOM+i:i},e.prototype.getValueLength=function(e,t){void 0===t&&(t=!1),this._assertNotDisposed();var n=this.getFullModelRange(),i=this.getValueLengthInRange(n,e);return t?this._BOM.length+i:i},e.prototype.getValueInRange=function(e,t){void 0===t&&(t=s.EndOfLinePreference.TextDefined),this._assertNotDisposed();var n=this.validateRange(e);if(n.isEmpty())return"";if(n.startLineNumber===n.endLineNumber)return this._lines[n.startLineNumber-1].text.substring(n.startColumn-1,n.endColumn-1);var i=this._getEndOfLine(t),r=n.startLineNumber-1,o=n.endLineNumber-1,a=[];a.push(this._lines[r].text.substring(n.startColumn-1));for(var c=r+1;c<o;c++)a.push(this._lines[c].text);return a.push(this._lines[o].text.substring(0,n.endColumn-1)),a.join(i)},e.prototype.getValueLengthInRange=function(e,t){void 0===t&&(t=s.EndOfLinePreference.TextDefined),this._assertNotDisposed();var n=this.validateRange(e);if(n.isEmpty())return 0;if(n.startLineNumber===n.endLineNumber)return n.endColumn-n.startColumn;var i=this.getOffsetAt(new r.Position(n.startLineNumber,n.startColumn));return this.getOffsetAt(new r.Position(n.endLineNumber,n.endColumn))-i},e.prototype.isDominatedByLongLines=function(){this._assertNotDisposed();var e,n,i,r=0,o=0,s=this._lines;for(e=0,n=this._lines.length;e<n;e++)(i=s[e].text.length)>=t.LONG_LINE_BOUNDARY?o+=i:r+=i;return o>r},e.prototype.getLineCount=function(){return this._assertNotDisposed(),this._lines.length},e.prototype.getLineContent=function(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");return this._lines[e-1].text},e.prototype.getIndentLevel=function(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");return this._lines[e-1].getIndentLevel()},e.prototype._resetIndentRanges=function(){this._indentRanges=null},e.prototype._getIndentRanges=function(){return this._indentRanges||(this._indentRanges=d.computeRanges(this)),this._indentRanges},e.prototype.getIndentRanges=function(){this._assertNotDisposed();var e=this._getIndentRanges();return d.IndentRange.deepCloneArr(e)},e.prototype._toValidLineIndentGuide=function(e,t){var n=this._lines[e-1].getIndentLevel();if(-1===n)return t;var i=Math.ceil(n/this._options.tabSize);return Math.min(i,t)},e.prototype.getLineIndentGuide=function(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");for(var t=this._getIndentRanges(),n=t.length-1;n>=0;n--){var i=t[n];if(i.startLineNumber===e)return this._toValidLineIndentGuide(e,Math.ceil(i.indent/this._options.tabSize));if(i.startLineNumber<e&&e<=i.endLineNumber)return this._toValidLineIndentGuide(e,1+Math.floor(i.indent/this._options.tabSize));if(i.endLineNumber+1===e){for(var r=i.indent;n>0;)(i=t[--n]).endLineNumber+1===e&&(r=i.indent);return this._toValidLineIndentGuide(e,Math.ceil(r/this._options.tabSize))}}return 0},e.prototype.getLinesContent=function(){this._assertNotDisposed();for(var e=[],t=0,n=this._lines.length;t<n;t++)e[t]=this._lines[t].text;return e},e.prototype.getEOL=function(){return this._assertNotDisposed(),this._EOL},e.prototype.setEOL=function(e){this._assertNotDisposed();var t=e===s.EndOfLineSequence.CRLF?"\r\n":"\n";if(this._EOL!==t){var n=this.getFullModelRange(),i=this.getValueLengthInRange(n),r=this.getLineCount(),o=this.getLineMaxColumn(r);this._EOL=t,this._lineStarts=null,this._increaseVersionId(),this._emitModelRawContentChangedEvent(new f.ModelRawContentChangedEvent([new f.ModelRawEOLChanged],this._versionId,!1,!1)),this._emitContentChanged2(1,1,r,o,i,this.getValue(),!1,!1,!1)}},e.prototype.getLineMinColumn=function(e){return this._assertNotDisposed(),1},e.prototype.getLineMaxColumn=function(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");return this._lines[e-1].text.length+1},e.prototype.getLineFirstNonWhitespaceColumn=function(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");var t=i.firstNonWhitespaceIndex(this._lines[e-1].text);return-1===t?0:t+1},e.prototype.getLineLastNonWhitespaceColumn=function(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");var t=i.lastNonWhitespaceIndex(this._lines[e-1].text);return-1===t?0:t+2},e.prototype.validateLineNumber=function(e){return this._assertNotDisposed(),e<1&&(e=1),e>this._lines.length&&(e=this._lines.length),e},e.prototype._validatePosition=function(e,t,n){var o=Math.floor("number"==typeof e?e:1),s=Math.floor("number"==typeof t?t:1);if(o<1)return new r.Position(1,1);if(o>this._lines.length)return new r.Position(this._lines.length,this.getLineMaxColumn(this._lines.length));if(s<=1)return new r.Position(o,1);var a=this.getLineMaxColumn(o);if(s>=a)return new r.Position(o,a);if(n){var c=this._lines[o-1].text.charCodeAt(s-2);if(i.isHighSurrogate(c))return new r.Position(o,s-1)}return new r.Position(o,s)},e.prototype.validatePosition=function(e){return this._assertNotDisposed(),this._validatePosition(e.lineNumber,e.column,!0)},e.prototype.validateRange=function(e){this._assertNotDisposed();var t=this._validatePosition(e.startLineNumber,e.startColumn,!1),n=this._validatePosition(e.endLineNumber,e.endColumn,!1),r=t.lineNumber,s=t.column,a=n.lineNumber,c=n.column,l=this._lines[r-1].text,u=this._lines[a-1].text,d=s>1?l.charCodeAt(s-2):0,h=c>1&&c<=u.length?u.charCodeAt(c-2):0,p=i.isHighSurrogate(d),f=i.isHighSurrogate(h);return p||f?r===a&&s===c?new o.Range(r,s-1,a,c-1):p&&f?new o.Range(r,s-1,a,c+1):p?new o.Range(r,s-1,a,c):new o.Range(r,s,a,c+1):new o.Range(r,s,a,c)},e.prototype.modifyPosition=function(e,t){return this._assertNotDisposed(),this.getPositionAt(this.getOffsetAt(e)+t)},e.prototype.getFullModelRange=function(){this._assertNotDisposed();var e=this.getLineCount();return new o.Range(1,1,e,this.getLineMaxColumn(e))},e.prototype._emitModelRawContentChangedEvent=function(e){this._isDisposing||this._eventEmitter.emit(f.TextModelEventType.ModelRawContentChanged2,e)},e.prototype._constructLines=function(e){for(var t=this._options.tabSize,n=e.lines,i=[],r=0,o=n.length;r<o;r++)i[r]=new a.ModelLine(r+1,n[r],t);this._BOM=e.BOM,this._mightContainRTL=e.containsRTL,this._mightContainNonBasicASCII=!e.isBasicASCII,this._EOL=e.EOL,this._lines=i,this._lineStarts=null,this._resetIndentRanges()},e.prototype._getEndOfLine=function(e){switch(e){case s.EndOfLinePreference.LF:return"\n";case s.EndOfLinePreference.CRLF:return"\r\n";case s.EndOfLinePreference.TextDefined:return this.getEOL()}throw new Error("Unknown EOL preference")},e.prototype.findMatches=function(e,t,n,i,r,s,a){void 0===a&&(a=999),this._assertNotDisposed();var c;return c=o.Range.isIRange(t)?this.validateRange(t):this.getFullModelRange(),h.TextModelSearch.findMatches(this,new h.SearchParams(e,n,i,r),c,s,a)},e.prototype.findNextMatch=function(e,t,n,i,r,o){this._assertNotDisposed();var s=this.validatePosition(t);return h.TextModelSearch.findNextMatch(this,new h.SearchParams(e,n,i,r),s,o)},e.prototype.findPreviousMatch=function(e,t,n,i,r,o){this._assertNotDisposed();var s=this.validatePosition(t);return h.TextModelSearch.findPreviousMatch(this,new h.SearchParams(e,n,i,r),s,o)},e}();g.MODEL_SYNC_LIMIT=5242880,g.MODEL_TOKENIZATION_LIMIT=20971520,g.DEFAULT_CREATION_OPTIONS={tabSize:l.EDITOR_MODEL_DEFAULTS.tabSize,insertSpaces:l.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:!1,defaultEOL:s.DefaultEndOfLine.LF,trimAutoWhitespace:l.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace},t.TextModel=g}),define(u[108],d([1,0,37,12,203,53,14,112,7]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.Primary=0]="Primary",e[e.TopMost=1]="TopMost",e[e.BottomMost=2]="BottomMost"}(t.RevealTarget||(t.RevealTarget={}));var l=function(){function e(t,n,i,r){var o=r.editor;this.readOnly=o.readOnly,this.tabSize=i.tabSize,this.insertSpaces=i.insertSpaces,this.oneIndent=n,this.pageSize=Math.floor(o.layoutInfo.height/o.fontInfo.lineHeight)-2,this.lineHeight=o.lineHeight,this.useTabStops=o.useTabStops,this.wordSeparators=o.wordSeparators,this.emptySelectionClipboard=o.emptySelectionClipboard,this.autoClosingBrackets=o.autoClosingBrackets,this.autoIndent=o.autoIndent,this.autoClosingPairsOpen={},this.autoClosingPairsClose={},this.surroundingPairs={},this.electricChars={};var s=e._getElectricCharacters(t);if(s)for(l=0;l<s.length;l++)this.electricChars[s[l]]=!0;var a=e._getAutoClosingPairs(t);if(a)for(l=0;l<a.length;l++)this.autoClosingPairsOpen[a[l].open]=a[l].close,this.autoClosingPairsClose[a[l].close]=a[l].open;var c=e._getSurroundingPairs(t);if(c)for(var l=0;l<c.length;l++)this.surroundingPairs[c[l].open]=c[l].close}return e.shouldRecreate=function(e){return e.layoutInfo||e.wordSeparators||e.emptySelectionClipboard||e.autoClosingBrackets||e.useTabStops||e.lineHeight||e.readOnly},e.prototype.normalizeIndentation=function(e){return r.TextModel.normalizeIndentation(e,this.tabSize,this.insertSpaces)},e._getElectricCharacters=function(e){try{return a.LanguageConfigurationRegistry.getElectricCharacters(e.id)}catch(e){return c.onUnexpectedError(e),null}},e._getAutoClosingPairs=function(e){try{return a.LanguageConfigurationRegistry.getAutoClosingPairs(e.id)}catch(e){return c.onUnexpectedError(e),null}},e._getSurroundingPairs=function(e){try{return a.LanguageConfigurationRegistry.getSurroundingPairs(e.id)}catch(e){return c.onUnexpectedError(e),null}},e}();t.CursorConfiguration=l;var u=function(){function e(t,n,i,r){this.selectionStart=t,this.selectionStartLeftoverVisibleColumns=n,this.position=i,this.leftoverVisibleColumns=r,this.selection=e._computeSelection(this.selectionStart,this.position)}return e.prototype.equals=function(e){return this.selectionStartLeftoverVisibleColumns===e.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===e.leftoverVisibleColumns&&this.position.equals(e.position)&&this.selectionStart.equalsRange(e.selectionStart)},e.prototype.hasSelection=function(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()},e.prototype.move=function(t,i,r,o){return t?new e(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new n.Position(i,r),o):new e(new s.Range(i,r,i,r),o,new n.Position(i,r),o)},e._computeSelection=function(e,t){var n,i,r,s;return e.isEmpty()?(n=e.startLineNumber,i=e.startColumn,r=t.lineNumber,s=t.column):t.isBeforeOrEqual(e.getStartPosition())?(n=e.endLineNumber,i=e.endColumn,r=t.lineNumber,s=t.column):(n=e.startLineNumber,i=e.startColumn,r=t.lineNumber,s=t.column),new o.Selection(n,i,r,s)},e}();t.SingleCursorState=u;var d=function(){function e(e,t,n){this.model=t,this.viewModel=n,this.config=new l(this.model.getLanguageIdentifier(),this.model.getOneIndent(),this.model.getOptions(),e)}return e.prototype.validateViewPosition=function(e,t){return this.viewModel.coordinatesConverter.validateViewPosition(e,t)},e.prototype.validateViewRange=function(e,t){return this.viewModel.coordinatesConverter.validateViewRange(e,t)},e.prototype.convertViewRangeToModelRange=function(e){return this.viewModel.coordinatesConverter.convertViewRangeToModelRange(e)},e.prototype.convertViewPositionToModelPosition=function(e,t){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new n.Position(e,t))},e.prototype.convertModelPositionToViewPosition=function(e){return this.viewModel.coordinatesConverter.convertModelPositionToViewPosition(e)},e.prototype.convertModelRangeToViewRange=function(e){return this.viewModel.coordinatesConverter.convertModelRangeToViewRange(e)},e.prototype.getScrollTop=function(){return this.viewModel.viewLayout.getScrollTop()},e.prototype.getCompletelyVisibleViewRange=function(){return this.viewModel.getCompletelyVisibleViewRange()},e.prototype.getCompletelyVisibleModelRange=function(){var e=this.viewModel.getCompletelyVisibleViewRange();return this.viewModel.coordinatesConverter.convertViewRangeToModelRange(e)},e.prototype.getCompletelyVisibleViewRangeAtScrollTop=function(e){return this.viewModel.getCompletelyVisibleViewRangeAtScrollTop(e)},e.prototype.getCompletelyVisibleModelRangeAtScrollTop=function(e){var t=this.viewModel.getCompletelyVisibleViewRangeAtScrollTop(e);return this.viewModel.coordinatesConverter.convertViewRangeToModelRange(t)},e.prototype.getVerticalOffsetForViewLine=function(e){return this.viewModel.viewLayout.getVerticalOffsetForLineNumber(e)},e}();t.CursorContext=d;var h=function(){function e(e,t){this.modelState=e,this.viewState=t}return e.fromModelState=function(t){return new e(t,null)},e.fromViewState=function(t){return new e(null,t)},e.fromModelSelection=function(t){var i=t.selectionStartLineNumber,r=t.selectionStartColumn,o=t.positionLineNumber,a=t.positionColumn,c=new u(new s.Range(i,r,i,r),0,new n.Position(o,a),0);return e.fromModelState(c)},e.fromModelSelections=function(e){for(var t=[],n=0,i=e.length;n<i;n++)t[n]=this.fromModelSelection(e[n]);return t},e.ensureInEditableRange=function(t,n){var i=t.model;if(!i.hasEditableRange())return n;for(var r=i.getEditableRange(),o=t.convertModelRangeToViewRange(r),s=[],a=0,c=n.length;a<c;a++){var l=n[a];if(l.modelState){var u=e._ensureInEditableRange(l.modelState,r);s[a]=u?e.fromModelState(u):l}else{var d=e._ensureInEditableRange(l.viewState,o);s[a]=d?e.fromViewState(d):l}}return s},e._ensureInEditableRange=function(e,t){var i=e.position;return i.lineNumber<t.startLineNumber||i.lineNumber===t.startLineNumber&&i.column<t.startColumn?new u(e.selectionStart,e.selectionStartLeftoverVisibleColumns,new n.Position(t.startLineNumber,t.startColumn),0):i.lineNumber>t.endLineNumber||i.lineNumber===t.endLineNumber&&i.column>t.endColumn?new u(e.selectionStart,e.selectionStartLeftoverVisibleColumns,new n.Position(t.endLineNumber,t.endColumn),0):null},e.prototype.equals=function(e){return this.viewState.equals(e.viewState)&&this.modelState.equals(e.viewState)},e}();t.CursorState=h;var p=function(){return function(e,t){this.commands=e,this.shouldPushStackElementBefore=t.shouldPushStackElementBefore,this.shouldPushStackElementAfter=t.shouldPushStackElementAfter}}();t.EditOperationResult=p;var f=function(){function e(){}return e.isLowSurrogate=function(e,t,n){var r=e.getLineContent(t);return!(n<0||n>=r.length)&&i.isLowSurrogate(r.charCodeAt(n))},e.isHighSurrogate=function(e,t,n){var r=e.getLineContent(t);return!(n<0||n>=r.length)&&i.isHighSurrogate(r.charCodeAt(n))},e.isInsideSurrogatePair=function(e,t,n){return this.isHighSurrogate(e,t,n-2)},e.visibleColumnFromColumn=function(e,t,n){var i=e.length;i>t-1&&(i=t-1);for(var r=0,o=0;o<i;o++)9===e.charCodeAt(o)?r=this.nextTabStop(r,n):r+=1;return r},e.visibleColumnFromColumn2=function(e,t,n){return this.visibleColumnFromColumn(t.getLineContent(n.lineNumber),n.column,e.tabSize)},e.columnFromVisibleColumn=function(e,t,n){if(t<=0)return 1;for(var i=e.length,r=0,o=0;o<i;o++){var s=void 0;if((s=9===e.charCodeAt(o)?this.nextTabStop(r,n):r+1)>=t)return s-t<t-r?o+2:o+1;r=s}return i+1},e.columnFromVisibleColumn2=function(e,t,n,i){var r=this.columnFromVisibleColumn(t.getLineContent(n),i,e.tabSize),o=t.getLineMinColumn(n);if(r<o)return o;var s=t.getLineMaxColumn(n);return r>s?s:r},e.nextTabStop=function(e,t){return e+t-e%t},e.prevTabStop=function(e,t){return e-1-(e-1)%t},e}();t.CursorColumns=f}),define(u[298],d([1,0,12,108,14,53,112]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){this._opts=t,this._selection=e,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}return e.unshiftIndentCount=function(e,t,n){var r=i.CursorColumns.visibleColumnFromColumn(e,t,n);return i.CursorColumns.prevTabStop(r,n)/n},e.shiftIndentCount=function(e,t,n){var r=i.CursorColumns.visibleColumnFromColumn(e,t,n);return i.CursorColumns.nextTabStop(r,n)/n},e.prototype._addEditOperation=function(e,t,n){this._useLastEditRangeForCursorEndPosition?e.addTrackedEditOperation(t,n):e.addEditOperation(t,n)},e.prototype.getEditOperations=function(t,o){var a=this._selection.startLineNumber,c=this._selection.endLineNumber;1===this._selection.endColumn&&a!==c&&(c-=1);var l=this._opts.tabSize,u=this._opts.oneIndent,d=a===c;if(this._selection.isEmpty()&&/^\s*$/.test(t.getLineContent(a))&&(this._useLastEditRangeForCursorEndPosition=!0),this._opts.useTabStops)for(var h=["",u],p=0,f=0,g=a;g<=c;g++,p=f){f=0;var v=t.getLineContent(g),m=n.firstNonWhitespaceIndex(v);if((!this._opts.isUnshift||0!==v.length&&0!==m)&&(d||this._opts.isUnshift||0!==v.length)){if(-1===m&&(m=v.length),g>1&&i.CursorColumns.visibleColumnFromColumn(v,m+1,l)%l!=0){var y=s.LanguageConfigurationRegistry.getRawEnterActionAtPosition(t,g-1,t.getLineMaxColumn(g-1));if(y){if(f=p,y.appendText)for(var b=0,S=y.appendText.length;b<S&&f<l&&32===y.appendText.charCodeAt(b);b++)f++;y.removeText&&(f=Math.max(0,f-y.removeText));for(b=0;b<f&&(0!==m&&32===v.charCodeAt(m-1));b++)m--}}if(!this._opts.isUnshift||0!==m){var _=void 0;_=this._opts.isUnshift?e.unshiftIndentCount(v,m+1,l):e.shiftIndentCount(v,m+1,l);for(b=h.length;b<=_;b++)h[b]=h[b-1]+u;this._addEditOperation(o,new r.Range(g,1,g,m+1),h[_]),g===a&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=m+1)}}}else for(g=a;g<=c;g++){var v=t.getLineContent(g),m=n.firstNonWhitespaceIndex(v);if((!this._opts.isUnshift||0!==v.length&&0!==m)&&((d||this._opts.isUnshift||0!==v.length)&&(-1===m&&(m=v.length),!this._opts.isUnshift||0!==m)))if(this._opts.isUnshift){m=Math.min(m,l);for(var E=0;E<m;E++)if(9===v.charCodeAt(E)){m=E+1;break}this._addEditOperation(o,new r.Range(g,1,g,m+1),"")}else this._addEditOperation(o,new r.Range(g,1,g,1),u),g===a&&(this._selectionStartColumnStaysPut=1===this._selection.startColumn)}this._selectionId=o.trackSelection(this._selection)},e.prototype.computeCursorState=function(e,t){if(this._useLastEditRangeForCursorEndPosition){var n=t.getInverseEditOperations()[0];return new o.Selection(n.range.endLineNumber,n.range.endColumn,n.range.endLineNumber,n.range.endColumn)}var i=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){var r=this._selection.startColumn;return i.startColumn<=r?i:i.getDirection()===o.SelectionDirection.LTR?new o.Selection(i.startLineNumber,r,i.endLineNumber,i.endColumn):new o.Selection(i.endLineNumber,i.endColumn,i.startLineNumber,r)}return i},e}();t.ShiftCommand=a}),define(u[769],d([1,0,37,14,108]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e._columnSelect=function(e,t,o,s,a,c){for(var l=Math.abs(a-o)+1,u=o>a,d=s>c,h=s<c,p=[],f=0;f<l;f++){var g=o+(u?-f:f),v=r.CursorColumns.columnFromVisibleColumn2(e,t,g,s),m=r.CursorColumns.columnFromVisibleColumn2(e,t,g,c),y=r.CursorColumns.visibleColumnFromColumn2(e,t,new n.Position(g,v)),b=r.CursorColumns.visibleColumnFromColumn2(e,t,new n.Position(g,m));if(h){if(y>c)continue;if(b<s)continue}if(d){if(b>s)continue;if(y<c)continue}p.push(new r.SingleCursorState(new i.Range(g,v,g,v),0,new n.Position(g,m),0))}return{viewStates:p,reversed:u,toLineNumber:a,toVisualColumn:c}},e.columnSelect=function(t,i,o,s,a){var c=new n.Position(o.selectionStartLineNumber,o.selectionStartColumn),l=r.CursorColumns.visibleColumnFromColumn2(t,i,c);return e._columnSelect(t,i,c.lineNumber,l,s,a)},e.columnSelectLeft=function(e,t,n,i,r){return r>1&&r--,this.columnSelect(e,t,n.selection,i,r)},e.columnSelectRight=function(e,t,i,o,s){for(var a=0,c=Math.min(i.position.lineNumber,o),l=Math.max(i.position.lineNumber,o),u=c;u<=l;u++){var d=t.getLineMaxColumn(u),h=r.CursorColumns.visibleColumnFromColumn2(e,t,new n.Position(u,d));a=Math.max(a,h)}return s<a&&s++,this.columnSelect(e,t,i.selection,o,s)},e.columnSelectUp=function(e,t,n,i,r,o){return(r-=i?e.pageSize:1)<1&&(r=1),this.columnSelect(e,t,n.selection,r,o)},e.columnSelectDown=function(e,t,n,i,r,o){return(r+=i?e.pageSize:1)>t.getLineCount()&&(r=t.getLineCount()),this.columnSelect(e,t,n.selection,r,o)},e}();t.ColumnSelection=o}),define(u[418],d([1,0,108,37,14]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){return function(e,t,n){this.lineNumber=e,this.column=t,this.leftoverVisibleColumns=n}}();t.CursorPosition=o;var s=function(){function e(){}return e.left=function(e,t,i,r){return r>t.getLineMinColumn(i)?n.CursorColumns.isLowSurrogate(t,i,r-2)?r-=2:r-=1:i>1&&(i-=1,r=t.getLineMaxColumn(i)),new o(i,r,0)},e.moveLeft=function(t,n,i,r,o){var s,a;if(i.hasSelection()&&!r)s=i.selection.startLineNumber,a=i.selection.startColumn;else{var c=e.left(t,n,i.position.lineNumber,i.position.column-(o-1));s=c.lineNumber,a=c.column}return i.move(r,s,a,0)},e.right=function(e,t,i,r){return r<t.getLineMaxColumn(i)?n.CursorColumns.isHighSurrogate(t,i,r-1)?r+=2:r+=1:i<t.getLineCount()&&(i+=1,r=t.getLineMinColumn(i)),new o(i,r,0)},e.moveRight=function(t,n,i,r,o){var s,a;if(i.hasSelection()&&!r)s=i.selection.endLineNumber,a=i.selection.endColumn;else{var c=e.right(t,n,i.position.lineNumber,i.position.column+(o-1));s=c.lineNumber,a=c.column}return i.move(r,s,a,0)},e.down=function(e,t,i,r,s,a,c){var l=n.CursorColumns.visibleColumnFromColumn(t.getLineContent(i),r,e.tabSize)+s;i+=a;var u=t.getLineCount();return i>u?(i=u,c?r=t.getLineMaxColumn(i):(r=Math.min(t.getLineMaxColumn(i),r),n.CursorColumns.isInsideSurrogatePair(t,i,r)&&(r-=1))):(r=n.CursorColumns.columnFromVisibleColumn2(e,t,i,l),n.CursorColumns.isInsideSurrogatePair(t,i,r)&&(r-=1)),s=l-n.CursorColumns.visibleColumnFromColumn(t.getLineContent(i),r,e.tabSize),new o(i,r,s)},e.moveDown=function(t,n,i,r,o){var s,a;i.hasSelection()&&!r?(s=i.selection.endLineNumber,a=i.selection.endColumn):(s=i.position.lineNumber,a=i.position.column);var c=e.down(t,n,s,a,i.leftoverVisibleColumns,o,!0);return i.move(r,c.lineNumber,c.column,c.leftoverVisibleColumns)},e.translateDown=function(t,o,s){var a=s.selection,c=e.down(t,o,a.selectionStartLineNumber,a.selectionStartColumn,s.selectionStartLeftoverVisibleColumns,1,!1),l=e.down(t,o,a.positionLineNumber,a.positionColumn,s.leftoverVisibleColumns,1,!1);return new n.SingleCursorState(new r.Range(c.lineNumber,c.column,c.lineNumber,c.column),c.leftoverVisibleColumns,new i.Position(l.lineNumber,l.column),l.leftoverVisibleColumns)},e.up=function(e,t,i,r,s,a,c){var l=n.CursorColumns.visibleColumnFromColumn(t.getLineContent(i),r,e.tabSize)+s;return(i-=a)<1?(i=1,c?r=t.getLineMinColumn(i):(r=Math.min(t.getLineMaxColumn(i),r),n.CursorColumns.isInsideSurrogatePair(t,i,r)&&(r-=1))):(r=n.CursorColumns.columnFromVisibleColumn2(e,t,i,l),n.CursorColumns.isInsideSurrogatePair(t,i,r)&&(r-=1)),s=l-n.CursorColumns.visibleColumnFromColumn(t.getLineContent(i),r,e.tabSize),new o(i,r,s)},e.moveUp=function(t,n,i,r,o){var s,a;i.hasSelection()&&!r?(s=i.selection.startLineNumber,a=i.selection.startColumn):(s=i.position.lineNumber,a=i.position.column);var c=e.up(t,n,s,a,i.leftoverVisibleColumns,o,!0);return i.move(r,c.lineNumber,c.column,c.leftoverVisibleColumns)},e.translateUp=function(t,o,s){var a=s.selection,c=e.up(t,o,a.selectionStartLineNumber,a.selectionStartColumn,s.selectionStartLeftoverVisibleColumns,1,!1),l=e.up(t,o,a.positionLineNumber,a.positionColumn,s.leftoverVisibleColumns,1,!1);return new n.SingleCursorState(new r.Range(c.lineNumber,c.column,c.lineNumber,c.column),c.leftoverVisibleColumns,new i.Position(l.lineNumber,l.column),l.leftoverVisibleColumns)},e.moveToBeginningOfLine=function(e,t,n,i){var r,o=n.position.lineNumber,s=t.getLineMinColumn(o),a=t.getLineFirstNonWhitespaceColumn(o)||s;return r=n.position.column===a?s:a,n.move(i,o,r,0)},e.moveToEndOfLine=function(e,t,n,i){var r=n.position.lineNumber,o=t.getLineMaxColumn(r);return n.move(i,r,o,0)},e.moveToBeginningOfBuffer=function(e,t,n,i){return n.move(i,1,1,0)},e.moveToEndOfBuffer=function(e,t,n,i){var r=t.getLineCount(),o=t.getLineMaxColumn(r);return n.move(i,r,o,0)},e}();t.MoveOperations=s}),define(u[419],d([1,0,178,108,14,418,12]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){}return e.deleteRight=function(e,t,i){for(var s=[],a=!1,c=0,l=i.length;c<l;c++){var u=i[c],d=u;if(d.isEmpty()){var h=u.getPosition(),p=o.MoveOperations.right(e,t,h.lineNumber,h.column);d=new r.Range(p.lineNumber,p.column,h.lineNumber,h.column)}d.isEmpty()?s[c]=null:(d.startLineNumber!==d.endLineNumber&&(a=!0),s[c]=new n.ReplaceCommand(d,""))}return[a,s]},e._isAutoClosingPairDelete=function(e,t,n){if(!e.autoClosingBrackets)return!1;for(var i=0,r=n.length;i<r;i++){var o=n[i],s=o.getPosition();if(!o.isEmpty())return!1;var a=t.getLineContent(s.lineNumber),c=a[s.column-2];if(!e.autoClosingPairsOpen.hasOwnProperty(c))return!1;if(a[s.column-1]!==e.autoClosingPairsOpen[c])return!1}return!0},e._runAutoClosingPairDelete=function(e,t,i){for(var o=[],s=0,a=i.length;s<a;s++){var c=i[s].getPosition(),l=new r.Range(c.lineNumber,c.column-1,c.lineNumber,c.column+1);o[s]=new n.ReplaceCommand(l,"")}return[!0,o]},e.deleteLeft=function(e,t,a){if(this._isAutoClosingPairDelete(e,t,a))return this._runAutoClosingPairDelete(e,t,a);for(var c=[],l=!1,u=0,d=a.length;u<d;u++){var h=a[u],p=h;if(p.isEmpty()){var f=h.getPosition();if(e.useTabStops&&f.column>1){var g=t.getLineContent(f.lineNumber),v=s.firstNonWhitespaceIndex(g),m=-1===v?g.length+1:v+1;if(f.column<=m){var y=i.CursorColumns.visibleColumnFromColumn2(e,t,f),b=i.CursorColumns.prevTabStop(y,e.tabSize),S=i.CursorColumns.columnFromVisibleColumn2(e,t,f.lineNumber,b);p=new r.Range(f.lineNumber,S,f.lineNumber,f.column)}else p=new r.Range(f.lineNumber,f.column-1,f.lineNumber,f.column)}else{var _=o.MoveOperations.left(e,t,f.lineNumber,f.column);p=new r.Range(_.lineNumber,_.column,f.lineNumber,f.column)}}p.isEmpty()?c[u]=null:(p.startLineNumber!==p.endLineNumber&&(l=!0),c[u]=new n.ReplaceCommand(p,""))}return[l,c]},e.cut=function(e,t,o){for(var s=[],a=0,c=o.length;a<c;a++){var l=o[a];if(l.isEmpty())if(e.emptySelectionClipboard){var u=l.getPosition(),d=void 0,h=void 0,p=void 0,f=void 0;u.lineNumber<t.getLineCount()?(d=u.lineNumber,h=1,p=u.lineNumber+1,f=1):u.lineNumber>1?(d=u.lineNumber-1,h=t.getLineMaxColumn(u.lineNumber-1),p=u.lineNumber,f=t.getLineMaxColumn(u.lineNumber)):(d=u.lineNumber,h=1,p=u.lineNumber,f=t.getLineMaxColumn(u.lineNumber));var g=new r.Range(d,h,p,f);g.isEmpty()?s[a]=null:s[a]=new n.ReplaceCommand(g,"")}else s[a]=null;else s[a]=new n.ReplaceCommand(l,"")}return new i.EditOperationResult(s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},e}();t.DeleteOperations=a}),define(u[300],d([1,0,7,178,108,14,12,298,112,173,935,252]),function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function e(){}return e.indent=function(e,t,n){for(var i=[],r=0,o=n.length;r<o;r++)i[r]=new a.ShiftCommand(n[r],{isUnshift:!1,tabSize:e.tabSize,oneIndent:e.oneIndent,useTabStops:e.useTabStops});return i},e.outdent=function(e,t,n){for(var i=[],r=0,o=n.length;r<o;r++)i[r]=new a.ShiftCommand(n[r],{isUnshift:!0,tabSize:e.tabSize,oneIndent:e.oneIndent,useTabStops:e.useTabStops});return i},e.shiftIndent=function(e,t,n){n=n||1;for(var i=a.ShiftCommand.shiftIndentCount(t,t.length+n,e.tabSize),r="",o=0;o<i;o++)r+="\t";return r},e.unshiftIndent=function(e,t,n){n=n||1;for(var i=a.ShiftCommand.unshiftIndentCount(t,t.length+n,e.tabSize),r="",o=0;o<i;o++)r+="\t";return r},e._distributedPaste=function(e,t,n,o){for(var s=[],a=0,c=n.length;a<c;a++)s[a]=new i.ReplaceCommand(n[a],o[a]);return new r.EditOperationResult(s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},e._simplePaste=function(e,t,n,s,a){for(var c=[],l=0,u=n.length;l<u;l++){var d=n[l],h=d.getPosition();if(a&&s.indexOf("\n")!==s.length-1&&(a=!1),a&&d.startLineNumber!==d.endLineNumber&&(a=!1),a&&d.startColumn===t.getLineMinColumn(d.startLineNumber)&&d.endColumn===t.getLineMaxColumn(d.startLineNumber)&&(a=!1),a){var p=new o.Range(h.lineNumber,1,h.lineNumber,1);c[l]=new i.ReplaceCommand(p,s)}else c[l]=new i.ReplaceCommand(d,s)}return new r.EditOperationResult(c,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},e._distributePasteToCursors=function(e,t,n){if(t)return null;if(1===e.length)return null;for(var i=0;i<e.length;i++)if(e[i].startLineNumber!==e[i].endLineNumber)return null;var r=n.split(/\r\n|\r|\n/);return r.length!==e.length?null:r},e.paste=function(e,t,n,i,r){var s=this._distributePasteToCursors(n,i,r);return s?(n=n.sort(o.Range.compareRangesUsingStarts),this._distributedPaste(e,t,n,s)):this._simplePaste(e,t,n,r,i)},e._goodIndentForLine=function(t,n,i){var r=c.LanguageConfigurationRegistry.getInheritIndentForLine(n,i,!1);if(r){if(r.action){var o=r.indentation;return r.action===l.IndentAction.Indent&&(o=e.shiftIndent(t,o)),r.action===l.IndentAction.Outdent&&(o=e.unshiftIndent(t,o)),0===(o=t.normalizeIndentation(o)).length?"":o}return r.indentation}return null},e._replaceJumpToNextIndent=function(e,t,n,o){var s="",a=n.getStartPosition();if(e.insertSpaces)for(var c=r.CursorColumns.visibleColumnFromColumn2(e,t,a),l=e.tabSize,u=l-c%l,d=0;d<u;d++)s+=" ";else s="\t";return new i.ReplaceCommand(n,s,o)},e.tab=function(e,t,n){for(var r=[],c=0,l=n.length;c<l;c++){var u=n[c];if(u.isEmpty()){var d=t.getLineContent(u.startLineNumber);if(/^\s*$/.test(d)){var h=this._goodIndentForLine(e,t,u.startLineNumber);h=h||"\t";var p=e.normalizeIndentation(h);if(!s.startsWith(d,p)){r[c]=new i.ReplaceCommand(new o.Range(u.startLineNumber,1,u.startLineNumber,d.length+1),p,!0);continue}}r[c]=this._replaceJumpToNextIndent(e,t,u,!0)}else{if(u.startLineNumber===u.endLineNumber){var f=t.getLineMaxColumn(u.startLineNumber);if(1!==u.startColumn||u.endColumn!==f){r[c]=this._replaceJumpToNextIndent(e,t,u,!1);continue}}r[c]=new a.ShiftCommand(u,{isUnshift:!1,tabSize:e.tabSize,oneIndent:e.oneIndent,useTabStops:e.useTabStops})}}return r},e.replacePreviousChar=function(e,t,n,s,a){for(var c=[],l=0,u=n.length;l<u;l++){var d=n[l];if(d.isEmpty()){var h=d.getPosition(),p=Math.max(1,h.column-a),f=new o.Range(h.lineNumber,p,h.lineNumber,h.column);c[l]=new i.ReplaceCommand(f,s)}else c[l]=null}return new r.EditOperationResult(c,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1})},e._typeCommand=function(e,t,n){return n?new i.ReplaceCommandWithoutChangingPosition(e,t,!0):new i.ReplaceCommand(e,t,!0)},e._enter=function(t,n,a,u){var d=c.LanguageConfigurationRegistry.getEnterAction(n,u);if(d){var h=d.enterAction,p=d.indentation;if(h.indentAction===l.IndentAction.None)return e._typeCommand(u,"\n"+t.normalizeIndentation(p+h.appendText),a);if(h.indentAction===l.IndentAction.Indent)return e._typeCommand(u,"\n"+t.normalizeIndentation(p+h.appendText),a);if(h.indentAction===l.IndentAction.IndentOutdent){var f=t.normalizeIndentation(p),g=t.normalizeIndentation(p+h.appendText),v="\n"+g+"\n"+f;return a?new i.ReplaceCommandWithoutChangingPosition(u,v,!0):new i.ReplaceCommandWithOffsetCursorState(u,v,-1,g.length-f.length,!0)}if(h.indentAction===l.IndentAction.Outdent){var m=e.unshiftIndent(t,p);return e._typeCommand(u,"\n"+t.normalizeIndentation(m+h.appendText),a)}}var y=c.LanguageConfigurationRegistry.getIndentForEnter(n,u,{unshiftIndent:function(n){return e.unshiftIndent(t,n)},shiftIndent:function(n){return e.shiftIndent(t,n)},normalizeIndentation:function(e){return t.normalizeIndentation(e)}},t.autoIndent),b=n.getLineContent(u.startLineNumber),S=s.getLeadingWhitespace(b).substring(0,u.startColumn-1);if(y){var _=r.CursorColumns.visibleColumnFromColumn2(t,n,u.getEndPosition()),E=u.endColumn,C="\n";S!==t.normalizeIndentation(y.beforeEnter)&&(C=t.normalizeIndentation(y.beforeEnter)+b.substring(S.length,u.startColumn-1)+"\n",u=new o.Range(u.startLineNumber,1,u.endLineNumber,u.endColumn));var w=n.getLineContent(u.endLineNumber),I=s.firstNonWhitespaceIndex(w);if(u=I>=0?u.setEndPosition(u.endLineNumber,Math.max(u.endColumn,I+1)):u.setEndPosition(u.endLineNumber,n.getLineMaxColumn(u.endLineNumber)),a)return new i.ReplaceCommandWithoutChangingPosition(u,C+t.normalizeIndentation(y.afterEnter),!0);var T=0;return E<=I+1&&(t.insertSpaces||(_=Math.ceil(_/t.tabSize)),T=Math.min(_+1-t.normalizeIndentation(y.afterEnter).length-1,0)),new i.ReplaceCommandWithOffsetCursorState(u,C+t.normalizeIndentation(y.afterEnter),0,T,!0)}return e._typeCommand(u,"\n"+t.normalizeIndentation(S),a)},e._runAutoIndentType=function(t,n,i,r){var s=c.LanguageConfigurationRegistry.getIndentationAtPosition(n,i.startLineNumber,i.startColumn),a=c.LanguageConfigurationRegistry.getIndentActionForType(n,i,r,{shiftIndent:function(n){return e.shiftIndent(t,n)},unshiftIndent:function(n){return e.unshiftIndent(t,n)}});if(null===a)return null;if(a!==t.normalizeIndentation(s)){var l=n.getLineFirstNonWhitespaceColumn(i.startLineNumber);return 0===l?e._typeCommand(new o.Range(i.startLineNumber,0,i.endLineNumber,i.endColumn),t.normalizeIndentation(a)+r,!1):e._typeCommand(new o.Range(i.startLineNumber,0,i.endLineNumber,i.endColumn),t.normalizeIndentation(a)+n.getLineContent(i.startLineNumber).substring(l-1,i.startColumn-1)+r,!1)}return null},e._isAutoClosingCloseCharType=function(e,t,n,i){if(!e.autoClosingBrackets||!e.autoClosingPairsClose.hasOwnProperty(i))return!1;for(var r=0,o=n.length;r<o;r++){var s=n[r];if(!s.isEmpty())return!1;var a=s.getPosition();if(t.getLineContent(a.lineNumber).charAt(a.column-1)!==i)return!1}return!0},e._runAutoClosingCloseCharType=function(e,t,n,s){for(var a=[],c=0,l=n.length;c<l;c++){var u=n[c].getPosition(),d=new o.Range(u.lineNumber,u.column,u.lineNumber,u.column+1);a[c]=new i.ReplaceCommand(d,s)}return new r.EditOperationResult(a,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1})},e._isAutoClosingOpenCharType=function(e,t,i,r){if(!e.autoClosingBrackets||!e.autoClosingPairsOpen.hasOwnProperty(r))return!1;for(var o=0,s=i.length;o<s;o++){var a=i[o];if(!a.isEmpty())return!1;var l=a.getPosition(),u=t.getLineContent(l.lineNumber);if(("'"===r||'"'===r)&&l.column>1){var h=d.getMapForWordSeparators(e.wordSeparators),p=u.charCodeAt(l.column-2);if(0===h.get(p))return!1}var f=u.charAt(l.column-1);if(f){var g=e.autoClosingPairsOpen[r]===r,v=!1;for(var m in e.autoClosingPairsClose){var y=e.autoClosingPairsOpen[m]===m;if((g||!y)&&f===m){v=!0;break}}if(!v&&!/\s/.test(f))return!1}t.forceTokenization(l.lineNumber);var b=t.getLineTokens(l.lineNumber),S=!1;try{S=c.LanguageConfigurationRegistry.shouldAutoClosePair(r,b,l.column)}catch(e){n.onUnexpectedError(e)}if(!S)return!1}return!0},e._runAutoClosingOpenCharType=function(e,t,n,o){for(var s=[],a=0,c=n.length;a<c;a++){var l=n[a],u=e.autoClosingPairsOpen[o];s[a]=new i.ReplaceCommandWithOffsetCursorState(l,o+u,0,-u.length)}return new r.EditOperationResult(s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})},e._isSurroundSelectionType=function(e,t,n,i){if(!e.autoClosingBrackets||!e.surroundingPairs.hasOwnProperty(i))return!1;for(var r=0,o=n.length;r<o;r++){var s=n[r];if(s.isEmpty())return!1;for(var a=!0,c=s.startLineNumber;c<=s.endLineNumber;c++){var l=t.getLineContent(c),u=c===s.startLineNumber?s.startColumn-1:0,d=c===s.endLineNumber?s.endColumn-1:l.length,h=l.substring(u,d);if(/[^ \t]/.test(h)){a=!1;break}}if(a)return!1}return!0},e._runSurroundSelectionType=function(e,t,n,i){for(var o=[],s=0,a=n.length;s<a;s++){var c=n[s],l=e.surroundingPairs[i];o[s]=new u.SurroundSelectionCommand(c,i,l)}return new r.EditOperationResult(o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},e._typeInterceptorElectricChar=function(e,t,a,l){if(!e.electricChars.hasOwnProperty(l)||!a.isEmpty())return null;var u=a.getPosition();t.forceTokenization(u.lineNumber);var d,h=t.getLineTokens(u.lineNumber);try{d=c.LanguageConfigurationRegistry.onElectricCharacter(l,h,u.column)}catch(e){n.onUnexpectedError(e)}if(!d)return null;if(d.appendText){E=new i.ReplaceCommandWithOffsetCursorState(a,l+d.appendText,0,-d.appendText.length);return new r.EditOperationResult([E],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}if(d.matchOpenBracket){var p=(h.getLineContent()+l).lastIndexOf(d.matchOpenBracket)+1,f=t.findMatchingBracketUp(d.matchOpenBracket,{lineNumber:u.lineNumber,column:p});if(f){if(f.startLineNumber===u.lineNumber)return null;var g=t.getLineContent(f.startLineNumber),v=s.getLeadingWhitespace(g),m=e.normalizeIndentation(v),y=t.getLineContent(u.lineNumber),b=t.getLineFirstNonWhitespaceColumn(u.lineNumber)||u.column,S=m+y.substring(b-1,u.column-1)+l,_=new o.Range(u.lineNumber,1,u.lineNumber,u.column),E=new i.ReplaceCommand(_,S);return new r.EditOperationResult([E],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null},e.typeWithInterceptors=function(t,n,i,o){if("\n"===o){for(var s=[],a=0,c=i.length;a<c;a++)s[a]=e._enter(t,n,!1,i[a]);return new r.EditOperationResult(s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(t.autoIndent){var l=this._runAutoIndentType(t,n,i[0],o);if(l)return new r.EditOperationResult([l],{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingCloseCharType(t,n,i,o))return this._runAutoClosingCloseCharType(t,n,i,o);if(this._isAutoClosingOpenCharType(t,n,i,o))return this._runAutoClosingOpenCharType(t,n,i,o);if(this._isSurroundSelectionType(t,n,i,o))return this._runSurroundSelectionType(t,n,i,o);if(1===i.length){var u=this._typeInterceptorElectricChar(t,n,i[0],o);if(u)return u}return this.typeWithoutInterceptors(t,n,i,o)},e.typeWithoutInterceptors=function(e,t,n,o){for(var s=[],a=0,c=n.length;a<c;a++)s[a]=new i.ReplaceCommand(n[a],o);return new r.EditOperationResult(s,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1})},e.lineInsertBefore=function(e,t,n){for(var r=[],s=0,a=n.length;s<a;s++){var c=n[s].positionLineNumber;if(1===c)r[s]=new i.ReplaceCommandWithoutChangingPosition(new o.Range(1,1,1,1),"\n");else{c--;var l=t.getLineMaxColumn(c);r[s]=this._enter(e,t,!1,new o.Range(c,l,c,l))}}return r},e.lineInsertAfter=function(e,t,n){for(var i=[],r=0,s=n.length;r<s;r++){var a=n[r].positionLineNumber,c=t.getLineMaxColumn(a);i[r]=this._enter(e,t,!1,new o.Range(a,c,a,c))}return i},e.lineBreakInsert=function(e,t,n){for(var i=[],r=0,o=n.length;r<o;r++)i[r]=this._enter(e,t,!0,n[r]);return i},e}();t.TypeOperations=h}),define(u[421],d([1,0,108,37,252,12,14]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a;!function(e){e[e.None=0]="None",e[e.Regular=1]="Regular",e[e.Separator=2]="Separator"}(a||(a={}));!function(e){e[e.WordStart=0]="WordStart",e[e.WordEnd=1]="WordEnd"}(t.WordNavigationType||(t.WordNavigationType={}));var c=function(){function e(){}return e._createWord=function(e,t,n,i){return{start:n,end:i,wordType:t}},e._findPreviousWordOnLine=function(e,t,n){var i=t.getLineContent(n.lineNumber);return this._doFindPreviousWordOnLine(i,e,n)},e._doFindPreviousWordOnLine=function(e,t,n){for(var i=0,r=n.column-2;r>=0;r--){var o=e.charCodeAt(r),s=t.get(o);if(0===s){if(2===i)return this._createWord(e,i,r+1,this._findEndOfWord(e,t,i,r+1));i=1}else if(2===s){if(1===i)return this._createWord(e,i,r+1,this._findEndOfWord(e,t,i,r+1));i=2}else if(1===s&&0!==i)return this._createWord(e,i,r+1,this._findEndOfWord(e,t,i,r+1))}return 0!==i?this._createWord(e,i,0,this._findEndOfWord(e,t,i,0)):null},e._findEndOfWord=function(e,t,n,i){for(var r=e.length,o=i;o<r;o++){var s=e.charCodeAt(o),a=t.get(s);if(1===a)return o;if(1===n&&2===a)return o;if(2===n&&0===a)return o}return r},e._findNextWordOnLine=function(e,t,n){var i=t.getLineContent(n.lineNumber);return this._doFindNextWordOnLine(i,e,n)},e._doFindNextWordOnLine=function(e,t,n){for(var i=0,r=e.length,o=n.column-1;o<r;o++){var s=e.charCodeAt(o),a=t.get(s);if(0===a){if(2===i)return this._createWord(e,i,this._findStartOfWord(e,t,i,o-1),o);i=1}else if(2===a){if(1===i)return this._createWord(e,i,this._findStartOfWord(e,t,i,o-1),o);i=2}else if(1===a&&0!==i)return this._createWord(e,i,this._findStartOfWord(e,t,i,o-1),o)}return 0!==i?this._createWord(e,i,this._findStartOfWord(e,t,i,r-1),r):null},e._findStartOfWord=function(e,t,n,i){for(var r=i;r>=0;r--){var o=e.charCodeAt(r),s=t.get(o);if(1===s)return r+1;if(1===n&&2===s)return r+1;if(2===n&&0===s)return r+1}return 0},e.moveWordLeft=function(t,n,r,o){var s=r.lineNumber,a=r.column;1===a&&s>1&&(s-=1,a=n.getLineMaxColumn(s));var c=e._findPreviousWordOnLine(t,n,new i.Position(s,a));return 0===o?a=c?c.start+1:1:(c&&a<=c.end+1&&(c=e._findPreviousWordOnLine(t,n,new i.Position(s,c.start+1))),a=c?c.end+1:1),new i.Position(s,a)},e.moveWordRight=function(t,n,r,o){var s=r.lineNumber,a=r.column;a===n.getLineMaxColumn(s)&&s<n.getLineCount()&&(s+=1,a=1);var c=e._findNextWordOnLine(t,n,new i.Position(s,a));return 1===o?a=c?c.end+1:n.getLineMaxColumn(s):(c&&a>=c.start+1&&(c=e._findNextWordOnLine(t,n,new i.Position(s,c.end+1))),a=c?c.start+1:n.getLineMaxColumn(s)),new i.Position(s,a)},e._deleteWordLeftWhitespace=function(e,t){var n=e.getLineContent(t.lineNumber),i=t.column-2,r=o.lastNonWhitespaceIndex(n,i);return r+1<i?new s.Range(t.lineNumber,r+2,t.lineNumber,t.column):null},e.deleteWordLeft=function(t,n,r,o,a){if(!r.isEmpty())return r;var c=new i.Position(r.positionLineNumber,r.positionColumn),l=c.lineNumber,u=c.column;if(1===l&&1===u)return null;if(o){var d=this._deleteWordLeftWhitespace(n,c);if(d)return d}var h=e._findPreviousWordOnLine(t,n,c);return 0===a?h?u=h.start+1:u>1?u=1:(l--,u=n.getLineMaxColumn(l)):(h&&u<=h.end+1&&(h=e._findPreviousWordOnLine(t,n,new i.Position(l,h.start+1))),h?u=h.end+1:u>1?u=1:(l--,u=n.getLineMaxColumn(l))),new s.Range(l,u,c.lineNumber,c.column)},e._findFirstNonWhitespaceChar=function(e,t){for(var n=e.length,i=t;i<n;i++){var r=e.charAt(i);if(" "!==r&&"\t"!==r)return i}return n},e._deleteWordRightWhitespace=function(e,t){var n=e.getLineContent(t.lineNumber),i=t.column-1,r=this._findFirstNonWhitespaceChar(n,i);return i+1<r?new s.Range(t.lineNumber,t.column,t.lineNumber,r+1):null},e.deleteWordRight=function(t,n,r,o,a){if(!r.isEmpty())return r;var c=new i.Position(r.positionLineNumber,r.positionColumn),l=c.lineNumber,u=c.column,d=n.getLineCount(),h=n.getLineMaxColumn(l);if(l===d&&u===h)return null;if(o){var p=this._deleteWordRightWhitespace(n,c);if(p)return p}var f=e._findNextWordOnLine(t,n,c);return 1===a?f?u=f.end+1:u<h||l===d?u=h:(l++,u=(f=e._findNextWordOnLine(t,n,new i.Position(l,1)))?f.start+1:n.getLineMaxColumn(l)):(f&&u>=f.start+1&&(f=e._findNextWordOnLine(t,n,new i.Position(l,f.end+1))),f?u=f.start+1:u<h||l===d?u=h:(l++,u=(f=e._findNextWordOnLine(t,n,new i.Position(l,1)))?f.start+1:n.getLineMaxColumn(l))),new s.Range(l,u,c.lineNumber,c.column)},e.word=function(t,o,a,c,l){var u=r.getMapForWordSeparators(t.wordSeparators),d=e._findPreviousWordOnLine(u,o,l),h=d&&1===d.wordType&&d.start<l.column-1&&l.column-1<=d.end,p=e._findNextWordOnLine(u,o,l),f=p&&1===p.wordType&&p.start<l.column-1&&l.column-1<=p.end;if(!c||!a.hasSelection()){var g,v;return h?(g=d.start+1,v=d.end+1):f?(g=p.start+1,v=p.end+1):(g=d?d.end+1:1,v=p?p.start+1:o.getLineMaxColumn(l.lineNumber)),new n.SingleCursorState(new s.Range(l.lineNumber,g,l.lineNumber,v),0,new i.Position(l.lineNumber,v),0)}var m,y;h?(m=d.start+1,y=d.end+1):f?(m=p.start+1,y=p.end+1):(m=l.column,y=l.column);var b,S=l.lineNumber;if(l.isBeforeOrEqual(a.selectionStart.getStartPosition())){b=m;_=new i.Position(S,b);a.selectionStart.containsPosition(_)&&(b=a.selectionStart.endColumn)}else{b=y;var _=new i.Position(S,b);a.selectionStart.containsPosition(_)&&(b=a.selectionStart.startColumn)}return a.move(a.hasSelection(),S,b,0)},e}();t.WordOperations=c}),define(u[422],d([1,0,108,37,14,418,421,24]),function(e,t,n,i,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(){}return e.addCursorDown=function(e,t){for(var i=[],r=0,s=0,a=t.length;s<a;s++){var c=t[s];i[r++]=new n.CursorState(c.modelState,c.viewState),i[r++]=n.CursorState.fromViewState(o.MoveOperations.translateDown(e.config,e.viewModel,c.viewState))}return i},e.addCursorUp=function(e,t){for(var i=[],r=0,s=0,a=t.length;s<a;s++){var c=t[s];i[r++]=new n.CursorState(c.modelState,c.viewState),i[r++]=n.CursorState.fromViewState(o.MoveOperations.translateUp(e.config,e.viewModel,c.viewState))}return i},e.moveToBeginningOfLine=function(e,t,n){for(var i=[],r=0,o=t.length;r<o;r++){var s=t[r];i[r]=this._moveToLineStart(e,s,n)}return i},e._moveToLineStart=function(e,t,n){var i=t.viewState.position.column,r=i===t.modelState.position.column,o=t.viewState.position.lineNumber,s=i===e.viewModel.getLineFirstNonWhitespaceColumn(o);return r||s?this._moveToLineStartByModel(e,t,n):this._moveToLineStartByView(e,t,n)},e._moveToLineStartByView=function(e,t,i){return n.CursorState.fromViewState(o.MoveOperations.moveToBeginningOfLine(e.config,e.viewModel,t.viewState,i))},e._moveToLineStartByModel=function(e,t,i){return n.CursorState.fromModelState(o.MoveOperations.moveToBeginningOfLine(e.config,e.model,t.modelState,i))},e.moveToEndOfLine=function(e,t,n){for(var i=[],r=0,o=t.length;r<o;r++){var s=t[r];i[r]=this._moveToLineEnd(e,s,n)}return i},e._moveToLineEnd=function(e,t,n){var i=t.viewState.position,r=e.viewModel.getLineMaxColumn(i.lineNumber),o=i.column===r,s=t.modelState.position,a=e.model.getLineMaxColumn(s.lineNumber),c=r-i.column==a-s.column;return o||c?this._moveToLineEndByModel(e,t,n):this._moveToLineEndByView(e,t,n)},e._moveToLineEndByView=function(e,t,i){return n.CursorState.fromViewState(o.MoveOperations.moveToEndOfLine(e.config,e.viewModel,t.viewState,i))},e._moveToLineEndByModel=function(e,t,i){return n.CursorState.fromModelState(o.MoveOperations.moveToEndOfLine(e.config,e.model,t.modelState,i))},e.expandLineSelection=function(e,t){for(var o=[],s=0,a=t.length;s<a;s++){var c=t[s].viewState.selection,l=c.startLineNumber,u=e.viewModel.getLineCount(),d=c.endLineNumber,h=void 0;d===u?h=e.viewModel.getLineMaxColumn(u):(d++,h=1),o[s]=n.CursorState.fromViewState(new n.SingleCursorState(new r.Range(l,1,l,1),0,new i.Position(d,h),0))}return o},e.moveToBeginningOfBuffer=function(e,t,i){for(var r=[],s=0,a=t.length;s<a;s++){var c=t[s];r[s]=n.CursorState.fromModelState(o.MoveOperations.moveToBeginningOfBuffer(e.config,e.model,c.modelState,i))}return r},e.moveToEndOfBuffer=function(e,t,i){for(var r=[],s=0,a=t.length;s<a;s++){var c=t[s];r[s]=n.CursorState.fromModelState(o.MoveOperations.moveToEndOfBuffer(e.config,e.model,c.modelState,i))}return r},e.selectAll=function(e,t){if(e.model.hasEditableRange()){var o=e.model.getEditableRange();if(!t.modelState.selection.equalsRange(o))return n.CursorState.fromModelState(new n.SingleCursorState(new r.Range(o.startLineNumber,o.startColumn,o.startLineNumber,o.startColumn),0,new i.Position(o.endLineNumber,o.endColumn),0))}var s=e.model.getLineCount(),a=e.model.getLineMaxColumn(s);return n.CursorState.fromModelState(new n.SingleCursorState(new r.Range(1,1,1,1),0,new i.Position(s,a),0))},e.line=function(e,t,o,s,a){var c=e.model.validatePosition(s),l=a?e.validateViewPosition(new i.Position(a.lineNumber,a.column),c):e.convertModelPositionToViewPosition(c);if(!o||!t.modelState.hasSelection()){var u=e.model.getLineCount(),d=c.lineNumber+1,h=1;return d>u&&(d=u,h=e.model.getLineMaxColumn(d)),n.CursorState.fromModelState(new n.SingleCursorState(new r.Range(c.lineNumber,1,d,h),0,new i.Position(d,h),0))}var p=t.modelState.selectionStart.getStartPosition().lineNumber;if(c.lineNumber<p)return n.CursorState.fromViewState(t.viewState.move(t.modelState.hasSelection(),l.lineNumber,1,0));if(c.lineNumber>p){var u=e.viewModel.getLineCount(),f=l.lineNumber+1,g=1;return f>u&&(f=u,g=e.viewModel.getLineMaxColumn(f)),n.CursorState.fromViewState(t.viewState.move(t.modelState.hasSelection(),f,g,0))}var v=t.modelState.selectionStart.getEndPosition();return n.CursorState.fromModelState(t.modelState.move(t.modelState.hasSelection(),v.lineNumber,v.column,0))},e.word=function(e,t,i,r){var o=e.model.validatePosition(r);return n.CursorState.fromModelState(s.WordOperations.word(e.config,e.model,t.modelState,i,o))},e.cancelSelection=function(e,t){if(!t.modelState.hasSelection())return new n.CursorState(t.modelState,t.viewState);var o=t.viewState.position.lineNumber,s=t.viewState.position.column;return n.CursorState.fromViewState(new n.SingleCursorState(new r.Range(o,s,o,s),0,new i.Position(o,s),0))},e.moveTo=function(e,t,r,o,s){var a=e.model.validatePosition(o),c=s?e.validateViewPosition(new i.Position(s.lineNumber,s.column),a):e.convertModelPositionToViewPosition(a);return n.CursorState.fromViewState(t.viewState.move(r,c.lineNumber,c.column,0))},e.move=function(e,t,n){var i=n.select,r=n.value;switch(n.direction){case 0:return 4===n.unit?this._moveHalfLineLeft(e,t,i):this._moveLeft(e,t,i,r);case 1:return 4===n.unit?this._moveHalfLineRight(e,t,i):this._moveRight(e,t,i,r);case 2:return 2===n.unit?this._moveUpByViewLines(e,t,i,r):this._moveUpByModelLines(e,t,i,r);case 3:return 2===n.unit?this._moveDownByViewLines(e,t,i,r):this._moveDownByModelLines(e,t,i,r);case 4:return this._moveToViewMinColumn(e,t,i);case 5:return this._moveToViewFirstNonWhitespaceColumn(e,t,i);case 6:return this._moveToViewCenterColumn(e,t,i);case 7:return this._moveToViewMaxColumn(e,t,i);case 8:return this._moveToViewLastNonWhitespaceColumn(e,t,i);case 9:var o=t[0],s=e.getCompletelyVisibleModelRange(),a=this._firstLineNumberInRange(e.model,s,r),c=e.model.getLineFirstNonWhitespaceColumn(a);return[this._moveToModelPosition(e,o,i,a,c)];case 11:var o=t[0],s=e.getCompletelyVisibleModelRange(),a=this._lastLineNumberInRange(e.model,s,r),c=e.model.getLineFirstNonWhitespaceColumn(a);return[this._moveToModelPosition(e,o,i,a,c)];case 10:var o=t[0],s=e.getCompletelyVisibleModelRange(),a=Math.round((s.startLineNumber+s.endLineNumber)/2),c=e.model.getLineFirstNonWhitespaceColumn(a);return[this._moveToModelPosition(e,o,i,a,c)];case 12:for(var l=e.getCompletelyVisibleViewRange(),u=[],d=0,h=t.length;d<h;d++){o=t[d];u[d]=this.findPositionInViewportIfOutside(e,o,l,i)}return u}return null},e.findPositionInViewportIfOutside=function(e,t,i,r){var o=t.viewState.position.lineNumber;if(i.startLineNumber<=o&&o<=i.endLineNumber-1)return new n.CursorState(t.modelState,t.viewState);o>i.endLineNumber-1&&(o=i.endLineNumber-1),o<i.startLineNumber&&(o=i.startLineNumber);var s=e.viewModel.getLineFirstNonWhitespaceColumn(o);return this._moveToViewPosition(e,t,r,o,s)},e._firstLineNumberInRange=function(e,t,n){var i=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(i)&&i++,Math.min(t.endLineNumber,i+n-1)},e._lastLineNumberInRange=function(e,t,n){var i=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(i)&&i++,Math.max(i,t.endLineNumber-n+1)},e._moveLeft=function(e,t,i,r){for(var s=[],a=0,c=t.length;a<c;a++){var l=t[a];s[a]=n.CursorState.fromViewState(o.MoveOperations.moveLeft(e.config,e.viewModel,l.viewState,i,r))}return s},e._moveHalfLineLeft=function(e,t,i){for(var r=[],s=0,a=t.length;s<a;s++){var c=t[s],l=c.viewState.position.lineNumber,u=Math.round(e.viewModel.getLineContent(l).length/2);r[s]=n.CursorState.fromViewState(o.MoveOperations.moveLeft(e.config,e.viewModel,c.viewState,i,u))}return r},e._moveRight=function(e,t,i,r){for(var s=[],a=0,c=t.length;a<c;a++){var l=t[a];s[a]=n.CursorState.fromViewState(o.MoveOperations.moveRight(e.config,e.viewModel,l.viewState,i,r))}return s},e._moveHalfLineRight=function(e,t,i){for(var r=[],s=0,a=t.length;s<a;s++){var c=t[s],l=c.viewState.position.lineNumber,u=Math.round(e.viewModel.getLineContent(l).length/2);r[s]=n.CursorState.fromViewState(o.MoveOperations.moveRight(e.config,e.viewModel,c.viewState,i,u))}return r},e._moveDownByViewLines=function(e,t,i,r){for(var s=[],a=0,c=t.length;a<c;a++){var l=t[a];s[a]=n.CursorState.fromViewState(o.MoveOperations.moveDown(e.config,e.viewModel,l.viewState,i,r))}return s},e._moveDownByModelLines=function(e,t,i,r){for(var s=[],a=0,c=t.length;a<c;a++){var l=t[a];s[a]=n.CursorState.fromModelState(o.MoveOperations.moveDown(e.config,e.model,l.modelState,i,r))}return s},e._moveUpByViewLines=function(e,t,i,r){for(var s=[],a=0,c=t.length;a<c;a++){var l=t[a];s[a]=n.CursorState.fromViewState(o.MoveOperations.moveUp(e.config,e.viewModel,l.viewState,i,r))}return s},e._moveUpByModelLines=function(e,t,i,r){for(var s=[],a=0,c=t.length;a<c;a++){var l=t[a];s[a]=n.CursorState.fromModelState(o.MoveOperations.moveUp(e.config,e.model,l.modelState,i,r))}return s},e._moveToViewPosition=function(e,t,i,r,o){return n.CursorState.fromViewState(t.viewState.move(i,r,o,0))},e._moveToModelPosition=function(e,t,i,r,o){return n.CursorState.fromModelState(t.modelState.move(i,r,o,0))},e._moveToViewMinColumn=function(e,t,n){for(var i=[],r=0,o=t.length;r<o;r++){var s=t[r],a=s.viewState.position.lineNumber,c=e.viewModel.getLineMinColumn(a);i[r]=this._moveToViewPosition(e,s,n,a,c)}return i},e._moveToViewFirstNonWhitespaceColumn=function(e,t,n){for(var i=[],r=0,o=t.length;r<o;r++){var s=t[r],a=s.viewState.position.lineNumber,c=e.viewModel.getLineFirstNonWhitespaceColumn(a);i[r]=this._moveToViewPosition(e,s,n,a,c)}return i},e._moveToViewCenterColumn=function(e,t,n){for(var i=[],r=0,o=t.length;r<o;r++){var s=t[r],a=s.viewState.position.lineNumber,c=Math.round((e.viewModel.getLineMaxColumn(a)+e.viewModel.getLineMinColumn(a))/2);i[r]=this._moveToViewPosition(e,s,n,a,c)}return i},e._moveToViewMaxColumn=function(e,t,n){for(var i=[],r=0,o=t.length;r<o;r++){var s=t[r],a=s.viewState.position.lineNumber,c=e.viewModel.getLineMaxColumn(a);i[r]=this._moveToViewPosition(e,s,n,a,c)}return i},e._moveToViewLastNonWhitespaceColumn=function(e,t,n){for(var i=[],r=0,o=t.length;r<o;r++){var s=t[r],a=s.viewState.position.lineNumber,c=e.viewModel.getLineLastNonWhitespaceColumn(a);i[r]=this._moveToViewPosition(e,s,n,a,c)}return i},e}();t.CursorMoveCommands=c;!function(e){e.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down'\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter',\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(e){if(!a.isObject(e))return!1;var t=e;return!(!a.isString(t.to)||!a.isUndefined(t.select)&&!a.isBoolean(t.select)||!a.isUndefined(t.by)&&!a.isString(t.by)||!a.isUndefined(t.value)&&!a.isNumber(t.value))}}]},e.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},e.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},e.parse=function(t){if(!t.to)return null;var n;switch(t.to){case e.RawDirection.Left:n=0;break;case e.RawDirection.Right:n=1;break;case e.RawDirection.Up:n=2;break;case e.RawDirection.Down:n=3;break;case e.RawDirection.WrappedLineStart:n=4;break;case e.RawDirection.WrappedLineFirstNonWhitespaceCharacter:n=5;break;case e.RawDirection.WrappedLineColumnCenter:n=6;break;case e.RawDirection.WrappedLineEnd:n=7;break;case e.RawDirection.WrappedLineLastNonWhitespaceCharacter:n=8;break;case e.RawDirection.ViewPortTop:n=9;break;case e.RawDirection.ViewPortBottom:n=11;break;case e.RawDirection.ViewPortCenter:n=10;break;case e.RawDirection.ViewPortIfOutside:n=12;break;default:return null}var i=0;switch(t.by){case e.RawUnit.Line:i=1;break;case e.RawUnit.WrappedLine:i=2;break;case e.RawUnit.Character:i=3;break;case e.RawUnit.HalfLine:i=4}return{direction:n,unit:i,select:!!t.select,value:t.value||1}};!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Up=2]="Up",e[e.Down=3]="Down",e[e.WrappedLineStart=4]="WrappedLineStart",e[e.WrappedLineFirstNonWhitespaceCharacter=5]="WrappedLineFirstNonWhitespaceCharacter",e[e.WrappedLineColumnCenter=6]="WrappedLineColumnCenter",e[e.WrappedLineEnd=7]="WrappedLineEnd",e[e.WrappedLineLastNonWhitespaceCharacter=8]="WrappedLineLastNonWhitespaceCharacter",e[e.ViewPortTop=9]="ViewPortTop",e[e.ViewPortCenter=10]="ViewPortCenter",e[e.ViewPortBottom=11]="ViewPortBottom",e[e.ViewPortIfOutside=12]="ViewPortIfOutside"}(e.Direction||(e.Direction={}));!function(e){e[e.None=0]="None",e[e.Line=1]="Line",e[e.WrappedLine=2]="WrappedLine",e[e.Character=3]="Character",e[e.HalfLine=4]="HalfLine"}(e.Unit||(e.Unit={}))}(t.CursorMove||(t.CursorMove={}))}),define(u[768],d([1,0,108,37,14,53]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e){this._setState(e,new n.SingleCursorState(new r.Range(1,1,1,1),0,new i.Position(1,1),0),new n.SingleCursorState(new r.Range(1,1,1,1),0,new i.Position(1,1),0))}return e.prototype.dispose=function(e){e.model._removeMarker(this._selStartMarker),e.model._removeMarker(this._selEndMarker)},e.prototype.asCursorState=function(){return new n.CursorState(this.modelState,this.viewState)},e.prototype.readSelectionFromMarkers=function(e){var t=e.model._getMarker(this._selStartMarker),n=e.model._getMarker(this._selEndMarker);return this.modelState.selection.getDirection()===o.SelectionDirection.LTR?new o.Selection(t.lineNumber,t.column,n.lineNumber,n.column):new o.Selection(n.lineNumber,n.column,t.lineNumber,t.column)},e.prototype.ensureValidState=function(e){this._setState(e,this.modelState,this.viewState)},e.prototype.setState=function(e,t,n){this._setState(e,t,n)},e.prototype._setState=function(e,t,o){if(t){var s=e.model.validateRange(t.selectionStart),a=t.selectionStart.equalsRange(s)?t.selectionStartLeftoverVisibleColumns:0,c=e.model.validatePosition(t.position),l=t.position.equals(c)?t.leftoverVisibleColumns:0;t=new n.SingleCursorState(s,a,c,l)}else{var s=e.model.validateRange(e.convertViewRangeToModelRange(o.selectionStart)),c=e.model.validatePosition(e.convertViewPositionToModelPosition(o.position.lineNumber,o.position.column));t=new n.SingleCursorState(s,o.selectionStartLeftoverVisibleColumns,c,o.leftoverVisibleColumns)}if(o){var u=e.validateViewRange(o.selectionStart,t.selectionStart),d=e.validateViewPosition(o.position,t.position);o=new n.SingleCursorState(u,t.selectionStartLeftoverVisibleColumns,d,t.leftoverVisibleColumns)}else{var h=e.convertModelPositionToViewPosition(new i.Position(t.selectionStart.startLineNumber,t.selectionStart.startColumn)),p=e.convertModelPositionToViewPosition(new i.Position(t.selectionStart.endLineNumber,t.selectionStart.endColumn)),u=new r.Range(h.lineNumber,h.column,p.lineNumber,p.column),d=e.convertModelPositionToViewPosition(t.position);o=new n.SingleCursorState(u,t.selectionStartLeftoverVisibleColumns,d,t.leftoverVisibleColumns)}this.modelState&&this.viewState&&this.modelState.equals(t)&&this.viewState.equals(o)||(this.modelState=t,this.viewState=o,this._selStartMarker=this._ensureMarker(e,this._selStartMarker,this.modelState.selection.startLineNumber,this.modelState.selection.startColumn,!0),this._selEndMarker=this._ensureMarker(e,this._selEndMarker,this.modelState.selection.endLineNumber,this.modelState.selection.endColumn,!1))},e.prototype._ensureMarker=function(e,t,n,i,r){return t?(e.model._changeMarker(t,n,i),e.model._changeMarkerStickiness(t,r),t):e.model._addMarker(0,n,i,r)},e}();t.OneCursor=s}),define(u[767],d([1,0,768,53,108]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.context=e,this.primaryCursor=new n.OneCursor(e),this.secondaryCursors=[],this.lastAddedCursorIndex=0}return e.prototype.dispose=function(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()},e.prototype.updateContext=function(e){this.context=e},e.prototype.ensureValidState=function(){this.primaryCursor.ensureValidState(this.context);for(var e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].ensureValidState(this.context)},e.prototype.readSelectionFromMarkers=function(){var e=[];e[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(var t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t].readSelectionFromMarkers(this.context);return e},e.prototype.getAll=function(){var e=[];e[0]=this.primaryCursor.asCursorState();for(var t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t].asCursorState();return e},e.prototype.getViewPositions=function(){var e=[];e[0]=this.primaryCursor.viewState.position;for(var t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t].viewState.position;return e},e.prototype.getSelections=function(){var e=[];e[0]=this.primaryCursor.modelState.selection;for(var t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t].modelState.selection;return e},e.prototype.getViewSelections=function(){var e=[];e[0]=this.primaryCursor.viewState.selection;for(var t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t].viewState.selection;return e},e.prototype.setSelections=function(e){this.setStates(r.CursorState.fromModelSelections(e))},e.prototype.getPrimaryCursor=function(){return this.primaryCursor.asCursorState()},e.prototype.setStates=function(e){null!==e&&(this.primaryCursor.setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))},e.prototype._setSecondaryStates=function(e){var t=this.secondaryCursors.length,n=e.length;if(t<n)for(var i=n-t,r=0;r<i;r++)this._addSecondaryCursor();else if(t>n)for(var o=t-n,r=0;r<o;r++)this._removeSecondaryCursor(this.secondaryCursors.length-1);for(r=0;r<n;r++)this.secondaryCursors[r].setState(this.context,e[r].modelState,e[r].viewState)},e.prototype.killSecondaryCursors=function(){this._setSecondaryStates([])},e.prototype._addSecondaryCursor=function(){this.secondaryCursors.push(new n.OneCursor(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length},e.prototype.getLastAddedCursorIndex=function(){return 0===this.secondaryCursors.length||0===this.lastAddedCursorIndex?0:this.lastAddedCursorIndex},e.prototype._removeSecondaryCursor=function(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.secondaryCursors[e].dispose(this.context),this.secondaryCursors.splice(e,1)},e.prototype._getAll=function(){var e=[];e[0]=this.primaryCursor;for(var t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t];return e},e.prototype.normalize=function(){if(0!==this.secondaryCursors.length){for(var e=this._getAll(),t=[],n=0,o=e.length;n<o;n++)t.push({index:n,selection:e[n].modelState.selection,viewSelection:e[n].viewState.selection});t.sort(function(e,t){return e.viewSelection.startLineNumber===t.viewSelection.startLineNumber?e.viewSelection.startColumn-t.viewSelection.startColumn:e.viewSelection.startLineNumber-t.viewSelection.startLineNumber});for(var s=0;s<t.length-1;s++){var a=t[s],c=t[s+1],l=a.viewSelection,u=c.viewSelection;if(u.isEmpty()||l.isEmpty()?u.getStartPosition().isBeforeOrEqual(l.getEndPosition()):u.getStartPosition().isBefore(l.getEndPosition())){var d=a.index<c.index?s:s+1,h=a.index<c.index?s+1:s,p=t[h].index,f=t[d].index,g=t[h].selection,v=t[d].selection;if(!g.equalsSelection(v)){var m=g.plusRange(v),y=g.selectionStartLineNumber===g.startLineNumber&&g.selectionStartColumn===g.startColumn,b=v.selectionStartLineNumber===v.startLineNumber&&v.selectionStartColumn===v.startColumn,S=void 0;p===this.lastAddedCursorIndex?(S=y,this.lastAddedCursorIndex=f):S=b;var _=void 0;_=S?new i.Selection(m.startLineNumber,m.startColumn,m.endLineNumber,m.endColumn):new i.Selection(m.endLineNumber,m.endColumn,m.startLineNumber,m.startColumn),t[d].selection=_;var E=r.CursorState.fromModelSelection(_);e[f].setState(this.context,E.modelState,E.viewState)}for(var C=0;C<t.length;C++)t[C].index>p&&t[C].index--;e.splice(p,1),t.splice(h,1),this._removeSecondaryCursor(p-1),s--}}}},e}();t.CursorCollection=o}),define(u[766],d([1,0,12,14,53,112,298,361,173]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t,n){this._selection=e,this._isMovingDown=t,this._autoIndent=n,this._moveEndLineSelectionShrink=!1}return e.prototype.getEditOperations=function(e,t){var s=e.getLineCount();if((!this._isMovingDown||this._selection.endLineNumber!==s)&&(this._isMovingDown||1!==this._selection.startLineNumber)){this._moveEndPositionDown=!1;var c=this._selection;c.startLineNumber<c.endLineNumber&&1===c.endColumn&&(this._moveEndPositionDown=!0,c=c.setEndPosition(c.endLineNumber-1,e.getLineMaxColumn(c.endLineNumber-1)));var l=e.getOptions().tabSize,u=e.getOptions().insertSpaces,d=this.buildIndentConverter(l),h={getLineTokens:function(t){return e.getLineTokens(t)},getLanguageIdentifier:function(){return e.getLanguageIdentifier()},getLanguageIdAtPosition:function(t,n){return e.getLanguageIdAtPosition(t,n)},getLineContent:null};if(c.startLineNumber===c.endLineNumber&&1===e.getLineMaxColumn(c.startLineNumber)){var p=c.startLineNumber,f=this._isMovingDown?p+1:p-1;1===e.getLineMaxColumn(f)?t.addEditOperation(new i.Range(1,1,1,1),null):(t.addEditOperation(new i.Range(p,1,p,1),e.getLineContent(f)),t.addEditOperation(new i.Range(f,1,f,e.getLineMaxColumn(f)),null)),c=new r.Selection(f,1,f,1)}else{var g,v;if(this._isMovingDown){g=c.endLineNumber+1,v=e.getLineContent(g),t.addEditOperation(new i.Range(g-1,e.getLineMaxColumn(g-1),g,e.getLineMaxColumn(g)),null);var m=v;if(this.isAutoIndent(e,c)){var y=this.matchEnterRule(e,c.startLineNumber-1,g,d,l);if(null!==y){var b=n.getLeadingWhitespace(e.getLineContent(g)),S=y+a.getSpaceCnt(b,l),_=a.generateIndent(S,l,u);m=_+this.trimLeft(v)}else{h.getLineContent=function(t){return t===c.startLineNumber?e.getLineContent(g):e.getLineContent(t)};var E=o.LanguageConfigurationRegistry.getGoodIndentForLine(h,e.getLanguageIdAtPosition(g,1),c.startLineNumber,d);if(null!==E){b=n.getLeadingWhitespace(e.getLineContent(g));if((S=a.getSpaceCnt(E,l))!==(k=a.getSpaceCnt(b,l))){_=a.generateIndent(S,l,u);m=_+this.trimLeft(v)}}}if(t.addEditOperation(new i.Range(c.startLineNumber,1,c.startLineNumber,1),m+"\n"),null!==(w=this.matchEnterRule(e,c.endLineNumber+1,c.startLineNumber,d,l)))0!==w&&this.getIndentEditsOfMovingBlock(e,t,c,l,u,w);else{h.getLineContent=function(t){return t===c.startLineNumber?m:t>=c.startLineNumber+1&&t<=c.endLineNumber+1?e.getLineContent(t-1):e.getLineContent(t)};var C=o.LanguageConfigurationRegistry.getGoodIndentForLine(h,e.getLanguageIdAtPosition(g,1),c.startLineNumber+1,d);if(null!==C){b=n.getLeadingWhitespace(e.getLineContent(c.startLineNumber));if((S=a.getSpaceCnt(C,l))!==(k=a.getSpaceCnt(b,l))){x=S-k;this.getIndentEditsOfMovingBlock(e,t,c,l,u,x)}}}}else t.addEditOperation(new i.Range(c.startLineNumber,1,c.startLineNumber,1),m+"\n")}else if(g=c.startLineNumber-1,v=e.getLineContent(g),t.addEditOperation(new i.Range(g,1,g+1,1),null),t.addEditOperation(new i.Range(c.endLineNumber,e.getLineMaxColumn(c.endLineNumber),c.endLineNumber,e.getLineMaxColumn(c.endLineNumber)),"\n"+v),this.isAutoIndent(e,c)){h.getLineContent=function(t){return t===g?e.getLineContent(c.startLineNumber):e.getLineContent(t)};var w=this.matchEnterRule(e,c.startLineNumber-2,c.startLineNumber,d,l);if(null!==w)0!==w&&this.getIndentEditsOfMovingBlock(e,t,c,l,u,w);else{var I=o.LanguageConfigurationRegistry.getGoodIndentForLine(h,e.getLanguageIdAtPosition(c.startLineNumber,1),g,d);if(null!==I){var T=n.getLeadingWhitespace(e.getLineContent(c.startLineNumber)),S=a.getSpaceCnt(I,l),k=a.getSpaceCnt(T,l);if(S!==k){var x=S-k;this.getIndentEditsOfMovingBlock(e,t,c,l,u,x)}}}}}this._selectionId=t.trackSelection(c)}},e.prototype.buildIndentConverter=function(e){return{shiftIndent:function(t){for(var n=s.ShiftCommand.shiftIndentCount(t,t.length+1,e),i="",r=0;r<n;r++)i+="\t";return i},unshiftIndent:function(t){for(var n=s.ShiftCommand.unshiftIndentCount(t,t.length+1,e),i="",r=0;r<n;r++)i+="\t";return i}}},e.prototype.matchEnterRule=function(e,t,r,s,l){for(;t>=1;){var u=e.getLineContent(t);if(n.lastNonWhitespaceIndex(u)>=0)break;t--}if(t<1||r>e.getLineCount())return null;var d=e.getLineMaxColumn(t),h=o.LanguageConfigurationRegistry.getEnterAction(e,new i.Range(t,d,t,d));if(h){var p=h.indentation,f=h.enterAction;f.indentAction===c.IndentAction.None?p=h.indentation+f.appendText:f.indentAction===c.IndentAction.Indent?p=h.indentation+f.appendText:f.indentAction===c.IndentAction.IndentOutdent?p=h.indentation:f.indentAction===c.IndentAction.Outdent&&(p=s.unshiftIndent(h.indentation)+f.appendText);var g=e.getLineContent(r);if(this.trimLeft(g).indexOf(this.trimLeft(p))>=0){var v=n.getLeadingWhitespace(e.getLineContent(r)),m=n.getLeadingWhitespace(p);return 2&o.LanguageConfigurationRegistry.getIndentMetadata(e,r)&&(m=s.unshiftIndent(m)),a.getSpaceCnt(m,l)-a.getSpaceCnt(v,l)}}return null},e.prototype.trimLeft=function(e){return e.replace(/^\s+/,"")},e.prototype.isAutoIndent=function(e,t){if(!this._autoIndent)return!1;var n=e.getLanguageIdAtPosition(t.startLineNumber,1);return n===e.getLanguageIdAtPosition(t.endLineNumber,1)&&null!==o.LanguageConfigurationRegistry.getIndentRulesSupport(n)},e.prototype.getIndentEditsOfMovingBlock=function(e,t,r,o,s,c){for(var l=r.startLineNumber;l<=r.endLineNumber;l++){var u=e.getLineContent(l),d=n.getLeadingWhitespace(u),h=a.getSpaceCnt(d,o)+c,p=a.generateIndent(h,o,s);p!==d&&(t.addEditOperation(new i.Range(l,1,l,d.length+1),p),l===r.endLineNumber&&r.endColumn<=d.length+1&&""===p&&(this._moveEndLineSelectionShrink=!0))}},e.prototype.computeCursorState=function(e,t){var n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&n.startLineNumber<n.endLineNumber&&(n=n.setEndPosition(n.endLineNumber,2)),n},e}();t.MoveLinesCommand=l}),define(u[765],d([2,3]),function(e,t){return e.create("vs/editor/common/controller/cursor",t)}),define(u[762],d([1,0,765,12,7,767,14,53,33,108,112,419,300,149,147,152,8]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,v,m){"use strict";function y(e){for(var t=0,n=e.length;t<n;t++)if(6===e[t].type)return!0;return!1}Object.defineProperty(t,"__esModule",{value:!0});var b=function(){return function(e,t,n){this.selections=e,this.source=t,this.reason=n}}();t.CursorStateChangedEvent=b;var S=function(){function e(e,t){this.modelVersionId=e.getVersionId(),this.cursorState=t.getAll()}return e.prototype.equals=function(e){if(!e)return!1;if(this.modelVersionId!==e.modelVersionId)return!1;if(this.cursorState.length!==e.cursorState.length)return!1;for(var t=0,n=this.cursorState.length;t<n;t++)if(!this.cursorState[t].equals(e.cursorState[t]))return!1;return!0},e}();t.CursorModelState=S;var _=function(e){function t(t,n,i){var r=e.call(this)||this;r._onDidChange=r._register(new m.Emitter),r.onDidChange=r._onDidChange.event,r._configuration=t,r._model=n,r._viewModel=i,r.context=new l.CursorContext(r._configuration,r._model,r._viewModel),r._cursors=new o.CursorCollection(r.context),r._isHandling=!1,r._isDoingComposition=!1,r._columnSelectData=null,r._register(r._model.addBulkListener(function(e){if(!r._isHandling){for(var t=!1,n=!1,i=0,o=e.length;i<o;i++){var s=e[i];if(s.type===f.TextModelEventType.ModelRawContentChanged2){t=!0;var a=s.data;n=n||a.containsEvent(1)}}t&&r._onModelContentChanged(n)}})),r._register(i.addEventListener(function(e){y(e)&&r.setStates("viewModel",g.CursorChangeReason.NotSet,r.getAll())}));var s=function(){r.context=new l.CursorContext(r._configuration,r._model,r._viewModel),r._cursors.updateContext(r.context)};return r._register(r._model.onDidChangeLanguage(function(e){s()})),r._register(u.LanguageConfigurationRegistry.onDidChange(function(){s()})),r._register(n.onDidChangeOptions(function(){s()})),r._register(r._configuration.onDidChange(function(e){l.CursorConfiguration.shouldRecreate(e)&&s()})),r}return h(t,e),t.prototype.dispose=function(){this._cursors.dispose(),e.prototype.dispose.call(this)},t.prototype.getPrimaryCursor=function(){return this._cursors.getPrimaryCursor()},t.prototype.getLastAddedCursorIndex=function(){return this._cursors.getLastAddedCursorIndex()},t.prototype.getAll=function(){return this._cursors.getAll()},t.prototype.setStates=function(e,t,n){var i=new S(this._model,this);this._cursors.setStates(n),this._cursors.normalize(),this._columnSelectData=null,this._emitStateChangedIfNecessary(e,t,i)},t.prototype.setColumnSelectData=function(e){this._columnSelectData=e},t.prototype.reveal=function(e,t){this._revealRange(t,0,e)},t.prototype.revealRange=function(e,t,n){this.emitCursorRevealRange(t,n,e)},t.prototype.scrollTo=function(e){this._viewModel.viewLayout.setScrollPosition({scrollTop:e})},t.prototype.saveState=function(){for(var e=[],t=this._cursors.getSelections(),n=0,i=t.length;n<i;n++){var r=t[n];e.push({inSelectionMode:!r.isEmpty(),selectionStart:{lineNumber:r.selectionStartLineNumber,column:r.selectionStartColumn},position:{lineNumber:r.positionLineNumber,column:r.positionColumn}})}return e},t.prototype.restoreState=function(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n],o=1,s=1;r.position&&r.position.lineNumber&&(o=r.position.lineNumber),r.position&&r.position.column&&(s=r.position.column);var a=o,c=s;r.selectionStart&&r.selectionStart.lineNumber&&(a=r.selectionStart.lineNumber),r.selectionStart&&r.selectionStart.column&&(c=r.selectionStart.column),t.push({selectionStartLineNumber:a,selectionStartColumn:c,positionLineNumber:o,positionColumn:s})}this.setStates("restoreState",g.CursorChangeReason.NotSet,l.CursorState.fromModelSelections(t)),this.reveal(!0,0)},t.prototype._onModelContentChanged=function(e){if(e)this._cursors.dispose(),this._cursors=new o.CursorCollection(this.context),this._emitStateChangedIfNecessary("model",g.CursorChangeReason.ContentFlush,null);else{var t=this._cursors.readSelectionFromMarkers();this.setStates("modelChange",g.CursorChangeReason.RecoverFromMarkers,l.CursorState.fromModelSelections(t))}},t.prototype.getSelection=function(){return this._cursors.getPrimaryCursor().modelState.selection},t.prototype.getColumnSelectData=function(){if(this._columnSelectData)return this._columnSelectData;var e=this._cursors.getPrimaryCursor().viewState.position;return{toViewLineNumber:e.lineNumber,toViewVisualColumn:l.CursorColumns.visibleColumnFromColumn2(this.context.config,this.context.viewModel,e)}},t.prototype.getSelections=function(){return this._cursors.getSelections()},t.prototype.getViewSelections=function(){return this._cursors.getViewSelections()},t.prototype.getPosition=function(){return this._cursors.getPrimaryCursor().modelState.position},t.prototype.setSelections=function(e,t){this.setStates(e,g.CursorChangeReason.NotSet,l.CursorState.fromModelSelections(t))},t.prototype._executeEditOperation=function(e){if(e&&!this._configuration.editor.readOnly){e.shouldPushStackElementBefore&&this._model.pushStackElement();var t=E.executeCommands(this._model,this._cursors.getSelections(),e.commands);t&&this._interpretCommandResult(t),e.shouldPushStackElementAfter&&this._model.pushStackElement()}},t.prototype._interpretCommandResult=function(e){e&&0!==e.length&&(this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize())},t.prototype._emitStateChangedIfNecessary=function(e,t,n){var i=new S(this._model,this);if(i.equals(n))return!1;var r=!0;this._model.hasEditableRange()&&(this._model.getEditableRange().containsPosition(i.cursorState[0].modelState.position)||(r=!1));var o=this._cursors.getSelections(),s=this._cursors.getViewSelections();return this._emit([new v.ViewCursorStateChangedEvent(s,r,null)]),this._onDidChange.fire(new b(o,e||"keyboard",t)),!0},t.prototype._revealRange=function(e,t,n){var i=this._cursors.getViewPositions(),r=i[0];if(1===e)for(o=1;o<i.length;o++)i[o].isBefore(r)&&(r=i[o]);else if(2===e)for(var o=1;o<i.length;o++)r.isBeforeOrEqual(i[o])&&(r=i[o]);else if(i.length>1)return;var a=new s.Range(r.lineNumber,r.column,r.lineNumber,r.column);this.emitCursorRevealRange(a,t,n)},t.prototype.emitCursorRevealRange=function(e,t,n){this._emit([new v.ViewRevealRangeRequestEvent(e,t,n)])},t.prototype.trigger=function(e,t,n){var i=c.Handler;if(t!==i.CompositionStart)if(t!==i.CompositionEnd){var o=new S(this._model,this),s=g.CursorChangeReason.NotSet;this._cursors.ensureValidState(),this._isHandling=!0;try{switch(t){case i.Type:this._type(e,n.text);break;case i.ReplacePreviousChar:this._replacePreviousChar(n.text,n.replaceCharCnt);break;case i.Paste:s=g.CursorChangeReason.Paste,this._paste(n.text,n.pasteOnNewLine);break;case i.Cut:this._cut();break;case i.Undo:s=g.CursorChangeReason.Undo,this._interpretCommandResult(this._model.undo());break;case i.Redo:s=g.CursorChangeReason.Redo,this._interpretCommandResult(this._model.redo());break;case i.ExecuteCommand:this._externalExecuteCommand(n);break;case i.ExecuteCommands:this._externalExecuteCommands(n)}}catch(e){r.onUnexpectedError(e)}this._isHandling=!1,this._emitStateChangedIfNecessary(e,s,o)&&this._revealRange(0,0,!0)}else this._isDoingComposition=!1;else this._isDoingComposition=!0},t.prototype._type=function(e,t){if(this._isDoingComposition||"keyboard"!==e)this._executeEditOperation(p.TypeOperations.typeWithoutInterceptors(this.context.config,this.context.model,this.getSelections(),t));else for(var n=0,r=t.length;n<r;n++){var o=t.charCodeAt(n),s=void 0;i.isHighSurrogate(o)&&n+1<r?(s=t.charAt(n)+t.charAt(n+1),n++):s=t.charAt(n),this._executeEditOperation(p.TypeOperations.typeWithInterceptors(this.context.config,this.context.model,this.getSelections(),s))}},t.prototype._replacePreviousChar=function(e,t){this._executeEditOperation(p.TypeOperations.replacePreviousChar(this.context.config,this.context.model,this.getSelections(),e,t))},t.prototype._paste=function(e,t){this._executeEditOperation(p.TypeOperations.paste(this.context.config,this.context.model,this.getSelections(),t,e))},t.prototype._cut=function(){this._executeEditOperation(d.DeleteOperations.cut(this.context.config,this.context.model,this.getSelections()))},t.prototype._externalExecuteCommand=function(e){this._cursors.killSecondaryCursors(),this._executeEditOperation(new l.EditOperationResult([e],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},t.prototype._externalExecuteCommands=function(e){this._executeEditOperation(new l.EditOperationResult(e,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},t}(v.ViewEventEmitter);t.Cursor=_;var E=function(){function e(){}return e.executeCommands=function(e,t,n){for(var i={model:e,selectionsBefore:t,selectionStartMarkers:[],positionMarkers:[]},r=this._innerExecuteCommands(i,n),o=0;o<i.selectionStartMarkers.length;o++)i.model._removeMarker(i.selectionStartMarkers[o]),i.model._removeMarker(i.positionMarkers[o]);return r},e._innerExecuteCommands=function(e,t){if(this._arrayIsEmpty(t))return null;var n=this._getEditOperations(e,t);if(0===n.operations.length)return null;for(var i=n.operations,r=e.model.getEditableRange(),o=r.getStartPosition(),s=r.getEndPosition(),c=0,l=i.length;c<l;c++){var u=i[c].range;if(!o.isBeforeOrEqual(u.getStartPosition())||!u.getEndPosition().isBeforeOrEqual(s))return null}var d=this._getLoserCursorMap(i);if(d.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;for(var h=[],c=0,l=i.length;c<l;c++)d.hasOwnProperty(i[c].identifier.major.toString())||h.push(i[c]);n.hadTrackedEditOperation&&h.length>0&&(h[0]._isTracked=!0);var p=e.model.pushEditOperations(e.selectionsBefore,h,function(n){for(var i=[],r=0;r<e.selectionsBefore.length;r++)i[r]=[];for(r=0;r<n.length;r++){var o=n[r];o.identifier&&i[o.identifier.major].push(o)}for(var s=function(e,t){return e.identifier.minor-t.identifier.minor},c=[],r=0;r<e.selectionsBefore.length;r++)!function(n){i[n].length>0?(i[n].sort(s),c[n]=t[n].computeCursorState(e.model,{getInverseEditOperations:function(){return i[n]},getTrackedSelection:function(t){var n=parseInt(t,10),i=e.model._getMarker(e.selectionStartMarkers[n]),r=e.model._getMarker(e.positionMarkers[n]);return new a.Selection(i.lineNumber,i.column,r.lineNumber,r.column)}})):c[n]=e.selectionsBefore[n]}(r);return c}),f=[];for(var g in d)d.hasOwnProperty(g)&&f.push(parseInt(g,10));f.sort(function(e,t){return t-e});for(c=0;c<f.length;c++)p.splice(f[c],1);return p},e._arrayIsEmpty=function(e){for(var t=0,n=e.length;t<n;t++)if(e[t])return!1;return!0},e._getEditOperations=function(e,t){for(var n=[],i=!1,r=0,o=t.length;r<o;r++)if(t[r]){var s=this._getEditOperationsFromCommand(e,r,t[r]);n=n.concat(s.operations),i=i||s.hadTrackedEditOperation}return{operations:n,hadTrackedEditOperation:i}},e._getEditOperationsFromCommand=function(e,t,i){var o=[],s=0,c=function(e,n){e.isEmpty()&&""===n||o.push({identifier:{major:t,minor:s++},range:e,text:n,forceMoveMarkers:!1,isAutoWhitespaceEdit:i.insertsAutoWhitespace})},l=!1,u={addEditOperation:c,addTrackedEditOperation:function(e,t){l=!0,c(e,t)},trackSelection:function(t,n){var i,r;if(t.isEmpty())if("boolean"==typeof n)i=n,r=n;else{var o=e.model.getLineMaxColumn(t.startLineNumber);t.startColumn===o?(i=!0,r=!0):(i=!1,r=!1)}else t.getDirection()===a.SelectionDirection.LTR?(i=!1,r=!0):(i=!0,r=!1);var s=e.selectionStartMarkers.length;return e.selectionStartMarkers[s]=e.model._addMarker(0,t.selectionStartLineNumber,t.selectionStartColumn,i),e.positionMarkers[s]=e.model._addMarker(0,t.positionLineNumber,t.positionColumn,r),s.toString()}};try{i.getEditOperations(e.model,u)}catch(e){return e.friendlyMessage=n.localize(0,null),r.onUnexpectedError(e),{operations:[],hadTrackedEditOperation:!1}}return{operations:o,hadTrackedEditOperation:l}},e._getLoserCursorMap=function(e){(e=e.slice(0)).sort(function(e,t){return-s.Range.compareRangesUsingEnds(e.range,t.range)});for(var t={},n=1;n<e.length;n++){var i=e[n-1],r=e[n];if(i.range.getStartPosition().isBefore(r.range.getEndPosition())){var o=void 0;t[(o=i.identifier.major>r.identifier.major?i.identifier.major:r.identifier.major).toString()]=!0;for(var a=0;a<e.length;a++)e[a].identifier.major===o&&(e.splice(a,1),a<n&&n--,a--);n>0&&n--}}return t},e}()}),define(u[761],d([2,3]),function(e,t){return e.create("vs/editor/common/model/textModelWithTokens",t)}),define(u[759],d([1,0,761,7,414,203,46,246,219,248,112,188,149]),function(e,t,n,i,r,o,s,a,c,l,u,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(){this._ranges=[]}return e.prototype.registerChangedTokens=function(e){var t=this._ranges,n=t.length,i=n>0?t[n-1]:null;i&&i.toLineNumber===e-1?i.toLineNumber++:t[n]={fromLineNumber:e,toLineNumber:e}},e.prototype.build=function(){return 0===this._ranges.length?null:{ranges:this._ranges}},e}(),g=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r._languageIdentifier=i||a.NULL_LANGUAGE_IDENTIFIER,r._tokenizationListener=s.TokenizationRegistry.onDidChange(function(e){-1!==e.changedLanguages.indexOf(r._languageIdentifier.language)&&(r._resetTokenizationState(),r.emitModelTokensChangedEvent({ranges:[{fromLineNumber:1,toLineNumber:r.getLineCount()}]}))}),r._revalidateTokensTimeout=-1,r._resetTokenizationState(),r}return h(t,e),t.prototype.dispose=function(){this._tokenizationListener.dispose(),this._clearTimers(),this._lastState=null,e.prototype.dispose.call(this)},t.prototype._shouldAutoTokenize=function(){return!1},t.prototype._resetValue=function(t){e.prototype._resetValue.call(this,t),this._resetTokenizationState()},t.prototype._resetTokenizationState=function(){this._clearTimers();for(var e=0;e<this._lines.length;e++)this._lines[e].resetTokenizationState();if(this._tokenizationSupport=null,this.isTooLargeForHavingAMode()||(this._tokenizationSupport=s.TokenizationRegistry.get(this._languageIdentifier.language)),this._tokenizationSupport){var n=null;try{n=this._tokenizationSupport.getInitialState()}catch(e){e.friendlyMessage=t.MODE_TOKENIZATION_FAILED_MSG,i.onUnexpectedError(e),this._tokenizationSupport=null}n&&this._lines[0].setState(n)}this._lastState=null,this._invalidLineStartIndex=0,this._beginBackgroundTokenization()},t.prototype._clearTimers=function(){-1!==this._revalidateTokensTimeout&&(clearTimeout(this._revalidateTokensTimeout),this._revalidateTokensTimeout=-1)},t.prototype._withModelTokensChangedEventBuilder=function(e){var t=new f,n=e(t);if(!this._isDisposing){var i=t.build();i&&this._eventEmitter.emit(p.TextModelEventType.ModelTokensChanged,i)}return n},t.prototype.forceTokenization=function(e){var t=this;if(e<1||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");this._withModelTokensChangedEventBuilder(function(n){t._updateTokensUntilLine(n,e)})},t.prototype.getLineTokens=function(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");return this._getLineTokens(e)},t.prototype._getLineTokens=function(e){return this._lines[e-1].getTokens(this._languageIdentifier.id)},t.prototype.getLanguageIdentifier=function(){return this._languageIdentifier},t.prototype.getModeId=function(){return this._languageIdentifier.language},t.prototype.setMode=function(e){if(this._languageIdentifier.id!==e.id){var t={oldLanguage:this._languageIdentifier.language,newLanguage:e.language};this._languageIdentifier=e,this._resetTokenizationState(),this.emitModelTokensChangedEvent({ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]}),this._emitModelModeChangedEvent(t)}},t.prototype.getLanguageIdAtPosition=function(e,t){if(!this._tokenizationSupport)return this._languageIdentifier.id;var n=this.validatePosition({lineNumber:e,column:t}),i=n.lineNumber,r=n.column;return this._getLineTokens(i).findTokenAtOffset(r-1).languageId},t.prototype._invalidateLine=function(e){this._lines[e].isInvalid=!0,e<this._invalidLineStartIndex&&(this._invalidLineStartIndex<this._lines.length&&(this._lines[this._invalidLineStartIndex].isInvalid=!0),this._invalidLineStartIndex=e,this._beginBackgroundTokenization())},t.prototype._beginBackgroundTokenization=function(){var e=this;this._shouldAutoTokenize()&&-1===this._revalidateTokensTimeout&&(this._revalidateTokensTimeout=setTimeout(function(){e._revalidateTokensTimeout=-1,e._revalidateTokensNow()},0))},t.prototype._warmUpTokens=function(){for(var e=Math.min(100,this.getLineCount()),t=e,n=1;n<=e;n++)if(this._lines[n-1].text.length>=200){t=n-1;break}this._revalidateTokensNow(t),this._invalidLineStartIndex<this._lines.length&&this._beginBackgroundTokenization()},t.prototype._revalidateTokensNow=function(e){var t=this;void 0===e&&(e=this._invalidLineStartIndex+1e6),this._withModelTokensChangedEventBuilder(function(n){e=Math.min(t._lines.length,e);for(var i,o=t._invalidLineStartIndex+1,s=0,a=0,c=0,l=r.StopWatch.create(!1),u=o;u<=e;u++){if((i=l.elapsed())>20){e=u-1;break}if(a=t._lines[u-1].text.length,s>0&&(c=i/s*a,i+c>20)){e=u-1;break}t._updateTokensUntilLine(n,u),s+=a,u=Math.max(u,t._invalidLineStartIndex+1)}i=l.elapsed(),t._invalidLineStartIndex<t._lines.length&&t._beginBackgroundTokenization()})},t.prototype._updateTokensUntilLine=function(e,n){if(this._tokenizationSupport){for(var r=this._lines.length,o=n-1,s=this._invalidLineStartIndex;s<=o;s++){var c=s+1,l=null,u=this._lines[s].text;try{var d=this._lines[s].getState().clone();l=this._tokenizationSupport.tokenize2(this._lines[s].text,d,0)}catch(e){e.friendlyMessage=t.MODE_TOKENIZATION_FAILED_MSG,i.onUnexpectedError(e)}if(l||(l=a.nullTokenize2(this._languageIdentifier.id,u,this._lines[s].getState(),0)),this._lines[s].setTokens(this._languageIdentifier.id,l.tokens),e.registerChangedTokens(s+1),this._lines[s].isInvalid=!1,c<r)if(null!==this._lines[c].getState()&&l.endState.equals(this._lines[c].getState())){for(var h=s+1;h<r&&!this._lines[h].isInvalid;){if(h+1<r){if(null===this._lines[h+1].getState())break}else if(null===this._lastState)break;h++}this._invalidLineStartIndex=Math.max(this._invalidLineStartIndex,h),s=h-1}else this._lines[c].setState(l.endState);else this._lastState=l.endState}this._invalidLineStartIndex=Math.max(this._invalidLineStartIndex,o+1)}else this._invalidLineStartIndex=this._lines.length},t.prototype.emitModelTokensChangedEvent=function(e){this._isDisposing||this._eventEmitter.emit(p.TextModelEventType.ModelTokensChanged,e)},t.prototype._emitModelModeChangedEvent=function(e){this._isDisposing||this._eventEmitter.emit(p.TextModelEventType.ModelLanguageChanged,e)},t.prototype.getWordAtPosition=function(e){this._assertNotDisposed();var t=this.validatePosition(e),n=this.getLineContent(t.lineNumber);if(this._invalidLineStartIndex<=t.lineNumber)return d.getWordAtText(t.column,u.LanguageConfigurationRegistry.getWordDefinition(this._languageIdentifier.id),n,0);var i=this._getLineTokens(t.lineNumber),r=t.column-1,o=i.findTokenAtOffset(r),s=d.getWordAtText(t.column,u.LanguageConfigurationRegistry.getWordDefinition(o.languageId),n.substring(o.startOffset,o.endOffset),o.startOffset);if(!s&&o.hasPrev&&o.startOffset===r){var a=o.prev();s=d.getWordAtText(t.column,u.LanguageConfigurationRegistry.getWordDefinition(a.languageId),n.substring(a.startOffset,a.endOffset),a.startOffset)}return s},t.prototype.getWordUntilPosition=function(e){var t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}},t.prototype.findMatchingBracketUp=function(e,t){var n=e.toLowerCase(),i=this.validatePosition(t),r=this._getLineTokens(i.lineNumber).findTokenAtOffset(i.column-1),o=u.LanguageConfigurationRegistry.getBracketsSupport(r.languageId);if(!o)return null;var s=o.textIsBracket[n];return s?this._findMatchingBracketUp(s,i):null},t.prototype.matchBracket=function(e){return this._matchBracket(this.validatePosition(e))},t.prototype._matchBracket=function(e){var t=e.lineNumber,n=this._getLineTokens(t),i=this._lines[t-1].text,r=n.findTokenAtOffset(e.column-1);if(!r)return null;var o=u.LanguageConfigurationRegistry.getBracketsSupport(r.languageId);if(o&&!c.ignoreBracketsInToken(r.tokenType)){var s=Math.max(r.startOffset,e.column-1-o.maxBracketLength),a=Math.min(r.endOffset,e.column-1+o.maxBracketLength);if((f=l.BracketsUtils.findNextBracketInToken(o.forwardRegex,t,i,e.column-1,a))&&f.startColumn===e.column&&(g=(g=i.substring(f.startColumn-1,f.endColumn-1)).toLowerCase(),v=this._matchFoundBracket(f,o.textIsBracket[g],o.textIsOpenBracket[g])))return v;for(;;){var d=l.BracketsUtils.findNextBracketInToken(o.forwardRegex,t,i,s,a);if(!d)break;if(d.startColumn<=e.column&&e.column<=d.endColumn&&(g=(g=i.substring(d.startColumn-1,d.endColumn-1)).toLowerCase(),v=this._matchFoundBracket(d,o.textIsBracket[g],o.textIsOpenBracket[g])))return v;s=d.endColumn-1}}if(r.hasPrev&&r.startOffset===e.column-1){var h=r.prev(),p=u.LanguageConfigurationRegistry.getBracketsSupport(h.languageId);if(p&&!c.ignoreBracketsInToken(h.tokenType)){var s=Math.max(h.startOffset,e.column-1-p.maxBracketLength),a=r.startOffset,f=l.BracketsUtils.findPrevBracketInToken(p.reversedRegex,t,i,s,a);if(f&&f.startColumn<=e.column&&e.column<=f.endColumn){var g=i.substring(f.startColumn-1,f.endColumn-1);g=g.toLowerCase();var v=this._matchFoundBracket(f,p.textIsBracket[g],p.textIsOpenBracket[g]);if(v)return v}}}return null},t.prototype._matchFoundBracket=function(e,t,n){if(n){if(i=this._findMatchingBracketDown(t,e.getEndPosition()))return[e,i]}else{var i=this._findMatchingBracketUp(t,e.getStartPosition());if(i)return[e,i]}return null},t.prototype._findMatchingBracketUp=function(e,t){for(var n=e.languageIdentifier.id,i=e.reversedRegex,r=-1,o=t.lineNumber;o>=1;o--){var s=this._getLineTokens(o),a=this._lines[o-1].text,u=void 0,d=void 0;for(o===t.lineNumber?(u=s.findTokenAtOffset(t.column-1),d=t.column-1):(u=s.lastToken())&&(d=u.endOffset);u;){if(u.languageId===n&&!c.ignoreBracketsInToken(u.tokenType))for(;;){var h=l.BracketsUtils.findPrevBracketInToken(i,o,a,u.startOffset,d);if(!h)break;var p=a.substring(h.startColumn-1,h.endColumn-1);if((p=p.toLowerCase())===e.open?r++:p===e.close&&r--,0===r)return h;d=h.startColumn-1}(u=u.prev())&&(d=u.endOffset)}}return null},t.prototype._findMatchingBracketDown=function(e,t){for(var n=e.languageIdentifier.id,i=e.forwardRegex,r=1,o=t.lineNumber,s=this.getLineCount();o<=s;o++){var a=this._getLineTokens(o),u=this._lines[o-1].text,d=void 0,h=void 0;for(o===t.lineNumber?(d=a.findTokenAtOffset(t.column-1),h=t.column-1):(d=a.firstToken())&&(h=d.startOffset);d;){if(d.languageId===n&&!c.ignoreBracketsInToken(d.tokenType))for(;;){var p=l.BracketsUtils.findNextBracketInToken(i,o,u,h,d.endOffset);if(!p)break;var f=u.substring(p.startColumn-1,p.endColumn-1);if((f=f.toLowerCase())===e.open?r++:f===e.close&&r--,0===r)return p;h=p.endColumn-1}(d=d.next())&&(h=d.startOffset)}}return null},t.prototype.findPrevBracket=function(e){for(var t=this.validatePosition(e),n=-1,i=null,r=t.lineNumber;r>=1;r--){var o=this._getLineTokens(r),s=this._lines[r-1].text,a=void 0,d=void 0;for(r===t.lineNumber?(a=o.findTokenAtOffset(t.column-1),d=t.column-1):(a=o.lastToken())&&(d=a.endOffset);a;){if(n!==a.languageId&&(n=a.languageId,i=u.LanguageConfigurationRegistry.getBracketsSupport(n)),i&&!c.ignoreBracketsInToken(a.tokenType)){var h=l.BracketsUtils.findPrevBracketInToken(i.reversedRegex,r,s,a.startOffset,d);if(h)return this._toFoundBracket(i,h)}(a=a.prev())&&(d=a.endOffset)}}return null},t.prototype.findNextBracket=function(e){for(var t=this.validatePosition(e),n=-1,i=null,r=t.lineNumber,o=this.getLineCount();r<=o;r++){var s=this._getLineTokens(r),a=this._lines[r-1].text,d=void 0,h=void 0;for(r===t.lineNumber?(d=s.findTokenAtOffset(t.column-1),h=t.column-1):(d=s.firstToken())&&(h=d.startOffset);d;){if(n!==d.languageId&&(n=d.languageId,i=u.LanguageConfigurationRegistry.getBracketsSupport(n)),i&&!c.ignoreBracketsInToken(d.tokenType)){var p=l.BracketsUtils.findNextBracketInToken(i.forwardRegex,r,a,h,d.endOffset);if(p)return this._toFoundBracket(i,p)}(d=d.next())&&(h=d.startOffset)}}return null},t.prototype._toFoundBracket=function(e,t){if(!t)return null;var n=this.getValueInRange(t);n=n.toLowerCase();var i=e.textIsBracket[n];return i?{range:t,open:i.open,close:i.close,isOpen:e.textIsOpenBracket[n]}:null},t}(o.TextModel);g.MODE_TOKENIZATION_FAILED_MSG=n.localize(0,null),t.TextModelWithTokens=g}),define(u[758],d([1,0,155,37,249,759]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=0,a=function(e){function t(t,i,r){var o=e.call(this,t,i,r)||this;return o._markerIdGenerator=new n.IdGenerator(++s+";"),o._markerIdToMarker=Object.create(null),o}return h(t,e),t.prototype.dispose=function(){this._markerIdToMarker=null,e.prototype.dispose.call(this)},t.prototype._resetValue=function(t){e.prototype._resetValue.call(this,t),this._markerIdToMarker=Object.create(null)},t.prototype._addMarker=function(e,t,n,o){var s=this.validatePosition(new i.Position(t,n)),a=new r.LineMarker(this._markerIdGenerator.nextId(),e,s,o);return this._markerIdToMarker[a.id]=a,this._lines[s.lineNumber-1].addMarker(a),a.id},t.prototype._addMarkers=function(e){if(0===e.length)return[];for(var t=[],n=0,i=e.length;n<i;n++){var o=e[n],s=new r.LineMarker(this._markerIdGenerator.nextId(),o.internalDecorationId,o.position,o.stickToPreviousCharacter);this._markerIdToMarker[s.id]=s,t[n]=s}var a=t.slice(0);a.sort(function(e,t){return e.position.lineNumber-t.position.lineNumber});for(var c=0,l=[],u=0,n=0,i=a.length;n<i;n++)(s=a[n]).position.lineNumber!==c&&(0!==c&&this._lines[c-1].addMarkers(l),c=s.position.lineNumber,l.length=0,u=0),l[u++]=s;return this._lines[c-1].addMarkers(l),t},t.prototype._changeMarker=function(e,t,n){var r=this._markerIdToMarker[e];if(r){var o=this.validatePosition(new i.Position(t,n));o.lineNumber!==r.position.lineNumber&&(this._lines[r.position.lineNumber-1].removeMarker(r),this._lines[o.lineNumber-1].addMarker(r)),r.setPosition(o)}},t.prototype._changeMarkerStickiness=function(e,t){var n=this._markerIdToMarker[e];n&&(n.stickToPreviousCharacter=t)},t.prototype._getMarker=function(e){var t=this._markerIdToMarker[e];return t?t.position:null},t.prototype._getMarkersCount=function(){return Object.keys(this._markerIdToMarker).length},t.prototype._removeMarker=function(e){var t=this._markerIdToMarker[e];t&&(this._lines[t.position.lineNumber-1].removeMarker(t),delete this._markerIdToMarker[e])},t.prototype._removeMarkers=function(e){e.sort(function(e,t){return e.position.lineNumber-t.position.lineNumber});for(var t=0,n=null,i=0,r=e.length;i<r;i++){var o=e[i];delete this._markerIdToMarker[o.id],o.position.lineNumber!==t&&(0!==t&&this._lines[t-1].removeMarkers(n),t=o.position.lineNumber,n=Object.create(null)),n[o.id]=!0}this._lines[t-1].removeMarkers(n)},t}(o.TextModelWithTokens);t.TextModelWithMarkers=a}),define(u[77],d([1,0,7,280,12,14,33,249,37,758,149]),function(e,t,n,i,r,o,s,a,c,l,u){"use strict";function d(){var e=m++;return(e%=52)<26?String.fromCharCode(97+e):String.fromCharCode(65+e-26)}function p(e){return e.replace(/[^a-z0-9\-]/gi," ")}function f(e){return e instanceof _?e:_.createDynamic(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ClassName={EditorWarningDecoration:"greensquiggly",EditorErrorDecoration:"redsquiggly"};var g=function(){function e(){this.addedDecorations=[],this.addedDecorationsLen=0,this.changedDecorations=[],this.changedDecorationsLen=0,this.removedDecorations=[],this.removedDecorationsLen=0}return e.prototype.addNewDecoration=function(e){this.addedDecorations[this.addedDecorationsLen++]=e},e.prototype.addRemovedDecoration=function(e){this.removedDecorations[this.removedDecorationsLen++]=e},e.prototype.addMovedDecoration=function(e){this.changedDecorations[this.changedDecorationsLen++]=e},e.prototype.addUpdatedDecoration=function(e){this.changedDecorations[this.changedDecorationsLen++]=e},e}(),v=function(){function e(e,t,n,i,r,o,s){this.id=e,this.internalId=t,this.ownerId=n,this.range=i,this.startMarker=r,this.endMarker=o,this.setOptions(s)}return e.prototype.setOptions=function(e){this.options=e,this.isForValidation=this.options.className===t.ClassName.EditorErrorDecoration||this.options.className===t.ClassName.EditorWarningDecoration},e.prototype.setRange=function(e,t){if(!this.range.equalsRange(t)){var n=this.range.startLineNumber!==this.range.endLineNumber;this.range=t;var i=this.range.startLineNumber!==this.range.endLineNumber;n!==i&&(i?e[this.id]=this:delete e[this.id])}},e}();t.InternalDecoration=v;var m=0,y=function(e){function t(t,n,i){var r=e.call(this,t,n,i)||this;return r._instanceId=d(),r._lastDecorationId=0,r._currentDecorationsTracker=null,r._currentDecorationsTrackerCnt=0,r._currentMarkersTracker=null,r._currentMarkersTrackerCnt=0,r._decorations=Object.create(null),r._internalDecorations=Object.create(null),r._multiLineDecorationsMap=Object.create(null),r}return h(t,e),t.prototype.dispose=function(){this._decorations=null,this._internalDecorations=null,this._multiLineDecorationsMap=null,e.prototype.dispose.call(this)},t.prototype._resetValue=function(t){e.prototype._resetValue.call(this,t),this._decorations=Object.create(null),this._internalDecorations=Object.create(null),this._multiLineDecorationsMap=Object.create(null)},t._shouldStartMarkerSticksToPreviousCharacter=function(e){return e===s.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges||e===s.TrackedRangeStickiness.GrowsOnlyWhenTypingBefore},t._shouldEndMarkerSticksToPreviousCharacter=function(e){return e===s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges||e===s.TrackedRangeStickiness.GrowsOnlyWhenTypingBefore},t.prototype._getTrackedRangesCount=function(){return Object.keys(this._decorations).length},t.prototype.changeDecorations=function(e,t){void 0===t&&(t=0),this._assertNotDisposed();try{this._eventEmitter.beginDeferredEmit();var n=this._acquireDecorationsTracker();return this._changeDecorations(n,t,e)}finally{this._releaseDecorationsTracker(),this._eventEmitter.endDeferredEmit()}},t.prototype._changeDecorations=function(e,t,i){var r=this,o={addDecoration:function(n,i){return r._addDecorationImpl(e,t,r.validateRange(n),f(i))},changeDecoration:function(t,n){r._changeDecorationImpl(e,t,r.validateRange(n))},changeDecorationOptions:function(t,n){r._changeDecorationOptionsImpl(e,t,f(n))},removeDecoration:function(t){r._removeDecorationImpl(e,t)},deltaDecorations:function(n,i){return r._deltaDecorationsImpl(e,t,n,r._normalizeDeltaDecorations(i))}},s=null;try{s=i(o)}catch(e){n.onUnexpectedError(e)}return o.addDecoration=null,o.changeDecoration=null,o.removeDecoration=null,o.deltaDecorations=null,s},t.prototype.deltaDecorations=function(e,t,n){return void 0===n&&(n=0),this._assertNotDisposed(),e||(e=[]),this.changeDecorations(function(n){return n.deltaDecorations(e,t)},n)},t.prototype.removeAllDecorationsWithOwnerId=function(e){var t=[];for(var n in this._decorations){var i=this._decorations[n];i.ownerId===e&&t.push(i.id)}this._removeDecorationsImpl(null,t)},t.prototype.getDecorationOptions=function(e){var t=this._decorations[e];return t?t.options:null},t.prototype.getDecorationRange=function(e){var t=this._decorations[e];return t?t.range:null},t.prototype.getLineDecorations=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=!1),e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,n)},t.prototype._getMultiLineDecorations=function(e,t,n){var i=e.startLineNumber,r=e.startColumn,o=e.endLineNumber,s=e.endColumn,a=[];for(var c in this._multiLineDecorationsMap){var l=this._multiLineDecorationsMap[c];if((!t||!l.ownerId||l.ownerId===t)&&(!n||!l.isForValidation)){var u=l.range;u.startLineNumber>o||u.startLineNumber===o&&u.startColumn>s||u.endLineNumber<i||u.endLineNumber===i&&u.endColumn<r||a.push(l)}}return a},t.prototype._getDecorationsInRange=function(e,t,n){for(var i=e.startLineNumber,r=e.startColumn,o=e.endLineNumber,s=e.endColumn,a=this._getMultiLineDecorations(e,t,n),c={},l=0,u=a.length;l<u;l++)c[a[l].id]=!0;for(var d=i;d<=o;d++){var h=this._lines[d-1].getMarkers();if(null!==h)for(var l=0,u=h.length;l<u;l++){var p=h[l].internalDecorationId;if(0!==p){var f=this._internalDecorations[p];if(!c.hasOwnProperty(f.id)&&!(t&&f.ownerId&&f.ownerId!==t||n&&f.isForValidation)){var g=f.range;g.startLineNumber>o||g.startLineNumber===o&&g.startColumn>s||g.endLineNumber<i||g.endLineNumber===i&&g.endColumn<r||(a.push(f),c[f.id]=!0)}}}}return a},t.prototype.getLinesDecorations=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=!1);var r=this.getLineCount(),s=Math.min(r,Math.max(1,e)),a=Math.min(r,Math.max(1,t)),c=this.getLineMaxColumn(a);return this._getDecorationsInRange(new o.Range(s,1,a,c),n,i)},t.prototype.getDecorationsInRange=function(e,t,n){var i=this.validateRange(e);return this._getDecorationsInRange(i,t,n)},t.prototype.getAllDecorations=function(e,t){void 0===e&&(e=0),void 0===t&&(t=!1);var n=[];for(var i in this._decorations){var r=this._decorations[i];e&&r.ownerId&&r.ownerId!==e||(t&&r.isForValidation||n.push(r))}return n},t.prototype._acquireMarkersTracker=function(){return 0===this._currentMarkersTrackerCnt&&(this._currentMarkersTracker=new a.MarkersTracker),this._currentMarkersTrackerCnt++,this._currentMarkersTracker},t.prototype._releaseMarkersTracker=function(){if(0==--this._currentMarkersTrackerCnt){var e=this._currentMarkersTracker;this._currentMarkersTracker=null,this._handleTrackedMarkers(e)}},t.prototype._handleTrackedMarkers=function(e){var n=e.getDecorationIds();if(0!==n.length){n.sort();for(var i=[],r=0,o=0,s=0,a=n.length;s<a;s++){var c=n[s];if(c!==o){o=c;var l=this._internalDecorations[c];if(l){var u=l.startMarker.position,d=l.endMarker.position,h=t._createRangeFromMarkers(u,d);l.setRange(this._multiLineDecorationsMap,h),i[r++]=l.id}}}if(i.length>0){var p={addedDecorations:[],changedDecorations:i,removedDecorations:[]};this.emitModelDecorationsChangedEvent(p)}}},t._createRangeFromMarkers=function(e,t){return t.isBefore(e)?new o.Range(e.lineNumber,e.column,e.lineNumber,e.column):new o.Range(e.lineNumber,e.column,t.lineNumber,t.column)},t.prototype._acquireDecorationsTracker=function(){return 0===this._currentDecorationsTrackerCnt&&(this._currentDecorationsTracker=new g),this._currentDecorationsTrackerCnt++,this._currentDecorationsTracker},t.prototype._releaseDecorationsTracker=function(){if(0==--this._currentDecorationsTrackerCnt){var e=this._currentDecorationsTracker;this._currentDecorationsTracker=null,this._handleTrackedDecorations(e)}},t.prototype._handleTrackedDecorations=function(e){if(0!==e.addedDecorationsLen||0!==e.changedDecorationsLen||0!==e.removedDecorationsLen){var t={addedDecorations:e.addedDecorations,changedDecorations:e.changedDecorations,removedDecorations:e.removedDecorations};this.emitModelDecorationsChangedEvent(t)}},t.prototype.emitModelDecorationsChangedEvent=function(e){this._isDisposing||this._eventEmitter.emit(u.TextModelEventType.ModelDecorationsChanged,e)},t.prototype._normalizeDeltaDecorations=function(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n];t.push(new E(n,this.validateRange(r.range),f(r.options)))}return t},t.prototype._externalDecorationId=function(e){return this._instanceId+";"+e},t.prototype._addDecorationImpl=function(e,n,i,r){var o=this.validateRange(i),s=++this._lastDecorationId,a=this._externalDecorationId(s),l=this._addMarkers([{internalDecorationId:s,position:new c.Position(o.startLineNumber,o.startColumn),stickToPreviousCharacter:t._shouldStartMarkerSticksToPreviousCharacter(r.stickiness)},{internalDecorationId:s,position:new c.Position(o.endLineNumber,o.endColumn),stickToPreviousCharacter:t._shouldEndMarkerSticksToPreviousCharacter(r.stickiness)}]),u=new v(a,s,n,o,l[0],l[1],r);return this._decorations[a]=u,this._internalDecorations[s]=u,o.startLineNumber!==o.endLineNumber&&(this._multiLineDecorationsMap[a]=u),e.addNewDecoration(a),a},t.prototype._addDecorationsImpl=function(e,n,i){for(var r=[],o=[],s=[],a=0,l=i.length;a<l;a++){var u=(g=i[a]).range,d=g.options.stickiness,h=++this._lastDecorationId,p=this._externalDecorationId(h);r[a]=h,o[a]=p,s[2*a]={internalDecorationId:h,position:new c.Position(u.startLineNumber,u.startColumn),stickToPreviousCharacter:t._shouldStartMarkerSticksToPreviousCharacter(d)},s[2*a+1]={internalDecorationId:h,position:new c.Position(u.endLineNumber,u.endColumn),stickToPreviousCharacter:t._shouldEndMarkerSticksToPreviousCharacter(d)}}for(var f=this._addMarkers(s),a=0,l=i.length;a<l;a++){var g=i[a],u=g.range,h=r[a],p=o[a],m=f[2*a],y=f[2*a+1],b=new v(p,h,n,u,m,y,g.options);this._decorations[p]=b,this._internalDecorations[h]=b,u.startLineNumber!==u.endLineNumber&&(this._multiLineDecorationsMap[p]=b),e.addNewDecoration(p)}return o},t.prototype._changeDecorationImpl=function(e,t,n){var i=this._decorations[t];if(i){var r=i.startMarker;n.startLineNumber!==r.position.lineNumber&&(this._lines[r.position.lineNumber-1].removeMarker(r),this._lines[n.startLineNumber-1].addMarker(r)),r.setPosition(new c.Position(n.startLineNumber,n.startColumn));var o=i.endMarker;n.endLineNumber!==o.position.lineNumber&&(this._lines[o.position.lineNumber-1].removeMarker(o),this._lines[n.endLineNumber-1].addMarker(o)),o.setPosition(new c.Position(n.endLineNumber,n.endColumn)),i.setRange(this._multiLineDecorationsMap,n),e.addMovedDecoration(t)}},t.prototype._changeDecorationOptionsImpl=function(e,n,i){var r=this._decorations[n];r&&(r.options.stickiness!==i.stickiness&&(r.startMarker.stickToPreviousCharacter=t._shouldStartMarkerSticksToPreviousCharacter(i.stickiness),r.endMarker.stickToPreviousCharacter=t._shouldEndMarkerSticksToPreviousCharacter(i.stickiness)),r.setOptions(i),e.addUpdatedDecoration(n))},t.prototype._removeDecorationImpl=function(e,t){var n=this._decorations[t];n&&(this._removeMarkers([n.startMarker,n.endMarker]),delete this._multiLineDecorationsMap[t],delete this._decorations[t],delete this._internalDecorations[n.internalId],e&&e.addRemovedDecoration(t))},t.prototype._removeDecorationsImpl=function(e,t){for(var n=[],i=0,r=0,o=t.length;r<o;r++){var s=t[r],a=this._decorations[s];a&&(e&&e.addRemovedDecoration(s),n[i++]=a.startMarker,n[i++]=a.endMarker,delete this._multiLineDecorationsMap[s],delete this._decorations[s],delete this._internalDecorations[a.internalId])}n.length>0&&this._removeMarkers(n)},t.prototype._resolveOldDecorations=function(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n],o=this._decorations[r];o&&t.push(o)}return t},t.prototype._deltaDecorationsImpl=function(e,t,n,i){if(0===n.length)return this._addDecorationsImpl(e,t,i);if(0===i.length)return this._removeDecorationsImpl(e,n),[];var r=this._resolveOldDecorations(n);r.sort(function(e,t){return o.Range.compareRangesUsingStarts(e.range,t.range)}),i.sort(function(e,t){return o.Range.compareRangesUsingStarts(e.range,t.range)});for(var s=[],a=0,c=r.length,l=0,u=i.length,d=[],h=[];a<c&&l<u;){var p=r[a],f=i[l],g=o.Range.compareRangesUsingStarts(p.range,f.range);g<0?(h.push(p.id),a++):g>0?(d.push(f),l++):p.options.equals(f.options)?(s[f.index]=p.id,a++,l++):(h.push(p.id),a++)}for(;a<c;)h.push(r[a].id),a++;for(;l<u;)d.push(i[l]),l++;if(h.length>0&&this._removeDecorationsImpl(e,h),d.length>0)for(var v=this._addDecorationsImpl(e,t,d),m=0,y=d.length;m<y;m++)s[d[m].index]=v[m];return s},t}(l.TextModelWithMarkers);t.TextModelWithDecorations=y;var b=function(){function e(e){this.color=r.empty,this.darkColor=r.empty,this.hcColor=r.empty,this.position=s.OverviewRulerLane.Center,e&&e.color&&(this.color=e.color),e&&e.darkColor&&(this.darkColor=e.darkColor,this.hcColor=e.darkColor),e&&e.hcColor&&(this.hcColor=e.hcColor),e&&e.hasOwnProperty("position")&&(this.position=e.position)}return e.prototype.equals=function(e){return this.color===e.color&&this.darkColor===e.darkColor&&this.hcColor===e.hcColor&&this.position===e.position},e}();t.ModelDecorationOverviewRulerOptions=b;var S=0,_=function(){function e(e,t){this.staticId=e,this.stickiness=t.stickiness||s.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,this.className=t.className?p(t.className):r.empty,this.hoverMessage=t.hoverMessage||[],this.glyphMarginHoverMessage=t.glyphMarginHoverMessage||r.empty,this.isWholeLine=t.isWholeLine||!1,this.showIfCollapsed=t.showIfCollapsed||!1,this.overviewRuler=new b(t.overviewRuler),this.glyphMarginClassName=t.glyphMarginClassName?p(t.glyphMarginClassName):r.empty,this.linesDecorationsClassName=t.linesDecorationsClassName?p(t.linesDecorationsClassName):r.empty,this.marginClassName=t.marginClassName?p(t.marginClassName):r.empty,this.inlineClassName=t.inlineClassName?p(t.inlineClassName):r.empty,this.beforeContentClassName=t.beforeContentClassName?p(t.beforeContentClassName):r.empty,this.afterContentClassName=t.afterContentClassName?p(t.afterContentClassName):r.empty}return e.register=function(t){return new e(++S,t)},e.createDynamic=function(t){return new e(0,t)},e.prototype.equals=function(e){return this.staticId>0||e.staticId>0?this.staticId===e.staticId:this.stickiness===e.stickiness&&this.className===e.className&&this.isWholeLine===e.isWholeLine&&this.showIfCollapsed===e.showIfCollapsed&&this.glyphMarginClassName===e.glyphMarginClassName&&this.linesDecorationsClassName===e.linesDecorationsClassName&&this.marginClassName===e.marginClassName&&this.inlineClassName===e.inlineClassName&&this.beforeContentClassName===e.beforeContentClassName&&this.afterContentClassName===e.afterContentClassName&&i.markedStringsEquals(this.hoverMessage,e.hoverMessage)&&i.markedStringsEquals(this.glyphMarginHoverMessage,e.glyphMarginHoverMessage)&&this.overviewRuler.equals(e.overviewRuler)},e}();t.ModelDecorationOptions=_,_.EMPTY=_.register({});var E=function(){return function(e,t,n){this.index=e,this.range=t,this.options=n}}()}),define(u[756],d([1,0,14,33,927,249,77,12,34,37,214,203,149]),function(e,t,n,i,r,o,s,a,c,l,u,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(e){function t(t,n,i){var o=e.call(this,t,n,i)||this;return o._commandManager=new r.EditStack(o),o._isUndoing=!1,o._isRedoing=!1,o._hasEditableRange=!1,o._editableRangeId=null,o._trimAutoWhitespaceLines=null,o}return h(t,e),t.createFromString=function(e,n,i){return void 0===n&&(n=d.TextModel.DEFAULT_CREATION_OPTIONS),void 0===i&&(i=null),new t(u.RawTextSource.fromString(e),n,i)},t.prototype.onDidChangeRawContent=function(e){return this._eventEmitter.addListener(p.TextModelEventType.ModelRawContentChanged2,e)},t.prototype.onDidChangeContent=function(e){return this._eventEmitter.addListener(p.TextModelEventType.ModelContentChanged,e)},t.prototype.dispose=function(){this._commandManager=null,e.prototype.dispose.call(this)},t.prototype._resetValue=function(t){e.prototype._resetValue.call(this,t),this._commandManager=new r.EditStack(this),this._hasEditableRange=!1,this._editableRangeId=null,this._trimAutoWhitespaceLines=null},t.prototype.pushStackElement=function(){this._commandManager.pushStackElement()},t.prototype.pushEditOperations=function(e,t,n){try{return this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(e,t,n)}finally{this._eventEmitter.endDeferredEmit()}},t.prototype._pushEditOperations=function(e,t,i){var r=this;if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){for(var o=t.map(function(e){return{range:r.validateRange(e.range),text:e.text}}),s=!0,a=0,c=e.length;a<c;a++){for(var l=e[a],u=!1,d=0,h=o.length;d<h;d++){var p=(y=o[d].range).startLineNumber>l.endLineNumber,f=l.startLineNumber>y.endLineNumber;if(!p&&!f){u=!0;break}}if(!u){s=!1;break}}if(s)for(var a=0,c=this._trimAutoWhitespaceLines.length;a<c;a++){for(var g=this._trimAutoWhitespaceLines[a],v=this.getLineMaxColumn(g),m=!0,d=0,h=o.length;d<h;d++){var y=o[d].range,b=o[d].text;if(!(g<y.startLineNumber||g>y.endLineNumber)&&!(g===y.startLineNumber&&y.startColumn===v&&y.isEmpty()&&b&&b.length>0&&"\n"===b.charAt(0))){m=!1;break}}m&&t.push({identifier:null,range:new n.Range(g,1,g,v),text:null,forceMoveMarkers:!1,isAutoWhitespaceEdit:!1})}this._trimAutoWhitespaceLines=null}return this._commandManager.pushEditOperation(e,t,i)},t.prototype._reduceOperations=function(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]},t.prototype._toSingleEditOperation=function(e){for(var t=!1,i=e[0].range,r=e[e.length-1].range,o=new n.Range(i.startLineNumber,i.startColumn,r.endLineNumber,r.endColumn),s=i.startLineNumber,a=i.startColumn,c=[],l=0,u=e.length;l<u;l++){var d=e[l],h=d.range;t=t||d.forceMoveMarkers;for(var p=s;p<h.startLineNumber;p++)p===s?c.push(this._lines[p-1].text.substring(a-1)):(c.push("\n"),c.push(this._lines[p-1].text));if(h.startLineNumber===s?c.push(this._lines[h.startLineNumber-1].text.substring(a-1,h.startColumn-1)):(c.push("\n"),c.push(this._lines[h.startLineNumber-1].text.substring(0,h.startColumn-1))),d.lines)for(var f=0,g=d.lines.length;f<g;f++)0!==f&&c.push("\n"),c.push(d.lines[f]);s=d.range.endLineNumber,a=d.range.endColumn}return{sortIndex:0,identifier:e[0].identifier,range:o,rangeLength:this.getValueLengthInRange(o),lines:c.join("").split("\n"),forceMoveMarkers:t,isAutoWhitespaceEdit:!1}},t._sortOpsAscending=function(e,t){var i=n.Range.compareRangesUsingEnds(e.range,t.range);return 0===i?e.sortIndex-t.sortIndex:i},t._sortOpsDescending=function(e,t){var i=n.Range.compareRangesUsingEnds(e.range,t.range);return 0===i?t.sortIndex-e.sortIndex:-i},t.prototype.applyEdits=function(e){try{this._eventEmitter.beginDeferredEmit();var t=this._acquireMarkersTracker();return this._applyEdits(t,e)}finally{this._releaseMarkersTracker(),this._eventEmitter.endDeferredEmit()}},t.prototype._applyEdits=function(e,n){if(0===n.length)return[];for(var i=this._mightContainRTL,r=this._mightContainNonBasicASCII,o=!0,s=[],c=0;c<n.length;c++){b=n[c];o&&b._isTracked&&(o=!1);var l=this.validateRange(b.range);!i&&b.text&&(i=a.containsRTL(b.text)),!r&&b.text&&(r=!a.isBasicASCII(b.text)),s[c]={sortIndex:c,identifier:b.identifier,range:l,rangeLength:this.getValueLengthInRange(l),lines:b.text?b.text.split(/\r\n|\r|\n/):null,forceMoveMarkers:b.forceMoveMarkers,isAutoWhitespaceEdit:b.isAutoWhitespaceEdit||!1}}s.sort(t._sortOpsAscending);for(var c=0,u=s.length-1;c<u;c++){var d=s[c].range.getEndPosition();if(s[c+1].range.getStartPosition().isBefore(d))throw new Error("Overlapping ranges are not allowed!")}o&&(s=this._reduceOperations(s));for(var h=this.getEditableRange(),p=h.getStartPosition(),f=h.getEndPosition(),c=0;c<s.length;c++){var g=s[c].range;if(!p.isBeforeOrEqual(g.getStartPosition())||!g.getEndPosition().isBeforeOrEqual(f))throw new Error("Editing outside of editable range not allowed!")}for(var v=t._getInverseEditRanges(s),m=[],y=[],c=0;c<s.length;c++){var b=s[c],S=v[c];if(m[c]={identifier:b.identifier,range:S,text:this.getValueInRange(b.range),forceMoveMarkers:b.forceMoveMarkers},this._options.trimAutoWhitespace&&b.isAutoWhitespaceEdit&&b.range.isEmpty())for(C=S.startLineNumber;C<=S.endLineNumber;C++){var _="";C===S.startLineNumber&&(_=this.getLineContent(b.range.startLineNumber),-1!==a.firstNonWhitespaceIndex(_))||y.push({lineNumber:C,oldContent:_})}}if(this._mightContainRTL=i,this._mightContainNonBasicASCII=r,this._doApplyEdits(e,s),this._trimAutoWhitespaceLines=null,this._options.trimAutoWhitespace&&y.length>0){y.sort(function(e,t){return t.lineNumber-e.lineNumber}),this._trimAutoWhitespaceLines=[];for(var c=0,E=y.length;c<E;c++){var C=y[c].lineNumber;if(!(c>0&&y[c-1].lineNumber===C)){var w=y[c].oldContent,I=this.getLineContent(C);0!==I.length&&I!==w&&-1===a.firstNonWhitespaceIndex(I)&&this._trimAutoWhitespaceLines.push(C)}}}return m},t._getInverseEditRanges=function(e){for(var t,i,r=[],o=null,s=0,a=e.length;s<a;s++){var c=e[s],l=void 0,u=void 0;o?o.range.endLineNumber===c.range.startLineNumber?(l=t,u=i+(c.range.startColumn-o.range.endColumn)):(l=t+(c.range.startLineNumber-o.range.endLineNumber),u=c.range.startColumn):(l=c.range.startLineNumber,u=c.range.startColumn);var d=void 0;if(c.lines&&c.lines.length>0){var h=c.lines.length,p=c.lines[0],f=c.lines[h-1];d=1===h?new n.Range(l,u,l,u+p.length):new n.Range(l,u,l+h-1,f.length+1)}else d=new n.Range(l,u,l,u);t=d.endLineNumber,i=d.endColumn,r.push(d),o=c}return r},t.prototype._doApplyEdits=function(e,i){var r=this,s=this._options.tabSize;i.sort(t._sortOpsDescending);for(var a=[],u=[],d=[],h=function(){if(0!==d.length){d.reverse();for(var t=d[0].lineNumber,n=0,i=1,o=d.length;i<o;i++){var c=d[i].lineNumber;c!==t&&(r._invalidateLine(t-1),r._lines[t-1].applyEdits(e,d.slice(n,i),s),r._lineStarts&&r._lineStarts.changeValue(t-1,r._lines[t-1].text.length+r._EOL.length),a.push(new p.ModelRawLineChanged(t,r._lines[t-1].text)),t=c,n=i)}r._invalidateLine(t-1),r._lines[t-1].applyEdits(e,d.slice(n,d.length),s),r._lineStarts&&r._lineStarts.changeValue(t-1,r._lines[t-1].text.length+r._EOL.length),a.push(new p.ModelRawLineChanged(t,r._lines[t-1].text)),d=[]}},f=i[i.length-1].range.startLineNumber,g=i[0].range.endLineNumber+1,v=0,m=0,y=i.length;m<y;m++){var b=i[m],S=b.range.startLineNumber,_=b.range.startColumn,E=b.range.endLineNumber,C=b.range.endColumn;if(S!==E||_!==C||b.lines&&0!==b.lines.length){var w=E-S,I=b.lines?b.lines.length-1:0,T=Math.min(w,I);v+=I-w;for(O=T;O>=0;O--){var k=S+O;!function(e){e.startColumn===e.endColumn&&0===e.text.length||d.push(e)}({lineNumber:k,startColumn:k===S?_:1,endColumn:k===E?C:this.getLineMaxColumn(k),text:b.lines?b.lines[O]:"",forceMoveMarkers:b.forceMoveMarkers})}if(T<w){h();var x=S+T,A=this.getLineMaxColumn(x),L=this._lines[E-1].split(e,C,!1,s);this._invalidateLine(x-1);for(var P=E-x,D=[],O=0;O<P;O++){var R=x+O,M=this._lines[R].getMarkers();M&&(D=D.concat(M))}this._lines.splice(x,P),this._lineStarts&&this._lineStarts.removeValues(x,P),this._lines[x-1].append(e,L,s),this._lineStarts&&this._lineStarts.changeValue(x-1,this._lines[x-1].text.length+this._EOL.length);for(var N=new l.Position(x,A),O=0,F=D.length;O<F;O++)D[O].updatePosition(e,N);this._lines[x-1].addMarkers(D),a.push(new p.ModelRawLineChanged(x,this._lines[x-1].text)),a.push(new p.ModelRawLinesDeleted(x+1,x+P))}if(T<I){h();var W=S+T,B=W===S?_:1;b.lines&&(B+=b.lines[T].length);var V=this._lines[W-1].split(e,B,b.forceMoveMarkers,s);this._lineStarts&&this._lineStarts.changeValue(W-1,this._lines[W-1].text.length+this._EOL.length),a.push(new p.ModelRawLineChanged(W,this._lines[W-1].text)),this._invalidateLine(W-1);for(var z=[],H=[],K=new Uint32Array(I-T),O=T+1;O<=I;O++){var U=S+O;z.push(new o.ModelLine(U,b.lines[O],s)),H.push(b.lines[O]),K[O-T-1]=b.lines[O].length+this._EOL.length}this._lines=c.arrayInsert(this._lines,S+T,z),H[H.length-1]+=V.text,this._lineStarts&&this._lineStarts.insertValues(S+T,K),this._lines[S+I-1].append(e,V,s),this._lineStarts&&this._lineStarts.changeValue(S+I-1,this._lines[S+I-1].text.length+this._EOL.length),a.push(new p.ModelRawLinesInserted(W+1,S+I,H.join("\n")))}u.push({range:new n.Range(S,_,E,C),rangeLength:b.rangeLength,text:b.lines?b.lines.join(this.getEOL()):""})}}h(),g=Math.max(1,Math.min(this.getLineCount(),g+v)),0!==v&&(g=this.getLineCount());for(var j=f;j<=g;j++)this._lines[j-1].updateLineNumber(e,j);if(0!==a.length||0!==u.length){this._increaseVersionId(),this._emitModelRawContentChangedEvent(new p.ModelRawContentChangedEvent(a,this.getVersionId(),this._isUndoing,this._isRedoing));var G={changes:u,eol:this._EOL,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1};this._eventEmitter.emit(p.TextModelEventType.ModelContentChanged,G)}this._resetIndentRanges()},t.prototype._assertLineNumbersOK=function(){for(var e=0,t=0,n=this._lines.length;t<n;t++){var i=this._lines[t],r=t+1;if(i.lineNumber!==r)throw new Error("Invalid lineNumber at line: "+r+"; text is: "+this.getValue());var o=i.getMarkers();if(null!==o)for(var s=0,a=o.length;s<a;s++){e++;var c=o[s].id;if(this._markerIdToMarker[c].position.lineNumber!==i.lineNumber)throw new Error("Misplaced marker with id "+c)}}if(Object.keys(this._markerIdToMarker).length!==e)throw new Error("There are misplaced markers!")},t.prototype._undo=function(){this._isUndoing=!0;var e=this._commandManager.undo();return this._isUndoing=!1,e?(this._overwriteAlternativeVersionId(e.recordedVersionId),e.selections):null},t.prototype.undo=function(){try{return this._eventEmitter.beginDeferredEmit(),this._acquireMarkersTracker(),this._undo()}finally{this._releaseMarkersTracker(),this._eventEmitter.endDeferredEmit()}},t.prototype._redo=function(){this._isRedoing=!0;var e=this._commandManager.redo();return this._isRedoing=!1,e?(this._overwriteAlternativeVersionId(e.recordedVersionId),e.selections):null},t.prototype.redo=function(){try{return this._eventEmitter.beginDeferredEmit(),this._acquireMarkersTracker(),this._redo()}finally{this._releaseMarkersTracker(),this._eventEmitter.endDeferredEmit()}},t.prototype.setEditableRange=function(e){var n=this;this._commandManager.clear(),(this._hasEditableRange||e)&&this.changeDecorations(function(i){n._hasEditableRange&&(i.removeDecoration(n._editableRangeId),n._editableRangeId=null,n._hasEditableRange=!1),e&&(n._hasEditableRange=!0,n._editableRangeId=i.addDecoration(e,t._DECORATION_OPTION))})},t.prototype.hasEditableRange=function(){return this._hasEditableRange},t.prototype.getEditableRange=function(){return this._hasEditableRange?this.getDecorationRange(this._editableRangeId):this.getFullModelRange()},t}(s.TextModelWithDecorations);f._DECORATION_OPTION=s.ModelDecorationOptions.register({stickiness:i.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges}),t.EditableTextModel=f}),define(u[433],d([1,0,16,756,203,214,149]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=0,c=function(e){function t(t,i,r,o){void 0===o&&(o=null);var s=e.call(this,t,i,r)||this;return a++,s.id="$model"+a,s._associatedResource=void 0===o||null===o?n.default.parse("inmemory://model/"+a):o,s._attachedEditorCount=0,s}return h(t,e),t.prototype.onDidChangeDecorations=function(e){return this._eventEmitter.addListener(s.TextModelEventType.ModelDecorationsChanged,e)},t.prototype.onDidChangeOptions=function(e){return this._eventEmitter.addListener(s.TextModelEventType.ModelOptionsChanged,e)},t.prototype.onWillDispose=function(e){return this._eventEmitter.addListener(s.TextModelEventType.ModelDispose,e)},t.prototype.onDidChangeLanguage=function(e){return this._eventEmitter.addListener(s.TextModelEventType.ModelLanguageChanged,e)},t.createFromString=function(e,n,i,s){return void 0===n&&(n=r.TextModel.DEFAULT_CREATION_OPTIONS),void 0===i&&(i=null),void 0===s&&(s=null),new t(o.RawTextSource.fromString(e),n,i,s)},t.prototype.destroy=function(){this.dispose()},t.prototype.dispose=function(){this._isDisposing=!0,this._eventEmitter.emit(s.TextModelEventType.ModelDispose),e.prototype.dispose.call(this),this._isDisposing=!1},t.prototype.onBeforeAttached=function(){this._attachedEditorCount++,this._warmUpTokens()},t.prototype.onBeforeDetached=function(){this._attachedEditorCount--},t.prototype._shouldAutoTokenize=function(){return this.isAttachedToEditor()},t.prototype.isAttachedToEditor=function(){return this._attachedEditorCount>0},Object.defineProperty(t.prototype,"uri",{get:function(){return this._associatedResource},enumerable:!0,configurable:!0}),t}(i.EditableTextModel);t.Model=c}),define(u[434],d([1,0,37,14,236,191,152,77]),function(e,t,n,i,r,o,s,a){"use strict";function c(e,t,n,i,r,o,s){var a=e.createLineMapping(t,n,i,r,o);return null===a?s?d.INSTANCE:h.INSTANCE:new p(a,s)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){return function(e,t){this.outputLineIndex=e,this.outputOffset=t}}();t.OutputPosition=l;var u=function(){function e(e,t,n,i,r,o){this.model=e,this._validModelVersionId=-1,this.tabSize=n,this.wrappingColumn=i,this.columnsForFullWidthChar=r,this.wrappingIndent=o,this.linePositionMapperFactory=t,this._constructLines(!0)}return e.prototype.dispose=function(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])},e.prototype._ensureValidState=function(){if(this.model.getVersionId()!==this._validModelVersionId)throw new Error("SplitLinesCollection: attempt to access a 'newer' model")},e.prototype._constructLines=function(e){var t=this;this.lines=[],e&&(this.hiddenAreasIds=[]);for(var n=this.model.getLinesContent(),o=n.length,s=new Uint32Array(o),a=this.hiddenAreasIds.map(function(e){return t.model.getDecorationRange(e)}).sort(i.Range.compareRangesUsingStarts),l=1,u=0,d=-1,h=d+1<a.length?u+1:o+2,p=0;p<o;p++){var f=p+1;f===h&&(l=a[++d].startLineNumber,u=a[d].endLineNumber,h=d+1<a.length?u+1:o+2);var g=f>=l&&f<=u,v=c(this.linePositionMapperFactory,n[p],this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,!g);s[p]=v.getViewLineCount(),this.lines[p]=v}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new r.PrefixSumComputerWithCache(s)},e.prototype.getHiddenAreas=function(){var e=this;return this.hiddenAreasIds.map(function(t){return e.model.getDecorationRange(t)}).sort(i.Range.compareRangesUsingStarts)},e.prototype._reduceRanges=function(e){var t=this;if(0===e.length)return[];for(var n=e.map(function(e){return t.model.validateRange(e)}).sort(i.Range.compareRangesUsingStarts),r=[],o=n[0].startLineNumber,s=n[0].endLineNumber,a=1,c=n.length;a<c;a++){var l=n[a];l.startLineNumber>s+1?(r.push(new i.Range(o,1,s,1)),o=l.startLineNumber,s=l.endLineNumber):l.endLineNumber>s&&(s=l.endLineNumber)}return r.push(new i.Range(o,1,s,1)),r},e.prototype.setHiddenAreas=function(e){var t=this,n=this._reduceRanges(e),r=this.hiddenAreasIds.map(function(e){return t.model.getDecorationRange(e)}).sort(i.Range.compareRangesUsingStarts);if(n.length===r.length){for(var o=!1,s=0;s<n.length;s++)if(!n[s].equalsRange(r[s])){o=!0;break}if(!o)return!1}for(var c=[],s=0;s<n.length;s++)c.push({range:n[s],options:a.ModelDecorationOptions.EMPTY});this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,c);for(var l=n,u=1,d=0,h=-1,p=h+1<l.length?d+1:this.lines.length+2,s=0;s<this.lines.length;s++){var f=s+1;f===p&&(u=l[++h].startLineNumber,d=l[h].endLineNumber,p=h+1<l.length?d+1:this.lines.length+2);var g=!1;if(f>=u&&f<=d?this.lines[s].isVisible()&&(this.lines[s]=this.lines[s].setVisible(!1),g=!0):this.lines[s].isVisible()||(this.lines[s]=this.lines[s].setVisible(!0),g=!0),g){var v=this.lines[s].getViewLineCount();this.prefixSumComputer.changeValue(s,v)}}return!0},e.prototype.modelPositionIsVisible=function(e,t){return!(e<1||e>this.lines.length)&&this.lines[e-1].isVisible()},e.prototype.setTabSize=function(e){return this.tabSize!==e&&(this.tabSize=e,this._constructLines(!1),!0)},e.prototype.setWrappingSettings=function(e,t,n){return(this.wrappingIndent!==e||this.wrappingColumn!==t||this.columnsForFullWidthChar!==n)&&(this.wrappingIndent=e,this.wrappingColumn=t,this.columnsForFullWidthChar=n,this._constructLines(!1),!0)},e.prototype.onModelFlushed=function(){this._constructLines(!0)},e.prototype.onModelLinesDeleted=function(e,t,n){if(e<=this._validModelVersionId)return null;var i=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,r=this.prefixSumComputer.getAccumulatedValue(n-1);return this.lines.splice(t-1,n-t+1),this.prefixSumComputer.removeValues(t-1,n-t+1),new s.ViewLinesDeletedEvent(i,r)},e.prototype.onModelLinesInserted=function(e,t,i,r){if(e<=this._validModelVersionId)return null;for(var o=this.getHiddenAreas(),a=!1,l=new n.Position(t,1),u=0;u<o.length;u++)if(o[u].containsPosition(l)){a=!0;break}for(var d=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,h=0,p=[],f=new Uint32Array(r.length),u=0,g=r.length;u<g;u++){var v=c(this.linePositionMapperFactory,r[u],this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,!a);p.push(v);var m=v.getViewLineCount();h+=m,f[u]=m}return this.lines=this.lines.slice(0,t-1).concat(p).concat(this.lines.slice(t-1)),this.prefixSumComputer.insertValues(t-1,f),new s.ViewLinesInsertedEvent(d,d+h-1)},e.prototype.onModelLineChanged=function(e,t,n){if(e<=this._validModelVersionId)return[!1,null,null,null];var i=t-1,r=this.lines[i].getViewLineCount(),o=this.lines[i].isVisible(),a=c(this.linePositionMapperFactory,n,this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,o);this.lines[i]=a;var l=this.lines[i].getViewLineCount(),u=!1,d=0,h=-1,p=0,f=-1,g=0,v=-1;return r>l?(v=(g=(h=(d=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1)+l-1)+1)+(r-l)-1,u=!0):r<l?(f=(p=(h=(d=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1)+r-1)+1)+(l-r)-1,u=!0):h=(d=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1)+l-1,this.prefixSumComputer.changeValue(i,l),[u,d<=h?new s.ViewLinesChangedEvent(d,h):null,p<=f?new s.ViewLinesInsertedEvent(p,f):null,g<=v?new s.ViewLinesDeletedEvent(g,v):null]},e.prototype.acceptVersionId=function(e){this._validModelVersionId=e},e.prototype.getViewLineCount=function(){return this._ensureValidState(),this.prefixSumComputer.getTotalValue()},e.prototype._toValidViewLineNumber=function(e){if(e<1)return 1;var t=this.getViewLineCount();return e>t?t:e},e.prototype.warmUpLookupCache=function(e,t){this.prefixSumComputer.warmUpCache(e-1,t-1)},e.prototype.getViewLineIndentGuide=function(e){this._ensureValidState(),e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1);return this.model.getLineIndentGuide(t.index+1)},e.prototype.getViewLineContent=function(e){this._ensureValidState(),e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getViewLineContent(this.model,n+1,i)},e.prototype.getViewLineMinColumn=function(e){this._ensureValidState(),e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getViewLineMinColumn(this.model,n+1,i)},e.prototype.getViewLineMaxColumn=function(e){this._ensureValidState(),e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getViewLineMaxColumn(this.model,n+1,i)},e.prototype.getViewLineData=function(e){this._ensureValidState(),e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getViewLineData(this.model,n+1,i)},e.prototype.getViewLinesData=function(e,t,n){this._ensureValidState(),e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);for(var i=this.prefixSumComputer.getIndexOf(e-1),r=e,o=i.index,s=i.remainder,a=[],c=o,l=this.model.getLineCount();c<l;c++){var u=this.lines[c];if(u.isVisible()){var d=c===o?s:0,h=u.getViewLineCount()-d,p=!1;r+h>t&&(p=!0,h=t-r+1);var f=d+h;if(u.getViewLinesData(this.model,c+1,d,f,r-e,n,a),r+=h,p)break}}return a},e.prototype.validateViewPosition=function(e,t,i){this._ensureValidState(),e=this._toValidViewLineNumber(e);var r=this.prefixSumComputer.getIndexOf(e-1),o=r.index,s=r.remainder,a=this.lines[o],c=a.getViewLineMinColumn(this.model,o+1,s),l=a.getViewLineMaxColumn(this.model,o+1,s);t<c&&(t=c),t>l&&(t=l);var u=a.getModelColumnOfViewPosition(s,t);return this.model.validatePosition(new n.Position(o+1,u)).equals(i)?new n.Position(e,t):this.convertModelPositionToViewPosition(i.lineNumber,i.column)},e.prototype.convertViewPositionToModelPosition=function(e,t){this._ensureValidState(),e=this._toValidViewLineNumber(e);var i=this.prefixSumComputer.getIndexOf(e-1),r=i.index,o=i.remainder,s=this.lines[r].getModelColumnOfViewPosition(o,t);return this.model.validatePosition(new n.Position(r+1,s))},e.prototype.convertModelPositionToViewPosition=function(e,t){this._ensureValidState();for(var i=this.model.validatePosition(new n.Position(e,t)),r=i.lineNumber,o=i.column,s=r-1,a=!1;s>0&&!this.lines[s].isVisible();)s--,a=!0;if(0===s&&!this.lines[s].isVisible())return new n.Position(1,1);var c=1+(0===s?0:this.prefixSumComputer.getAccumulatedValue(s-1));return a?this.lines[s].getViewPositionOfModelPosition(c,this.model.getLineMaxColumn(s+1)):this.lines[r-1].getViewPositionOfModelPosition(c,o)},e}();t.SplitLinesCollection=u;var d=function(){function e(){}return e.prototype.isVisible=function(){return!0},e.prototype.setVisible=function(e){return e?this:h.INSTANCE},e.prototype.getViewLineCount=function(){return 1},e.prototype.getViewLineContent=function(e,t,n){return e.getLineContent(t)},e.prototype.getViewLineMinColumn=function(e,t,n){return e.getLineMinColumn(t)},e.prototype.getViewLineMaxColumn=function(e,t,n){return e.getLineMaxColumn(t)},e.prototype.getViewLineData=function(e,t,n){var i=e.getLineTokens(t),r=i.getLineContent();return new o.ViewLineData(r,1,r.length+1,i.inflate())},e.prototype.getViewLinesData=function(e,t,n,i,r,o,s){o[r]?s[r]=this.getViewLineData(e,t,0):s[r]=null},e.prototype.getModelColumnOfViewPosition=function(e,t){return t},e.prototype.getViewPositionOfModelPosition=function(e,t){return new n.Position(e,t)},e}();d.INSTANCE=new d;var h=function(){function e(){}return e.prototype.isVisible=function(){return!1},e.prototype.setVisible=function(e){return e?d.INSTANCE:this},e.prototype.getViewLineCount=function(){return 0},e.prototype.getViewLineContent=function(e,t,n){throw new Error("Not supported")},e.prototype.getViewLineMinColumn=function(e,t,n){throw new Error("Not supported")},e.prototype.getViewLineMaxColumn=function(e,t,n){throw new Error("Not supported")},e.prototype.getViewLineData=function(e,t,n){throw new Error("Not supported")},e.prototype.getViewLinesData=function(e,t,n,i,r,o,s){throw new Error("Not supported")},e.prototype.getModelColumnOfViewPosition=function(e,t){throw new Error("Not supported")},e.prototype.getViewPositionOfModelPosition=function(e,t){throw new Error("Not supported")},e}();h.INSTANCE=new h;var p=function(){function e(e,t){this.positionMapper=e,this.wrappedIndent=this.positionMapper.getWrappedLinesIndent(),this.wrappedIndentLength=this.wrappedIndent.length,this.outputLineCount=this.positionMapper.getOutputLineCount(),this._isVisible=t}return e.prototype.isVisible=function(){return this._isVisible},e.prototype.setVisible=function(e){return this._isVisible=e,this},e.prototype.getViewLineCount=function(){return this._isVisible?this.outputLineCount:0},e.prototype.getInputStartOffsetOfOutputLineIndex=function(e){return this.positionMapper.getInputOffsetOfOutputPosition(e,0)},e.prototype.getInputEndOffsetOfOutputLineIndex=function(e,t,n){return n+1===this.outputLineCount?e.getLineMaxColumn(t)-1:this.positionMapper.getInputOffsetOfOutputPosition(n+1,0)},e.prototype.getViewLineContent=function(e,t,n){if(!this._isVisible)throw new Error("Not supported");var i=this.getInputStartOffsetOfOutputLineIndex(n),r=this.getInputEndOffsetOfOutputLineIndex(e,t,n),o=e.getLineContent(t).substring(i,r);return n>0&&(o=this.wrappedIndent+o),o},e.prototype.getViewLineMinColumn=function(e,t,n){if(!this._isVisible)throw new Error("Not supported");return n>0?this.wrappedIndentLength+1:1},e.prototype.getViewLineMaxColumn=function(e,t,n){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineContent(e,t,n).length+1},e.prototype.getViewLineData=function(e,t,n){if(!this._isVisible)throw new Error("Not supported");var i=this.getInputStartOffsetOfOutputLineIndex(n),r=this.getInputEndOffsetOfOutputLineIndex(e,t,n),s=e.getLineContent(t).substring(i,r);n>0&&(s=this.wrappedIndent+s);var a=n>0?this.wrappedIndentLength+1:1,c=s.length+1,l=0;n>0&&(l=this.wrappedIndentLength);var u=e.getLineTokens(t);return new o.ViewLineData(s,a,c,u.sliceAndInflate(i,r,l))},e.prototype.getViewLinesData=function(e,t,n,i,r,o,s){if(!this._isVisible)throw new Error("Not supported");for(var a=n;a<i;a++){var c=r+a-n;o[c]?s[c]=this.getViewLineData(e,t,a):s[c]=null}},e.prototype.getModelColumnOfViewPosition=function(e,t){if(!this._isVisible)throw new Error("Not supported");var n=t-1;return e>0&&(n<this.wrappedIndentLength?n=0:n-=this.wrappedIndentLength),this.positionMapper.getInputOffsetOfOutputPosition(e,n)+1},e.prototype.getViewPositionOfModelPosition=function(e,t){if(!this._isVisible)throw new Error("Not supported");var i=this.positionMapper.getOutputPositionOfInputOffset(t-1),r=i.outputLineIndex,o=i.outputOffset+1;return r>0&&(o+=this.wrappedIndentLength),new n.Position(e+r,o)},e}();t.SplitLine=p}),define(u[755],d([1,0,12,236,434,195,254,124]),function(e,t,n,i,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c;!function(e){e[e.NONE=0]="NONE",e[e.BREAK_BEFORE=1]="BREAK_BEFORE",e[e.BREAK_AFTER=2]="BREAK_AFTER",e[e.BREAK_OBTRUSIVE=3]="BREAK_OBTRUSIVE",e[e.BREAK_IDEOGRAPHIC=4]="BREAK_IDEOGRAPHIC"}(c||(c={}));var l=function(e){function t(t,n,i){for(var r=e.call(this,0)||this,o=0;o<t.length;o++)r.set(t.charCodeAt(o),1);for(o=0;o<n.length;o++)r.set(n.charCodeAt(o),2);for(o=0;o<i.length;o++)r.set(i.charCodeAt(o),3);return r}return h(t,e),t.prototype.get=function(t){return t>=12352&&t<=12543||t>=13312&&t<=19903||t>=19968&&t<=40959?4:e.prototype.get.call(this,t)},t}(o.CharacterClassifier),u=function(){function e(e,t,n){this.classifier=new l(e,t,n)}return e.nextVisibleColumn=function(e,t,n,i){return e=+e,t=+t,i=+i,n?e+(t-e%t):e+i},e.prototype.createLineMapping=function(t,r,o,c,l){if(-1===o)return null;r=+r,o=+o,c=+c;var u=0,h="",p=-1;if((l=+l)!==a.WrappingIndent.None&&-1!==(p=n.firstNonWhitespaceIndex(t))){h=t.substring(0,p);for(w=0;w<p;w++)u=e.nextVisibleColumn(u,r,9===t.charCodeAt(w),1);l===a.WrappingIndent.Indent&&(h+="\t",u=e.nextVisibleColumn(u,r,!0,1)),u>.5*o&&(h="",u=0)}for(var f=this.classifier,g=0,v=[],m=0,y=0,b=-1,S=0,_=-1,E=0,C=t.length,w=0;w<C;w++){var I=t.charCodeAt(w),T=9===I,k=f.get(I);if(1===k&&(b=w,S=u),4===k&&w>0){var x=t.charCodeAt(w-1);1!==f.get(x)&&(b=w,S=u)}var A=1;if(n.isFullWidthCharacter(I)&&(A=c),(y=e.nextVisibleColumn(y,r,T,A))>o&&0!==w){var L=void 0,P=void 0;-1!==b&&S<=o?(L=b,P=S):-1!==_&&E<=o?(L=_,P=E):(L=w,P=u),v[m++]=L-g,g=L,y=e.nextVisibleColumn(P,r,T,A),b=-1,S=0,_=-1,E=0}if(-1!==b&&(S=e.nextVisibleColumn(S,r,T,A)),-1!==_&&(E=e.nextVisibleColumn(E,r,T,A)),2===k&&(l===a.WrappingIndent.None||w>=p)&&(b=w+1,S=u),4===k&&w<C-1){var D=t.charCodeAt(w+1);2!==f.get(D)&&(b=w+1,S=u)}3===k&&(_=w+1,E=u)}return 0===m?null:(v[m++]=C-g,new d(new i.PrefixSumComputer(s.toUint32Array(v)),h))},e}();t.CharacterHardWrappingLineMapperFactory=u;var d=function(){function e(e,t){this._prefixSums=e,this._wrappedLinesIndent=t}return e.prototype.getOutputLineCount=function(){return this._prefixSums.getCount()},e.prototype.getWrappedLinesIndent=function(){return this._wrappedLinesIndent},e.prototype.getInputOffsetOfOutputPosition=function(e,t){return 0===e?t:this._prefixSums.getAccumulatedValue(e-1)+t},e.prototype.getOutputPositionOfInputOffset=function(e){var t=this._prefixSums.getIndexOf(e);return new r.OutputPosition(t.index,t.remainder)},e}();t.CharacterHardWrappingLineMapping=d}),define(u[752],d([1,0,12,37,14,53,33,46,242,844,191,434,152,271,149,755,846]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,v,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var y=function(){function e(e){this._lines=e}return e.prototype.convertViewPositionToModelPosition=function(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)},e.prototype.convertViewRangeToModelRange=function(e){var t=this._lines.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),n=this._lines.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new r.Range(t.lineNumber,t.column,n.lineNumber,n.column)},e.prototype.convertViewSelectionToModelSelection=function(e){var t=this._lines.convertViewPositionToModelPosition(e.selectionStartLineNumber,e.selectionStartColumn),n=this._lines.convertViewPositionToModelPosition(e.positionLineNumber,e.positionColumn);return new o.Selection(t.lineNumber,t.column,n.lineNumber,n.column)},e.prototype.validateViewPosition=function(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)},e.prototype.validateViewRange=function(e,t){var n=this._lines.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition()),i=this._lines.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new r.Range(n.lineNumber,n.column,i.lineNumber,i.column)},e.prototype.convertModelPositionToViewPosition=function(e){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column)},e.prototype.convertModelRangeToViewRange=function(e){var t=this._lines.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn),n=this._lines.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn);return new r.Range(t.lineNumber,t.column,n.lineNumber,n.column)},e.prototype.convertModelSelectionToViewSelection=function(e){var t=this._lines.convertModelPositionToViewPosition(e.selectionStartLineNumber,e.selectionStartColumn),n=this._lines.convertModelPositionToViewPosition(e.positionLineNumber,e.positionColumn);return new o.Selection(t.lineNumber,t.column,n.lineNumber,n.column)},e.prototype.modelPositionIsVisible=function(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)},e}();t.CoordinatesConverter=y;var b=function(e){function t(t,n,i){var r=e.call(this)||this;r.editorId=t,r.configuration=n,r.model=i;var o=r.configuration.editor,s=new v.CharacterHardWrappingLineMapperFactory(o.wrappingInfo.wordWrapBreakBeforeCharacters,o.wrappingInfo.wordWrapBreakAfterCharacters,o.wrappingInfo.wordWrapBreakObtrusiveCharacters);return r.lines=new d.SplitLinesCollection(r.model,s,r.model.getOptions().tabSize,o.wrappingInfo.wrappingColumn,o.fontInfo.typicalFullwidthCharacterWidth/o.fontInfo.typicalHalfwidthCharacterWidth,o.wrappingInfo.wrappingIndent),r.coordinatesConverter=new y(r.lines),r.viewLayout=r._register(new m.ViewLayout(r.configuration,r.getLineCount())),r._register(r.viewLayout.onDidScroll(function(e){r._emit([new p.ViewScrollChangedEvent(e)])})),r._isDisposing=!1,r._centeredViewLine=-1,r.decorations=new l.ViewModelDecorations(r.editorId,r.model,r.configuration,r.coordinatesConverter),r._register(r.model.addBulkListener(function(e){if(!r._isDisposing){var t=new u.ViewEventsCollector;r._onModelEvents(t,e),r._emit(t.finalize())}})),r._register(r.configuration.onDidChange(function(e){var t=new u.ViewEventsCollector;r._onConfigurationChanged(t,e),r._emit(t.finalize())})),r._register(f.MinimapTokensColorTracker.getInstance().onDidChange(function(){r._emit([new p.ViewTokensColorsChangedEvent])})),r}return h(t,e),t.prototype.dispose=function(){this._isDisposing=!0,this.decorations.dispose(),this.lines.dispose(),e.prototype.dispose.call(this)},t.prototype._onConfigurationChanged=function(e,t){var n=this.getCenteredRangeInViewport(),i=!1,r=this.configuration.editor;if(this.lines.setWrappingSettings(r.wrappingInfo.wrappingIndent,r.wrappingInfo.wrappingColumn,r.fontInfo.typicalFullwidthCharacterWidth/r.fontInfo.typicalHalfwidthCharacterWidth)&&(e.emit(new p.ViewFlushedEvent),e.emit(new p.ViewLineMappingChangedEvent),e.emit(new p.ViewDecorationsChangedEvent),this.decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),0!==this.viewLayout.getScrollTop()&&(i=!0)),t.readOnly&&(this.decorations.reset(),e.emit(new p.ViewDecorationsChangedEvent)),e.emit(new p.ViewConfigurationChangedEvent(t)),this.viewLayout.onConfigurationChanged(t),i&&n){var o=this.coordinatesConverter.convertModelRangeToViewRange(n);e.emit(new p.ViewRevealRangeRequestEvent(o,1,!1))}},t.prototype._onModelEvents=function(e,t){for(var n=0,r=t.length;n<r;n++)if(t[n].type===g.TextModelEventType.ModelRawContentChanged2){this._centeredViewLine=-1,this.configuration.setMaxLineNumber(this.model.getLineCount());break}for(var o=!1,s=!1,n=0,r=t.length;n<r;n++){var a=t[n],c=a.type,l=a.data;switch(c){case g.TextModelEventType.ModelRawContentChanged2:for(var u=(T=l).changes,d=T.versionId,h=0,f=u.length;h<f;h++){var v=u[h];switch(v.changeType){case 1:this.lines.onModelFlushed(),e.emit(new p.ViewFlushedEvent),this.decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),o=!0;break;case 3:null!==(_=this.lines.onModelLinesDeleted(d,v.fromLineNumber,v.toLineNumber))&&(e.emit(_),this.viewLayout.onLinesDeleted(_.fromLineNumber,_.toLineNumber)),o=!0;break;case 4:null!==(S=this.lines.onModelLinesInserted(d,v.fromLineNumber,v.toLineNumber,v.detail.split("\n")))&&(e.emit(S),this.viewLayout.onLinesInserted(S.fromLineNumber,S.toLineNumber)),o=!0;break;case 2:var m=this.lines.onModelLineChanged(d,v.lineNumber,v.detail),y=m[0],b=m[1],S=m[2],_=m[3];s=y,b&&e.emit(b),S&&(e.emit(S),this.viewLayout.onLinesInserted(S.fromLineNumber,S.toLineNumber)),_&&(e.emit(_),this.viewLayout.onLinesDeleted(_.fromLineNumber,_.toLineNumber))}}this.lines.acceptVersionId(d);break;case g.TextModelEventType.ModelTokensChanged:for(var E=[],h=0,f=(T=l).ranges.length;h<f;h++){var C=T.ranges[h],w=this.coordinatesConverter.convertModelPositionToViewPosition(new i.Position(C.fromLineNumber,1)).lineNumber,I=this.coordinatesConverter.convertModelPositionToViewPosition(new i.Position(C.toLineNumber,this.model.getLineMaxColumn(C.toLineNumber))).lineNumber;E[h]={fromLineNumber:w,toLineNumber:I}}e.emit(new p.ViewTokensChangedEvent(E));break;case g.TextModelEventType.ModelLanguageChanged:case g.TextModelEventType.ModelContentChanged:break;case g.TextModelEventType.ModelOptionsChanged:this.lines.setTabSize(this.model.getOptions().tabSize)&&(e.emit(new p.ViewFlushedEvent),e.emit(new p.ViewLineMappingChangedEvent),e.emit(new p.ViewDecorationsChangedEvent),this.decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()));break;case g.TextModelEventType.ModelDecorationsChanged:var T=l;this.decorations.onModelDecorationsChanged(T),e.emit(new p.ViewDecorationsChangedEvent);break;case g.TextModelEventType.ModelDispose:break;default:console.info("View received unknown event: "),console.info(c,l)}}!o&&s&&(e.emit(new p.ViewLineMappingChangedEvent),e.emit(new p.ViewDecorationsChangedEvent),this.decorations.onLineMappingChanged())},t.prototype.setHiddenAreas=function(e){var t=new u.ViewEventsCollector;this.lines.setHiddenAreas(e)&&(t.emit(new p.ViewFlushedEvent),t.emit(new p.ViewLineMappingChangedEvent),t.emit(new p.ViewDecorationsChangedEvent),this.decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())),this._emit(t.finalize())},t.prototype.getCenteredRangeInViewport=function(){if(-1===this._centeredViewLine)return null;var e=this._centeredViewLine,t=new r.Range(e,this.getLineMinColumn(e),e,this.getLineMaxColumn(e));return this.coordinatesConverter.convertViewRangeToModelRange(t)},t.prototype.getCompletelyVisibleViewRange=function(){var e=this.viewLayout.getLinesViewportData(),t=e.completelyVisibleStartLineNumber,n=e.completelyVisibleEndLineNumber;return new r.Range(t,this.getLineMinColumn(t),n,this.getLineMaxColumn(n))},t.prototype.getCompletelyVisibleViewRangeAtScrollTop=function(e){var t=this.viewLayout.getLinesViewportDataAtScrollTop(e),n=t.completelyVisibleStartLineNumber,i=t.completelyVisibleEndLineNumber;return new r.Range(n,this.getLineMinColumn(n),i,this.getLineMaxColumn(i))},t.prototype.getTabSize=function(){return this.model.getOptions().tabSize},t.prototype.getLineCount=function(){return this.lines.getViewLineCount()},t.prototype.setViewport=function(e,t,n){this._centeredViewLine=n,this.lines.warmUpLookupCache(e,t)},t.prototype.getLineIndentGuide=function(e){return this.lines.getViewLineIndentGuide(e)},t.prototype.getLineContent=function(e){return this.lines.getViewLineContent(e)},t.prototype.getLineMinColumn=function(e){return this.lines.getViewLineMinColumn(e)},t.prototype.getLineMaxColumn=function(e){return this.lines.getViewLineMaxColumn(e)},t.prototype.getLineFirstNonWhitespaceColumn=function(e){var t=n.firstNonWhitespaceIndex(this.getLineContent(e));return-1===t?0:t+1},t.prototype.getLineLastNonWhitespaceColumn=function(e){var t=n.lastNonWhitespaceIndex(this.getLineContent(e));return-1===t?0:t+2},t.prototype.getDecorationsInViewport=function(e){return this.decorations.getDecorationsViewportData(e).decorations},t.prototype.getViewLineRenderingData=function(e,t){var n=this.model.mightContainRTL(),i=this.model.mightContainNonBasicASCII(),r=this.getTabSize(),o=this.lines.getViewLineData(t),s=this.decorations.getDecorationsViewportData(e).inlineDecorations[t-e.startLineNumber];return new u.ViewLineRenderingData(o.minColumn,o.maxColumn,o.content,n,i,o.tokens,s,r)},t.prototype.getMinimapLinesRenderingData=function(e,t,n){var i=this.lines.getViewLinesData(e,t,n);return new u.MinimapLinesRenderingData(this.getTabSize(),i)},t.prototype.getAllOverviewRulerDecorations=function(){return this.decorations.getAllOverviewRulerDecorations()},t.prototype.getValueInRange=function(e,t){var n=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(n,t)},t.prototype.getModelLineMaxColumn=function(e){return this.model.getLineMaxColumn(e)},t.prototype.validateModelPosition=function(e){return this.model.validatePosition(e)},t.prototype.getPlainTextToCopy=function(e,t){var n=this.model.getEOL();if(1===e.length){var o=e[0];if(o.isEmpty()){if(t){var a=this.coordinatesConverter.convertViewPositionToModelPosition(new i.Position(o.startLineNumber,1)).lineNumber;return this.model.getLineContent(a)+n}return""}return this.getValueInRange(o,s.EndOfLinePreference.TextDefined)}e=e.slice(0).sort(r.Range.compareRangesUsingStarts);for(var c=[],l=0;l<e.length;l++)c.push(this.getValueInRange(e[l],s.EndOfLinePreference.TextDefined));return c.join(n)},t.prototype.getHTMLToCopy=function(e,t){if(1===this.model.getLanguageIdentifier().id)return null;if(1!==e.length)return null;var n=this.coordinatesConverter.convertViewRangeToModelRange(e[0]);if(n.isEmpty()){if(!t)return null;var i=n.startLineNumber;n=new r.Range(i,this.model.getLineMinColumn(i),i,this.model.getLineMaxColumn(i))}var o=this.configuration.editor.fontInfo,s=this._getColorMap();return'<div style="color: '+s[1]+";background-color: "+s[2]+";font-family: "+o.fontFamily+";font-weight: "+o.fontWeight+";font-size: "+o.fontSize+"px;line-height: "+o.lineHeight+'px;white-space: pre;">'+this._getHTMLToCopy(n,s)+"</div>"},t.prototype._getHTMLToCopy=function(e,t){for(var n=e.startLineNumber,i=e.startColumn,r=e.endLineNumber,o=e.endColumn,s=this.getTabSize(),a="",l=n;l<=r;l++){var u=this.model.getLineTokens(l),d=u.getLineContent(),h=l===n?i-1:0,p=l===r?o-1:d.length;a+=""===d?"<br>":c.tokenizeLineToHTML(d,u.inflate(),t,h,p,s)}return a},t.prototype._getColorMap=function(){for(var e=a.TokenizationRegistry.getColorMap(),t=[null],n=1,i=e.length;n<i;n++)t[n]=e[n].toRGBHex();return t},t}(p.ViewEventEmitter);t.ViewModel=b}),define(u[751],d([1,0,33,77]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._editor=e,this._decorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}return e.prototype.dispose=function(){this._editor.deltaDecorations(this._allDecorations(),[]),this._editor=null,this._decorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=null},e.prototype.reset=function(){this._decorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null},e.prototype.getCount=function(){return this._decorations.length},e.prototype.getFindScope=function(){return this._findScopeDecorationId?this._editor.getModel().getDecorationRange(this._findScopeDecorationId):null},e.prototype.getStartPosition=function(){return this._startPosition},e.prototype.setStartPosition=function(e){this._startPosition=e,this.setCurrentFindMatch(null)},e.prototype.getCurrentMatchesPosition=function(e){for(var t=0,n=this._decorations.length;t<n;t++){var i=this._editor.getModel().getDecorationRange(this._decorations[t]);if(e.equalsRange(i))return t+1}return 1},e.prototype.setCurrentFindMatch=function(t){var n=this,i=null,r=0;if(t)for(var o=0,s=this._decorations.length;o<s;o++){var a=this._editor.getModel().getDecorationRange(this._decorations[o]);if(t.equalsRange(a)){i=this._decorations[o],r=o+1;break}}return null===this._highlightedDecorationId&&null===i||this._editor.changeDecorations(function(t){if(null!==n._highlightedDecorationId&&(t.changeDecorationOptions(n._highlightedDecorationId,e.createFindMatchDecorationOptions(!1)),n._highlightedDecorationId=null),null!==i&&(n._highlightedDecorationId=i,t.changeDecorationOptions(n._highlightedDecorationId,e.createFindMatchDecorationOptions(!0))),null!==n._rangeHighlightDecorationId&&(t.removeDecoration(n._rangeHighlightDecorationId),n._rangeHighlightDecorationId=null),null!==i){var r=n._editor.getModel().getDecorationRange(i);n._rangeHighlightDecorationId=t.addDecoration(r,e._RANGE_HIGHLIGHT_DECORATION)}}),r},e.prototype.set=function(t,n){var i=t.map(function(t){return{range:t,options:e.createFindMatchDecorationOptions(!1)}});n&&i.unshift({range:n,options:e._FIND_SCOPE_DECORATION});var r=this._editor.deltaDecorations(this._allDecorations(),i);this._findScopeDecorationId=n?r.shift():null,this._decorations=r,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null},e.prototype._allDecorations=function(){var e=[];return e=e.concat(this._decorations),this._findScopeDecorationId&&e.push(this._findScopeDecorationId),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e},e.createFindMatchDecorationOptions=function(e){return e?this._CURRENT_FIND_MATCH_DECORATION:this._FIND_MATCH_DECORATION},e}();r._CURRENT_FIND_MATCH_DECORATION=i.ModelDecorationOptions.register({stickiness:n.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:"rgba(246, 185, 77, 0.7)",darkColor:"rgba(246, 185, 77, 0.7)",position:n.OverviewRulerLane.Center}}),r._FIND_MATCH_DECORATION=i.ModelDecorationOptions.register({stickiness:n.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:"rgba(246, 185, 77, 0.7)",darkColor:"rgba(246, 185, 77, 0.7)",position:n.OverviewRulerLane.Center}}),r._RANGE_HIGHLIGHT_DECORATION=i.ModelDecorationOptions.register({stickiness:n.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"rangeHighlight",isWholeLine:!0}),r._FIND_SCOPE_DECORATION=i.ModelDecorationOptions.register({className:"findScope",isWholeLine:!0}),t.FindDecorations=r}),define(u[257],d([1,0,18,5,830,178,37,14,33,751,831,53,409,147]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ToggleCaseSensitiveKeybinding={primary:545,mac:{primary:2593}},t.ToggleWholeWordKeybinding={primary:565,mac:{primary:2613}},t.ToggleRegexKeybinding={primary:560,mac:{primary:2608}},t.ToggleSearchScopeKeybinding={primary:554,mac:{primary:2602}},t.ShowPreviousFindTermKeybinding={primary:528},t.ShowNextFindTermKeybinding={primary:530},t.FIND_IDS={StartFindAction:"actions.find",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",AddSelectionToNextFindMatchAction:"editor.action.addSelectionToNextFindMatch",AddSelectionToPreviousFindMatchAction:"editor.action.addSelectionToPreviousFindMatch",MoveSelectionToNextFindMatchAction:"editor.action.moveSelectionToNextFindMatch",MoveSelectionToPreviousFindMatchAction:"editor.action.moveSelectionToPreviousFindMatch",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches",ShowPreviousFindTermAction:"find.history.showPrevious",ShowNextFindTermAction:"find.history.showNext"},t.MATCHES_LIMIT=999;var f=function(){function e(e,t){var i=this;this._editor=e,this._state=t,this._toDispose=[],this._isDisposed=!1,this._decorations=new l.FindDecorations(e),this._toDispose.push(this._decorations),this._updateDecorationsScheduler=new n.RunOnceScheduler(function(){return i.research(!1)},100),this._toDispose.push(this._updateDecorationsScheduler),this._toDispose.push(this._editor.onDidChangeCursorPosition(function(e){e.reason!==p.CursorChangeReason.Explicit&&e.reason!==p.CursorChangeReason.Undo&&e.reason!==p.CursorChangeReason.Redo||i._decorations.setStartPosition(i._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.push(this._editor.onDidChangeModelContent(function(e){i._ignoreModelContentChanged||(e.isFlush&&i._decorations.reset(),i._decorations.setStartPosition(i._editor.getPosition()),i._updateDecorationsScheduler.schedule())})),this._toDispose.push(this._state.addChangeListener(function(e){return i._onStateChanged(e)})),this.research(!1,this._state.searchScope)}return e.prototype.dispose=function(){this._isDisposed=!0,this._toDispose=i.dispose(this._toDispose)},e.prototype._onStateChanged=function(e){this._isDisposed||(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)&&(e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor))},e._getSearchRange=function(e,t,n){var i;return i=t?e.getEditableRange():e.getFullModelRange(),n&&(i=i.intersectRanges(n)),i},e.prototype.research=function(e,n){var i=null;null!==(i=void 0!==n?n:this._decorations.getFindScope())&&i.startLineNumber!==i.endLineNumber&&(i=new a.Range(i.startLineNumber,1,i.endLineNumber,this._editor.getModel().getLineMaxColumn(i.endLineNumber)));var r=this._findMatches(i,!1,t.MATCHES_LIMIT);this._decorations.set(r.map(function(e){return e.range}),i),this._state.changeMatchInfo(this._decorations.getCurrentMatchesPosition(this._editor.getSelection()),this._decorations.getCount(),void 0),e&&this._moveToNextMatch(this._decorations.getStartPosition())},e.prototype._hasMatches=function(){return this._state.matchesCount>0},e.prototype._cannotFind=function(){if(!this._hasMatches()){var e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e),!0}return!1},e.prototype._setCurrentFindMatch=function(e){var t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e)},e.prototype._moveToPrevMatch=function(t,n){if(void 0===n&&(n=!1),!this._cannotFind()){var i=this._decorations.getFindScope(),r=e._getSearchRange(this._editor.getModel(),this._state.isReplaceRevealed,i);r.getEndPosition().isBefore(t)&&(t=r.getEndPosition()),t.isBefore(r.getStartPosition())&&(t=r.getEndPosition());var o=t.lineNumber,a=t.column,c=this._editor.getModel(),l=new s.Position(o,a),u=c.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null,!1);return u&&u.range.isEmpty()&&u.range.getStartPosition().equals(l)&&(this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0)||1===a?(1===o?o=c.getLineCount():o--,a=c.getLineMaxColumn(o)):a--,l=new s.Position(o,a),u=c.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null,!1)),u?n||r.containsRange(u.range)?void this._setCurrentFindMatch(u.range):this._moveToPrevMatch(u.range.getStartPosition(),!0):null}},e.prototype.moveToPrevMatch=function(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())},e.prototype._moveToNextMatch=function(e){var t=this._getNextMatch(e,!1,!0);t&&this._setCurrentFindMatch(t.range)},e.prototype._getNextMatch=function(t,n,i,r){if(void 0===r&&(r=!1),this._cannotFind())return null;var o=this._decorations.getFindScope(),a=e._getSearchRange(this._editor.getModel(),this._state.isReplaceRevealed,o);a.getEndPosition().isBefore(t)&&(t=a.getStartPosition()),t.isBefore(a.getStartPosition())&&(t=a.getStartPosition());var c=t.lineNumber,l=t.column,u=this._editor.getModel(),d=new s.Position(c,l),h=u.findNextMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null,n);return i&&h&&h.range.isEmpty()&&h.range.getStartPosition().equals(d)&&(this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0)||l===u.getLineMaxColumn(c)?(c===u.getLineCount()?c=1:c++,l=1):l++,d=new s.Position(c,l),h=u.findNextMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null,n)),h?r||a.containsRange(h.range)?h:this._getNextMatch(h.range.getEndPosition(),n,i,!0):null},e.prototype.moveToNextMatch=function(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())},e.prototype._getReplacePattern=function(){return this._state.isRegex?r.parseReplaceString(this._state.replaceString):r.ReplacePattern.fromStaticValue(this._state.replaceString)},e.prototype.replace=function(){if(this._hasMatches()){var e=this._getReplacePattern(),t=this._editor.getSelection(),n=this._getNextMatch(t.getStartPosition(),e.hasReplacementPatterns,!1);if(n)if(t.equalsRange(n.range)){var i=e.buildReplaceString(n.matches),r=new o.ReplaceCommand(t,i);this._executeEditorCommand("replace",r),this._decorations.setStartPosition(new s.Position(t.startLineNumber,t.startColumn+i.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(n.range)}},e.prototype._findMatches=function(t,n,i){var r=e._getSearchRange(this._editor.getModel(),this._state.isReplaceRevealed,t);return this._editor.getModel().findMatches(this._state.searchString,r,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null,n,i)},e.prototype.replaceAll=function(){if(this._hasMatches()){var e=this._decorations.getFindScope();null===e&&this._state.matchesCount>=t.MATCHES_LIMIT?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}},e.prototype._largeReplaceAll=function(){var e=new h.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null).parseSearchRequest();if(e){var t,n=this._editor.getModel(),i=n.getValue(c.EndOfLinePreference.LF),r=n.getFullModelRange(),s=this._getReplacePattern();t=s.hasReplacementPatterns?i.replace(e.regex,function(){return s.buildReplaceString(arguments)}):i.replace(e.regex,s.buildReplaceString(null));var a=new o.ReplaceCommandThatPreservesSelection(r,t,this._editor.getSelection());this._executeEditorCommand("replaceAll",a)}},e.prototype._regularReplaceAll=function(e){for(var t=this._getReplacePattern(),n=this._findMatches(e,t.hasReplacementPatterns,1073741824),i=[],r=0,o=n.length;r<o;r++)i[r]=t.buildReplaceString(n[r].matches);var s=new u.ReplaceAllCommand(this._editor.getSelection(),n.map(function(e){return e.range}),i);this._executeEditorCommand("replaceAll",s)},e.prototype.selectAllMatches=function(){if(this._hasMatches()){for(var e=this._decorations.getFindScope(),t=this._findMatches(e,!1,1073741824).map(function(e){return new d.Selection(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn)}),n=this._editor.getSelection(),i=0,r=t.length;i<r;i++)if(t[i].equalsRange(n)){t=[n].concat(t.slice(0,i)).concat(t.slice(i+1));break}this._editor.setSelections(t)}},e.prototype._executeEditorCommand=function(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}},e}();t.FindModelBoundToEditorModel=f}),define(u[750],d([1,0,33,14,77]),function(e,t,n,i,r){"use strict";function o(e,t,n){for(var i=null,r=0,o=e.length;r<o;r++){var s=e[r],l=s.getDecorationRange(t);if(l&&(a(l,n)&&(i=s),c(l,n)))break}return i}function s(e,t,n,i){for(var r=e.indexOf(n)+1;r<e.length;r++){var o=e[r],s=o.getDecorationRange(t);if(s&&c(s,i)){if(!u(n.foldingRange,s))return null;if(o.isCollapsed)return o}}return null}function a(e,t){return t>=e.startLineNumber&&t<=e.endLineNumber}function c(e,t){return t<e.startLineNumber}function l(e,t){return t>e.endLineNumber}function u(e,t){return e instanceof i.Range&&t instanceof i.Range?e.containsRange(t):e.startLineNumber<=t.startLineNumber&&e.endLineNumber>=t.endLineNumber}function d(e,t,n,i,r){return(r?new f(e,t,n):new p(e,t,n)).getRegionsTill(i)}Object.defineProperty(t,"__esModule",{value:!0}),t.toString=function(e){return(e?e.startLineNumber+"/"+e.endLineNumber:"null")+(e.isCollapsed?" (collapsed)":"")+" - "+e.indent};var h=function(){function e(e,t,n){this.decorationIds=[],this.update(e,t,n)}return Object.defineProperty(e.prototype,"isCollapsed",{get:function(){return this._isCollapsed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isExpanded",{get:function(){return!this._isCollapsed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"indent",{get:function(){return this._indent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"foldingRange",{get:function(){return this._lastRange},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startLineNumber",{get:function(){return this._lastRange?this._lastRange.startLineNumber:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endLineNumber",{get:function(){return this._lastRange?this._lastRange.endLineNumber:void 0},enumerable:!0,configurable:!0}),e.prototype.setCollapsed=function(e,t){this._isCollapsed=e,this.decorationIds.length>0&&t.changeDecorationOptions(this.decorationIds[0],this.getVisualDecorationOptions())},e.prototype.getDecorationRange=function(e){return this.decorationIds.length>0?e.getDecorationRange(this.decorationIds[1]):null},e.prototype.getVisualDecorationOptions=function(){return this._isCollapsed?e._COLLAPSED_VISUAL_DECORATION:e._EXPANDED_VISUAL_DECORATION},e.prototype.getRangeDecorationOptions=function(){return e._RANGE_DECORATION},e.prototype.update=function(e,t,n){this._lastRange=e,this._isCollapsed=!!e.isCollapsed,this._indent=e.indent;var i=[],r=t.getLineMaxColumn(e.startLineNumber),o={startLineNumber:e.startLineNumber,startColumn:r-1,endLineNumber:e.startLineNumber,endColumn:r};i.push({range:o,options:this.getVisualDecorationOptions()});var s={startLineNumber:e.startLineNumber,startColumn:1,endLineNumber:e.endLineNumber,endColumn:t.getLineMaxColumn(e.endLineNumber)};i.push({range:s,options:this.getRangeDecorationOptions()}),this.decorationIds=n.deltaDecorations(this.decorationIds,i)},e.prototype.dispose=function(e){this._lastRange=null,this.decorationIds=e.deltaDecorations(this.decorationIds,[])},e.prototype.toString=function(){var e=this.isCollapsed?"collapsed ":"expanded ";return this._lastRange?e+=this._lastRange.startLineNumber+"/"+this._lastRange.endLineNumber:e+="no range",e},e}();h._COLLAPSED_VISUAL_DECORATION=r.ModelDecorationOptions.register({stickiness:n.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,afterContentClassName:"inline-folded",linesDecorationsClassName:"folding collapsed"}),h._EXPANDED_VISUAL_DECORATION=r.ModelDecorationOptions.register({stickiness:n.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,linesDecorationsClassName:"folding"}),h._RANGE_DECORATION=r.ModelDecorationOptions.register({stickiness:n.TrackedRangeStickiness.GrowsOnlyWhenTypingBefore}),t.CollapsibleRegion=h,t.getCollapsibleRegionsToFoldAtLine=function(e,t,n,i,r){var s=o(e,t,n);return s?1===i?[s]:d(s,e,t,i,r).filter(function(e){return!e.isCollapsed}):[]},t.getCollapsibleRegionsToUnfoldAtLine=function(e,t,n,i){var r=o(e,t,n);if(!r)return[];if(1===i){var a=r.isCollapsed?r:s(e,t,r,n);return a?[a]:[]}return d(r,e,t,i,!1).filter(function(e){return e.isCollapsed})},t.doesLineBelongsToCollapsibleRegion=a;var p=function(){function e(e,t,n){this.region=e,this.children=[];for(var i=t.indexOf(e)+1;i<t.length;i++){var r=t[i],o=r.getDecorationRange(n);if(o&&(u(e.foldingRange,o)&&(i=this.processChildRegion(r,t,n,i)),c(o,e.foldingRange.endLineNumber)))break}}return e.prototype.processChildRegion=function(t,n,i,r){var o=new e(t,n,i);return this.children.push(o),this.lastChildIndex=r,o.children.length>0?o.lastChildIndex:r},e.prototype.getRegionsTill=function(e){var t=[this.region];return e>1&&this.children.forEach(function(n){return t=t.concat(n.getRegionsTill(e-1))}),t},e}(),f=function(){function e(t,n,i){this.region=t;for(var r=n.indexOf(t)-1;r>=0;r--){var o=n[r],s=o.getDecorationRange(i);if(s){if(u(s,t.foldingRange)){this.parent=new e(o,n,i);break}if(l(s,t.foldingRange.endLineNumber))break}}}return e.prototype.getRegionsTill=function(e){var t=[this.region];return this.parent&&e>1&&(t=t.concat(this.parent.getRegionsTill(e-1))),t},e}()}),define(u[749],d([1,0,12,33,105,229,53,14,34,5,369,77,1035]),function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function e(e,t,n){this._editor=e,this._snippet=t,this._offset=n,this._placeholderGroups=c.groupBy(t.placeholders,o.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}return e.prototype.dispose=function(){var e=this;this._placeholderDecorations&&this._editor.changeDecorations(function(t){return e._placeholderDecorations.forEach(function(e){return t.removeDecoration(e)})}),this._placeholderGroups.length=0},e.prototype._initDecorations=function(){var t=this;if(!this._placeholderDecorations){this._placeholderDecorations=new Map;var n=this._editor.getModel();this._editor.changeDecorations(function(i){for(var r=0,o=t._snippet.placeholders;r<o.length;r++){var s=o[r],c=t._snippet.offset(s),l=t._snippet.fullLen(s),u=a.Range.fromPositions(n.getPositionAt(t._offset+c),n.getPositionAt(t._offset+c+l)),d=s.isFinalTabstop?e._decor.inactiveFinal:e._decor.inactive,h=i.addDecoration(u,d);t._placeholderDecorations.set(s,h)}})}},e.prototype.move=function(t){var n=this;return this._initDecorations(),!0===t&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?this._placeholderGroupsIdx+=1:!1===t&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1),this._editor.getModel().changeDecorations(function(t){for(var i=new Set,r=[],o=0,a=n._placeholderGroups[n._placeholderGroupsIdx];o<a.length;o++){var c=a[o],l=n._placeholderDecorations.get(c),u=n._editor.getModel().getDecorationRange(l);r.push(new s.Selection(u.startLineNumber,u.startColumn,u.endLineNumber,u.endColumn)),t.changeDecorationOptions(l,c.isFinalTabstop?e._decor.activeFinal:e._decor.active),i.add(c);for(var d=0,h=n._snippet.enclosingPlaceholders(c);d<h.length;d++){var p=h[d],f=n._placeholderDecorations.get(p);t.changeDecorationOptions(f,p.isFinalTabstop?e._decor.activeFinal:e._decor.active),i.add(p)}}return n._placeholderDecorations.forEach(function(n,r){i.has(r)||t.changeDecorationOptions(n,r.isFinalTabstop?e._decor.inactiveFinal:e._decor.inactive)}),r})},Object.defineProperty(e.prototype,"isAtFirstPlaceholder",{get:function(){return this._placeholderGroupsIdx<=0||0===this._placeholderGroups.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAtLastPlaceholder",{get:function(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasPlaceholder",{get:function(){return this._snippet.placeholders.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholderRanges",{get:function(){var e=this,t=[];return this._placeholderDecorations.forEach(function(n,i){if(!i.isFinalTabstop){var r=e._editor.getModel().getDecorationRange(n);r&&t.push(r)}}),t},enumerable:!0,configurable:!0}),e.prototype.merge=function(t){var n=this,i=this._editor.getModel();this._editor.changeDecorations(function(r){for(var s=0,l=n._placeholderGroups[n._placeholderGroupsIdx];s<l.length;s++){var u=l[s],d=t.shift();console.assert(!d._placeholderDecorations);for(var h=0,p=d._snippet.placeholders;h<p.length;h++){var f=p[h];f.isFinalTabstop?f.index=u.index+d._snippet.placeholders.length/10:f.index=u.index+f.index/10}n._snippet.replace(u,d._snippet.children);var g=n._placeholderDecorations.get(u);r.removeDecoration(g),n._placeholderDecorations.delete(u);for(var v=0,m=d._snippet.placeholders;v<m.length;v++){var y=m[v],b=d._snippet.offset(y),S=d._snippet.fullLen(y),_=a.Range.fromPositions(i.getPositionAt(d._offset+b),i.getPositionAt(d._offset+b+S)),E=r.addDecoration(_,e._decor.inactive);n._placeholderDecorations.set(y,E)}}n._placeholderGroups=c.groupBy(n._snippet.placeholders,o.Placeholder.compareByIndex)})},e}();h._decor={active:d.ModelDecorationOptions.register({stickiness:i.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,className:"snippet-placeholder"}),inactive:d.ModelDecorationOptions.register({stickiness:i.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"snippet-placeholder"}),activeFinal:d.ModelDecorationOptions.register({stickiness:i.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"finish-snippet-placeholder"}),inactiveFinal:d.ModelDecorationOptions.register({stickiness:i.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"finish-snippet-placeholder"})},t.OneSnippet=h;var p=function(){function e(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=0),this._snippets=[],this._editor=e,this._template=t,this._overwriteBefore=n,this._overwriteAfter=i}return e.adjustWhitespace=function(e,t,i){for(var r=e.getLineContent(t.lineNumber),o=n.getLeadingWhitespace(r,0,t.column-1),s=i.split(/\r\n|\r|\n/),a=1;a<s.length;a++){var c=n.getLeadingWhitespace(s[a]);s[a]=e.normalizeIndentation(o+c)+s[a].substr(c.length)}return s.join(e.getEOL())},e.adjustSelection=function(e,t,n,i){if(0!==n||0!==i){var r=t.startLineNumber,o=t.startColumn,c=t.endLineNumber,l=t.endColumn;o-=n,l+=i;var u=e.validateRange(a.Range.plusRange(t,{startLineNumber:r,startColumn:o,endLineNumber:c,endColumn:l}));t=s.Selection.createWithDirection(u.startLineNumber,u.startColumn,u.endLineNumber,u.endColumn,t.getDirection())}return t},e.createEditsAndSnippets=function(t,n,i,s,c){for(var l=t.getModel(),d=[],p=[],f=0,g=l.getValueInRange(e.adjustSelection(l,t.getSelection(),i,0)),v=l.getValueInRange(e.adjustSelection(l,t.getSelection(),0,s)),m=0,y=t.getSelections().map(function(e,t){return{selection:e,idx:t}}).sort(function(e,t){return a.Range.compareRangesUsingStarts(e.selection,t.selection)});m<y.length;m++){var b=y[m],S=b.selection,_=b.idx,E=e.adjustSelection(l,S,i,0),C=e.adjustSelection(l,S,0,s);g!==l.getValueInRange(E)&&(E=S),v!==l.getValueInRange(C)&&(C=S);var w=S.setStartPosition(E.startLineNumber,E.startColumn).setEndPosition(C.endLineNumber,C.endColumn),I=w.getStartPosition(),T=e.adjustWhitespace(l,I,n),k=o.SnippetParser.parse(T,c).resolveVariables(new u.EditorSnippetVariableResolver(l,S)),x=l.getOffsetAt(I)+f;f+=k.text.length-l.getValueLengthInRange(w),d[_]=r.EditOperation.replace(w,k.text),p[_]=new h(t,k,x)}return{edits:d,snippets:p}},e.prototype.dispose=function(){l.dispose(this._snippets)},e.prototype.insert=function(){var t=this,n=this._editor.getModel(),i=e.createEditsAndSnippets(this._editor,this._template,this._overwriteBefore,this._overwriteAfter,!1),r=i.edits,o=i.snippets;this._snippets=o,this._editor.setSelections(n.pushEditOperations(this._editor.getSelections(),r,function(e){return t._snippets[0].hasPlaceholder?t._move(!0):e.map(function(e){return s.Selection.fromPositions(e.range.getEndPosition())})}))},e.prototype.merge=function(t,n,i){var r=this;void 0===n&&(n=0),void 0===i&&(i=0);var o=e.createEditsAndSnippets(this._editor,t,n,i,!0),a=o.edits,c=o.snippets;this._editor.setSelections(this._editor.getModel().pushEditOperations(this._editor.getSelections(),a,function(e){for(var t=0,n=r._snippets;t<n.length;t++)n[t].merge(c);return console.assert(0===c.length),r._snippets[0].hasPlaceholder?r._move(void 0):e.map(function(e){return s.Selection.fromPositions(e.range.getEndPosition())})}))},e.prototype.next=function(){var e=this._move(!0);this._editor.setSelections(e)},e.prototype.prev=function(){var e=this._move(!1);this._editor.setSelections(e)},e.prototype._move=function(e){for(var t=[],n=0,i=this._snippets;n<i.length;n++){var r=i[n].move(e);t.push.apply(t,r)}return t},Object.defineProperty(e.prototype,"isAtFirstPlaceholder",{get:function(){return this._snippets[0].isAtFirstPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAtLastPlaceholder",{get:function(){return this._snippets[0].isAtLastPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasPlaceholder",{get:function(){return this._snippets[0].hasPlaceholder},enumerable:!0,configurable:!0}),e.prototype.isSelectionWithinPlaceholders=function(){if(!this.hasPlaceholder)return!1;var e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;for(var t=[],n=0,i=this._snippets;n<i.length;n++){var r=i[n];t.push.apply(t,r.placeholderRanges)}if(e.length>t.length)return!1;e.sort(a.Range.compareRangesUsingStarts),t.sort(a.Range.compareRangesUsingStarts);e:for(var o=0,s=e;o<s.length;o++){for(var c=s[o],l=void 0;l=t.shift();)if(l.containsRange(c))continue e;return!1}return!0},e}();t.SnippetSession=p}),define(u[260],d([1,0,5,91,26,9,151,14,58,77,155,1028]),function(e,t,n,i,r,o,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=c.Color.fromRGBA(new c.RGBA(0,122,204)),p={showArrow:!0,showFrame:!0,className:"",frameColor:d,arrowColor:d},f=function(){function e(e,t,n,i,r,o){this.domNode=e,this.afterLineNumber=t,this.afterColumn=n,this.heightInLines=i,this._onDomNodeTop=r,this._onComputedHeight=o}return e.prototype.onDomNodeTop=function(e){this._onDomNodeTop(e)},e.prototype.onComputedHeight=function(e){this._onComputedHeight(e)},e}();t.ViewZoneDelegate=f;var g=function(){function e(e,t){this._id=e,this._domNode=t}return e.prototype.getId=function(){return this._id},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return null},e}();t.OverlayWidgetDelegate=g;var v=function(){function e(t){this._editor=t,this._ruleName=e._IdGenerator.nextId(),this._decorations=[]}return e.prototype.dispose=function(){this.hide(),o.removeCSSRulesContainingSelector(this._ruleName)},Object.defineProperty(e.prototype,"color",{set:function(e){this._color!==e&&(this._color=e,this._updateStyle())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{set:function(e){this._height!==e&&(this._height=e,this._updateStyle())},enumerable:!0,configurable:!0}),e.prototype._updateStyle=function(){o.removeCSSRulesContainingSelector(this._ruleName),o.createCSSRule(".monaco-editor "+this._ruleName,"border-style: solid; border-color: transparent; border-bottom-color: "+this._color+"; border-width: "+this._height+"px; bottom: -"+this._height+"px; margin-left: -"+this._height+"px; ")},e.prototype.show=function(e){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:a.Range.fromPositions(e),options:{className:this._ruleName}}])},e.prototype.hide=function(){this._editor.deltaDecorations(this._decorations,[])},e}();v._IdGenerator=new u.IdGenerator(".arrow-decoration-");var m=function(e){function t(t,n){void 0===n&&(n={});var i=e.call(this)||this;return i._positionMarkerId=[],i._disposables=[],i._isShowing=!1,i.editor=t,i.options=r.clone(n),r.mixin(i.options,p,!1),i.domNode=document.createElement("div"),i.options.isAccessible||(i.domNode.setAttribute("aria-hidden","true"),i.domNode.setAttribute("role","presentation")),i._disposables.push(i.editor.onDidLayoutChange(function(e){var t=i._getWidth(e);i.domNode.style.width=t+"px",i._onWidth(t)})),i}return h(t,e),t.prototype.dispose=function(){var e=this;n.dispose(this._disposables),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(function(t){t.removeZone(e._viewZone.id),e._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[])},t.prototype.create=function(){o.addClass(this.domNode,"zone-widget"),o.addClass(this.domNode,this.options.className),this.container=document.createElement("div"),o.addClass(this.container,"zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new v(this.editor),this._disposables.push(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()},t.prototype.style=function(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()},t.prototype._applyStyles=function(){if(this.container){var e=this.options.frameColor.toString();this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e}if(this._arrow){var t=this.options.arrowColor.toString();this._arrow.color=t}},t.prototype._getWidth=function(e){return void 0===e&&(e=this.editor.getLayoutInfo()),e.width-e.minimapWidth-e.verticalScrollbarWidth},t.prototype._onViewZoneTop=function(e){this.domNode.style.top=e+"px"},t.prototype._onViewZoneHeight=function(e){this.domNode.style.height=e+"px";var t=e-this._decoratingElementsHeight();this.container.style.height=t+"px",this._doLayout(t,this._getWidth()),this._resizeSash.layout()},Object.defineProperty(t.prototype,"position",{get:function(){var e=this._positionMarkerId[0];if(e)return this.editor.getModel().getDecorationRange(e).getStartPosition()},enumerable:!0,configurable:!0}),t.prototype.show=function(e,t){var n=a.Range.isIRange(e)?e:new a.Range(e.lineNumber,e.column,e.lineNumber,e.column);this._isShowing=!0,this._showImpl(n,t),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:n,options:l.ModelDecorationOptions.EMPTY}])},t.prototype.hide=function(){var e=this;this._viewZone&&(this.editor.changeViewZones(function(t){t.removeZone(e._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()},t.prototype._decoratingElementsHeight=function(){var e=this.editor.getConfiguration().lineHeight,t=0;return this.options.showArrow&&(t+=2*Math.round(e/3)),this.options.showFrame&&(t+=2*Math.round(e/9)),t},t.prototype._showImpl=function(e,t){var n=this,i={lineNumber:e.startLineNumber,column:e.startColumn},r=this._getWidth();this.domNode.style.width=r+"px";var o=document.createElement("div");o.style.overflow="hidden";var s=this.editor.getConfiguration().lineHeight,a=this.editor.getLayoutInfo().height/s*.8;t>=a&&(t=a);var c=0,l=0;if(this.options.showArrow&&(c=Math.round(s/3),this._arrow.height=c,this._arrow.show(i)),this.options.showFrame&&(l=Math.round(s/9)),this.editor.changeViewZones(function(e){n._viewZone&&e.removeZone(n._viewZone.id),n._overlayWidget&&(n.editor.removeOverlayWidget(n._overlayWidget),n._overlayWidget=null),n.domNode.style.top="-1000px",n._viewZone=new f(o,i.lineNumber,i.column,t,function(e){return n._onViewZoneTop(e)},function(e){return n._onViewZoneHeight(e)}),n._viewZone.id=e.addZone(n._viewZone),n._overlayWidget=new g("vs.editor.contrib.zoneWidget"+n._viewZone.id,n.domNode),n.editor.addOverlayWidget(n._overlayWidget)}),this.options.showFrame){var u=this.options.frameWidth?this.options.frameWidth:l;this.container.style.borderTopWidth=u+"px",this.container.style.borderBottomWidth=u+"px"}var d=t*s-this._decoratingElementsHeight();this.container.style.top=c+"px",this.container.style.height=d+"px",this.container.style.overflow="hidden",this._doLayout(d,r),this.editor.setSelection(e);var h=Math.min(this.editor.getModel().getLineCount(),Math.max(1,e.endLineNumber+1));this.editor.revealLine(h)},t.prototype.setCssClass=function(e,t){t&&this.container.classList.remove(t),o.addClass(this.container,e)},t.prototype._onWidth=function(e){},t.prototype._doLayout=function(e,t){},t.prototype._relayout=function(e){var t=this;this._viewZone.heightInLines!==e&&this.editor.changeViewZones(function(n){t._viewZone.heightInLines=e,n.layoutZone(t._viewZone.id)})},t.prototype._initSash=function(){var e=this;this._resizeSash=new s.Sash(this.domNode,this,{orientation:s.Orientation.HORIZONTAL}),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.disable());var t;this._disposables.push(this._resizeSash.addListener("start",function(n){e._viewZone&&(t={startY:n.startY,heightInLines:e._viewZone.heightInLines})})),this._disposables.push(this._resizeSash.addListener("end",function(){t=void 0})),this._disposables.push(this._resizeSash.addListener("change",function(n){if(t){var i=(n.currentY-t.startY)/e.editor.getConfiguration().lineHeight,r=i<0?Math.ceil(i):Math.floor(i),o=t.heightInLines+r;o>5&&o<35&&e._relayout(o)}}))},t.prototype.getHorizontalSashLeft=function(){return 0},t.prototype.getHorizontalSashTop=function(){return parseInt(this.domNode.style.height)-this._decoratingElementsHeight()/2},t.prototype.getHorizontalSashWidth=function(){var e=this.editor.getLayoutInfo();return e.width-e.minimapWidth},t}(i.Widget);t.ZoneWidget=m}),define(u[748],d([2,3]),function(e,t){return e.create("vs/editor/common/modes/modesRegistry",t)}),define(u[747],d([2,3]),function(e,t){return e.create("vs/editor/common/services/bulkEdit",t)}),define(u[319],d([1,0,747,34,131,5,16,4,105,14,53]),function(e,t,n,i,r,o,s,a,c,l,u){"use strict";function d(e,t,i){function o(){for(var e,t=0,i=c;t<i.length;t++){var r=i[t];l.hasChanged(r.resource)&&(e||(e=[]),e.push(r.resource.fsPath))}if(e)return n.localize(0,null,e.join(", "))}var s,c=[],l=new p(i).start();return{progress:function(e){s=e},add:function(e){c.push.apply(c,e)},finish:function(){if(0===c.length)return a.TPromise.as(void 0);var n=o();if(n)return a.TPromise.wrapError(new Error(n));var i,r;t&&t.getModel()&&(i=t.getModel().uri,r=t.getSelections());var u=new v(e,i,r,c,s);return u.prepare().then(function(e){var t=o();if(t)throw new Error(t);l.stop();var n=u.apply();return u.dispose(),n})},ariaMessage:function(){var e=c.length,t=r.size(r.groupBy(c,function(e){return e.resource.toString()}));return 0===e?n.localize(1,null):e>1&&t>1?n.localize(2,null,e,t):n.localize(3,null,e,t)}}}Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(e){this._fileService=e}return e.prototype.start=function(){var e,t=Object.create(null);return this._fileService&&(e=this._fileService.onFileChanges(function(e){e.changes.forEach(function(e){var n=String(e.resource),i=t[n];i||(t[n]=i=[]),i.push(e)})})),{stop:function(){return e&&e.dispose()},hasChanged:function(e){return!!t[e.toString()]},allChanges:function(){return i.flatten(r.values(t))}}},e}(),f=function(){function e(e){this._endCursorSelection=null,this._modelReference=e,this._edits=[]}return Object.defineProperty(e.prototype,"_model",{get:function(){return this._modelReference.object.textEditorModel},enumerable:!0,configurable:!0}),e.prototype.addEdit=function(e){if("number"==typeof e.newEol&&(this._newEol=e.newEol),e.range||e.newText){var t=void 0;t=e.range?l.Range.lift(e.range):this._model.getFullModelRange(),this._edits.push(c.EditOperation.replaceMove(t,e.newText))}},e.prototype.apply=function(){var e=this;this._edits.length>0&&(this._edits=this._edits.map(function(e,t){return{value:e,index:t}}).sort(function(e,t){var n=l.Range.compareRangesUsingStarts(e.value.range,t.value.range);return 0===n&&(n=e.index-t.index),n}).map(function(e){return e.value}),this._initialSelections=this._getInitialSelections(),this._model.pushEditOperations(this._initialSelections,this._edits,function(t){return e._getEndCursorSelections(t)})),void 0!==this._newEol&&this._model.setEOL(this._newEol)},e.prototype._getInitialSelections=function(){var e=this._edits[0].range;return[new u.Selection(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn)]},e.prototype._getEndCursorSelections=function(e){for(var t=0,n=0;n<e.length;n++)for(var i=e[n].range,r=0;r<this._initialSelections.length;r++){var o=this._initialSelections[r];if(l.Range.areIntersectingOrTouching(i,o)){t=n;break}}var s=e[t].range;return this._endCursorSelection=new u.Selection(s.endLineNumber,s.endColumn,s.endLineNumber,s.endColumn),[this._endCursorSelection]},e.prototype.getEndCursorSelection=function(){return this._endCursorSelection},e.prototype.dispose=function(){this._model&&(this._modelReference.dispose(),this._modelReference=null)},e}(),g=function(e){function t(t,n){var i=e.call(this,t)||this;return i._knownInitialSelections=n,i}return h(t,e),t.prototype._getInitialSelections=function(){return this._knownInitialSelections},t}(f),v=function(){function e(e,t,n,i,r){void 0===r&&(r=null),this.progress=r,this._numberOfResourcesToModify=0,this._numberOfChanges=0,this._edits=Object.create(null),this._textModelResolverService=e,this._sourceModel=t,this._sourceSelections=n,this._sourceModelTask=null;for(var o=0,s=i;o<s.length;o++){var a=s[o];this._addEdit(a)}}return e.prototype.resourcesCount=function(){return this._numberOfResourcesToModify},e.prototype.changeCount=function(){return this._numberOfChanges},e.prototype._addEdit=function(e){var t=this._edits[e.resource.toString()];t||(this._edits[e.resource.toString()]=t=[],this._numberOfResourcesToModify+=1),this._numberOfChanges+=1,t.push(e)},e.prototype.prepare=function(){var e=this;if(this._tasks)throw new Error("illegal state - already prepared");this._tasks=[];var t=[];return this.progress&&this.progress.total(2*this._numberOfResourcesToModify),r.forEach(this._edits,function(n){var i=e._textModelResolverService.createModelReference(s.default.parse(n.key)).then(function(t){var i=t.object;if(!i||!i.textEditorModel)throw new Error("Cannot load file "+n.key);var r,o=i.textEditorModel;e._sourceModel&&o.uri.toString()===e._sourceModel.toString()?(e._sourceModelTask=new g(t,e._sourceSelections),r=e._sourceModelTask):r=new f(t),n.value.forEach(function(e){return r.addEdit(e)}),e._tasks.push(r),e.progress&&e.progress.worked(1)});t.push(i)}),a.TPromise.join(t).then(function(t){return e})},e.prototype.apply=function(){var e=this;this._tasks.forEach(function(t){return e.applyTask(t)});var t=null;return this._sourceModelTask&&(t=this._sourceModelTask.getEndCursorSelection()),t},e.prototype.applyTask=function(e){e.apply(),this.progress&&this.progress.worked(1)},e.prototype.dispose=function(){this._tasks=o.dispose(this._tasks)},e}();t.bulkEdit=function(e,t,n,i,r){void 0===r&&(r=null);var o=d(e,t,i);return o.add(n),o.progress(r),o.finish()},t.createBulkEdit=d}),define(u[746],d([2,3]),function(e,t){return e.create("vs/editor/common/services/modelServiceImpl",t)}),define(u[745],d([2,3]),function(e,t){return e.create("vs/editor/common/view/editorColorRegistry",t)}),define(u[744],d([2,3]),function(e,t){return e.create("vs/editor/contrib/bracketMatching/common/bracketMatching",t)}),define(u[743],d([2,3]),function(e,t){return e.create("vs/editor/contrib/caretOperations/common/caretOperations",t)}),define(u[742],d([2,3]),function(e,t){return e.create("vs/editor/contrib/caretOperations/common/transpose",t)}),define(u[741],d([2,3]),function(e,t){return e.create("vs/editor/contrib/clipboard/browser/clipboard",t)}),define(u[473],d([2,3]),function(e,t){return e.create("vs/editor/contrib/comment/common/comment",t)}),define(u[453],d([2,3]),function(e,t){return e.create("vs/editor/contrib/contextmenu/browser/contextmenu",t)}),define(u[913],d([2,3]),function(e,t){return e.create("vs/editor/contrib/find/browser/findWidget",t)}),define(u[454],d([2,3]),function(e,t){return e.create("vs/editor/contrib/find/common/findController",t)}),define(u[455],d([2,3]),function(e,t){return e.create("vs/editor/contrib/folding/browser/folding",t)}),define(u[456],d([2,3]),function(e,t){return e.create("vs/editor/contrib/format/browser/formatActions",t)}),define(u[457],d([2,3]),function(e,t){return e.create("vs/editor/contrib/goToDeclaration/browser/goToDeclarationCommands",t)}),define(u[458],d([2,3]),function(e,t){return e.create("vs/editor/contrib/goToDeclaration/browser/goToDeclarationMouse",t)}),define(u[459],d([2,3]),function(e,t){return e.create("vs/editor/contrib/gotoError/browser/gotoError",t)}),define(u[460],d([2,3]),function(e,t){return e.create("vs/editor/contrib/hover/browser/hover",t)}),define(u[461],d([2,3]),function(e,t){return e.create("vs/editor/contrib/hover/browser/modesContentHover",t)}),define(u[462],d([2,3]),function(e,t){return e.create("vs/editor/contrib/inPlaceReplace/common/inPlaceReplace",t)}),define(u[463],d([2,3]),function(e,t){return e.create("vs/editor/contrib/indentation/common/indentation",t)}),define(u[464],d([2,3]),function(e,t){return e.create("vs/editor/contrib/linesOperations/common/linesOperations",t)}),define(u[465],d([2,3]),function(e,t){return e.create("vs/editor/contrib/links/browser/links",t)}),define(u[466],d([2,3]),function(e,t){return e.create("vs/editor/contrib/multicursor/common/multicursor",t)}),define(u[467],d([2,3]),function(e,t){return e.create("vs/editor/contrib/parameterHints/browser/parameterHints",t)}),define(u[468],d([2,3]),function(e,t){return e.create("vs/editor/contrib/parameterHints/browser/parameterHintsWidget",t)}),define(u[469],d([2,3]),function(e,t){return e.create("vs/editor/contrib/quickFix/browser/quickFixCommands",t)}),define(u[470],d([2,3]),function(e,t){return e.create("vs/editor/contrib/referenceSearch/browser/referenceSearch",t)}),define(u[471],d([2,3]),function(e,t){return e.create("vs/editor/contrib/referenceSearch/browser/referencesController",t)}),define(u[472],d([2,3]),function(e,t){return e.create("vs/editor/contrib/referenceSearch/browser/referencesModel",t)}),define(u[325],d([1,0,472,81,8,28,5,12,155,4,14]),function(e,t,n,i,r,o,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e,t,n){this._parent=e,this._range=t,this._eventBus=n,this._id=c.defaultGenerator.nextId()}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"uri",{get:function(){return this._parent.uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._parent.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"directory",{get:function(){return this._parent.directory},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._range},set:function(e){this._range=e,this._eventBus.emit("ref/changed",this)},enumerable:!0,configurable:!0}),e.prototype.getAriaMessage=function(){return n.localize(0,null,o.basename(this.uri.fsPath),this.range.startLineNumber,this.range.startColumn)},e}();t.OneReference=d;var h=function(){function e(e){this._modelReference=e}return Object.defineProperty(e.prototype,"_model",{get:function(){return this._modelReference.object.textEditorModel},enumerable:!0,configurable:!0}),e.prototype.preview=function(e,t){void 0===t&&(t=8);var n=this._model;if(n){var i=e.startLineNumber,r=e.startColumn,o=e.endColumn,s=n.getWordUntilPosition({lineNumber:i,column:r-t}),c=new u.Range(i,s.startColumn,i,r),l=new u.Range(i,o,i,Number.MAX_VALUE);return{before:n.getValueInRange(c).replace(/^\s+/,a.empty),inside:n.getValueInRange(e),after:n.getValueInRange(l).replace(/\s+$/,a.empty)}}},e.prototype.dispose=function(){this._modelReference&&(this._modelReference.dispose(),this._modelReference=null)},e}();t.FilePreview=h;var p=function(){function e(e,t){this._parent=e,this._uri=t,this._children=[]}return Object.defineProperty(e.prototype,"id",{get:function(){return this._uri.toString()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return o.basename(this.uri.fsPath)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"directory",{get:function(){return o.dirname(this.uri.fsPath)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"preview",{get:function(){return this._preview},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"failure",{get:function(){return this._loadFailure},enumerable:!0,configurable:!0}),e.prototype.getAriaMessage=function(){var e=this.children.length;return 1===e?n.localize(1,null,o.basename(this.uri.fsPath),this.uri.fsPath):n.localize(2,null,e,o.basename(this.uri.fsPath),this.uri.fsPath)},e.prototype.resolve=function(e){var t=this;return this._resolved?l.TPromise.as(this):e.createModelReference(this._uri).then(function(e){if(!e.object)throw e.dispose(),new Error;return t._preview=new h(e),t._resolved=!0,t},function(e){return t._children=[],t._resolved=!0,t._loadFailure=e,t})},e.prototype.dispose=function(){this._preview&&(this._preview.dispose(),this._preview=null)},e}();t.FileReferences=p;var f=function(){function e(t){this._groups=[],this._references=[],this._eventBus=new i.EventEmitter,this.onDidChangeReferenceRange=r.fromEventEmitter(this._eventBus,"ref/changed"),t.sort(e._compareReferences);for(var n,o=0,s=t;o<s.length;o++){var a=s[o];if(n&&n.uri.toString()===a.uri.toString()||(n=new p(this,a.uri),this.groups.push(n)),0===n.children.length||!u.Range.equalsRange(a.range,n.children[n.children.length-1].range)){var c=new d(n,a.range,this._eventBus);this._references.push(c),n.children.push(c)}}}return Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this._groups.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"references",{get:function(){return this._references},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),e.prototype.getAriaMessage=function(){return this.empty?n.localize(3,null):1===this.references.length?n.localize(4,null,this.references[0].uri.fsPath):1===this.groups.length?n.localize(5,null,this.references.length,this.groups[0].uri.fsPath):n.localize(6,null,this.references.length,this.groups.length)},e.prototype.nextReference=function(e){var t=e.parent.children.indexOf(e),n=e.parent.children.length,i=e.parent.parent.groups.length;return t+1<n||1===i?e.parent.children[(t+1)%n]:(t=e.parent.parent.groups.indexOf(e.parent),t=(t+1)%i,e.parent.parent.groups[t].children[0])},e.prototype.nearestReference=function(e,t){var n=this._references.map(function(n,i){return{idx:i,prefixLen:a.commonPrefixLength(n.uri.toString(),e.toString()),offsetDist:100*Math.abs(n.range.startLineNumber-t.lineNumber)+Math.abs(n.range.startColumn-t.column)}}).sort(function(e,t){return e.prefixLen>t.prefixLen?-1:e.prefixLen<t.prefixLen?1:e.offsetDist<t.offsetDist?-1:e.offsetDist>t.offsetDist?1:0})[0];if(n)return this._references[n.idx]},e.prototype.dispose=function(){this._groups=s.dispose(this._groups)},e._compareReferences=function(e,t){var n=e.uri.toString(),i=t.uri.toString();return n<i?-1:n>i?1:u.Range.compareRangesUsingStarts(e.range,t.range)},e}();t.ReferencesModel=f}),define(u[474],d([2,3]),function(e,t){return e.create("vs/editor/contrib/referenceSearch/browser/referencesWidget",t)}),define(u[475],d([2,3]),function(e,t){return e.create("vs/editor/contrib/rename/browser/rename",t)}),define(u[476],d([2,3]),function(e,t){return e.create("vs/editor/contrib/rename/browser/renameInputField",t)}),define(u[477],d([2,3]),function(e,t){return e.create("vs/editor/contrib/smartSelect/common/smartSelect",t)}),define(u[478],d([2,3]),function(e,t){return e.create("vs/editor/contrib/suggest/browser/suggestController",t)}),define(u[479],d([2,3]),function(e,t){return e.create("vs/editor/contrib/suggest/browser/suggestWidget",t)}),define(u[480],d([2,3]),function(e,t){return e.create("vs/editor/contrib/toggleTabFocusMode/common/toggleTabFocusMode",t)}),define(u[481],d([2,3]),function(e,t){return e.create("vs/editor/contrib/wordHighlighter/common/wordHighlighter",t)}),define(u[482],d([2,3]),function(e,t){return e.create("vs/editor/contrib/zoneWidget/browser/peekViewWidget",t)}),define(u[483],d([2,3]),function(e,t){return e.create("vs/platform/actions/browser/menuItemActionItem",t)}),define(u[484],d([2,3]),function(e,t){return e.create("vs/platform/actions/electron-browser/menusExtensionPoint",t)}),define(u[485],d([2,3]),function(e,t){return e.create("vs/platform/configuration/common/configurationRegistry",t)}),define(u[486],d([2,3]),function(e,t){return e.create("vs/platform/extensionManagement/common/extensionEnablementService",t)}),define(u[487],d([2,3]),function(e,t){return e.create("vs/platform/extensionManagement/common/extensionManagement",t)}),define(u[488],d([2,3]),function(e,t){return e.create("vs/platform/extensionManagement/node/extensionGalleryService",t)}),define(u[489],d([2,3]),function(e,t){return e.create("vs/platform/extensions/common/abstractExtensionService",t)}),define(u[490],d([2,3]),function(e,t){return e.create("vs/platform/extensions/common/extensionsRegistry",t)}),define(u[491],d([2,3]),function(e,t){return e.create("vs/platform/extensions/node/extensionValidator",t)}),define(u[492],d([2,3]),function(e,t){return e.create("vs/platform/integrity/node/integrityServiceImpl",t)}),define(u[493],d([2,3]),function(e,t){return e.create("vs/platform/jsonschemas/common/jsonValidationExtensionPoint",t)}),define(u[494],d([2,3]),function(e,t){return e.create("vs/platform/keybinding/common/abstractKeybindingService",t)}),define(u[495],d([2,3]),function(e,t){return e.create("vs/platform/markers/common/problemMatcher",t)}),define(u[496],d([2,3]),function(e,t){return e.create("vs/platform/message/common/message",t)}),define(u[497],d([2,3]),function(e,t){return e.create("vs/platform/request/node/request",t)}),define(u[498],d([2,3]),function(e,t){return e.create("vs/platform/telemetry/common/telemetryService",t)}),define(u[499],d([2,3]),function(e,t){return e.create("vs/platform/theme/common/colorRegistry",t)}),define(u[500],d([2,3]),function(e,t){return e.create("vs/workbench/api/electron-browser/mainThreadExtensionService",t)}),define(u[501],d([2,3]),function(e,t){return e.create("vs/workbench/api/electron-browser/mainThreadMessageService",t)}),define(u[502],d([2,3]),function(e,t){return e.create("vs/workbench/browser/actions/configureLocale",t)}),define(u[503],d([2,3]),function(e,t){return e.create("vs/workbench/browser/actions/fileActions",t)}),define(u[504],d([2,3]),function(e,t){return e.create("vs/workbench/browser/actions/toggleActivityBarVisibility",t)}),define(u[505],d([2,3]),function(e,t){return e.create("vs/workbench/browser/actions/toggleEditorLayout",t)}),define(u[506],d([2,3]),function(e,t){return e.create("vs/workbench/browser/actions/toggleSidebarPosition",t)}),define(u[507],d([2,3]),function(e,t){return e.create("vs/workbench/browser/actions/toggleSidebarVisibility",t)}),define(u[508],d([2,3]),function(e,t){return e.create("vs/workbench/browser/actions/toggleStatusbarVisibility",t)}),define(u[509],d([2,3]),function(e,t){return e.create("vs/workbench/browser/actions/toggleZenMode",t)}),define(u[510],d([2,3]),function(e,t){return e.create("vs/workbench/browser/parts/activitybar/activitybarActions",t)}),define(u[511],d([2,3]),function(e,t){return e.create("vs/workbench/browser/parts/activitybar/activitybarPart",t)}),define(u[512],d([2,3]),function(e,t){return e.create("vs/workbench/browser/parts/compositePart",t)}),define(u[513],d([2,3]),function(e,t){return e.create("vs/workbench/browser/parts/editor/binaryDiffEditor",t)}),define(u[514],d([2,3]),function(e,t){return e.create("vs/workbench/browser/parts/editor/binaryEditor",t)}),define(u[515],d([2,3]),function(e,t){return e.create("vs/workbench/browser/parts/editor/editor.contribution",t)}),define(u[516],d([2,3]),function(e,t){return e.create("vs/workbench/browser/parts/editor/editorActions",t)}),define(u[517],d([2,3]),function(e,t){return e.create("vs/workbench/browser/parts/editor/editorCommands",t)}),define(u[518],d([2,3]),function(e,t){return e.create("vs/workbench/browser/parts/editor/editorPart",t)}),define(u[519],d([2,3]),function(e,t){return e.create("vs/workbench/browser/parts/editor/editorPicker",t)}),define(u[520],d([2,3]),function(e,t){return e.create("vs/workbench/browser/parts/editor/editorStatus",t)}),define(u[521],d([2,3]),function(e,t){return e.create("vs/workbench/browser/parts/editor/tabsTitleControl",t)}),define(u[522],d([2,3]),function(e,t){return e.create("vs/workbench/browser/parts/editor/textDiffEditor",t)}),define(u[523],d([2,3]),function(e,t){return e.create("vs/workbench/browser/parts/editor/textEditor",t)}),define(u[524],d([2,3]),function(e,t){return e.create("vs/workbench/browser/parts/editor/textResourceEditor",t)}),define(u[525],d([2,3]),function(e,t){return e.create("vs/workbench/browser/parts/editor/titleControl",t)}),define(u[526],d([2,3]),function(e,t){return e.create("vs/workbench/browser/parts/panel/panelActions",t)}),define(u[527],d([2,3]),function(e,t){return e.create("vs/workbench/browser/parts/panel/panelPart",t)}),define(u[528],d([2,3]),function(e,t){return e.create("vs/workbench/browser/parts/quickopen/quickOpenController",t)}),define(u[529],d([2,3]),function(e,t){return e.create("vs/workbench/browser/parts/quickopen/quickopen",t)}),define(u[530],d([2,3]),function(e,t){return e.create("vs/workbench/browser/parts/sidebar/sidebarPart",t)}),define(u[531],d([2,3]),function(e,t){return e.create("vs/workbench/browser/parts/statusbar/statusbarPart",t)}),define(u[532],d([2,3]),function(e,t){return e.create("vs/workbench/browser/parts/titlebar/titlebarPart",t)}),define(u[533],d([2,3]),function(e,t){return e.create("vs/workbench/browser/quickopen",t)}),define(u[534],d([2,3]),function(e,t){return e.create("vs/workbench/browser/viewlet",t)}),define(u[535],d([2,3]),function(e,t){return e.create("vs/workbench/common/theme",t)}),define(u[536],d([2,3]),function(e,t){return e.create("vs/workbench/electron-browser/actions",t)}),define(u[537],d([2,3]),function(e,t){return e.create("vs/workbench/electron-browser/commands",t)}),define(u[538],d([2,3]),function(e,t){return e.create("vs/workbench/electron-browser/extensionHost",t)}),define(u[539],d([2,3]),function(e,t){return e.create("vs/workbench/electron-browser/main",t)}),define(u[540],d([2,3]),function(e,t){return e.create("vs/workbench/electron-browser/main.contribution",t)}),define(u[541],d([2,3]),function(e,t){return e.create("vs/workbench/electron-browser/shell",t)}),define(u[542],d([2,3]),function(e,t){return e.create("vs/workbench/electron-browser/window",t)}),define(u[543],d([2,3]),function(e,t){return e.create("vs/workbench/electron-browser/workbench",t)}),define(u[544],d([2,3]),function(e,t){return e.create("vs/workbench/node/extensionPoints",t)}),define(u[545],d([2,3]),function(e,t){return e.create("vs/workbench/parts/cli/electron-browser/cli.contribution",t)}),define(u[546],d([2,3]),function(e,t){return e.create("vs/workbench/parts/codeEditor/electron-browser/accessibility",t)}),define(u[547],d([2,3]),function(e,t){return e.create("vs/workbench/parts/codeEditor/electron-browser/inspectKeybindings",t)}),define(u[548],d([2,3]),function(e,t){return e.create("vs/workbench/parts/codeEditor/electron-browser/languageConfiguration/languageConfigurationExtensionPoint",t)}),define(u[549],d([2,3]),function(e,t){return e.create("vs/workbench/parts/codeEditor/electron-browser/textMate/inspectTMScopes",t)}),define(u[550],d([2,3]),function(e,t){return e.create("vs/workbench/parts/codeEditor/electron-browser/toggleMultiCursorModifier",t)}),define(u[551],d([2,3]),function(e,t){return e.create("vs/workbench/parts/codeEditor/electron-browser/toggleRenderControlCharacter",t)}),define(u[552],d([2,3]),function(e,t){return e.create("vs/workbench/parts/codeEditor/electron-browser/toggleRenderWhitespace",t)}),define(u[553],d([2,3]),function(e,t){return e.create("vs/workbench/parts/codeEditor/electron-browser/toggleWordWrap",t)}),define(u[554],d([2,3]),function(e,t){return e.create("vs/workbench/parts/codeEditor/electron-browser/wordWrapMigration",t)}),define(u[555],d([2,3]),function(e,t){return e.create("vs/workbench/parts/debug/browser/breakpointWidget",t)}),define(u[556],d([2,3]),function(e,t){return e.create("vs/workbench/parts/debug/browser/debugActionItems",t)}),define(u[557],d([2,3]),function(e,t){return e.create("vs/workbench/parts/debug/browser/debugActions",t)}),define(u[558],d([2,3]),function(e,t){return e.create("vs/workbench/parts/debug/browser/debugActionsWidget",t)}),define(u[559],d([2,3]),function(e,t){return e.create("vs/workbench/parts/debug/browser/debugContentProvider",t)}),define(u[560],d([2,3]),function(e,t){return e.create("vs/workbench/parts/debug/browser/debugEditorActions",t)}),define(u[561],d([2,3]),function(e,t){return e.create("vs/workbench/parts/debug/browser/debugEditorModelManager",t)}),define(u[562],d([2,3]),function(e,t){return e.create("vs/workbench/parts/debug/browser/debugQuickOpen",t)}),define(u[563],d([2,3]),function(e,t){return e.create("vs/workbench/parts/debug/browser/exceptionWidget",t)}),define(u[564],d([2,3]),function(e,t){return e.create("vs/workbench/parts/debug/browser/linkDetector",t)}),define(u[565],d([2,3]),function(e,t){return e.create("vs/workbench/parts/debug/common/debug",t)}),define(u[566],d([2,3]),function(e,t){return e.create("vs/workbench/parts/debug/common/debugModel",t)}),define(u[567],d([2,3]),function(e,t){return e.create("vs/workbench/parts/debug/common/debugSource",t)}),define(u[568],d([2,3]),function(e,t){return e.create("vs/workbench/parts/debug/electron-browser/debug.contribution",t)}),define(u[569],d([2,3]),function(e,t){return e.create("vs/workbench/parts/debug/electron-browser/debugCommands",t)}),define(u[570],d([2,3]),function(e,t){return e.create("vs/workbench/parts/debug/electron-browser/debugConfigurationManager",t)}),define(u[571],d([2,3]),function(e,t){return e.create("vs/workbench/parts/debug/electron-browser/debugEditorContribution",t)}),define(u[572],d([2,3]),function(e,t){return e.create("vs/workbench/parts/debug/electron-browser/debugHover",t)}),define(u[573],d([2,3]),function(e,t){return e.create("vs/workbench/parts/debug/electron-browser/debugService",t)}),define(u[574],d([2,3]),function(e,t){return e.create("vs/workbench/parts/debug/electron-browser/debugViewer",t)}),define(u[575],d([2,3]),function(e,t){return e.create("vs/workbench/parts/debug/electron-browser/debugViews",t)}),define(u[576],d([2,3]),function(e,t){return e.create("vs/workbench/parts/debug/electron-browser/electronDebugActions",t)}),define(u[577],d([2,3]),function(e,t){return e.create("vs/workbench/parts/debug/electron-browser/rawDebugSession",t)}),define(u[578],d([2,3]),function(e,t){return e.create("vs/workbench/parts/debug/electron-browser/repl",t)}),define(u[579],d([2,3]),function(e,t){return e.create("vs/workbench/parts/debug/electron-browser/replViewer",t)}),define(u[580],d([2,3]),function(e,t){return e.create("vs/workbench/parts/debug/electron-browser/statusbarColorProvider",t)}),define(u[581],d([2,3]),function(e,t){return e.create("vs/workbench/parts/debug/electron-browser/terminalSupport",t)}),define(u[582],d([2,3]),function(e,t){return e.create("vs/workbench/parts/debug/node/debugAdapter",t)}),define(u[583],d([2,3]),function(e,t){return e.create("vs/workbench/parts/emmet/browser/actions/showEmmetCommands",t)}),define(u[584],d([2,3]),function(e,t){return e.create("vs/workbench/parts/emmet/electron-browser/actions/balance",t)}),define(u[585],d([2,3]),function(e,t){return e.create("vs/workbench/parts/emmet/electron-browser/actions/editPoints",t)}),define(u[586],d([2,3]),function(e,t){return e.create("vs/workbench/parts/emmet/electron-browser/actions/evaluateMath",t)}),define(u[587],d([2,3]),function(e,t){return e.create("vs/workbench/parts/emmet/electron-browser/actions/expandAbbreviation",t)}),define(u[588],d([2,3]),function(e,t){return e.create("vs/workbench/parts/emmet/electron-browser/actions/incrementDecrement",t)}),define(u[589],d([2,3]),function(e,t){return e.create("vs/workbench/parts/emmet/electron-browser/actions/matchingPair",t)}),define(u[590],d([2,3]),function(e,t){return e.create("vs/workbench/parts/emmet/electron-browser/actions/mergeLines",t)}),define(u[591],d([2,3]),function(e,t){return e.create("vs/workbench/parts/emmet/electron-browser/actions/reflectCssValue",t)}),define(u[592],d([2,3]),function(e,t){return e.create("vs/workbench/parts/emmet/electron-browser/actions/removeTag",t)}),define(u[593],d([2,3]),function(e,t){return e.create("vs/workbench/parts/emmet/electron-browser/actions/selectItem",t)}),define(u[594],d([2,3]),function(e,t){return e.create("vs/workbench/parts/emmet/electron-browser/actions/splitJoinTag",t)}),define(u[595],d([2,3]),function(e,t){return e.create("vs/workbench/parts/emmet/electron-browser/actions/toggleComment",t)}),define(u[596],d([2,3]),function(e,t){return e.create("vs/workbench/parts/emmet/electron-browser/actions/updateImageSize",t)}),define(u[597],d([2,3]),function(e,t){return e.create("vs/workbench/parts/emmet/electron-browser/actions/updateTag",t)}),define(u[598],d([2,3]),function(e,t){return e.create("vs/workbench/parts/emmet/electron-browser/actions/wrapWithAbbreviation",t)}),define(u[599],d([2,3]),function(e,t){return e.create("vs/workbench/parts/emmet/electron-browser/emmet.contribution",t)}),define(u[600],d([2,3]),function(e,t){return e.create("vs/workbench/parts/execution/electron-browser/terminal.contribution",t)}),define(u[601],d([2,3]),function(e,t){return e.create("vs/workbench/parts/execution/electron-browser/terminalService",t)}),define(u[602],d([2,3]),function(e,t){return e.create("vs/workbench/parts/extensions/browser/dependenciesViewer",t)}),define(u[603],d([2,3]),function(e,t){return e.create("vs/workbench/parts/extensions/browser/extensionEditor",t)}),define(u[604],d([2,3]),function(e,t){return e.create("vs/workbench/parts/extensions/browser/extensionsActions",t)}),define(u[605],d([2,3]),function(e,t){return e.create("vs/workbench/parts/extensions/browser/extensionsQuickOpen",t)}),define(u[606],d([2,3]),function(e,t){return e.create("vs/workbench/parts/extensions/common/extensionsFileTemplate",t)}),define(u[607],d([2,3]),function(e,t){return e.create("vs/workbench/parts/extensions/common/extensionsInput",t)}),define(u[608],d([2,3]),function(e,t){return e.create("vs/workbench/parts/extensions/electron-browser/extensionTipsService",t)}),define(u[609],d([2,3]),function(e,t){return e.create("vs/workbench/parts/extensions/electron-browser/extensions.contribution",t)}),define(u[610],d([2,3]),function(e,t){return e.create("vs/workbench/parts/extensions/electron-browser/extensionsActions",t)}),define(u[611],d([2,3]),function(e,t){return e.create("vs/workbench/parts/extensions/electron-browser/extensionsUtils",t)}),define(u[612],d([2,3]),function(e,t){return e.create("vs/workbench/parts/extensions/electron-browser/extensionsViewlet",t)}),define(u[613],d([2,3]),function(e,t){return e.create("vs/workbench/parts/extensions/electron-browser/extensionsViews",t)}),define(u[614],d([2,3]),function(e,t){return e.create("vs/workbench/parts/extensions/node/extensionsWorkbenchService",t)}),define(u[615],d([2,3]),function(e,t){return e.create("vs/workbench/parts/feedback/electron-browser/feedback",t)}),define(u[616],d([2,3]),function(e,t){return e.create("vs/workbench/parts/files/browser/editors/binaryFileEditor",t)}),define(u[617],d([2,3]),function(e,t){return e.create("vs/workbench/parts/files/browser/editors/textFileEditor",t)}),define(u[618],d([2,3]),function(e,t){return e.create("vs/workbench/parts/files/browser/fileActions",t)}),define(u[619],d([2,3]),function(e,t){return e.create("vs/workbench/parts/files/browser/fileActions.contribution",t)}),define(u[620],d([2,3]),function(e,t){return e.create("vs/workbench/parts/files/browser/fileCommands",t)}),define(u[621],d([2,3]),function(e,t){return e.create("vs/workbench/parts/files/browser/files.contribution",t)}),define(u[622],d([2,3]),function(e,t){return e.create("vs/workbench/parts/files/browser/saveErrorHandler",t)}),define(u[623],d([2,3]),function(e,t){return e.create("vs/workbench/parts/files/browser/views/emptyView",t)}),define(u[624],d([2,3]),function(e,t){return e.create("vs/workbench/parts/files/browser/views/explorerView",t)}),define(u[625],d([2,3]),function(e,t){return e.create("vs/workbench/parts/files/browser/views/explorerViewer",t)}),define(u[626],d([2,3]),function(e,t){return e.create("vs/workbench/parts/files/browser/views/openEditorsView",t)}),define(u[627],d([2,3]),function(e,t){return e.create("vs/workbench/parts/files/browser/views/openEditorsViewer",t)}),define(u[628],d([2,3]),function(e,t){return e.create("vs/workbench/parts/files/common/dirtyFilesTracker",t)}),define(u[629],d([2,3]),function(e,t){return e.create("vs/workbench/parts/files/common/editors/fileEditorInput",t)}),define(u[630],d([2,3]),function(e,t){return e.create("vs/workbench/parts/html/browser/html.contribution",t)}),define(u[631],d([2,3]),function(e,t){return e.create("vs/workbench/parts/html/browser/htmlPreviewPart",t)}),define(u[632],d([2,3]),function(e,t){return e.create("vs/workbench/parts/html/browser/webview",t)}),define(u[633],d([2,3]),function(e,t){return e.create("vs/workbench/parts/markers/common/messages",t)}),define(u[634],d([2,3]),function(e,t){return e.create("vs/workbench/parts/markers/electron-browser/markersElectronContributions",t)}),define(u[635],d([2,3]),function(e,t){return e.create("vs/workbench/parts/output/browser/output.contribution",t)}),define(u[636],d([2,3]),function(e,t){return e.create("vs/workbench/parts/output/browser/outputActions",t)}),define(u[637],d([2,3]),function(e,t){return e.create("vs/workbench/parts/output/browser/outputPanel",t)}),define(u[638],d([2,3]),function(e,t){return e.create("vs/workbench/parts/output/common/output",t)}),define(u[639],d([2,3]),function(e,t){return e.create("vs/workbench/parts/performance/electron-browser/performance.contribution",t)}),define(u[640],d([2,3]),function(e,t){return e.create("vs/workbench/parts/preferences/browser/keybindingWidgets",t)}),define(u[641],d([2,3]),function(e,t){return e.create("vs/workbench/parts/preferences/browser/keybindingsEditor",t)}),define(u[642],d([2,3]),function(e,t){return e.create("vs/workbench/parts/preferences/browser/keybindingsEditorContribution",t)}),define(u[643],d([2,3]),function(e,t){return e.create("vs/workbench/parts/preferences/browser/preferences.contribution",t)}),define(u[644],d([2,3]),function(e,t){return e.create("vs/workbench/parts/preferences/browser/preferencesActions",t)}),define(u[645],d([2,3]),function(e,t){return e.create("vs/workbench/parts/preferences/browser/preferencesEditor",t)}),define(u[646],d([2,3]),function(e,t){return e.create("vs/workbench/parts/preferences/browser/preferencesRenderers",t)}),define(u[647],d([2,3]),function(e,t){return e.create("vs/workbench/parts/preferences/browser/preferencesService",t)}),define(u[648],d([2,3]),function(e,t){return e.create("vs/workbench/parts/preferences/browser/preferencesWidgets",t)}),define(u[649],d([2,3]),function(e,t){return e.create("vs/workbench/parts/preferences/common/keybindingsEditorModel",t)}),define(u[650],d([2,3]),function(e,t){return e.create("vs/workbench/parts/preferences/common/preferencesModels",t)}),define(u[651],d([2,3]),function(e,t){return e.create("vs/workbench/parts/quickopen/browser/commandsHandler",t)}),define(u[652],d([2,3]),function(e,t){return e.create("vs/workbench/parts/quickopen/browser/gotoLineHandler",t)}),define(u[653],d([2,3]),function(e,t){return e.create("vs/workbench/parts/quickopen/browser/gotoSymbolHandler",t)}),define(u[654],d([2,3]),function(e,t){return e.create("vs/workbench/parts/quickopen/browser/helpHandler",t)}),define(u[655],d([2,3]),function(e,t){return e.create("vs/workbench/parts/quickopen/browser/quickopen.contribution",t)}),define(u[656],d([2,3]),function(e,t){return e.create("vs/workbench/parts/quickopen/browser/viewPickerHandler",t)}),define(u[657],d([2,3]),function(e,t){return e.create("vs/workbench/parts/relauncher/electron-browser/relauncher.contribution",t)}),define(u[658],d([2,3]),function(e,t){return e.create("vs/workbench/parts/scm/electron-browser/dirtydiffDecorator",t)}),define(u[659],d([2,3]),function(e,t){return e.create("vs/workbench/parts/scm/electron-browser/scm.contribution",t)}),define(u[660],d([2,3]),function(e,t){return e.create("vs/workbench/parts/scm/electron-browser/scmActivity",t)}),define(u[661],d([2,3]),function(e,t){return e.create("vs/workbench/parts/scm/electron-browser/scmMenus",t)}),define(u[662],d([2,3]),function(e,t){return e.create("vs/workbench/parts/scm/electron-browser/scmViewlet",t)}),define(u[663],d([2,3]),function(e,t){return e.create("vs/workbench/parts/search/browser/openAnythingHandler",t)}),define(u[664],d([2,3]),function(e,t){return e.create("vs/workbench/parts/search/browser/openFileHandler",t)}),define(u[665],d([2,3]),function(e,t){return e.create("vs/workbench/parts/search/browser/openSymbolHandler",t)}),define(u[666],d([2,3]),function(e,t){return e.create("vs/workbench/parts/search/browser/patternInputWidget",t)}),define(u[667],d([2,3]),function(e,t){return e.create("vs/workbench/parts/search/browser/replaceService",t)}),define(u[668],d([2,3]),function(e,t){return e.create("vs/workbench/parts/search/browser/search.contribution",t)}),define(u[669],d([2,3]),function(e,t){return e.create("vs/workbench/parts/search/browser/searchActions",t)}),define(u[670],d([2,3]),function(e,t){return e.create("vs/workbench/parts/search/browser/searchResultsView",t)}),define(u[671],d([2,3]),function(e,t){return e.create("vs/workbench/parts/search/browser/searchViewlet",t)}),define(u[672],d([2,3]),function(e,t){return e.create("vs/workbench/parts/search/browser/searchWidget",t)}),define(u[673],d([2,3]),function(e,t){return e.create("vs/workbench/parts/snippets/electron-browser/TMSnippets",t)}),define(u[674],d([2,3]),function(e,t){return e.create("vs/workbench/parts/snippets/electron-browser/insertSnippet",t)}),define(u[675],d([2,3]),function(e,t){return e.create("vs/workbench/parts/snippets/electron-browser/snippets.contribution",t)}),define(u[676],d([2,3]),function(e,t){return e.create("vs/workbench/parts/snippets/electron-browser/snippetsService",t)}),define(u[677],d([2,3]),function(e,t){return e.create("vs/workbench/parts/snippets/electron-browser/tabCompletion",t)}),define(u[678],d([2,3]),function(e,t){return e.create("vs/workbench/parts/surveys/electron-browser/languageSurveys.contribution",t)}),define(u[679],d([2,3]),function(e,t){return e.create("vs/workbench/parts/surveys/electron-browser/nps.contribution",t)}),define(u[680],d([2,3]),function(e,t){return e.create("vs/workbench/parts/tasks/browser/quickOpen",t)}),define(u[681],d([2,3]),function(e,t){return e.create("vs/workbench/parts/tasks/browser/taskQuickOpen",t)}),define(u[682],d([2,3]),function(e,t){return e.create("vs/workbench/parts/tasks/common/taskDefinitionRegistry",t)}),define(u[683],d([2,3]),function(e,t){return e.create("vs/workbench/parts/tasks/common/taskTemplates",t)}),define(u[684],d([2,3]),function(e,t){return e.create("vs/workbench/parts/tasks/electron-browser/jsonSchemaCommon",t)}),define(u[685],d([2,3]),function(e,t){return e.create("vs/workbench/parts/tasks/electron-browser/jsonSchema_v1",t)}),define(u[686],d([2,3]),function(e,t){return e.create("vs/workbench/parts/tasks/electron-browser/jsonSchema_v2",t)}),define(u[687],d([2,3]),function(e,t){return e.create("vs/workbench/parts/tasks/electron-browser/task.contribution",t)}),define(u[688],d([2,3]),function(e,t){return e.create("vs/workbench/parts/tasks/electron-browser/terminalTaskSystem",t)}),define(u[689],d([2,3]),function(e,t){return e.create("vs/workbench/parts/tasks/node/processRunnerDetector",t)}),define(u[690],d([2,3]),function(e,t){return e.create("vs/workbench/parts/tasks/node/processTaskSystem",t)}),define(u[691],d([2,3]),function(e,t){return e.create("vs/workbench/parts/tasks/node/taskConfiguration",t)}),define(u[692],d([2,3]),function(e,t){return e.create("vs/workbench/parts/terminal/electron-browser/terminal.contribution",t)}),define(u[693],d([2,3]),function(e,t){return e.create("vs/workbench/parts/terminal/electron-browser/terminalActions",t)}),define(u[694],d([2,3]),function(e,t){return e.create("vs/workbench/parts/terminal/electron-browser/terminalColorRegistry",t)}),define(u[695],d([2,3]),function(e,t){return e.create("vs/workbench/parts/terminal/electron-browser/terminalConfigHelper",t)}),define(u[696],d([2,3]),function(e,t){return e.create("vs/workbench/parts/terminal/electron-browser/terminalFindWidget",t)}),define(u[697],d([2,3]),function(e,t){return e.create("vs/workbench/parts/terminal/electron-browser/terminalInstance",t)}),define(u[698],d([2,3]),function(e,t){return e.create("vs/workbench/parts/terminal/electron-browser/terminalLinkHandler",t)}),define(u[699],d([2,3]),function(e,t){return e.create("vs/workbench/parts/terminal/electron-browser/terminalPanel",t)}),define(u[700],d([2,3]),function(e,t){return e.create("vs/workbench/parts/terminal/electron-browser/terminalService",t)}),define(u[701],d([2,3]),function(e,t){return e.create("vs/workbench/parts/themes/electron-browser/themes.contribution",t)}),define(u[702],d([2,3]),function(e,t){return e.create("vs/workbench/parts/trust/electron-browser/unsupportedWorkspaceSettings.contribution",t)}),define(u[703],d([2,3]),function(e,t){return e.create("vs/workbench/parts/update/electron-browser/releaseNotesInput",t)}),define(u[704],d([2,3]),function(e,t){return e.create("vs/workbench/parts/update/electron-browser/update",t)}),define(u[705],d([2,3]),function(e,t){return e.create("vs/workbench/parts/update/electron-browser/update.contribution",t)}),define(u[706],d([2,3]),function(e,t){return e.create("vs/workbench/parts/views/browser/views",t)}),define(u[707],d([2,3]),function(e,t){return e.create("vs/workbench/parts/views/browser/viewsExtensionPoint",t)}),define(u[708],d([2,3]),function(e,t){return e.create("vs/workbench/parts/watermark/electron-browser/watermark",t)}),define(u[709],d([2,3]),function(e,t){return e.create("vs/workbench/parts/welcome/overlay/browser/welcomeOverlay",t)}),define(u[710],d([2,3]),function(e,t){return e.create("vs/workbench/parts/welcome/page/electron-browser/vs_code_welcome_page",t)}),define(u[711],d([2,3]),function(e,t){return e.create("vs/workbench/parts/welcome/page/electron-browser/welcomePage",t)}),define(u[712],d([2,3]),function(e,t){return e.create("vs/workbench/parts/welcome/page/electron-browser/welcomePage.contribution",t)}),define(u[713],d([2,3]),function(e,t){return e.create("vs/workbench/parts/welcome/walkThrough/electron-browser/editor/editorWalkThrough",t)}),define(u[714],d([2,3]),function(e,t){return e.create("vs/workbench/parts/welcome/walkThrough/electron-browser/walkThrough.contribution",t)}),define(u[715],d([2,3]),function(e,t){return e.create("vs/workbench/parts/welcome/walkThrough/electron-browser/walkThroughActions",t)}),define(u[716],d([2,3]),function(e,t){return e.create("vs/workbench/parts/welcome/walkThrough/electron-browser/walkThroughPart",t)}),define(u[717],d([2,3]),function(e,t){return e.create("vs/workbench/services/configuration/node/configuration",t)}),define(u[718],d([2,3]),function(e,t){return e.create("vs/workbench/services/configuration/node/configurationEditingService",t)}),define(u[719],d([2,3]),function(e,t){return e.create("vs/workbench/services/crashReporter/common/crashReporterService",t)}),define(u[720],d([2,3]),function(e,t){return e.create("vs/workbench/services/editor/browser/editorService",t)}),define(u[721],d([2,3]),function(e,t){return e.create("vs/workbench/services/files/electron-browser/fileService",t)}),define(u[722],d([2,3]),function(e,t){return e.create("vs/workbench/services/files/node/fileService",t)}),define(u[723],d([2,3]),function(e,t){return e.create("vs/workbench/services/keybinding/common/keybindingEditing",t)}),define(u[724],d([2,3]),function(e,t){return e.create("vs/workbench/services/keybinding/electron-browser/keybindingService",t)}),define(u[725],d([2,3]),function(e,t){return e.create("vs/workbench/services/message/browser/messageList",t)}),define(u[726],d([2,3]),function(e,t){return e.create("vs/workbench/services/message/electron-browser/messageService",t)}),define(u[727],d([2,3]),function(e,t){return e.create("vs/workbench/services/mode/common/workbenchModeService",t)}),define(u[728],d([2,3]),function(e,t){return e.create("vs/workbench/services/progress/browser/progressService2",t)}),define(u[729],d([2,3]),function(e,t){return e.create("vs/workbench/services/textMate/electron-browser/TMGrammars",t)}),define(u[730],d([2,3]),function(e,t){return e.create("vs/workbench/services/textMate/electron-browser/TMSyntax",t)}),define(u[731],d([2,3]),function(e,t){return e.create("vs/workbench/services/textfile/common/textFileEditorModel",t)}),define(u[732],d([2,3]),function(e,t){return e.create("vs/workbench/services/textfile/common/textFileService",t)}),define(u[733],d([2,3]),function(e,t){return e.create("vs/workbench/services/textfile/electron-browser/textFileService",t)}),define(u[734],d([2,3]),function(e,t){return e.create("vs/workbench/services/themes/common/colorThemeSchema",t)}),define(u[735],d([2,3]),function(e,t){return e.create("vs/workbench/services/themes/common/fileIconThemeSchema",t)}),define(u[736],d([2,3]),function(e,t){return e.create("vs/workbench/services/themes/electron-browser/colorThemeData",t)}),define(u[737],d([2,3]),function(e,t){return e.create("vs/workbench/services/themes/electron-browser/workbenchThemeService",t)}),define(u[738],d([1,0,97]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.writeText=function(e){n.clipboard.writeText(e)},e}();t.ClipboardService=i}),define(u[739],d([1,0,132,8]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.service=e,this.onInstallExtension=i.buffer(e.onInstallExtension,!0),this.onDidInstallExtension=i.buffer(e.onDidInstallExtension,!0),this.onUninstallExtension=i.buffer(e.onUninstallExtension,!0),this.onDidUninstallExtension=i.buffer(e.onDidUninstallExtension,!0)}return e.prototype.call=function(e,t){switch(e){case"event:onInstallExtension":return n.eventToCall(this.onInstallExtension);case"event:onDidInstallExtension":return n.eventToCall(this.onDidInstallExtension);case"event:onUninstallExtension":return n.eventToCall(this.onUninstallExtension);case"event:onDidUninstallExtension":return n.eventToCall(this.onDidUninstallExtension);case"install":return this.service.install(t);case"installFromGallery":return this.service.installFromGallery(t[0],t[1]);case"uninstall":return this.service.uninstall(t[0],t[1]);case"getInstalled":return this.service.getInstalled(t)}},e}();t.ExtensionManagementChannel=r;var o=function(){function e(e){this.channel=e,this._onInstallExtension=n.eventFromCall(this.channel,"event:onInstallExtension"),this._onDidInstallExtension=n.eventFromCall(this.channel,"event:onDidInstallExtension"),this._onUninstallExtension=n.eventFromCall(this.channel,"event:onUninstallExtension"),this._onDidUninstallExtension=n.eventFromCall(this.channel,"event:onDidUninstallExtension")}return Object.defineProperty(e.prototype,"onInstallExtension",{get:function(){return this._onInstallExtension},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidInstallExtension",{get:function(){return this._onDidInstallExtension},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onUninstallExtension",{get:function(){return this._onUninstallExtension},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidUninstallExtension",{get:function(){return this._onDidUninstallExtension},enumerable:!0,configurable:!0}),e.prototype.install=function(e){return this.channel.call("install",e)},e.prototype.installFromGallery=function(e,t){return void 0===t&&(t=!0),this.channel.call("installFromGallery",[e,t])},e.prototype.uninstall=function(e,t){return void 0===t&&(t=!1),this.channel.call("uninstall",[e,t])},e.prototype.getInstalled=function(e){return void 0===e&&(e=null),this.channel.call("getInstalled",e)},e}();t.ExtensionManagementChannelClient=o}),define(u[740],d([1,0,4,323,7]),function(e,t,n,i,r){"use strict";function o(e){return function(t,n,i){var r=String(++s),o=new l(function(){e(c.cancel(r))});return a[r]=o,e(c.request(r,t,n,i)),o}}Object.defineProperty(t,"__esModule",{value:!0});var s=0,a={},c=function(){function e(){}return e.cancel=function(e){return'{"cancel":"'+e+'"}'},e.request=function(e,t,n,r){return'{"req":"'+e+'","rpcId":"'+t+'","method":"'+n+'","args":'+i.stringify(r)+"}"},e.replyOK=function(e,t){return void 0===t?'{"seq":"'+e+'"}':'{"seq":"'+e+'","res":'+i.stringify(t)+"}"},e.replyErr=function(e,t){return void 0===t?'{"seq":"'+e+'","err":null}':'{"seq":"'+e+'","err":'+i.stringify(r.transformErrorForSerialization(t))+"}"},e}(),l=function(){function e(e){this._onCancel=e,this._actual=null,this._actualOk=null,this._actualErr=null,this._hasValue=!1,this._value=null,this._hasErr=!1,this._err=null,this._isCanceled=!1}return e.prototype._ensureActual=function(){var e=this;return this._actual||(this._actual=new n.TPromise(function(t,n){e._actualOk=t,e._actualErr=n},this._onCancel),this._hasValue&&this._actualOk(this._value),this._hasErr&&this._actualErr(this._err)),this._actual},e.prototype.resolveOk=function(e){this._isCanceled||this._hasErr||(this._hasValue=!0,this._value=e,this._actual&&this._actualOk(e))},e.prototype.resolveErr=function(e){this._isCanceled||this._hasValue||(this._hasErr=!0,this._err=e,this._actual&&this._actualErr(e))},e.prototype.then=function(e,t){if(!this._isCanceled)return this._ensureActual().then(e,t)},e.prototype.done=function(e,t){this._isCanceled||this._ensureActual().done(e,t)},e.prototype.cancel=function(){this._hasValue||this._hasErr||(this._isCanceled=!0,this._actual?this._actual.cancel():this._onCancel())},e}();t.createProxyProtocol=function(e){function t(){var t=h;h=[],e.send(t)}function r(e){0===h.length&&process.nextTick(t),h.push(e)}function s(e,t,i){try{return n.TPromise.as(u.handle(e,t,i))}catch(e){return n.TPromise.wrapError(e)}}var l=o(r),u=null,d=Object.create(null),h=[],p=[],f=function(){var e=p.shift();p.length>0&&process.nextTick(f);var t=i.parse(e);if(t.seq){if(!a.hasOwnProperty(t.seq))return void console.warn("Got reply to unknown seq");var n=a[t.seq];if(delete a[t.seq],t.err){var o=t.err;return t.err.$isError&&((o=new Error).name=t.err.name,o.message=t.err.message,o.stack=t.err.stack),void n.resolveErr(o)}n.resolveOk(t.res)}else if(t.cancel)d[t.cancel]&&d[t.cancel].cancel();else if(t.err)console.error(t.err);else{var l=t.rpcId;if(!u)throw new Error("got message before big handler attached!");var h=t.req;d[h]=s(l,t.method,t.args),d[h].then(function(e){delete d[h],r(c.replyOK(h,e))},function(e){delete d[h],r(c.replyErr(h,e))})}};return e.onMessage(function(e){0===p.length&&process.nextTick(f),p=p.concat(e)}),{callOnRemote:l,setManyHandler:function(e){u=e}}}}),define(u[450],d([1,0,491,324,52]),function(e,t,n,i,r){"use strict";function o(e){return"*"===(e=e.trim())||p.test(e)}function s(e){if(!o(e))return null;if("*"===(e=e.trim()))return{hasCaret:!1,hasGreaterEquals:!1,majorBase:0,majorMustEqual:!1,minorBase:0,minorMustEqual:!1,patchBase:0,patchMustEqual:!1,preRelease:null};var t=e.match(p);return{hasCaret:"^"===t[1],hasGreaterEquals:">="===t[1],majorBase:"x"===t[2]?0:parseInt(t[2],10),majorMustEqual:"x"!==t[2],minorBase:"x"===t[4]?0:parseInt(t[4],10),minorMustEqual:"x"!==t[4],patchBase:"x"===t[6]?0:parseInt(t[6],10),patchMustEqual:"x"!==t[6],preRelease:t[8]||null}}function a(e){if(!e)return null;var t=e.majorBase,n=e.majorMustEqual,i=e.minorBase,r=e.minorMustEqual,o=e.patchBase,s=e.patchMustEqual;return e.hasCaret&&(0===t?s=!1:(r=!1,s=!1)),{majorBase:t,majorMustEqual:n,minorBase:i,minorMustEqual:r,patchBase:o,patchMustEqual:s,isMinimum:e.hasGreaterEquals}}function c(e,t){var n;n="string"==typeof e?a(s(e)):e;var i;if(i="string"==typeof t?a(s(t)):t,!n||!i)return!1;var r=n.majorBase,o=n.minorBase,c=n.patchBase,l=i.majorBase,u=i.minorBase,d=i.patchBase,h=i.majorMustEqual,p=i.minorMustEqual,f=i.patchMustEqual;return i.isMinimum?r>l||!(r<l)&&(o>u||!(o<u)&&c>=d):(1!==r||0!==l||h&&p&&f||(l=1,u=0,d=0,h=!0,p=!1,f=!1),!(r<l)&&(r>l?!h:!(o<u)&&(o>u?!p:!(c<d)&&(!(c>d)||!f))))}function l(e,t,n){return!(!t.isBuiltin&&void 0!==t.main)||u(e,t.engines.vscode,n)}function u(e,t,i){void 0===i&&(i=[]);var r=a(s(t));if(!r)return i.push(n.localize(0,null,t)),!1;if(0===r.majorBase){if(!r.majorMustEqual||!r.minorMustEqual)return i.push(n.localize(1,null,t)),!1}else if(!r.majorMustEqual)return i.push(n.localize(2,null,t)),!1;return!!c(e,r)||(i.push(n.localize(3,null,e,t)),!1)}function d(e){if(!Array.isArray(e))return!1;for(var t=0,n=e.length;t<n;t++)if("string"!=typeof e[t])return!1;return!0}function h(e,t,i){if(!t)return i.push(n.localize(4,null)),!1;if("string"!=typeof t.publisher)return i.push(n.localize(5,null,"publisher")),!1;if("string"!=typeof t.name)return i.push(n.localize(6,null,"name")),!1;if("string"!=typeof t.version)return i.push(n.localize(7,null,"version")),!1;if(!t.engines)return i.push(n.localize(8,null,"engines")),!1;if("string"!=typeof t.engines.vscode)return i.push(n.localize(9,null,"engines.vscode")),!1;if(void 0!==t.extensionDependencies&&!d(t.extensionDependencies))return i.push(n.localize(10,null,"extensionDependencies")),!1;if(void 0!==t.activationEvents){if(!d(t.activationEvents))return i.push(n.localize(11,null,"activationEvents")),!1;if(void 0===t.main)return i.push(n.localize(12,null,"activationEvents","main")),!1}if(void 0!==t.main){if("string"!=typeof t.main)return i.push(n.localize(13,null,"main")),!1;var o=r.join(e,t.main);if(o.indexOf(e)&&i.push(n.localize(14,null,o,e)),void 0===t.activationEvents)return i.push(n.localize(15,null,"activationEvents","main")),!1}return!0}Object.defineProperty(t,"__esModule",{value:!0});var p=/^(\^|>=)?((\d+)|x)\.((\d+)|x)\.((\d+)|x)(\-.*)?$/;t.isValidVersionStr=o,t.parseVersion=s,t.normalizeVersion=a,t.isValidVersion=c,t.isValidExtensionVersion=l,t.isVersionValid=u,t.isValidExtensionDescription=function(e,t,r,o){return!!h(t,r,o)&&(i.valid(r.version)?l(e,r,o):(o.push(n.localize(16,null)),!1))}}),define(u[95],d([1,0,7]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this._staticArguments=e}return e.prototype.appendStaticArguments=function(e){this._staticArguments.push.apply(this._staticArguments,e)},e.prototype.staticArguments=function(e){return isNaN(e)?this._staticArguments.slice(0):this._staticArguments[e]},e.prototype._validate=function(e){if(!e)throw n.illegalArgument("can not be falsy")},e}();t.AbstractDescriptor=i;var r=function(e){function t(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=e.call(this,n)||this;return r._ctor=t,r}return h(t,e),Object.defineProperty(t.prototype,"ctor",{get:function(){return this._ctor},enumerable:!0,configurable:!0}),t.prototype.bind=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=[];return i=i.concat(this.staticArguments()),i=i.concat(e),new(t.bind.apply(t,[void 0,this._ctor].concat(i)))},t}(i);t.SyncDescriptor=r,t.createSyncDescriptor=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new(r.bind.apply(r,[void 0,e].concat(t)))};var o=function(e){function t(t,n){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];var o=e.call(this,i)||this;if(o._moduleName=t,o._ctorName=n,"string"!=typeof t)throw new Error("Invalid AsyncDescriptor arguments, expected `moduleName` to be a string!");return o}return h(t,e),t.create=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"moduleName",{get:function(){return this._moduleName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ctorName",{get:function(){return this._ctorName},enumerable:!0,configurable:!0}),t.prototype.bind=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=[];return i=i.concat(this.staticArguments()),i=i.concat(e),new(t.bind.apply(t,[void 0,this.moduleName,this.ctorName].concat(i)))},t}(i);t.AsyncDescriptor=o}),define(u[116],d([1,0,95]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Services="di.services";var i=[];t.registerSingleton=function(e,t){i.push({id:e,descriptor:new n.SyncDescriptor(t)})},t.getServices=function(){return i}}),define(u[6],d([1,0]),function(e,t){"use strict";function n(e,t,n,i){t[r.DI_TARGET]===t?t[r.DI_DEPENDENCIES].push({id:e,index:n,optional:i}):(t[r.DI_DEPENDENCIES]=[{id:e,index:n,optional:i}],t[r.DI_TARGET]=t)}function i(e){if(r.serviceIds.has(e))return r.serviceIds.get(e);var t=function(e,i,r){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");n(t,e,r,!1)};return t.toString=function(){return e},r.serviceIds.set(e,t),t}Object.defineProperty(t,"__esModule",{value:!0});var r;!function(e){e.serviceIds=new Map,e.DI_TARGET="$di$target",e.DI_DEPENDENCIES="$di$dependencies",e.getServiceDependencies=function(t){return t[e.DI_DEPENDENCIES]||[]}}(r=t._util||(t._util={})),t.IInstantiationService=i("instantiationService"),t.createDecorator=i,t.optional=function(e){return function(t,i,r){if(3!==arguments.length)throw new Error("@optional-decorator can only be used to decorate a parameter");n(e,t,r,!0)}}}),define(u[56],d([1,0,6,33]),function(e,t,n,i){"use strict";function r(e){if(e){var t=e.getControl();if(t){if(i.isCommonCodeEditor(t))return{codeEditor:t,diffEditor:null};if(i.isCommonDiffEditor(t))return{codeEditor:null,diffEditor:t}}}return{codeEditor:null,diffEditor:null}}Object.defineProperty(t,"__esModule",{value:!0}),t.ICodeEditorService=n.createDecorator("codeEditorService"),t.getCodeOrDiffEditor=r,t.getCodeEditor=function(e){var t=r(e);return t.codeEditor||t.diffEditor&&t.diffEditor.getModifiedEditor()||null}}),define(u[186],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ID_EDITOR_WORKER_SERVICE="editorWorkerService",t.IEditorWorkerService=n.createDecorator(t.ID_EDITOR_WORKER_SERVICE)}),define(u[42],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IModeService=n.createDecorator("modeService")}),define(u[44],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IModelService=n.createDecorator("modelService")}),define(u[71],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ITextModelService=n.createDecorator("textModelService")}),define(u[146],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ITextResourceConfigurationService=n.createDecorator("textResourceConfigurationService")});var y=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};define(u[436],d([1,0,18,5,4,378,1216,46,44,865,112,146,42]),function(e,t,n,i,r,o,s,a,c,l,u,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=6e4,g=3e5,m=function(e){function t(t,i,r){var o=e.call(this)||this;return o._workerManager=o._register(new S(t)),o._register(a.LinkProviderRegistry.register("*",{provideLinks:function(e,t){return n.wireCancellationToken(t,o._workerManager.withWorker().then(function(t){return t.computeLinks(e.uri)}))}})),o._register(a.SuggestRegistry.register("*",new b(o._workerManager,i,r))),o}return h(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.computeDiff=function(e,t,n){return this._workerManager.withWorker().then(function(i){return i.computeDiff(e,t,n)})},t.prototype.computeDirtyDiff=function(e,t,n){return this._workerManager.withWorker().then(function(i){return i.computeDirtyDiff(e,t,n)})},t.prototype.computeMoreMinimalEdits=function(e,t,n){return Array.isArray(t)&&0!==t.length?this._workerManager.withWorker().then(function(i){return i.computeMoreMinimalEdits(e,t,n)}):r.TPromise.as(t)},t.prototype.navigateValueSet=function(e,t,n){return this._workerManager.withWorker().then(function(i){return i.navigateValueSet(e,t,n)})},t}(i.Disposable);m=v([y(0,c.IModelService),y(1,d.ITextResourceConfigurationService),y(2,p.IModeService)],m),t.EditorWorkerServiceImpl=m;var b=function(){function e(e,t,n){this._workerManager=e,this._configurationService=t,this._modeService=n}return e.prototype.provideCompletionItems=function(e,t){if(this._configurationService.getConfiguration(e.uri,t,"editor").wordBasedSuggestions)return this._workerManager.withWorker().then(function(n){return n.textualSuggest(e.uri,t)})},e}(),S=function(e){function t(t){var i=e.call(this)||this;return i._modelService=t,i._editorWorkerClient=null,i._register(new n.IntervalTimer).cancelAndSet(function(){return i._checkStopIdleWorker()},Math.round(g/2)),i._register(i._modelService.onModelRemoved(function(e){return i._checkStopEmptyWorker()})),i}return h(t,e),t.prototype.dispose=function(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),e.prototype.dispose.call(this)},t.prototype._checkStopEmptyWorker=function(){this._editorWorkerClient&&0===this._modelService.getModels().length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)},t.prototype._checkStopIdleWorker=function(){this._editorWorkerClient&&(new Date).getTime()-this._lastWorkerUsedTime>g&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)},t.prototype.withWorker=function(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new C(this._modelService,"editorWorkerService")),r.TPromise.as(this._editorWorkerClient)},t}(i.Disposable),_=function(e){function t(t,i,r){var o=e.call(this)||this;if(o._syncedModels=Object.create(null),o._syncedModelsLastUsedTime=Object.create(null),o._proxy=t,o._modelService=i,!r){var s=new n.IntervalTimer;s.cancelAndSet(function(){return o._checkStopModelSync()},Math.round(f/2)),o._register(s)}return o}return h(t,e),t.prototype.dispose=function(){for(var t in this._syncedModels)i.dispose(this._syncedModels[t]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),e.prototype.dispose.call(this)},t.prototype.esureSyncedResources=function(e){for(var t=0;t<e.length;t++){var n=e[t],i=n.toString();this._syncedModels[i]||this._beginModelSync(n),this._syncedModels[i]&&(this._syncedModelsLastUsedTime[i]=(new Date).getTime())}},t.prototype._checkStopModelSync=function(){var e=(new Date).getTime(),t=[];for(var n in this._syncedModelsLastUsedTime)e-this._syncedModelsLastUsedTime[n]>f&&t.push(n);for(var i=0;i<t.length;i++)this._stopModelSync(t[i])},t.prototype._beginModelSync=function(e){var t=this,n=this._modelService.getModel(e);if(n){var i=e.toString();this._proxy.acceptNewModel({url:n.uri.toString(),lines:n.getLinesContent(),EOL:n.getEOL(),versionId:n.getVersionId()});var r=[];r.push(n.onDidChangeContent(function(e){t._proxy.acceptModelChanged(i.toString(),e)})),r.push(n.onWillDispose(function(){t._stopModelSync(i)})),r.push({dispose:function(){t._proxy.acceptRemovedModel(i)}}),this._syncedModels[i]=r}},t.prototype._stopModelSync=function(e){var t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],i.dispose(t)},t}(i.Disposable),E=function(){function e(e){this._instance=e,this._proxyObj=r.TPromise.as(this._instance)}return e.prototype.dispose=function(){this._instance.dispose(),this._instance=null,this._proxyObj=null},e.prototype.getProxyObject=function(){return new n.ShallowCancelThenPromise(this._proxyObj)},e}(),C=function(e){function t(t,n){var i=e.call(this)||this;return i._modelService=t,i._workerFactory=new s.DefaultWorkerFactory(n),i._worker=null,i._modelManager=null,i}return h(t,e),t.prototype._getOrCreateWorker=function(){if(!this._worker)try{this._worker=this._register(new o.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker"))}catch(e){o.logOnceWebWorkerWarning(e),this._worker=new E(new l.EditorSimpleWorkerImpl)}return this._worker},t.prototype._getProxy=function(){var e=this;return new n.ShallowCancelThenPromise(this._getOrCreateWorker().getProxyObject().then(null,function(t){return o.logOnceWebWorkerWarning(t),e._worker=new E(new l.EditorSimpleWorkerImpl),e._getOrCreateWorker().getProxyObject()}))},t.prototype._getOrCreateModelManager=function(e){return this._modelManager||(this._modelManager=this._register(new _(e,this._modelService,!1))),this._modelManager},t.prototype._withSyncedResources=function(e){var t=this;return this._getProxy().then(function(n){return t._getOrCreateModelManager(n).esureSyncedResources(e),n})},t.prototype.computeDiff=function(e,t,n){return this._withSyncedResources([e,t]).then(function(i){return i.computeDiff(e.toString(),t.toString(),n)})},t.prototype.computeDirtyDiff=function(e,t,n){return this._withSyncedResources([e,t]).then(function(i){return i.computeDirtyDiff(e.toString(),t.toString(),n)})},t.prototype.computeMoreMinimalEdits=function(e,t,n){return this._withSyncedResources([e]).then(function(i){return i.computeMoreMinimalEdits(e.toString(),t,n)})},t.prototype.computeLinks=function(e){return this._withSyncedResources([e]).then(function(t){return t.computeLinks(e.toString())})},t.prototype.textualSuggest=function(e,t){var n=this;return this._withSyncedResources([e]).then(function(i){var r=n._modelService.getModel(e);if(!r)return null;var o=u.LanguageConfigurationRegistry.getWordDefinition(r.getLanguageIdentifier().id),s=o.source,a=(o.global?"g":"")+(o.ignoreCase?"i":"")+(o.multiline?"m":"");return i.textualSuggest(e.toString(),t,s,a)})},t.prototype.navigateValueSet=function(e,t,n){var i=this;return this._withSyncedResources([e]).then(function(r){var o=i._modelService.getModel(e);if(!o)return null;var s=u.LanguageConfigurationRegistry.getWordDefinition(o.getLanguageIdentifier().id),a=s.source,c=(s.global?"g":"")+(s.ignoreCase?"i":"")+(s.multiline?"m":"");return r.navigateValueSet(e.toString(),t,n,a,c)})},t}(i.Disposable);t.EditorWorkerClient=C}),define(u[753],d([1,0,18,436]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createWebWorker=function(e,t){return new r(e,t)};var r=function(e){function t(t,n){var i=e.call(this,t,n.label)||this;return i._foreignModuleId=n.moduleId,i._foreignModuleCreateData=n.createData||null,i._foreignProxy=null,i}return h(t,e),t.prototype._getForeignProxy=function(){var e=this;return this._foreignProxy||(this._foreignProxy=new n.ShallowCancelThenPromise(this._getProxy().then(function(t){return t.loadForeignModule(e._foreignModuleId,e._foreignModuleCreateData).then(function(n){e._foreignModuleId=null,e._foreignModuleCreateData=null;for(var i={},r=0;r<n.length;r++)i[n[r]]=function(e,t){return function(){var n=Array.prototype.slice.call(arguments,0);return t(e,n)}}(n[r],function(e,n){return t.fmr(e,n)});return i})}))),this._foreignProxy},t.prototype.getProxy=function(){return this._getForeignProxy()},t.prototype.withSyncedResources=function(e){var t=this;return this._withSyncedResources(e).then(function(e){return t.getProxy()})},t}(i.EditorWorkerClient)}),define(u[754],d([1,0,4,14,44,812]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e){this._modelService=e}return e.prototype.getRangesToPosition=function(e,t){return n.TPromise.as(this.getRangesToPositionSync(e,t))},e.prototype.getRangesToPositionSync=function(e,t){var n=this._modelService.getModel(e),i=[];return n&&this._doGetRangesToPosition(n,t).forEach(function(e){i.push({type:void 0,range:e})}),i},e.prototype._doGetRangesToPosition=function(e,t){var n,r,s=o.build(e);n=o.find(s,t);for(var a=[];n;)r&&i.Range.equalsRange(r,n.range)||a.push(n.range),r=n.range,n=n.parent;return a=a.reverse()},e}();s=v([y(0,r.IModelService)],s),t.TokenSelectionSupport=s}),define(u[255],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IClipboardService=n.createDecorator("clipboardService")}),define(u[32],d([1,0,4,24,6]),function(e,t,n,i,r){"use strict";function o(e){return"object"==typeof e&&"function"==typeof e.handler&&(!e.description||"object"==typeof e.description)}Object.defineProperty(t,"__esModule",{value:!0}),t.ICommandService=r.createDecorator("commandService"),t.CommandsRegistry=new(function(){function e(){this._commands=new Map}return e.prototype.registerCommand=function(e,t){var n=this;if(!t)throw new Error("invalid command");var r;if(o(t)){var s=t.handler,a=t.description;if(a){for(var c=[],l=0,u=a.args;l<u.length;l++){var d=u[l];c.push(d.constraint)}r={description:a,handler:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return i.validateConstraints(t,c),s.apply(void 0,[e].concat(t))}}}else r={handler:s}}else r={handler:t};var h=this._commands.get(e);return void 0===h?this._commands.set(e,r):Array.isArray(h)?h.unshift(r):this._commands.set(e,[r,h]),{dispose:function(){var t=n._commands.get(e);if(Array.isArray(t)){var i=t.indexOf(r);i>=0&&(t.splice(i,1),0===t.length&&n._commands.delete(e))}else o(t)&&n._commands.delete(e)}}},e.prototype.getCommand=function(e){var t=this._commands.get(e);return Array.isArray(t)?t[0]:t},e.prototype.getCommands=function(){var e=this,t=Object.create(null);return this._commands.forEach(function(n,i){t[i]=e.getCommand(i)}),t},e}()),t.NullCommandService={_serviceBrand:void 0,onWillExecuteCommand:function(){return{dispose:function(){}}},executeCommand:function(){return n.TPromise.as(void 0)}}}),define(u[757],d([1,0,7,16,4,14,46,18,32,44]),function(e,t,n,i,r,o,s,a,c,l){"use strict";function u(e){var t=[],i=s.LinkProviderRegistry.ordered(e).reverse().map(function(i){return a.asWinJsPromise(function(t){return i.provideLinks(e,t)}).then(function(e){if(Array.isArray(e)){var n=e.map(function(e){return new h(e,i)});t=d(t,n)}},n.onUnexpectedExternalError)});return r.TPromise.join(i).then(function(){return t})}function d(e,t){var n,i,r,s,a,c,l=[];for(n=0,r=0,i=e.length,s=t.length;n<i&&r<s;)a=e[n],c=t[r],o.Range.areIntersectingOrTouching(a.range,c.range)?n++:o.Range.compareRangesUsingStarts(a.range,c.range)<0?(l.push(a),n++):(l.push(c),r++);for(;n<i;n++)l.push(e[n]);for(;r<s;r++)l.push(t[r]);return l}Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function e(e,t){this._link=e,this._provider=t}return Object.defineProperty(e.prototype,"range",{get:function(){return this._link.range},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._link.url},enumerable:!0,configurable:!0}),e.prototype.resolve=function(){var e=this;if(this._link.url)try{return r.TPromise.as(i.default.parse(this._link.url))}catch(e){return r.TPromise.wrapError(new Error("invalid"))}return"function"==typeof this._provider.resolveLink?a.asWinJsPromise(function(t){return e._provider.resolveLink(e._link,t)}).then(function(t){return e._link=t||e._link,e._link.url?e.resolve():r.TPromise.wrapError(new Error("missing"))}):r.TPromise.wrapError(new Error("missing"))},e}();t.Link=h,t.getLinks=u,c.CommandsRegistry.registerCommand("_executeLinkProvider",function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0];if(r instanceof i.default){var o=e.get(l.IModelService).getModel(r);if(o)return u(o)}})}),define(u[35],d([1,0,21,95,6,32]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e){this._id=e}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),e}();s.EditorTitle=new s("1"),s.EditorTitleContext=new s("2"),s.EditorContext=new s("3"),s.ExplorerContext=new s("4"),s.ProblemsPanelContext=new s("5"),s.DebugVariablesContext=new s("6"),s.DebugWatchContext=new s("7"),s.DebugCallStackContext=new s("8"),s.DebugBreakpointsContext=new s("9"),s.DebugConsoleContext=new s("10"),s.SCMTitle=new s("11"),s.SCMResourceGroupContext=new s("12"),s.SCMResourceContext=new s("13"),s.CommandPalette=new s("14"),s.ViewTitle=new s("15"),s.ViewItemContext=new s("16"),t.MenuId=s,t.IMenuService=r.createDecorator("menuService"),t.MenuRegistry=new(function(){function e(){this._commands=Object.create(null),this._menuItems=Object.create(null)}return e.prototype.addCommand=function(e){var t=this._commands[e.id];return this._commands[e.id]=e,void 0!==t},e.prototype.getCommand=function(e){return this._commands[e]},e.prototype.appendMenuItem=function(e,t){var n=e.id,i=this._menuItems[n];return i?i.push(t):this._menuItems[n]=i=[t],{dispose:function(){var e=i.indexOf(t);e>=0&&i.splice(e,1)}}},e.prototype.getMenuItems=function(e){var t=e.id,n=this._menuItems[t]||[];return t===s.CommandPalette.id&&this._appendImplicitItems(n),n},e.prototype._appendImplicitItems=function(e){for(var t=new Set,n=0,i=e;n<i.length;n++){var r=i[n],o=r.command,s=r.alt;t.add(o.id),s&&t.add(s.id)}for(var a in this._commands)t.has(a)||e.push({command:this._commands[a]})},e}());var a=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r._commandService=i,r}return h(t,e),t.prototype.run=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(n=this._commandService).executeCommand.apply(n,[this.id].concat(e));var n},t}(n.Action);a=v([y(2,o.ICommandService)],a),t.ExecuteCommandAction=a;var c=function(e){function t(n,i,r,o){var s=this;return s="string"==typeof n.title?e.call(this,n.id,n.title,o)||this:e.call(this,n.id,n.title.value,o)||this,s._cssClass=n.iconClass,s._enabled=!0,s._options=r||{},s.item=n,s.alt=i?new t(i,void 0,s._options,o):void 0,s}return h(t,e),t.prototype.run=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=[];return this._options.arg&&(i=i.concat([this._options.arg])),this._options.shouldForwardArgs&&(i=i.concat(t)),e.prototype.run.apply(this,i)},t}(a);c=v([y(3,o.ICommandService)],c),t.MenuItemAction=c;var l=function(){function e(e,t,n,r,o,s){this._id=t,this._label=n,this._keybindings=r,this._keybindingContext=o,this._keybindingWeight=s,this._descriptor=i.createSyncDescriptor(e,this._id,this._label)}return Object.defineProperty(e.prototype,"syncDescriptor",{get:function(){return this._descriptor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keybindings",{get:function(){return this._keybindings},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keybindingContext",{get:function(){return this._keybindingContext},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keybindingWeight",{get:function(){return this._keybindingWeight},enumerable:!0,configurable:!0}),e}();t.SyncActionDescriptor=l}),define(u[23],d([1,0,34,24,26,16,70,6]),function(e,t,n,i,r,o,s,a){"use strict";function c(e,t,n){var i=function(e,t){for(var n=e,i=0;i<t.length;i++){if("object"!=typeof n||null===n)return;n=n[t[i]]}return n}(e,t.split("."));return void 0===i?n:i}function l(e,t,n){Object.keys(t).forEach(function(r){r in e?i.isObject(e[r])&&i.isObject(t[r])?l(e[r],t[r],n):n&&(e[r]=t[r]):e[r]=t[r]})}Object.defineProperty(t,"__esModule",{value:!0}),t.IConfigurationService=a.createDecorator("configurationService");!function(e){e[e.Default=1]="Default",e[e.User=2]="User",e[e.Workspace=3]="Workspace"}(t.ConfigurationSource||(t.ConfigurationSource={})),t.getConfigurationValue=c,t.merge=l;var u=function(){function e(e,t,n){void 0===e&&(e={}),void 0===t&&(t=[]),void 0===n&&(n=[]),this._contents=e,this._keys=t,this._overrides=n}return Object.defineProperty(e.prototype,"contents",{get:function(){return this._contents},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overrides",{get:function(){return this._overrides},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keys",{get:function(){return this._keys},enumerable:!0,configurable:!0}),e.prototype.getContentsFor=function(e){return r.clone(this.contents[e])},e.prototype.override=function(t){var n=new e,i=r.clone(this.contents);if(this._overrides)for(var o=0,s=this._overrides;o<s.length;o++){var a=s[o];-1!==a.identifiers.indexOf(t)&&l(i,a.contents,!0)}return n._contents=i,n},e.prototype.merge=function(t,n){void 0===n&&(n=!0);var i=new e;return this.doMerge(i,this,n),this.doMerge(i,t,n),i},e.prototype.doMerge=function(e,t,i){void 0===i&&(i=!0),l(e.contents,r.clone(t.contents),i);for(var o=r.clone(e._overrides),s=0,a=t._overrides;s<a.length;s++)!function(e){var t=o.filter(function(t){return n.equals(t.identifiers,e.identifiers)})[0];t?l(t.contents,e.contents,i):o.push(e)}(a[s]);e._overrides=o},e}();t.ConfigurationModel=u;var d=function(){function e(e,t,n,i,r){void 0===n&&(n=new u),void 0===i&&(i=new s.StrictResourceMap),this._defaults=e,this._user=t,this._workspaceConfiguration=n,this.folders=i,this._workspace=r,this.merge()}return Object.defineProperty(e.prototype,"defaults",{get:function(){return this._defaults},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"user",{get:function(){return this._user},enumerable:!0,configurable:!0}),e.prototype.merge=function(){this._globalConfiguration=(new u).merge(this._defaults).merge(this._user),this._workspaceConsolidatedConfiguration=(new u).merge(this._globalConfiguration).merge(this._workspaceConfiguration),this._legacyWorkspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new s.StrictResourceMap;for(var e=0,t=this.folders.keys();e<t.length;e++){var n=t[e];this.mergeFolder(n)}},e.prototype.mergeFolder=function(e){this._foldersConsolidatedConfigurations.set(e,(new u).merge(this._workspaceConsolidatedConfiguration).merge(this.folders.get(e)))},e.prototype.getValue=function(e,t){void 0===e&&(e=""),void 0===t&&(t={});var n=this.getConsolidateConfigurationModel(t);return e?n.getContentsFor(e):n.contents},e.prototype.lookup=function(e,t){void 0===t&&(t={});var n=this.getConsolidateConfigurationModel(t),i=this.getFolderConfigurationModelForResource(t.resource);return{default:r.clone(c(t.overrideIdentifier?this._defaults.override(t.overrideIdentifier).contents:this._defaults.contents,e)),user:r.clone(c(t.overrideIdentifier?this._user.override(t.overrideIdentifier).contents:this._user.contents,e)),workspace:r.clone(this._workspace?c(t.overrideIdentifier?this._workspaceConfiguration.override(t.overrideIdentifier).contents:this._workspaceConfiguration.contents,e):void 0),folder:r.clone(i?c(t.overrideIdentifier?i.override(t.overrideIdentifier).contents:i.contents,e):void 0),value:r.clone(c(n.contents,e))}},e.prototype.lookupLegacy=function(e){this._legacyWorkspaceConsolidatedConfiguration||(this._legacyWorkspaceConsolidatedConfiguration=this._workspace?(new u).merge(this._workspaceConfiguration).merge(this.folders.get(this._workspace.roots[0])):null);var t=this.getConsolidateConfigurationModel({});return{default:r.clone(c(this._defaults.contents,e)),user:r.clone(c(this._user.contents,e)),workspace:r.clone(this._legacyWorkspaceConsolidatedConfiguration?c(this._legacyWorkspaceConsolidatedConfiguration.contents,e):void 0),folder:void 0,value:r.clone(c(t.contents,e))}},e.prototype.keys=function(){return{default:this._defaults.keys,user:this._user.keys,workspace:this._workspaceConfiguration.keys}},e.prototype.values=function(){for(var e,t=Object.create(null),n=this.keys(),i=0,r=n.workspace.concat(n.user,n.default).sort();i<r.length;i++){var o=r[i];o!==e&&(e=o,t[o]=this.lookup(o))}return t},e.prototype.values2=function(){for(var e,t=new Map,n=this.keys(),i=0,r=n.workspace.concat(n.user,n.default).sort();i<r.length;i++){var o=r[i];o!==e&&(e=o,t.set(o,this.lookup(o)))}return t},e.prototype.getConsolidateConfigurationModel=function(e){var t=this.getConsolidatedConfigurationModelForResource(e);return e.overrideIdentifier?t.override(e.overrideIdentifier):t},e.prototype.getConsolidatedConfigurationModelForResource=function(e){var t=e.resource;if(!this._workspace)return this._globalConfiguration;if(!t)return this._workspaceConsolidatedConfiguration;var n=this._workspace.getRoot(t);return n?this._foldersConsolidatedConfigurations.get(n)||this._workspaceConsolidatedConfiguration:this._workspaceConsolidatedConfiguration},e.prototype.getFolderConfigurationModelForResource=function(e){if(!this._workspace||!e)return null;var t=this._workspace.getRoot(e);return t?this.folders.get(t):null},e.prototype.toData=function(){var e=this;return{defaults:{contents:this._defaults.contents,overrides:this._defaults.overrides,keys:this._defaults.keys},user:{contents:this._user.contents,overrides:this._user.overrides,keys:this._user.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:this.folders.keys().reduce(function(t,n){var i=e.folders.get(n),r=i.contents,o=i.overrides,s=i.keys;return t[n.toString()]={contents:r,overrides:o,keys:s},t},Object.create({}))}},e.parse=function(t,n){return new e(e.parseConfigurationModel(t.defaults),e.parseConfigurationModel(t.user),e.parseConfigurationModel(t.workspace),Object.keys(t.folders).reduce(function(n,i){return n.set(o.default.parse(i),e.parseConfigurationModel(t.folders[i])),n},new s.StrictResourceMap),n)},e.parseConfigurationModel=function(e){return new u(e.contents,e.keys,e.overrides)},e}();t.Configuration=d}),define(u[760],d([1,0,8,5,23,37,42,44]),function(e,t,n,i,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(t,i,r){var o=e.call(this)||this;return o.configurationService=t,o.modelService=i,o.modeService=r,o._onDidUpdateConfiguration=o._register(new n.Emitter),o.onDidUpdateConfiguration=o._onDidUpdateConfiguration.event,o._register(o.configurationService.onDidUpdateConfiguration(function(){return o._onDidUpdateConfiguration.fire()})),o}return h(t,e),t.prototype.getConfiguration=function(e,t,n){var i=o.Position.isIPosition(t)?t:null,r=i?"string"==typeof n?n:void 0:"string"==typeof t?t:void 0,s=e?this.getLanguage(e,i):void 0;return this.configurationService.getConfiguration(r,{resource:e,overrideIdentifier:s})},t.prototype.getLanguage=function(e,t){var n=this.modelService.getModel(e);return n?t?this.modeService.getLanguageIdentifier(n.getLanguageIdAtPosition(t.lineNumber,t.column)).language:n.getLanguageIdentifier().language:this.modeService.getModeIdByFilenameOrFirstLine(e.fsPath)},t}(i.Disposable);c=v([y(0,r.IConfigurationService),y(1,a.IModelService),y(2,s.IModeService)],c),t.TextResourceConfigurationService=c}),define(u[17],d([1,0,6]),function(e,t,n){"use strict";function i(e,t){var n=e.getType(),i=t.getType();if(n!==i)return n-i;switch(n){case r.Defined:case r.Not:case r.Equals:case r.NotEquals:return e.cmp(t);default:throw new Error("Unknown ContextKeyExpr!")}}Object.defineProperty(t,"__esModule",{value:!0});var r;!function(e){e[e.Defined=1]="Defined",e[e.Not=2]="Not",e[e.Equals=3]="Equals",e[e.NotEquals=4]="NotEquals",e[e.And=5]="And"}(r=t.ContextKeyExprType||(t.ContextKeyExprType={}));var o=function(){function e(){}return e.has=function(e){return new s(e)},e.equals=function(e,t){return new a(e,t)},e.notEquals=function(e,t){return new c(e,t)},e.not=function(e){return new l(e)},e.and=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new u(e)},e.deserialize=function(e){var t=this;if(!e)return null;var n=e.split("&&");return new u(n.map(function(e){return t._deserializeOne(e)})).normalize()},e._deserializeOne=function(e){if((e=e.trim()).indexOf("!=")>=0){t=e.split("!=");return new c(t[0].trim(),this._deserializeValue(t[1]))}if(e.indexOf("==")>=0){var t=e.split("==");return new a(t[0].trim(),this._deserializeValue(t[1]))}return/^\!\s*/.test(e)?new l(e.substr(1).trim()):new s(e)},e._deserializeValue=function(e){if("true"===(e=e.trim()))return!0;if("false"===e)return!1;var t=/^'([^']*)'$/.exec(e);return t?t[1].trim():e},e}();t.ContextKeyExpr=o;var s=function(){function e(e){this.key=e}return e.prototype.getType=function(){return r.Defined},e.prototype.cmp=function(e){return this.key<e.key?-1:this.key>e.key?1:0},e.prototype.equals=function(t){return t instanceof e&&this.key===t.key},e.prototype.evaluate=function(e){return!!e.getValue(this.key)},e.prototype.normalize=function(){return this},e.prototype.serialize=function(){return this.key},e.prototype.keys=function(){return[this.key]},e}();t.ContextKeyDefinedExpr=s;var a=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.getType=function(){return r.Equals},e.prototype.cmp=function(e){return this.key<e.key?-1:this.key>e.key?1:this.value<e.value?-1:this.value>e.value?1:0},e.prototype.equals=function(t){return t instanceof e&&(this.key===t.key&&this.value===t.value)},e.prototype.evaluate=function(e){return e.getValue(this.key)==this.value},e.prototype.normalize=function(){return"boolean"==typeof this.value?this.value?new s(this.key):new l(this.key):this},e.prototype.serialize=function(){return"boolean"==typeof this.value?this.normalize().serialize():this.key+" == '"+this.value+"'"},e.prototype.keys=function(){return[this.key]},e}();t.ContextKeyEqualsExpr=a;var c=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.getType=function(){return r.NotEquals},e.prototype.cmp=function(e){return this.key<e.key?-1:this.key>e.key?1:this.value<e.value?-1:this.value>e.value?1:0},e.prototype.equals=function(t){return t instanceof e&&(this.key===t.key&&this.value===t.value)},e.prototype.evaluate=function(e){return e.getValue(this.key)!=this.value},e.prototype.normalize=function(){return"boolean"==typeof this.value?this.value?new l(this.key):new s(this.key):this},e.prototype.serialize=function(){return"boolean"==typeof this.value?this.normalize().serialize():this.key+" != '"+this.value+"'"},e.prototype.keys=function(){return[this.key]},e}();t.ContextKeyNotEqualsExpr=c;var l=function(){function e(e){this.key=e}return e.prototype.getType=function(){return r.Not},e.prototype.cmp=function(e){return this.key<e.key?-1:this.key>e.key?1:0},e.prototype.equals=function(t){return t instanceof e&&this.key===t.key},e.prototype.evaluate=function(e){return!e.getValue(this.key)},e.prototype.normalize=function(){return this},e.prototype.serialize=function(){return"!"+this.key},e.prototype.keys=function(){return[this.key]},e}();t.ContextKeyNotExpr=l;var u=function(){function e(t){this.expr=e._normalizeArr(t)}return e.prototype.getType=function(){return r.And},e.prototype.equals=function(t){if(t instanceof e){if(this.expr.length!==t.expr.length)return!1;for(var n=0,i=this.expr.length;n<i;n++)if(!this.expr[n].equals(t.expr[n]))return!1;return!0}return!1},e.prototype.evaluate=function(e){for(var t=0,n=this.expr.length;t<n;t++)if(!this.expr[t].evaluate(e))return!1;return!0},e._normalizeArr=function(t){var n=[];if(t){for(var r=0,o=t.length;r<o;r++){var s=t[r];s&&((s=s.normalize())&&(s instanceof e?n=n.concat(s.expr):n.push(s)))}n.sort(i)}return n},e.prototype.normalize=function(){return 0===this.expr.length?null:1===this.expr.length?this.expr[0]:this},e.prototype.serialize=function(){return 0===this.expr.length?"":1===this.expr.length?this.normalize().serialize():this.expr.map(function(e){return e.serialize()}).join(" && ")},e.prototype.keys=function(){for(var e=[],t=0,n=this.expr;t<n.length;t++){var i=n[t];e.push.apply(e,i.keys())}return e},e}();t.ContextKeyAndExpr=u;var d=function(e){function t(t,n){var i=e.call(this,t)||this;return i._defaultValue=n,i}return h(t,e),t.prototype.bindTo=function(e){return e.createKey(this.key,this._defaultValue)},t.prototype.getValue=function(e){return e.getContextKeyValue(this.key)},t.prototype.toNegated=function(){return o.not(this.key)},t.prototype.isEqualTo=function(e){return o.equals(this.key,e)},t}(s);t.RawContextKey=d,t.IContextKeyService=n.createDecorator("contextKeyService"),t.SET_CONTEXT_COMMAND_ID="setContext"}),define(u[48],d([1,0,17]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.textFocus=new n.RawContextKey("editorTextFocus",!1),e.focus=new n.RawContextKey("editorFocus",!1),e.readOnly=new n.RawContextKey("editorReadonly",!1),e.writable=e.readOnly.toNegated(),e.hasNonEmptySelection=new n.RawContextKey("editorHasSelection",!1),e.hasOnlyEmptySelection=e.hasNonEmptySelection.toNegated(),e.hasMultipleSelections=new n.RawContextKey("editorHasMultipleSelections",!1),e.hasSingleSelection=e.hasMultipleSelections.toNegated(),e.tabMovesFocus=new n.RawContextKey("editorTabMovesFocus",!1),e.tabDoesNotMoveFocus=e.tabMovesFocus.toNegated(),e.isInEmbeddedEditor=new n.RawContextKey("isInEmbeddedEditor",void 0),e.languageId=new n.RawContextKey("editorLangId",void 0),e.hasCompletionItemProvider=new n.RawContextKey("editorHasCompletionItemProvider",void 0),e.hasCodeActionsProvider=new n.RawContextKey("editorHasCodeActionsProvider",void 0),e.hasCodeLensProvider=new n.RawContextKey("editorHasCodeLensProvider",void 0),e.hasDefinitionProvider=new n.RawContextKey("editorHasDefinitionProvider",void 0),e.hasImplementationProvider=new n.RawContextKey("editorHasImplementationProvider",void 0),e.hasTypeDefinitionProvider=new n.RawContextKey("editorHasTypeDefinitionProvider",void 0),e.hasHoverProvider=new n.RawContextKey("editorHasHoverProvider",void 0),e.hasDocumentHighlightProvider=new n.RawContextKey("editorHasDocumentHighlightProvider",void 0),e.hasDocumentSymbolProvider=new n.RawContextKey("editorHasDocumentSymbolProvider",void 0),e.hasReferenceProvider=new n.RawContextKey("editorHasReferenceProvider",void 0),e.hasRenameProvider=new n.RawContextKey("editorHasRenameProvider",void 0),e.hasDocumentFormattingProvider=new n.RawContextKey("editorHasDocumentFormattingProvider",void 0),e.hasDocumentSelectionFormattingProvider=new n.RawContextKey("editorHasDocumentSelectionFormattingProvider",void 0),e.hasSignatureHelpProvider=new n.RawContextKey("editorHasSignatureHelpProvider",void 0)}(t.EditorContextKeys||(t.EditorContextKeys={}))}),define(u[763],d([1,0,5,46,48,79]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t,n){var o=e.call(this)||this;o._editor=t,o._langId=r.EditorContextKeys.languageId.bindTo(n),o._hasCompletionItemProvider=r.EditorContextKeys.hasCompletionItemProvider.bindTo(n),o._hasCodeActionsProvider=r.EditorContextKeys.hasCodeActionsProvider.bindTo(n),o._hasCodeLensProvider=r.EditorContextKeys.hasCodeLensProvider.bindTo(n),o._hasDefinitionProvider=r.EditorContextKeys.hasDefinitionProvider.bindTo(n),o._hasImplementationProvider=r.EditorContextKeys.hasImplementationProvider.bindTo(n),o._hasTypeDefinitionProvider=r.EditorContextKeys.hasTypeDefinitionProvider.bindTo(n),o._hasHoverProvider=r.EditorContextKeys.hasHoverProvider.bindTo(n),o._hasDocumentHighlightProvider=r.EditorContextKeys.hasDocumentHighlightProvider.bindTo(n),o._hasDocumentSymbolProvider=r.EditorContextKeys.hasDocumentSymbolProvider.bindTo(n),o._hasReferenceProvider=r.EditorContextKeys.hasReferenceProvider.bindTo(n),o._hasRenameProvider=r.EditorContextKeys.hasRenameProvider.bindTo(n),o._hasDocumentFormattingProvider=r.EditorContextKeys.hasDocumentFormattingProvider.bindTo(n),o._hasDocumentSelectionFormattingProvider=r.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(n),o._hasSignatureHelpProvider=r.EditorContextKeys.hasSignatureHelpProvider.bindTo(n),o._isInWalkThrough=r.EditorContextKeys.isInEmbeddedEditor.bindTo(n);var s=function(){return o._update()};return o._register(t.onDidChangeModel(s)),o._register(t.onDidChangeModelLanguage(s)),o._register(i.SuggestRegistry.onDidChange(s)),o._register(i.CodeActionProviderRegistry.onDidChange(s)),o._register(i.CodeLensProviderRegistry.onDidChange(s)),o._register(i.DefinitionProviderRegistry.onDidChange(s)),o._register(i.ImplementationProviderRegistry.onDidChange(s)),o._register(i.TypeDefinitionProviderRegistry.onDidChange(s)),o._register(i.HoverProviderRegistry.onDidChange(s)),o._register(i.DocumentHighlightProviderRegistry.onDidChange(s)),o._register(i.DocumentSymbolProviderRegistry.onDidChange(s)),o._register(i.ReferenceProviderRegistry.onDidChange(s)),o._register(i.RenameProviderRegistry.onDidChange(s)),o._register(i.DocumentFormattingEditProviderRegistry.onDidChange(s)),o._register(i.DocumentRangeFormattingEditProviderRegistry.onDidChange(s)),o._register(i.SignatureHelpProviderRegistry.onDidChange(s)),s(),o}return h(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.reset=function(){this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()},t.prototype._update=function(){var e=this._editor.getModel();e?(this._langId.set(e.getLanguageIdentifier().language),this._hasCompletionItemProvider.set(i.SuggestRegistry.has(e)),this._hasCodeActionsProvider.set(i.CodeActionProviderRegistry.has(e)),this._hasCodeLensProvider.set(i.CodeLensProviderRegistry.has(e)),this._hasDefinitionProvider.set(i.DefinitionProviderRegistry.has(e)),this._hasImplementationProvider.set(i.ImplementationProviderRegistry.has(e)),this._hasTypeDefinitionProvider.set(i.TypeDefinitionProviderRegistry.has(e)),this._hasHoverProvider.set(i.HoverProviderRegistry.has(e)),this._hasDocumentHighlightProvider.set(i.DocumentHighlightProviderRegistry.has(e)),this._hasDocumentSymbolProvider.set(i.DocumentSymbolProviderRegistry.has(e)),this._hasReferenceProvider.set(i.ReferenceProviderRegistry.has(e)),this._hasRenameProvider.set(i.RenameProviderRegistry.has(e)),this._hasSignatureHelpProvider.set(i.SignatureHelpProviderRegistry.has(e)),this._hasDocumentFormattingProvider.set(i.DocumentFormattingEditProviderRegistry.has(e)||i.DocumentRangeFormattingEditProviderRegistry.has(e)),this._hasDocumentSelectionFormattingProvider.set(i.DocumentRangeFormattingEditProviderRegistry.has(e)),this._isInWalkThrough.set(e.uri.scheme===o.Schemas.walkThroughSnippet)):this.reset()},t}(n.Disposable);t.EditorModeContext=s}),define(u[764],d([1,0,8,5,17,35,32]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(t,i,r,s){var a=this;this.id=t,this._commandService=r,this._contextKeyService=s,this._menuGroups=[],this._disposables=[],this._onDidChange=new n.Emitter,i.then(function(n){var i,r=o.MenuRegistry.getMenuItems(t),s=new Set;r.sort(e._compareMenuItems);for(var c=0,l=r;c<l.length;c++){var u=l[c],d=u.group;i&&i[0]===d||(i=[d,[]],a._menuGroups.push(i)),i[1].push(u),e._fillInKbExprKeys(u.when,s)}a._disposables.push(a._contextKeyService.onDidChangeContext(function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];if(s.has(i))return void a._onDidChange.fire()}})),a._onDidChange.fire(a)})}return e.prototype.dispose=function(){this._disposables=i.dispose(this._disposables),this._onDidChange.dispose()},Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),e.prototype.getActions=function(e){for(var t=[],n=0,i=this._menuGroups;n<i.length;n++){for(var r=i[n],s=r[0],a=[],c=0,l=r[1];c<l.length;c++){var u=l[c];if(this._contextKeyService.contextMatchesRules(u.when)){var d=new o.MenuItemAction(u.command,u.alt,e,this._commandService);d.order=u.order,a.push(d)}}a.length>0&&t.push([s,a])}return t},e._fillInKbExprKeys=function(e,t){if(e)for(var n=0,i=e.keys();n<i.length;n++){var r=i[n];t.add(r)}},e._compareMenuItems=function(e,t){var n=e.group,i=t.group;if(n!==i){if(!n)return 1;if(!i)return-1;if("navigation"===n)return-1;if("navigation"===i)return 1;var r=n.localeCompare(i);if(0!==r)return r}var o=e.order||0,s=t.order||0;if(o<s)return-1;if(o>s)return 1;var a="string"==typeof e.command.title?e.command.title:e.command.title.value,c="string"==typeof t.command.title?t.command.title:t.command.title.value;return a.localeCompare(c)},e}();a=v([y(2,s.ICommandService),y(3,r.IContextKeyService)],a),t.Menu=a}),define(u[41],d([1,0,21,6]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IContextViewService=i.createDecorator("contextViewService"),t.IContextMenuService=i.createDecorator("contextMenuService");var r=function(e){function t(t,n){var i=e.call(this,"contextsubmenu",t,"",!0)||this;return i.entries=n,i}return h(t,e),t}(n.Action);t.ContextSubMenu=r}),define(u[63],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IEditorService=n.createDecorator("editorService");var i;!function(e){e[e.ONE=0]="ONE",e[e.TWO=1]="TWO",e[e.THREE=2]="THREE"}(i=t.Position||(t.Position={})),t.POSITIONS=[i.ONE,i.TWO,i.THREE];!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(t.Direction||(t.Direction={}));!function(e){e[e.SHORT=0]="SHORT",e[e.MEDIUM=1]="MEDIUM",e[e.LONG=2]="LONG"}(t.Verbosity||(t.Verbosity={}))}),define(u[39],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IEnvironmentService=n.createDecorator("environmentService")}),define(u[87],d([1,0,487,6]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EXTENSION_IDENTIFIER_PATTERN="^([a-z0-9A-Z][a-z0-9-A-Z]*)\\.([a-z0-9A-Z][a-z0-9-A-Z]*)$",t.EXTENSION_IDENTIFIER_REGEX=new RegExp(t.EXTENSION_IDENTIFIER_PATTERN);!function(e){e[e.System=0]="System",e[e.User=1]="User"}(t.LocalExtensionType||(t.LocalExtensionType={})),t.IExtensionManagementService=i.createDecorator("extensionManagementService"),t.IExtensionGalleryService=i.createDecorator("extensionGalleryService");!function(e){e[e.NoneOrRelevance=0]="NoneOrRelevance",e[e.LastUpdatedDate=1]="LastUpdatedDate",e[e.Title=2]="Title",e[e.PublisherName=3]="PublisherName",e[e.InstallCount=4]="InstallCount",e[e.PublishedDate=5]="PublishedDate",e[e.AverageRating=6]="AverageRating"}(t.SortBy||(t.SortBy={}));!function(e){e[e.Default=0]="Default",e[e.Ascending=1]="Ascending",e[e.Descending=2]="Descending"}(t.SortOrder||(t.SortOrder={})),t.IExtensionEnablementService=i.createDecorator("extensionEnablementService"),t.IExtensionTipsService=i.createDecorator("extensionTipsService"),t.ExtensionsLabel=n.localize(0,null),t.ExtensionsChannelId="extensions",t.PreferencesLabel=n.localize(1,null)}),define(u[59],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IExtensionService=n.createDecorator("extensionService");var i=function(){return function(e,t){this.description=e,this.value=t}}();t.ExtensionPointContribution=i}),define(u[770],d([1,0,764,59,32]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){this._extensionService=e,this._commandService=t}return e.prototype.createMenu=function(e,t){return new n.Menu(e,this._extensionService.onReady(),this._commandService,t)},e}();o=v([y(0,i.IExtensionService),y(1,r.ICommandService)],o),t.MenuService=o}),define(u[771],d([1,0,4,6,32,59,8,5]),function(e,t,n,i,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(t,n){var i=e.call(this)||this;return i._instantiationService=t,i._extensionService=n,i._extensionHostIsReady=!1,i._onWillExecuteCommand=i._register(new s.Emitter),i.onWillExecuteCommand=i._onWillExecuteCommand.event,i._extensionService.onReady().then(function(e){return i._extensionHostIsReady=e}),i}return h(t,e),t.prototype.executeCommand=function(e){for(var t=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=this._extensionService.activateByEvent("onCommand:"+e);return this._extensionHostIsReady?r.then(function(i){return t._tryExecuteCommand(e,n)}):this._tryExecuteCommand(e,n)},t.prototype._tryExecuteCommand=function(e,t){var i=this._getCommand(e);if(!i)return n.TPromise.wrapError(new Error("command '"+e+"' not found"));try{this._onWillExecuteCommand.fire({commandId:e});var r=this._instantiationService.invokeFunction.apply(this._instantiationService,[i.handler].concat(t));return n.TPromise.as(r)}catch(e){return n.TPromise.wrapError(e)}},t.prototype._getCommand=function(e){return r.CommandsRegistry.getCommand(e)},t}(a.Disposable);c=v([y(0,i.IInstantiationService),y(1,o.IExtensionService)],c),t.CommandService=c}),define(u[772],d([1,0,489,36,4,59]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=Object.hasOwnProperty,a=function(){return function(e){this.activationFailed=e}}();t.ActivatedExtension=a;var c=r.TPromise.as(void 0),l=function(){function e(e){var t=this;e?(this._isReady=!0,this._onReady=r.TPromise.as(!0),this._onReadyC=function(e){}):(this._isReady=!1,this._onReady=new r.TPromise(function(e,n,i){t._onReadyC=e},function(){console.warn("You should really not try to cancel this ready promise!")})),this._activatingExtensions={},this._activatedExtensions={},this._registry=new u,this._alreadyActivatedEvents=Object.create(null)}return e.prototype._triggerOnReady=function(){this._isReady=!0,this._onReadyC(!0)},e.prototype.onReady=function(){return this._onReady},e.prototype.readExtensionPointContributions=function(e){var t=this;return this.onReady().then(function(){for(var n=t._registry.getAllExtensionDescriptions(),i=[],r=0,a=0,c=n.length;a<c;a++){var l=n[a];l.contributes&&s.call(l.contributes,e.name)&&(i[r++]=new o.ExtensionPointContribution(l,l.contributes[e.name]))}return i})},e.prototype.getExtensions=function(){var e=this;return this.onReady().then(function(){return e._registry.getAllExtensionDescriptions()})},e.prototype.getExtensionsStatus=function(){return null},e.prototype.isActivated=function(e){return s.call(this._activatedExtensions,e)},e.prototype.activateByEvent=function(e){var t=this;return this._alreadyActivatedEvents[e]?c:this._isReady?this._activateByEvent(e):this._onReady.then(function(){return t._activateByEvent(e)})},e.prototype._activateByEvent=function(e){var t=this,n=this._registry.getExtensionDescriptionsForActivationEvent(e);return this._activateExtensions(n,0).then(function(){t._alreadyActivatedEvents[e]=!0})},e.prototype.activateById=function(e){var t=this;return this._onReady.then(function(){var n=t._registry.getExtensionDescription(e);if(!n)throw new Error("Extension `"+e+"` is not known");return t._activateExtensions([n],0)})},e.prototype._handleActivateRequest=function(e,t,r){for(var o=void 0===e.extensionDependencies?[]:e.extensionDependencies,a=!0,c=0,l=o.length;c<l;c++){var u=o[c],d=this._registry.getExtensionDescription(u);if(!d)return this._showMessage(i.default.Error,n.localize(0,null,u,e.id)),void(this._activatedExtensions[e.id]=this._createFailedExtension());if(s.call(this._activatedExtensions,u)){if(this._activatedExtensions[u].activationFailed)return this._showMessage(i.default.Error,n.localize(1,null,u,e.id)),void(this._activatedExtensions[e.id]=this._createFailedExtension())}else a=!1,t[u]=d}a?t[e.id]=e:r.push(e)},e.prototype._activateExtensions=function(e,t){var o=this;if(0===e.length)return r.TPromise.as(void 0);if(0===(e=e.filter(function(e){return!s.call(o._activatedExtensions,e.id)})).length)return r.TPromise.as(void 0);if(t>10){for(var a=0,c=e.length;a<c;a++)this._showMessage(i.default.Error,n.localize(2,null,e[a].id)),this._activatedExtensions[e[a].id]=this._createFailedExtension();return r.TPromise.as(void 0)}for(var l=Object.create(null),u=[],a=0,c=e.length;a<c;a++)this._handleActivateRequest(e[a],l,u);for(var a=0,c=u.length;a<c;a++)l[u[a].id]&&delete l[u[a].id];var d=Object.keys(l).map(function(e){return l[e]});return 0===u.length?r.TPromise.join(d.map(function(e){return o._activateExtension(e)})).then(function(e){}):this._activateExtensions(d,t+1).then(function(e){return o._activateExtensions(u,t+1)})},e.prototype._activateExtension=function(e){var t=this;return s.call(this._activatedExtensions,e.id)?r.TPromise.as(void 0):s.call(this._activatingExtensions,e.id)?this._activatingExtensions[e.id]:(this._activatingExtensions[e.id]=this._actualActivateExtension(e).then(null,function(r){return t._showMessage(i.default.Error,n.localize(3,null,e.id,r.message)),console.error("Activating extension `"+e.id+"` failed: ",r.message),console.log("Here is the error stack: ",r.stack),t._createFailedExtension()}).then(function(n){t._activatedExtensions[e.id]=n,delete t._activatingExtensions[e.id]}),this._activatingExtensions[e.id])},e}();t.AbstractExtensionService=l;var u=function(){function e(){this._extensionsMap={},this._extensionsArr=[],this._activationMap={}}return e.prototype.registerExtensions=function(e){for(var t=0,n=e.length;t<n;t++){var i=e[t];if(s.call(this._extensionsMap,i.id))console.error("Extension `"+i.id+"` is already registered");else if(this._extensionsMap[i.id]=i,this._extensionsArr.push(i),Array.isArray(i.activationEvents))for(var r=0,o=i.activationEvents.length;r<o;r++){var a=i.activationEvents[r];this._activationMap[a]=this._activationMap[a]||[],this._activationMap[a].push(i)}}},e.prototype.getExtensionDescriptionsForActivationEvent=function(e){return s.call(this._activationMap,e)?this._activationMap[e].slice(0):[]},e.prototype.getAllExtensionDescriptions=function(){return this._extensionsArr.slice(0)},e.prototype.getExtensionDescription=function(e){return s.call(this._extensionsMap,e)?this._extensionsMap[e]:null},e}();t.ExtensionDescriptionRegistry=u}),define(u[43],d([1,0,28,140,11,6,12]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IFileService=o.createDecorator("fileService");!function(e){e[e.CREATE=0]="CREATE",e[e.DELETE=1]="DELETE",e[e.MOVE=2]="MOVE",e[e.COPY=3]="COPY",e[e.IMPORT=4]="IMPORT"}(t.FileOperation||(t.FileOperation={}));var a=function(){function e(e,t,n){this._resource=e,this._operation=t,this._target=n}return Object.defineProperty(e.prototype,"resource",{get:function(){return this._resource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"operation",{get:function(){return this._operation},enumerable:!0,configurable:!0}),e}();t.FileOperationEvent=a;var c;!function(e){e[e.UPDATED=0]="UPDATED",e[e.ADDED=1]="ADDED",e[e.DELETED=2]="DELETED"}(c=t.FileChangeType||(t.FileChangeType={}));var l=function(e){function t(t){var n=e.call(this)||this;return n._changes=t,n}return h(t,e),Object.defineProperty(t.prototype,"changes",{get:function(){return this._changes},enumerable:!0,configurable:!0}),t.prototype.contains=function(e,t){return!!e&&this._changes.some(function(i){return i.type===t&&(t===c.DELETED?n.isEqualOrParent(e.fsPath,i.resource.fsPath,!r.isLinux):n.isEqual(e.fsPath,i.resource.fsPath,!r.isLinux))})},t.prototype.getAdded=function(){return this.getOfType(c.ADDED)},t.prototype.gotAdded=function(){return this.hasType(c.ADDED)},t.prototype.getDeleted=function(){return this.getOfType(c.DELETED)},t.prototype.gotDeleted=function(){return this.hasType(c.DELETED)},t.prototype.getUpdated=function(){return this.getOfType(c.UPDATED)},t.prototype.gotUpdated=function(){return this.hasType(c.UPDATED)},t.prototype.getOfType=function(e){return this._changes.filter(function(t){return t.type===e})},t.prototype.hasType=function(e){return this._changes.some(function(t){return t.type===e})},t}(i.Event);t.FileChangesEvent=l,t.isParent=function(e,t,i){return!(!e||!t||e===t)&&!(t.length>e.length)&&(t.charAt(t.length-1)!==n.nativeSep&&(t+=n.nativeSep),i?s.beginsWithIgnoreCase(e,t):0===e.indexOf(t))},t.indexOf=function(e,t,n){return t.length>e.length?-1:e===t?0:(n&&(e=e.toLowerCase(),t=t.toLowerCase()),e.indexOf(t))};var u=function(e){function t(t,n){var i=e.call(this,t)||this;return i.fileOperationResult=n,i}return h(t,e),t}(Error);t.FileOperationError=u;!function(e){e[e.FILE_IS_BINARY=0]="FILE_IS_BINARY",e[e.FILE_IS_DIRECTORY=1]="FILE_IS_DIRECTORY",e[e.FILE_NOT_FOUND=2]="FILE_NOT_FOUND",e[e.FILE_NOT_MODIFIED_SINCE=3]="FILE_NOT_MODIFIED_SINCE",e[e.FILE_MODIFIED_SINCE=4]="FILE_MODIFIED_SINCE",e[e.FILE_MOVE_CONFLICT=5]="FILE_MOVE_CONFLICT",e[e.FILE_READ_ONLY=6]="FILE_READ_ONLY",e[e.FILE_TOO_LARGE=7]="FILE_TOO_LARGE",e[e.FILE_INVALID_PATH=8]="FILE_INVALID_PATH"}(t.FileOperationResult||(t.FileOperationResult={})),t.MAX_FILE_SIZE=52428800,t.AutoSaveConfiguration={OFF:"off",AFTER_DELAY:"afterDelay",ON_FOCUS_CHANGE:"onFocusChange",ON_WINDOW_CHANGE:"onWindowChange"},t.HotExitConfiguration={OFF:"off",ON_EXIT:"onExit",ON_EXIT_AND_WINDOW_CLOSE:"onExitAndWindowClose"},t.CONTENT_CHANGE_EVENT_BUFFER_DELAY=1e3,t.SUPPORTED_ENCODINGS={utf8:{labelLong:"UTF-8",labelShort:"UTF-8",order:1,alias:"utf8bom"},utf8bom:{labelLong:"UTF-8 with BOM",labelShort:"UTF-8 with BOM",encodeOnly:!0,order:2,alias:"utf8"},utf16le:{labelLong:"UTF-16 LE",labelShort:"UTF-16 LE",order:3},utf16be:{labelLong:"UTF-16 BE",labelShort:"UTF-16 BE",order:4},windows1252:{labelLong:"Western (Windows 1252)",labelShort:"Windows 1252",order:5},iso88591:{labelLong:"Western (ISO 8859-1)",labelShort:"ISO 8859-1",order:6},iso88593:{labelLong:"Western (ISO 8859-3)",labelShort:"ISO 8859-3",order:7},iso885915:{labelLong:"Western (ISO 8859-15)",labelShort:"ISO 8859-15",order:8},macroman:{labelLong:"Western (Mac Roman)",labelShort:"Mac Roman",order:9},cp437:{labelLong:"DOS (CP 437)",labelShort:"CP437",order:10},windows1256:{labelLong:"Arabic (Windows 1256)",labelShort:"Windows 1256",order:11},iso88596:{labelLong:"Arabic (ISO 8859-6)",labelShort:"ISO 8859-6",order:12},windows1257:{labelLong:"Baltic (Windows 1257)",labelShort:"Windows 1257",order:13},iso88594:{labelLong:"Baltic (ISO 8859-4)",labelShort:"ISO 8859-4",order:14},iso885914:{labelLong:"Celtic (ISO 8859-14)",labelShort:"ISO 8859-14",order:15},windows1250:{labelLong:"Central European (Windows 1250)",labelShort:"Windows 1250",order:16},iso88592:{labelLong:"Central European (ISO 8859-2)",labelShort:"ISO 8859-2",order:17},cp852:{labelLong:"Central European (CP 852)",labelShort:"CP 852",order:18},windows1251:{labelLong:"Cyrillic (Windows 1251)",labelShort:"Windows 1251",order:19},cp866:{labelLong:"Cyrillic (CP 866)",labelShort:"CP 866",order:20},iso88595:{labelLong:"Cyrillic (ISO 8859-5)",labelShort:"ISO 8859-5",order:21},koi8r:{labelLong:"Cyrillic (KOI8-R)",labelShort:"KOI8-R",order:22},koi8u:{labelLong:"Cyrillic (KOI8-U)",labelShort:"KOI8-U",order:23},iso885913:{labelLong:"Estonian (ISO 8859-13)",labelShort:"ISO 8859-13",order:24},windows1253:{labelLong:"Greek (Windows 1253)",labelShort:"Windows 1253",order:25},iso88597:{labelLong:"Greek (ISO 8859-7)",labelShort:"ISO 8859-7",order:26},windows1255:{labelLong:"Hebrew (Windows 1255)",labelShort:"Windows 1255",order:27},iso88598:{labelLong:"Hebrew (ISO 8859-8)",labelShort:"ISO 8859-8",order:28},iso885910:{labelLong:"Nordic (ISO 8859-10)",labelShort:"ISO 8859-10",order:29},iso885916:{labelLong:"Romanian (ISO 8859-16)",labelShort:"ISO 8859-16",order:30},windows1254:{labelLong:"Turkish (Windows 1254)",labelShort:"Windows 1254",order:31},iso88599:{labelLong:"Turkish (ISO 8859-9)",labelShort:"ISO 8859-9",order:32},windows1258:{labelLong:"Vietnamese (Windows 1258)",labelShort:"Windows 1258",order:33},gbk:{labelLong:"Chinese (GBK)",labelShort:"GBK",order:34},gb18030:{labelLong:"Chinese (GB18030)",labelShort:"GB18030",order:35},cp950:{labelLong:"Traditional Chinese (Big5)",labelShort:"Big5",order:36},big5hkscs:{labelLong:"Traditional Chinese (Big5-HKSCS)",labelShort:"Big5-HKSCS",order:37},shiftjis:{labelLong:"Japanese (Shift JIS)",labelShort:"Shift JIS",order:38},eucjp:{labelLong:"Japanese (EUC-JP)",labelShort:"EUC-JP",order:39},euckr:{labelLong:"Korean (EUC-KR)",labelShort:"EUC-KR",order:40},windows874:{labelLong:"Thai (Windows 874)",labelShort:"Windows 874",order:41},iso885911:{labelLong:"Latin/Thai (ISO 8859-11)",labelShort:"ISO 8859-11",order:42},koi8ru:{labelLong:"Cyrillic (KOI8-RU)",labelShort:"KOI8-RU",order:43},koi8t:{labelLong:"Tajik (KOI8-T)",labelShort:"KOI8-T",order:44},gb2312:{labelLong:"Simplified Chinese (GB 2312)",labelShort:"GB 2312",order:45}}}),define(u[118],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._entries=new Map;for(var n=0,i=e;n<i.length;n++){var r=i[n],o=r[0],s=r[1];this.set(o,s)}}return e.prototype.set=function(e,t){var n=this._entries.get(e);return this._entries.set(e,t),n},e.prototype.forEach=function(e){this._entries.forEach(function(t,n){return e(n,t)})},e.prototype.has=function(e){return this._entries.has(e)},e.prototype.get=function(e){return this._entries.get(e)},e}();t.ServiceCollection=n}),define(u[775],d([1,0,4,7,24,144,1335,95,6,118]),function(e,t,n,i,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function t(e,t){void 0===e&&(e=new l.ServiceCollection),void 0===t&&(t=!1),this._services=e,this._strict=t,this._services.set(c.IInstantiationService,this)}return t.prototype.createChild=function(e){var n=this;return this._services.forEach(function(t,i){e.has(t)||(i instanceof a.SyncDescriptor&&(i=n._createAndCacheServiceInstance(t,i)),e.set(t,i))}),new t(e,this._strict)},t.prototype.invokeFunction=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o;try{return o={get:function(e,n){var i=t._getOrCreateServiceInstance(e);if(!i&&n!==c.optional)throw new Error("[invokeFunction] unkown service '"+e+"'");return i}},e.apply(void 0,[o].concat(n))}finally{o.get=function(){throw i.illegalState("service accessor is only valid during the invocation of its target method")}}},t.prototype.createInstance=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e instanceof a.AsyncDescriptor?this._createInstanceAsync(e,t):e instanceof a.SyncDescriptor?this._createInstance(e,t):this._createInstance(new a.SyncDescriptor(e),t)},t.prototype._createInstanceAsync=function(t,r){var o,s=this;return new n.TPromise(function(n,c,l){e([t.moduleName],function(e){if(o&&c(o),!e)return c(i.illegalArgument("module not found: "+t.moduleName));var l;if("function"!=typeof(l=t.ctorName?e[t.ctorName]:e))return c(i.illegalArgument("not a function: "+t.ctorName||t.moduleName));try{r.unshift.apply(r,t.staticArguments()),n(s._createInstance(new a.SyncDescriptor(l),r))}catch(e){return c(e)}},c)},function(){o=i.canceled()})},t.prototype._createInstance=function(e,t){for(var n=e.staticArguments().concat(t),i=c._util.getServiceDependencies(e.ctor).sort(function(e,t){return e.index-t.index}),o=[],s=0,a=i;s<a.length;s++){var l=a[s],u=this._getOrCreateServiceInstance(l.id);if(!u&&this._strict&&!l.optional)throw new Error("[createInstance] "+e.ctor.name+" depends on UNKNOWN service "+l.id+".");o.push(u)}var d=i.length>0?i[0].index:n.length;if(n.length!==d){console.warn("[createInstance] First service dependency of "+e.ctor.name+" at position "+(d+1)+" conflicts with "+n.length+" static arguments");var h=d-n.length;n=h>0?n.concat(new Array(h)):n.slice(0,d)}var p=[e.ctor];p.push.apply(p,n),p.push.apply(p,o);var f=r.create.apply(null,p);return e._validate(f),f},t.prototype._getOrCreateServiceInstance=function(e){var t=this._services.get(e);return t instanceof a.SyncDescriptor?this._createAndCacheServiceInstance(e,t):t},t.prototype._createAndCacheServiceInstance=function(e,t){function n(){var e=new Error("[createInstance] cyclic dependency between services");throw e.message=i.toString(),e}o.ok(this._services.get(e)instanceof a.SyncDescriptor);for(var i=new s.Graph(function(e){return e.id.toString()}),r=0,l=[{id:e,desc:t}];l.length;){var u=l.pop();i.lookupOrInsertNode(u),r++>100&&n();for(var d=0,h=c._util.getServiceDependencies(u.desc.ctor);d<h.length;d++){var p=h[d],f=this._services.get(p.id);if(f||console.warn("[createInstance] "+e+" depends on "+p.id+" which is NOT registered."),f instanceof a.SyncDescriptor){var g={id:p.id,desc:f};i.insertEdge(u,g),l.push(g)}}}for(;;){var v=i.roots();if(0===v.length){0!==i.length&&n();break}for(var m=0,y=v;m<y.length;m++){var b=y[m],S=this._createInstance(b.data.desc,[]);this._services.set(b.data.id,S),i.removeNode(b.data)}}return this._services.get(e)},t}();t.InstantiationService=u}),define(u[238],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IIntegrityService=n.createDecorator("integrityService")}),define(u[777],d([1,0,494,5,36,8]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t,n,i){this.toDispose=[],this._contextKeyService=e,this._commandService=t,this._statusService=i,this._messageService=n,this._currentChord=null,this._currentChordStatusMessage=null,this._onDidUpdateKeybindings=new o.Emitter,this.toDispose.push(this._onDidUpdateKeybindings)}return e.prototype.dispose=function(){this.toDispose=i.dispose(this.toDispose)},Object.defineProperty(e.prototype,"onDidUpdateKeybindings",{get:function(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:o.default.None},enumerable:!0,configurable:!0}),e.prototype.getDefaultKeybindingsContent=function(){return""},e.prototype.getDefaultKeybindings=function(){return this._getResolver().getDefaultKeybindings()},e.prototype.getKeybindings=function(){return this._getResolver().getKeybindings()},e.prototype.customKeybindingsCount=function(){return 0},e.prototype.lookupKeybindings=function(e){return this._getResolver().lookupKeybindings(e).map(function(e){return e.resolvedKeybinding})},e.prototype.lookupKeybinding=function(e){var t=this._getResolver().lookupPrimaryKeybinding(e);return t?t.resolvedKeybinding:null},e.prototype.softDispatch=function(e,t){var n=this.resolveKeyboardEvent(e);if(n.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;var i=n.getDispatchParts()[0];if(null===i)return null;var r=this._contextKeyService.getContext(t),o=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(r,o,i)},e.prototype._dispatch=function(e,t){var i=this,o=!1,s=this.resolveKeyboardEvent(e);if(s.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;var a=s.getDispatchParts()[0];if(null===a)return o;var c=this._contextKeyService.getContext(t),l=this._currentChord?this._currentChord.keypress:null,u=s.getLabel(),d=this._getResolver().resolve(c,l,a);return d&&d.enterChord?(o=!0,this._currentChord={keypress:a,label:u},this._statusService&&(this._currentChordStatusMessage=this._statusService.setStatusMessage(n.localize(0,null,u))),o):(this._statusService&&this._currentChord&&(d&&d.commandId||(this._statusService.setStatusMessage(n.localize(1,null,this._currentChord.label,u),1e4),o=!0)),this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChord=null,d&&d.commandId&&(d.bubble||(o=!0),this._commandService.executeCommand(d.commandId,d.commandArgs||{}).done(void 0,function(e){i._messageService.show(r.default.Warning,e)})),o)},e}();t.AbstractKeybindingService=s}),define(u[38],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.Default=1]="Default",e[e.User=2]="User"}(t.KeybindingSource||(t.KeybindingSource={})),t.IKeybindingService=n.createDecorator("keybindingService")}),define(u[287],d([1,0,34,32]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(t,n){this._defaultKeybindings=t,this._defaultBoundCommands=new Map;for(var i=0,r=t.length;i<r;i++){var o=t[i].command;this._defaultBoundCommands.set(o,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=e.combine(t,n);for(var i=0,r=this._keybindings.length;i<r;i++){var s=this._keybindings[i];null!==s.keypressFirstPart&&this._addKeyPress(s.keypressFirstPart,s)}}return e._isTargetedForRemoval=function(e,t,n,i,r){if(e.command!==i)return!1;if(t&&e.keypressFirstPart!==t)return!1;if(n&&e.keypressChordPart!==n)return!1;if(r){if(!e.when)return!1;if(!r.equals(e.when))return!1}return!0},e.combine=function(e,t){e=e.slice(0);for(var n=[],i=0,r=t.length;i<r;i++){var o=t[i];if(o.command&&0!==o.command.length&&"-"===o.command.charAt(0))for(var s=o.command.substr(1),a=o.keypressFirstPart,c=o.keypressChordPart,l=o.when,u=e.length-1;u>=0;u--)this._isTargetedForRemoval(e[u],a,c,s,l)&&e.splice(u,1);else n.push(o)}return e.concat(n)},e.prototype._addKeyPress=function(t,n){var i=this._map.get(t);if(void 0===i)return this._map.set(t,[n]),void this._addToLookupMap(n);for(var r=i.length-1;r>=0;r--){var o=i[r];if(o.command!==n.command){var s=null!==o.keypressChordPart,a=null!==n.keypressChordPart;s&&a&&o.keypressChordPart!==n.keypressChordPart||e.whenIsEntirelyIncluded(!0,o.when,n.when)&&this._removeFromLookupMap(o)}}i.push(n),this._addToLookupMap(n)},e.prototype._addToLookupMap=function(e){if(e.command){var t=this._lookupMap.get(e.command);void 0===t?(t=[e],this._lookupMap.set(e.command,t)):t.push(e)}},e.prototype._removeFromLookupMap=function(e){var t=this._lookupMap.get(e.command);if(void 0!==t)for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return void t.splice(n,1)},e.whenIsEntirelyIncluded=function(e,t,n){if(e||(t=t?t.normalize():null,n=n?n.normalize():null),!n)return!0;if(!t)return!1;for(var i=t.serialize().split(" && "),r=n.serialize().split(" && "),o=Object.create(null),s=0,a=i.length;s<a;s++)o[i[s]]=!0;for(var s=0,a=r.length;s<a;s++)if(!o[r[s]])return!1;return!0},e.prototype.getDefaultBoundCommands=function(){return this._defaultBoundCommands},e.prototype.getDefaultKeybindings=function(){return this._defaultKeybindings},e.prototype.getKeybindings=function(){return this._keybindings},e.prototype.lookupKeybindings=function(e){var t=this._lookupMap.get(e);if(void 0===t||0===t.length)return[];for(var n=[],i=0,r=t.length-1;r>=0;r--)n[i++]=t[r];return n},e.prototype.lookupPrimaryKeybinding=function(e){var t=this._lookupMap.get(e);return void 0===t||0===t.length?null:t[t.length-1]},e.prototype.resolve=function(e,t,n){var i=null;if(null!==t){if(void 0===(a=this._map.get(t)))return null;i=[];for(var r=0,o=a.length;r<o;r++){var s=a[r];s.keypressChordPart===n&&i.push(s)}}else{var a=this._map.get(n);if(void 0===a)return null;i=a}var c=this._findCommand(e,i);return c?null===t&&null!==c.keypressChordPart?{enterChord:!0,commandId:null,commandArgs:null,bubble:!1}:{enterChord:!1,commandId:c.command,commandArgs:c.commandArgs,bubble:c.bubble}:null},e.prototype._findCommand=function(t,n){for(var i=n.length-1;i>=0;i--){var r=n[i];if(e.contextMatchesRules(t,r.when))return r}return null},e.contextMatchesRules=function(e,t){return!t||t.evaluate(e)},e.getAllUnboundCommands=function(e){var t=i.CommandsRegistry.getCommands(),r=[];for(var o in t)"_"!==o[0]&&0!==o.indexOf("vscode.")&&("object"!=typeof t[o].description||n.isFalsyOrEmpty(t[o].description.args))&&!0!==e.get(o)&&r.push(o);return r},e}();t.KeybindingResolver=r}),define(u[780],d([1,0,5,32,287,17,23,8]),function(e,t,n,i,r,o,s,a){"use strict";function c(e){for(;e;){if(e.hasAttribute(l))return parseInt(e.getAttribute(l),10);e=e.parentElement}return 0}Object.defineProperty(t,"__esModule",{value:!0});var l="data-keybinding-context",u=function(){function e(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}return e.prototype.setValue=function(e,t){return this._value[e]!==t&&(this._value[e]=t,!0)},e.prototype.removeValue=function(e){return delete this._value[e]},e.prototype.getValue=function(e){var t=this._value[e];return void 0===t&&this._parent?this._parent.getValue(e):t},e}();t.Context=u;var d=function(e){function t(t,n,i){var r=e.call(this,t,null)||this;return r._emitter=i,r._subscription=n.onDidUpdateConfiguration(function(e){return r._updateConfigurationContext(n.getConfiguration())}),r._updateConfigurationContext(n.getConfiguration()),r}return h(t,e),t.prototype.dispose=function(){this._subscription.dispose()},t.prototype._updateConfigurationContext=function(e){var t=this;for(var n in this._value)0===n.indexOf("config.")&&delete this._value[n];var i=function(e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){n.push(r);var o=e[r];if("boolean"==typeof o){var s=n.join(".");t._value[s]=o,t._emitter.fire(s)}else"object"==typeof o&&i(o,n);n.pop()}};i(e,["config"])},t}(u),p=function(){function e(e,t,n){this._parent=e,this._key=t,this._defaultValue=n,this.reset()}return e.prototype.set=function(e){this._parent.setContext(this._key,e)},e.prototype.reset=function(){void 0===this._defaultValue?this._parent.removeContext(this._key):this._parent.setContext(this._key,this._defaultValue)},e.prototype.get=function(){return this._parent.getContextKeyValue(this._key)},e}(),f=function(){function e(e){this._myContextId=e,this._onDidChangeContextKey=new a.Emitter}return e.prototype.createKey=function(e,t){return new p(this,e,t)},Object.defineProperty(e.prototype,"onDidChangeContext",{get:function(){return this._onDidChangeContext||(this._onDidChangeContext=a.debounceEvent(this._onDidChangeContextKey.event,function(e,t){return e?e.indexOf(t)<0&&e.push(t):e=[t],e},25)),this._onDidChangeContext},enumerable:!0,configurable:!0}),e.prototype.createScoped=function(e){return new m(this,this._onDidChangeContextKey,e)},e.prototype.contextMatchesRules=function(e){var t=this.getContextValuesContainer(this._myContextId);return r.KeybindingResolver.contextMatchesRules(t,e)},e.prototype.getContextKeyValue=function(e){return this.getContextValuesContainer(this._myContextId).getValue(e)},e.prototype.setContext=function(e,t){this.getContextValuesContainer(this._myContextId).setValue(e,t)&&this._onDidChangeContextKey.fire(e)},e.prototype.removeContext=function(e){this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContextKey.fire(e)},e.prototype.getContext=function(e){return this.getContextValuesContainer(c(e))},e}();t.AbstractContextKeyService=f;var g=function(e){function t(t){var n=e.call(this,0)||this;n._toDispose=[],n._lastContextId=0,n._contexts=Object.create(null);var i=new d(n._myContextId,t,n._onDidChangeContextKey);return n._contexts[String(n._myContextId)]=i,n._toDispose.push(i),n}return h(t,e),t.prototype.dispose=function(){this._toDispose=n.dispose(this._toDispose)},t.prototype.getContextValuesContainer=function(e){return this._contexts[String(e)]},t.prototype.createChildContext=function(e){void 0===e&&(e=this._myContextId);var t=++this._lastContextId;return this._contexts[String(t)]=new u(t,this.getContextValuesContainer(e)),t},t.prototype.disposeContext=function(e){delete this._contexts[String(e)]},t}(f);g=v([y(0,s.IConfigurationService)],g),t.ContextKeyService=g;var m=function(e){function t(t,n,i){var r=e.call(this,t.createChildContext())||this;return r._parent=t,r._onDidChangeContextKey=n,i&&(r._domNode=i,r._domNode.setAttribute(l,String(r._myContextId))),r}return h(t,e),t.prototype.dispose=function(){this._parent.disposeContext(this._myContextId),this._domNode&&this._domNode.removeAttribute(l)},Object.defineProperty(t.prototype,"onDidChangeContext",{get:function(){return this._parent.onDidChangeContext},enumerable:!0,configurable:!0}),t.prototype.getContextValuesContainer=function(e){return this._parent.getContextValuesContainer(e)},t.prototype.createChildContext=function(e){return void 0===e&&(e=this._myContextId),this._parent.createChildContext(e)},t.prototype.disposeContext=function(e){this._parent.disposeContext(e)},t}(f);i.CommandsRegistry.registerCommand(o.SET_CONTEXT_COMMAND_ID,function(e,t,n){e.get(o.IContextKeyService).createKey(String(t),n)})}),define(u[404],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t,n,i,r){if(this.resolvedKeybinding=e,e){var o=e.getDispatchParts(),s=o[0],a=o[1];this.keypressFirstPart=s,this.keypressChordPart=a}else this.keypressFirstPart=null,this.keypressChordPart=null;this.bubble=!!t&&94===t.charCodeAt(0),this.command=this.bubble?t.substr(1):t,this.commandArgs=n,this.when=i,this.isDefault=r}}();t.ResolvedKeybindingItem=n}),define(u[782],d([1,0,60,181]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t,n){var i=e.call(this)||this;return i._os=n,null===t?(i._firstPart=null,i._chordPart=null):2===t.type?(i._firstPart=t.firstPart,i._chordPart=t.chordPart):(i._firstPart=t,i._chordPart=null),i}return h(t,e),t.prototype._keyCodeToUILabel=function(e){if(2===this._os)switch(e){case 15:return"←";case 16:return"↑";case 17:return"→";case 18:return"↓"}return n.KeyCodeUtils.toString(e)},t.prototype._getUILabelForKeybinding=function(e){return e?e.isDuplicateModifierCase()?"":this._keyCodeToUILabel(e.keyCode):null},t.prototype.getLabel=function(){var e=this._getUILabelForKeybinding(this._firstPart),t=this._getUILabelForKeybinding(this._chordPart);return i.UILabelProvider.toLabel(this._firstPart,e,this._chordPart,t,this._os)},t.prototype._getAriaLabelForKeybinding=function(e){return e?e.isDuplicateModifierCase()?"":n.KeyCodeUtils.toString(e.keyCode):null},t.prototype.getAriaLabel=function(){var e=this._getAriaLabelForKeybinding(this._firstPart),t=this._getAriaLabelForKeybinding(this._chordPart);return i.AriaLabelProvider.toLabel(this._firstPart,e,this._chordPart,t,this._os)},t.prototype._keyCodeToElectronAccelerator=function(e){if(e>=93&&e<=108)return null;switch(e){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return n.KeyCodeUtils.toString(e)},t.prototype._getElectronAcceleratorLabelForKeybinding=function(e){return e?e.isDuplicateModifierCase()?null:this._keyCodeToElectronAccelerator(e.keyCode):null},t.prototype.getElectronAccelerator=function(){if(null!==this._chordPart)return null;var e=this._getElectronAcceleratorLabelForKeybinding(this._firstPart);return i.ElectronAcceleratorLabelProvider.toLabel(this._firstPart,e,null,null,this._os)},t.prototype._getUserSettingsLabelForKeybinding=function(e){return e?e.isDuplicateModifierCase()?"":n.KeyCodeUtils.toUserSettingsUS(e.keyCode):null},t.prototype.getUserSettingsLabel=function(){var e=this._getUserSettingsLabelForKeybinding(this._firstPart),t=this._getUserSettingsLabelForKeybinding(this._chordPart),n=i.UserSettingsLabelProvider.toLabel(this._firstPart,e,this._chordPart,t,this._os);return n?n.toLowerCase():n},t.prototype.isWYSIWYG=function(){return!0},t.prototype.isChord=function(){return!!this._chordPart},t.prototype.getParts=function(){return[this._toResolvedKeybindingPart(this._firstPart),this._toResolvedKeybindingPart(this._chordPart)]},t.prototype._toResolvedKeybindingPart=function(e){return e?new n.ResolvedKeybindingPart(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getUILabelForKeybinding(e),this._getAriaLabelForKeybinding(e)):null},t.prototype.getDispatchParts=function(){return[this._firstPart?t.getDispatchStr(this._firstPart):null,this._chordPart?t.getDispatchStr(this._chordPart):null]},t.getDispatchStr=function(e){if(e.isModifierKey())return null;var t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=n.KeyCodeUtils.toString(e.keyCode)},t}(n.ResolvedKeybinding);t.USLayoutResolvedKeybinding=r}),define(u[69],d([1,0,8,6]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ILifecycleService=i.createDecorator("lifecycleService");!function(e){e[e.CLOSE=1]="CLOSE",e[e.QUIT=2]="QUIT",e[e.RELOAD=3]="RELOAD",e[e.LOAD=4]="LOAD"}(t.ShutdownReason||(t.ShutdownReason={}));var r;!function(e){e[e.NewWindow=1]="NewWindow",e[e.ReloadedWindow=3]="ReloadedWindow",e[e.ReopenedWindow=4]="ReopenedWindow"}(r=t.StartupKind||(t.StartupKind={}));var o;!function(e){e[e.Starting=1]="Starting",e[e.Running=2]="Running",e[e.ShuttingDown=3]="ShuttingDown"}(o=t.LifecyclePhase||(t.LifecyclePhase={})),t.NullLifecycleService={_serviceBrand:null,phase:o.Running,startupKind:r.NewWindow,onDidChangePhase:n.default.None,onWillShutdown:n.default.None,onShutdown:n.default.None}}),define(u[90],d([1,0,176,6,5,17,18]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IListService=i.createDecorator("listService"),t.ListFocusContext=new o.RawContextKey("listFocus",!1);var a=function(){function e(e){var n=this;this.listFocusContext=t.ListFocusContext.bindTo(e),this.lists=[],this.focusChangeScheduler=new s.RunOnceScheduler(function(){return n.onFocusChange()},50)}return e.prototype.register=function(e,t){var i=this;if(this.indexOf(e)>=0)throw new Error("Cannot register the same widget multiple times");var o={widget:e,extraContextKeys:t};this.lists.push(o),e.isDOMFocused()&&this.setFocusedList(o);var s=[e.onDOMFocus(function(){return i.focusChangeScheduler.schedule()}),e.onDOMBlur(function(){return i.focusChangeScheduler.schedule()})];if(!(e instanceof n.List)){var a=e;s.push(a.onHighlightChange(function(){i.focusChangeScheduler.schedule()}))}return s.push({dispose:function(){i.lists.splice(i.lists.indexOf(o),1)}}),{dispose:function(){return r.dispose(s)}}},e.prototype.indexOf=function(e){for(var t=0;t<this.lists.length;t++)if(this.lists[t].widget===e)return t;return-1},e.prototype.onFocusChange=function(){for(var e,t=0;t<this.lists.length;t++){var n=this.lists[t];if(document.activeElement===n.widget.getHTMLElement()){e=n;break}}this.setFocusedList(e)},e.prototype.setFocusedList=function(e){e?(this.focusedTreeOrList=e.widget,this.listFocusContext.set(!0)):(this.focusedTreeOrList=void 0,this.listFocusContext.set(!1));for(var t=0;t<this.lists.length;t++){var n=this.lists[t];n!==e&&n.extraContextKeys&&n.extraContextKeys.forEach(function(e){return e.set(!1)})}e&&e.extraContextKeys&&e.extraContextKeys.forEach(function(e){return e.set(!0)})},e.prototype.getFocused=function(){return this.focusedTreeOrList},e}();a=v([y(0,o.IContextKeyService)],a),t.ListService=a}),define(u[785],d([1,0,34,79,24,8,36]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a;!function(e){e.get=function(e,t,n){if(e[t])return e[t][n]},e.set=function(e,t,n,i){e[t]||(e[t]=Object.create(null)),e[t][n]=i},e.remove=function(e,t,n){return!(!e[t]||!e[t][n]||(delete e[t][n],r.isEmptyObject(e[t])&&delete e[t],0))}}(a||(a={}));var c=function(){function e(e){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=Object.create(null),this._service=e,this._subscription=e.onMarkerChanged(this._update,this)}return e.prototype.dispose=function(){this._subscription.dispose(),this._data=void 0},e.prototype._update=function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t],r=i.toString(),o=this._data[r];o&&this._substract(o);var s=this._resourceStats(i);this._add(s),this._data[r]=s}},e.prototype._resourceStats=function(e){var t={errors:0,warnings:0,infos:0,unknowns:0};if(e.scheme===i.Schemas.inMemory||e.scheme===i.Schemas.walkThrough||e.scheme===i.Schemas.walkThroughSnippet)return t;for(var n=0,r=this._service.read({resource:e});n<r.length;n++){var o=r[n].severity;o===s.default.Error?t.errors+=1:o===s.default.Warning?t.warnings+=1:o===s.default.Info?t.infos+=1:t.unknowns+=1}return t},e.prototype._substract=function(e){this.errors-=e.errors,this.warnings-=e.warnings,this.infos-=e.infos,this.unknowns-=e.unknowns},e.prototype._add=function(e){this.errors+=e.errors,this.warnings+=e.warnings,this.infos+=e.infos,this.unknowns+=e.unknowns},e}(),l=function(){function e(){this._onMarkerChanged=new o.Emitter,this._onMarkerChangedEvent=o.debounceEvent(this._onMarkerChanged.event,e._debouncer,0),this._byResource=Object.create(null),this._byOwner=Object.create(null),this._stats=new c(this)}return e.prototype.dispose=function(){this._stats.dispose()},Object.defineProperty(e.prototype,"onMarkerChanged",{get:function(){return this._onMarkerChangedEvent},enumerable:!0,configurable:!0}),e.prototype.getStatistics=function(){return this._stats},e.prototype.remove=function(e,t){if(!n.isFalsyOrEmpty(t))for(var i=0,r=t;i<r.length;i++){var o=r[i];this.changeOne(e,o,void 0)}},e.prototype.changeOne=function(t,i,r){if(n.isFalsyOrEmpty(r)){var o=a.remove(this._byResource,i.toString(),t),s=a.remove(this._byOwner,t,i.toString());if(o!==s)throw new Error("invalid marker service state");o&&s&&this._onMarkerChanged.fire([i])}else{for(var c=[],l=0,u=r;l<u.length;l++){var d=u[l],h=e._toMarker(t,i,d);h&&c.push(h)}a.set(this._byResource,i.toString(),t,c),a.set(this._byOwner,t,i.toString(),c),this._onMarkerChanged.fire([i])}},e._toMarker=function(e,t,n){var i=n.code,r=n.severity,o=n.message,s=n.source,a=n.startLineNumber,c=n.startColumn,l=n.endLineNumber,u=n.endColumn;if(o)return i=i||null,a=a>0?a:1,c=c>0?c:1,l=l>=a?l:a,u=u>0?u:c,{resource:t,owner:e,code:i,severity:r,message:o,source:s,startLineNumber:a,startColumn:c,endLineNumber:l,endColumn:u}},e.prototype.changeAll=function(t,i){var r=[],o=this._byOwner[t];if(o){delete this._byOwner[t];for(var s in o){var c=a.get(this._byResource,s,t)[0];c&&r.push(c.resource),a.remove(this._byResource,s,t)}}if(!n.isFalsyOrEmpty(i)){for(var l=Object.create(null),u=0,d=i;u<d.length;u++){var h=d[u],s=h.resource,p=h.marker,f=e._toMarker(t,s,p);if(f){var g=l[s.toString()];g?g.push(f):(l[s.toString()]=[f],r.push(s))}}for(var s in l)a.set(this._byResource,s,t,l[s]),a.set(this._byOwner,t,s,l[s])}r.length>0&&this._onMarkerChanged.fire(r)},e.prototype.read=function(e){void 0===e&&(e=Object.create(null));var t=e.owner,n=e.resource,i=e.take;if((!i||i<0)&&(i=-1),t&&n)return(d=a.get(this._byResource,n.toString(),t))?d.slice(0,i>0?i:void 0):[];if(t||n){var r=t?this._byOwner[t]:this._byResource[n.toString()];if(!r)return[];d=[];for(var o in r)for(var s=0,c=r[o];s<c.length;s++){var l=c[s],u=d.push(l);if(i>0&&u===i)return d}return d}var d=[];for(var h in this._byResource)for(var p in this._byResource[h])for(var f=0,g=this._byResource[h][p];f<g.length;f++){var l=g[f],u=d.push(l);if(i>0&&u===i)return d}return d},e._debouncer=function(t,n){t||(e._dedupeMap=Object.create(null),t=[]);for(var i=0,r=n;i<r.length;i++){var o=r[i];void 0===e._dedupeMap[o.toString()]&&(e._dedupeMap[o.toString()]=!0,t.push(o))}return t},e}();t.MarkerService=l}),define(u[142],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IMarkerService=n.createDecorator("markerService")}),define(u[20],d([1,0,496,4,36,6,21]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CloseAction=new s.Action("close.message",n.localize(0,null),null,!0,function(){return i.TPromise.as(!0)}),t.LaterAction=new s.Action("later.message",n.localize(1,null),null,!0,function(){return i.TPromise.as(!0)}),t.CancelAction=new s.Action("cancel.message",n.localize(2,null),null,!0,function(){return i.TPromise.as(!0)}),t.IMessageService=o.createDecorator("messageService"),t.IChoiceService=o.createDecorator("choiceService"),t.Severity=r.default}),define(u[180],d([1,0,483,38,35,20,36,5,49,150,8]),function(e,t,n,i,r,o,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fillInActions=function(e,t,n,i){void 0===i&&(i=function(e){return"navigation"===e});var r=e.getActions(t);if(0!==r.length)for(var o=0,s=r;o<s.length;o++){var a=s[o],l=a[0],u=a[1];if(i(l)){for(var d=Array.isArray(n)?n:n.primary,h=0;h<u.length&&!(u[h].order>=0);h++);d.unshift.apply(d,u.slice(0,h));for(var p=0;p<d.length&&!(d[p]instanceof c.Separator);)p++;d.splice.apply(d,[p,0].concat(u.slice(h)))}else{var f=Array.isArray(n)?n:n.secondary;f.length>0&&f.push(new c.Separator),f.push.apply(f,u)}}},t.createActionItem=function(e,t,n){if(e instanceof r.MenuItemAction)return new p(e,t,n)};var d=new(function(e){function t(){var t=e.call(this)||this;return t._subscriptions=[],t._subscriptions.push(l.domEvent(document.body,"keydown")(function(e){return t.fire(e.altKey)})),t._subscriptions.push(l.domEvent(document.body,"keyup")(function(e){return t.fire(!1)})),t._subscriptions.push(l.domEvent(document.body,"mouseleave")(function(e){return t.fire(!1)})),t._subscriptions.push(l.domEvent(document.body,"blur")(function(e){return t.fire(!1)})),t}return h(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._subscriptions=a.dispose(this._subscriptions)},t}(u.Emitter)),p=function(e){function t(t,n,i){var r=e.call(this,void 0,t,{icon:!!t.class,label:!t.class})||this;return r._keybindingService=n,r._messageService=i,r._wantsAltCommand=!1,r}return h(t,e),Object.defineProperty(t.prototype,"_commandAction",{get:function(){return this._wantsAltCommand&&this._action.alt||this._action},enumerable:!0,configurable:!0}),t.prototype.onClick=function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.actionRunner.run(this._commandAction).done(void 0,function(e){return t._messageService.show(s.default.Error,e)})},t.prototype.render=function(t){var n=this;e.prototype.render.call(this,t);var i=!1,r=!1,o=function(){var e=i&&r;e!==n._wantsAltCommand&&(n._wantsAltCommand=e,n._updateLabel(),n._updateTooltip(),n._updateClass())};this._callOnDispose.push(d.event(function(e){r=e,o()})),this._callOnDispose.push(l.domEvent(t,"mouseleave")(function(e){i=!1,o()})),this._callOnDispose.push(l.domEvent(t,"mouseenter")(function(e){i=!0,o()}))},t.prototype._updateLabel=function(){this.options.label&&this.$e.text(this._commandAction.label)},t.prototype._updateTooltip=function(){var e=this.$e.getHTMLElement(),t=this._keybindingService.lookupKeybinding(this._commandAction.id),i=t&&t.getLabel();e.title=i?n.localize(0,null,this._commandAction.label,i):this._commandAction.label},t.prototype._updateClass=function(){if(this.options.icon){var e=this.$e.getHTMLElement();this._commandAction!==this._action?e.classList.remove(this._action.class):this._action.alt&&e.classList.remove(this._action.alt.class),e.classList.add("icon",this._commandAction.class)}},t}(c.ActionItem);p=v([y(1,i.IKeybindingService),y(2,o.IMessageService)],p),t.MenuItemActionItem=p}),define(u[789],d([1,0,4,20]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.choiceService=e}return e.prototype.call=function(e,t){switch(e){case"choose":return this.choiceService.choose(t[0],t[1],t[2],t[3],t[4])}return n.TPromise.wrapError(new Error("invalid command"))},e}();r=v([y(0,i.IChoiceService)],r),t.ChoiceChannel=r;var o=function(){function e(e){this.channel=e}return e.prototype.choose=function(e,t,n,i,r){return this.channel.call("choose",[e,t,n,i,r])},e}();t.ChoiceChannelClient=o}),define(u[136],d([1,0,52,16]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n.dirname(i.default.parse(e.toUrl("")).fsPath),o=n.join(r,"package.json");t.default=e.__$__nodeRequire(o)}),define(u[791],d([1,0,263,136]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCommonHTTPHeaders=function(){return n.getMachineId().then(function(e){return{"X-Market-Client-Id":"VSCode "+i.default.version,"User-Agent":"VSCode "+i.default.version,"X-Market-User-Id":e}})}}),define(u[80],d([1,0,52,16]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n.dirname(i.default.parse(e.toUrl("")).fsPath),o=n.join(r,"product.json"),s=e.__$__nodeRequire(o);process.env.VSCODE_DEV&&(s.nameShort+=" Dev",s.nameLong+=" Dev",s.dataFolderName+="-dev"),t.default=s}),define(u[793],d([1,0,143,1298,96,52,16,261,136,80]),function(e,t,n,i,r,o,s,a,c,l){"use strict";function u(){var e;return(e="win32"===process.platform?process.env.USERNAME:process.env.USER)?n.createHash("sha256").update(e).digest("hex").substr(0,6):""}function d(e,t){return process.env.XDG_RUNTIME_DIR?o.join(process.env.XDG_RUNTIME_DIR,c.default.name+"-"+c.default.version+"-"+t+".sock"):o.join(e,c.default.version+"-"+t+".sock")}function h(e){var t=u();return"\\\\.\\pipe\\"+(l.default.applicationName+(t?"-"+t:""))+"-"+c.default.version+"-"+e+"-sock"}function p(e,t){return"win32"===process.platform?h(t):d(e,t)}function f(e,t){var n=e.debugBrkPluginHost||e.debugPluginHost,i=Number(n)||(t?null:5870);return{port:i,break:!!i&&Boolean(!!e.debugBrkPluginHost)}}function g(e,t){if(e){var n=o.resolve(e);return o.normalize(e)===n?n:o.resolve(t.env.VSCODE_CWD||t.cwd(),e)}}function m(e,t){return g(e["user-data-dir"],t)||o.resolve(i.getDefaultUserDataPath(t.platform))}Object.defineProperty(t,"__esModule",{value:!0});var y=function(){function t(e,t){this._args=e,this._execPath=t}return Object.defineProperty(t.prototype,"args",{get:function(){return this._args},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"appRoot",{get:function(){return o.dirname(s.default.parse(e.toUrl("")).fsPath)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"execPath",{get:function(){return this._execPath},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userHome",{get:function(){return r.homedir()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userDataPath",{get:function(){return m(this._args,process)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"appNameLong",{get:function(){return l.default.nameLong},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"appQuality",{get:function(){return l.default.quality},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"appSettingsHome",{get:function(){return o.join(this.userDataPath,"User")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"appSettingsPath",{get:function(){return o.join(this.appSettingsHome,"settings.json")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"appKeybindingsPath",{get:function(){return o.join(this.appSettingsHome,"keybindings.json")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isExtensionDevelopment",{get:function(){return!!this._args.extensionDevelopmentPath},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backupHome",{get:function(){return o.join(this.userDataPath,"Backups")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backupWorkspacesPath",{get:function(){return o.join(this.backupHome,"workspaces.json")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extensionsPath",{get:function(){return g(this._args["extensions-dir"],process)||o.join(this.userHome,l.default.dataFolderName,"extensions")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extensionDevelopmentPath",{get:function(){return this._args.extensionDevelopmentPath?o.normalize(this._args.extensionDevelopmentPath):this._args.extensionDevelopmentPath},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extensionTestsPath",{get:function(){return this._args.extensionTestsPath?o.normalize(this._args.extensionTestsPath):this._args.extensionTestsPath},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disableExtensions",{get:function(){return this._args["disable-extensions"]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipGettingStarted",{get:function(){return this._args["skip-getting-started"]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"debugExtensionHost",{get:function(){return f(this._args,this.isBuilt)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBuilt",{get:function(){return!process.env.VSCODE_DEV},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verbose",{get:function(){return this._args.verbose},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wait",{get:function(){return this._args.wait},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logExtensionHostCommunication",{get:function(){return this._args.logExtensionHostCommunication},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"performance",{get:function(){return this._args.performance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"profileStartup",{get:function(){return this._args["prof-startup"]?{prefix:process.env.VSCODE_PROFILES_PREFIX,dir:r.homedir()}:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mainIPCHandle",{get:function(){return p(this.userDataPath,"main")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sharedIPCHandle",{get:function(){return p(this.userDataPath,"shared")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nodeCachedDataDir",{get:function(){return this.isBuilt?o.join(this.userDataPath,"CachedData",l.default.commit):void 0},enumerable:!0,configurable:!0}),t}();v([a.memoize],y.prototype,"appRoot",null),v([a.memoize],y.prototype,"userHome",null),v([a.memoize],y.prototype,"userDataPath",null),v([a.memoize],y.prototype,"appSettingsHome",null),v([a.memoize],y.prototype,"appSettingsPath",null),v([a.memoize],y.prototype,"appKeybindingsPath",null),v([a.memoize],y.prototype,"isExtensionDevelopment",null),v([a.memoize],y.prototype,"backupHome",null),v([a.memoize],y.prototype,"backupWorkspacesPath",null),v([a.memoize],y.prototype,"extensionsPath",null),v([a.memoize],y.prototype,"extensionDevelopmentPath",null),v([a.memoize],y.prototype,"extensionTestsPath",null),v([a.memoize],y.prototype,"debugExtensionHost",null),v([a.memoize],y.prototype,"profileStartup",null),v([a.memoize],y.prototype,"mainIPCHandle",null),v([a.memoize],y.prototype,"sharedIPCHandle",null),v([a.memoize],y.prototype,"nodeCachedDataDir",null),t.EnvironmentService=y,t.parseExtensionHostPort=f,t.parseUserDataDir=m}),define(u[794],d([1,0,16,323,79,4,63,28,32]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){this._editorService=e,this._commandService=t}return e.prototype.open=function(e,t){var s,l=e.scheme,u=e.path,d=e.query,h=e.fragment;if(l===r.Schemas.http||l===r.Schemas.https)window.open(e.toString(!0));else if("command"===l&&c.CommandsRegistry.getCommand(u)){var p=[];try{p=i.parse(d),Array.isArray(p)||(p=[p])}catch(e){}s=(v=this._commandService).executeCommand.apply(v,[u].concat(p))}else{var f=void 0,g=/^L?(\d+)(?:,(\d+))?/.exec(h);if(g&&(f={startLineNumber:parseInt(g[1]),startColumn:g[2]?parseInt(g[2]):1},e=e.with({fragment:""})),!e.scheme)return o.TPromise.as(void 0);e.scheme===r.Schemas.file&&(e=n.default.file(a.normalize(e.fsPath))),s=this._editorService.openEditor({resource:e,options:{selection:f}},t&&t.openToSide)}return o.TPromise.as(s);var v},e}();l=v([y(0,s.IEditorService),y(1,c.ICommandService)],l),t.OpenerService=l}),define(u[119],d([1,0,4,6]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IOpenerService=i.createDecorator("openerService"),t.NullOpenerService=Object.freeze({_serviceBrand:void 0,open:function(){return n.TPromise.as(void 0)}})}),define(u[796],d([1,0,358,359,9,194,119,16,7,242]),function(e,t,n,i,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e){this._editor=e,this._lineNumber=-1}return e.prototype.setLineNumber=function(e){this._lineNumber=e,this._result=[]},e.prototype.clearResult=function(){this._result=[]},e.prototype.computeSync=function(){for(var e=function(e){return{value:e}},t=this._editor.getLineDecorations(this._lineNumber),n=[],i=0,r=t.length;i<r;i++){var o=t[i];if(o.options.glyphMarginClassName){var s=o.options.glyphMarginHoverMessage;(function(e){return e&&(!Array.isArray(e)||e.length>0)})(s)&&(Array.isArray(s)?n=n.concat(s.map(e)):n.push(e(s)))}}return n},e.prototype.onResult=function(e,t){this._result=this._result.concat(e)},e.prototype.getResult=function(){return this._result},e.prototype.getResultWithLoadingMessage=function(){return this.getResult()},e}(),d=function(e){function t(i,r,o){var a=e.call(this,t.ID,i)||this;return a.openerService=r,a.modeService=o,a.openerService=r||s.NullOpenerService,a._lastLineNumber=-1,a._computer=new u(a._editor),a._hoverOperation=new n.HoverOperation(a._computer,function(e){return a._withResult(e)},null,function(e){return a._withResult(e)}),a}return h(t,e),t.prototype.dispose=function(){this._hoverOperation.cancel(),e.prototype.dispose.call(this)},t.prototype.onModelDecorationsChanged=function(){this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start())},t.prototype.startShowingAt=function(e){this._lastLineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=e,this._computer.setLineNumber(e),this._hoverOperation.start())},t.prototype.hide=function(){this._lastLineNumber=-1,this._hoverOperation.cancel(),e.prototype.hide.call(this)},t.prototype._withResult=function(e){this._messages=e,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()},t.prototype._renderMessages=function(e,t){var n=this,i=document.createDocumentFragment();t.forEach(function(e){var t=o.renderMarkedString(e.value,{actionCallback:function(e){return n.openerService.open(a.default.parse(e)).then(void 0,c.onUnexpectedError)},codeBlockRenderer:function(e,t){var i=n.modeService.getModeIdForLanguageName(e);return n.modeService.getOrCreateMode(i).then(function(e){return'<div class="code">'+l.tokenizeToString(t,i)+"</div>"})}});i.appendChild(r.$("div.hover-row",null,t))}),this.updateContents(i),this.showAt(e)},t}(i.GlyphHoverWidget);d.ID="editor.contrib.modesGlyphHoverWidget",t.ModesGlyphHoverWidget=d}),define(u[797],d([1,0,116,794,119]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.registerSingleton(r.IOpenerService,i.OpenerService)}),define(u[109],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IProgressService=n.createDecorator("progressService"),t.emptyProgress=Object.freeze({report:function(){}});var i=function(){function e(e){this._callback=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e.prototype.report=function(e){this._value=e,this._callback()},e}();t.Progress=i;!function(e){e[e.Scm=1]="Scm",e[e.Window=10]="Window"}(t.ProgressLocation||(t.ProgressLocation={})),t.IProgressService2=n.createDecorator("progressService2")}),define(u[54],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IQuickOpenService=n.createDecorator("quickOpenService")}),define(u[15],d([1,0,24,144]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.data={}}return e.prototype.add=function(e,t){i.ok(n.isString(e)),i.ok(n.isObject(t)),i.ok(!this.data.hasOwnProperty(e),"There is already an extension with this id"),this.data[e]=t},e.prototype.knows=function(e){return this.data.hasOwnProperty(e)},e.prototype.as=function(e){return this.data[e]||null},e}();t.Registry=new r;var o=function(){function e(){this.toBeInstantiated=[],this.instances=[]}return e.prototype.setInstantiationService=function(e){for(this.instantiationService=e;this.toBeInstantiated.length>0;){var t=this.toBeInstantiated.shift();this.instantiate(t)}},e.prototype.instantiate=function(e){var t=this.instantiationService.createInstance(e);this.instances.push(t)},e.prototype._register=function(e){this.instantiationService?this.instantiate(e):this.toBeInstantiated.push(e)},e.prototype._getInstances=function(){return this.instances.slice(0)},e.prototype._setInstances=function(e){this.instances=e},e}();t.BaseRegistry=o}),define(u[68],d([1,0,15]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.editorContribution=function(e){r.INSTANCE.registerEditorBrowserContribution(e)};!function(e){e.getEditorContributions=function(){return r.INSTANCE.getEditorBrowserContributions()}}(t.EditorBrowserRegistry||(t.EditorBrowserRegistry={}));var i={EditorContributions:"editor.contributions"},r=function(){function e(){this.editorContributions=[]}return e.prototype.registerEditorBrowserContribution=function(e){this.editorContributions.push(e)},e.prototype.getEditorBrowserContributions=function(){return this.editorContributions.slice(0)},e}();r.INSTANCE=new r,n.Registry.add(i.EditorContributions,r.INSTANCE)}),define(u[172],d([1,0,748,8,15,112,46]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Extensions={ModesRegistry:"editor.modesRegistry"};var a=function(){function e(){this._onDidAddLanguages=new i.Emitter,this.onDidAddLanguages=this._onDidAddLanguages.event,this._languages=[]}return e.prototype.registerLanguage=function(e){this._languages.push(e),this._onDidAddLanguages.fire([e])},e.prototype.registerLanguages=function(e){this._languages=this._languages.concat(e),this._onDidAddLanguages.fire(e)},e.prototype.getLanguages=function(){return this._languages.slice(0)},e}();t.EditorModesRegistry=a,t.ModesRegistry=new a,r.Registry.add(t.Extensions.ModesRegistry,t.ModesRegistry),t.PLAINTEXT_MODE_ID="plaintext",t.PLAINTEXT_LANGUAGE_IDENTIFIER=new s.LanguageIdentifier(t.PLAINTEXT_MODE_ID,1),t.ModesRegistry.registerLanguage({id:t.PLAINTEXT_MODE_ID,extensions:[".txt",".gitignore"],aliases:[n.localize(0,null),"text"],mimetypes:["text/plain"]}),o.LanguageConfigurationRegistry.register(t.PLAINTEXT_LANGUAGE_IDENTIFIER,{brackets:[["(",")"],["[","]"],["{","}"]]})}),define(u[803],d([1,0,746,79,8,36,4,142,14,33,433,11,23,124,172,214,149,77]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,m,b){"use strict";function S(e){return e.toString()}Object.defineProperty(t,"__esModule",{value:!0});var _=function(){function e(e,t){var n=this;this.model=e,this._markerDecorations=[],this._modelEventsListener=e.addBulkListener(function(e){return t(n,e)})}return e.prototype.dispose=function(){this._markerDecorations=this.model.deltaDecorations(this._markerDecorations,[]),this._modelEventsListener.dispose(),this._modelEventsListener=null,this.model=null},e.prototype.getModelId=function(){return S(this.model.uri)},e.prototype.acceptMarkerDecorations=function(e){this._markerDecorations=this.model.deltaDecorations(this._markerDecorations,e)},e}(),E=function(){function e(){}return e.setMarkers=function(e,t){var n=this,i=t.read({resource:e.model.uri,take:500}).map(function(t){return{range:n._createDecorationRange(e.model,t),options:n._createDecorationOption(t)}});e.acceptMarkerDecorations(i)},e._createDecorationRange=function(e,t){var n=e.validateRange(new c.Range(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn)),i=new c.Range(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn);if(i.isEmpty()){var r=e.getWordAtPosition(i.getStartPosition());if(r)i=new c.Range(i.startLineNumber,r.startColumn,i.endLineNumber,r.endColumn);else{var o=e.getLineLastNonWhitespaceColumn(n.startLineNumber)||e.getLineMaxColumn(n.startLineNumber);1===o||(i=i.endColumn>=o?new c.Range(i.startLineNumber,o-1,i.endLineNumber,o):new c.Range(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn+1))}}else if(t.endColumn===Number.MAX_VALUE&&1===t.startColumn&&i.startLineNumber===i.endLineNumber){var s=e.getLineFirstNonWhitespaceColumn(t.startLineNumber);s<i.endColumn&&(i=new c.Range(i.startLineNumber,s,i.endLineNumber,i.endColumn),t.startColumn=s)}return i},e._createDecorationOption=function(e){var t,i,r,s;switch(e.severity){case o.default.Ignore:break;case o.default.Warning:case o.default.Info:t=b.ClassName.EditorWarningDecoration,i="rgba(18,136,18,0.7)",r="rgba(18,136,18,0.7)",s="rgba(50,255,50,1)";break;case o.default.Error:default:t=b.ClassName.EditorErrorDecoration,i="rgba(255,18,18,0.7)",r="rgba(255,18,18,0.7)",s="rgba(255,50,50,1)"}var a=null,c=e.message,u=e.source;return"string"==typeof c&&(c=c.trim(),u&&(c=/\n/g.test(c)?n.localize(0,null,u,c):n.localize(1,null,u,c)),a=[{language:"_",value:c}]),{stickiness:l.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:t,hoverMessage:a,showIfCollapsed:!0,overviewRuler:{color:i,darkColor:r,hcColor:s,position:l.OverviewRulerLane.Right}}},e}(),C=d.isLinux||d.isMacintosh?l.DefaultEndOfLine.LF:l.DefaultEndOfLine.CRLF,w=function(){function e(e,t){var n=this;this._markerService=e,this._configurationService=t,this._models={},this._modelCreationOptionsByLanguage=Object.create(null),this._onModelAdded=new r.Emitter,this._onModelRemoved=new r.Emitter,this._onModelModeChanged=new r.Emitter,this._markerService&&(this._markerServiceSubscription=this._markerService.onMarkerChanged(this._handleMarkerChange,this)),this._configurationServiceSubscription=this._configurationService.onDidUpdateConfiguration(function(e){return n._updateModelOptions()}),this._updateModelOptions()}return e._readModelOptions=function(e){var t=p.EDITOR_MODEL_DEFAULTS.tabSize;if(e.editor&&void 0!==e.editor.tabSize){var n=parseInt(e.editor.tabSize,10);isNaN(n)||(t=n)}var i=p.EDITOR_MODEL_DEFAULTS.insertSpaces;e.editor&&void 0!==e.editor.insertSpaces&&(i="false"!==e.editor.insertSpaces&&Boolean(e.editor.insertSpaces));var r=C,o=e.files&&e.files.eol;"\r\n"===o?r=l.DefaultEndOfLine.CRLF:"\n"===o&&(r=l.DefaultEndOfLine.LF);var s=p.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;e.editor&&void 0!==e.editor.trimAutoWhitespace&&(s="false"!==e.editor.trimAutoWhitespace&&Boolean(e.editor.trimAutoWhitespace));var a=p.EDITOR_MODEL_DEFAULTS.detectIndentation;return e.editor&&void 0!==e.editor.detectIndentation&&(a="false"!==e.editor.detectIndentation&&Boolean(e.editor.detectIndentation)),{tabSize:t,insertSpaces:i,detectIndentation:a,defaultEOL:r,trimAutoWhitespace:s}},e.prototype.getCreationOptions=function(t){var n=this._modelCreationOptionsByLanguage[t];return n||(n=e._readModelOptions(this._configurationService.getConfiguration(null,{overrideIdentifier:t})),this._modelCreationOptionsByLanguage[t]=n),n},e.prototype._updateModelOptions=function(){var t=this._modelCreationOptionsByLanguage;this._modelCreationOptionsByLanguage=Object.create(null);for(var n=Object.keys(this._models),i=0,r=n.length;i<r;i++){var o=n[i],s=this._models[o],a=s.model.getLanguageIdentifier().language,c=t[a],l=this.getCreationOptions(a);e._setModelOptionsForModel(s.model,l,c)}},e._setModelOptionsForModel=function(e,t,n){n&&n.detectIndentation===t.detectIndentation&&n.insertSpaces===t.insertSpaces&&n.tabSize===t.tabSize&&n.trimAutoWhitespace===t.trimAutoWhitespace||(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,trimAutoWhitespace:t.trimAutoWhitespace}))},e.prototype.dispose=function(){this._markerServiceSubscription&&this._markerServiceSubscription.dispose(),this._configurationServiceSubscription.dispose()},e.prototype._handleMarkerChange=function(e){var t=this;e.forEach(function(e){var n=S(e),i=t._models[n];i&&E.setMarkers(i,t._markerService)})},e.prototype._cleanUp=function(e){var t=this;e.uri.scheme!==i.Schemas.inMemory&&e.uri.scheme!==i.Schemas.internal&&e.uri.scheme!==i.Schemas.vscode||this._markerService&&this._markerService.read({resource:e.uri}).map(function(e){return e.owner}).forEach(function(n){return t._markerService.remove(n,[e.uri])})},e.prototype._createModelData=function(e,t,n){var i=this,r=this.getCreationOptions(t.language),o="string"==typeof e?g.RawTextSource.fromString(e):e,s=new u.Model(o,r,t,n),a=S(s.uri);if(this._models[a])throw new Error("ModelService: Cannot add model because it already exists!");var c=new _(s,function(e,t){return i._onModelEvents(e,t)});return this._models[a]=c,c},e.prototype.updateModel=function(e,t){var n=this.getCreationOptions(e.getLanguageIdentifier().language),i=g.TextSource.create(t,n.defaultEOL);e.equals(i)||e.setValueFromTextSource(i)},e.prototype.createModel=function(e,t,n){var i;return!t||s.TPromise.is(t)?(i=this._createModelData(e,f.PLAINTEXT_LANGUAGE_IDENTIFIER,n),this.setMode(i.model,t)):i=this._createModelData(e,t.getLanguageIdentifier(),n),this._markerService&&E.setMarkers(i,this._markerService),this._onModelAdded.fire(i.model),i.model},e.prototype.setMode=function(e,t){t&&(s.TPromise.is(t)?t.then(function(t){e.isDisposed()||e.setMode(t.getLanguageIdentifier())}):e.setMode(t.getLanguageIdentifier()))},e.prototype.destroyModel=function(e){var t=this._models[S(e)];t&&t.model.dispose()},e.prototype.getModels=function(){for(var e=[],t=Object.keys(this._models),n=0,i=t.length;n<i;n++){var r=t[n];e.push(this._models[r].model)}return e},e.prototype.getModel=function(e){var t=S(e),n=this._models[t];return n?n.model:null},Object.defineProperty(e.prototype,"onModelAdded",{get:function(){return this._onModelAdded?this._onModelAdded.event:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onModelRemoved",{get:function(){return this._onModelRemoved?this._onModelRemoved.event:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onModelModeChanged",{get:function(){return this._onModelModeChanged?this._onModelModeChanged.event:null},enumerable:!0,configurable:!0}),e.prototype._onModelDisposing=function(e){var t=S(e.uri),n=this._models[t];delete this._models[t],n.dispose(),this._cleanUp(e),this._onModelRemoved.fire(e)},e.prototype._onModelEvents=function(t,n){for(var i=0,r=n.length;i<r;i++)if((o=n[i]).type===m.TextModelEventType.ModelDispose)return void this._onModelDisposing(t.model);for(var i=0,r=n.length;i<r;i++){var o=n[i];if(o.type===m.TextModelEventType.ModelLanguageChanged){var s=t.model,a=o.data.oldLanguage,c=s.getLanguageIdentifier().language,l=this.getCreationOptions(a),u=this.getCreationOptions(c);e._setModelOptionsForModel(s,u,l),this._onModelModeChanged.fire({model:s,oldModeId:a})}}},e}();w=v([y(0,a.IMarkerService),y(1,h.IConfigurationService)],w),t.ModelServiceImpl=w}),define(u[804],d([1,0,5,11,73,68,37,14,53,840,77,1057]),function(e,t,n,i,r,o,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=h=function(){function e(e){var t=this;this._editor=e,this._toUnhook=[],this._toUnhook.push(this._editor.onMouseDown(function(e){return t._onEditorMouseDown(e)})),this._toUnhook.push(this._editor.onMouseUp(function(e){return t._onEditorMouseUp(e)})),this._toUnhook.push(this._editor.onMouseDrag(function(e){return t._onEditorMouseDrag(e)})),this._toUnhook.push(this._editor.onMouseDrop(function(e){return t._onEditorMouseDrop(e)})),this._toUnhook.push(this._editor.onKeyDown(function(e){return t.onEditorKeyDown(e)})),this._toUnhook.push(this._editor.onKeyUp(function(e){return t.onEditorKeyUp(e)})),this._dndDecorationIds=[],this._mouseDown=!1,this._modiferPressed=!1,this._dragSelection=null}return e.get=function(e){return e.getContribution(h.ID)},e.prototype.onEditorKeyDown=function(e){this._editor.getConfiguration().dragAndDrop&&(e[h.TRIGGER_MODIFIER]&&(this._modiferPressed=!0),this._mouseDown&&e[h.TRIGGER_MODIFIER]&&this._editor.updateOptions({mouseStyle:"copy"}))},e.prototype.onEditorKeyUp=function(e){this._editor.getConfiguration().dragAndDrop&&(e[h.TRIGGER_MODIFIER]&&(this._modiferPressed=!1),this._mouseDown&&e.keyCode===h.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))},e.prototype._onEditorMouseDown=function(e){this._mouseDown=!0},e.prototype._onEditorMouseUp=function(e){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})},e.prototype._onEditorMouseDrag=function(e){var t=e.target;if(null===this._dragSelection){var n=this._editor.getSelections().filter(function(e){return e.containsPosition(t.position)});if(1!==n.length)return;this._dragSelection=n[0]}e.event[h.TRIGGER_MODIFIER]?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position)},e.prototype._onEditorMouseDrop=function(e){if(e.target&&(this._hitContent(e.target)||this._hitMargin(e.target))&&e.target.position){var t=new s.Position(e.target.position.lineNumber,e.target.position.column);if(null===this._dragSelection){var n=this._editor.getSelections().map(function(e){return e.containsPosition(t)?new c.Selection(t.lineNumber,t.column,t.lineNumber,t.column):e});this._editor.setSelections(n)}else(!this._dragSelection.containsPosition(t)||(e.event[h.TRIGGER_MODIFIER]||this._modiferPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(h.ID,new l.DragAndDropCommand(this._dragSelection,t,e.event[h.TRIGGER_MODIFIER]||this._modiferPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1},e.prototype.showAt=function(e){var t=this;this._editor.changeDecorations(function(n){var i=[];i.push({range:new a.Range(e.lineNumber,e.column,e.lineNumber,e.column),options:h._DECORATION_OPTIONS}),t._dndDecorationIds=n.deltaDecorations(t._dndDecorationIds,i)}),this._editor.revealPosition(e)},e.prototype._removeDecoration=function(){var e=this;this._editor.changeDecorations(function(t){t.deltaDecorations(e._dndDecorationIds,[])})},e.prototype._hitContent=function(e){return e.type===r.MouseTargetType.CONTENT_TEXT||e.type===r.MouseTargetType.CONTENT_EMPTY},e.prototype._hitMargin=function(e){return e.type===r.MouseTargetType.GUTTER_GLYPH_MARGIN||e.type===r.MouseTargetType.GUTTER_LINE_NUMBERS||e.type===r.MouseTargetType.GUTTER_LINE_DECORATIONS},e.prototype.getId=function(){return h.ID},e.prototype.dispose=function(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modiferPressed=!1,this._toUnhook=n.dispose(this._toUnhook)},e}();d.ID="editor.contrib.dragAndDrop",d.TRIGGER_MODIFIER=i.isMacintosh?"altKey":"ctrlKey",d.TRIGGER_KEY_VALUE=i.isMacintosh?6:5,d._DECORATION_OPTIONS=u.ModelDecorationOptions.register({className:"dnd-target"}),d=h=v([o.editorContribution],d),t.DragAndDropController=d;var h}),define(u[123],d([1,0,15,81]),function(e,t,n,i){"use strict";function r(e){return e.length>0&&"#"===e.charAt(e.length-1)?e.substring(0,e.length-1):e}Object.defineProperty(t,"__esModule",{value:!0}),t.Extensions={JSONContribution:"base.contributions.json"};var o=new(function(){function e(){this.schemasById={},this.eventEmitter=new i.EventEmitter}return e.prototype.addRegistryChangedListener=function(e){return this.eventEmitter.addListener("registryChanged",e)},e.prototype.registerSchema=function(e,t){this.schemasById[r(e)]=t,this.eventEmitter.emit("registryChanged",{})},e.prototype.getSchemaContributions=function(){return{schemas:this.schemasById}},e}());n.Registry.add(t.Extensions.JSONContribution,o)}),define(u[64],d([1,0,485,8,15,24,12,123]),function(e,t,n,i,r,o,s,a){"use strict";function c(e){switch(Array.isArray(e)?e[0]:e){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}function l(e){return t.OVERRIDE_PROPERTY_PATTERN.test(e)?n.localize(3,null,e):void 0!==m.getConfigurationProperties()[e]?n.localize(4,null,e):null}Object.defineProperty(t,"__esModule",{value:!0}),t.Extensions={Configuration:"base.contributions.configuration"};var u;!function(e){e[e.WORKSPACE=1]="WORKSPACE",e[e.FOLDER=2]="FOLDER"}(u=t.ConfigurationScope||(t.ConfigurationScope={}));var d="vscode://schemas/settings";t.editorConfigurationSchemaId="vscode://schemas/settings/editor";var h=r.Registry.as(a.Extensions.JSONContribution),p=function(){function e(){this.overrideIdentifiers=[],this.configurationContributors=[],this.configurationSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown configuration setting"},this.editorConfigurationSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting"},this._onDidRegisterConfiguration=new i.Emitter,this.configurationProperties={},this.computeOverridePropertyPattern(),h.registerSchema(d,this.configurationSchema),h.registerSchema(t.editorConfigurationSchemaId,this.editorConfigurationSchema)}return Object.defineProperty(e.prototype,"onDidRegisterConfiguration",{get:function(){return this._onDidRegisterConfiguration.event},enumerable:!0,configurable:!0}),e.prototype.registerConfiguration=function(e,t){void 0===t&&(t=!0),this.registerConfigurations([e],t)},e.prototype.registerConfigurations=function(e,t){var n=this;void 0===t&&(t=!0),e.forEach(function(e){n.validateAndRegisterProperties(e,t),n.configurationContributors.push(e),n.registerJSONConfiguration(e),n.updateSchemaForOverrideSettingsConfiguration(e)}),this._onDidRegisterConfiguration.fire(this)},e.prototype.registerOverrideIdentifiers=function(e){(t=this.overrideIdentifiers).push.apply(t,e),this.updateOverridePropertyPatternKey();var t},e.prototype.registerDefaultConfigurations=function(e){for(var i={id:"defaultOverrides",title:n.localize(0,null),properties:{}},r=0,o=e;r<o.length;r++){var s=o[r];for(var a in s.defaults){var c=s.defaults[a];t.OVERRIDE_PROPERTY_PATTERN.test(a)&&"object"==typeof c&&(i.properties[a]={type:"object",default:c,description:n.localize(1,null,a),$ref:t.editorConfigurationSchemaId})}}Object.keys(i.properties).length&&this.registerConfiguration(i,!1)},e.prototype.validateAndRegisterProperties=function(e,t,n,i){void 0===t&&(t=!0),void 0===n&&(n=u.WORKSPACE),void 0===i&&(i=!1),n=void 0!==e.scope&&null!==e.scope?e.scope:n,i=e.overridable||i;var r=e.properties;if(r)for(var s in r){var a=void 0;if(t&&(a=l(s)))console.warn(a),delete r[s];else{var d=r[s],h=d.default;o.isUndefined(h)&&(d.default=c(d.type)),i&&(d.overridable=!0),void 0===d.scope&&(d.scope=n),this.configurationProperties[s]=r[s]}}var p=e.allOf;if(p)for(var f=0,g=p;f<g.length;f++){var v=g[f];this.validateAndRegisterProperties(v,t,n,i)}},e.prototype.validateProperty=function(e){return!t.OVERRIDE_PROPERTY_PATTERN.test(e)&&void 0!==this.getConfigurationProperties()[e]},e.prototype.getConfigurations=function(){return this.configurationContributors},e.prototype.getConfigurationProperties=function(){return this.configurationProperties},e.prototype.registerJSONConfiguration=function(e){function t(e){var i=e.properties;if(i)for(var r in i)n.properties[r]=i[r];var o=e.allOf;o&&o.forEach(t)}var n=this.configurationSchema;t(e),h.registerSchema(d,n)},e.prototype.updateSchemaForOverrideSettingsConfiguration=function(e){e.id!==f&&(this.update(e,this.editorConfigurationSchema),h.registerSchema(t.editorConfigurationSchemaId,this.editorConfigurationSchema))},e.prototype.updateOverridePropertyPatternKey=function(){var e=this.configurationSchema.patternProperties[this.overridePropertyPattern];e||(e={type:"object",description:n.localize(2,null),errorMessage:"Unknown Identifier. Use language identifiers",$ref:t.editorConfigurationSchemaId}),delete this.configurationSchema.patternProperties[this.overridePropertyPattern],this.computeOverridePropertyPattern(),this.configurationSchema.patternProperties[this.overridePropertyPattern]=e,h.registerSchema(d,this.configurationSchema)},e.prototype.update=function(e,t){var n=this,i=e.properties;if(i)for(var r in i)i[r].overridable&&(t.properties[r]=this.getConfigurationProperties()[r]);var o=e.allOf;o&&o.forEach(function(e){return n.update(e,t)})},e.prototype.computeOverridePropertyPattern=function(){this.overridePropertyPattern=this.overrideIdentifiers.length?v.replace("${0}",this.overrideIdentifiers.map(function(e){return s.createRegExp(e,!1).source}).join("|")):g},e}(),f="override",g="\\[.*\\]$",v="\\[(${0})\\]$";t.OVERRIDE_PROPERTY_PATTERN=new RegExp(g);var m=new p;r.Registry.add(t.Extensions.Configuration,m),t.validateProperty=l}),define(u[228],d([1,0,774,8,5,26,11,64,15,295,285,124]),function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=d.EDITOR_DEFAULTS,f=d.EDITOR_FONT_DEFAULTS,g=d.EDITOR_MODEL_DEFAULTS;t.TabFocus=new(function(){function e(){this._tabFocus=!1,this._onDidChangeTabFocus=new i.Emitter,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}return e.prototype.getTabFocusMode=function(){return this._tabFocus},e.prototype.setTabFocusMode=function(e){this._tabFocus!==e&&(this._tabFocus=e,this._onDidChangeTabFocus.fire(this._tabFocus))},e}());var v=function(e){function n(n){var r=e.call(this)||this;return r._onDidChange=r._register(new i.Emitter),r.onDidChange=r._onDidChange.event,r._rawOptions=o.mixin({},n||{}),r._rawOptions.scrollbar=o.mixin({},r._rawOptions.scrollbar||{}),r._rawOptions.minimap=o.mixin({},r._rawOptions.minimap||{}),r._rawOptions.find=o.mixin({},r._rawOptions.find||{}),r._validatedOptions=d.EditorOptionsValidator.validate(r._rawOptions,p),r.editor=null,r._isDominatedByLongLines=!1,r._lineNumbersDigitCount=1,r._register(u.EditorZoom.onDidChangeZoomLevel(function(e){return r._recomputeOptions()})),r._register(t.TabFocus.onDidChangeTabFocus(function(e){return r._recomputeOptions()})),r}return h(n,e),n.prototype.dispose=function(){e.prototype.dispose.call(this)},n.prototype._recomputeOptions=function(){var e=this.editor,t=this._computeInternalOptions();e&&e.equals(t)||(this.editor=t,e&&this._onDidChange.fire(e.createChangeEvent(t)))},n.prototype.getRawOptions=function(){return this._rawOptions},n.prototype._computeInternalOptions=function(){var e=this._validatedOptions,n=this._getEnvConfiguration(),i=l.BareFontInfo.createFromRawSettings(this._rawOptions,n.zoomLevel),r={outerWidth:n.outerWidth,outerHeight:n.outerHeight,fontInfo:this.readConfiguration(i),extraEditorClassName:n.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:n.emptySelectionClipboard,pixelRatio:n.pixelRatio,tabFocusMode:t.TabFocus.getTabFocusMode(),accessibilitySupport:n.accessibilitySupport};return d.InternalEditorOptionsFactory.createInternalEditorOptions(r,e)},n.prototype.updateOptions=function(e){this._rawOptions=o.mixin(this._rawOptions,e||{}),this._validatedOptions=d.EditorOptionsValidator.validate(this._rawOptions,p),this._recomputeOptions()},n.prototype.setIsDominatedByLongLines=function(e){this._isDominatedByLongLines=e,this._recomputeOptions()},n.prototype.setMaxLineNumber=function(e){var t=n._digitCount(e);this._lineNumbersDigitCount!==t&&(this._lineNumbersDigitCount=t,this._recomputeOptions())},n._digitCount=function(e){for(var t=0;e;)e=Math.floor(e/10),t++;return t||1},n}(r.Disposable);t.CommonEditorConfiguration=v;var m=c.Registry.as(a.Extensions.Configuration),y={id:"editor",order:5,type:"object",title:n.localize(0,null),overridable:!0,scope:a.ConfigurationScope.FOLDER,properties:{"editor.fontFamily":{type:"string",default:f.fontFamily,description:n.localize(1,null)},"editor.fontWeight":{type:"string",enum:["normal","bold","100","200","300","400","500","600","700","800","900"],default:f.fontWeight,description:n.localize(2,null)},"editor.fontSize":{type:"number",default:f.fontSize,description:n.localize(3,null)},"editor.lineHeight":{type:"number",default:f.lineHeight,description:n.localize(4,null)},"editor.letterSpacing":{type:"number",default:f.letterSpacing,description:n.localize(5,null)},"editor.lineNumbers":{type:"string",enum:["off","on","relative"],default:"on",description:n.localize(6,null)},"editor.rulers":{type:"array",items:{type:"number"},default:p.viewInfo.rulers,description:n.localize(7,null)},"editor.wordSeparators":{type:"string",default:p.wordSeparators,description:n.localize(8,null)},"editor.tabSize":{type:"number",default:g.tabSize,minimum:1,description:n.localize(9,null),errorMessage:n.localize(10,null)},"editor.insertSpaces":{type:"boolean",default:g.insertSpaces,description:n.localize(11,null),errorMessage:n.localize(12,null)},"editor.detectIndentation":{type:"boolean",default:g.detectIndentation,description:n.localize(13,null)},"editor.roundedSelection":{type:"boolean",default:p.viewInfo.roundedSelection,description:n.localize(14,null)},"editor.scrollBeyondLastLine":{type:"boolean",default:p.viewInfo.scrollBeyondLastLine,description:n.localize(15,null)},"editor.minimap.enabled":{type:"boolean",default:p.viewInfo.minimap.enabled,description:n.localize(16,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:p.viewInfo.minimap.showSlider,description:n.localize(17,null)},"editor.minimap.renderCharacters":{type:"boolean",default:p.viewInfo.minimap.renderCharacters,description:n.localize(18,null)},"editor.minimap.maxColumn":{type:"number",default:p.viewInfo.minimap.maxColumn,description:n.localize(19,null)},"editor.find.seedSearchStringFromSelection":{type:"boolean",default:p.contribInfo.find.seedSearchStringFromSelection,description:n.localize(20,null)},"editor.find.autoFindInSelection":{type:"boolean",default:p.contribInfo.find.autoFindInSelection,description:n.localize(21,null)},"editor.wordWrap":{type:"string",enum:["off","on","wordWrapColumn","bounded"],enumDescriptions:[n.localize(22,null),n.localize(23,null),n.localize(24,null),n.localize(25,null)],default:p.wordWrap,description:n.localize(26,null)},"editor.wordWrapColumn":{type:"integer",default:p.wordWrapColumn,minimum:1,description:n.localize(27,null)},"editor.wrappingIndent":{type:"string",enum:["none","same","indent"],default:"same",description:n.localize(28,null)},"editor.mouseWheelScrollSensitivity":{type:"number",default:p.viewInfo.scrollbar.mouseWheelScrollSensitivity,description:n.localize(29,null)},"editor.multiCursorModifier":{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[n.localize(30,null),n.localize(31,null)],default:"alt",description:n.localize(32,null)},"editor.quickSuggestions":{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:!1,description:n.localize(33,null)},comments:{type:"boolean",default:!1,description:n.localize(34,null)},other:{type:"boolean",default:!0,description:n.localize(35,null)}}}],default:p.contribInfo.quickSuggestions,description:n.localize(36,null)},"editor.quickSuggestionsDelay":{type:"integer",default:p.contribInfo.quickSuggestionsDelay,minimum:0,description:n.localize(37,null)},"editor.parameterHints":{type:"boolean",default:p.contribInfo.parameterHints,description:n.localize(38,null)},"editor.autoClosingBrackets":{type:"boolean",default:p.autoClosingBrackets,description:n.localize(39,null)},"editor.formatOnType":{type:"boolean",default:p.contribInfo.formatOnType,description:n.localize(40,null)},"editor.formatOnPaste":{type:"boolean",default:p.contribInfo.formatOnPaste,description:n.localize(41,null)},"editor.autoIndent":{type:"boolean",default:p.autoIndent,description:n.localize(42,null)},"editor.suggestOnTriggerCharacters":{type:"boolean",default:p.contribInfo.suggestOnTriggerCharacters,description:n.localize(43,null)},"editor.acceptSuggestionOnEnter":{type:"string",enum:["on","smart","off"],default:p.contribInfo.acceptSuggestionOnEnter,description:n.localize(44,null)},"editor.acceptSuggestionOnCommitCharacter":{type:"boolean",default:p.contribInfo.acceptSuggestionOnCommitCharacter,description:n.localize(45,null)},"editor.snippetSuggestions":{type:"string",enum:["top","bottom","inline","none"],default:p.contribInfo.snippetSuggestions,description:n.localize(46,null)},"editor.emptySelectionClipboard":{type:"boolean",default:p.emptySelectionClipboard,description:n.localize(47,null)},"editor.wordBasedSuggestions":{type:"boolean",default:p.contribInfo.wordBasedSuggestions,description:n.localize(48,null)},"editor.suggestFontSize":{type:"integer",default:0,minimum:0,description:n.localize(49,null)},"editor.suggestLineHeight":{type:"integer",default:0,minimum:0,description:n.localize(50,null)},"editor.selectionHighlight":{type:"boolean",default:p.contribInfo.selectionHighlight,description:n.localize(51,null)},"editor.occurrencesHighlight":{type:"boolean",default:p.contribInfo.occurrencesHighlight,description:n.localize(52,null)},"editor.overviewRulerLanes":{type:"integer",default:3,description:n.localize(53,null)},"editor.overviewRulerBorder":{type:"boolean",default:p.viewInfo.overviewRulerBorder,description:n.localize(54,null)},"editor.cursorBlinking":{type:"string",enum:["blink","smooth","phase","expand","solid"],default:d.blinkingStyleToString(p.viewInfo.cursorBlinking),description:n.localize(55,null)},"editor.mouseWheelZoom":{type:"boolean",default:p.viewInfo.mouseWheelZoom,description:n.localize(56,null)},"editor.cursorStyle":{type:"string",enum:["block","block-outline","line","line-thin","underline","underline-thin"],default:d.cursorStyleToString(p.viewInfo.cursorStyle),description:n.localize(57,null)},"editor.fontLigatures":{type:"boolean",default:p.viewInfo.fontLigatures,description:n.localize(58,null)},"editor.hideCursorInOverviewRuler":{type:"boolean",default:p.viewInfo.hideCursorInOverviewRuler,description:n.localize(59,null)},"editor.renderWhitespace":{type:"string",enum:["none","boundary","all"],default:p.viewInfo.renderWhitespace,description:n.localize(60,null)},"editor.renderControlCharacters":{type:"boolean",default:p.viewInfo.renderControlCharacters,description:n.localize(61,null)},"editor.renderIndentGuides":{type:"boolean",default:p.viewInfo.renderIndentGuides,description:n.localize(62,null)},"editor.renderLineHighlight":{type:"string",enum:["none","gutter","line","all"],default:p.viewInfo.renderLineHighlight,description:n.localize(63,null)},"editor.codeLens":{type:"boolean",default:p.contribInfo.codeLens,description:n.localize(64,null)},"editor.folding":{type:"boolean",default:p.contribInfo.folding,description:n.localize(65,null)},"editor.showFoldingControls":{type:"string",enum:["always","mouseover"],default:p.contribInfo.showFoldingControls,description:n.localize(66,null)},"editor.matchBrackets":{type:"boolean",default:p.contribInfo.matchBrackets,description:n.localize(67,null)},"editor.glyphMargin":{type:"boolean",default:p.viewInfo.glyphMargin,description:n.localize(68,null)},"editor.useTabStops":{type:"boolean",default:p.useTabStops,description:n.localize(69,null)},"editor.trimAutoWhitespace":{type:"boolean",default:g.trimAutoWhitespace,description:n.localize(70,null)},"editor.stablePeek":{type:"boolean",default:!1,description:n.localize(71,null)},"editor.dragAndDrop":{type:"boolean",default:p.dragAndDrop,description:n.localize(72,null)},"editor.accessibilitySupport":{type:"string",enum:["auto","on","off"],enumDescriptions:[n.localize(73,null),n.localize(74,null),n.localize(75,null)],default:p.accessibilitySupport,description:n.localize(76,null)},"editor.links":{type:"boolean",default:p.contribInfo.links,description:n.localize(77,null)},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:n.localize(78,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:n.localize(79,null)},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:n.localize(80,null)}}};s.isLinux&&(y.properties["editor.selectionClipboard"]={type:"boolean",default:p.contribInfo.selectionClipboard,description:n.localize(81,null)}),m.registerConfiguration(y)}),define(u[808],d([1,0,7,133,12,15,172,46,246,64]),function(e,t,n,i,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=Object.prototype.hasOwnProperty,d=function(){function e(e){void 0===e&&(e=!0);var t=this;this._nextLanguageId=1,this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},this._languageIds=[],e&&(this._registerLanguages(s.ModesRegistry.getLanguages()),s.ModesRegistry.onDidAddLanguages(function(e){return t._registerLanguages(e)}))}return e.prototype._registerLanguages=function(e){var t=this;if(0!==e.length){for(var n=0;n<e.length;n++)this._registerLanguage(e[n]);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(function(e){var n=t._languages[e];n.name&&(t._nameMap[n.name]=n.identifier),n.aliases.forEach(function(e){t._lowercaseNameMap[e.toLowerCase()]=n.identifier}),n.mimetypes.forEach(function(e){t._mimeTypesMap[e]=n.identifier})}),o.Registry.as(l.Extensions.Configuration).registerOverrideIdentifiers(s.ModesRegistry.getLanguages().map(function(e){return e.id}))}},e.prototype._registerLanguage=function(t){var n=t.id,i=null;if(u.call(this._languages,n))i=this._languages[n];else{var r=this._nextLanguageId++;i={identifier:new a.LanguageIdentifier(n,r),name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languageIds[r]=n,this._languages[n]=i}e._mergeLanguage(i,t)},e._mergeLanguage=function(e,t){var o=t.id,s=null;if(void 0!==t.mimetypes&&Array.isArray(t.mimetypes))for(b=0;b<t.mimetypes.length;b++)s||(s=t.mimetypes[b]),e.mimetypes.push(t.mimetypes[b]);if(s||(s="text/x-"+o,e.mimetypes.push(s)),Array.isArray(t.extensions))for(var a=0,c=t.extensions;a<c.length;a++){var l=c[a];i.registerTextMime({id:o,mime:s,extension:l}),e.extensions.push(l)}if(Array.isArray(t.filenames))for(var u=0,d=t.filenames;u<d.length;u++){var h=d[u];i.registerTextMime({id:o,mime:s,filename:h}),e.filenames.push(h)}if(Array.isArray(t.filenamePatterns))for(var p=0,f=t.filenamePatterns;p<f.length;p++){var g=f[p];i.registerTextMime({id:o,mime:s,filepattern:g})}if("string"==typeof t.firstLine&&t.firstLine.length>0){var v=t.firstLine;"^"!==v.charAt(0)&&(v="^"+v);try{var m=new RegExp(v);r.regExpLeadsToEndlessLoop(m)||i.registerTextMime({id:o,mime:s,firstline:m})}catch(e){n.onUnexpectedError(e)}}e.aliases.push(o);var y=null;if(void 0!==t.aliases&&Array.isArray(t.aliases)&&(y=0===t.aliases.length?[null]:t.aliases),null!==y)for(var b=0;b<y.length;b++)y[b]&&0!==y[b].length&&e.aliases.push(y[b]);var S=null!==y&&y.length>0;if(S&&null===y[0]);else{var _=(S?y[0]:null)||o;!S&&e.name||(e.name=_)}"string"==typeof t.configuration&&e.configurationFiles.push(t.configuration)},e.prototype.isRegisteredMode=function(e){return!!u.call(this._mimeTypesMap,e)||u.call(this._languages,e)},e.prototype.getRegisteredModes=function(){return Object.keys(this._languages)},e.prototype.getRegisteredLanguageNames=function(){return Object.keys(this._nameMap)},e.prototype.getLanguageName=function(e){return u.call(this._languages,e)?this._languages[e].name:null},e.prototype.getModeIdForLanguageNameLowercase=function(e){return u.call(this._lowercaseNameMap,e)?this._lowercaseNameMap[e].language:null},e.prototype.getConfigurationFiles=function(e){return u.call(this._languages,e)?this._languages[e].configurationFiles||[]:[]},e.prototype.getMimeForMode=function(e){return u.call(this._languages,e)?this._languages[e].mimetypes[0]||null:null},e.prototype.extractModeIds=function(e){var t=this;return e?e.split(",").map(function(e){return e.trim()}).map(function(e){return u.call(t._mimeTypesMap,e)?t._mimeTypesMap[e].language:e}).filter(function(e){return u.call(t._languages,e)}):[]},e.prototype.getLanguageIdentifier=function(e){if(e===c.NULL_MODE_ID||0===e)return c.NULL_LANGUAGE_IDENTIFIER;var t;if("string"==typeof e)t=e;else if(!(t=this._languageIds[e]))return null;return u.call(this._languages,t)?this._languages[t].identifier:null},e.prototype.getModeIdsFromLanguageName=function(e){return e&&u.call(this._nameMap,e)?[this._nameMap[e].language]:[]},e.prototype.getModeIdsFromFilenameOrFirstLine=function(e,t){if(!e&&!t)return[];var n=i.guessMimeTypes(e,t);return this.extractModeIds(n.join(","))},e.prototype.getExtensions=function(e){if(!u.call(this._nameMap,e))return[];var t=this._nameMap[e];return this._languages[t.language].extensions},e.prototype.getFilenames=function(e){if(!u.call(this._nameMap,e))return[];var t=this._nameMap[e];return this._languages[t.language].filenames},e}();t.LanguagesRegistry=d}),define(u[809],d([1,0,7,8,4,921,808]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){this._onDidCreateMode=new i.Emitter,this.onDidCreateMode=this._onDidCreateMode.event,this._instantiatedModes={},this._registry=new s.LanguagesRegistry}return e.prototype._onReady=function(){return r.TPromise.as(!0)},e.prototype.isRegisteredMode=function(e){return this._registry.isRegisteredMode(e)},e.prototype.getRegisteredModes=function(){return this._registry.getRegisteredModes()},e.prototype.getRegisteredLanguageNames=function(){return this._registry.getRegisteredLanguageNames()},e.prototype.getExtensions=function(e){return this._registry.getExtensions(e)},e.prototype.getFilenames=function(e){return this._registry.getFilenames(e)},e.prototype.getMimeForMode=function(e){return this._registry.getMimeForMode(e)},e.prototype.getLanguageName=function(e){return this._registry.getLanguageName(e)},e.prototype.getModeIdForLanguageName=function(e){return this._registry.getModeIdForLanguageNameLowercase(e)},e.prototype.getModeIdByFilenameOrFirstLine=function(e,t){var n=this._registry.getModeIdsFromFilenameOrFirstLine(e,t);return n.length>0?n[0]:null},e.prototype.getModeId=function(e){var t=this._registry.extractModeIds(e);return t.length>0?t[0]:null},e.prototype.getLanguageIdentifier=function(e){return this._registry.getLanguageIdentifier(e)},e.prototype.getConfigurationFiles=function(e){return this._registry.getConfigurationFiles(e)},e.prototype.lookup=function(e){for(var t=[],n=this._registry.extractModeIds(e),i=0;i<n.length;i++){var r=n[i];t.push({modeId:r,isInstantiated:this._instantiatedModes.hasOwnProperty(r)})}return t},e.prototype.getMode=function(e){for(var t=this._registry.extractModeIds(e),i=!1,r=0;r<t.length;r++){if(this._instantiatedModes.hasOwnProperty(t[r]))return this._instantiatedModes[t[r]];i=i||"plaintext"===t[r]}if(i){var o=null;return this.getOrCreateMode(e).then(function(e){o=e}).done(null,n.onUnexpectedError),o}return null},e.prototype.getOrCreateMode=function(e){var t=this;return this._onReady().then(function(){var n=t.getModeId(e);return t._getOrCreateMode(n||"plaintext")})},e.prototype.getOrCreateModeByLanguageName=function(e){var t=this;return this._onReady().then(function(){var n=t._getModeIdByLanguageName(e);return t._getOrCreateMode(n||"plaintext")})},e.prototype._getModeIdByLanguageName=function(e){var t=this._registry.getModeIdsFromLanguageName(e);return t.length>0?t[0]:null},e.prototype.getOrCreateModeByFilenameOrFirstLine=function(e,t){var n=this;return this._onReady().then(function(){var i=n.getModeIdByFilenameOrFirstLine(e,t);return n._getOrCreateMode(i||"plaintext")})},e.prototype._getOrCreateMode=function(e){if(!this._instantiatedModes.hasOwnProperty(e)){var t=this.getLanguageIdentifier(e);this._instantiatedModes[e]=new o.FrankensteinMode(t),this._onDidCreateMode.fire(this._instantiatedModes[e])}return this._instantiatedModes[e]},e}();t.ModeServiceImpl=a}),define(u[205],d([1,0,15,94,64,23]),function(e,t,n,i,r,o){"use strict";function s(){var e=Object.create(null),t=n.Registry.as(r.Extensions.Configuration).getConfigurationProperties();for(var i in t)c(e,i,t[i].default,function(e){return console.error("Conflict in default settings: "+e)});return e}function a(e,t){var n=Object.create(null);for(var i in e)c(n,i,e[i],t);return n}function c(e,t,n,i){for(var r=t.split("."),o=r.pop(),s=e,a=0;a<r.length;a++){var c=r[a],l=s[c];switch(typeof l){case"undefined":l=s[c]=Object.create(null);break;case"object":break;default:return void i("Ignoring "+t+" as "+r.slice(0,a+1).join(".")+" is "+JSON.stringify(l))}s=l}"object"==typeof s?s[o]=n:i("Ignoring "+t+" as "+r.join(".")+" is "+JSON.stringify(s))}function l(){var e=n.Registry.as(r.Extensions.Configuration).getConfigurationProperties();return Object.keys(e)}function u(e){return e.substring(1,e.length-1)}Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultValues=s,t.toValuesTree=a,t.getConfigurationKeys=l;var d=function(e){function t(){var t=e.call(this,s())||this;return t._keys=l(),t._overrides=Object.keys(t._contents).filter(function(e){return r.OVERRIDE_PROPERTY_PATTERN.test(e)}).map(function(e){return{identifiers:[u(e).trim()],contents:a(t._contents[e],function(e){return console.error("Conflict in default settings file: "+e)})}}),t}return h(t,e),Object.defineProperty(t.prototype,"keys",{get:function(){return this._keys},enumerable:!0,configurable:!0}),t}(o.ConfigurationModel);t.DefaultConfigurationModel=d;var p=function(e){function t(t,n){void 0===t&&(t=""),void 0===n&&(n="");var i=e.call(this)||this;return i.name=n,i._parseErrors=[],t&&i.update(t),i}return h(t,e),Object.defineProperty(t.prototype,"errors",{get:function(){return this._parseErrors},enumerable:!0,configurable:!0}),t.prototype.update=function(e){function t(e){Array.isArray(h)?h.push(e):d&&(h[d]=e),r.OVERRIDE_PROPERTY_PATTERN.test(d)&&o(d,e)}function o(e,t){l.push({identifiers:[u(e).trim()],raw:t,contents:null})}var s=this,c={},l=[],d=null,h=[],p=[],f=[],g={onObjectBegin:function(){var e={};t(e),p.push(h),h=e,d=null},onObjectProperty:function(e){d=e},onObjectEnd:function(){h=p.pop()},onArrayBegin:function(){var e=[];t(e),p.push(h),h=e,d=null},onArrayEnd:function(){h=p.pop()},onLiteralValue:t,onError:function(e){f.push({error:e})}};if(e)try{i.visit(e,g),c=h[0]||{}}catch(e){console.error("Error while parsing settings file "+this.name+": "+e),this._parseErrors=[e]}this.processRaw(c);var v=n.Registry.as(r.Extensions.Configuration).getConfigurationProperties();this._overrides=l.map(function(e){var t={};for(var n in e.raw)v[n]&&v[n].overridable&&(t[n]=e.raw[n]);return{identifiers:e.identifiers,contents:a(t,function(e){return console.error("Conflict in settings file "+s.name+": "+e)})}})},t.prototype.processRaw=function(e){var t=this;this._contents=a(e,function(e){return console.error("Conflict in settings file "+t.name+": "+e)}),this._keys=Object.keys(e)},t}(o.ConfigurationModel);t.CustomConfigurationModel=p,t.overrideIdentifierFromKey=u,t.keyFromOverrideIdentifier=function(e){return"["+e+"]"}}),define(u[811],d([1,0,4,384,15,64,5,23,205,8,39]),function(e,t,n,i,r,o,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(e){function t(t){var n=e.call(this)||this;return n._onDidUpdateConfiguration=n._register(new l.Emitter),n.onDidUpdateConfiguration=n._onDidUpdateConfiguration.event,n.userConfigModelWatcher=new i.ConfigWatcher(t.appSettingsPath,{changeBufferDelay:300,defaultConfig:new c.CustomConfigurationModel(null,t.appSettingsPath),parse:function(e,n){var i=new c.CustomConfigurationModel(e,t.appSettingsPath);return i.errors.slice(),i}}),n._register(s.toDisposable(function(){return n.userConfigModelWatcher.dispose()})),n._register(n.userConfigModelWatcher.onDidUpdateConfiguration(function(){return n.onConfigurationChange(a.ConfigurationSource.User)})),n._register(r.Registry.as(o.Extensions.Configuration).onDidRegisterConfiguration(function(){return n.onConfigurationChange(a.ConfigurationSource.Default)})),n}return h(t,e),t.prototype.configuration=function(){return this._configuration||(this._configuration=this.consolidateConfigurations())},t.prototype.onConfigurationChange=function(e){this.reset();var t=this.configuration();this._onDidUpdateConfiguration.fire({source:e,sourceConfig:e===a.ConfigurationSource.Default?t.defaults.contents:t.user.contents})},t.prototype.reloadConfiguration=function(e){var t=this;return new n.TPromise(function(n){t.userConfigModelWatcher.reload(function(){t.reset(),n(t.getConfiguration(e))})})},t.prototype.getConfiguration=function(e,t){return this.configuration().getValue(e,t)},t.prototype.lookup=function(e,t){return this.configuration().lookup(e,t)},t.prototype.keys=function(){return this.configuration().keys()},t.prototype.values=function(){return this._configuration.values()},t.prototype.getConfigurationData=function(){return this.configuration().toData()},t.prototype.reset=function(){this._configuration=this.consolidateConfigurations()},t.prototype.consolidateConfigurations=function(){var e=new c.DefaultConfigurationModel,t=this.userConfigModelWatcher.getConfig();return new a.Configuration(e,t)},t}(s.Disposable);d=v([y(0,u.IEnvironmentService)],d),t.ConfigurationService=d}),define(u[117],d([1,0,490,7,36,123,15]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.hasOwnProperty,c=s.Registry.as(o.Extensions.JSONContribution),l=function(){function e(e,t,n){this._messageHandler=e,this._extension=t,this._extensionPointId=n}return e.prototype._msg=function(e,t){this._messageHandler({type:e,message:t,source:this._extension.extensionFolderPath,extensionId:this._extension.id,extensionPointId:this._extensionPointId})},e.prototype.error=function(e){this._msg(r.default.Error,e)},e.prototype.warn=function(e){this._msg(r.default.Warning,e)},e.prototype.info=function(e){this._msg(r.default.Info,e)},e}();t.ExtensionMessageCollector=l;var u=function(){function e(e){this.name=e,this._handler=null,this._users=null,this._done=!1}return e.prototype.setHandler=function(e){if(null!==this._handler||this._done)throw new Error("Handler already set!");this._handler=e,this._handle()},e.prototype.acceptUsers=function(e){if(null!==this._users||this._done)throw new Error("Users already set!");this._users=e,this._handle()},e.prototype._handle=function(){if(null!==this._handler&&null!==this._users){this._done=!0;var e=this._handler;this._handler=null;var t=this._users;this._users=null;try{e(t)}catch(e){i.onUnexpectedError(e)}}},e}();t.ExtensionPoint=u;var d="vscode://schemas/vscode-extensions",h={properties:{engines:{type:"object",properties:{vscode:{type:"string",description:n.localize(0,null),default:"^0.10.0"}}},publisher:{description:n.localize(1,null),type:"string"},displayName:{description:n.localize(2,null),type:"string"},categories:{description:n.localize(3,null),type:"array",uniqueItems:!0,items:{type:"string",enum:["Languages","Snippets","Linters","Themes","Debuggers","Other","Keymaps","Formatters","Extension Packs","SCM Providers"]}},galleryBanner:{type:"object",description:n.localize(4,null),properties:{color:{description:n.localize(5,null),type:"string"},theme:{description:n.localize(6,null),type:"string",enum:["dark","light"]}}},contributes:{description:n.localize(7,null),type:"object",properties:{},default:{}},preview:{type:"boolean",description:n.localize(8,null)},activationEvents:{description:n.localize(9,null),type:"array",items:{type:"string",defaultSnippets:[{label:"onLanguage",description:n.localize(10,null),body:"onLanguage:${1:languageId}"},{label:"onCommand",description:n.localize(11,null),body:"onCommand:${2:commandId}"},{label:"onDebug",description:n.localize(12,null),body:"onDebug:${3:type}"},{label:"workspaceContains",description:n.localize(13,null),body:"workspaceContains:${4:filePattern}"},{label:"onView",body:"onView:${5:viewId}",description:n.localize(14,null)},{label:"*",description:n.localize(15,null),body:"*"}]}},badges:{type:"array",description:n.localize(16,null),items:{type:"object",required:["url","href","description"],properties:{url:{type:"string",description:n.localize(17,null)},href:{type:"string",description:n.localize(18,null)},description:{type:"string",description:n.localize(19,null)}}}},extensionDependencies:{description:n.localize(20,null),type:"array",uniqueItems:!0,items:{type:"string"}},scripts:{type:"object",properties:{"vscode:prepublish":{description:n.localize(21,null),type:"string"}}},icon:{type:"string",description:n.localize(22,null)}}},p=function(){function e(){this._extensionPoints={}}return e.prototype.registerExtensionPoint=function(e,t,n){if(a.call(this._extensionPoints,e))throw new Error("Duplicate extension point: "+e);var i=new u(e);return this._extensionPoints[e]=i,h.properties.contributes.properties[e]=n,c.registerSchema(d,h),i},e.prototype.getExtensionPoints=function(){var e=this;return Object.keys(this._extensionPoints).map(function(t){return e._extensionPoints[t]})},e}();t.ExtensionsRegistryImpl=p;var f={ExtensionsRegistry:"ExtensionsRegistry"};s.Registry.add(f.ExtensionsRegistry,new p),t.ExtensionsRegistry=s.Registry.as(f.ExtensionsRegistry),c.registerSchema(d,h)}),define(u[813],d([1,0,16,9,484,12,52,155,131,117,17,35]),function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h;!function(e){function t(e,t){return void 0===e||("string"==typeof e||("string"==typeof e.dark&&"string"==typeof e.light||(t.error(r.localize(23,null)),!1)))}function n(e,t,n){return void 0===e?(t.error(r.localize(24,null,n)),!1):"string"==typeof e&&o.isFalsyOrWhitespace(e)?(t.error(r.localize(25,null,n)),!1):"string"==typeof e||!o.isFalsyOrWhitespace(e.original)&&!o.isFalsyOrWhitespace(e.value)||(t.error(r.localize(26,null,n+".value",n+".original")),!1)}e.parseMenuId=function(e){switch(e){case"commandPalette":return d.MenuId.CommandPalette;case"editor/title":return d.MenuId.EditorTitle;case"editor/context":return d.MenuId.EditorContext;case"explorer/context":return d.MenuId.ExplorerContext;case"editor/title/context":return d.MenuId.EditorTitleContext;case"debug/callstack/context":return d.MenuId.DebugCallStackContext;case"scm/title":return d.MenuId.SCMTitle;case"scm/resourceGroup/context":return d.MenuId.SCMResourceGroupContext;case"scm/resourceState/context":return d.MenuId.SCMResourceContext;case"view/title":return d.MenuId.ViewTitle;case"view/item/context":return d.MenuId.ViewItemContext}},e.isValidMenuItems=function(e,t){if(!Array.isArray(e))return t.error(r.localize(0,null)),!1;for(var n=0,i=e;n<i.length;n++){var o=i[n];if("string"!=typeof o.command)return t.error(r.localize(1,null,"command")),!1;if(o.alt&&"string"!=typeof o.alt)return t.error(r.localize(2,null,"alt")),!1;if(o.when&&"string"!=typeof o.when)return t.error(r.localize(3,null,"when")),!1;if(o.group&&"string"!=typeof o.group)return t.error(r.localize(4,null,"group")),!1}return!0};var i={type:"object",properties:{command:{description:r.localize(5,null),type:"string"},alt:{description:r.localize(6,null),type:"string"},when:{description:r.localize(7,null),type:"string"},group:{description:r.localize(8,null),type:"string"}}};e.menusContribtion={description:r.localize(9,null),type:"object",properties:{commandPalette:{description:r.localize(10,null),type:"array",items:i},"editor/title":{description:r.localize(11,null),type:"array",items:i},"editor/context":{description:r.localize(12,null),type:"array",items:i},"explorer/context":{description:r.localize(13,null),type:"array",items:i},"editor/title/context":{description:r.localize(14,null),type:"array",items:i},"debug/callstack/context":{description:r.localize(15,null),type:"array",items:i},"scm/title":{description:r.localize(16,null),type:"array",items:i},"scm/resourceGroup/context":{description:r.localize(17,null),type:"array",items:i},"scm/resourceState/context":{description:r.localize(18,null),type:"array",items:i},"view/title":{description:r.localize(19,null),type:"array",items:i},"view/item/context":{description:r.localize(20,null),type:"array",items:i}}},e.isValidCommand=function(e,i){return e?o.isFalsyOrWhitespace(e.command)?(i.error(r.localize(22,null,"command")),!1):!(!n(e.title,i,"title")||e.category&&!n(e.category,i,"category")||!t(e.icon,i)):(i.error(r.localize(21,null)),!1)};var s={type:"object",properties:{command:{description:r.localize(27,null),type:"string"},title:{description:r.localize(28,null),type:"string"},category:{description:r.localize(29,null),type:"string"},icon:{description:r.localize(30,null),anyOf:[{type:"string"},{type:"object",properties:{light:{description:r.localize(31,null),type:"string"},dark:{description:r.localize(32,null),type:"string"}}}]}}};e.commandsContribution={description:r.localize(33,null),oneOf:[s,{type:"array",items:s}]}}(h||(h={})),l.ExtensionsRegistry.registerExtensionPoint("commands",[],h.commandsContribution).setHandler(function(e){function t(e,t){if(h.isValidCommand(e,t.collector)){var a,c=e.icon,l=e.category,u=e.title,p=e.command;if(c)if(a=o.nextId(),"string"==typeof c){var f=s.join(t.description.extensionFolderPath,c);i.createCSSRule(".icon."+a,'background-image: url("'+n.default.file(f).toString()+'")')}else{var g=s.join(t.description.extensionFolderPath,c.light),v=s.join(t.description.extensionFolderPath,c.dark);i.createCSSRule(".icon."+a,'background-image: url("'+n.default.file(g).toString()+'")'),i.createCSSRule(".vs-dark .icon."+a+", .hc-black .icon."+a,'background-image: url("'+n.default.file(v).toString()+'")')}d.MenuRegistry.addCommand({id:p,title:u,category:l,iconClass:a})&&t.collector.info(r.localize(34,null,e.command))}}for(var o=new a.IdGenerator("contrib-cmd-icon-"),c=0,l=e;c<l.length;c++){var u=l[c],p=u.value;if(Array.isArray(p))for(var f=0,g=p;f<g.length;f++)t(g[f],u);else t(p,u)}}),l.ExtensionsRegistry.registerExtensionPoint("menus",[],h.menusContribtion).setHandler(function(e){for(var t=0,n=e;t<n.length;t++)!function(e){var t=e.value,n=e.collector;c.forEach(t,function(e){if(h.isValidMenuItems(e.value,n)){var t=h.parseMenuId(e.key);if(t)for(var i=0,o=e.value;i<o.length;i++){var s=o[i],a=d.MenuRegistry.getCommand(s.command),c=s.alt&&d.MenuRegistry.getCommand(s.alt);a||n.warn(r.localize(36,null,s.command)),s.alt&&!c&&n.warn(r.localize(37,null,s.alt)),s.command===s.alt&&n.info(r.localize(38,null)),s.alt&&t!==d.MenuId.EditorTitle&&"navigation"!==s.group&&n.info(r.localize(39,null));var l=void 0,p=void 0;if(s.group){var f=s.group.lastIndexOf("@");f>0?(l=s.group.substr(0,f),p=Number(s.group.substr(f+1))||void 0):l=s.group}d.MenuRegistry.appendMenuItem(t,{command:a,alt:c,group:l,order:p,when:u.ContextKeyExpr.deserialize(s.when)})}else n.warn(r.localize(35,null,e.key))}})}(n[t])})}),define(u[814],d([1,0,493,117,16,12,28]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i.ExtensionsRegistry.registerExtensionPoint("jsonValidation",[],{description:n.localize(0,null),type:"array",defaultSnippets:[{body:[{fileMatch:"${1:file.json}",url:"${2:url}"}]}],items:{type:"object",defaultSnippets:[{body:{fileMatch:"${1:file.json}",url:"${2:url}"}}],properties:{fileMatch:{type:"string",description:n.localize(1,null)},url:{description:n.localize(2,null),type:"string"}}}}),c=function(){return function(){a.setHandler(function(e){for(var t=0;t<e.length;t++){var i=e[t].value,a=e[t].collector,c=e[t].description.extensionFolderPath;if(!i||!Array.isArray(i))return void a.error(n.localize(3,null));i.forEach(function(e){if("string"==typeof e.fileMatch){var t=e.url;if("string"==typeof e.url){if(o.startsWith(t,"./"))try{t=r.default.file(s.normalize(s.join(c,t))).toString()}catch(e){a.error(n.localize(6,null,e.message))}else if(!o.startsWith(t,"https:/")&&o.startsWith(t,"https:/"))return void a.error(n.localize(7,null))}else a.error(n.localize(5,null))}else a.error(n.localize(4,null))})}})}}();t.JSONValidationExtensionPoint=c}),define(u[72],d([1,0,60,11,32,15]),function(e,t,n,i,r,o){"use strict";function s(e,t){return e.weight1!==t.weight1?e.weight1-t.weight1:e.command<t.command?-1:e.command>t.command?1:e.weight2-t.weight2}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){this.WEIGHT={editorCore:function(e){return void 0===e&&(e=0),0+e},editorContrib:function(e){return void 0===e&&(e=0),100+e},workbenchContrib:function(e){return void 0===e&&(e=0),200+e},builtinExtension:function(e){return void 0===e&&(e=0),300+e},externalExtension:function(e){return void 0===e&&(e=0),400+e}},this._keybindings=[]}return e.bindToCurrentPlatform=function(e){if(1===i.OS){if(e&&e.win)return e.win}else if(2===i.OS){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e},e.bindToCurrentPlatform2=function(e){if(1===i.OS){if(e&&e.win)return e.win}else if(2===i.OS){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e},e.prototype.registerKeybindingRule=function(t){var r=this,o=e.bindToCurrentPlatform(t);o&&o.primary&&this.registerDefaultKeybinding(n.createKeybinding(o.primary,i.OS),t.id,t.weight,0,t.when),o&&Array.isArray(o.secondary)&&o.secondary.forEach(function(e,o){return r.registerDefaultKeybinding(n.createKeybinding(e,i.OS),t.id,t.weight,-o-1,t.when)})},e.prototype.registerKeybindingRule2=function(t){var n=e.bindToCurrentPlatform2(t);n&&n.primary&&this.registerDefaultKeybinding(n.primary,t.id,t.weight,0,t.when)},e.prototype.registerCommandAndKeybindingRule=function(e){this.registerKeybindingRule(e),r.CommandsRegistry.registerCommand(e.id,e)},e._mightProduceChar=function(e){return e>=21&&e<=30||(e>=31&&e<=56||(80===e||81===e||82===e||83===e||84===e||85===e||86===e||110===e||111===e||87===e||88===e||89===e||90===e||91===e||92===e))},e.prototype._assertNoCtrlAlt=function(t,n){t.ctrlKey&&t.altKey&&!t.metaKey&&e._mightProduceChar(t.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",t," for ",n)},e.prototype.registerDefaultKeybinding=function(e,t,n,r,o){1===i.OS&&(2===e.type?this._assertNoCtrlAlt(e.firstPart,t):this._assertNoCtrlAlt(e,t)),this._keybindings.push({keybinding:e,command:t,commandArgs:null,when:o,weight1:n,weight2:r})},e.prototype.getDefaultKeybindings=function(){var e=this._keybindings.slice(0);return e.sort(s),e},e}();t.KeybindingsRegistry=new a,t.Extensions={EditorModes:"platform.keybindingsRegistry"},o.Registry.add(t.Extensions.EditorModes,t.KeybindingsRegistry)}),define(u[154],d([1,0,495,26,12,144,28,24,135,36,16,4,240,117]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f){"use strict";function g(e){return!(!e||!a.isString(e.name))}function v(e,t){var n,i=t.fileLocation;return i===m.Absolute?n=e:i===m.Relative&&(n=s.join(t.filePrefix,e)),"/"!==(n=n.replace(/\\/g,"/"))[0]&&(n="/"+n),u.default.parse("file://"+n)}Object.defineProperty(t,"__esModule",{value:!0});var m;!function(e){e[e.Auto=0]="Auto",e[e.Relative=1]="Relative",e[e.Absolute=2]="Absolute"}(m=t.FileLocationKind||(t.FileLocationKind={})),function(e){e.fromString=function(t){return"absolute"===(t=t.toLowerCase())?e.Absolute:"relative"===t?e.Relative:void 0}}(m=t.FileLocationKind||(t.FileLocationKind={}));var y;!function(e){e[e.allDocuments=0]="allDocuments",e[e.openDocuments=1]="openDocuments",e[e.closedDocuments=2]="closedDocuments"}(y=t.ApplyToKind||(t.ApplyToKind={})),function(e){e.fromString=function(t){return"alldocuments"===(t=t.toLowerCase())?e.allDocuments:"opendocuments"===t?e.openDocuments:"closeddocuments"===t?e.closedDocuments:void 0}}(y=t.ApplyToKind||(t.ApplyToKind={})),t.isNamedProblemMatcher=g,t.getResource=v,t.createLineMatcher=function(e){var t=e.pattern;return a.isArray(t)?new E(e):new _(e)};var b,S=function(){function e(e){this.matcher=e}return e.prototype.handle=function(e,t){return void 0===t&&(t=0),{match:null,continue:!1}},e.prototype.next=function(e){return null},e.prototype.fillProblemData=function(e,t,n){this.fillProperty(e,"file",t,n,!0),this.fillProperty(e,"message",t,n,!0),this.fillProperty(e,"code",t,n,!0),this.fillProperty(e,"severity",t,n,!0),this.fillProperty(e,"location",t,n,!0),this.fillProperty(e,"line",t,n),this.fillProperty(e,"character",t,n),this.fillProperty(e,"endLine",t,n),this.fillProperty(e,"endCharacter",t,n)},e.prototype.fillProperty=function(e,t,n,i,o){if(void 0===o&&(o=!1),a.isUndefined(e[t])&&!a.isUndefined(n[t])&&n[t]<i.length){var s=i[n[t]];o&&(s=r.trim(s)),e[t]=s}},e.prototype.getMarkerMatch=function(e){var t=this.getLocation(e);if(e.file&&t&&e.message){var n={severity:this.getSeverity(e),startLineNumber:t.startLineNumber,startColumn:t.startCharacter,endLineNumber:t.startLineNumber,endColumn:t.endCharacter,message:e.message};return a.isUndefined(e.code)||(n.code=e.code),{description:this.matcher,resource:this.getResource(e.file),marker:n}}},e.prototype.getResource=function(e){return v(e,this.matcher)},e.prototype.getLocation=function(e){if(e.location)return this.parseLocationInfo(e.location);if(!e.line)return null;var t=parseInt(e.line),n=e.character?parseInt(e.character):void 0,i=e.endLine?parseInt(e.endLine):void 0,r=e.endCharacter?parseInt(e.endCharacter):void 0;return this.createLocation(t,n,i,r)},e.prototype.parseLocationInfo=function(e){if(!e||!e.match(/(\d+|\d+,\d+|\d+,\d+,\d+,\d+)/))return null;var t=e.split(","),n=parseInt(t[0]),i=t.length>1?parseInt(t[1]):void 0;return t.length>3?this.createLocation(n,i,parseInt(t[2]),parseInt(t[3])):this.createLocation(n,i,void 0,void 0)},e.prototype.createLocation=function(e,t,n,i){return e&&t&&i?{startLineNumber:e,startCharacter:t,endLineNumber:n||e,endCharacter:i}:e&&t?{startLineNumber:e,startCharacter:t,endLineNumber:e,endCharacter:t}:{startLineNumber:e,startCharacter:1,endLineNumber:e,endCharacter:Number.MAX_VALUE}},e.prototype.getSeverity=function(e){var t=null;if(e.severity){var n=e.severity;n&&(t=l.default.fromValue(n))===l.default.Ignore&&("E"===n?t=l.default.Error:"W"===n?t=l.default.Warning:"I"===n?t=l.default.Info:r.equalsIgnoreCase(n,"hint")?t=l.default.Info:r.equalsIgnoreCase(n,"note")&&(t=l.default.Info))}return null!==t&&t!==l.default.Ignore||(t=this.matcher.severity||l.default.Error),t},e}(),_=function(e){function t(t){var n=e.call(this,t)||this;return n.pattern=t.pattern,n}return h(t,e),Object.defineProperty(t.prototype,"matchLength",{get:function(){return 1},enumerable:!0,configurable:!0}),t.prototype.handle=function(e,t){void 0===t&&(t=0),o.ok(e.length-t==1);var n=Object.create(null),i=this.pattern.regexp.exec(e[t]);if(i){this.fillProblemData(n,this.pattern,i);var r=this.getMarkerMatch(n);if(r)return{match:r,continue:!1}}return{match:null,continue:!1}},t.prototype.next=function(e){return null},t}(S),E=function(e){function t(t){var n=e.call(this,t)||this;return n.patterns=t.pattern,n}return h(t,e),Object.defineProperty(t.prototype,"matchLength",{get:function(){return this.patterns.length},enumerable:!0,configurable:!0}),t.prototype.handle=function(e,t){void 0===t&&(t=0),o.ok(e.length-t===this.patterns.length),this.data=Object.create(null);for(var n=this.data,r=0;r<this.patterns.length;r++){var s=this.patterns[r],a=s.regexp.exec(e[r+t]);if(!a)return{match:null,continue:!1};s.loop&&r===this.patterns.length-1&&(n=i.clone(n)),this.fillProblemData(n,s,a)}var c=this.patterns[this.patterns.length-1].loop;return c||(this.data=null),{match:this.getMarkerMatch(n),continue:c}},t.prototype.next=function(e){var t=this.patterns[this.patterns.length-1];o.ok(!0===t.loop&&null!==this.data);var n=t.regexp.exec(e);if(!n)return this.data=null,null;var r=i.clone(this.data);return this.fillProblemData(r,t,n),this.getMarkerMatch(r)},t}(S);!function(e){!function(e){e.Error="error",e.Warning="warning",e.Info="info"}(e.ProblemSeverity||(e.ProblemSeverity={}));!function(e){e.is=function(e){var t=e;return t&&a.isString(t.name)}}(e.NamedProblemPattern||(e.NamedProblemPattern={}));!function(e){e.is=function(e){return e&&a.isArray(e)}}(e.MultiLineProblemPattern||(e.MultiLineProblemPattern={}));!function(e){e.is=function(e){var t=e;return t&&a.isString(t.name)&&a.isArray(t.patterns)}}(e.NamedMultiLineProblemPattern||(e.NamedMultiLineProblemPattern={})),e.isNamedProblemMatcher=function(e){return a.isString(e.name)}}(b=t.Config||(t.Config={}));var C=function(e){function t(t){return e.call(this,t)||this}return h(t,e),t.prototype.parse=function(e){if(b.NamedMultiLineProblemPattern.is(e))return this.createNamedMultiLineProblemPattern(e);if(b.MultiLineProblemPattern.is(e))return this.createMultiLineProblemPattern(e);if(b.NamedProblemPattern.is(e)){var t=this.createSingleProblemPattern(e);return t.name=e.name,t}return e?this.createSingleProblemPattern(e):null},t.prototype.createSingleProblemPattern=function(e){var t=this.doCreateSingleProblemPattern(e,!0);return this.validateProblemPattern([t])?t:null},t.prototype.createNamedMultiLineProblemPattern=function(e){var t={name:e.name,label:e.label?e.label:e.name,patterns:this.createMultiLineProblemPattern(e.patterns)};return t.patterns?t:null},t.prototype.createMultiLineProblemPattern=function(e){for(var t=[],i=0;i<e.length;i++){var r=this.doCreateSingleProblemPattern(e[i],!1);i<e.length-1&&!a.isUndefined(r.loop)&&r.loop&&(r.loop=!1,this.error(n.localize(0,null))),t.push(r)}return this.validateProblemPattern(t)?t:null},t.prototype.doCreateSingleProblemPattern=function(e,t){function n(e,t,n,i){var r=t[i];"number"==typeof r&&(e[n]=r)}var r={regexp:this.createRegularExpression(e.regexp)};if(n(r,e,"file","file"),n(r,e,"location","location"),n(r,e,"line","line"),n(r,e,"character","column"),n(r,e,"endLine","endLine"),n(r,e,"endCharacter","endColumn"),n(r,e,"severity","severity"),n(r,e,"code","code"),n(r,e,"message","message"),!0!==e.loop&&!1!==e.loop||(r.loop=e.loop),t)if(r.location){o={file:1,message:0};r=i.mixin(r,o,!1)}else{var o={file:1,line:2,character:3,message:0};r=i.mixin(r,o,!1)}return r},t.prototype.validateProblemPattern=function(e){var t,i,r,o,s=0;return e.forEach(function(e){t=t||!a.isUndefined(e.file),i=i||!a.isUndefined(e.message),r=r||!a.isUndefined(e.location),o=o||!a.isUndefined(e.line),e.regexp&&s++}),s!==e.length?(this.error(n.localize(1,null)),!1):!(!t||!i||!r&&!o)||(this.error(n.localize(2,null)),!1)},t.prototype.createRegularExpression=function(e){var t=null;if(!e)return t;try{t=new RegExp(e)}catch(t){this.error(n.localize(3,null,e))}return t},t}(p.Parser),w=function(){function e(e,t){void 0===t&&(t=new p.ValidationStatus),this._collector=e,this._validationStatus=t}return e.prototype.info=function(e){this._validationStatus.state=p.ValidationState.Info,this._collector.info(e)},e.prototype.warn=function(e){this._validationStatus.state=p.ValidationState.Warning,this._collector.warn(e)},e.prototype.error=function(e){this._validationStatus.state=p.ValidationState.Error,this._collector.error(e)},e.prototype.fatal=function(e){this._validationStatus.state=p.ValidationState.Fatal,this._collector.error(e)},Object.defineProperty(e.prototype,"status",{get:function(){return this._validationStatus},enumerable:!0,configurable:!0}),e}();t.ExtensionRegistryReporter=w;var I;!function(e){e.ProblemPattern={default:{regexp:"^([^\\\\s].*)\\\\((\\\\d+,\\\\d+)\\\\):\\\\s*(.*)$",file:1,location:2,message:3},type:"object",additionalProperties:!1,properties:{regexp:{type:"string",description:n.localize(4,null)},file:{type:"integer",description:n.localize(5,null)},location:{type:"integer",description:n.localize(6,null)},line:{type:"integer",description:n.localize(7,null)},column:{type:"integer",description:n.localize(8,null)},endLine:{type:"integer",description:n.localize(9,null)},endColumn:{type:"integer",description:n.localize(10,null)},severity:{type:"integer",description:n.localize(11,null)},code:{type:"integer",description:n.localize(12,null)},message:{type:"integer",description:n.localize(13,null)},loop:{type:"boolean",description:n.localize(14,null)}}},e.NamedProblemPattern=i.clone(e.ProblemPattern),e.NamedProblemPattern.properties=i.clone(e.NamedProblemPattern.properties),e.NamedProblemPattern.properties.name={type:"string",description:n.localize(15,null)},e.MultLileProblemPattern={type:"array",items:e.ProblemPattern},e.NamedMultiLineProblemPattern={type:"object",additionalProperties:!1,properties:{name:{type:"string",description:n.localize(16,null)},patterns:{type:"array",description:n.localize(17,null),items:e.ProblemPattern}}}}(I=t.Schemas||(t.Schemas={}));var T=f.ExtensionsRegistry.registerExtensionPoint("problemPatterns",[],{description:n.localize(18,null),type:"array",items:{anyOf:[I.NamedProblemPattern,I.NamedMultiLineProblemPattern]}}),k=function(){function e(){var e=this;this.patterns=Object.create(null),this.fillDefaults(),this.readyPromise=new d.TPromise(function(t,i){T.setHandler(function(i){try{i.forEach(function(t){for(var i=t.value,r=new C(new w(t.collector)),o=0,s=i;o<s.length;o++){var a=s[o];if(b.NamedMultiLineProblemPattern.is(a)){c=r.parse(a);r.problemReporter.status.state<p.ValidationState.Error?e.add(c.name,c.patterns):(t.collector.error(n.localize(19,null)),t.collector.error(JSON.stringify(a,void 0,4)))}else if(b.NamedProblemPattern.is(a)){var c=r.parse(a);r.problemReporter.status.state<p.ValidationState.Error?e.add(a.name,c):(t.collector.error(n.localize(20,null)),t.collector.error(JSON.stringify(a,void 0,4)))}r.reset()}})}catch(e){}t(void 0)})})}return e.prototype.onReady=function(){return this.readyPromise},e.prototype.add=function(e,t){this.patterns[e]=t},e.prototype.get=function(e){return this.patterns[e]},e.prototype.exists=function(e){return!!this.patterns[e]},e.prototype.remove=function(e){delete this.patterns[e]},e.prototype.fillDefaults=function(){this.add("msCompile",{regexp:/^([^\s].*)\((\d+|\d+,\d+|\d+,\d+,\d+,\d+)\)\s*:\s+(error|warning|info)\s+(\w{1,2}\d+)\s*:\s*(.*)$/,file:1,location:2,severity:3,code:4,message:5}),this.add("gulp-tsc",{regexp:/^([^\s].*)\((\d+|\d+,\d+|\d+,\d+,\d+,\d+)\):\s+(\d+)\s+(.*)$/,file:1,location:2,code:3,message:4}),this.add("cpp",{regexp:/^([^\s].*)\((\d+|\d+,\d+|\d+,\d+,\d+,\d+)\):\s+(error|warning|info)\s+(C\d+)\s*:\s*(.*)$/,file:1,location:2,severity:3,code:4,message:5}),this.add("csc",{regexp:/^([^\s].*)\((\d+|\d+,\d+|\d+,\d+,\d+,\d+)\):\s+(error|warning|info)\s+(CS\d+)\s*:\s*(.*)$/,file:1,location:2,severity:3,code:4,message:5}),this.add("vb",{regexp:/^([^\s].*)\((\d+|\d+,\d+|\d+,\d+,\d+,\d+)\):\s+(error|warning|info)\s+(BC\d+)\s*:\s*(.*)$/,file:1,location:2,severity:3,code:4,message:5}),this.add("lessCompile",{regexp:/^\s*(.*) in file (.*) line no. (\d+)$/,message:1,file:2,line:3}),this.add("jshint",{regexp:/^(.*):\s+line\s+(\d+),\s+col\s+(\d+),\s(.+?)(?:\s+\((\w)(\d+)\))?$/,file:1,line:2,character:3,message:4,severity:5,code:6}),this.add("jshint-stylish",[{regexp:/^(.+)$/,file:1},{regexp:/^\s+line\s+(\d+)\s+col\s+(\d+)\s+(.+?)(?:\s+\((\w)(\d+)\))?$/,line:1,character:2,message:3,severity:4,code:5,loop:!0}]),this.add("eslint-compact",{regexp:/^(.+):\sline\s(\d+),\scol\s(\d+),\s(Error|Warning|Info)\s-\s(.+)\s\((.+)\)$/,file:1,line:2,character:3,severity:4,message:5,code:6}),this.add("eslint-stylish",[{regexp:/^([^\s].*)$/,file:1},{regexp:/^\s+(\d+):(\d+)\s+(error|warning|info)\s+(.+?)\s\s+(.*)$/,line:1,character:2,severity:3,message:4,code:5,loop:!0}]),this.add("go",{regexp:/^([^:]*: )?((.:)?[^:]*):(\d+)(:(\d+))?: (.*)$/,file:2,line:4,character:6,message:7})},e}();t.ProblemPatternRegistry=new k;var x=function(e){function r(t){return e.call(this,t)||this}return h(r,e),r.prototype.parse=function(e){var t=this.createProblemMatcher(e);return this.checkProblemMatcherValid(e,t)?(this.addWatchingMatcher(e,t),t):null},r.prototype.checkProblemMatcherValid=function(e,t){return t?t.pattern?t.owner?!a.isUndefined(t.fileLocation)||(this.error(n.localize(24,null,JSON.stringify(e,null,4))),!1):(this.error(n.localize(23,null,JSON.stringify(e,null,4))),!1):(this.error(n.localize(22,null,JSON.stringify(e,null,4))),!1):(this.error(n.localize(21,null,JSON.stringify(e,null,4))),!1)},r.prototype.createProblemMatcher=function(e){var r=null,o=e.owner?e.owner:c.generateUuid(),s=a.isString(e.applyTo)?y.fromString(e.applyTo):y.allDocuments;s||(s=y.allDocuments);var u,d=void 0,h=void 0;if(a.isUndefined(e.fileLocation))d=m.Relative,h="${cwd}";else if(a.isString(e.fileLocation))(u=m.fromString(e.fileLocation))&&(d=u,u===m.Relative&&(h="${cwd}"));else if(a.isStringArray(e.fileLocation)){var p=e.fileLocation;p.length>0&&(u=m.fromString(p[0]),1===p.length&&u===m.Absolute?d=u:2===p.length&&u===m.Relative&&p[1]&&(d=u,h=p[1]))}var f=e.pattern?this.createProblemPattern(e.pattern):void 0,g=e.severity?l.default.fromValue(e.severity):void 0;if(g===l.default.Ignore&&(this.info(n.localize(25,null,e.severity)),g=l.default.Error),a.isString(e.base)){var v=e.base;if(v.length>1&&"$"===v[0]){var S=t.ProblemMatcherRegistry.get(v.substring(1));S&&(r=i.clone(S),e.owner&&(r.owner=o),d&&(r.fileLocation=d),h&&(r.filePrefix=h),e.pattern&&(r.pattern=f),e.severity&&(r.severity=g))}}else d&&(r={owner:o,applyTo:s,fileLocation:d,pattern:f},h&&(r.filePrefix=h),g&&(r.severity=g));return b.isNamedProblemMatcher(e)&&(r.name=e.name,r.label=a.isString(e.label)?e.label:e.name),r},r.prototype.createProblemPattern=function(e){if(a.isString(e)){var i=e;if(i.length>1&&"$"===i[0]){var r=t.ProblemPatternRegistry.get(i.substring(1));return r||this.error(n.localize(26,null,i)),r}0===i.length?this.error(n.localize(27,null)):this.error(n.localize(28,null,i))}else if(e)return new C(this.problemReporter).parse(e);return null},r.prototype.addWatchingMatcher=function(e,t){var i=this.createRegularExpression(e.watchedTaskBeginsRegExp),r=this.createRegularExpression(e.watchedTaskEndsRegExp);if(i&&r)t.watching={activeOnStart:!1,beginsPattern:{regexp:i},endsPattern:{regexp:r}};else{var o=e.background||e.watching;if(!a.isUndefinedOrNull(o)){var s=this.createWatchingPattern(o.beginsPattern),c=this.createWatchingPattern(o.endsPattern);s&&c?t.watching={activeOnStart:!!a.isBoolean(o.activeOnStart)&&o.activeOnStart,beginsPattern:s,endsPattern:c}:(s||c)&&this.error(n.localize(29,null))}}},r.prototype.createWatchingPattern=function(e){if(a.isUndefinedOrNull(e))return null;var t,n;return a.isString(e)?t=this.createRegularExpression(e):(t=this.createRegularExpression(e.regexp),a.isNumber(e.file)&&(n=e.file)),t?n?{regexp:t,file:n}:{regexp:t,file:1}:null},r.prototype.createRegularExpression=function(e){var t=null;if(!e)return t;try{t=new RegExp(e)}catch(t){this.error(n.localize(30,null,e))}return t},r}(p.Parser);t.ProblemMatcherParser=x,function(e){e.WatchingPattern={type:"object",additionalProperties:!1,properties:{regexp:{type:"string",description:n.localize(31,null)},file:{type:"integer",description:n.localize(32,null)}}},e.PatternType={anyOf:[{type:"string",description:n.localize(33,null)},e.ProblemPattern,e.MultLileProblemPattern],description:n.localize(34,null)},e.ProblemMatcher={type:"object",additionalProperties:!1,properties:{base:{type:"string",description:n.localize(35,null)},owner:{type:"string",description:n.localize(36,null)},severity:{type:"string",enum:["error","warning","info"],description:n.localize(37,null)},applyTo:{type:"string",enum:["allDocuments","openDocuments","closedDocuments"],description:n.localize(38,null)},pattern:e.PatternType,fileLocation:{oneOf:[{type:"string",enum:["absolute","relative"]},{type:"array",items:{type:"string"}}],description:n.localize(39,null)},background:{type:"object",additionalProperties:!1,description:n.localize(40,null),properties:{activeOnStart:{type:"boolean",description:n.localize(41,null)},beginsPattern:{oneOf:[{type:"string"},e.WatchingPattern],description:n.localize(42,null)},endsPattern:{oneOf:[{type:"string"},e.WatchingPattern],description:n.localize(43,null)}}},watching:{type:"object",additionalProperties:!1,deprecationMessage:n.localize(44,null),description:n.localize(45,null),properties:{activeOnStart:{type:"boolean",description:n.localize(46,null)},beginsPattern:{oneOf:[{type:"string"},e.WatchingPattern],description:n.localize(47,null)},endsPattern:{oneOf:[{type:"string"},e.WatchingPattern],description:n.localize(48,null)}}}}},e.LegacyProblemMatcher=i.clone(e.ProblemMatcher),e.LegacyProblemMatcher.properties=i.clone(e.LegacyProblemMatcher.properties),e.LegacyProblemMatcher.properties.watchedTaskBeginsRegExp={type:"string",deprecationMessage:n.localize(49,null),description:n.localize(50,null)},e.LegacyProblemMatcher.properties.watchedTaskEndsRegExp={type:"string",deprecationMessage:n.localize(51,null),description:n.localize(52,null)},e.NamedProblemMatcher=i.clone(e.ProblemMatcher),e.NamedProblemMatcher.properties=i.clone(e.NamedProblemMatcher.properties),e.NamedProblemMatcher.properties.name={type:"string",description:n.localize(53,null)},e.NamedProblemMatcher.properties.label={type:"string",description:n.localize(54,null)}}(I=t.Schemas||(t.Schemas={}));var A=f.ExtensionsRegistry.registerExtensionPoint("problemMatchers",[T],{description:n.localize(55,null),type:"array",items:I.NamedProblemMatcher}),L=function(){function e(){var e=this;this.matchers=Object.create(null),this.fillDefaults(),this.readyPromise=new d.TPromise(function(t,n){A.setHandler(function(n){try{n.forEach(function(t){for(var n=t.value,i=new x(new w(t.collector)),r=0,o=n;r<o.length;r++){var s=o[r],a=i.parse(s);a&&g(a)&&e.add(a)}})}catch(e){}var i=e.get("tsc-watch");i&&(i.tscWatch=!0),t(void 0)})})}return e.prototype.onReady=function(){return this.readyPromise},e.prototype.add=function(e){this.matchers[e.name]=e},e.prototype.get=function(e){return this.matchers[e]},e.prototype.exists=function(e){return!!this.matchers[e]},e.prototype.remove=function(e){delete this.matchers[e]},e.prototype.keys=function(){return Object.keys(this.matchers)},e.prototype.values=function(){var e=this;return Object.keys(this.matchers).map(function(t){return e.matchers[t]})},e.prototype.fillDefaults=function(){this.add({name:"msCompile",label:n.localize(56,null),owner:"msCompile",applyTo:y.allDocuments,fileLocation:m.Absolute,pattern:t.ProblemPatternRegistry.get("msCompile")}),this.add({name:"lessCompile",label:n.localize(57,null),owner:"lessCompile",applyTo:y.allDocuments,fileLocation:m.Absolute,pattern:t.ProblemPatternRegistry.get("lessCompile"),severity:l.default.Error}),this.add({name:"gulp-tsc",label:n.localize(58,null),owner:"typescript",applyTo:y.closedDocuments,fileLocation:m.Relative,filePrefix:"${cwd}",pattern:t.ProblemPatternRegistry.get("gulp-tsc")}),this.add({name:"jshint",label:n.localize(59,null),owner:"jshint",applyTo:y.allDocuments,fileLocation:m.Absolute,pattern:t.ProblemPatternRegistry.get("jshint")}),this.add({name:"jshint-stylish",label:n.localize(60,null),owner:"jshint",applyTo:y.allDocuments,fileLocation:m.Absolute,pattern:t.ProblemPatternRegistry.get("jshint-stylish")}),this.add({name:"eslint-compact",label:n.localize(61,null),owner:"eslint",applyTo:y.allDocuments,fileLocation:m.Relative,filePrefix:"${cwd}",pattern:t.ProblemPatternRegistry.get("eslint-compact")}),this.add({name:"eslint-stylish",label:n.localize(62,null),owner:"eslint",applyTo:y.allDocuments,fileLocation:m.Absolute,pattern:t.ProblemPatternRegistry.get("eslint-stylish")}),this.add({name:"go",label:n.localize(63,null),owner:"go",applyTo:y.allDocuments,fileLocation:m.Relative,filePrefix:"${cwd}",pattern:t.ProblemPatternRegistry.get("go")})},e}();t.ProblemMatcherRegistry=new L}),define(u[305],d([1,0,497,6,64,15]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IRequestService=i.createDecorator("requestService2"),o.Registry.as(r.Extensions.Configuration).registerConfiguration({id:"http",order:15,title:n.localize(0,null),type:"object",properties:{"http.proxy":{type:"string",pattern:"^https?://([^:]*(:[^@]*)?@)?([^:]+)(:\\d+)?/?$|^$",description:n.localize(1,null)},"http.proxyStrictSSL":{type:"boolean",default:!0,description:n.localize(2,null)},"http.proxyAuthorization":{type:["null","string"],default:null,description:n.localize(3,null)}}})}),define(u[818],d([1,0,12]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,i){this._hasParameters=!1,this._replacePattern=e;var r;("boolean"==typeof t?t:(r=t).isRegExp)&&this.parseReplaceString(e),this._regExp=i||n.createRegExp(r.pattern,r.isRegExp,{matchCase:r.isCaseSensitive,wholeWord:r.isWordMatch,multiline:r.isMultiline,global:!1}),this._regExp.global&&(this._regExp=n.createRegExp(this._regExp.source,!0,{matchCase:!this._regExp.ignoreCase,wholeWord:!1,multiline:this._regExp.multiline,global:!1}))}return Object.defineProperty(e.prototype,"hasParameters",{get:function(){return this._hasParameters},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pattern",{get:function(){return this._replacePattern},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"regExp",{get:function(){return this._regExp},enumerable:!0,configurable:!0}),e.prototype.getReplaceString=function(e){this._regExp.lastIndex=0;var t=this._regExp.exec(e);if(t){if(this.hasParameters){if(t[0]===e)return e.replace(this._regExp,this.pattern);var n=e.replace(this._regExp,this.pattern);return n.substr(t.index,t[0].length-(e.length-n.length))}return this.pattern}return null},e.prototype.parseReplaceString=function(e){if(e&&0!==e.length){for(var t=0,n="",i=0,r=e.length;i<r;i++){var o=e.charCodeAt(i);if(92===o){if(++i>=r)break;a=null;switch(s=e.charCodeAt(i)){case 92:a="\\";break;case 110:a="\n";break;case 116:a="\t"}a&&(n+=e.substring(t,i-1)+a,t=i+1)}if(36===o){if(++i>=r)break;var s=e.charCodeAt(i),a=null;switch(s){case 48:a="$&",this._hasParameters=!0;break;case 96:case 39:this._hasParameters=!0;break;default:if(!this.between(s,49,57))break;if(i===e.length-1){this._hasParameters=!0;break}var c=e.charCodeAt(++i);if(!this.between(c,48,57)){this._hasParameters=!0,--i;break}if(i===e.length-1){this._hasParameters=!0;break}if(c=e.charCodeAt(++i),!this.between(c,48,57)){this._hasParameters=!0,--i;break}}a&&(n+=e.substring(t,i-1)+a,t=i+1)}}0!==t&&(this._replacePattern=n+e.substring(t))}},e.prototype.between=function(e,t,n){return t<=e&&e<=n},e}();t.ReplacePattern=i}),define(u[156],d([1,0,28,26,6]),function(e,t,n,i,r){"use strict";function o(e,t){return Object.keys(e).reduce(function(i,r){var o=e[r];return r=n.join(t.fsPath,r),i[r]=o,i},{})}Object.defineProperty(t,"__esModule",{value:!0}),t.ID="searchService",t.ISearchService=r.createDecorator(t.ID);!function(e){e[e.File=1]="File",e[e.Text=2]="Text"}(t.QueryType||(t.QueryType={}));var s=function(){return function(e){this.resource=e,this.lineMatches=[]}}();t.FileMatch=s;var a=function(){return function(e,t,n){this.preview=e,this.lineNumber=t,this.offsetAndLengths=n}}();t.LineMatch=a,t.getExcludes=function(e){var t=e&&e.files&&e.files.exclude,n=e&&e.search&&e.search.exclude;if(!t&&!n)return null;if(!t||!n)return t||n;var r=Object.create(null);return r=i.mixin(r,t),r=i.mixin(r,n,!0)},t.getMergedExcludes=function(e,t){var n=e.excludePattern||{};return e.folderQueries.map(function(e){var r=i.assign({},n,e.excludePattern||{});return t?o(r,e.folder):r})}}),define(u[199],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IStatusbarService=n.createDecorator("statusbarService");!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(t.StatusbarAlignment||(t.StatusbarAlignment={}))}),define(u[31],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ID="storageService",t.IStorageService=n.createDecorator(t.ID);!function(e){e[e.GLOBAL=0]="GLOBAL",e[e.WORKSPACE=1]="WORKSPACE"}(t.StorageScope||(t.StorageScope={})),t.NullStorageService={_serviceBrand:void 0,store:function(){},swap:function(){},remove:function(){},get:function(e,t,n){return n},getInteger:function(e,t,n){return n},getBoolean:function(e,t,n){return n}}}),define(u[158],d([1,0,8,5,11,66,228,295,936,937,31]),function(e,t,n,i,r,o,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(){this._keys=Object.create(null),this._values=Object.create(null)}return e.prototype.has=function(e){var t=e.getId();return!!this._values[t]},e.prototype.get=function(e){var t=e.getId();return this._values[t]},e.prototype.put=function(e,t){var n=e.getId();this._keys[n]=e,this._values[n]=t},e.prototype.remove=function(e){var t=e.getId();delete this._keys[t],delete this._values[t]},e.prototype.getKeys=function(){var e=this;return Object.keys(this._keys).map(function(t){return e._keys[t]})},e.prototype.getValues=function(){var e=this;return Object.keys(this._keys).map(function(t){return e._values[t]})},e}();t.readFontInfo=function(e){return p.INSTANCE.readConfiguration(e)},t.restoreFontInfo=function(e){var t=e.get("editorFontInfo",u.StorageScope.GLOBAL);if("string"==typeof t){var n=null;try{n=JSON.parse(t)}catch(e){return}Array.isArray(n)&&p.INSTANCE.restoreFontInfo(n)}},t.saveFontInfo=function(e){var t=p.INSTANCE.saveFontInfo();e.store("editorFontInfo",JSON.stringify(t),u.StorageScope.GLOBAL)};var p=function(e){function t(){var t=e.call(this)||this;return t._onDidChange=t._register(new n.Emitter),t.onDidChange=t._onDidChange.event,t._cache=new d,t._evictUntrustedReadingsTimeout=-1,t}return h(t,e),t.prototype.dispose=function(){-1!==this._evictUntrustedReadingsTimeout&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),e.prototype.dispose.call(this)},t.prototype._writeToCache=function(e,t){var n=this;this._cache.put(e,t),t.isTrusted||-1!==this._evictUntrustedReadingsTimeout||(this._evictUntrustedReadingsTimeout=setTimeout(function(){n._evictUntrustedReadingsTimeout=-1,n._evictUntrustedReadings()},5e3))},t.prototype._evictUntrustedReadings=function(){for(var e=this._cache.getValues(),t=!1,n=0,i=e.length;n<i;n++){var r=e[n];r.isTrusted||(t=!0,this._cache.remove(r))}t&&this._onDidChange.fire()},t.prototype.saveFontInfo=function(){return this._cache.getValues().filter(function(e){return e.isTrusted})},t.prototype.restoreFontInfo=function(e){for(var t=0,n=e.length;t<n;t++){var i=new a.FontInfo(e[t],!1);this._writeToCache(i,i)}},t.prototype.readConfiguration=function(e){if(!this._cache.has(e)){var n=t._actualReadConfiguration(e);(n.typicalHalfwidthCharacterWidth<=2||n.typicalFullwidthCharacterWidth<=2||n.spaceWidth<=2||n.maxDigitWidth<=2)&&(n=new a.FontInfo({zoomLevel:o.getZoomLevel(),fontFamily:n.fontFamily,fontWeight:n.fontWeight,fontSize:n.fontSize,lineHeight:n.lineHeight,letterSpacing:n.letterSpacing,isMonospace:n.isMonospace,typicalHalfwidthCharacterWidth:Math.max(n.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(n.typicalFullwidthCharacterWidth,5),spaceWidth:Math.max(n.spaceWidth,5),maxDigitWidth:Math.max(n.maxDigitWidth,5)},!1)),this._writeToCache(e,n)}return this._cache.get(e)},t.createRequest=function(e,t,n,i){var r=new l.CharWidthRequest(e,t);return n.push(r),i&&i.push(r),r},t._actualReadConfiguration=function(e){var t=[],n=[],i=this.createRequest("n",0,t,n),r=this.createRequest("ｍ",0,t,null),s=this.createRequest(" ",0,t,n),c=this.createRequest("0",0,t,n),u=this.createRequest("1",0,t,n),d=this.createRequest("2",0,t,n),h=this.createRequest("3",0,t,n),p=this.createRequest("4",0,t,n),f=this.createRequest("5",0,t,n),g=this.createRequest("6",0,t,n),v=this.createRequest("7",0,t,n),m=this.createRequest("8",0,t,n),y=this.createRequest("9",0,t,n);this.createRequest("→",0,t,n),this.createRequest("·",0,t,n),this.createRequest("|",0,t,n),this.createRequest("/",0,t,n),this.createRequest("-",0,t,n),this.createRequest("_",0,t,n),this.createRequest("i",0,t,n),this.createRequest("l",0,t,n),this.createRequest("m",0,t,n),this.createRequest("|",1,t,n),this.createRequest("_",1,t,n),this.createRequest("i",1,t,n),this.createRequest("l",1,t,n),this.createRequest("m",1,t,n),this.createRequest("n",1,t,n),this.createRequest("|",2,t,n),this.createRequest("_",2,t,n),this.createRequest("i",2,t,n),this.createRequest("l",2,t,n),this.createRequest("m",2,t,n),this.createRequest("n",2,t,n),l.readCharWidths(e,t);for(var b=Math.max(c.width,u.width,d.width,h.width,p.width,f.width,g.width,v.width,m.width,y.width),S=!0,_=n[0].width,E=1,C=n.length;E<C;E++){var w=_-n[E].width;if(w<-.001||w>.001){S=!1;break}}var I=o.getTimeSinceLastZoomLevelChanged()>2e3;return new a.FontInfo({zoomLevel:o.getZoomLevel(),fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontSize:e.fontSize,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,isMonospace:S,typicalHalfwidthCharacterWidth:i.width,typicalFullwidthCharacterWidth:r.width,spaceWidth:s.width,maxDigitWidth:b},I)},t}(i.Disposable);p.INSTANCE=new p;var f=function(e){function t(t,n){void 0===n&&(n=null);var i=e.call(this,t)||this;return i._elementSizeObserver=i._register(new c.ElementSizeObserver(n,function(){return i._onReferenceDomElementSizeChanged()})),i._register(p.INSTANCE.onDidChange(function(){return i._onCSSBasedConfigurationChanged()})),i._validatedOptions.automaticLayout&&i._elementSizeObserver.startObserving(),i._register(o.onDidChangeZoomLevel(function(e){return i._recomputeOptions()})),i._register(o.onDidChangeAccessibilitySupport(function(){return i._recomputeOptions()})),i._recomputeOptions(),i}return h(t,e),t.applyFontInfoSlow=function(e,t){e.style.fontFamily=t.fontFamily,e.style.fontWeight=t.fontWeight,e.style.fontSize=t.fontSize+"px",e.style.lineHeight=t.lineHeight+"px",e.style.letterSpacing=t.letterSpacing+"px"},t.applyFontInfo=function(e,t){e.setFontFamily(t.fontFamily),e.setFontWeight(t.fontWeight),e.setFontSize(t.fontSize),e.setLineHeight(t.lineHeight),e.setLetterSpacing(t.letterSpacing)},t.prototype._onReferenceDomElementSizeChanged=function(){this._recomputeOptions()},t.prototype._onCSSBasedConfigurationChanged=function(){this._recomputeOptions()},t.prototype.observeReferenceElement=function(e){this._elementSizeObserver.observe(e)},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype._getExtraEditorClassName=function(){var e="";return o.isIE?e+="ie ":o.isFirefox?e+="ff ":o.isEdge&&(e+="edge "),r.isMacintosh&&(e+="mac "),e},t.prototype._getEnvConfiguration=function(){return{extraEditorClassName:this._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:o.isWebKit,pixelRatio:o.getPixelRatio(),zoomLevel:o.getZoomLevel(),accessibilitySupport:o.getAccessibilitySupport()}},t.prototype.readConfiguration=function(e){return p.INSTANCE.readConfiguration(e)},t}(s.CommonEditorConfiguration);t.Configuration=f}),define(u[823],d([1,0,75,284,158,101]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t){var n=e.call(this,t)||this;return n._visibleLines=new i.VisibleLinesCollection(n),n.domNode=n._visibleLines.domNode,n._dynamicOverlays=[],n._isFocused=!1,n.domNode.setClassName("view-overlays"),n}return h(t,e),t.prototype.shouldRender=function(){if(e.prototype.shouldRender.call(this))return!0;for(var t=0,n=this._dynamicOverlays.length;t<n;t++)if(this._dynamicOverlays[t].shouldRender())return!0;return!1},t.prototype.dispose=function(){e.prototype.dispose.call(this);for(var t=0,n=this._dynamicOverlays.length;t<n;t++)this._dynamicOverlays[t].dispose();this._dynamicOverlays=null},t.prototype.getDomNode=function(){return this.domNode},t.prototype.createVisibleLine=function(){return new a(this._context.configuration,this._dynamicOverlays)},t.prototype.addDynamicOverlay=function(e){this._dynamicOverlays.push(e)},t.prototype.onConfigurationChanged=function(e){this._visibleLines.onConfigurationChanged(e);for(var t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber(),i=t;i<=n;i++)this._visibleLines.getVisibleLine(i).onConfigurationChanged(e);return!0},t.prototype.onFlushed=function(e){return this._visibleLines.onFlushed(e)},t.prototype.onFocusChanged=function(e){return this._isFocused=e.isFocused,!0},t.prototype.onLinesChanged=function(e){return this._visibleLines.onLinesChanged(e)},t.prototype.onLinesDeleted=function(e){return this._visibleLines.onLinesDeleted(e)},t.prototype.onLinesInserted=function(e){return this._visibleLines.onLinesInserted(e)},t.prototype.onScrollChanged=function(e){return this._visibleLines.onScrollChanged(e)||!0},t.prototype.onTokensChanged=function(e){return this._visibleLines.onTokensChanged(e)},t.prototype.onZonesChanged=function(e){return this._visibleLines.onZonesChanged(e)},t.prototype.prepareRender=function(e){for(var t=this._dynamicOverlays.filter(function(e){return e.shouldRender()}),n=0,i=t.length;n<i;n++){var r=t[n];r.prepareRender(e),r.onDidRender()}return null},t.prototype.render=function(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)},t.prototype._viewOverlaysRender=function(e){this._visibleLines.renderLines(e.viewportData)},t}(o.ViewPart);t.ViewOverlays=s;var a=function(){function e(e,t){this._configuration=e,this._lineHeight=this._configuration.editor.lineHeight,this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}return e.prototype.getDomNode=function(){return this._domNode?this._domNode.domNode:null},e.prototype.setDomNode=function(e){this._domNode=n.createFastDomNode(e)},e.prototype.onContentChanged=function(){},e.prototype.onTokensChanged=function(){},e.prototype.onConfigurationChanged=function(e){e.lineHeight&&(this._lineHeight=this._configuration.editor.lineHeight)},e.prototype.renderLine=function(e,t,n){for(var i="",r=0,o=this._dynamicOverlays.length;r<o;r++)i+=this._dynamicOverlays[r].render(n.startLineNumber,e);return this._renderedContent===i?null:(this._renderedContent=i,'<div style="position:absolute;top:'+t+"px;width:100%;height:"+this._lineHeight+'px;">'+i+"</div>")},e.prototype.layoutLine=function(e,t){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight))},e}();t.ViewOverlayLine=a;var c=function(e){function t(t){var n=e.call(this,t)||this;return n._contentWidth=n._context.configuration.editor.layoutInfo.contentWidth,n.domNode.setHeight(0),n}return h(t,e),t.prototype.onConfigurationChanged=function(t){return t.layoutInfo&&(this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth),e.prototype.onConfigurationChanged.call(this,t)},t.prototype.onScrollChanged=function(t){return e.prototype.onScrollChanged.call(this,t)||t.scrollWidthChanged},t.prototype._viewOverlaysRender=function(t){e.prototype._viewOverlaysRender.call(this,t),this.domNode.setWidth(Math.max(t.scrollWidth,this._contentWidth))},t}(s);t.ContentViewOverlays=c;var l=function(e){function t(t){var n=e.call(this,t)||this;return n._contentLeft=n._context.configuration.editor.layoutInfo.contentLeft,n.domNode.setClassName("margin-view-overlays"),n.domNode.setWidth(1),r.Configuration.applyFontInfo(n.domNode,n._context.configuration.editor.fontInfo),n}return h(t,e),t.prototype.onConfigurationChanged=function(t){var n=!1;return t.fontInfo&&(r.Configuration.applyFontInfo(this.domNode,this._context.configuration.editor.fontInfo),n=!0),t.layoutInfo&&(this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft,n=!0),e.prototype.onConfigurationChanged.call(this,t)||n},t.prototype.onScrollChanged=function(t){return e.prototype.onScrollChanged.call(this,t)||t.scrollHeightChanged},t.prototype._viewOverlaysRender=function(t){e.prototype._viewOverlaysRender.call(this,t);var n=Math.min(t.scrollHeight,1e6);this.domNode.setHeight(n),this.domNode.setWidth(this._contentLeft)},t}(s);t.MarginViewOverlays=l}),define(u[824],d([1,0,75,37,14,124,158,9]),function(e,t,n,i,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(){return function(e,t,n,i){this.top=e,this.left=t,this.width=n,this.textContent=i}}(),l=function(){function e(e,t){this._context=e,this._isSecondary=t,this._cursorStyle=this._context.configuration.editor.viewInfo.cursorStyle,this._lineHeight=this._context.configuration.editor.lineHeight,this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,this._isVisible=!0,this._domNode=n.createFastDomNode(document.createElement("div")),this._isSecondary?this._domNode.setClassName("cursor secondary"):this._domNode.setClassName("cursor"),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),s.Configuration.applyFontInfo(this._domNode,this._context.configuration.editor.fontInfo),this._domNode.setDisplay("none"),this.updatePosition(new i.Position(1,1)),this._isInEditableRange=!0,this._lastRenderedContent="",this._renderData=null}return e.prototype.getDomNode=function(){return this._domNode},e.prototype.getIsInEditableRange=function(){return this._isInEditableRange},e.prototype.getPosition=function(){return this._position},e.prototype.show=function(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)},e.prototype.hide=function(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)},e.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.viewInfo&&(this._cursorStyle=this._context.configuration.editor.viewInfo.cursorStyle),e.fontInfo&&(s.Configuration.applyFontInfo(this._domNode,this._context.configuration.editor.fontInfo),this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth),!0},e.prototype.onCursorPositionChanged=function(e,t){return this.updatePosition(e),this._isInEditableRange=t,!0},e.prototype._prepareRender=function(e){if(this._cursorStyle===o.TextEditorCursorStyle.Line||this._cursorStyle===o.TextEditorCursorStyle.LineThin){var t=e.visibleRangeForPosition(this._position);if(!t)return null;var n;n=this._cursorStyle===o.TextEditorCursorStyle.Line?a.computeScreenAwareSize(2):a.computeScreenAwareSize(1);var i=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta;return new c(i,t.left,n,"")}var s=e.linesVisibleRangesForRange(new r.Range(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+1),!1);if(!s||0===s.length||0===s[0].ranges.length)return null;var l=s[0].ranges[0],u=l.width<1?this._typicalHalfwidthCharacterWidth:l.width,d="";this._cursorStyle===o.TextEditorCursorStyle.Block&&(d=this._context.model.getLineContent(this._position.lineNumber).charAt(this._position.column-1));var h=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta;return new c(h,l.left,u,d)},e.prototype.prepareRender=function(e){this._renderData=this._prepareRender(e)},e.prototype.render=function(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._lineHeight),this._domNode.setHeight(this._lineHeight),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._lineHeight,width:2}):(this._domNode.setDisplay("none"),null)},e.prototype.updatePosition=function(e){this._position=e},e}();t.ViewCursor=l}),define(u[141],d([1,0,87,31]),function(e,t,n,i){"use strict";function r(e,t){return e+"."+t.toLocaleLowerCase()}function o(e){return r(e.manifest.publisher,e.manifest.name)}function s(e){return e.replace(n.EXTENSION_IDENTIFIER_REGEX,function(e,t,n){return r(t,n)})}function a(e,t){return e+"-"+t}Object.defineProperty(t,"__esModule",{value:!0}),t.areSameExtensions=function(e,t){return e.id===t.id||s(e.id)===s(t.id)},t.getGalleryExtensionId=r,t.getLocalExtensionIdFromGallery=function(e,t){return a(e.id,t)},t.getLocalExtensionIdFromManifest=function(e){return a(r(e.publisher,e.name),e.version)},t.getGalleryExtensionIdFromLocal=o,t.getIdAndVersionFromLocalExtensionId=function(e){var t=/^([^.]+\..+)-(\d+\.\d+\.\d+)$/.exec(e);return t&&t[1]&&t[2]?{id:s(t[1]),version:t[2]}:{id:s(e),version:null}},t.adoptToGalleryExtensionId=s,t.getLocalExtensionTelemetryData=function(e){return{id:o(e),name:e.manifest.name,galleryId:null,publisherId:e.metadata?e.metadata.publisherId:null,publisherName:e.manifest.publisher,publisherDisplayName:e.metadata?e.metadata.publisherDisplayName:null,dependencies:e.manifest.extensionDependencies&&e.manifest.extensionDependencies.length>0}},t.getGalleryExtensionTelemetryData=function(e){return{id:e.id,name:e.name,galleryId:e.uuid,publisherId:e.publisherId,publisherName:e.publisher,publisherDisplayName:e.publisherDisplayName,dependencies:e.properties.dependencies.length>0}};var c="extensions/bettermergecheck";t.BetterMergeDisabledNowKey="extensions/bettermergedisablednow",t.BetterMergeId="pprice.better-merge",t.getGloballyDisabledExtensions=function(e,n,r){var o=e.getGloballyDisabledExtensions();return n.getBoolean(c,i.StorageScope.GLOBAL,!1)||(n.store(c,!0),-1===o.indexOf(t.BetterMergeId)&&r.some(function(e){return e.id===t.BetterMergeId})&&(o.push(t.BetterMergeId),e.setEnablement(t.BetterMergeId,!1),n.store(t.BetterMergeDisabledNowKey,!0))),o}}),define(u[826],d([1,0,492,130,143,4,20,80,16,36,21,31]),function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function e(e){this._storageService=e,this._value=this._read()}return e.prototype._read=function(){var t=this._storageService.get(e.KEY,d.StorageScope.GLOBAL);if(!t)return null;try{return JSON.parse(t)}catch(e){return null}},e.prototype.get=function(){return this._value},e.prototype.set=function(t){this._value=t,this._storageService.store(e.KEY,JSON.stringify(this._value),d.StorageScope.GLOBAL)},e}();h.KEY="integrityService";var p=function(){function t(e,t){var n=this;this._messageService=e,this._storage=new h(t),this._isPurePromise=this._isPure(),this.isPure().then(function(e){e.isPure||n._prompt()})}return t.prototype._prompt=function(){var e=this,t=this._storage.get();if(!t||!t.dontShowPrompt||t.commit!==a.default.commit){var i=new u.Action("integrity.ok",n.localize(0,null),null,!0,function(){return o.TPromise.as(!0)}),r=new u.Action("integrity.dontShowAgain",n.localize(1,null),null,!0,function(){return e._storage.set({dontShowPrompt:!0,commit:a.default.commit}),o.TPromise.as(!0)}),s=new u.Action("integrity.moreInfo",n.localize(2,null),null,!0,function(){var e=c.default.parse(a.default.checksumFailMoreInfoUrl);return window.open(e.toString(!0)),o.TPromise.as(!0)});this._messageService.show(l.default.Warning,{message:n.localize(3,null,a.default.nameShort),actions:[i,s,r]})}},t.prototype.isPure=function(){return this._isPurePromise},t.prototype._isPure=function(){var e=this,t=a.default.checksums||{};return o.TPromise.timeout(1e4).then(function(){var n=Object.keys(t).map(function(n){return e._resolve(n,t[n])});return o.TPromise.join(n).then(function(e){for(var t=!0,n=0,i=e.length;t&&n<i;n++)if(!e[n].isPure){t=!1;break}return{isPure:t,proof:e}})})},t.prototype._resolve=function(n,r){var s=this,a=c.default.parse(e.toUrl(n));return new o.TPromise(function(e,n,o){i.readFile(a.fsPath,function(i,o){if(i)return n(i);e(t._createChecksumPair(a,s._computeChecksum(o),r))})})},t.prototype._computeChecksum=function(e){return r.createHash("md5").update(e).digest("base64").replace(/=+$/,"")},t._createChecksumPair=function(e,t,n){return{uri:e,actual:t,expected:n,isPure:t===n}},t}();p=v([y(0,s.IMessageService),y(1,d.IStorageService)],p),t.IntegrityServiceImpl=p}),define(u[827],d([1,0,24,7,12,31]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t,i,r){this.globalStorage=e,this.workspaceStorage=t||e,this.workspaceKey=this.getWorkspaceKey(i?i.id:void 0),i&&n.isNumber(r)&&this.cleanupWorkspaceScope(r)}return e.prototype.getWorkspaceKey=function(t){if(!t)return e.NO_WORKSPACE_IDENTIFIER;return 0===t.indexOf("file:///")&&(t=t.substr("file:///".length)),r.rtrim(t,"/")+"/"},e.prototype.cleanupWorkspaceScope=function(t){var i=this,r=this.getInteger(e.WORKSPACE_IDENTIFIER,o.StorageScope.WORKSPACE);if(n.isNumber(r)&&t!==r){for(var s=this.toStorageKey("",o.StorageScope.WORKSPACE),a=[],c=this.workspaceStorage.length,l=0;l<c;l++){var u=this.workspaceStorage.key(l);u.indexOf(e.WORKSPACE_PREFIX)<0||0===u.indexOf(s)&&a.push(u)}a.forEach(function(e){i.workspaceStorage.removeItem(e)})}t!==r&&this.store(e.WORKSPACE_IDENTIFIER,t,o.StorageScope.WORKSPACE)},e.prototype.clear=function(){this.globalStorage.clear(),this.workspaceStorage.clear()},e.prototype.store=function(e,t,r){void 0===r&&(r=o.StorageScope.GLOBAL);var s=r===o.StorageScope.GLOBAL?this.globalStorage:this.workspaceStorage;if(n.isUndefinedOrNull(t))this.remove(e,r);else{var a=this.toStorageKey(e,r);try{s.setItem(a,t)}catch(e){i.onUnexpectedError(e)}}},e.prototype.get=function(e,t,i){void 0===t&&(t=o.StorageScope.GLOBAL);var r=(t===o.StorageScope.GLOBAL?this.globalStorage:this.workspaceStorage).getItem(this.toStorageKey(e,t));return n.isUndefinedOrNull(r)?i:r},e.prototype.remove=function(e,t){void 0===t&&(t=o.StorageScope.GLOBAL);var n=t===o.StorageScope.GLOBAL?this.globalStorage:this.workspaceStorage,i=this.toStorageKey(e,t);n.removeItem(i)},e.prototype.swap=function(e,t,i,r,s){void 0===r&&(r=o.StorageScope.GLOBAL);var a=this.get(e,r);n.isUndefinedOrNull(a)&&s?this.store(e,s,r):a===t.toString()?this.store(e,i,r):this.store(e,t,r)},e.prototype.getInteger=function(e,t,i){void 0===t&&(t=o.StorageScope.GLOBAL);var r=this.get(e,t,i);return n.isUndefinedOrNull(r)?i:parseInt(r,10)},e.prototype.getBoolean=function(e,t,i){void 0===t&&(t=o.StorageScope.GLOBAL);var r=this.get(e,t,i);return n.isUndefinedOrNull(r)?i:n.isString(r)?"true"===r.toLowerCase():!!r},e.prototype.toStorageKey=function(t,n){return n===o.StorageScope.GLOBAL?e.GLOBAL_PREFIX+t.toLowerCase():e.WORKSPACE_PREFIX+this.workspaceKey+t.toLowerCase()},e}();s.COMMON_PREFIX="storage://",s.GLOBAL_PREFIX=s.COMMON_PREFIX+"global/",s.WORKSPACE_PREFIX=s.COMMON_PREFIX+"workspace/",s.WORKSPACE_IDENTIFIER="workspaceIdentifier",s.NO_WORKSPACE_IDENTIFIER="__$noWorkspace__",t.StorageService=s;var a=function(){function e(){this.store={}}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.store).length},enumerable:!0,configurable:!0}),e.prototype.key=function(e){var t=Object.keys(this.store);return t.length>e?t[e]:null},e.prototype.clear=function(){this.store={}},e.prototype.setItem=function(e,t){this.store[e]=t.toString()},e.prototype.getItem=function(e){var t=this.store[e];return n.isUndefinedOrNull(t)?null:t},e.prototype.removeItem=function(e){delete this.store[e]},e}();t.InMemoryLocalStorage=a,t.inMemoryLocalStorageInstance=new a}),define(u[828],d([1,0,34,11,5,7,26]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a;!function(e){e.compare=function(e,t){return e.stack<t.stack?-1:e.stack>t.stack?1:0}}(a||(a={}));var c=function(){function e(t,n){void 0===n&&(n=e.ERROR_FLUSH_TIMEOUT);var s=this;this._flushHandle=-1,this._buffer=[],this._disposables=[],this._telemetryService=t,this._flushDelay=n;var a=o.errorHandler.addListener(function(e){return s._onErrorEvent(e)});this._disposables.push(r.toDisposable(a));var c,l=this;"function"==typeof i.globals.onerror&&(c=i.globals.onerror),i.globals.onerror=function(e,t,n,i,r){l._onUncaughtError(e,t,n,i,r),c&&c.apply(this,arguments)},this._disposables.push(r.toDisposable(function(){c&&(i.globals.onerror=c)}))}return e.prototype.dispose=function(){clearTimeout(this._flushHandle),this._flushBuffer(),this._disposables=r.dispose(this._disposables)},e.prototype._onErrorEvent=function(e){if(e){e.detail&&e.detail.stack&&(e=e.detail);var t=Array.isArray(e.stack)?e.stack.join("\n"):e.stack,n=e.message?e.message:s.safeStringify(e);t&&this._enqueue({message:n,stack:t})}},e.prototype._onUncaughtError=function(e,t,n,i,r){var o={stack:e,message:e,filename:t,line:n,column:i};if(r){var s=r.name,a=r.message,c=r.stack;o.error={name:s,message:a},c&&(o.stack=Array.isArray(r.stack)?r.stack=r.stack.join("\n"):r.stack)}this._enqueue(o)},e.prototype._enqueue=function(e){var t=this,i=n.binarySearch(this._buffer,e,a.compare);i<0?(e.count=1,this._buffer.splice(~i,0,e)):this._buffer[i].count+=1,-1===this._flushHandle&&(this._flushHandle=setTimeout(function(){t._flushBuffer(),t._flushHandle=-1},this._flushDelay))},e.prototype._flushBuffer=function(){for(var e=0,t=this._buffer;e<t.length;e++){var n=t[e];this._telemetryService.publicLog("UnhandledError",n)}this._buffer.length=0},e}();c.ERROR_FLUSH_TIMEOUT=5e3,t.default=c}),define(u[829],d([1,0,18,8,5,9]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s;!function(e){e[e.Idle=0]="Idle",e[e.Active=1]="Active"}(s=t.UserStatus||(t.UserStatus={}));var a=function(e){function t(t){var r=e.call(this)||this;return r._status=null,r._idleCheckTimeout=r._register(new n.TimeoutTimer),r._lastActiveTime=-1,r._idleTime=t,r._onStatusChange=new i.Emitter,r._register(o.addDisposableListener(document,"mousemove",function(){return r._onUserActive()})),r._register(o.addDisposableListener(document,"keydown",function(){return r._onUserActive()})),r._onUserActive(),r}return h(t,e),Object.defineProperty(t.prototype,"onStatusChange",{get:function(){return this._onStatusChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),t.prototype._onUserActive=function(){this._lastActiveTime=(new Date).getTime(),this._status!==s.Active&&(this._status=s.Active,this._scheduleIdleCheck(),this._onStatusChange.fire(this._status))},t.prototype._onUserIdle=function(){this._status!==s.Idle&&(this._status=s.Idle,this._onStatusChange.fire(this._status))},t.prototype._scheduleIdleCheck=function(){var e=this,t=this._lastActiveTime+this._idleTime-(new Date).getTime();this._idleCheckTimeout.setIfNotSet(function(){return e._checkIfUserIsIdle()},t)},t.prototype._checkIfUserIsIdle=function(){(new Date).getTime()-this._lastActiveTime>=this._idleTime?this._onUserIdle():this._scheduleIdleCheck()},t}(r.Disposable);t.IdleMonitor=a}),define(u[19],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ITelemetryService=n.createDecorator("telemetryService")}),define(u[25],d([1,0,7,16,32,72,15,19,37,44,35,63,17,56]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f){"use strict";function g(e){return e.get(f.ICodeEditorService).getFocusedCodeEditor()}function v(e){var t=e.get(d.IEditorService),n=t.getActiveEditor&&t.getActiveEditor();return f.getCodeEditor(n)}function y(e){return E.registerEditorCommand(e),e}Object.defineProperty(t,"__esModule",{value:!0});var b=function(){function e(e){this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts,this._description=e.description}return e.prototype.toCommandAndKeybindingRule=function(e){var t=this,n=this._kbOpts||{primary:0},i=n.kbExpr;this.precondition&&(i=i?p.ContextKeyExpr.and(i,this.precondition):this.precondition);var r="number"==typeof n.weight?n.weight:e;return{id:this.id,handler:function(e,n){return t.runCommand(e,n)},weight:r,when:i,primary:n.primary,secondary:n.secondary,win:n.win,linux:n.linux,mac:n.mac,description:this._description}},e}();t.Command=b;var S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.bindToContribution=function(e){return function(t){function n(e){var n=t.call(this,e)||this;return n._callback=e.handler,n}return h(n,t),n.prototype.runEditorCommand=function(t,n,i){e(n)&&this._callback(e(n))},n}(t)},t.prototype.runCommand=function(e,t){var n=this,i=g(e);if(i||(i=v(e)),i)return i.invokeWithinContext(function(e){if(e.get(p.IContextKeyService).contextMatchesRules(n.precondition))return n.runEditorCommand(e,i,t)})},t}(b);t.EditorCommand=S;var _=function(e){function t(t){var n=e.call(this,t)||this;return n.label=t.label,n.alias=t.alias,n.menuOpts=t.menuOpts,n}return h(t,e),t.prototype.toMenuItem=function(){return this.menuOpts?{command:{id:this.id,title:this.label},when:this.precondition,group:this.menuOpts.group,order:this.menuOpts.order}:null},t.prototype.runEditorCommand=function(e,t,n){return this.reportTelemetry(e,t),this.run(e,t,n||{})},t.prototype.reportTelemetry=function(e,t){e.get(a.ITelemetryService).publicLog("editorActionInvoked",m({name:this.label,id:this.id},t.getTelemetryData()))},t}(S);t.EditorAction=_,t.editorAction=function(e){E.registerEditorAction(new e)},t.editorCommand=function(e){y(new e)},t.registerEditorCommand=y,t.commonEditorContribution=function(e){w.INSTANCE.registerEditorContribution(e)};var E;!function(e){function t(e,t){r.CommandsRegistry.registerCommand(e,function(e,n){return t(e,n||{})})}e.registerEditorAction=function(e){w.INSTANCE.registerEditorAction(e)},e.getEditorActions=function(){return w.INSTANCE.getEditorActions()},e.getEditorCommand=function(e){return w.INSTANCE.getEditorCommand(e)},e.getEditorContributions=function(){return w.INSTANCE.getEditorContributions()},e.commandWeight=function(e){return void 0===e&&(e=0),o.KeybindingsRegistry.WEIGHT.editorContrib(e)},e.registerEditorCommand=function(e){w.INSTANCE.registerEditorCommand(e)},e.registerLanguageCommand=t,e.registerDefaultLanguageCommand=function(e,r){t(e,function(e,t){var o=t.resource,s=t.position;if(!(o instanceof i.default))throw n.illegalArgument("resource");if(!c.Position.isIPosition(s))throw n.illegalArgument("position");var a=e.get(l.IModelService).getModel(o);if(!a)throw n.illegalArgument("Can not find open model for "+o);var u=c.Position.lift(s);return r(a,u,t)})}}(E=t.CommonEditorRegistry||(t.CommonEditorRegistry={}));var C={EditorCommonContributions:"editor.commonContributions"},w=function(){function e(){this.editorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}return e.prototype.registerEditorContribution=function(e){this.editorContributions.push(e)},e.prototype.registerEditorAction=function(e){var t=e.toMenuItem();t&&u.MenuRegistry.appendMenuItem(u.MenuId.EditorContext,t),o.KeybindingsRegistry.registerCommandAndKeybindingRule(e.toCommandAndKeybindingRule(o.KeybindingsRegistry.WEIGHT.editorContrib())),this.editorActions.push(e)},e.prototype.getEditorContributions=function(){return this.editorContributions.slice(0)},e.prototype.getEditorActions=function(){return this.editorActions.slice(0)},e.prototype.registerEditorCommand=function(e){o.KeybindingsRegistry.registerCommandAndKeybindingRule(e.toCommandAndKeybindingRule(o.KeybindingsRegistry.WEIGHT.editorContrib())),this.editorCommands[e.id]=e},e.prototype.getEditorCommand=function(e){return this.editorCommands[e]||null},e}();w.INSTANCE=new w,s.Registry.add(C.EditorCommonContributions,w.INSTANCE)}),define(u[832],d([1,0,7,8,5,4,118,17,762,108,37,14,53,33,752,1343,763,149,48,25]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,v,m,y,b,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var _=0,E=function(e){function t(t,n,r,o){var c=e.call(this)||this;return c._onDidDispose=c._register(new i.Emitter),c.onDidDispose=c._onDidDispose.event,c._onDidChangeModelContent=c._register(new i.Emitter),c.onDidChangeModelContent=c._onDidChangeModelContent.event,c._onDidChangeModelLanguage=c._register(new i.Emitter),c.onDidChangeModelLanguage=c._onDidChangeModelLanguage.event,c._onDidChangeModelOptions=c._register(new i.Emitter),c.onDidChangeModelOptions=c._onDidChangeModelOptions.event,c._onDidChangeModelDecorations=c._register(new i.Emitter),c.onDidChangeModelDecorations=c._onDidChangeModelDecorations.event,c._onDidChangeConfiguration=c._register(new i.Emitter),c.onDidChangeConfiguration=c._onDidChangeConfiguration.event,c._onDidChangeModel=c._register(new i.Emitter),c.onDidChangeModel=c._onDidChangeModel.event,c._onDidChangeCursorPosition=c._register(new i.Emitter),c.onDidChangeCursorPosition=c._onDidChangeCursorPosition.event,c._onDidChangeCursorSelection=c._register(new i.Emitter),c.onDidChangeCursorSelection=c._onDidChangeCursorSelection.event,c._onDidLayoutChange=c._register(new i.Emitter),c.onDidLayoutChange=c._onDidLayoutChange.event,c._onDidFocusEditorText=c._register(new i.Emitter),c.onDidFocusEditorText=c._onDidFocusEditorText.event,c._onDidBlurEditorText=c._register(new i.Emitter),c.onDidBlurEditorText=c._onDidBlurEditorText.event,c._onDidFocusEditor=c._register(new i.Emitter),c.onDidFocusEditor=c._onDidFocusEditor.event,c._onDidBlurEditor=c._register(new i.Emitter),c.onDidBlurEditor=c._onDidBlurEditor.event,c._onWillType=c._register(new i.Emitter),c.onWillType=c._onWillType.event,c._onDidType=c._register(new i.Emitter),c.onDidType=c._onDidType.event,c._onDidPaste=c._register(new i.Emitter),c.onDidPaste=c._onDidPaste.event,c.domElement=t,c.id=++_,c._decorationTypeKeysToIds={},c._decorationTypeSubtypes={},n=n||{},c._configuration=c._register(c._createConfiguration(n)),c._register(c._configuration.onDidChange(function(e){c._onDidChangeConfiguration.fire(e),e.layoutInfo&&c._onDidLayoutChange.fire(c._configuration.editor.layoutInfo)})),c._contextKeyService=c._register(o.createScoped(c.domElement)),c._register(new C(c,c._contextKeyService)),c._register(new m.EditorModeContext(c,c._contextKeyService)),c._instantiationService=r.createChild(new s.ServiceCollection([a.IContextKeyService,c._contextKeyService])),c._attachModel(null),c._contributions={},c._actions={},c}return h(t,e),t.prototype.getId=function(){return this.getEditorType()+":"+this.id},t.prototype.getEditorType=function(){return f.EditorType.ICodeEditor},t.prototype.destroy=function(){this.dispose()},t.prototype.dispose=function(){for(var t=Object.keys(this._contributions),n=0,i=t.length;n<i;n++){var r=t[n];this._contributions[r].dispose()}this._contributions={},this._actions={},this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),e.prototype.dispose.call(this)},t.prototype.invokeWithinContext=function(e){return this._instantiationService.invokeFunction(e)},t.prototype.updateOptions=function(e){this._configuration.updateOptions(e)},t.prototype.getConfiguration=function(){return this._configuration.editor},t.prototype.getRawConfiguration=function(){return this._configuration.getRawOptions()},t.prototype.getValue=function(e){if(void 0===e&&(e=null),this.model){var t=!(!e||!e.preserveBOM),n=f.EndOfLinePreference.TextDefined;return e&&e.lineEnding&&"\n"===e.lineEnding?n=f.EndOfLinePreference.LF:e&&e.lineEnding&&"\r\n"===e.lineEnding&&(n=f.EndOfLinePreference.CRLF),this.model.getValue(n,t)}return""},t.prototype.setValue=function(e){this.model&&this.model.setValue(e)},t.prototype.getModel=function(){return this.model},t.prototype.setModel=function(e){if(void 0===e&&(e=null),this.model!==e){var t=this._detachModel();this._attachModel(e);var n={oldModelUrl:t?t.uri:null,newModelUrl:e?e.uri:null};this._onDidChangeModel.fire(n),this._postDetachModelCleanup(t)}},t.prototype.getCenteredRangeInViewport=function(){return this.hasView?this.viewModel.getCenteredRangeInViewport():null},t.prototype.getVisibleColumnFromPosition=function(e){if(!this.model)return e.column;var t=this.model.validatePosition(e),n=this.model.getOptions().tabSize;return l.CursorColumns.visibleColumnFromColumn(this.model.getLineContent(t.lineNumber),t.column,n)+1},t.prototype.getPosition=function(){return this.cursor?this.cursor.getPosition().clone():null},t.prototype.setPosition=function(e,t,n,i){if(void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===i&&(i=!1),this.cursor){if(!u.Position.isIPosition(e))throw new Error("Invalid arguments");this.cursor.setSelections("api",[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}]),t&&this.revealPosition(e,n,i)}},t.prototype._sendRevealRange=function(e,t,n){if(this.model&&this.cursor){if(!d.Range.isIRange(e))throw new Error("Invalid arguments");var i=this.model.validateRange(e),r=this.viewModel.coordinatesConverter.convertModelRangeToViewRange(i);this.cursor.emitCursorRevealRange(r,t,n)}},t.prototype.revealLine=function(e){this._revealLine(e,0)},t.prototype.revealLineInCenter=function(e){this._revealLine(e,1)},t.prototype.revealLineInCenterIfOutsideViewport=function(e){this._revealLine(e,2)},t.prototype._revealLine=function(e,t){if("number"!=typeof e)throw new Error("Invalid arguments");this._sendRevealRange(new d.Range(e,1,e,1),t,!1)},t.prototype.revealPosition=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),this._revealPosition(e,t?1:0,n)},t.prototype.revealPositionInCenter=function(e){this._revealPosition(e,1,!0)},t.prototype.revealPositionInCenterIfOutsideViewport=function(e){this._revealPosition(e,2,!0)},t.prototype._revealPosition=function(e,t,n){if(!u.Position.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new d.Range(e.lineNumber,e.column,e.lineNumber,e.column),t,n)},t.prototype.getSelection=function(){return this.cursor?this.cursor.getSelection().clone():null},t.prototype.getSelections=function(){if(!this.cursor)return null;for(var e=this.cursor.getSelections(),t=[],n=0,i=e.length;n<i;n++)t[n]=e[n].clone();return t},t.prototype.setSelection=function(e,t,n,i){void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===i&&(i=!1);var r=p.Selection.isISelection(e),o=d.Range.isIRange(e);if(!r&&!o)throw new Error("Invalid arguments");if(r)this._setSelectionImpl(e,t,n,i);else if(o){var s={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(s,t,n,i)}},t.prototype._setSelectionImpl=function(e,t,n,i){if(this.cursor){var r=new p.Selection(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this.cursor.setSelections("api",[r]),t&&this.revealRange(r,n,i)}},t.prototype.revealLines=function(e,t){this._revealLines(e,t,0)},t.prototype.revealLinesInCenter=function(e,t){this._revealLines(e,t,1)},t.prototype.revealLinesInCenterIfOutsideViewport=function(e,t){this._revealLines(e,t,2)},t.prototype._revealLines=function(e,t,n){if("number"!=typeof e||"number"!=typeof t)throw new Error("Invalid arguments");this._sendRevealRange(new d.Range(e,1,t,1),n,!1)},t.prototype.revealRange=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),this._revealRange(e,t?1:0,n)},t.prototype.revealRangeInCenter=function(e){this._revealRange(e,1,!0)},t.prototype.revealRangeInCenterIfOutsideViewport=function(e){this._revealRange(e,2,!0)},t.prototype.revealRangeAtTop=function(e){this._revealRange(e,3,!0)},t.prototype._revealRange=function(e,t,n){if(!d.Range.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(d.Range.lift(e),t,n)},t.prototype.setSelections=function(e){if(this.cursor){if(!e||0===e.length)throw new Error("Invalid arguments");for(var t=0,n=e.length;t<n;t++)if(!p.Selection.isISelection(e[t]))throw new Error("Invalid arguments");this.cursor.setSelections("api",e)}},t.prototype.getScrollWidth=function(){return this.hasView?this.viewModel.viewLayout.getScrollWidth():-1},t.prototype.getScrollLeft=function(){return this.hasView?this.viewModel.viewLayout.getScrollLeft():-1},t.prototype.getScrollHeight=function(){return this.hasView?this.viewModel.viewLayout.getScrollHeight():-1},t.prototype.getScrollTop=function(){return this.hasView?this.viewModel.viewLayout.getScrollTop():-1},t.prototype.setScrollLeft=function(e){if(this.hasView){if("number"!=typeof e)throw new Error("Invalid arguments");this.viewModel.viewLayout.setScrollPosition({scrollLeft:e})}},t.prototype.setScrollTop=function(e){if(this.hasView){if("number"!=typeof e)throw new Error("Invalid arguments");this.viewModel.viewLayout.setScrollPosition({scrollTop:e})}},t.prototype.setScrollPosition=function(e){this.hasView&&this.viewModel.viewLayout.setScrollPosition(e)},t.prototype.saveViewState=function(){if(!this.cursor||!this.hasView)return null;for(var e={},t=Object.keys(this._contributions),n=0,i=t.length;n<i;n++){var r=t[n],o=this._contributions[r];"function"==typeof o.saveViewState&&(e[r]=o.saveViewState())}return{cursorState:this.cursor.saveState(),viewState:this.viewModel.viewLayout.saveState(),contributionsState:e}},t.prototype.restoreViewState=function(e){if(this.cursor&&this.hasView&&e&&e.cursorState&&e.viewState){var t=e,n=t.cursorState;Array.isArray(n)?this.cursor.restoreState(n):this.cursor.restoreState([n]),this.viewModel.viewLayout.restoreState(t.viewState);for(var i=e.contributionsState||{},r=Object.keys(this._contributions),o=0,s=r.length;o<s;o++){var a=r[o],c=this._contributions[a];"function"==typeof c.restoreViewState&&c.restoreViewState(i[a])}}},t.prototype.onVisible=function(){},t.prototype.onHide=function(){},t.prototype.getContribution=function(e){return this._contributions[e]||null},t.prototype.getActions=function(){for(var e=[],t=Object.keys(this._actions),n=0,i=t.length;n<i;n++){var r=t[n];e.push(this._actions[r])}return e},t.prototype.getSupportedActions=function(){var e=this.getActions();return e=e.filter(function(e){return e.isSupported()})},t.prototype.getAction=function(e){return this._actions[e]||null},t.prototype.trigger=function(e,t,i){if(i=i||{},t===f.Handler.Type){if(!this.cursor||"string"!=typeof i.text||0===i.text.length)return;return"keyboard"===e&&this._onWillType.fire(i.text),this.cursor.trigger(e,t,i),void("keyboard"===e&&this._onDidType.fire(i.text))}if(t!==f.Handler.Paste){var r=this.getAction(t);if(r)o.TPromise.as(r.run()).done(null,n.onUnexpectedError);else if(this.cursor){var s=S.CommonEditorRegistry.getEditorCommand(t);if(s)return i=i||{},i.source=e,void o.TPromise.as(s.runEditorCommand(null,this,i)).done(null,n.onUnexpectedError);this.cursor.trigger(e,t,i)}}else{if(!this.cursor||"string"!=typeof i.text||0===i.text.length)return;var a=this.cursor.getSelection().getStartPosition();this.cursor.trigger(e,t,i);var c=this.cursor.getSelection().getStartPosition();"keyboard"===e&&this._onDidPaste.fire(new d.Range(a.lineNumber,a.column,c.lineNumber,c.column))}},t.prototype._getCursors=function(){return this.cursor},t.prototype._getCursorConfiguration=function(){return this.cursor.context.config},t.prototype.pushUndoStop=function(){return!!this.model&&(!this._configuration.editor.readOnly&&(this.model.pushStackElement(),!0))},t.prototype.executeEdits=function(e,t,n){var i=this;return!!this.cursor&&(!this._configuration.editor.readOnly&&(this.model.pushEditOperations(this.cursor.getSelections(),t,function(){return n||i.cursor.getSelections()}),n&&this.cursor.setSelections(e,n),!0))},t.prototype.executeCommand=function(e,t){this.cursor&&this.cursor.trigger(e,f.Handler.ExecuteCommand,t)},t.prototype.executeCommands=function(e,t){this.cursor&&this.cursor.trigger(e,f.Handler.ExecuteCommands,t)},t.prototype.changeDecorations=function(e){return this.model?this.model.changeDecorations(e,this.id):null},t.prototype.getLineDecorations=function(e){return this.model?this.model.getLineDecorations(e,this.id,this._configuration.editor.readOnly):null},t.prototype.deltaDecorations=function(e,t){return this.model?0===e.length&&0===t.length?e:this.model.deltaDecorations(e,t,this.id):[]},t.prototype.setDecorations=function(e,t){var n={},i=this._decorationTypeSubtypes[e]||{};this._decorationTypeSubtypes[e]=n;for(var r=[],o=0,s=t;o<s.length;o++){var a=s[o],c=e;a.renderOptions&&(c=e+"-"+(u=v.hash(a.renderOptions).toString(16)),i[u]||n[u]||this._registerDecorationType(c,a.renderOptions,e),n[u]=!0);var l=this._resolveDecorationOptions(c,!!a.hoverMessage);a.hoverMessage&&(l.hoverMessage=a.hoverMessage),r.push({range:a.range,options:l})}for(var u in i)n[u]||this._removeDecorationType(e+"-"+u);var d=this._decorationTypeKeysToIds[e]||[];this._decorationTypeKeysToIds[e]=this.deltaDecorations(d,r)},t.prototype.removeDecorations=function(e){var t=this._decorationTypeKeysToIds[e];t&&this.deltaDecorations(t,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]},t.prototype.getLayoutInfo=function(){return this._configuration.editor.layoutInfo},t.prototype._attachModel=function(e){var t=this;this.model=e||null,this.listenersToRemove=[],this.viewModel=null,this.cursor=null,this.model?(this.domElement.setAttribute("data-mode-id",this.model.getLanguageIdentifier().language),this._configuration.setIsDominatedByLongLines(this.model.isDominatedByLongLines()),this._configuration.setMaxLineNumber(this.model.getLineCount()),this.model.onBeforeAttached(),this.viewModel=new g.ViewModel(this.id,this._configuration,this.model),this.listenersToRemove.push(this.model.addBulkListener(function(e){for(var n=0,i=e.length;n<i;n++){var r=e[n].type,o=e[n].data;switch(r){case y.TextModelEventType.ModelDecorationsChanged:t._onDidChangeModelDecorations.fire(o);break;case y.TextModelEventType.ModelLanguageChanged:t.domElement.setAttribute("data-mode-id",t.model.getLanguageIdentifier().language),t._onDidChangeModelLanguage.fire(o);break;case y.TextModelEventType.ModelContentChanged:t._onDidChangeModelContent.fire(o);break;case y.TextModelEventType.ModelOptionsChanged:t._onDidChangeModelOptions.fire(o);break;case y.TextModelEventType.ModelDispose:t.setModel(null)}}})),this.cursor=new c.Cursor(this._configuration,this.model,this.viewModel),this._createView(),this.listenersToRemove.push(this.cursor.onDidChange(function(e){for(var n=[],i=0,r=e.selections.length;i<r;i++)n[i]=e.selections[i].getPosition();var o={position:n[0],secondaryPositions:n.slice(1),reason:e.reason,source:e.source};t._onDidChangeCursorPosition.fire(o);var s={selection:e.selections[0],secondarySelections:e.selections.slice(1),source:e.source,reason:e.reason};t._onDidChangeCursorSelection.fire(s)}))):this.hasView=!1},t.prototype._postDetachModelCleanup=function(e){if(e){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(var t in this._decorationTypeSubtypes){var n=this._decorationTypeSubtypes[t];for(var i in n)this._removeDecorationType(t+"-"+i)}this._decorationTypeSubtypes={}}e.removeAllDecorationsWithOwnerId(this.id)}},t.prototype._detachModel=function(){this.model&&this.model.onBeforeDetached(),this.hasView=!1,this.listenersToRemove=r.dispose(this.listenersToRemove),this.cursor&&(this.cursor.dispose(),this.cursor=null),this.viewModel&&(this.viewModel.dispose(),this.viewModel=null);var e=this.model;return this.model=null,this.domElement.removeAttribute("data-mode-id"),e},t.prototype.getTelemetryData=function(){return null},t}(r.Disposable);t.CommonCodeEditor=E;var C=function(e){function t(t,n){var i=e.call(this)||this;return i._editor=t,i._editorId=n.createKey("editorId",t.getId()),i._editorFocus=b.EditorContextKeys.focus.bindTo(n),i._editorTextFocus=b.EditorContextKeys.textFocus.bindTo(n),i._editorTabMovesFocus=b.EditorContextKeys.tabMovesFocus.bindTo(n),i._editorReadonly=b.EditorContextKeys.readOnly.bindTo(n),i._hasMultipleSelections=b.EditorContextKeys.hasMultipleSelections.bindTo(n),i._hasNonEmptySelection=b.EditorContextKeys.hasNonEmptySelection.bindTo(n),i._register(i._editor.onDidChangeConfiguration(function(){return i._updateFromConfig()})),i._register(i._editor.onDidChangeCursorSelection(function(){return i._updateFromSelection()})),i._register(i._editor.onDidFocusEditor(function(){return i._updateFromFocus()})),i._register(i._editor.onDidBlurEditor(function(){return i._updateFromFocus()})),i._register(i._editor.onDidFocusEditorText(function(){return i._updateFromFocus()})),i._register(i._editor.onDidBlurEditorText(function(){return i._updateFromFocus()})),i._updateFromConfig(),i._updateFromSelection(),i._updateFromFocus(),i}return h(t,e),t.prototype._updateFromConfig=function(){var e=this._editor.getConfiguration();this._editorTabMovesFocus.set(e.tabFocusMode),this._editorReadonly.set(e.readOnly)},t.prototype._updateFromSelection=function(){var e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some(function(e){return!e.isEmpty()}))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())},t.prototype._updateFromFocus=function(){this._editorFocus.set(this._editor.hasWidgetFocus()),this._editorTextFocus.set(this._editor.isFocused())},t}(r.Disposable)}),define(u[184],d([1,0,37,14,33,108,147,422,25,769,48,72,56,17,24,63,300,419]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,v,m,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var b=r.Handler,S=d.KeybindingsRegistry.WEIGHT.editorCore(),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.runEditorCommand=function(e,t,n){this.runCoreEditorCommand(t._getCursors(),n||{})},t}(c.EditorCommand);t.CoreEditorCommand=_;var E;!function(e){e.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(e){if(!g.isObject(e))return!1;var t=e;return!(!g.isString(t.to)||!g.isUndefined(t.by)&&!g.isString(t.by)||!g.isUndefined(t.value)&&!g.isNumber(t.value)||!g.isUndefined(t.revealCursor)&&!g.isBoolean(t.revealCursor))}}]},e.RawDirection={Up:"up",Down:"down"},e.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"},e.parse=function(t){var n;switch(t.to){case e.RawDirection.Up:n=1;break;case e.RawDirection.Down:n=2;break;default:return null}var i;switch(t.by){case e.RawUnit.Line:i=1;break;case e.RawUnit.WrappedLine:i=2;break;case e.RawUnit.Page:i=3;break;case e.RawUnit.HalfPage:i=4;break;default:i=2}return{direction:n,unit:i,value:Math.floor(t.value||1),revealCursor:!!t.revealCursor,select:!!t.select}};!function(e){e[e.Up=1]="Up",e[e.Down=2]="Down"}(e.Direction||(e.Direction={}));!function(e){e[e.Line=1]="Line",e[e.WrappedLine=2]="WrappedLine",e[e.Page=3]="Page",e[e.HalfPage=4]="HalfPage"}(e.Unit||(e.Unit={}))}(E=t.EditorScroll_||(t.EditorScroll_={}));var C;!function(e){e.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed .\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(e){if(!g.isObject(e))return!1;var t=e;return!(!g.isNumber(t.lineNumber)||!g.isUndefined(t.at)&&!g.isString(t.at))}}]},e.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}}(C=t.RevealLine_||(t.RevealLine_={}));var w;!function(e){var t=function(e){function t(t){var n=e.call(this,t)||this;return n._inSelectionMode=t.inSelectionMode,n}return h(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,s.CursorChangeReason.Explicit,[a.CursorMoveCommands.moveTo(e.context,e.getPrimaryCursor(),this._inSelectionMode,t.position,t.viewPosition)]),e.reveal(!0,0)},t}(_);e.MoveTo=c.registerEditorCommand(new t({id:"_moveTo",inSelectionMode:!1,precondition:null})),e.MoveToSelect=c.registerEditorCommand(new t({id:"_moveToSelect",inSelectionMode:!0,precondition:null}));var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement();var n=this._getColumnSelectResult(e.context,e.getPrimaryCursor(),e.getColumnSelectData(),t);e.setStates(t.source,s.CursorChangeReason.Explicit,n.viewStates.map(function(e){return o.CursorState.fromViewState(e)})),e.setColumnSelectData({toViewLineNumber:n.toLineNumber,toViewVisualColumn:n.toVisualColumn}),e.reveal(!0,n.reversed?1:2)},t}(_);e.ColumnSelect=c.registerEditorCommand(new(function(e){function t(){return e.call(this,{id:"columnSelect",precondition:null})||this}return h(t,e),t.prototype._getColumnSelectResult=function(e,t,i,r){var o,s=e.model.validatePosition(r.position);return o=r.viewPosition?e.validateViewPosition(new n.Position(r.viewPosition.lineNumber,r.viewPosition.column),s):e.convertModelPositionToViewPosition(s),l.ColumnSelection.columnSelect(e.config,e.viewModel,t.viewState.selection,o.lineNumber,r.mouseColumn-1)},t}(r))),e.CursorColumnSelectLeft=c.registerEditorCommand(new(function(e){function t(){return e.call(this,{id:"cursorColumnSelectLeft",precondition:null,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:3599,linux:{primary:0}}})||this}return h(t,e),t.prototype._getColumnSelectResult=function(e,t,n,i){return l.ColumnSelection.columnSelectLeft(e.config,e.viewModel,t.viewState,n.toViewLineNumber,n.toViewVisualColumn)},t}(r))),e.CursorColumnSelectRight=c.registerEditorCommand(new(function(e){function t(){return e.call(this,{id:"cursorColumnSelectRight",precondition:null,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:3601,linux:{primary:0}}})||this}return h(t,e),t.prototype._getColumnSelectResult=function(e,t,n,i){return l.ColumnSelection.columnSelectRight(e.config,e.viewModel,t.viewState,n.toViewLineNumber,n.toViewVisualColumn)},t}(r)));var d=function(e){function t(t){var n=e.call(this,t)||this;return n._isPaged=t.isPaged,n}return h(t,e),t.prototype._getColumnSelectResult=function(e,t,n,i){return l.ColumnSelection.columnSelectUp(e.config,e.viewModel,t.viewState,this._isPaged,n.toViewLineNumber,n.toViewVisualColumn)},t}(r);e.CursorColumnSelectUp=c.registerEditorCommand(new d({isPaged:!1,id:"cursorColumnSelectUp",precondition:null,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:3600,linux:{primary:0}}})),e.CursorColumnSelectPageUp=c.registerEditorCommand(new d({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:null,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:3595,linux:{primary:0}}}));var p=function(e){function t(t){var n=e.call(this,t)||this;return n._isPaged=t.isPaged,n}return h(t,e),t.prototype._getColumnSelectResult=function(e,t,n,i){return l.ColumnSelection.columnSelectDown(e.config,e.viewModel,t.viewState,this._isPaged,n.toViewLineNumber,n.toViewVisualColumn)},t}(r);e.CursorColumnSelectDown=c.registerEditorCommand(new p({isPaged:!1,id:"cursorColumnSelectDown",precondition:null,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:3602,linux:{primary:0}}})),e.CursorColumnSelectPageDown=c.registerEditorCommand(new p({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:null,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:3596,linux:{primary:0}}}));var f=function(e){function t(){return e.call(this,{id:"cursorMove",precondition:null,description:a.CursorMove.description})||this}return h(t,e),t.prototype.runCoreEditorCommand=function(e,t){var n=a.CursorMove.parse(t);n&&this._runCursorMove(e,t.source,n)},t.prototype._runCursorMove=function(e,t,n){e.context.model.pushStackElement(),e.setStates(t,s.CursorChangeReason.Explicit,o.CursorState.ensureInEditableRange(e.context,a.CursorMoveCommands.move(e.context,e.getAll(),n))),e.reveal(!0,0)},t}(_);e.CursorMoveImpl=f,e.CursorMove=c.registerEditorCommand(new f);var g;!function(e){e[e.PAGE_SIZE_MARKER=-1]="PAGE_SIZE_MARKER"}(g||(g={}));var v=function(t){function n(e){var n=t.call(this,e)||this;return n._staticArgs=e.args,n}return h(n,t),n.prototype.runCoreEditorCommand=function(t,n){var i=this._staticArgs;-1===this._staticArgs.value&&(i={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:t.context.config.pageSize}),e.CursorMove._runCursorMove(t,n.source,i)},n}(_);e.CursorLeft=c.registerEditorCommand(new v({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:null,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:15,mac:{primary:15,secondary:[288]}}})),e.CursorLeftSelect=c.registerEditorCommand(new v({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:null,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:1039}})),e.CursorRight=c.registerEditorCommand(new v({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:null,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:17,mac:{primary:17,secondary:[292]}}})),e.CursorRightSelect=c.registerEditorCommand(new v({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:null,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:1041}})),e.CursorUp=c.registerEditorCommand(new v({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:null,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:16,mac:{primary:16,secondary:[302]}}})),e.CursorUpSelect=c.registerEditorCommand(new v({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:null,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),e.CursorPageUp=c.registerEditorCommand(new v({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:null,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:11}})),e.CursorPageUpSelect=c.registerEditorCommand(new v({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:null,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:1035}})),e.CursorDown=c.registerEditorCommand(new v({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:null,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:18,mac:{primary:18,secondary:[300]}}})),e.CursorDownSelect=c.registerEditorCommand(new v({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:null,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),e.CursorPageDown=c.registerEditorCommand(new v({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:null,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:12}})),e.CursorPageDownSelect=c.registerEditorCommand(new v({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:null,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:1036}})),e.CreateCursor=c.registerEditorCommand(new(function(e){function t(){return e.call(this,{id:"createCursor",precondition:null})||this}return h(t,e),t.prototype.runCoreEditorCommand=function(e,t){var n=e.context;if(!n.config.readOnly&&!n.model.hasEditableRange()){var i;i=t.wholeLine?a.CursorMoveCommands.line(n,e.getPrimaryCursor(),!1,t.position,t.viewPosition):a.CursorMoveCommands.moveTo(n,e.getPrimaryCursor(),!1,t.position,t.viewPosition);var r=e.getAll();if(r.length>1)for(var o=i.modelState?i.modelState.position:null,c=i.viewState?i.viewState.position:null,l=0,u=r.length;l<u;l++){var d=r[l];if((!o||d.modelState.selection.containsPosition(o))&&(!c||d.viewState.selection.containsPosition(c)))return r.splice(l,1),e.context.model.pushStackElement(),void e.setStates(t.source,s.CursorChangeReason.Explicit,r)}r.push(i),e.context.model.pushStackElement(),e.setStates(t.source,s.CursorChangeReason.Explicit,r)}},t}(_))),e.LastCursorMoveToSelect=c.registerEditorCommand(new(function(e){function t(){return e.call(this,{id:"_lastCursorMoveToSelect",precondition:null})||this}return h(t,e),t.prototype.runCoreEditorCommand=function(e,t){var n=e.context;if(!n.config.readOnly&&!n.model.hasEditableRange()){var i=e.getLastAddedCursorIndex(),r=e.getAll().slice(0);r[i]=a.CursorMoveCommands.moveTo(n,r[i],!0,t.position,t.viewPosition),e.context.model.pushStackElement(),e.setStates(t.source,s.CursorChangeReason.Explicit,r)}},t}(_)));var m=function(e){function t(t){var n=e.call(this,t)||this;return n._inSelectionMode=t.inSelectionMode,n}return h(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,s.CursorChangeReason.Explicit,o.CursorState.ensureInEditableRange(e.context,a.CursorMoveCommands.moveToBeginningOfLine(e.context,e.getAll(),this._inSelectionMode))),e.reveal(!0,0)},t}(_);e.CursorHome=c.registerEditorCommand(new m({inSelectionMode:!1,id:"cursorHome",precondition:null,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),e.CursorHomeSelect=c.registerEditorCommand(new m({inSelectionMode:!0,id:"cursorHomeSelect",precondition:null,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}})),e.CursorLineStart=c.registerEditorCommand(new(function(e){function t(){return e.call(this,{id:"cursorLineStart",precondition:null,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:0,mac:{primary:287}}})||this}return h(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,s.CursorChangeReason.Explicit,o.CursorState.ensureInEditableRange(e.context,this._exec(e.context,e.getAll()))),e.reveal(!0,0)},t.prototype._exec=function(e,t){for(var n=[],i=0,r=t.length;i<r;i++){var s=t[i],a=s.modelState.position.lineNumber;n[i]=o.CursorState.fromModelState(s.modelState.move(!1,a,1,0))}return n},t}(_)));var y=function(e){function t(t){var n=e.call(this,t)||this;return n._inSelectionMode=t.inSelectionMode,n}return h(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,s.CursorChangeReason.Explicit,o.CursorState.ensureInEditableRange(e.context,a.CursorMoveCommands.moveToEndOfLine(e.context,e.getAll(),this._inSelectionMode))),e.reveal(!0,0)},t}(_);e.CursorEnd=c.registerEditorCommand(new y({inSelectionMode:!1,id:"cursorEnd",precondition:null,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:13,mac:{primary:13,secondary:[2065]}}})),e.CursorEndSelect=c.registerEditorCommand(new y({inSelectionMode:!0,id:"cursorEndSelect",precondition:null,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:1037,mac:{primary:1037,secondary:[3089]}}})),e.CursorLineEnd=c.registerEditorCommand(new(function(e){function t(){return e.call(this,{id:"cursorLineEnd",precondition:null,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:0,mac:{primary:291}}})||this}return h(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,s.CursorChangeReason.Explicit,o.CursorState.ensureInEditableRange(e.context,this._exec(e.context,e.getAll()))),e.reveal(!0,0)},t.prototype._exec=function(e,t){for(var n=[],i=0,r=t.length;i<r;i++){var s=t[i],a=s.modelState.position.lineNumber,c=e.model.getLineMaxColumn(a);n[i]=o.CursorState.fromModelState(s.modelState.move(!1,a,c,0))}return n},t}(_)));var b=function(e){function t(t){var n=e.call(this,t)||this;return n._inSelectionMode=t.inSelectionMode,n}return h(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,s.CursorChangeReason.Explicit,o.CursorState.ensureInEditableRange(e.context,a.CursorMoveCommands.moveToBeginningOfBuffer(e.context,e.getAll(),this._inSelectionMode))),e.reveal(!0,0)},t}(_);e.CursorTop=c.registerEditorCommand(new b({inSelectionMode:!1,id:"cursorTop",precondition:null,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:2062,mac:{primary:2064}}})),e.CursorTopSelect=c.registerEditorCommand(new b({inSelectionMode:!0,id:"cursorTopSelect",precondition:null,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:3086,mac:{primary:3088}}}));var w=function(e){function t(t){var n=e.call(this,t)||this;return n._inSelectionMode=t.inSelectionMode,n}return h(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,s.CursorChangeReason.Explicit,o.CursorState.ensureInEditableRange(e.context,a.CursorMoveCommands.moveToEndOfBuffer(e.context,e.getAll(),this._inSelectionMode))),e.reveal(!0,0)},t}(_);e.CursorBottom=c.registerEditorCommand(new w({inSelectionMode:!1,id:"cursorBottom",precondition:null,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:2061,mac:{primary:2066}}})),e.CursorBottomSelect=c.registerEditorCommand(new w({inSelectionMode:!0,id:"cursorBottomSelect",precondition:null,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:3085,mac:{primary:3090}}}));var I=function(e){function t(){return e.call(this,{id:"editorScroll",precondition:null,description:E.description})||this}return h(t,e),t.prototype.runCoreEditorCommand=function(e,t){var n=E.parse(t);n&&this._runEditorScroll(e,t.source,n)},t.prototype._runEditorScroll=function(e,t,n){var i=this._computeDesiredScrollTop(e.context,n);if(n.revealCursor){var r=e.context.getCompletelyVisibleViewRangeAtScrollTop(i);e.setStates(t,s.CursorChangeReason.Explicit,[a.CursorMoveCommands.findPositionInViewportIfOutside(e.context,e.getPrimaryCursor(),r,n.select)])}e.scrollTo(i)},t.prototype._computeDesiredScrollTop=function(e,t){if(1===t.unit){var i=e.getCompletelyVisibleModelRange(),r=void 0;r=1===t.direction?Math.max(1,i.startLineNumber-t.value):Math.min(e.model.getLineCount(),i.startLineNumber+t.value);var o=e.convertModelPositionToViewPosition(new n.Position(r,1));return e.getVerticalOffsetForViewLine(o.lineNumber)}var s;s=3===t.unit?e.config.pageSize*t.value:4===t.unit?Math.round(e.config.pageSize/2)*t.value:t.value;var a=(1===t.direction?-1:1)*s;return e.getScrollTop()+a*e.config.lineHeight},t}(_);e.EditorScrollImpl=I,e.EditorScroll=c.registerEditorCommand(new I),e.ScrollLineUp=c.registerEditorCommand(new(function(t){function n(){return t.call(this,{id:"scrollLineUp",precondition:null,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:2064,mac:{primary:267}}})||this}return h(n,t),n.prototype.runCoreEditorCommand=function(t,n){e.EditorScroll._runEditorScroll(t,n.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})},n}(_))),e.ScrollPageUp=c.registerEditorCommand(new(function(t){function n(){return t.call(this,{id:"scrollPageUp",precondition:null,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:2059,win:{primary:523},linux:{primary:523}}})||this}return h(n,t),n.prototype.runCoreEditorCommand=function(t,n){e.EditorScroll._runEditorScroll(t,n.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})},n}(_))),e.ScrollLineDown=c.registerEditorCommand(new(function(t){function n(){return t.call(this,{id:"scrollLineDown",precondition:null,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:2066,mac:{primary:268}}})||this}return h(n,t),n.prototype.runCoreEditorCommand=function(t,n){e.EditorScroll._runEditorScroll(t,n.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})},n}(_))),e.ScrollPageDown=c.registerEditorCommand(new(function(t){function n(){return t.call(this,{id:"scrollPageDown",precondition:null,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:2060,win:{primary:524},linux:{primary:524}}})||this}return h(n,t),n.prototype.runCoreEditorCommand=function(t,n){e.EditorScroll._runEditorScroll(t,n.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})},n}(_)));var T=function(e){function t(t){var n=e.call(this,t)||this;return n._inSelectionMode=t.inSelectionMode,n}return h(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,s.CursorChangeReason.Explicit,[a.CursorMoveCommands.word(e.context,e.getPrimaryCursor(),this._inSelectionMode,t.position)]),e.reveal(!0,0)},t}(_);e.WordSelect=c.registerEditorCommand(new T({inSelectionMode:!1,id:"_wordSelect",precondition:null})),e.WordSelectDrag=c.registerEditorCommand(new T({inSelectionMode:!0,id:"_wordSelectDrag",precondition:null})),e.LastCursorWordSelect=c.registerEditorCommand(new(function(e){function t(){return e.call(this,{id:"lastCursorWordSelect",precondition:null})||this}return h(t,e),t.prototype.runCoreEditorCommand=function(e,t){var n=e.context;if(!n.config.readOnly&&!n.model.hasEditableRange()){var i=e.getLastAddedCursorIndex(),r=e.getAll().slice(0);r[i]=a.CursorMoveCommands.word(n,r[i],!0,t.position),n.model.pushStackElement(),e.setStates(t.source,s.CursorChangeReason.Explicit,r)}},t}(_)));var k=function(e){function t(t){var n=e.call(this,t)||this;return n._inSelectionMode=t.inSelectionMode,n}return h(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,s.CursorChangeReason.Explicit,[a.CursorMoveCommands.line(e.context,e.getPrimaryCursor(),this._inSelectionMode,t.position,t.viewPosition)]),e.reveal(!1,0)},t}(_);e.LineSelect=c.registerEditorCommand(new k({inSelectionMode:!1,id:"_lineSelect",precondition:null})),e.LineSelectDrag=c.registerEditorCommand(new k({inSelectionMode:!0,id:"_lineSelectDrag",precondition:null}));var x=function(e){function t(t){var n=e.call(this,t)||this;return n._inSelectionMode=t.inSelectionMode,n}return h(t,e),t.prototype.runCoreEditorCommand=function(e,t){var n=e.context;if(!n.config.readOnly&&!n.model.hasEditableRange()){var i=e.getLastAddedCursorIndex(),r=e.getAll().slice(0);r[i]=a.CursorMoveCommands.line(e.context,r[i],this._inSelectionMode,t.position,t.viewPosition),e.context.model.pushStackElement(),e.setStates(t.source,s.CursorChangeReason.Explicit,r)}},t}(_);e.LastCursorLineSelect=c.registerEditorCommand(new x({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:null})),e.LastCursorLineSelectDrag=c.registerEditorCommand(new x({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:null})),e.ExpandLineSelection=c.registerEditorCommand(new(function(e){function t(){return e.call(this,{id:"expandLineSelection",precondition:null,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:2087}})||this}return h(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,s.CursorChangeReason.Explicit,o.CursorState.ensureInEditableRange(e.context,a.CursorMoveCommands.expandLineSelection(e.context,e.getAll()))),e.reveal(!0,0)},t}(_))),e.CancelSelection=c.registerEditorCommand(new(function(e){function t(){return e.call(this,{id:"cancelSelection",precondition:u.EditorContextKeys.hasNonEmptySelection,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:9,secondary:[1033]}})||this}return h(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,s.CursorChangeReason.Explicit,[a.CursorMoveCommands.cancelSelection(e.context,e.getPrimaryCursor())]),e.reveal(!0,0)},t}(_))),e.RemoveSecondaryCursors=c.registerEditorCommand(new(function(e){function t(){return e.call(this,{id:"removeSecondaryCursors",precondition:u.EditorContextKeys.hasMultipleSelections,kbOpts:{weight:S+1,kbExpr:u.EditorContextKeys.textFocus,primary:9,secondary:[1033]}})||this}return h(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,s.CursorChangeReason.Explicit,[e.getPrimaryCursor()]),e.reveal(!0,0)},t}(_))),e.RevealLine=c.registerEditorCommand(new(function(e){function t(){return e.call(this,{id:"revealLine",precondition:null,description:C.description})||this}return h(t,e),t.prototype.runCoreEditorCommand=function(e,t){var n=t,r=n.lineNumber+1;r<1&&(r=1);var o=e.context.model.getLineCount();r>o&&(r=o);var s=new i.Range(r,1,r,e.context.model.getLineMaxColumn(r)),a=0;if(n.at)switch(n.at){case C.RawAtArgument.Top:a=3;break;case C.RawAtArgument.Center:a=1;break;case C.RawAtArgument.Bottom:a=4}var c=e.context.convertModelRangeToViewRange(s);e.revealRange(!1,c,a)},t}(_))),e.SelectAll=c.registerEditorCommand(new(function(e){function t(){return e.call(this,{id:"selectAll",precondition:null})||this}return h(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,s.CursorChangeReason.Explicit,[a.CursorMoveCommands.selectAll(e.context,e.getPrimaryCursor())])},t}(_)))}(w=t.CoreNavigationCommands||(t.CoreNavigationCommands={}));!function(e){e.LineBreakInsert=c.registerEditorCommand(new(function(e){function t(){return e.call(this,{id:"lineBreakInsert",precondition:u.EditorContextKeys.writable,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:null,mac:{primary:301}}})||this}return h(t,e),t.prototype.runEditorCommand=function(e,t,n){t.pushUndoStop(),t.executeCommands(this.id,m.TypeOperations.lineBreakInsert(t._getCursorConfiguration(),t.getModel(),t.getSelections()))},t}(c.EditorCommand))),e.Outdent=c.registerEditorCommand(new(function(e){function t(){return e.call(this,{id:"outdent",precondition:u.EditorContextKeys.writable,kbOpts:{weight:S,kbExpr:f.ContextKeyExpr.and(u.EditorContextKeys.textFocus,u.EditorContextKeys.tabDoesNotMoveFocus),primary:1026}})||this}return h(t,e),t.prototype.runEditorCommand=function(e,t,n){t.pushUndoStop(),t.executeCommands(this.id,m.TypeOperations.outdent(t._getCursorConfiguration(),t.getModel(),t.getSelections())),t.pushUndoStop()},t}(c.EditorCommand))),e.Tab=c.registerEditorCommand(new(function(e){function t(){return e.call(this,{id:"tab",precondition:u.EditorContextKeys.writable,kbOpts:{weight:S,kbExpr:f.ContextKeyExpr.and(u.EditorContextKeys.textFocus,u.EditorContextKeys.tabDoesNotMoveFocus),primary:2}})||this}return h(t,e),t.prototype.runEditorCommand=function(e,t,n){t.pushUndoStop(),t.executeCommands(this.id,m.TypeOperations.tab(t._getCursorConfiguration(),t.getModel(),t.getSelections())),t.pushUndoStop()},t}(c.EditorCommand))),e.DeleteLeft=c.registerEditorCommand(new(function(e){function t(){return e.call(this,{id:"deleteLeft",precondition:u.EditorContextKeys.writable,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})||this}return h(t,e),t.prototype.runEditorCommand=function(e,t,n){var i=y.DeleteOperations.deleteLeft(t._getCursorConfiguration(),t.getModel(),t.getSelections()),r=i[0],o=i[1];r&&t.pushUndoStop(),t.executeCommands(this.id,o)},t}(c.EditorCommand))),e.DeleteRight=c.registerEditorCommand(new(function(e){function t(){return e.call(this,{id:"deleteRight",precondition:u.EditorContextKeys.writable,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})||this}return h(t,e),t.prototype.runEditorCommand=function(e,t,n){var i=y.DeleteOperations.deleteRight(t._getCursorConfiguration(),t.getModel(),t.getSelections()),r=i[0],o=i[1];r&&t.pushUndoStop(),t.executeCommands(this.id,o)},t}(c.EditorCommand)))}(t.CoreEditingCommands||(t.CoreEditingCommands={}));var I;!function(e){function t(e){return e.get(p.ICodeEditorService).getFocusedCodeEditor()}function n(e){var t=e.get(v.IEditorService),n=t.getActiveEditor&&t.getActiveEditor();return p.getCodeEditor(n)}function i(e){d.KeybindingsRegistry.registerCommandAndKeybindingRule(e.toCommandAndKeybindingRule(S))}function r(e){i(new s("default:"+e,e)),i(new s(e,e))}var o=function(e){function i(t){var n=e.call(this,t)||this;return n._editorHandler=t.editorHandler,n._inputHandler=t.inputHandler,n}return h(i,e),i.prototype.runCommand=function(e,i){var r=t(e);if(r&&r.isFocused())return this._runEditorHandler(r,i);var o=document.activeElement;if(!(o&&["input","textarea"].indexOf(o.tagName.toLowerCase())>=0)){var s=n(e);return s?(s.focus(),this._runEditorHandler(s,i)):void 0}document.execCommand(this._inputHandler)},i.prototype._runEditorHandler=function(e,t){var n=this._editorHandler;"string"==typeof n?e.trigger("keyboard",n,t):((t=t||{}).source="keyboard",n.runEditorCommand(null,e,t))},i}(c.Command);i(new o({editorHandler:w.SelectAll,inputHandler:"selectAll",id:"editor.action.selectAll",precondition:null,kbOpts:{weight:S,kbExpr:null,primary:2079}})),i(new o({editorHandler:b.Undo,inputHandler:"undo",id:b.Undo,precondition:u.EditorContextKeys.writable,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:2104}})),i(new o({editorHandler:b.Redo,inputHandler:"redo",id:b.Redo,precondition:u.EditorContextKeys.writable,kbOpts:{weight:S,kbExpr:u.EditorContextKeys.textFocus,primary:2103,secondary:[3128],mac:{primary:3128}}}));var s=function(e){function n(t,n){var i=e.call(this,{id:t,precondition:null})||this;return i._handlerId=n,i}return h(n,e),n.prototype.runCommand=function(e,n){var i=t(e);i&&i.trigger("keyboard",this._handlerId,n)},n}(c.Command);r(b.Type),r(b.ReplacePreviousChar),r(b.CompositionStart),r(b.CompositionEnd),r(b.Paste),r(b.Cut)}(I||(I={}))}),define(u[834],d([1,0,37,33,184]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,n,i,r){this.configuration=e,this.viewModel=t,this._execCoreEditorCommandFunc=n,this.outgoingEvents=i,this.commandService=r}return e.prototype._execMouseCommand=function(e,t){t.source="mouse",this._execCoreEditorCommandFunc(e,t)},e.prototype.paste=function(e,t,n){this.commandService.executeCommand(i.Handler.Paste,{text:t,pasteOnNewLine:n})},e.prototype.type=function(e,t){this.commandService.executeCommand(i.Handler.Type,{text:t})},e.prototype.replacePreviousChar=function(e,t,n){this.commandService.executeCommand(i.Handler.ReplacePreviousChar,{text:t,replaceCharCnt:n})},e.prototype.compositionStart=function(e){this.commandService.executeCommand(i.Handler.CompositionStart,{})},e.prototype.compositionEnd=function(e){this.commandService.executeCommand(i.Handler.CompositionEnd,{})},e.prototype.cut=function(e){this.commandService.executeCommand(i.Handler.Cut,{})},e.prototype._validateViewColumn=function(e){var t=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<t?new n.Position(e.lineNumber,t):e},e.prototype._hasMulticursorModifier=function(e){switch(this.configuration.editor.multiCursorModifier){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey}return!1},e.prototype._hasNonMulticursorModifier=function(e){switch(this.configuration.editor.multiCursorModifier){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey}return!1},e.prototype.dispatchMouse=function(e){e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this.lastCursorLineSelect(e.position):this.createCursor(e.position,!0):e.inSelectionMode?this.lineSelectDrag(e.position):this.lineSelect(e.position):e.mouseDownCount>=4?this.selectAll():3===e.mouseDownCount?this._hasMulticursorModifier(e)?e.inSelectionMode?this.lastCursorLineSelectDrag(e.position):this.lastCursorLineSelect(e.position):e.inSelectionMode?this.lineSelectDrag(e.position):this.lineSelect(e.position):2===e.mouseDownCount?this._hasMulticursorModifier(e)?this.lastCursorWordSelect(e.position):e.inSelectionMode?this.wordSelectDrag(e.position):this.wordSelect(e.position):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this.columnSelect(e.position,e.mouseColumn):e.inSelectionMode?this.lastCursorMoveToSelect(e.position):this.createCursor(e.position,!1)):e.inSelectionMode?this.moveToSelect(e.position):this.moveTo(e.position)},e.prototype._usualArgs=function(e){return e=this._validateViewColumn(e),{position:this.convertViewToModelPosition(e),viewPosition:e}},e.prototype.moveTo=function(e){this._execMouseCommand(r.CoreNavigationCommands.MoveTo,this._usualArgs(e))},e.prototype.moveToSelect=function(e){this._execMouseCommand(r.CoreNavigationCommands.MoveToSelect,this._usualArgs(e))},e.prototype.columnSelect=function(e,t){e=this._validateViewColumn(e),this._execMouseCommand(r.CoreNavigationCommands.ColumnSelect,{position:this.convertViewToModelPosition(e),viewPosition:e,mouseColumn:t})},e.prototype.createCursor=function(e,t){e=this._validateViewColumn(e),this._execMouseCommand(r.CoreNavigationCommands.CreateCursor,{position:this.convertViewToModelPosition(e),viewPosition:e,wholeLine:t})},e.prototype.lastCursorMoveToSelect=function(e){this._execMouseCommand(r.CoreNavigationCommands.LastCursorMoveToSelect,this._usualArgs(e))},e.prototype.wordSelect=function(e){this._execMouseCommand(r.CoreNavigationCommands.WordSelect,this._usualArgs(e))},e.prototype.wordSelectDrag=function(e){this._execMouseCommand(r.CoreNavigationCommands.WordSelectDrag,this._usualArgs(e))},e.prototype.lastCursorWordSelect=function(e){this._execMouseCommand(r.CoreNavigationCommands.LastCursorWordSelect,this._usualArgs(e))},e.prototype.lineSelect=function(e){this._execMouseCommand(r.CoreNavigationCommands.LineSelect,this._usualArgs(e))},e.prototype.lineSelectDrag=function(e){this._execMouseCommand(r.CoreNavigationCommands.LineSelectDrag,this._usualArgs(e))},e.prototype.lastCursorLineSelect=function(e){this._execMouseCommand(r.CoreNavigationCommands.LastCursorLineSelect,this._usualArgs(e))},e.prototype.lastCursorLineSelectDrag=function(e){this._execMouseCommand(r.CoreNavigationCommands.LastCursorLineSelectDrag,this._usualArgs(e))},e.prototype.selectAll=function(){this._execMouseCommand(r.CoreNavigationCommands.SelectAll,{})},e.prototype.convertViewToModelPosition=function(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)},e.prototype.emitKeyDown=function(e){this.outgoingEvents.emitKeyDown(e)},e.prototype.emitKeyUp=function(e){this.outgoingEvents.emitKeyUp(e)},e.prototype.emitContextMenu=function(e){this.outgoingEvents.emitContextMenu(e)},e.prototype.emitMouseMove=function(e){this.outgoingEvents.emitMouseMove(e)},e.prototype.emitMouseLeave=function(e){this.outgoingEvents.emitMouseLeave(e)},e.prototype.emitMouseUp=function(e){this.outgoingEvents.emitMouseUp(e)},e.prototype.emitMouseDown=function(e){this.outgoingEvents.emitMouseDown(e)},e.prototype.emitMouseDrag=function(e){this.outgoingEvents.emitMouseDrag(e)},e.prototype.emitMouseDrop=function(e){this.outgoingEvents.emitMouseDrop(e)},e}();t.ViewController=o}),define(u[835],d([1,0,743,48,25,843]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t,n){var i=e.call(this,n)||this;return i.left=t,i}return h(t,e),t.prototype.run=function(e,t){for(var n=[],i=t.getSelections(),r=0;r<i.length;r++)n.push(new o.MoveCaretCommand(i[r],this.left));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()},t}(r.EditorAction),a=function(e){function t(){return e.call(this,!0,{id:"editor.action.moveCarretLeftAction",label:n.localize(0,null),alias:"Move Caret Left",precondition:i.EditorContextKeys.writable})||this}return h(t,e),t}(s);a=v([r.editorAction],a);var c=function(e){function t(){return e.call(this,!1,{id:"editor.action.moveCarretRightAction",label:n.localize(1,null),alias:"Move Caret Right",precondition:i.EditorContextKeys.writable})||this}return h(t,e),t}(s);c=v([r.editorAction],c)}),define(u[836],d([1,0,742,14,48,25,178]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this,{id:"editor.action.transposeLetters",label:n.localize(0,null),alias:"Transpose Letters",precondition:r.EditorContextKeys.writable,kbOpts:{kbExpr:r.EditorContextKeys.textFocus,primary:0,mac:{primary:306}}})||this}return h(t,e),t.prototype.run=function(e,t){for(var n=t.getModel(),r=[],o=t.getSelections(),a=0;a<o.length;a++){var c=o[a];if(c.isEmpty()){var l=c.startLineNumber,u=c.startColumn;if(1!==u&&u!==n.getLineMaxColumn(l)){var d=n.getLineContent(l),h=d.charAt(u-2),p=d.charAt(u-1),f=new i.Range(l,u-1,l,u+1);r.push(new s.ReplaceCommand(f,p+h))}}}r.length>0&&(t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop())},t}(o.EditorAction);a=v([o.editorAction],a)}),define(u[837],d([1,0,741,66,56,25,403,48,1062]),function(e,t,n,i,r,o,s,a){"use strict";function c(e){return i.supportsExecCommand(e)?o.editorAction:function(){}}Object.defineProperty(t,"__esModule",{value:!0});var l="9_cutcopypaste",u=function(e){function t(t,n){var i=e.call(this,n)||this;return i.browserCommand=t,i}return h(t,e),t.prototype.runCommand=function(e,t){var n=e.get(r.ICodeEditorService).getFocusedCodeEditor();n&&n.isFocused()?n.trigger("keyboard",this.id,t):document.execCommand(this.browserCommand)},t.prototype.run=function(e,t){t.focus(),document.execCommand(this.browserCommand)},t}(o.EditorAction),d=function(e){function t(){return e.call(this,"cut",{id:"editor.action.clipboardCutAction",label:n.localize(0,null),alias:"Cut",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.textFocus,primary:2102,win:{primary:2102,secondary:[1044]}},menuOpts:{group:l,order:1}})||this}return h(t,e),t.prototype.run=function(t,n){!n.getConfiguration().emptySelectionClipboard&&n.getSelection().isEmpty()||e.prototype.run.call(this,t,n)},t}(u);d=v([c("cut")],d);var p=function(e){function t(){return e.call(this,"copy",{id:"editor.action.clipboardCopyAction",label:n.localize(1,null),alias:"Copy",precondition:null,kbOpts:{kbExpr:a.EditorContextKeys.textFocus,primary:2081,win:{primary:2081,secondary:[2067]}},menuOpts:{group:l,order:2}})||this}return h(t,e),t.prototype.run=function(t,n){!n.getConfiguration().emptySelectionClipboard&&n.getSelection().isEmpty()||e.prototype.run.call(this,t,n)},t}(u);p=v([c("copy")],p);var f=function(e){function t(){return e.call(this,"paste",{id:"editor.action.clipboardPasteAction",label:n.localize(2,null),alias:"Paste",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.textFocus,primary:2100,win:{primary:2100,secondary:[1043]}},menuOpts:{group:l,order:3}})||this}return h(t,e),t}(u);f=v([c("paste")],f);var g=function(e){function t(){return e.call(this,"copy",{id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:n.localize(3,null),alias:"Copy With Syntax Highlighting",precondition:null,kbOpts:{kbExpr:a.EditorContextKeys.textFocus,primary:null}})||this}return h(t,e),t.prototype.run=function(t,n){!n.getConfiguration().emptySelectionClipboard&&n.getSelection().isEmpty()||(s.CopyOptions.forceCopyWithSyntaxHighlighting=!0,e.prototype.run.call(this,t,n),s.CopyOptions.forceCopyWithSyntaxHighlighting=!1)},t}(u);g=v([i.isEdgeOrIE||!i.supportsExecCommand("copy")?function(){}:o.editorAction],g)}),define(u[838],d([1,0,7,34,16,4,25,46,44,18]),function(e,t,n,i,r,o,s,a,c,l){"use strict";function u(e){var t=[],r=a.CodeLensProviderRegistry.ordered(e),s=r.map(function(i){return l.asWinJsPromise(function(t){return i.provideCodeLenses(e,t)}).then(function(e){if(Array.isArray(e))for(var n=0,r=e;n<r.length;n++){var o=r[n];t.push({symbol:o,provider:i})}},n.onUnexpectedExternalError)});return o.TPromise.join(s).then(function(){return i.mergeSort(t,function(e,t){return e.symbol.range.startLineNumber<t.symbol.range.startLineNumber?-1:e.symbol.range.startLineNumber>t.symbol.range.startLineNumber?1:r.indexOf(e.provider)<r.indexOf(t.provider)?-1:r.indexOf(e.provider)>r.indexOf(t.provider)?1:e.symbol.range.startColumn<t.symbol.range.startColumn?-1:e.symbol.range.startColumn>t.symbol.range.startColumn?1:0})})}Object.defineProperty(t,"__esModule",{value:!0}),t.getCodeLensData=u,s.CommonEditorRegistry.registerLanguageCommand("_executeCodeLensProvider",function(e,t){var i=t.resource;if(!(i instanceof r.default))throw n.illegalArgument();var o=e.get(c.IModelService).getModel(i);if(!o)throw n.illegalArgument();return u(o).then(function(e){return e.map(function(e){return e.symbol})})})}),define(u[839],d([1,0,473,60,48,25,348,842]),function(e,t,n,i,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(t,n){var i=e.call(this,n)||this;return i._type=t,i}return h(t,e),t.prototype.run=function(e,t){var n=t.getModel();if(n){for(var i=[],r=t.getSelections(),o=n.getOptions(),s=0;s<r.length;s++)i.push(new a.LineCommentCommand(r[s],o.tabSize,this._type));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}},t}(o.EditorAction),l=function(e){function t(){return e.call(this,0,{id:"editor.action.commentLine",label:n.localize(0,null),alias:"Toggle Line Comment",precondition:r.EditorContextKeys.writable,kbOpts:{kbExpr:r.EditorContextKeys.textFocus,primary:2133}})||this}return h(t,e),t}(c);l=v([o.editorAction],l);var u=function(e){function t(){return e.call(this,1,{id:"editor.action.addCommentLine",label:n.localize(1,null),alias:"Add Line Comment",precondition:r.EditorContextKeys.writable,kbOpts:{kbExpr:r.EditorContextKeys.textFocus,primary:i.KeyChord(2089,2081)}})||this}return h(t,e),t}(c);u=v([o.editorAction],u);var d=function(e){function t(){return e.call(this,2,{id:"editor.action.removeCommentLine",label:n.localize(2,null),alias:"Remove Line Comment",precondition:r.EditorContextKeys.writable,kbOpts:{kbExpr:r.EditorContextKeys.textFocus,primary:i.KeyChord(2089,2099)}})||this}return h(t,e),t}(c);d=v([o.editorAction],d);var p=function(e){function t(){return e.call(this,{id:"editor.action.blockComment",label:n.localize(3,null),alias:"Toggle Block Comment",precondition:r.EditorContextKeys.writable,kbOpts:{kbExpr:r.EditorContextKeys.textFocus,primary:1567,linux:{primary:3103}}})||this}return h(t,e),t.prototype.run=function(e,t){for(var n=[],i=t.getSelections(),r=0;r<i.length;r++)n.push(new s.BlockCommentCommand(i[r]));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()},t}(o.EditorAction);p=v([o.editorAction],p)}),define(u[350],d([1,0,453,5,4,9,49,41,38,17,35,48,25,73,68]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m=S=function(){function e(e,t,n,i,r,o){var s=this;this._contextMenuService=t,this._contextViewService=n,this._contextKeyService=i,this._keybindingService=r,this._menuService=o,this._toDispose=[],this._contextMenuIsBeingShownCount=0,this._editor=e,this._toDispose.push(this._editor.onContextMenu(function(e){return s._onContextMenu(e)})),this._toDispose.push(this._editor.onDidScrollChange(function(e){s._contextMenuIsBeingShownCount>0&&s._contextViewService.hideContextView()})),this._toDispose.push(this._editor.onKeyDown(function(e){58===e.keyCode&&(e.preventDefault(),e.stopPropagation(),s.showContextMenu())}))}return e.get=function(e){return e.getContribution(S.ID)},e.prototype._onContextMenu=function(e){if(!this._editor.getConfiguration().contribInfo.contextmenu)return this._editor.focus(),void(e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position));if(e.target.type!==f.MouseTargetType.OVERLAY_WIDGET&&(e.event.preventDefault(),e.target.type===f.MouseTargetType.CONTENT_TEXT||e.target.type===f.MouseTargetType.CONTENT_EMPTY||e.target.type===f.MouseTargetType.TEXTAREA)){this._editor.focus(),e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position);var t;e.target.type!==f.MouseTargetType.TEXTAREA&&(t={x:e.event.posx,y:e.event.posy+1}),this.showContextMenu(t)}},e.prototype.showContextMenu=function(e){if(this._editor.getConfiguration().contribInfo.contextmenu)if(this._contextMenuService){var t=this._getMenuActions();t.length>0&&this._doShowContextMenu(t,e)}else this._editor.focus()},e.prototype._getMenuActions=function(){var e=[],t=this._menuService.createMenu(u.MenuId.EditorContext,this._contextKeyService),n=t.getActions({arg:this._editor.getModel().uri});t.dispose();for(var i=0,r=n;i<r.length;i++){var o=r[i][1];e.push.apply(e,o),e.push(new s.Separator)}return e.pop(),e},e.prototype._doShowContextMenu=function(e,t){var n=this;void 0===t&&(t=null);var i=this._editor.getConfiguration().contribInfo.hover;this._editor.updateOptions({hover:!1});var a=t;if(!a){this._editor.revealPosition(this._editor.getPosition()),this._editor.render();var c=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),l=o.getDomNodePagePosition(this._editor.getDomNode()),u=l.left+c.left,d=l.top+c.top+c.height;a={x:u,y:d}}this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({getAnchor:function(){return a},getActions:function(){return r.TPromise.as(e)},getActionItem:function(e){var t=n._keybindingFor(e);if(t)return new s.ActionItem(e,e,{label:!0,keybinding:t.getLabel(),isMenu:!0});var i=e;return"function"==typeof i.getActionItem?i.getActionItem():null},getKeyBinding:function(e){return n._keybindingFor(e)},onHide:function(e){n._contextMenuIsBeingShownCount--,n._editor.focus(),n._editor.updateOptions({hover:i})}})},e.prototype._keybindingFor=function(e){return this._keybindingService.lookupKeybinding(e.id)},e.prototype.getId=function(){return S.ID},e.prototype.dispose=function(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose=i.dispose(this._toDispose)},e}();m.ID="editor.contrib.contextmenu",m=S=v([g.editorContribution,y(1,a.IContextMenuService),y(2,a.IContextViewService),y(3,l.IContextKeyService),y(4,c.IKeybindingService),y(5,u.IMenuService)],m),t.ContextMenuController=m;var b=function(e){function t(){return e.call(this,{id:"editor.action.showContextMenu",label:n.localize(0,null),alias:"Show Editor Context Menu",precondition:null,kbOpts:{kbExpr:d.EditorContextKeys.textFocus,primary:1092}})||this}return h(t,e),t.prototype.run=function(e,t){m.get(t).showContextMenu()},t}(p.EditorAction);b=v([p.editorAction],b);var S}),define(u[841],d([1,0,25,5,48,68]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e){this.selections=e}return e.prototype.equals=function(e){var t=this.selections.length;if(t!==e.selections.length)return!1;for(var n=0;n<t;n++)if(!this.selections[n].equalsSelection(e.selections[n]))return!1;return!0},e}(),a=l=function(e){function t(t){var n=e.call(this)||this;return n._editor=t,n._isCursorUndo=!1,n._undoStack=[],n._prevState=n._readState(),n._register(t.onDidChangeModel(function(e){n._undoStack=[],n._prevState=null})),n._register(t.onDidChangeModelContent(function(e){n._undoStack=[],n._prevState=null})),n._register(t.onDidChangeCursorSelection(function(e){!n._isCursorUndo&&n._prevState&&(n._undoStack.push(n._prevState),n._undoStack.length>50&&(n._undoStack=n._undoStack.splice(0,n._undoStack.length-50))),n._prevState=n._readState()})),n}return h(t,e),t.get=function(e){return e.getContribution(l.ID)},t.prototype._readState=function(){return this._editor.getModel()?new s(this._editor.getSelections()):null},t.prototype.getId=function(){return l.ID},t.prototype.cursorUndo=function(){for(var e=new s(this._editor.getSelections());this._undoStack.length>0;){var t=this._undoStack.pop();if(!t.equals(e))return this._isCursorUndo=!0,this._editor.setSelections(t.selections),void(this._isCursorUndo=!1)}},t}(i.Disposable);a.ID="editor.contrib.cursorUndoController",a=l=v([o.editorContribution],a),t.CursorUndoController=a;var c=function(e){function t(){return e.call(this,{id:"cursorUndo",precondition:null,kbOpts:{kbExpr:r.EditorContextKeys.textFocus,primary:2099}})||this}return h(t,e),t.prototype.runEditorCommand=function(e,t,n){a.get(t).cursorUndo()},t}(n.EditorCommand);c=v([n.editorCommand],c),t.CursorUndo=c;var l}),define(u[235],d([1,0,454,432,60,5,17,14,53,12,33,25,257,833,46,18,147,48,31,77]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E){"use strict";function C(e,t){var n=w.get(e);if(!n)return null;var i,r,o=n.getState(),s=o.wholeWord,a=o.matchCase;if(!e.isFocused()&&o.isRevealed&&o.searchString.length>0)i=o.searchString;else{var l=e.getSelection();if(l.startLineNumber!==l.endLineNumber&&!t.allowMultiline)return null;if(l.isEmpty()){var u=e.getModel().getWordAtPosition(l.getStartPosition());if(!u)return null;i=u.word,r=new c.Selection(l.startLineNumber,u.startColumn,l.startLineNumber,u.endColumn)}else i=e.getModel().getValueInRange(l).replace(/\r\n/g,"\n");t.changeFindSearchString&&n.setSearchString(i)}return t.highlightFindOptions&&n.highlightFindOptions(),{searchText:i,matchCase:a,wholeWord:s,currentMatch:r}}Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.NoFocusChange=0]="NoFocusChange",e[e.FocusFindInput=1]="FocusFindInput",e[e.FocusReplaceInput=2]="FocusReplaceInput"}(t.FindStartFocusAction||(t.FindStartFocusAction={})),t.CONTEXT_FIND_WIDGET_VISIBLE=new s.RawContextKey("findWidgetVisible",!1),t.CONTEXT_FIND_WIDGET_NOT_VISIBLE=t.CONTEXT_FIND_WIDGET_VISIBLE.toNegated(),t.CONTEXT_FIND_INPUT_FOCUSSED=new s.RawContextKey("findInputFocussed",!1);var w=function(e){function n(n,r,o){var s=e.call(this)||this;return s._editor=n,s._findWidgetVisible=t.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(r),s._storageService=o,s._updateHistoryDelayer=new m.Delayer(500),s._currentHistoryNavigator=new i.HistoryNavigator,s._state=s._register(new f.FindReplaceState),s.loadQueryState(),s._register(s._state.addChangeListener(function(e){return s._onStateChanged(e)})),s._model=null,s._register(s._editor.onDidChangeModel(function(){var e=s._editor.getModel()&&s._state.isRevealed;s.disposeModel(),s._state.change({searchScope:null,matchCase:s._storageService.getBoolean("editor.matchCase",_.StorageScope.WORKSPACE,!1),wholeWord:s._storageService.getBoolean("editor.wholeWord",_.StorageScope.WORKSPACE,!1),isRegex:s._storageService.getBoolean("editor.isRegex",_.StorageScope.WORKSPACE,!1)},!1),e&&s._start({forceRevealReplace:!1,seedSearchStringFromSelection:!1,shouldFocus:0,shouldAnimate:!1})})),s}return h(n,e),n.get=function(e){return e.getContribution(n.ID)},n.prototype.dispose=function(){this.disposeModel(),e.prototype.dispose.call(this)},n.prototype.disposeModel=function(){this._model&&(this._model.dispose(),this._model=null)},n.prototype.getId=function(){return n.ID},n.prototype._onStateChanged=function(e){this.saveQueryState(e),e.updateHistory&&e.searchString&&this._delayedUpdateHistory(),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel()))},n.prototype.saveQueryState=function(e){e.isRegex&&void 0!==this._state.isRegex&&this._storageService.store("editor.isRegex",this._state.isRegex,_.StorageScope.WORKSPACE),e.wholeWord&&void 0!==this._state.wholeWord&&this._storageService.store("editor.wholeWord",this._state.wholeWord,_.StorageScope.WORKSPACE),e.matchCase&&void 0!==this._state.matchCase&&this._storageService.store("editor.matchCase",this._state.matchCase,_.StorageScope.WORKSPACE)},n.prototype.loadQueryState=function(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",_.StorageScope.WORKSPACE,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",_.StorageScope.WORKSPACE,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",_.StorageScope.WORKSPACE,this._state.isRegex)},!1)},n.prototype._delayedUpdateHistory=function(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this))},n.prototype._updateHistory=function(){this._state.searchString&&this._currentHistoryNavigator.add(this._state.searchString)},n.prototype.getState=function(){return this._state},n.prototype.getHistory=function(){return this._currentHistoryNavigator},n.prototype.closeFindWidget=function(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()},n.prototype.toggleCaseSensitive=function(){this._state.change({matchCase:!this._state.matchCase},!1)},n.prototype.toggleWholeWords=function(){this._state.change({wholeWord:!this._state.wholeWord},!1)},n.prototype.toggleRegex=function(){this._state.change({isRegex:!this._state.isRegex},!1)},n.prototype.toggleSearchScope=function(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else{var e=this._editor.getSelection();1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,1)),e.isEmpty()||this._state.change({searchScope:e},!0)}},n.prototype.setSearchString=function(e){this._state.change({searchString:e},!1)},n.prototype.highlightFindOptions=function(){},n.prototype.getSelectionSearchString=function(){var e=this._editor.getSelection();if(e.startLineNumber===e.endLineNumber){if(!e.isEmpty())return this._editor.getModel().getValueInRange(e);var t=this._editor.getModel().getWordAtPosition(e.getStartPosition());if(t)return t.word}return null},n.prototype._start=function(e){if(this.disposeModel(),this._editor.getModel()){var t={isRevealed:!0};if(e.seedSearchStringFromSelection&&this._editor.getConfiguration().contribInfo.find.seedSearchStringFromSelection){var n=this.getSelectionSearchString();n&&(this._state.isRegex?t.searchString=l.escapeRegExpCharacters(n):t.searchString=n)}e.forceRevealReplace?t.isReplaceRevealed=!0:this._findWidgetVisible.get()||(t.isReplaceRevealed=!1),this._state.change(t,!1),this._model||(this._model=new p.FindModelBoundToEditorModel(this._editor,this._state))}},n.prototype.start=function(e){this._start(e)},n.prototype.moveToNextMatch=function(){return!!this._model&&(this._model.moveToNextMatch(),!0)},n.prototype.moveToPrevMatch=function(){return!!this._model&&(this._model.moveToPrevMatch(),!0)},n.prototype.replace=function(){return!!this._model&&(this._model.replace(),!0)},n.prototype.replaceAll=function(){return!!this._model&&(this._model.replaceAll(),!0)},n.prototype.selectAllMatches=function(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)},n.prototype.showPreviousFindTerm=function(){var e=this._currentHistoryNavigator.previous();return e&&this._state.change({searchString:e},!1,!1),!0},n.prototype.showNextFindTerm=function(){var e=this._currentHistoryNavigator.next();return e&&this._state.change({searchString:e},!1,!1),!0},n}(o.Disposable);w.ID="editor.contrib.findController",w=v([y(1,s.IContextKeyService),y(2,_.IStorageService)],w),t.CommonFindController=w;var I=function(e){function t(){return e.call(this,{id:p.FIND_IDS.StartFindAction,label:n.localize(0,null),alias:"Find",precondition:null,kbOpts:{kbExpr:null,primary:2084,mac:{primary:2084,secondary:[2083]}}})||this}return h(t,e),t.prototype.run=function(e,t){var n=w.get(t);n&&n.start({forceRevealReplace:!1,seedSearchStringFromSelection:!0,shouldFocus:1,shouldAnimate:!0})},t}(d.EditorAction);I=v([d.editorAction],I),t.StartFindAction=I;var T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.run=function(e,t){var n=w.get(t);n&&!this._run(n)&&(n.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===n.getState().searchString.length,shouldFocus:0,shouldAnimate:!0}),this._run(n))},t}(d.EditorAction);t.MatchFindAction=T;var k=function(e){function t(){return e.call(this,{id:p.FIND_IDS.NextMatchFindAction,label:n.localize(1,null),alias:"Find Next",precondition:null,kbOpts:{kbExpr:S.EditorContextKeys.focus,primary:61,mac:{primary:2085,secondary:[61]}}})||this}return h(t,e),t.prototype._run=function(e){return e.moveToNextMatch()},t}(T);k=v([d.editorAction],k),t.NextMatchFindAction=k;var x=function(e){function t(){return e.call(this,{id:p.FIND_IDS.PreviousMatchFindAction,label:n.localize(2,null),alias:"Find Previous",precondition:null,kbOpts:{kbExpr:S.EditorContextKeys.focus,primary:1085,mac:{primary:3109,secondary:[1085]}}})||this}return h(t,e),t.prototype._run=function(e){return e.moveToPrevMatch()},t}(T);x=v([d.editorAction],x),t.PreviousMatchFindAction=x;var A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.run=function(e,t){var n=w.get(t);if(n){var i=n.getSelectionSearchString();i&&n.setSearchString(i),this._run(n)||(n.start({forceRevealReplace:!1,seedSearchStringFromSelection:!1,shouldFocus:0,shouldAnimate:!0}),this._run(n))}},t}(d.EditorAction);t.SelectionMatchFindAction=A;var L=function(e){function t(){return e.call(this,{id:p.FIND_IDS.NextSelectionMatchFindAction,label:n.localize(3,null),alias:"Find Next Selection",precondition:null,kbOpts:{kbExpr:S.EditorContextKeys.focus,primary:2109}})||this}return h(t,e),t.prototype._run=function(e){return e.moveToNextMatch()},t}(A);L=v([d.editorAction],L),t.NextSelectionMatchFindAction=L;var P=function(e){function t(){return e.call(this,{id:p.FIND_IDS.PreviousSelectionMatchFindAction,label:n.localize(4,null),alias:"Find Previous Selection",precondition:null,kbOpts:{kbExpr:S.EditorContextKeys.focus,primary:3133}})||this}return h(t,e),t.prototype._run=function(e){return e.moveToPrevMatch()},t}(A);P=v([d.editorAction],P),t.PreviousSelectionMatchFindAction=P;var D=function(e){function t(){return e.call(this,{id:p.FIND_IDS.StartFindReplaceAction,label:n.localize(5,null),alias:"Replace",precondition:null,kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596}}})||this}return h(t,e),t.prototype.run=function(e,t){if(!t.getConfiguration().readOnly){var n=w.get(t),i=t.getSelection(),r=!i.isEmpty()&&i.startLineNumber===i.endLineNumber,o=n.getState().searchString||r?2:1;n&&n.start({forceRevealReplace:!0,seedSearchStringFromSelection:r,shouldFocus:o,shouldAnimate:!0})}},t}(d.EditorAction);D=v([d.editorAction],D),t.StartFindReplaceAction=D;var O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype._getNextMatch=function(e){var t=C(e,{changeFindSearchString:!0,allowMultiline:!0,highlightFindOptions:!0});if(!t)return null;if(t.currentMatch)return t.currentMatch;var n=e.getSelections(),i=n[n.length-1],r=e.getModel().findNextMatch(t.searchText,i.getEndPosition(),!1,t.matchCase,t.wholeWord?e.getConfiguration().wordSeparators:null,!1);return r?new c.Selection(r.range.startLineNumber,r.range.startColumn,r.range.endLineNumber,r.range.endColumn):null},t}(d.EditorAction);t.SelectNextFindMatchAction=O;var R=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype._getPreviousMatch=function(e){var t=C(e,{changeFindSearchString:!0,allowMultiline:!0,highlightFindOptions:!0});if(!t)return null;if(t.currentMatch)return t.currentMatch;var n=e.getSelections(),i=n[n.length-1],r=e.getModel().findPreviousMatch(t.searchText,i.getStartPosition(),!1,t.matchCase,t.wholeWord?e.getConfiguration().wordSeparators:null,!1);return r?new c.Selection(r.range.startLineNumber,r.range.startColumn,r.range.endLineNumber,r.range.endColumn):null},t}(d.EditorAction);t.SelectPreviousFindMatchAction=R;var M=function(e){function t(){return e.call(this,{id:p.FIND_IDS.AddSelectionToNextFindMatchAction,label:n.localize(6,null),alias:"Add Selection To Next Find Match",precondition:null,kbOpts:{kbExpr:S.EditorContextKeys.focus,primary:2082}})||this}return h(t,e),t.prototype.run=function(e,t){var n=t.getSelections();if(n.length>1){var i=t.getModel(),r=w.get(t);if(!r)return;var o=r.getState().matchCase,s=!0,a=i.getValueInRange(n[0]);o||(a=a.toLowerCase());for(var l=1,u=n.length;l<u;l++){if((p=n[l]).isEmpty()){s=!1;break}var d=i.getValueInRange(p);if(o||(d=d.toLowerCase()),a!==d){s=!1;break}}if(!s){for(var h=[],l=0,u=n.length;l<u;l++){var p=n[l];if(p.isEmpty()){var f=t.getModel().getWordAtPosition(p.getStartPosition());if(f){h[l]=new c.Selection(p.startLineNumber,f.startColumn,p.startLineNumber,f.endColumn);continue}}h[l]=p}return void t.setSelections(h)}}var g=this._getNextMatch(t);g&&(t.setSelections(n.concat(g)),t.revealRangeInCenterIfOutsideViewport(g))},t}(O);M=v([d.editorAction],M),t.AddSelectionToNextFindMatchAction=M;var N=function(e){function t(){return e.call(this,{id:p.FIND_IDS.AddSelectionToPreviousFindMatchAction,label:n.localize(7,null),alias:"Add Selection To Previous Find Match",precondition:null})||this}return h(t,e),t.prototype.run=function(e,t){var n=this._getPreviousMatch(t);if(n){var i=t.getSelections();t.setSelections(i.concat(n)),t.revealRangeInCenterIfOutsideViewport(n)}},t}(R);N=v([d.editorAction],N),t.AddSelectionToPreviousFindMatchAction=N;var F=function(e){function t(){return e.call(this,{id:p.FIND_IDS.MoveSelectionToNextFindMatchAction,label:n.localize(8,null),alias:"Move Last Selection To Next Find Match",precondition:null,kbOpts:{kbExpr:S.EditorContextKeys.focus,primary:r.KeyChord(2089,2082)}})||this}return h(t,e),t.prototype.run=function(e,t){var n=this._getNextMatch(t);if(n){var i=t.getSelections();t.setSelections(i.slice(0,i.length-1).concat(n)),t.revealRangeInCenterIfOutsideViewport(n)}},t}(O);F=v([d.editorAction],F),t.MoveSelectionToNextFindMatchAction=F;var W=function(e){function t(){return e.call(this,{id:p.FIND_IDS.MoveSelectionToPreviousFindMatchAction,label:n.localize(9,null),alias:"Move Last Selection To Previous Find Match",precondition:null})||this}return h(t,e),t.prototype.run=function(e,t){var n=this._getPreviousMatch(t);if(n){var i=t.getSelections();t.setSelections(i.slice(0,i.length-1).concat(n)),t.revealRangeInCenterIfOutsideViewport(n)}},t}(R);W=v([d.editorAction],W),t.MoveSelectionToPreviousFindMatchAction=W;var B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.run=function(e,t){var n=w.get(t);if(!n)return null;var i=null,r=n.getState();if(r.isRevealed&&r.isRegex&&r.searchString.length>0)i=t.getModel().findMatches(r.searchString,!0,r.isRegex,r.matchCase,r.wholeWord?t.getConfiguration().wordSeparators:null,!1).map(function(e){return e.range});else{var o=C(t,{changeFindSearchString:!0,allowMultiline:!0,highlightFindOptions:!0});if(!o)return;i=t.getModel().findMatches(o.searchText,!0,!1,o.matchCase,o.wholeWord?t.getConfiguration().wordSeparators:null,!1).map(function(e){return e.range})}if(i.length>0){for(var s=t.getSelection(),a=0,l=i.length;a<l;a++){var u=i[a];if(u.intersectRanges(s)){i.splice(a,1),i.unshift(u);break}}t.setSelections(i.map(function(e){return new c.Selection(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn)}))}},t}(d.EditorAction);t.AbstractSelectHighlightsAction=B;var V=function(e){function t(){return e.call(this,{id:"editor.action.selectHighlights",label:n.localize(10,null),alias:"Select All Occurrences of Find Match",precondition:null,kbOpts:{kbExpr:S.EditorContextKeys.focus,primary:3114}})||this}return h(t,e),t}(B);V=v([d.editorAction],V),t.SelectHighlightsAction=V;var z=function(e){function t(){return e.call(this,{id:"editor.action.changeAll",label:n.localize(11,null),alias:"Change All Occurrences",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.textFocus,primary:2108},menuOpts:{group:"1_modification",order:1.2}})||this}return h(t,e),t}(B);z=v([d.editorAction],z),t.CompatChangeAll=z;var H=function(){function e(e,t,n,i){this.searchText=t,this.matchCase=n,this.wordSeparators=i}return e.softEquals=function(e,t){return!e&&!t||!(!e||!t)&&(e.searchText===t.searchText&&e.matchCase===t.matchCase&&e.wordSeparators===t.wordSeparators)},e}(),K=j=function(e){function t(t){var n=e.call(this)||this;return n.editor=t,n._isEnabled=t.getConfiguration().contribInfo.selectionHighlight,n.decorations=[],n.updateSoon=n._register(new m.RunOnceScheduler(function(){return n._update()},300)),n.state=null,n._register(t.onDidChangeConfiguration(function(e){n._isEnabled=t.getConfiguration().contribInfo.selectionHighlight})),n._register(t.onDidChangeCursorSelection(function(e){n._isEnabled&&(e.selection.isEmpty()?e.reason===b.CursorChangeReason.Explicit?(!n.state||n.state.lastWordUnderCursor&&n.state.lastWordUnderCursor.containsPosition(e.selection.getStartPosition())||n._setState(null),n.updateSoon.schedule()):n._setState(null):n._update())})),n._register(t.onDidChangeModel(function(e){n._setState(null)})),n._register(w.get(t).getState().addChangeListener(function(e){n._update()})),n}return h(t,e),t.prototype.getId=function(){return j.ID},t.prototype._update=function(){this._setState(j._createState(this._isEnabled,this.editor))},t._createState=function(e,t){var n=t.getModel();if(!n)return null;var i=t.getConfiguration(),r=null;if(!e)return null;var o=C(t,{changeFindSearchString:!1,allowMultiline:!1,highlightFindOptions:!1});if(!o)return null;var s=g.DocumentHighlightProviderRegistry.has(n);if(o.currentMatch){if(s)return null;if(!i.contribInfo.occurrencesHighlight)return null;r=o.currentMatch}if(/^[ \t]+$/.test(o.searchText))return null;if(o.searchText.length>200)return null;var a=w.get(t);if(!a)return null;var c=a.getState().matchCase,l=t.getSelections(),u=n.getValueInRange(l[0]);c||(u=u.toLowerCase());for(var d=1;d<l.length;d++){var h=n.getValueInRange(l[d]);if(c||(h=h.toLowerCase()),u!==h)return null}return new H(r,o.searchText,o.matchCase,o.wholeWord?t.getConfiguration().wordSeparators:null)},t.prototype._setState=function(e){if(H.softEquals(this.state,e))this.state=e;else if(this.state=e,this.state){var t=this.editor.getModel(),n=g.DocumentHighlightProviderRegistry.has(t),i=t.findMatches(this.state.searchText,!0,!1,this.state.matchCase,this.state.wordSeparators,!1).map(function(e){return e.range});i.sort(a.Range.compareRangesUsingStarts);var r=this.editor.getSelections();r.sort(a.Range.compareRangesUsingStarts);for(var o=[],s=0,c=0,l=i.length,u=r.length;s<l;){var d=i[s];if(c>=u)o.push(d),s++;else{var h=a.Range.compareRangesUsingStarts(d,r[c]);h<0?(o.push(d),s++):h>0?c++:(s++,c++)}}var p=o.map(function(e){return{range:e,options:n?j._SELECTION_HIGHLIGHT:j._SELECTION_HIGHLIGHT_OVERVIEW}});this.decorations=this.editor.deltaDecorations(this.decorations,p)}else this.decorations.length>0&&(this.decorations=this.editor.deltaDecorations(this.decorations,[]))},t.prototype.dispose=function(){this._setState(null),e.prototype.dispose.call(this)},t}(o.Disposable);K.ID="editor.contrib.selectionHighlighter",K._SELECTION_HIGHLIGHT_OVERVIEW=E.ModelDecorationOptions.register({stickiness:u.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"selectionHighlight",overviewRuler:{color:"#A0A0A0",darkColor:"#A0A0A0",position:u.OverviewRulerLane.Center}}),K._SELECTION_HIGHLIGHT=E.ModelDecorationOptions.register({stickiness:u.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"selectionHighlight"}),K=j=v([d.commonEditorContribution],K),t.SelectionHighlighter=K;var U=d.EditorCommand.bindToContribution(w.get);d.CommonEditorRegistry.registerEditorCommand(new U({id:p.FIND_IDS.CloseFindWidgetCommand,precondition:t.CONTEXT_FIND_WIDGET_VISIBLE,handler:function(e){return e.closeFindWidget()},kbOpts:{weight:d.CommonEditorRegistry.commandWeight(5),kbExpr:S.EditorContextKeys.focus,primary:9,secondary:[1033]}})),d.CommonEditorRegistry.registerEditorCommand(new U({id:p.FIND_IDS.ToggleCaseSensitiveCommand,precondition:null,handler:function(e){return e.toggleCaseSensitive()},kbOpts:{weight:d.CommonEditorRegistry.commandWeight(5),kbExpr:S.EditorContextKeys.focus,primary:p.ToggleCaseSensitiveKeybinding.primary,mac:p.ToggleCaseSensitiveKeybinding.mac,win:p.ToggleCaseSensitiveKeybinding.win,linux:p.ToggleCaseSensitiveKeybinding.linux}})),d.CommonEditorRegistry.registerEditorCommand(new U({id:p.FIND_IDS.ToggleWholeWordCommand,precondition:null,handler:function(e){return e.toggleWholeWords()},kbOpts:{weight:d.CommonEditorRegistry.commandWeight(5),kbExpr:S.EditorContextKeys.focus,primary:p.ToggleWholeWordKeybinding.primary,mac:p.ToggleWholeWordKeybinding.mac,win:p.ToggleWholeWordKeybinding.win,linux:p.ToggleWholeWordKeybinding.linux}})),d.CommonEditorRegistry.registerEditorCommand(new U({id:p.FIND_IDS.ToggleRegexCommand,precondition:null,handler:function(e){return e.toggleRegex()},kbOpts:{weight:d.CommonEditorRegistry.commandWeight(5),kbExpr:S.EditorContextKeys.focus,primary:p.ToggleRegexKeybinding.primary,mac:p.ToggleRegexKeybinding.mac,win:p.ToggleRegexKeybinding.win,linux:p.ToggleRegexKeybinding.linux}})),d.CommonEditorRegistry.registerEditorCommand(new U({id:p.FIND_IDS.ToggleSearchScopeCommand,precondition:null,handler:function(e){return e.toggleSearchScope()},kbOpts:{weight:d.CommonEditorRegistry.commandWeight(5),kbExpr:S.EditorContextKeys.focus,primary:p.ToggleSearchScopeKeybinding.primary,mac:p.ToggleSearchScopeKeybinding.mac,win:p.ToggleSearchScopeKeybinding.win,linux:p.ToggleSearchScopeKeybinding.linux}})),d.CommonEditorRegistry.registerEditorCommand(new U({id:p.FIND_IDS.ReplaceOneAction,precondition:t.CONTEXT_FIND_WIDGET_VISIBLE,handler:function(e){return e.replace()},kbOpts:{weight:d.CommonEditorRegistry.commandWeight(5),kbExpr:S.EditorContextKeys.focus,primary:3094}})),d.CommonEditorRegistry.registerEditorCommand(new U({id:p.FIND_IDS.ReplaceAllAction,precondition:t.CONTEXT_FIND_WIDGET_VISIBLE,handler:function(e){return e.replaceAll()},kbOpts:{weight:d.CommonEditorRegistry.commandWeight(5),kbExpr:S.EditorContextKeys.focus,primary:2563}})),d.CommonEditorRegistry.registerEditorCommand(new U({id:p.FIND_IDS.SelectAllMatchesAction,precondition:t.CONTEXT_FIND_WIDGET_VISIBLE,handler:function(e){return e.selectAllMatches()},kbOpts:{weight:d.CommonEditorRegistry.commandWeight(5),kbExpr:S.EditorContextKeys.focus,primary:515}})),d.CommonEditorRegistry.registerEditorCommand(new U({id:p.FIND_IDS.ShowPreviousFindTermAction,precondition:t.CONTEXT_FIND_WIDGET_VISIBLE,handler:function(e){return e.showPreviousFindTerm()},kbOpts:{weight:d.CommonEditorRegistry.commandWeight(5),kbExpr:s.ContextKeyExpr.and(t.CONTEXT_FIND_INPUT_FOCUSSED,S.EditorContextKeys.focus),primary:p.ShowPreviousFindTermKeybinding.primary,mac:p.ShowPreviousFindTermKeybinding.mac,win:p.ShowPreviousFindTermKeybinding.win,linux:p.ShowPreviousFindTermKeybinding.linux}})),d.CommonEditorRegistry.registerEditorCommand(new U({id:p.FIND_IDS.ShowNextFindTermAction,precondition:t.CONTEXT_FIND_WIDGET_VISIBLE,handler:function(e){return e.showNextFindTerm()},kbOpts:{weight:d.CommonEditorRegistry.commandWeight(5),kbExpr:s.ContextKeyExpr.and(t.CONTEXT_FIND_INPUT_FOCUSSED,S.EditorContextKeys.focus),primary:p.ShowNextFindTermKeybinding.primary,mac:p.ShowNextFindTermKeybinding.mac,win:p.ShowNextFindTermKeybinding.win,linux:p.ShowNextFindTermKeybinding.linux}}));var j}),define(u[347],d([1,0,455,24,9,18,60,5,14,25,73,68,750,822,825,48,1055]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m){"use strict";function y(e){if(!i.isUndefined(e)){if(!i.isObject(e))return!1;var t=e;if(!i.isUndefined(t.levels)&&!i.isNumber(t.levels))return!1;if(!i.isUndefined(t.direction)&&!i.isString(t.direction))return!1}return!0}Object.defineProperty(t,"__esModule",{value:!0});var b=A=function(){function e(e){var t=this;this.editor=e,this._isEnabled=this.editor.getConfiguration().contribInfo.folding,this._showFoldingControls=this.editor.getConfiguration().contribInfo.showFoldingControls,this.globalToDispose=[],this.localToDispose=[],this.decorations=[],this.computeToken=0,this.globalToDispose.push(this.editor.onDidChangeModel(function(){return t.onModelChanged()})),this.globalToDispose.push(this.editor.onDidChangeConfiguration(function(e){var n=t._isEnabled;t._isEnabled=t.editor.getConfiguration().contribInfo.folding,n!==t._isEnabled&&t.onModelChanged();var i=t._showFoldingControls;t._showFoldingControls=t.editor.getConfiguration().contribInfo.showFoldingControls,i!==t._showFoldingControls&&t.updateHideFoldIconClass()})),this.onModelChanged()}return e.get=function(e){return e.getContribution(g.ID)},e.prototype.getId=function(){return g.ID},e.prototype.dispose=function(){this.cleanState(),this.globalToDispose=a.dispose(this.globalToDispose)},e.prototype.updateHideFoldIconClass=function(){var e=this.editor.getDomNode();e&&r.toggleClass(e,"alwaysShowFoldIcons","always"===this._showFoldingControls)},e.prototype.saveViewState=function(){var e=this.editor.getModel();if(!e)return{};var t=[];return this.decorations.forEach(function(n){if(n.isCollapsed){var i=n.getDecorationRange(e);i&&t.push({startLineNumber:i.startLineNumber,endLineNumber:i.endLineNumber,indent:n.indent,isCollapsed:!0})}}),{collapsedRegions:t,lineCount:e.getLineCount()}},e.prototype.restoreViewState=function(e){var t=this.editor.getModel();t&&this._isEnabled&&e&&Array.isArray(e.collapsedRegions)&&0!==e.collapsedRegions.length&&e.lineCount===t.getLineCount()&&(this.cleanState(),this.applyRegions(e.collapsedRegions),this.onModelChanged())},e.prototype.cleanState=function(){this.localToDispose=a.dispose(this.localToDispose)},e.prototype.applyRegions=function(e){var t=this,n=this.editor.getModel();if(n){var i=!1;e=f.limitByIndent(e,A.MAX_FOLDING_REGIONS).sort(function(e,t){return e.startLineNumber-t.startLineNumber}),this.editor.changeDecorations(function(r){for(var o=[],s=0,a=0;a<t.decorations.length&&s<e.length;){var c=(u=t.decorations[a]).getDecorationRange(n);if(c){for(;s<e.length&&c.startLineNumber>e[s].startLineNumber;){d=e[s];i=i||d.isCollapsed,o.push(new p.CollapsibleRegion(d,n,r)),s++}if(s<e.length){var l=e[s];c.startLineNumber<l.startLineNumber?(i=i||u.isCollapsed,u.dispose(r),a++):c.startLineNumber===l.startLineNumber&&(!u.isCollapsed||u.startLineNumber===l.startLineNumber&&u.endLineNumber===l.endLineNumber||(i=!0),l.isCollapsed=u.isCollapsed,u.update(l,n,r),o.push(u),a++,s++)}}else i=i||u.isCollapsed,u.dispose(r),a++}for(;a<t.decorations.length;){var u=t.decorations[a];i=i||u.isCollapsed,u.dispose(r),a++}for(;s<e.length;){var d=e[s];i=i||d.isCollapsed,o.push(new p.CollapsibleRegion(d,n,r)),s++}t.decorations=o}),i&&this.updateHiddenAreas()}},e.prototype.onModelChanged=function(){var e=this;this.cleanState(),this.updateHideFoldIconClass();var t=this.editor.getModel();this._isEnabled&&t&&(this.computeAndApplyCollapsibleRegions(),this.contentChangedScheduler=new o.RunOnceScheduler(function(){return e.computeAndApplyCollapsibleRegions()},200),this.cursorChangedScheduler=new o.RunOnceScheduler(function(){return e.revealCursor()},200),this.localToDispose.push(this.contentChangedScheduler),this.localToDispose.push(this.cursorChangedScheduler),this.localToDispose.push(this.editor.onDidChangeModelContent(function(t){return e.contentChangedScheduler.schedule()})),this.localToDispose.push(this.editor.onDidChangeCursorPosition(function(t){e._isEnabled&&e.cursorChangedScheduler.schedule()})),this.localToDispose.push(this.editor.onMouseDown(function(t){return e.onEditorMouseDown(t)})),this.localToDispose.push(this.editor.onMouseUp(function(t){return e.onEditorMouseUp(t)})),this.localToDispose.push({dispose:function(){return e.disposeDecorations()}}))},e.prototype.computeAndApplyCollapsibleRegions=function(){var e=this.editor.getModel();this.applyRegions(e?f.computeRanges(e):[])},e.prototype.disposeDecorations=function(){var e=this;this.editor.changeDecorations(function(t){e.decorations.forEach(function(e){return e.dispose(t)})}),this.decorations=[],this.editor.setHiddenAreas([])},e.prototype.revealCursor=function(){var e=this,t=this.editor.getModel();if(t){var n=!1,i=this.editor.getSelections();this.editor.changeDecorations(function(r){return e.decorations.forEach(function(e){if(e.isCollapsed){var o=e.getDecorationRange(t);if(o)for(var s=0,a=i;s<a.length;s++){var c=a[s];if(o.startLineNumber<c.selectionStartLineNumber&&c.selectionStartLineNumber<=o.endLineNumber){e.setCollapsed(!1,r),n=!0;break}}}})}),n&&this.updateHiddenAreas(this.editor.getPosition().lineNumber)}},e.prototype.onEditorMouseDown=function(e){if(this.mouseDownInfo=null,0!==this.decorations.length){var t=e.target.range;if(t&&e.event.leftButton){var n=this.editor.getModel(),i=!1;switch(e.target.type){case u.MouseTargetType.GUTTER_LINE_DECORATIONS:i=!0;break;case u.MouseTargetType.CONTENT_EMPTY:case u.MouseTargetType.CONTENT_TEXT:if(t.startColumn===n.getLineMaxColumn(t.startLineNumber))break;return;default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:i}}}},e.prototype.onEditorMouseUp=function(e){var t=this;if(this.mouseDownInfo){var n=this.mouseDownInfo.lineNumber,i=this.mouseDownInfo.iconClicked,r=e.target.range;if(r&&r.startLineNumber===n){var o=this.editor.getModel();if(i){if(e.target.type!==u.MouseTargetType.GUTTER_LINE_DECORATIONS)return}else if(r.startColumn!==o.getLineMaxColumn(n))return;this.editor.changeDecorations(function(e){for(var r=0;r<t.decorations.length;r++){var s=t.decorations[r],a=s.getDecorationRange(o);if(a&&a.startLineNumber===n)return void((i||s.isCollapsed)&&(s.setCollapsed(!s.isCollapsed,e),t.updateHiddenAreas(n)))}})}}},e.prototype.updateHiddenAreas=function(e){var t=this.editor.getModel(),n=this.editor.getSelections(),i=!1,r=[];this.decorations.filter(function(e){return e.isCollapsed}).forEach(function(e){var o=e.getDecorationRange(t);o&&(r.push(new c.Range(o.startLineNumber+1,1,o.endLineNumber,1)),n.forEach(function(e,r){c.Range.containsPosition(o,e.getStartPosition())&&(n[r]=e=e.setStartPosition(o.startLineNumber,t.getLineMaxColumn(o.startLineNumber)),i=!0),c.Range.containsPosition(o,e.getEndPosition())&&(n[r]=e.setEndPosition(o.startLineNumber,t.getLineMaxColumn(o.startLineNumber)),i=!0)}))}),i&&this.editor.setSelections(n),this.editor.setHiddenAreas(r),e&&this.editor.revealPositionInCenterIfOutsideViewport({lineNumber:e,column:1})},e.prototype.unfold=function(e){var t=this,n=this.editor.getModel(),i=!1,r=this.editor.getSelections(),o=!1;r.forEach(function(s,a){var c=p.getCollapsibleRegionsToUnfoldAtLine(t.decorations,n,s.startLineNumber,e);if(c.length>0&&(c.forEach(function(e,n){t.editor.changeDecorations(function(t){e.setCollapsed(!1,t),i=!0})}),!p.doesLineBelongsToCollapsibleRegion(c[0].foldingRange,s.startLineNumber))){var l=c[0].startLineNumber,u=n.getLineMaxColumn(c[0].startLineNumber);r[a]=s.setEndPosition(l,u).setStartPosition(l,u),o=!0}}),o&&this.editor.setSelections(r),i&&this.updateHiddenAreas(r[0].startLineNumber)},e.prototype.fold=function(e,t){var n=this,i=!1,r=this.editor.getSelections();r.forEach(function(r){var o=r.startLineNumber;p.getCollapsibleRegionsToFoldAtLine(n.decorations,n.editor.getModel(),o,e,t).forEach(function(e){return n.editor.changeDecorations(function(t){e.setCollapsed(!0,t),i=!0})})}),i&&this.updateHiddenAreas(r[0].startLineNumber)},e.prototype.foldUnfoldRecursively=function(e){var t=this,n=!1,i=this.editor.getModel(),r=this.editor.getSelections();r.forEach(function(r){for(var o,s=r.startLineNumber,a=[],c=0,l=t.decorations.length;c<l;c++){var u=t.decorations[c],d=u.getDecorationRange(i);if(d&&(d.startLineNumber>=s&&(d.endLineNumber<=o||void 0===o))){if(d.startLineNumber!==s&&void 0===o)return;o=o||d.endLineNumber,a.push(u)}}a.length>0&&a.forEach(function(i){t.editor.changeDecorations(function(t){i.setCollapsed(e,t),n=!0})})}),n&&this.updateHiddenAreas(r[0].startLineNumber)},e.prototype.foldAll=function(){this.changeAll(!0)},e.prototype.unfoldAll=function(){this.changeAll(!1)},e.prototype.changeAll=function(e){var t=this;if(this.decorations.length>0){var n=!0;this.editor.changeDecorations(function(i){t.decorations.forEach(function(t){e!==t.isCollapsed&&(t.setCollapsed(e,i),n=!0)})}),n&&this.updateHiddenAreas(this.editor.getPosition().lineNumber)}},e.prototype.foldLevel=function(e,t){var n=this,i=this.editor.getModel(),r=[i.getFullModelRange()],o=!1;this.editor.changeDecorations(function(s){n.decorations.forEach(function(n){var a=n.getDecorationRange(i);if(a){for(;!c.Range.containsRange(r[r.length-1],a);)r.pop();r.push(a),r.length!==e+1||n.isCollapsed||t.some(function(e){return a.startLineNumber<e&&e<=a.endLineNumber})||(n.setCollapsed(!0,s),o=!0)}})}),o&&this.updateHiddenAreas(t[0])},e}();b.MAX_FOLDING_REGIONS=5e3,b=A=v([d.editorContribution],b),t.FoldingController=b;var S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.runEditorCommand=function(e,t,n){var i=b.get(t);i&&(this.reportTelemetry(e,t),this.invoke(i,t,n))},t.prototype.run=function(e,t){},t}(l.EditorAction),_=function(e){function t(){return e.call(this,{id:"editor.unfold",label:n.localize(0,null),alias:"Unfold",precondition:null,kbOpts:{kbExpr:m.EditorContextKeys.textFocus,primary:3161,mac:{primary:2649}},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'level': Number of levels to unfold\n\t\t\t\t\t\t",constraint:y}]}})||this}return h(t,e),t.prototype.invoke=function(e,t,n){e.unfold(n?n.levels||1:1)},t}(S);_=v([l.editorAction],_);var E=function(e){function t(){return e.call(this,{id:"editor.unfoldRecursively",label:n.localize(1,null),alias:"Unfold Recursively",precondition:null,kbOpts:{kbExpr:m.EditorContextKeys.textFocus,primary:s.KeyChord(2089,2137)}})||this}return h(t,e),t.prototype.invoke=function(e,t,n){e.foldUnfoldRecursively(!1)},t}(S);E=v([l.editorAction],E);var C=function(e){function t(){return e.call(this,{id:"editor.fold",label:n.localize(2,null),alias:"Fold",precondition:null,kbOpts:{kbExpr:m.EditorContextKeys.textFocus,primary:3159,mac:{primary:2647}},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'levels': Number of levels to fold\n\t\t\t\t\t\t\t* 'up': If 'true', folds given number of levels up otherwise folds down\n\t\t\t\t\t\t",constraint:y}]}})||this}return h(t,e),t.prototype.invoke=function(e,t,n){n=n||{levels:1,direction:"up"},e.fold(n.levels||1,"up"===n.direction)},t}(S);C=v([l.editorAction],C);var w=function(e){function t(){return e.call(this,{id:"editor.foldRecursively",label:n.localize(3,null),alias:"Fold Recursively",precondition:null,kbOpts:{kbExpr:m.EditorContextKeys.textFocus,primary:s.KeyChord(2089,2135)}})||this}return h(t,e),t.prototype.invoke=function(e,t){e.foldUnfoldRecursively(!0)},t}(S);w=v([l.editorAction],w);var I=function(e){function t(){return e.call(this,{id:"editor.foldAll",label:n.localize(4,null),alias:"Fold All",precondition:null,kbOpts:{kbExpr:m.EditorContextKeys.textFocus,primary:s.KeyChord(2089,2069)}})||this}return h(t,e),t.prototype.invoke=function(e,t){e.foldAll()},t}(S);I=v([l.editorAction],I);var T=function(e){function t(){return e.call(this,{id:"editor.unfoldAll",label:n.localize(5,null),alias:"Unfold All",precondition:null,kbOpts:{kbExpr:m.EditorContextKeys.textFocus,primary:s.KeyChord(2089,2088)}})||this}return h(t,e),t.prototype.invoke=function(e,t){e.unfoldAll()},t}(S);T=v([l.editorAction],T);var k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.getFoldingLevel=function(){return parseInt(this.id.substr(t.ID_PREFIX.length))},t.prototype.getSelectedLines=function(e){return e.getSelections().map(function(e){return e.startLineNumber})},t.prototype.invoke=function(e,t){e.foldLevel(this.getFoldingLevel(),this.getSelectedLines(t))},t}(S);k.ID_PREFIX="editor.foldLevel",k.ID=function(e){return k.ID_PREFIX+e};for(var x=1;x<=9;x++)l.CommonEditorRegistry.registerEditorAction(new k({id:k.ID(x),label:n.localize(6,null,x),alias:"Fold Level "+x,precondition:null,kbOpts:{kbExpr:m.EditorContextKeys.textFocus,primary:s.KeyChord(2089,2048|21+x)}}));var A}),define(u[346],d([1,0,7,16,34,4,14,25,46,44,18]),function(e,t,n,i,r,o,s,a,c,l,u){"use strict";function d(e,t,i){var s=c.DocumentRangeFormattingEditProviderRegistry.ordered(e);if(0===s.length)return o.TPromise.as(void 0);var a;return u.sequence(s.map(function(o){if(r.isFalsyOrEmpty(a))return function(){return u.asWinJsPromise(function(n){return o.provideDocumentRangeFormattingEdits(e,t,i,n)}).then(function(e){a=e},n.onUnexpectedExternalError)}})).then(function(){return a})}function h(e,t){var i=c.DocumentFormattingEditProviderRegistry.ordered(e);if(0===i.length)return d(e,e.getFullModelRange(),t);var o;return u.sequence(i.map(function(i){if(r.isFalsyOrEmpty(o))return function(){return u.asWinJsPromise(function(n){return i.provideDocumentFormattingEdits(e,t,n)}).then(function(e){o=e},n.onUnexpectedExternalError)}})).then(function(){return o})}function p(e,t,i,r){var s=c.OnTypeFormattingEditProviderRegistry.ordered(e)[0];return s?s.autoFormatTriggerCharacters.indexOf(i)<0?o.TPromise.as(void 0):u.asWinJsPromise(function(n){return s.provideOnTypeFormattingEdits(e,t,i,r,n)}).then(function(e){return e},n.onUnexpectedExternalError):o.TPromise.as(void 0)}Object.defineProperty(t,"__esModule",{value:!0}),t.getDocumentRangeFormattingEdits=d,t.getDocumentFormattingEdits=h,t.getOnTypeFormattingEdits=p,a.CommonEditorRegistry.registerLanguageCommand("_executeFormatRangeProvider",function(e,t){var r=t.resource,o=t.range,a=t.options;if(!(r instanceof i.default&&s.Range.isIRange(o)))throw n.illegalArgument();var c=e.get(l.IModelService).getModel(r);if(!c)throw n.illegalArgument("resource");return d(c,s.Range.lift(o),a)}),a.CommonEditorRegistry.registerLanguageCommand("_executeFormatDocumentProvider",function(e,t){var r=t.resource,o=t.options;if(!(r instanceof i.default))throw n.illegalArgument("resource");var s=e.get(l.IModelService).getModel(r);if(!s)throw n.illegalArgument("resource");return h(s,o)}),a.CommonEditorRegistry.registerDefaultLanguageCommand("_executeFormatOnTypeProvider",function(e,t,i){var r=i.ch,o=i.options;if("string"!=typeof r)throw n.illegalArgument("ch");return p(e,t,r,o)})}),define(u[845],d([1,0,456,34,60,5,4,17,25,46,346,356,32,56,186,195,14,114,288,48]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E){"use strict";function C(e){if((e=e.filter(function(e){return e.range})).length){for(var t=e[0].range,i=1;i<e.length;i++)t=b.Range.plusRange(t,e[i].range);var r=t.startLineNumber,o=t.endLineNumber;r===o?1===e.length?S.alert(n.localize(0,null,r)):S.alert(n.localize(1,null,e.length,r)):1===e.length?S.alert(n.localize(2,null,r,o)):S.alert(n.localize(3,null,e.length,r,o))}}Object.defineProperty(t,"__esModule",{value:!0});var w=A=function(){function e(e,t){var n=this;this.editor=e,this.workerService=t,this.callOnDispose=[],this.callOnModel=[],this.callOnDispose.push(e.onDidChangeConfiguration(function(){return n.update()})),this.callOnDispose.push(e.onDidChangeModel(function(){return n.update()})),this.callOnDispose.push(e.onDidChangeModelLanguage(function(){return n.update()})),this.callOnDispose.push(l.OnTypeFormattingEditProviderRegistry.onDidChange(this.update,this))}return e.prototype.update=function(){var e=this;if(this.callOnModel=o.dispose(this.callOnModel),this.editor.getConfiguration().contribInfo.formatOnType&&this.editor.getModel()){var t=this.editor.getModel(),n=l.OnTypeFormattingEditProviderRegistry.ordered(t)[0];if(n&&n.autoFormatTriggerCharacters){for(var i=new m.CharacterSet,r=0,s=n.autoFormatTriggerCharacters;r<s.length;r++){var a=s[r];i.add(a.charCodeAt(0))}this.callOnModel.push(this.editor.onDidType(function(t){var n=t.charCodeAt(t.length-1);i.has(n)&&e.trigger(String.fromCharCode(n))}))}}},e.prototype.trigger=function(e){var t=this;if(!(this.editor.getSelections().length>1)){var n=this.editor.getModel(),r=this.editor.getPosition(),o=!1,s=this.editor.onDidChangeModelContent(function(e){if(e.isFlush)return o=!0,void s.dispose();for(var t=0,n=e.changes.length;t<n;t++)if(e.changes[t].range.endLineNumber<=r.lineNumber)return o=!0,void s.dispose()}),a=n.getOptions();u.getOnTypeFormattingEdits(n,r,e,{tabSize:a.tabSize,insertSpaces:a.insertSpaces}).then(function(e){return t.workerService.computeMoreMinimalEdits(n.uri,e,[])}).then(function(e){s.dispose(),o||i.isFalsyOrEmpty(e)||(d.EditOperationsCommand.execute(t.editor,e),C(e))},function(e){throw s.dispose(),e})}},e.prototype.getId=function(){return A.ID},e.prototype.dispose=function(){this.callOnDispose=o.dispose(this.callOnDispose),this.callOnModel=o.dispose(this.callOnModel)},e}();w.ID="editor.contrib.autoFormat",w=A=v([c.commonEditorContribution,y(1,g.IEditorWorkerService)],w);var I=L=function(){function e(e,t){var n=this;this.editor=e,this.workerService=t,this.callOnDispose=[],this.callOnModel=[],this.callOnDispose.push(e.onDidChangeConfiguration(function(){return n.update()})),this.callOnDispose.push(e.onDidChangeModel(function(){return n.update()})),this.callOnDispose.push(e.onDidChangeModelLanguage(function(){return n.update()})),this.callOnDispose.push(l.DocumentRangeFormattingEditProviderRegistry.onDidChange(this.update,this))}return e.prototype.update=function(){var e=this;if(this.callOnModel=o.dispose(this.callOnModel),this.editor.getConfiguration().contribInfo.formatOnPaste&&this.editor.getModel()){var t=this.editor.getModel(),n=l.DocumentRangeFormattingEditProviderRegistry.ordered(t)[0];n&&n.provideDocumentRangeFormattingEdits&&this.callOnModel.push(this.editor.onDidPaste(function(t){e.trigger(t)}))}},e.prototype.trigger=function(e){var t=this;if(!(this.editor.getSelections().length>1)){var n=this.editor.getModel(),r=n.getOptions(),o=r.tabSize,s=r.insertSpaces,a=new _.EditorState(this.editor,5);u.getDocumentRangeFormattingEdits(n,e,{tabSize:o,insertSpaces:s}).then(function(e){return t.workerService.computeMoreMinimalEdits(n.uri,e,[])}).then(function(e){a.validate(t.editor)&&!i.isFalsyOrEmpty(e)&&(d.EditOperationsCommand.execute(t.editor,e),C(e))})}},e.prototype.getId=function(){return L.ID},e.prototype.dispose=function(){this.callOnDispose=o.dispose(this.callOnDispose),this.callOnModel=o.dispose(this.callOnModel)},e}();I.ID="editor.contrib.formatOnPaste",I=L=v([c.commonEditorContribution,y(1,g.IEditorWorkerService)],I);var T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.run=function(e,t){var n=e.get(g.IEditorWorkerService),r=this._getFormattingEdits(t);if(!r)return s.TPromise.as(void 0);var o=new _.EditorState(t,5);return r.then(function(e){return n.computeMoreMinimalEdits(t.getModel().uri,e,t.getSelections())}).then(function(e){o.validate(t)&&!i.isFalsyOrEmpty(e)&&(d.EditOperationsCommand.execute(t,e),C(e),t.focus())})},t}(c.EditorAction);t.AbstractFormatAction=T;var k=function(e){function t(){return e.call(this,{id:"editor.action.formatDocument",label:n.localize(4,null),alias:"Format Document",precondition:a.ContextKeyExpr.and(E.EditorContextKeys.writable,E.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:E.EditorContextKeys.textFocus,primary:1572,linux:{primary:3111}},menuOpts:{group:"1_modification",order:1.3}})||this}return h(t,e),t.prototype._getFormattingEdits=function(e){var t=e.getModel(),n=t.getOptions(),i=n.tabSize,r=n.insertSpaces;return u.getDocumentFormattingEdits(t,{tabSize:i,insertSpaces:r})},t}(T);k=v([c.editorAction],k),t.FormatDocumentAction=k;var x=function(e){function t(){return e.call(this,{id:"editor.action.formatSelection",label:n.localize(5,null),alias:"Format Code",precondition:a.ContextKeyExpr.and(E.EditorContextKeys.writable,E.EditorContextKeys.hasDocumentSelectionFormattingProvider,E.EditorContextKeys.hasNonEmptySelection),kbOpts:{kbExpr:E.EditorContextKeys.textFocus,primary:r.KeyChord(2089,2084)},menuOpts:{group:"1_modification",order:1.31}})||this}return h(t,e),t.prototype._getFormattingEdits=function(e){var t=e.getModel(),n=t.getOptions(),i=n.tabSize,r=n.insertSpaces;return u.getDocumentRangeFormattingEdits(t,e.getSelection(),{tabSize:i,insertSpaces:r})},t}(T);x=v([c.editorAction],x),t.FormatSelectionAction=x,p.CommandsRegistry.registerCommand("editor.action.format",function(e){var t=e.get(f.ICodeEditorService).getFocusedCodeEditor();if(t)return(new(function(e){function t(){return e.call(this,{})||this}return h(t,e),t.prototype._getFormattingEdits=function(e){var t=e.getModel(),n=e.getSelection(),i=t.getOptions(),r=i.tabSize,o=i.insertSpaces;return n.isEmpty()?u.getDocumentFormattingEdits(t,{tabSize:r,insertSpaces:o}):u.getDocumentRangeFormattingEdits(t,n,{tabSize:r,insertSpaces:o})},t}(T))).run(e,t)});var A,L}),define(u[345],d([1,0,7,4,25,46,18]),function(e,t,n,i,r,o,s){"use strict";function a(e){return i.TPromise.join(e).then(function(e){for(var t=[],n=0,i=e;n<i.length;n++){var r=i[n];Array.isArray(r)?t.push.apply(t,r):r&&t.push(r)}return t})}function c(e,t,i,r){return a(i.ordered(e).map(function(i,o){return s.asWinJsPromise(function(n){return r(i,e,t,n)}).then(function(e){return e},function(e){n.onUnexpectedExternalError(e)})}))}function l(e,t){return c(e,t,o.DefinitionProviderRegistry,function(e,t,n,i){return e.provideDefinition(t,n,i)})}function u(e,t){return c(e,t,o.ImplementationProviderRegistry,function(e,t,n,i){return e.provideImplementation(t,n,i)})}function d(e,t){return c(e,t,o.TypeDefinitionProviderRegistry,function(e,t,n,i){return e.provideTypeDefinition(t,n,i)})}Object.defineProperty(t,"__esModule",{value:!0}),t.getDefinitionsAtPosition=l,t.getImplementationsAtPosition=u,t.getTypeDefinitionsAtPosition=d,r.CommonEditorRegistry.registerDefaultLanguageCommand("_executeDefinitionProvider",l),r.CommonEditorRegistry.registerDefaultLanguageCommand("_executeImplementationProvider",u),r.CommonEditorRegistry.registerDefaultLanguageCommand("_executeTypeDefinitionProvider",d)}),define(u[847],d([1,0,34,7,4,25,46,18]),function(e,t,n,i,r,o,s,a){"use strict";function c(e,t){var o=[],c=s.HoverProviderRegistry.ordered(e).map(function(n,r){return a.asWinJsPromise(function(i){return n.provideHover(e,t,i)}).then(function(e){if(e){var t=void 0!==e.range,n=void 0!==e.contents&&e.contents&&e.contents.length>0;t&&n&&(o[r]=e)}},function(e){i.onUnexpectedExternalError(e)})});return r.TPromise.join(c).then(function(){return n.coalesce(o)})}Object.defineProperty(t,"__esModule",{value:!0}),t.getHover=c,o.CommonEditorRegistry.registerDefaultLanguageCommand("_executeHoverProvider",c)}),define(u[848],d([1,0,461,16,7,9,4,194,119,14,37,46,242,847,358,359,280,77]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,v,m,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var b=function(){function e(e){this._editor=e,this._range=null}return e.prototype.setRange=function(e){this._range=e,this._result=[]},e.prototype.clearResult=function(){this._result=[]},e.prototype.computeAsync=function(){var e=this._editor.getModel();return d.HoverProviderRegistry.has(e)?f.getHover(e,new u.Position(this._range.startLineNumber,this._range.startColumn)):s.TPromise.as(null)},e.prototype.computeSync=function(){var e=this,t=this._range.startLineNumber;if(t>this._editor.getModel().getLineCount())return[];var n=function(e){return e&&(!Array.isArray(e)||e.length>0)},i=this._editor.getModel().getLineMaxColumn(t);return this._editor.getLineDecorations(t).map(function(r){var o=r.range.startLineNumber===t?r.range.startColumn:1,s=r.range.endLineNumber===t?r.range.endColumn:i;if(o>e._range.startColumn||e._range.endColumn>s||!n(r.options.hoverMessage))return null;var a,c=new l.Range(e._range.startLineNumber,o,e._range.startLineNumber,s);return r.options.hoverMessage&&(a=Array.isArray(r.options.hoverMessage)?r.options.hoverMessage.slice():[r.options.hoverMessage]),{contents:a,range:c}}).filter(function(e){return!!e})},e.prototype.onResult=function(e,t){this._result=t?e.concat(this._result):this._result.concat(e)},e.prototype.getResult=function(){return this._result.slice(0)},e.prototype.getResultWithLoadingMessage=function(){return this._result.slice(0).concat([this._getLoadingMessage()])},e.prototype._getLoadingMessage=function(){return{range:this._range,contents:[m.textToMarkedString(n.localize(0,null))]}},e}(),S=function(e){function t(n,i,r){var o=e.call(this,t.ID,n)||this;return o._computer=new b(o._editor),o._highlightDecorations=[],o._isChangingDecorations=!1,o._openerService=i||c.NullOpenerService,o._modeService=r,o._hoverOperation=new g.HoverOperation(o._computer,function(e){return o._withResult(e,!0)},null,function(e){return o._withResult(e,!1)}),o}return h(t,e),t.prototype.dispose=function(){this._hoverOperation.cancel(),e.prototype.dispose.call(this)},t.prototype.onModelDecorationsChanged=function(){this._isChangingDecorations||this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start())},t.prototype.startShowingAt=function(e,t){if(!this._lastRange||!this._lastRange.equalsRange(e)){if(this._hoverOperation.cancel(),this.isVisible)if(this._showAtPosition.lineNumber!==e.startLineNumber)this.hide();else{for(var n=[],i=0,r=this._messages.length;i<r;i++){var o=this._messages[i],s=o.range;s.startColumn<=e.startColumn&&s.endColumn>=e.endColumn&&n.push(o)}n.length>0?this._renderMessages(e,n):this.hide()}this._lastRange=e,this._computer.setRange(e),this._shouldFocus=t,this._hoverOperation.start()}},t.prototype.hide=function(){this._lastRange=null,this._hoverOperation.cancel(),e.prototype.hide.call(this),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1},t.prototype._withResult=function(e,t){this._messages=e,this._lastRange&&this._messages.length>0?this._renderMessages(this._lastRange,this._messages):t&&this.hide()},t.prototype._renderMessages=function(e,n){var s=this,c=Number.MAX_VALUE,d=n[0].range,h=document.createDocumentFragment();n.forEach(function(e){e.range&&(c=Math.min(c,e.range.startColumn),d=l.Range.plusRange(d,e.range),e.contents.filter(function(e){return!!e}).forEach(function(e){var t=a.renderMarkedString(e,{actionCallback:function(e){s._openerService.open(i.default.parse(e)).then(void 0,r.onUnexpectedError)},codeBlockRenderer:function(e,t){var n=e?s._modeService.getModeIdForLanguageName(e):s._editor.getModel().getLanguageIdentifier().language;return s._modeService.getOrCreateMode(n).then(function(e){return'<div class="code">'+p.tokenizeToString(t,n)+"</div>"})}});h.appendChild(o.$("div.hover-row",null,t))}))}),this.showAt(new u.Position(e.startLineNumber,c),this._shouldFocus),this.updateContents(h),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[{range:d,options:t._DECORATION_OPTIONS}]),this._isChangingDecorations=!1},t}(v.ContentHoverWidget);S.ID="editor.contrib.modesContentHoverWidget",S._DECORATION_OPTIONS=y.ModelDecorationOptions.register({className:"hoverHighlight"}),t.ModesContentHoverWidget=S}),define(u[849],d([1,0,463,5,4,12,48,25,54,44,14,53,105,203,112,298,361]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,y){"use strict";function b(e,t,n){n=n||1;for(var i=m.ShiftCommand.shiftIndentCount(t,t.length+n,e),r="",o=0;o<i;o++)r+="\t";return r}function S(e,t,n){n=n||1;for(var i=m.ShiftCommand.unshiftIndentCount(t,t.length+n,e),r="",o=0;o<i;o++)r+="\t";return r}function _(e,t,n,i){if(1!==e.getLineCount()||1!==e.getLineMaxColumn(1)){var r=g.LanguageConfigurationRegistry.getIndentationRules(e.getLanguageIdentifier().id);if(r){for(n=Math.min(n,e.getLineCount());t<=n&&r.unIndentedLinePattern;){_=e.getLineContent(t);if(!r.unIndentedLinePattern.test(_))break;t++}if(!(t>n-1)){var s,a=e.getOptions(),c=a.tabSize,l=a.insertSpaces,u=[],h=e.getLineContent(t),v=h;if(void 0!==i&&null!==i){s=i;E=o.getLeadingWhitespace(h);v=s+h.substring(E.length),r.decreaseIndentPattern&&r.decreaseIndentPattern.test(v)&&(v=(s=S(c,s))+h.substring(E.length)),h!==v&&u.push(p.EditOperation.replace(new d.Selection(t,1,t,E.length+1),f.TextModel.normalizeIndentation(s,c,l)))}else s=o.getLeadingWhitespace(h);var m=s;r.increaseIndentPattern&&r.increaseIndentPattern.test(v)?(m=b(c,m),s=b(c,s)):r.indentNextLinePattern&&r.indentNextLinePattern.test(v)&&(m=b(c,m));for(var y=++t;y<=n;y++){var _=e.getLineContent(y),E=o.getLeadingWhitespace(_),C=m+_.substring(E.length);r.decreaseIndentPattern&&r.decreaseIndentPattern.test(C)&&(m=S(c,m),s=S(c,s)),E!==m&&u.push(p.EditOperation.replace(new d.Selection(y,1,y,E.length+1),f.TextModel.normalizeIndentation(m,c,l))),r.unIndentedLinePattern&&r.unIndentedLinePattern.test(_)||(m=r.increaseIndentPattern&&r.increaseIndentPattern.test(C)?s=b(c,s):r.indentNextLinePattern&&r.indentNextLinePattern.test(C)?b(c,m):s)}return u}}}}function E(e,t,n,i){if(1!==e.getLineCount()||1!==e.getLineMaxColumn(1)){for(var r="",o=0;o<n;o++)r+=" ";for(var s=e.getLinesContent(),o=0;o<s.length;o++){var a=e.getLineFirstNonWhitespaceColumn(o+1);0===a&&(a=e.getLineMaxColumn(o+1));var c=(i?s[o].substr(0,a).replace(/\t/gi,r):s[o].substr(0,a).replace(new RegExp(r,"gi"),"\t"))+s[o].substr(a);t.addEditOperation(new u.Range(o+1,1,o+1,e.getLineMaxColumn(o+1)),c)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.shiftIndent=b,t.unshiftIndent=S,t.getReindentEditOperations=_;var C=R=function(e){function t(){return e.call(this,{id:R.ID,label:n.localize(0,null),alias:"Convert Indentation to Spaces",precondition:s.EditorContextKeys.writable})||this}return h(t,e),t.prototype.run=function(e,t){var n=t.getModel();if(n){var i=n.getOptions(),r=new D(t.getSelection(),i.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop(),n.updateOptions({insertSpaces:!0})}},t}(a.EditorAction);C.ID="editor.action.indentationToSpaces",C=R=v([a.editorAction],C),t.IndentationToSpacesAction=C;var w=M=function(e){function t(){return e.call(this,{id:M.ID,label:n.localize(1,null),alias:"Convert Indentation to Tabs",precondition:s.EditorContextKeys.writable})||this}return h(t,e),t.prototype.run=function(e,t){var n=t.getModel();if(n){var i=n.getOptions(),r=new O(t.getSelection(),i.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop(),n.updateOptions({insertSpaces:!1})}},t}(a.EditorAction);w.ID="editor.action.indentationToTabs",w=M=v([a.editorAction],w),t.IndentationToTabsAction=w;var I=function(e){function t(t,n){var i=e.call(this,n)||this;return i.insertSpaces=t,i}return h(t,e),t.prototype.run=function(e,t){var i=this,o=e.get(c.IQuickOpenService),s=e.get(l.IModelService),a=t.getModel();if(a){var u=s.getCreationOptions(a.getLanguageIdentifier().language),d=[1,2,3,4,5,6,7,8].map(function(e){return{id:e.toString(),label:e.toString(),description:e===u.tabSize?n.localize(2,null):null}}),h=Math.min(a.getOptions().tabSize-1,7);return r.TPromise.timeout(50).then(function(){return o.pick(d,{placeHolder:n.localize(3,null),autoFocus:{autoFocusIndex:h}}).then(function(e){e&&a.updateOptions({tabSize:parseInt(e.label,10),insertSpaces:i.insertSpaces})})})}},t}(a.EditorAction);t.ChangeIndentationSizeAction=I;var T=N=function(e){function t(){return e.call(this,!1,{id:N.ID,label:n.localize(4,null),alias:"Indent Using Tabs",precondition:null})||this}return h(t,e),t}(I);T.ID="editor.action.indentUsingTabs",T=N=v([a.editorAction],T),t.IndentUsingTabs=T;var k=F=function(e){function t(){return e.call(this,!0,{id:F.ID,label:n.localize(5,null),alias:"Indent Using Spaces",precondition:null})||this}return h(t,e),t}(I);k.ID="editor.action.indentUsingSpaces",k=F=v([a.editorAction],k),t.IndentUsingSpaces=k;var x=W=function(e){function t(){return e.call(this,{id:W.ID,label:n.localize(6,null),alias:"Detect Indentation from Content",precondition:null})||this}return h(t,e),t.prototype.run=function(e,t){var n=e.get(l.IModelService),i=t.getModel();if(i){var r=n.getCreationOptions(i.getLanguageIdentifier().language);i.detectIndentation(r.insertSpaces,r.tabSize)}},t}(a.EditorAction);x.ID="editor.action.detectIndentation",x=W=v([a.editorAction],x),t.DetectIndentation=x;var A=function(e){function t(){return e.call(this,{id:"editor.action.reindentlines",label:n.localize(7,null),alias:"Reindent Lines",precondition:s.EditorContextKeys.writable})||this}return h(t,e),t.prototype.run=function(e,t){var n=t.getModel();if(n){var i=_(n,1,n.getLineCount());i&&t.executeEdits(this.id,i)}},t}(a.EditorAction);A=v([a.editorAction],A),t.ReindentLinesAction=A;var L=function(){function e(e,t){this._initialSelection=t,this._edits=[],this._newEol=void 0;for(var n=0,i=e;n<i.length;n++){var r=i[n];"number"==typeof r.eol&&(this._newEol=r.eol),r.range&&"string"==typeof r.text&&this._edits.push(r)}}return e.prototype.getEditOperations=function(e,t){for(var n=0,i=this._edits;n<i.length;n++){var r=i[n];t.addEditOperation(u.Range.lift(r.range),r.text)}var o=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(o=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(o=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),o||(this._selectionId=t.trackSelection(this._initialSelection))},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._selectionId)},e}();t.AutoIndentOnPasteCommand=L;var P=B=function(){function e(e){var t=this;this.editor=e,this.callOnDispose=[],this.callOnModel=[],this.callOnDispose.push(e.onDidChangeConfiguration(function(){return t.update()})),this.callOnDispose.push(e.onDidChangeModel(function(){return t.update()})),this.callOnDispose.push(e.onDidChangeModelLanguage(function(){return t.update()}))}return e.prototype.update=function(){var e=this;this.callOnModel=i.dispose(this.callOnModel),this.editor.getConfiguration().autoIndent&&!this.editor.getConfiguration().contribInfo.formatOnPaste&&this.editor.getModel()&&this.callOnModel.push(this.editor.onDidPaste(function(t){e.trigger(t)}))},e.prototype.trigger=function(e){if(!(this.editor.getSelections().length>1)){var t=this.editor.getModel(),n=t.getOptions(),i=n.tabSize,r=n.insertSpaces;this.editor.pushUndoStop();for(var s=[],a={shiftIndent:function(e){for(var t=m.ShiftCommand.shiftIndentCount(e,e.length+1,i),n="",r=0;r<t;r++)n+="\t";return n},unshiftIndent:function(e){for(var t=m.ShiftCommand.unshiftIndentCount(e,e.length+1,i),n="",r=0;r<t;r++)n+="\t";return n}},c=e.startLineNumber;c<=e.endLineNumber&&this.shouldIgnoreLine(t,c);)c++;if(!(c>e.endLineNumber)){var l=t.getLineContent(c);if(!/\S/.test(l.substring(0,e.startColumn-1))){var d=g.LanguageConfigurationRegistry.getGoodIndentForLine(t,t.getLanguageIdentifier().id,c,a);if(null!==d){var h=o.getLeadingWhitespace(l),p=y.getSpaceCnt(d,i);if(p!==y.getSpaceCnt(h,i)){var f=y.generateIndent(p,i,r);s.push({range:new u.Range(c,1,c,h.length+1),text:f}),l=f+l.substr(h.length)}}}if(c!==e.endLineNumber){var v={getLineTokens:function(e){return t.getLineTokens(e)},getLanguageIdentifier:function(){return t.getLanguageIdentifier()},getLanguageIdAtPosition:function(e,n){return t.getLanguageIdAtPosition(e,n)},getLineContent:function(e){return e===c?l:t.getLineContent(e)}},b=g.LanguageConfigurationRegistry.getGoodIndentForLine(v,t.getLanguageIdentifier().id,c+1,a);if(null!==b){var S=y.getSpaceCnt(b,i),_=y.getSpaceCnt(o.getLeadingWhitespace(t.getLineContent(c+1)),i);if(S!==_)for(var E=S-_,C=c+1;C<=e.endLineNumber;C++){var w=t.getLineContent(C),I=o.getLeadingWhitespace(w),T=y.getSpaceCnt(I,i)+E;(f=y.generateIndent(T,i,r))!==I&&s.push({range:new u.Range(C,1,C,I.length+1),text:f})}}}var k=new L(s,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",k),this.editor.pushUndoStop()}}},e.prototype.shouldIgnoreLine=function(e,t){e.forceTokenization(t);var n=e.getLineFirstNonWhitespaceColumn(t);if(0===n)return!0;var i=e.getLineTokens(t);if(i.getTokenCount()>0){var r=i.findTokenAtOffset(n);if(r&&1===r.tokenType)return!0}return!1},e.prototype.getId=function(){return B.ID},e.prototype.dispose=function(){this.callOnDispose=i.dispose(this.callOnDispose),this.callOnModel=i.dispose(this.callOnModel)},e}();P.ID="editor.contrib.autoIndentOnPaste",P=B=v([a.commonEditorContribution],P),t.AutoIndentOnPaste=P;var D=function(){function e(e,t){this.selection=e,this.tabSize=t}return e.prototype.getEditOperations=function(e,t){this.selectionId=t.trackSelection(this.selection),E(e,t,this.tabSize,!0)},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this.selectionId)},e}();t.IndentationToSpacesCommand=D;var O=function(){function e(e,t){this.selection=e,this.tabSize=t}return e.prototype.getEditOperations=function(e,t){this.selectionId=t.trackSelection(this.selection),E(e,t,this.tabSize,!1)},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this.selectionId)},e}();t.IndentationToTabsCommand=O;var R,M,N,F,W,B}),define(u[343],d([1,0,464,60,817,105,391,48,178,14,53,25,820,819,766,300,184]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var b=function(e){function t(t,n){var i=e.call(this,n)||this;return i.down=t,i}return h(t,e),t.prototype.run=function(e,t){for(var n=[],i=t.getSelections(),r=0;r<i.length;r++)n.push(new p.CopyLinesCommand(i[r],this.down));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()},t}(d.EditorAction),S=function(e){function t(){return e.call(this,!1,{id:"editor.action.copyLinesUpAction",label:n.localize(0,null),alias:"Copy Line Up",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.textFocus,primary:1552,linux:{primary:3600}}})||this}return h(t,e),t}(b);S=v([d.editorAction],S);var _=function(e){function t(){return e.call(this,!0,{id:"editor.action.copyLinesDownAction",label:n.localize(1,null),alias:"Copy Line Down",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.textFocus,primary:1554,linux:{primary:3602}}})||this}return h(t,e),t}(b);_=v([d.editorAction],_);var E=function(e){function t(t,n){var i=e.call(this,n)||this;return i.down=t,i}return h(t,e),t.prototype.run=function(e,t){for(var n=[],i=t.getSelections(),r=t.getConfiguration().autoIndent,o=0;o<i.length;o++)n.push(new g.MoveLinesCommand(i[o],this.down,r));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()},t}(d.EditorAction),C=function(e){function t(){return e.call(this,!1,{id:"editor.action.moveLinesUpAction",label:n.localize(2,null),alias:"Move Line Up",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.textFocus,primary:528,linux:{primary:528}}})||this}return h(t,e),t}(E);C=v([d.editorAction],C);var w=function(e){function t(){return e.call(this,!0,{id:"editor.action.moveLinesDownAction",label:n.localize(3,null),alias:"Move Line Down",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.textFocus,primary:530,linux:{primary:530}}})||this}return h(t,e),t}(E);w=v([d.editorAction],w);var I=function(e){function t(t,n){var i=e.call(this,n)||this;return i.descending=t,i}return h(t,e),t.prototype.run=function(e,t){if(r.SortLinesCommand.canRun(t.getModel(),t.getSelection(),this.descending)){var n=new r.SortLinesCommand(t.getSelection(),this.descending);t.pushUndoStop(),t.executeCommands(this.id,[n]),t.pushUndoStop()}},t}(d.EditorAction),T=function(e){function t(){return e.call(this,!1,{id:"editor.action.sortLinesAscending",label:n.localize(4,null),alias:"Sort Lines Ascending",precondition:a.EditorContextKeys.writable})||this}return h(t,e),t}(I);T=v([d.editorAction],T);var k=function(e){function t(){return e.call(this,!0,{id:"editor.action.sortLinesDescending",label:n.localize(5,null),alias:"Sort Lines Descending",precondition:a.EditorContextKeys.writable})||this}return h(t,e),t}(I);k=v([d.editorAction],k);var x=H=function(e){function t(){return e.call(this,{id:H.ID,label:n.localize(6,null),alias:"Trim Trailing Whitespace",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.textFocus,primary:i.KeyChord(2089,2102)}})||this}return h(t,e),t.prototype.run=function(e,t){var n=new s.TrimTrailingWhitespaceCommand(t.getSelection());t.pushUndoStop(),t.executeCommands(this.id,[n]),t.pushUndoStop()},t}(d.EditorAction);x.ID="editor.action.trimTrailingWhitespace",x=H=v([d.editorAction],x),t.TrimTrailingWhitespaceAction=x;var A=function(e){function t(){return e.call(this,{id:"editor.action.deleteLines",label:n.localize(7,null),alias:"Delete Line",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.textFocus,primary:3113}})||this}return h(t,e),t.prototype.run=function(e,t){var n=this._getLinesToRemove(t).map(function(e){return new f.DeleteLinesCommand(e.startLineNumber,e.endLineNumber,e.positionColumn)});t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()},t}(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype._getLinesToRemove=function(e){var t=e.getSelections().map(function(e){var t=e.endLineNumber;return e.startLineNumber<e.endLineNumber&&1===e.endColumn&&(t-=1),{startLineNumber:e.startLineNumber,endLineNumber:t,positionColumn:e.positionColumn}});t.sort(function(e,t){return e.startLineNumber-t.startLineNumber});for(var n=[],i=t[0],r=1;r<t.length;r++)i.endLineNumber+1===t[r].startLineNumber?i.endLineNumber=t[r].endLineNumber:(n.push(i),i=t[r]);return n.push(i),n},t}(d.EditorAction));A=v([d.editorAction],A);var L=function(e){function t(){return e.call(this,{id:"editor.action.indentLines",label:n.localize(8,null),alias:"Indent Line",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.textFocus,primary:2137}})||this}return h(t,e),t.prototype.run=function(e,t){t.pushUndoStop(),t.executeCommands(this.id,m.TypeOperations.indent(t._getCursorConfiguration(),t.getModel(),t.getSelections())),t.pushUndoStop()},t}(d.EditorAction);L=v([d.editorAction],L),t.IndentLinesAction=L;var P=function(e){function t(){return e.call(this,{id:"editor.action.outdentLines",label:n.localize(9,null),alias:"Outdent Line",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.textFocus,primary:2135}})||this}return h(t,e),t.prototype.run=function(e,t){y.CoreEditingCommands.Outdent.runEditorCommand(null,t,null)},t}(d.EditorAction);P=v([d.editorAction],P);var D=function(e){function t(){return e.call(this,{id:"editor.action.insertLineBefore",label:n.localize(10,null),alias:"Insert Line Above",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.textFocus,primary:3075}})||this}return h(t,e),t.prototype.run=function(e,t){t.pushUndoStop(),t.executeCommands(this.id,m.TypeOperations.lineInsertBefore(t._getCursorConfiguration(),t.getModel(),t.getSelections()))},t}(d.EditorAction);D=v([d.editorAction],D),t.InsertLineBeforeAction=D;var O=function(e){function t(){return e.call(this,{id:"editor.action.insertLineAfter",label:n.localize(11,null),alias:"Insert Line Below",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.textFocus,primary:2051}})||this}return h(t,e),t.prototype.run=function(e,t){t.pushUndoStop(),t.executeCommands(this.id,m.TypeOperations.lineInsertAfter(t._getCursorConfiguration(),t.getModel(),t.getSelections()))},t}(d.EditorAction);O=v([d.editorAction],O),t.InsertLineAfterAction=O;var R=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.run=function(e,t){for(var n=t.getSelection(),i=this._getRangesToDelete(t),r=[],s=0,a=i.length-1;s<a;s++){var c=i[s],d=i[s+1];null===l.Range.intersectRanges(c,d)?r.push(c):i[s+1]=l.Range.plusRange(c,d)}r.push(i[i.length-1]);var h=this._getEndCursorState(n,r),p=r.map(function(e){return h.push(new u.Selection(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)),o.EditOperation.replace(e,"")});t.executeEdits(this.id,p,h)},t}(d.EditorAction);t.AbstractDeleteAllToBoundaryAction=R;var M=function(e){function t(){return e.call(this,{id:"deleteAllLeft",label:n.localize(12,null),alias:"Delete All Left",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.textFocus,primary:null,mac:{primary:2049}}})||this}return h(t,e),t.prototype._getEndCursorState=function(e,t){for(var n,i=[],r=0,o=t.length;r<o;r++){var s=t[r],a=new u.Selection(t[r].startLineNumber,t[r].startColumn,t[r].startLineNumber,t[r].startColumn);s.intersectRanges(e)?n=a:i.push(a)}return n&&i.unshift(n),i},t.prototype._getRangesToDelete=function(e){var t=e.getSelections();return t.sort(l.Range.compareRangesUsingStarts),t=t.map(function(e){return e.isEmpty()?new l.Range(e.startLineNumber,1,e.startLineNumber,e.startColumn):e})},t}(R);M=v([d.editorAction],M),t.DeleteAllLeftAction=M;var N=function(e){function t(){return e.call(this,{id:"deleteAllRight",label:n.localize(13,null),alias:"Delete All Right",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.textFocus,primary:null,mac:{primary:297,secondary:[2068]}}})||this}return h(t,e),t.prototype._getEndCursorState=function(e,t){for(var n,i=[],r=0,o=t.length;r<o;r++){var s=t[r],a=new u.Selection(s.startLineNumber-0,s.startColumn,s.startLineNumber-0,s.startColumn);s.intersectRanges(e)?n=a:i.push(a)}return n&&i.unshift(n),i},t.prototype._getRangesToDelete=function(e){var t=e.getModel(),n=e.getSelections().map(function(e){if(e.isEmpty()){var n=t.getLineMaxColumn(e.startLineNumber);return e.startColumn===n?new l.Range(e.startLineNumber,e.startColumn,e.startLineNumber+1,1):new l.Range(e.startLineNumber,e.startColumn,e.startLineNumber,n)}return e});return n.sort(l.Range.compareRangesUsingStarts),n},t}(R);N=v([d.editorAction],N),t.DeleteAllRightAction=N;var F=function(e){function t(){return e.call(this,{id:"editor.action.joinLines",label:n.localize(14,null),alias:"Join Lines",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.textFocus,primary:0,mac:{primary:296}}})||this}return h(t,e),t.prototype.run=function(e,t){var n=t.getSelections(),i=t.getSelection();n.sort(l.Range.compareRangesUsingStarts);var r=[],s=n.reduce(function(e,t){return e.isEmpty()?e.endLineNumber===t.startLineNumber?(i.equalsSelection(e)&&(i=t),t):t.startLineNumber>e.endLineNumber+1?(r.push(e),t):new u.Selection(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn):t.startLineNumber>e.endLineNumber?(r.push(e),t):new u.Selection(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn)});r.push(s);for(var a=t.getModel(),c=[],d=[],h=i,p=0,f=0,g=r.length;f<g;f++){var v=r[f],m=v.startLineNumber,y=void 0,b=void 0,S=void 0,_=a.getLineContent(v.endLineNumber).length-v.endColumn;if(v.isEmpty()||v.startLineNumber===v.endLineNumber){var E=v.getStartPosition();E.lineNumber<a.getLineCount()?(y=m+1,b=a.getLineMaxColumn(y)):(y=E.lineNumber,b=a.getLineMaxColumn(E.lineNumber))}else y=v.endLineNumber,b=a.getLineMaxColumn(y);for(var C=a.getLineContent(m),w=m+1;w<=y;w++){var I=a.getLineContent(w),T=a.getLineFirstNonWhitespaceColumn(w);if(T>=1){var k=!0;""===C&&(k=!1),!k||" "!==C.charAt(C.length-1)&&"\t"!==C.charAt(C.length-1)||(k=!1,C=C.replace(/[\s\uFEFF\xA0]+$/g," "));var x=I.substr(T-1);C+=(k?" ":"")+x,S=k?x.length+1:x.length}else S=0}var A=new l.Range(m,1,y,b);if(!A.isEmpty()){var L=void 0;v.isEmpty()?(c.push(o.EditOperation.replace(A,C)),L=new u.Selection(A.startLineNumber-p,C.length-S+1,m-p,C.length-S+1)):v.startLineNumber===v.endLineNumber?(c.push(o.EditOperation.replace(A,C)),L=new u.Selection(v.startLineNumber-p,v.startColumn,v.endLineNumber-p,v.endColumn)):(c.push(o.EditOperation.replace(A,C)),L=new u.Selection(v.startLineNumber-p,v.startColumn,v.startLineNumber-p,C.length-_)),null!==l.Range.intersectRanges(A,i)?h=L:d.push(L)}p+=A.endLineNumber-A.startLineNumber}d.unshift(h),t.executeEdits(this.id,c,d)},t}(d.EditorAction);F=v([d.editorAction],F),t.JoinLinesAction=F;var W=function(e){function t(){return e.call(this,{id:"editor.action.transpose",label:n.localize(15,null),alias:"Transpose characters around the cursor",precondition:a.EditorContextKeys.writable})||this}return h(t,e),t.prototype.run=function(e,t){for(var n=t.getSelections(),i=t.getModel(),r=[],o=0,s=n.length;o<s;o++){var a=n[o];if(a.isEmpty()){var d=a.getStartPosition(),h=i.getLineMaxColumn(d.lineNumber);if(d.column>=h){if(d.lineNumber===i.getLineCount())continue;var p=new l.Range(d.lineNumber,Math.max(1,d.column-1),d.lineNumber+1,1),f=i.getValueInRange(p).split("").reverse().join("");r.push(new c.ReplaceCommand(new u.Selection(d.lineNumber,Math.max(1,d.column-1),d.lineNumber+1,1),f))}else{var p=new l.Range(d.lineNumber,Math.max(1,d.column-1),d.lineNumber,d.column+1),f=i.getValueInRange(p).split("").reverse().join("");r.push(new c.ReplaceCommandThatPreservesSelection(p,f,new u.Selection(d.lineNumber,d.column+1,d.lineNumber,d.column+1)))}}}t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()},t}(d.EditorAction);W=v([d.editorAction],W),t.TransposeAction=W;var B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.run=function(e,t){for(var n=t.getSelections(),i=t.getModel(),r=[],o=0,s=n.length;o<s;o++){var a=n[o];if(a.isEmpty()){var d=a.getStartPosition(),h=i.getWordAtPosition(d);if(!h)continue;var p=new l.Range(d.lineNumber,h.startColumn,d.lineNumber,h.endColumn),f=i.getValueInRange(p);r.push(new c.ReplaceCommandThatPreservesSelection(p,this._modifyText(f),new u.Selection(d.lineNumber,d.column,d.lineNumber,d.column)))}else{f=i.getValueInRange(a);r.push(new c.ReplaceCommandThatPreservesSelection(a,this._modifyText(f),a))}}t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()},t}(d.EditorAction);t.AbstractCaseAction=B;var V=function(e){function t(){return e.call(this,{id:"editor.action.transformToUppercase",label:n.localize(16,null),alias:"Transform to Uppercase",precondition:a.EditorContextKeys.writable})||this}return h(t,e),t.prototype._modifyText=function(e){return e.toLocaleUpperCase()},t}(B);V=v([d.editorAction],V),t.UpperCaseAction=V;var z=function(e){function t(){return e.call(this,{id:"editor.action.transformToLowercase",label:n.localize(17,null),alias:"Transform to Lowercase",precondition:a.EditorContextKeys.writable})||this}return h(t,e),t.prototype._modifyText=function(e){return e.toLocaleLowerCase()},t}(B);z=v([d.editorAction],z),t.LowerCaseAction=z;var H}),define(u[851],d([1,0,466,48,25,53,147,422,108]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(){return e.call(this,{id:"editor.action.insertCursorAbove",label:n.localize(0,null),alias:"Add Cursor Above",precondition:null,kbOpts:{kbExpr:i.EditorContextKeys.textFocus,primary:2576,linux:{primary:1552,secondary:[3088]}}})||this}return h(t,e),t.prototype.run=function(e,t,n){var i=t._getCursors(),r=i.context;r.config.readOnly||(r.model.pushStackElement(),i.setStates(n.source,s.CursorChangeReason.Explicit,c.CursorState.ensureInEditableRange(r,a.CursorMoveCommands.addCursorUp(r,i.getAll()))),i.reveal(!0,1))},t}(r.EditorAction);l=v([r.editorAction],l),t.InsertCursorAbove=l;var u=function(e){function t(){return e.call(this,{id:"editor.action.insertCursorBelow",label:n.localize(1,null),alias:"Add Cursor Below",precondition:null,kbOpts:{kbExpr:i.EditorContextKeys.textFocus,primary:2578,linux:{primary:1554,secondary:[3090]}}})||this}return h(t,e),t.prototype.run=function(e,t,n){var i=t._getCursors(),r=i.context;r.config.readOnly||(r.model.pushStackElement(),i.setStates(n.source,s.CursorChangeReason.Explicit,c.CursorState.ensureInEditableRange(r,a.CursorMoveCommands.addCursorDown(r,i.getAll()))),i.reveal(!0,2))},t}(r.EditorAction);u=v([r.editorAction],u),t.InsertCursorBelow=u;var d=function(e){function t(){return e.call(this,{id:"editor.action.insertCursorAtEndOfEachLineSelected",label:n.localize(2,null),alias:"Add Cursors to Line Ends",precondition:null,kbOpts:{kbExpr:i.EditorContextKeys.textFocus,primary:1575}})||this}return h(t,e),t.prototype.getCursorsForSelection=function(e,t){if(e.isEmpty())return[];for(var n=t.getModel(),i=[],r=e.startLineNumber;r<e.endLineNumber;r++){var s=n.getLineMaxColumn(r);i.push(new o.Selection(r,s,r,s))}return e.endColumn>1&&i.push(new o.Selection(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn)),i},t.prototype.run=function(e,t){var n=this,i=t.getSelections().map(function(e){return n.getCursorsForSelection(e,t)}).reduce(function(e,t){return e.concat(t)});i.length>0&&t.setSelections(i)},t}(r.EditorAction);d=v([r.editorAction],d)}),define(u[342],d([1,0,7,25,46,18,17]),function(e,t,n,i,r,o,s){"use strict";function a(e,t){var i,s=r.SignatureHelpProviderRegistry.ordered(e);return o.sequence(s.map(function(r){return function(){if(!i)return o.asWinJsPromise(function(n){return r.provideSignatureHelp(e,t,n)}).then(function(e){i=e},n.onUnexpectedExternalError)}})).then(function(){return i})}Object.defineProperty(t,"__esModule",{value:!0}),t.Context={Visible:new s.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new s.RawContextKey("parameterHintsMultipleSignatures",!1)},t.provideSignatureHelp=a,i.CommonEditorRegistry.registerDefaultLanguageCommand("_executeSignatureHelpProvider",a)}),define(u[853],d([1,0,16,14,46,18,4,7,44,25]),function(e,t,n,i,r,o,s,a,c,l){"use strict";function u(e,t){var n=[],i=r.CodeActionProviderRegistry.all(e).map(function(i){return o.asWinJsPromise(function(n){return i.provideCodeActions(e,t,n)}).then(function(e){Array.isArray(e)&&n.push.apply(n,e)},function(e){a.onUnexpectedExternalError(e)})});return s.TPromise.join(i).then(function(){return n})}Object.defineProperty(t,"__esModule",{value:!0}),t.getCodeActions=u,l.CommonEditorRegistry.registerLanguageCommand("_executeCodeActionProvider",function(e,t){var r=t.resource,o=t.range;if(!(r instanceof n.default&&i.Range.isIRange(o)))throw a.illegalArgument();var s=e.get(c.IModelService).getModel(r);if(!s)throw a.illegalArgument();return u(s,s.validateRange(o))})}),define(u[854],d([1,0,34,8,5,14,46,853]),function(e,t,n,i,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t,n,r){void 0===r&&(r=250);var o=this;this._editor=e,this._markerService=t,this._signalChange=n,this._disposables=[],this._disposables.push(i.debounceEvent(this._markerService.onMarkerChanged,function(e,t){return e?e.concat(t):t},r/2)(function(e){return o._onMarkerChanges(e)}),i.debounceEvent(this._editor.onDidChangeCursorPosition,function(e){return e},r)(function(e){return o._onCursorChange()}))}return e.prototype.dispose=function(){this._disposables=r.dispose(this._disposables)},e.prototype.trigger=function(e){var t=this._rangeAtPosition();t||(t=this._editor.getSelection()),this._signalChange({type:e,range:t,position:this._editor.getPosition(),fixes:t&&a.getCodeActions(this._editor.getModel(),this._editor.getModel().validateRange(t))})},e.prototype._onMarkerChanges=function(e){for(var t=this._editor.getModel().uri,n=0,i=e;n<i.length;n++)if(i[n].toString()===t.toString())return this._currentRange=void 0,void this._onCursorChange()},e.prototype._onCursorChange=function(){var e=this._rangeAtPosition();o.Range.equalsRange(this._currentRange,e)||(this._currentRange=e,this._signalChange({type:"auto",range:e,position:this._editor.getPosition(),fixes:e&&a.getCodeActions(this._editor.getModel(),this._editor.getModel().validateRange(e))}))},e.prototype._rangeAtPosition=function(){var e=this._editor.getSelection();if(!e.isEmpty())return e;var t=this._markerAtPosition();return t?o.Range.lift(t):this._wordAtPosition()},e.prototype._markerAtPosition=function(){for(var e=this._editor.getPosition(),t=this._editor.getModel().uri,i=this._markerService.read({resource:t}).sort(o.Range.compareRangesUsingStarts),r=n.findFirst(i,function(t){return t.endLineNumber>=e.lineNumber});r<i.length&&i[r].endLineNumber>=e.lineNumber;){var s=i[r];if(o.Range.containsPosition(s,e))return s;r++}},e.prototype._wordAtPosition=function(){var e=this._editor.getPosition(),t=this._editor.getModel().getWordAtPosition(e);if(t)return new o.Range(e.lineNumber,t.startColumn,e.lineNumber,t.endColumn)},e}();t.QuickFixOracle=c;var l=function(){function e(e,t){var n=this;this._onDidChangeFixes=new i.Emitter,this._disposables=[],this._editor=e,this._markerService=t,this._disposables.push(this._editor.onDidChangeModel(function(){return n._update()})),this._disposables.push(this._editor.onDidChangeModelLanguage(function(){return n._update()})),this._disposables.push(s.CodeActionProviderRegistry.onDidChange(this._update,this)),this._update()}return e.prototype.dispose=function(){this._disposables=r.dispose(this._disposables),r.dispose(this._quickFixOracle)},Object.defineProperty(e.prototype,"onDidChangeFixes",{get:function(){return this._onDidChangeFixes.event},enumerable:!0,configurable:!0}),e.prototype._update=function(){var e=this;this._quickFixOracle&&(this._quickFixOracle.dispose(),this._quickFixOracle=void 0,this._onDidChangeFixes.fire(void 0)),this._editor.getModel()&&s.CodeActionProviderRegistry.has(this._editor.getModel())&&!this._editor.getConfiguration().readOnly&&(this._quickFixOracle=new c(this._editor,this._markerService,function(t){return e._onDidChangeFixes.fire(t)}),this._quickFixOracle.trigger("auto"))},e.prototype.trigger=function(e){this._quickFixOracle&&this._quickFixOracle.trigger(e)},e}();t.QuickFixModel=l}),define(u[855],d([1,0,469,5,32,41,17,38,142,48,25,68,46,18,4,7,815,816,854]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var E=w=function(){function e(e,t,n,i,r,o){var s=this;this._keybindingService=o,this._disposables=[],this._editor=e,this._model=new _.QuickFixModel(this._editor,t),this._quickFixContextMenu=new b.QuickFixContextMenu(e,r,i),this._lightBulbWidget=new S.LightBulbWidget(e),this._updateLightBulbTitle(),this._disposables.push(this._quickFixContextMenu.onDidExecuteCodeAction(function(e){return s._model.trigger("auto")}),this._lightBulbWidget.onClick(this._handleLightBulbSelect,this),this._model.onDidChangeFixes(function(e){return s._onQuickFixEvent(e)}),this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitle,this))}return e.get=function(e){return e.getContribution(w.ID)},e.prototype.dispose=function(){this._model.dispose(),i.dispose(this._disposables)},e.prototype._onQuickFixEvent=function(e){e&&"manual"===e.type?this._quickFixContextMenu.show(e.fixes,e.position):e&&e.fixes?this._quickFixContextMenu.isVisible?this._quickFixContextMenu.show(e.fixes,e.position):this._lightBulbWidget.model=e:this._lightBulbWidget.hide()},e.prototype.getId=function(){return w.ID},e.prototype._handleLightBulbSelect=function(e){this._quickFixContextMenu.show(this._lightBulbWidget.model.fixes,e)},e.prototype.triggerFromEditorSelection=function(){this._model.trigger("manual")},e.prototype._updateLightBulbTitle=function(){var e,t=this._keybindingService.lookupKeybinding(C.Id);e=t?n.localize(0,null,t.getLabel()):n.localize(1,null),this._lightBulbWidget.title=e},e}();E.ID="editor.contrib.quickFixController",E=w=v([d.editorContribution,y(1,c.IMarkerService),y(2,s.IContextKeyService),y(3,r.ICommandService),y(4,o.IContextMenuService),y(5,a.IKeybindingService)],E),t.QuickFixController=E;var C=I=function(e){function t(){return e.call(this,{id:I.Id,label:n.localize(2,null),alias:"Quick Fix",precondition:s.ContextKeyExpr.and(l.EditorContextKeys.writable,l.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:l.EditorContextKeys.textFocus,primary:2132}})||this}return h(t,e),t.prototype.run=function(e,t){var n=E.get(t);n&&n.triggerFromEditorSelection()},t}(u.EditorAction);C.Id="editor.action.quickFix",C=I=v([u.editorAction],C),t.QuickFixAction=C,t.getCodeActions=function(e,t){var n=[],i=p.CodeActionProviderRegistry.all(e).map(function(i){return f.asWinJsPromise(function(n){return i.provideCodeActions(e,t,n)}).then(function(e){Array.isArray(e)&&n.push.apply(n,e)},function(e){m.onUnexpectedExternalError(e)})});return g.TPromise.join(i).then(function(){return n})};var w,I}),define(u[856],d([1,0,7,16,4,14,25,46,44,18]),function(e,t,n,i,r,o,s,a,c,l){"use strict";function u(e){var t=[],i=a.DocumentSymbolProviderRegistry.all(e).map(function(i){return l.asWinJsPromise(function(t){return i.provideDocumentSymbols(e,t)}).then(function(e){Array.isArray(e)&&t.push.apply(t,e)},function(e){n.onUnexpectedExternalError(e)})});return r.TPromise.join(i).then(function(){var e=[];return h(e,t,""),e.sort(d),{entries:e}})}function d(e,t){return o.Range.compareRangesUsingStarts(o.Range.lift(e.location.range),o.Range.lift(t.location.range))}function h(e,t,n){for(var i=0,r=t;i<r.length;i++){var o=r[i];e.push({kind:o.kind,location:o.location,name:o.name,containerName:o.containerName||n})}}Object.defineProperty(t,"__esModule",{value:!0}),t.getDocumentSymbols=u,s.CommonEditorRegistry.registerLanguageCommand("_executeDocumentSymbolProvider",function(e,t){var r=t.resource;if(!(r instanceof i.default))throw n.illegalArgument("resource");var o=e.get(c.IModelService).getModel(r);if(!o)throw n.illegalArgument("resource");return u(o)})}),define(u[857],d([1,0,477,34,4,6,14,48,25,754]),function(e,t,n,i,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){return function(e){this.editor=e,this.next=null,this.previous=null,this.selection=e.getSelection()}}(),d=null,p=!1,f=S=function(){function e(e,t){this.editor=e,this._tokenSelectionSupport=t.createInstance(l.TokenSelectionSupport)}return e.get=function(e){return e.getContribution(S.ID)},e.prototype.dispose=function(){},e.prototype.getId=function(){return S.ID},e.prototype.run=function(e){var t=this,n=this.editor.getSelection(),o=this.editor.getModel();d&&d.editor!==this.editor&&(d=null);var a=r.TPromise.as(null);return d||(a=this._tokenSelectionSupport.getRangesToPosition(o.uri,n.getStartPosition()).then(function(e){if(!i.isFalsyOrEmpty(e)){var n;e.filter(function(e){var n=t.editor.getSelection(),i=new s.Range(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn);return i.containsPosition(n.getStartPosition())&&i.containsPosition(n.getEndPosition())}).forEach(function(e){var i=e.range,r=new u(t.editor);r.selection=new s.Range(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn),n&&(r.next=n,n.previous=r),n=r});var r=new u(t.editor);r.next=n,n&&(n.previous=r),d=r;var o=t.editor.onDidChangeCursorPosition(function(e){p||(d=null,o.dispose())})}})),a.then(function(){if(d&&(d=e?d.next:d.previous)){p=!0;try{t.editor.setSelection(d.selection)}finally{p=!1}}})},e}();f.ID="editor.contrib.smartSelectController",f=S=v([c.commonEditorContribution,y(1,o.IInstantiationService)],f);var g=function(e){function t(t,n){var i=e.call(this,n)||this;return i._forward=t,i}return h(t,e),t.prototype.run=function(e,t){var n=f.get(t);if(n)return n.run(this._forward)},t}(c.EditorAction),m=function(e){function t(){return e.call(this,!0,{id:"editor.action.smartSelect.grow",label:n.localize(0,null),alias:"Expand Select",precondition:null,kbOpts:{kbExpr:a.EditorContextKeys.textFocus,primary:1553,mac:{primary:3345}}})||this}return h(t,e),t}(g);m=v([c.editorAction],m);var b=function(e){function t(){return e.call(this,!1,{id:"editor.action.smartSelect.shrink",label:n.localize(1,null),alias:"Shrink Select",precondition:null,kbOpts:{kbExpr:a.EditorContextKeys.textFocus,primary:1551,mac:{primary:3343}}})||this}return h(t,e),t}(g);b=v([c.editorAction],b);var S}),define(u[165],d([1,0,17,25,5,749,48]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l=function(){function e(e,t){this._editor=e,this._snippetListener=[],this._inSnippet=l.InSnippetMode.bindTo(t),this._hasNextTabstop=l.HasNextTabstop.bindTo(t),this._hasPrevTabstop=l.HasPrevTabstop.bindTo(t)}return e.get=function(e){return e.getContribution("snippetController2")},e.prototype.dispose=function(){this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),r.dispose(this._session)},e.prototype.getId=function(){return"snippetController2"},e.prototype.insert=function(e,t,n,i,s){var a=this;void 0===t&&(t=0),void 0===n&&(n=0),void 0===i&&(i=!0),void 0===s&&(s=!0),this._snippetListener=r.dispose(this._snippetListener),i&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(e,t,n):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new o.SnippetSession(this._editor,e,t,n),this._session.insert()),s&&this._editor.getModel().pushStackElement(),this._snippetListener=[this._editor.onDidChangeModel(function(){return a.cancel()}),this._editor.onDidChangeCursorSelection(function(){return a._updateState()})],this._updateState()},e.prototype._updateState=function(){if(this._session){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder)}},e.prototype.finish=function(){for(;this._inSnippet.get();)this.next()},e.prototype.cancel=function(){this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),r.dispose(this._snippetListener),r.dispose(this._session),this._session=void 0,this._modelVersionId=-1},e.prototype.prev=function(){this._session.prev(),this._updateState()},e.prototype.next=function(){this._session.next(),this._updateState()},e}();a.InSnippetMode=new n.RawContextKey("inSnippetMode",!1),a.HasNextTabstop=new n.RawContextKey("hasNextTabstop",!1),a.HasPrevTabstop=new n.RawContextKey("hasPrevTabstop",!1),a=l=v([i.commonEditorContribution,y(1,n.IContextKeyService)],a),t.SnippetController2=a;var c=i.EditorCommand.bindToContribution(a.get);i.CommonEditorRegistry.registerEditorCommand(new c({id:"jumpToNextSnippetPlaceholder",precondition:n.ContextKeyExpr.and(a.InSnippetMode,a.HasNextTabstop),handler:function(e){return e.next()},kbOpts:{weight:i.CommonEditorRegistry.commandWeight(30),kbExpr:s.EditorContextKeys.textFocus,primary:2}})),i.CommonEditorRegistry.registerEditorCommand(new c({id:"jumpToPrevSnippetPlaceholder",precondition:n.ContextKeyExpr.and(a.InSnippetMode,a.HasPrevTabstop),handler:function(e){return e.prev()},kbOpts:{weight:i.CommonEditorRegistry.commandWeight(30),kbExpr:s.EditorContextKeys.textFocus,primary:1026}})),i.CommonEditorRegistry.registerEditorCommand(new c({id:"leaveSnippet",precondition:a.InSnippetMode,handler:function(e){return e.cancel()},kbOpts:{weight:i.CommonEditorRegistry.commandWeight(30),kbExpr:s.EditorContextKeys.textFocus,primary:9,secondary:[1033]}})),i.CommonEditorRegistry.registerEditorCommand(new c({id:"acceptSnippet",precondition:a.InSnippetMode,handler:function(e){return e.finish()}}));var l}),define(u[189],d([1,0,18,34,12,26,7,4,25,46,17]),function(e,t,n,i,r,o,s,a,c,l,u){"use strict";function d(e,t,r,o){void 0===r&&(r="bottom");var c=[],u=f(r);t=t.clone();var d=l.SuggestRegistry.orderedGroups(e);"none"!==r&&b&&d.unshift([b]);var g=!1,v=d.map(function(r){return function(){if(!g)return a.TPromise.join(r.map(function(r){if(i.isFalsyOrEmpty(o)||!(o.indexOf(r)<0))return n.asWinJsPromise(function(n){return r.provideCompletionItems(e,t,n)}).then(function(n){var o=c.length;if(n&&!i.isFalsyOrEmpty(n.suggestions))for(var s=0,a=n.suggestions;s<a.length;s++){var l=a[s];u(l)&&(h(l,n),c.push({position:t,container:n,suggestion:l,support:r,resolve:p(r,l,e,t)}))}o!==c.length&&r!==b&&(g=!0)},s.onUnexpectedExternalError)}))}});return n.sequence(v).then(function(){return c.sort(y(r))})}function h(e,t){"number"!=typeof e.overwriteBefore&&(e.overwriteBefore=0),("number"!=typeof e.overwriteAfter||e.overwriteAfter<0)&&(e.overwriteAfter=0)}function p(e,t,i,r){return function(){return"function"==typeof e.resolveCompletionItem?n.asWinJsPromise(function(n){return e.resolveCompletionItem(i,r,t,n)}).then(function(e){o.assign(t,e)}):a.TPromise.as(void 0)}}function f(e){return"none"===e?function(e){return"snippet"!==e.type}:function(){return!0}}function g(e,t){var n=0;return"string"==typeof e.suggestion.sortText&&"string"==typeof t.suggestion.sortText&&(n=r.compareIgnoreCase(e.suggestion.sortText,t.suggestion.sortText)),0===n&&(n=r.compareIgnoreCase(e.suggestion.label,t.suggestion.label)),0===n&&e.suggestion.type!==t.suggestion.type&&("snippet"===e.suggestion.type?n=1:"snippet"===t.suggestion.type&&(n=-1)),n}function v(e,t){if(e.suggestion.type!==t.suggestion.type){if("snippet"===e.suggestion.type)return-1;if("snippet"===t.suggestion.type)return 1}return g(e,t)}function m(e,t){if(e.suggestion.type!==t.suggestion.type){if("snippet"===e.suggestion.type)return 1;if("snippet"===t.suggestion.type)return-1}return g(e,t)}function y(e){return"top"===e?v:"bottom"===e?m:g}Object.defineProperty(t,"__esModule",{value:!0}),t.Context={Visible:new u.RawContextKey("suggestWidgetVisible",!1),MultipleSuggestions:new u.RawContextKey("suggestWidgetMultipleSuggestions",!1),MakesTextEdit:new u.RawContextKey("suggestionMakesTextEdit",!0),AcceptOnKey:new u.RawContextKey("suggestionSupportsAcceptOnKey",!0),AcceptSuggestionsOnEnter:new u.RawContextKey("acceptSuggestionOnEnter",!0)};var b;t.setSnippetSuggestSupport=function(e){var t=b;return b=e,t},t.provideSuggestionItems=d,t.getSuggestionComparator=y,c.CommonEditorRegistry.registerDefaultLanguageCommand("_executeCompletionItemProvider",function(e,t,n){var i={incomplete:!1,suggestions:[]};return d(e,t).then(function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t],o=r.container,s=r.suggestion;i.incomplete=i.incomplete||o.incomplete,i.suggestions.push(s)}return i})})}),define(u[860],d([1,0,7,34,18,8,5,4,46,37,189,810,147]),function(e,t,n,i,r,o,s,a,c,l,u,d,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(e,t,n){this.leadingLineContent=e.getLineContent(t.lineNumber).substr(0,t.column-1),this.leadingWord=e.getWordUntilPosition(t),this.lineNumber=t.lineNumber,this.column=t.column,this.auto=n}return e.shouldAutoTrigger=function(e){var t=e.getModel();if(!t)return!1;var n=e.getPosition(),i=t.getWordAtPosition(n);return!!i&&(i.endColumn===n.column&&!!isNaN(Number(i.word)))},e.isInEditableRange=function(e){var t=e.getModel(),n=e.getPosition();return!(t.hasEditableRange()&&!t.getEditableRange().containsPosition(n))},e}();t.LineContext=p;!function(e){e[e.Idle=0]="Idle",e[e.Manual=1]="Manual",e[e.Auto=2]="Auto"}(t.State||(t.State={}));var f=function(){function e(e){var t=this;this.editor=e,this.toDispose=[],this.triggerRefilter=new r.TimeoutTimer,this._onDidCancel=new o.Emitter,this._onDidTrigger=new o.Emitter,this._onDidSuggest=new o.Emitter,this._state=0,this.triggerAutoSuggestPromise=null,this.requestPromise=null,this.completionModel=null,this.context=null,this.currentPosition=e.getPosition()||new l.Position(1,1),this.toDispose.push(this.editor.onDidChangeModel(function(){t.updateTriggerCharacters(),t.cancel()})),this.toDispose.push(e.onDidChangeModelLanguage(function(){t.updateTriggerCharacters(),t.cancel()})),this.toDispose.push(this.editor.onDidChangeConfiguration(function(){t.updateTriggerCharacters(),t.updateQuickSuggest()})),this.toDispose.push(c.SuggestRegistry.onDidChange(function(){t.updateTriggerCharacters(),t.updateActiveSuggestSession()})),this.toDispose.push(this.editor.onDidChangeCursorSelection(function(e){t.onCursorChange(e)})),this.updateTriggerCharacters(),this.updateQuickSuggest()}return Object.defineProperty(e.prototype,"onDidCancel",{get:function(){return this._onDidCancel.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidTrigger",{get:function(){return this._onDidTrigger.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidSuggest",{get:function(){return this._onDidSuggest.event},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){s.dispose([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this.triggerCharacterListener,this.triggerRefilter]),this.toDispose=s.dispose(this.toDispose),this.cancel()},e.prototype.updateQuickSuggest=function(){this.quickSuggestDelay=this.editor.getConfiguration().contribInfo.quickSuggestionsDelay,(isNaN(this.quickSuggestDelay)||!this.quickSuggestDelay&&0!==this.quickSuggestDelay||this.quickSuggestDelay<0)&&(this.quickSuggestDelay=10)},e.prototype.updateTriggerCharacters=function(){var e=this;if(s.dispose(this.triggerCharacterListener),!this.editor.getConfiguration().readOnly&&this.editor.getModel()&&this.editor.getConfiguration().contribInfo.suggestOnTriggerCharacters){for(var t=Object.create(null),n=0,r=c.SuggestRegistry.all(this.editor.getModel());n<r.length;n++){var o=r[n];if(!i.isFalsyOrEmpty(o.triggerCharacters))for(var a=0,l=o.triggerCharacters;a<l.length;a++){var u=l[a],d=t[u];d?d.push(o):t[u]=[o]}}this.triggerCharacterListener=this.editor.onDidType(function(n){var i=n.charAt(n.length-1),r=t[i];if(r){var o=[];if(e.completionModel)for(var s=0,a=e.completionModel.items;s<a.length;s++){var c=a[s];r.indexOf(c.support)<0&&o.push(c)}e.trigger(!0,Boolean(e.completionModel),r,o)}})}},Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),e.prototype.cancel=function(e){void 0===e&&(e=!1),this.triggerAutoSuggestPromise&&(this.triggerAutoSuggestPromise.cancel(),this.triggerAutoSuggestPromise=null),this.requestPromise&&(this.requestPromise.cancel(),this.requestPromise=null),this._state=0,this.completionModel=null,this.context=null,this._onDidCancel.fire({retrigger:e})},e.prototype.updateActiveSuggestSession=function(){0!==this._state&&(c.SuggestRegistry.has(this.editor.getModel())?this.trigger(2===this._state,!0):this.cancel())},e.prototype.onCursorChange=function(e){var t=this,n=this.currentPosition;if(this.currentPosition=this.editor.getPosition(),e.selection.isEmpty()&&"keyboard"===e.source&&e.reason===h.CursorChangeReason.NotSet){if(c.SuggestRegistry.has(this.editor.getModel())){var i=this.editor.getModel();i&&(0===this._state?!1!==this.editor.getConfiguration().contribInfo.quickSuggestions&&n.isBefore(this.currentPosition)&&(this.cancel(),p.shouldAutoTrigger(this.editor)&&(this.triggerAutoSuggestPromise=a.TPromise.timeout(this.quickSuggestDelay),this.triggerAutoSuggestPromise.then(function(){var e=t.editor.getModel(),n=t.editor.getPosition();if(e){var i=t.editor.getConfiguration().contribInfo.quickSuggestions;if(!1!==i){if(!0===i);else{e.forceTokenization(n.lineNumber);var r=e.getLineTokens(n.lineNumber).findTokenAtOffset(n.column-1).tokenType;if(!(i.other&&0===r||i.comments&&1===r||i.strings&&2===r))return}t.triggerAutoSuggestPromise=null,t.trigger(!0)}}}))):this.triggerRefilter.cancelAndSet(function(){var e=t.editor.getPosition(),n=new p(i,e,2===t._state);t.onNewContext(n)},25))}}else{if(0===this._state)return;this.cancel()}},e.prototype.trigger=function(e,t,r,o){var s=this;void 0===t&&(t=!1);var a=this.editor.getModel();if(a){var c=new p(a,this.editor.getPosition(),e);p.isInEditableRange(this.editor)&&(this.cancel(t),this._state=e?2:1,this._onDidTrigger.fire({auto:e}),this.context=c,this.requestPromise=u.provideSuggestionItems(a,this.editor.getPosition(),this.editor.getConfiguration().contribInfo.snippetSuggestions,r).then(function(t){if(s.requestPromise=null,0!==s._state){var n=s.editor.getModel();if(n){if(!i.isFalsyOrEmpty(o)){var r=u.getSuggestionComparator(s.editor.getConfiguration().contribInfo.snippetSuggestions);t=t.concat(o).sort(r)}var a=new p(n,s.editor.getPosition(),e);s.completionModel=new d.CompletionModel(t,s.context.column,{leadingLineContent:a.leadingLineContent,characterCountDelta:s.context?a.column-s.context.column:0},s.editor.getConfiguration().contribInfo.snippetSuggestions),s.onNewContext(a)}}}).then(null,n.onUnexpectedError))}},e.prototype.onNewContext=function(e){if(this.context)if(e.lineNumber===this.context.lineNumber){if(e.column<this.context.column)e.leadingWord.word?this.trigger(this.context.auto,!0):this.cancel();else if(this.completionModel)if(e.column>this.context.column&&this.completionModel.incomplete&&0!==e.leadingWord.word.length){var t=this.completionModel.resolveIncompleteInfo(),n=t.complete,i=t.incomplete;this.trigger(2===this._state,!0,i,n)}else{var r=this.completionModel.lineContext,o=!1;if(this.completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this.context.column},0===this.completionModel.items.length){if(p.shouldAutoTrigger(this.editor)&&this.context.leadingWord.endColumn<e.leadingWord.startColumn)return void this.trigger(this.context.auto,!0);if(this.context.auto)return void this.cancel();if(this.completionModel.lineContext=r,(o=this.completionModel.items.length>0)&&0===e.leadingWord.word.length)return void this.cancel()}this._onDidSuggest.fire({completionModel:this.completionModel,auto:this.context.auto,isFrozen:o})}}else this.cancel()},e}();t.SuggestModel=f}),define(u[302],d([1,0,480,25,228]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s=function(e){function t(){return e.call(this,{id:s.ID,label:n.localize(0,null),alias:"Toggle Tab Key Moves Focus",precondition:null,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323}}})||this}return h(t,e),t.prototype.run=function(e,t){var n=r.TabFocus.getTabFocusMode();r.TabFocus.setTabFocusMode(!n)},t}(i.EditorAction);o.ID="editor.action.toggleTabFocusMode",o=s=v([i.editorAction],o),t.ToggleTabFocusModeAction=o;var s}),define(u[862],d([1,0,48,53,25,37,14,421,178,252,108,147]),function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(e){function t(t){var n=e.call(this,t)||this;return n._inSelectionMode=t.inSelectionMode,n._wordNavigationType=t.wordNavigationType,n}return h(t,e),t.prototype.runEditorCommand=function(e,t,n){var i=this,r=t.getConfiguration(),s=l.getMapForWordSeparators(r.wordSeparators),a=t.getModel(),c=t.getSelections().map(function(e){var t=new o.Position(e.positionLineNumber,e.positionColumn),n=i._move(s,a,t,i._wordNavigationType);return i._moveTo(e,n,i._inSelectionMode)});if(t._getCursors().setStates("moveWordCommand",d.CursorChangeReason.NotSet,c.map(function(e){return u.CursorState.fromModelSelection(e)})),1===c.length){var h=new o.Position(c[0].positionLineNumber,c[0].positionColumn);t.revealPosition(h,!1,!0)}},t.prototype._moveTo=function(e,t,n){return n?new i.Selection(e.selectionStartLineNumber,e.selectionStartColumn,t.lineNumber,t.column):new i.Selection(t.lineNumber,t.column,t.lineNumber,t.column)},t}(r.EditorCommand);t.MoveWordCommand=p;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype._move=function(e,t,n,i){return a.WordOperations.moveWordLeft(e,t,n,i)},t}(p);t.WordLeftCommand=f;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype._move=function(e,t,n,i){return a.WordOperations.moveWordRight(e,t,n,i)},t}(p);t.WordRightCommand=g;var m=function(e){function t(){return e.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:null,kbOpts:{kbExpr:n.EditorContextKeys.textFocus,primary:2063,mac:{primary:527}}})||this}return h(t,e),t}(f);m=v([r.editorCommand],m),t.CursorWordStartLeft=m;var y=function(e){function t(){return e.call(this,{inSelectionMode:!1,wordNavigationType:1,id:"cursorWordEndLeft",precondition:null})||this}return h(t,e),t}(f);y=v([r.editorCommand],y),t.CursorWordEndLeft=y;var b=function(e){function t(){return e.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordLeft",precondition:null})||this}return h(t,e),t}(f);b=v([r.editorCommand],b),t.CursorWordLeft=b;var S=function(e){function t(){return e.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:null,kbOpts:{kbExpr:n.EditorContextKeys.textFocus,primary:3087,mac:{primary:1551}}})||this}return h(t,e),t}(f);S=v([r.editorCommand],S),t.CursorWordStartLeftSelect=S;var _=function(e){function t(){return e.call(this,{inSelectionMode:!0,wordNavigationType:1,id:"cursorWordEndLeftSelect",precondition:null})||this}return h(t,e),t}(f);_=v([r.editorCommand],_),t.CursorWordEndLeftSelect=_;var E=function(e){function t(){return e.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordLeftSelect",precondition:null})||this}return h(t,e),t}(f);E=v([r.editorCommand],E),t.CursorWordLeftSelect=E;var C=function(e){function t(){return e.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:null})||this}return h(t,e),t}(g);C=v([r.editorCommand],C),t.CursorWordStartRight=C;var w=function(e){function t(){return e.call(this,{inSelectionMode:!1,wordNavigationType:1,id:"cursorWordEndRight",precondition:null,kbOpts:{kbExpr:n.EditorContextKeys.textFocus,primary:2065,mac:{primary:529}}})||this}return h(t,e),t}(g);w=v([r.editorCommand],w),t.CursorWordEndRight=w;var I=function(e){function t(){return e.call(this,{inSelectionMode:!1,wordNavigationType:1,id:"cursorWordRight",precondition:null})||this}return h(t,e),t}(g);I=v([r.editorCommand],I),t.CursorWordRight=I;var T=function(e){function t(){return e.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:null})||this}return h(t,e),t}(g);T=v([r.editorCommand],T),t.CursorWordStartRightSelect=T;var k=function(e){function t(){return e.call(this,{inSelectionMode:!0,wordNavigationType:1,id:"cursorWordEndRightSelect",precondition:null,kbOpts:{kbExpr:n.EditorContextKeys.textFocus,primary:3089,mac:{primary:1553}}})||this}return h(t,e),t}(g);k=v([r.editorCommand],k),t.CursorWordEndRightSelect=k;var x=function(e){function t(){return e.call(this,{inSelectionMode:!0,wordNavigationType:1,id:"cursorWordRightSelect",precondition:null})||this}return h(t,e),t}(g);x=v([r.editorCommand],x),t.CursorWordRightSelect=x;var A=function(e){function t(t){var n=e.call(this,t)||this;return n._whitespaceHeuristics=t.whitespaceHeuristics,n._wordNavigationType=t.wordNavigationType,n}return h(t,e),t.prototype.runEditorCommand=function(e,t,n){var i=this,r=t.getConfiguration(),o=l.getMapForWordSeparators(r.wordSeparators),s=t.getModel(),a=t.getSelections().map(function(e){var t=i._delete(o,s,e,i._whitespaceHeuristics,i._wordNavigationType);return new c.ReplaceCommand(t,"")});t.pushUndoStop(),t.executeCommands(this.id,a),t.pushUndoStop()},t}(r.EditorCommand);t.DeleteWordCommand=A;var L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype._delete=function(e,t,n,i,r){var o=a.WordOperations.deleteWordLeft(e,t,n,i,r);return o||new s.Range(1,1,1,1)},t}(A);t.DeleteWordLeftCommand=L;var P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype._delete=function(e,t,n,i,r){var o=a.WordOperations.deleteWordRight(e,t,n,i,r);if(o)return o;var c=t.getLineCount(),l=t.getLineMaxColumn(c);return new s.Range(c,l,c,l)},t}(A);t.DeleteWordRightCommand=P;var D=function(e){function t(){return e.call(this,{whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:n.EditorContextKeys.writable})||this}return h(t,e),t}(L);D=v([r.editorCommand],D),t.DeleteWordStartLeft=D;var O=function(e){function t(){return e.call(this,{whitespaceHeuristics:!1,wordNavigationType:1,id:"deleteWordEndLeft",precondition:n.EditorContextKeys.writable})||this}return h(t,e),t}(L);O=v([r.editorCommand],O),t.DeleteWordEndLeft=O;var R=function(e){function t(){return e.call(this,{whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.textFocus,primary:2049,mac:{primary:513}}})||this}return h(t,e),t}(L);R=v([r.editorCommand],R),t.DeleteWordLeft=R;var M=function(e){function t(){return e.call(this,{whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:n.EditorContextKeys.writable})||this}return h(t,e),t}(P);M=v([r.editorCommand],M),t.DeleteWordStartRight=M;var N=function(e){function t(){return e.call(this,{whitespaceHeuristics:!1,wordNavigationType:1,id:"deleteWordEndRight",precondition:n.EditorContextKeys.writable})||this}return h(t,e),t}(P);N=v([r.editorCommand],N),t.DeleteWordEndRight=N;var F=function(e){function t(){return e.call(this,{whitespaceHeuristics:!0,wordNavigationType:1,id:"deleteWordRight",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.textFocus,primary:2068,mac:{primary:532}}})||this}return h(t,e),t}(P);F=v([r.editorCommand],F),t.DeleteWordRight=F}),define(u[863],d([1,0,370,19,20]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,i){this.contextView=new n.ContextView(e)}return e.prototype.dispose=function(){this.contextView.dispose()},e.prototype.setContainer=function(e){this.contextView.setContainer(e)},e.prototype.showContextView=function(e){this.contextView.show(e)},e.prototype.layout=function(){this.contextView.layout()},e.prototype.hideContextView=function(e){this.contextView.hide(e)},e}();o=v([y(1,i.ITelemetryService),y(2,r.IMessageService)],o),t.ContextViewService=o}),define(u[336],d([1,0,4]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.appender=e}return e.prototype.call=function(e,t){var i=t.eventName,r=t.data;return this.appender.log(i,r),n.TPromise.as(null)},e}();t.TelemetryAppenderChannel=i;var r=function(){function e(e){this.channel=e}return e.prototype.log=function(e,t){return this.channel.call("log",{eventName:e,data:t})},e.prototype.dispose=function(){},e}();t.TelemetryAppenderClient=r}),define(u[164],d([1,0,4,133,28,23,38,69]),function(e,t,n,i,r,o,s,a){"use strict";function c(e,t){var n=l(t);return Object.keys(e).forEach(function(t){t in n&&(e[t]=n[t])}),e}function l(e){var t=e.getConfiguration("telemetry");return t&&t.experiments||{}}function u(e){if(!e)return e;for(var t="",n=0;n<e.length;n++){var i=e[n];i>="0"&&i<="9"?t+="0":t+=i>="a"&&i<="z"?"a":i>="A"&&i<="Z"?"A":i}return t}function d(e){if(!e)return[];var t=[];return h(t,"",e),t}function h(e,t,n){n&&"object"==typeof n&&!Array.isArray(n)?Object.keys(n).forEach(function(i){return h(e,t?t+"."+i:i,n[i])}):e.push(t)}function p(e,t){return e?t.reduce(function(t,n){var i=n.split(".").reduce(function(e,t){return e&&"object"==typeof e?e[t]:void 0},e);return void 0!==i&&t.push((r={},r[n]=i,r)),t;var r},[]):[]}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultExperiments={mergeQuickLinks:!1},t.NullTelemetryService={_serviceBrand:void 0,_experiments:t.defaultExperiments,publicLog:function(e,t){return n.TPromise.as(null)},isOptedIn:!0,getTelemetryInfo:function(){return n.TPromise.as({instanceId:"someValue.instanceId",sessionId:"someValue.sessionId",machineId:"someValue.machineId"})},getExperiments:function(){return this._experiments}},t.loadExperiments=function(e){var n=e.get(o.IConfigurationService);return c(t.defaultExperiments,n)},t.combinedAppender=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{log:function(t,n){return e.forEach(function(e){return e.log(t,n)})}}},t.NullAppender={log:function(){return null}},t.anonymize=u,t.telemetryURIDescriptor=function(e){var t=e&&e.fsPath;return t?{mimeType:i.guessMimeTypes(t).join(", "),ext:r.extname(t),path:u(t)}:{}};var f=["editor.tabCompletion","editor.fontFamily","editor.fontWeight","editor.fontSize","editor.lineHeight","editor.letterSpacing","editor.lineNumbers","editor.rulers","editor.wordSeparators","editor.tabSize","editor.insertSpaces","editor.detectIndentation","editor.roundedSelection","editor.scrollBeyondLastLine","editor.minimap.enabled","editor.minimap.renderCharacters","editor.minimap.maxColumn","editor.find.seedSearchStringFromSelection","editor.find.autoFindInSelection","editor.wordWrap","editor.wordWrapColumn","editor.wrappingIndent","editor.mouseWheelScrollSensitivity","editor.multiCursorModifier","editor.quickSuggestions","editor.quickSuggestionsDelay","editor.parameterHints","editor.autoClosingBrackets","editor.autoIndent","editor.formatOnType","editor.formatOnPaste","editor.suggestOnTriggerCharacters","editor.acceptSuggestionOnEnter","editor.acceptSuggestionOnCommitCharacter","editor.snippetSuggestions","editor.emptySelectionClipboard","editor.wordBasedSuggestions","editor.suggestFontSize","editor.suggestLineHeight","editor.selectionHighlight","editor.occurrencesHighlight","editor.overviewRulerLanes","editor.overviewRulerBorder","editor.cursorBlinking","editor.cursorStyle","editor.mouseWheelZoom","editor.fontLigatures","editor.hideCursorInOverviewRuler","editor.renderWhitespace","editor.renderControlCharacters","editor.renderIndentGuides","editor.renderLineHighlight","editor.codeLens","editor.folding","editor.showFoldingControls","editor.matchBrackets","editor.glyphMargin","editor.useTabStops","editor.trimAutoWhitespace","editor.stablePeek","editor.dragAndDrop","editor.formatOnSave","window.zoomLevel","files.autoSave","files.hotExit","typescript.check.tscVersion","files.associations","workbench.statusBar.visible","files.trimTrailingWhitespace","git.confirmSync","workbench.sideBar.location","window.openFilesInNewWindow","javascript.validate.enable","window.reopenFolders","window.restoreWindows","extensions.autoUpdate","files.eol","explorer.openEditors.visible","workbench.editor.enablePreview","files.autoSaveDelay","workbench.editor.showTabs","files.encoding","files.autoGuessEncoding","git.enabled","http.proxyStrictSSL","terminal.integrated.fontFamily","workbench.editor.enablePreviewFromQuickOpen","workbench.editor.swipeToNavigate","php.builtInCompletions.enable","php.validate.enable","php.validate.run","workbench.welcome.enabled","workbench.startupEditor"];t.configurationTelemetry=function(e,t){return t.onDidUpdateConfiguration(function(t){t.source!==o.ConfigurationSource.Default&&(e.publicLog("updateConfiguration",{configurationSource:o.ConfigurationSource[t.source],configurationKeys:d(t.sourceConfig)}),e.publicLog("updateConfigurationValues",{configurationSource:o.ConfigurationSource[t.source],configurationValues:p(t.sourceConfig,f)}))})},t.lifecycleTelemetry=function(e,t){return t.onShutdown(function(t){e.publicLog("shutdown",{reason:a.ShutdownReason[t]})})},t.keybindingsTelemetry=function(e,t){return t.onDidUpdateKeybindings(function(t){t.source===s.KeybindingSource.User&&t.keybindings&&e.publicLog("updateKeybindings",{bindings:t.keybindings.map(function(e){return{key:e.key,command:e.command,when:e.when,args:!!e.args||void 0}})})})}}),define(u[331],d([1,0,498,12,164,6,23,64,4,5,26,15]),function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function e(e,t){this._configurationService=t,this._disposables=[],this._cleanupPatterns=[],this._appender=e.appender,this._commonProperties=e.commonProperties||c.TPromise.as({}),this._piiPaths=e.piiPaths||[],this._userOptIn=void 0===e.userOptIn||e.userOptIn,this._experiments=e.experiments||r.defaultExperiments,this._cleanupPatterns.push([/file:\/\/\/.*?\/resources\/app\//gi,""],[/file:\/\/\/.*/gi,""],[/ENOENT: no such file or directory.*?\'([^\']+)\'/gi,"ENOENT: no such file or directory"]);for(var n=0,o=this._piiPaths;n<o.length;n++){var s=o[n];this._cleanupPatterns.push([new RegExp(i.escapeRegExpCharacters(s),"gi"),""])}this._configurationService&&(this._updateUserOptIn(),this._configurationService.onDidUpdateConfiguration(this._updateUserOptIn,this,this._disposables),this.publicLog("optInStatus",{optIn:this._userOptIn}))}return e.prototype._updateUserOptIn=function(){var e=this._configurationService.getConfiguration(p);this._userOptIn=e?e.enableTelemetry:this._userOptIn},Object.defineProperty(e.prototype,"isOptedIn",{get:function(){return this._userOptIn},enumerable:!0,configurable:!0}),e.prototype.getExperiments=function(){return this._experiments},e.prototype.getTelemetryInfo=function(){return this._commonProperties.then(function(e){return{sessionId:e.sessionID,instanceId:e["common.instanceId"],machineId:e["common.machineId"]}})},e.prototype.dispose=function(){this._disposables=l.dispose(this._disposables)},e.prototype.publicLog=function(e,t){var n=this;return this._userOptIn?this._commonProperties.then(function(i){t=u.mixin(t,i),t=u.cloneAndChange(t,function(e){if("string"==typeof e)return n._cleanupInfo(e)}),n._appender.log(e,t)},function(e){console.error(e)}):c.TPromise.as(void 0)},e.prototype._cleanupInfo=function(e){for(var t=0,n=this._cleanupPatterns;t<n.length;t++){var i=n[t],r=i[0],o=i[1];e=e.replace(r,o)}return e},e}();h.IDLE_START_EVENT_NAME="UserIdleStart",h.IDLE_STOP_EVENT_NAME="UserIdleStop",h=v([y(1,o.optional(s.IConfigurationService))],h),t.TelemetryService=h;var p="telemetry";d.Registry.as(a.Extensions.Configuration).registerConfiguration({id:p,order:110,type:"object",title:n.localize(0,null),properties:{"telemetry.enableTelemetry":{type:"boolean",description:n.localize(1,null),default:!0}}})}),define(u[329],d([1,0,11,96,4,135]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.machineIdStorageKey="telemetry.machineId",t.machineIdIpcChannel="vscode:machineId",t.resolveCommonProperties=function(e,t){var s=Object.create(null);s.sessionID=o.generateUuid()+Date.now(),s.commitHash=e,s.version=t,s["common.osVersion"]=i.release(),s["common.platform"]=n.Platform[n.platform],s["common.nodePlatform"]=process.platform,s["common.nodeArch"]=process.arch;var a=0,c=Date.now();return Object.defineProperties(s,{timestamp:{get:function(){return new Date},enumerable:!0},"common.timesincesessionstart":{get:function(){return Date.now()-c},enumerable:!0},"common.sequence":{get:function(){return a++},enumerable:!0}}),r.TPromise.as(s)}}),define(u[29],d([1,0,15,58,499]),function(e,t,n,i,r){"use strict";function o(e,t,n){return h.registerColor(e,t,n)}function s(e,t){return function(n){var i=u(e,n);return i?i.darken(t):null}}function a(e,t){return function(n){var i=u(e,n);return i?i.lighten(t):null}}function c(e,t){return function(n){var i=u(e,n);return i?i.transparent(t):null}}function l(e,t,n,r){return function(o){var s=u(e,o);if(s){var a=u(t,o);return a?s.isDarkerThan(a)?i.Color.getLighterColor(s,a,n).transparent(r):i.Color.getDarkerColor(s,a,n).transparent(r):s.transparent(n*r)}return null}}function u(e,t){return null===e?null:"string"==typeof e?"#"===e[0]?i.Color.fromHex(e):t.getColor(e):e instanceof i.Color?e:"function"==typeof e?e(t):null}Object.defineProperty(t,"__esModule",{value:!0}),t.Extensions={ColorContribution:"base.contributions.colors"};var d=r.localize(0,null),h=new(function(){function e(){this.colorSchema={type:"object",description:r.localize(1,null),properties:{},additionalProperties:!1},this.colorsById={}}return e.prototype.registerColor=function(e,t,n){var i={id:e,description:n,defaults:t};return this.colorsById[e]=i,this.colorSchema.properties[e]={type:"string",description:n,format:"color",pattern:"^#([0-9A-Fa-f]{3,4}|([0-9A-Fa-f]{2}){3,4})$",patternErrorMessage:d},e},e.prototype.getColors=function(){var e=this;return Object.keys(this.colorsById).map(function(t){return e.colorsById[t]})},e.prototype.resolveDefaultColor=function(e,t){var n=this.colorsById[e];return n&&n.defaults?u(n.defaults[t.type],t):null},e.prototype.getColorSchema=function(){return this.colorSchema},e.prototype.toString=function(){var e=this;return Object.keys(this.colorsById).sort(function(e,t){var n=-1===e.indexOf(".")?0:1,i=-1===t.indexOf(".")?0:1;return n!==i?n-i:e.localeCompare(t)}).map(function(t){return"- `"+t+"`: "+e.colorsById[t].description}).join("\n")},e}());n.Registry.add(t.Extensions.ColorContribution,h),t.registerColor=o,t.foreground=o("foreground",{dark:"#CCCCCC",light:"#6C6C6C",hc:"#FFFFFF"},r.localize(2,null)),t.errorForeground=o("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},r.localize(3,null)),t.descriptionForeground=o("descriptionForeground",{light:c(t.foreground,.7),dark:c(t.foreground,.7),hc:c(t.foreground,.7)},r.localize(4,null)),t.focusBorder=o("focusBorder",{dark:i.Color.fromHex("#0E639C").transparent(.6),light:i.Color.fromHex("#007ACC").transparent(.4),hc:"#F38518"},r.localize(5,null)),t.contrastBorder=o("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},r.localize(6,null)),t.activeContrastBorder=o("contrastActiveBorder",{light:null,dark:null,hc:t.focusBorder},r.localize(7,null)),t.selectionBackground=o("selection.background",{light:null,dark:null,hc:null},r.localize(8,null)),t.textSeparatorForeground=o("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hc:i.Color.black},r.localize(9,null)),t.textLinkForeground=o("textLink.foreground",{light:"#4080D0",dark:"#4080D0",hc:"#4080D0"},r.localize(10,null)),t.textLinkActiveForeground=o("textLink.activeForeground",{light:"#4080D0",dark:"#4080D0",hc:"#4080D0"},r.localize(11,null)),t.textPreformatForeground=o("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hc:"#D7BA7D"},r.localize(12,null)),t.textBlockQuoteBackground=o("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hc:null},r.localize(13,null)),t.textBlockQuoteBorder=o("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hc:i.Color.white},r.localize(14,null)),t.textCodeBlockBackground=o("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:i.Color.black},r.localize(15,null)),t.widgetShadow=o("widget.shadow",{dark:"#000000",light:"#A8A8A8",hc:null},r.localize(16,null)),t.inputBackground=o("input.background",{dark:"#3C3C3C",light:i.Color.white,hc:i.Color.black},r.localize(17,null)),t.inputForeground=o("input.foreground",{dark:t.foreground,light:t.foreground,hc:t.foreground},r.localize(18,null)),t.inputBorder=o("input.border",{dark:null,light:null,hc:t.contrastBorder},r.localize(19,null)),t.inputActiveOptionBorder=o("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hc:t.activeContrastBorder},r.localize(20,null)),t.inputPlaceholderForeground=o("input.placeholderForeground",{dark:null,light:null,hc:null},r.localize(21,null)),t.inputValidationInfoBackground=o("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:i.Color.black},r.localize(22,null)),t.inputValidationInfoBorder=o("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:t.contrastBorder},r.localize(23,null)),t.inputValidationWarningBackground=o("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:i.Color.black},r.localize(24,null)),t.inputValidationWarningBorder=o("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:t.contrastBorder},r.localize(25,null)),t.inputValidationErrorBackground=o("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:i.Color.black},r.localize(26,null)),t.inputValidationErrorBorder=o("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:t.contrastBorder},r.localize(27,null)),t.selectBackground=o("dropdown.background",{dark:"#3C3C3C",light:i.Color.white,hc:i.Color.black},r.localize(28,null)),t.selectForeground=o("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:i.Color.white},r.localize(29,null)),t.selectBorder=o("dropdown.border",{dark:t.selectBackground,light:"#CECECE",hc:t.contrastBorder},r.localize(30,null)),t.listFocusBackground=o("list.focusBackground",{dark:"#073655",light:"#DCEBFC",hc:null},r.localize(31,null)),t.listFocusForeground=o("list.focusForeground",{dark:null,light:null,hc:null},r.localize(32,null)),t.listActiveSelectionBackground=o("list.activeSelectionBackground",{dark:"#094771",light:"#3399FF",hc:null},r.localize(33,null)),t.listActiveSelectionForeground=o("list.activeSelectionForeground",{dark:i.Color.white,light:i.Color.white,hc:null},r.localize(34,null)),t.listInactiveSelectionBackground=o("list.inactiveSelectionBackground",{dark:"#3F3F46",light:"#CCCEDB",hc:null},r.localize(35,null)),t.listInactiveSelectionForeground=o("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},r.localize(36,null)),t.listHoverBackground=o("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},r.localize(37,null)),t.listHoverForeground=o("list.hoverForeground",{dark:null,light:null,hc:null},r.localize(38,null)),t.listDropBackground=o("list.dropBackground",{dark:t.listFocusBackground,light:t.listFocusBackground,hc:null},r.localize(39,null)),t.listHighlightForeground=o("list.highlightForeground",{dark:"#0097fb",light:"#007acc",hc:t.focusBorder},r.localize(40,null)),t.pickerGroupForeground=o("pickerGroup.foreground",{dark:i.Color.fromHex("#0097FB").transparent(.6),light:i.Color.fromHex("#007ACC").transparent(.6),hc:i.Color.white},r.localize(41,null)),t.pickerGroupBorder=o("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:i.Color.white},r.localize(42,null)),t.buttonForeground=o("button.foreground",{dark:i.Color.white,light:i.Color.white,hc:i.Color.white},r.localize(43,null)),t.buttonBackground=o("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},r.localize(44,null)),t.buttonHoverBackground=o("button.hoverBackground",{dark:a(t.buttonBackground,.2),light:s(t.buttonBackground,.2),hc:null},r.localize(45,null)),t.badgeBackground=o("badge.background",{dark:"#4D4D4D",light:"#BEBEBE",hc:i.Color.black},r.localize(46,null)),t.badgeForeground=o("badge.foreground",{dark:i.Color.white,light:i.Color.white,hc:i.Color.white},r.localize(47,null)),t.scrollbarShadow=o("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},r.localize(48,null)),t.scrollbarSliderBackground=o("scrollbarSlider.background",{dark:i.Color.fromHex("#797979").transparent(.4),light:i.Color.fromHex("#646464").transparent(.4),hc:c(t.contrastBorder,.6)},r.localize(49,null)),t.scrollbarSliderHoverBackground=o("scrollbarSlider.hoverBackground",{dark:i.Color.fromHex("#646464").transparent(.7),light:i.Color.fromHex("#646464").transparent(.7),hc:c(t.contrastBorder,.8)},r.localize(50,null)),t.scrollbarSliderActiveBackground=o("scrollbarSlider.activeBackground",{dark:i.Color.fromHex("#BFBFBF").transparent(.4),light:i.Color.fromHex("#000000").transparent(.6),hc:t.contrastBorder},r.localize(51,null)),t.progressBarBackground=o("progressBar.background",{dark:i.Color.fromHex("#0E70C0"),light:i.Color.fromHex("#0E70C0"),hc:t.contrastBorder},r.localize(52,null)),t.editorBackground=o("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:i.Color.black},r.localize(53,null)),t.editorForeground=o("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:i.Color.white},r.localize(54,null)),t.editorWidgetBackground=o("editorWidget.background",{dark:"#2D2D30",light:"#EFEFF2",hc:"#0C141F"},r.localize(55,null)),t.editorWidgetBorder=o("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:t.contrastBorder},r.localize(56,null)),t.editorSelectionBackground=o("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},r.localize(57,null)),t.editorSelectionForeground=o("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},r.localize(58,null)),t.editorInactiveSelection=o("editor.inactiveSelectionBackground",{light:c(t.editorSelectionBackground,.5),dark:c(t.editorSelectionBackground,.5),hc:c(t.editorSelectionBackground,.5)},r.localize(59,null)),t.editorSelectionHighlight=o("editor.selectionHighlightBackground",{light:l(t.editorSelectionBackground,t.editorBackground,.3,.6),dark:l(t.editorSelectionBackground,t.editorBackground,.3,.6),hc:null},r.localize(60,null)),t.editorFindMatch=o("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},r.localize(61,null)),t.editorFindMatchHighlight=o("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},r.localize(62,null)),t.editorFindRangeHighlight=o("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},r.localize(63,null)),t.editorHoverHighlight=o("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},r.localize(64,null)),t.editorHoverBackground=o("editorHoverWidget.background",{light:t.editorWidgetBackground,dark:t.editorWidgetBackground,hc:t.editorWidgetBackground},r.localize(65,null)),t.editorHoverBorder=o("editorHoverWidget.border",{light:t.editorWidgetBorder,dark:t.editorWidgetBorder,hc:t.editorWidgetBorder},r.localize(66,null)),t.editorActiveLinkForeground=o("editorLink.activeForeground",{dark:"#4E94CE",light:i.Color.blue,hc:i.Color.cyan},r.localize(67,null)),t.defaultInsertColor=i.Color.fromRGBA(new i.RGBA(155,185,85,51)),t.defaultRemoveColor=i.Color.fromRGBA(new i.RGBA(255,0,0,51)),t.diffInserted=o("diffEditor.insertedTextBackground",{dark:t.defaultInsertColor,light:t.defaultInsertColor,hc:null},r.localize(68,null)),t.diffRemoved=o("diffEditor.removedTextBackground",{dark:t.defaultRemoveColor,light:t.defaultRemoveColor,hc:null},r.localize(69,null)),t.diffInsertedOutline=o("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},r.localize(70,null)),t.diffRemovedOutline=o("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},r.localize(71,null));var p=i.Color.fromHex("#40C8AE").transparent(.5),f=i.Color.fromHex("#40A6FF").transparent(.5),g=i.Color.fromHex("#606060").transparent(.4);t.mergeCurrentHeaderBackground=o("merge.currentHeaderBackground",{dark:p,light:p,hc:null},r.localize(72,null)),t.mergeCurrentContentBackground=o("merge.currentContentBackground",{dark:c(t.mergeCurrentHeaderBackground,.4),light:c(t.mergeCurrentHeaderBackground,.4),hc:c(t.mergeCurrentHeaderBackground,.4)},r.localize(73,null)),t.mergeIncomingHeaderBackground=o("merge.incomingHeaderBackground",{dark:f,light:f,hc:null},r.localize(74,null)),t.mergeIncomingContentBackground=o("merge.incomingContentBackground",{dark:c(t.mergeIncomingHeaderBackground,.4),light:c(t.mergeIncomingHeaderBackground,.4),hc:c(t.mergeIncomingHeaderBackground,.4)},r.localize(75,null)),t.mergeCommonHeaderBackground=o("merge.commonHeaderBackground",{dark:g,light:g,hc:null},r.localize(76,null)),t.mergeCommonContentBackground=o("merge.commonContentBackground",{dark:c(t.mergeCommonHeaderBackground,.4),light:c(t.mergeCommonHeaderBackground,.4),hc:c(t.mergeCommonHeaderBackground,.4)},r.localize(77,null)),t.mergeBorder=o("merge.border",{dark:null,light:null,hc:"#C3DF6F"},r.localize(78,null)),t.overviewRulerCurrentContentForeground=o("editorOverviewRuler.currentContentForeground",{dark:c(t.mergeCurrentHeaderBackground,1),light:c(t.mergeCurrentHeaderBackground,1),hc:t.mergeBorder},r.localize(79,null)),t.overviewRulerIncomingContentForeground=o("editorOverviewRuler.incomingContentForeground",{dark:c(t.mergeIncomingHeaderBackground,1),light:c(t.mergeIncomingHeaderBackground,1),hc:t.mergeBorder},r.localize(80,null)),t.overviewRulerCommonContentForeground=o("editorOverviewRuler.commonContentForeground",{dark:c(t.mergeCommonHeaderBackground,1),light:c(t.mergeCommonHeaderBackground,1),hc:t.mergeBorder},r.localize(81,null)),t.darken=s,t.lighten=a,t.transparent=c,t.oneOf=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){for(var n=0,i=e;n<i.length;n++){var r=u(i[n],t);if(r)return r}return null}}}),define(u[55],d([1,0,29]),function(e,t,n){"use strict";function i(e,t,n){function i(e){var i=Object.create(null);for(var r in t){var o=t[r];"string"==typeof o?i[r]=e.getColor(o):"function"==typeof o&&(i[r]=o(e))}"function"==typeof n?n(i):n.style(i)}return i(e.getTheme()),e.onThemeChange(i)}Object.defineProperty(t,"__esModule",{value:!0}),t.attachStyler=i,t.attachCheckboxStyler=function(e,t,r){return i(t,{inputActiveOptionBorder:r&&r.inputActiveOptionBorderColor||n.inputActiveOptionBorder},e)},t.attachBadgeStyler=function(e,t,r){return i(t,{badgeBackground:r&&r.badgeBackground||n.badgeBackground,badgeForeground:r&&r.badgeForeground||n.badgeForeground,badgeBorder:n.contrastBorder},e)},t.attachInputBoxStyler=function(e,t,r){return i(t,{inputBackground:r&&r.inputBackground||n.inputBackground,inputForeground:r&&r.inputForeground||n.inputForeground,inputBorder:r&&r.inputBorder||n.inputBorder,inputValidationInfoBorder:r&&r.inputValidationInfoBorder||n.inputValidationInfoBorder,inputValidationInfoBackground:r&&r.inputValidationInfoBackground||n.inputValidationInfoBackground,inputValidationWarningBorder:r&&r.inputValidationWarningBorder||n.inputValidationWarningBorder,inputValidationWarningBackground:r&&r.inputValidationWarningBackground||n.inputValidationWarningBackground,inputValidationErrorBorder:r&&r.inputValidationErrorBorder||n.inputValidationErrorBorder,inputValidationErrorBackground:r&&r.inputValidationErrorBackground||n.inputValidationErrorBackground},e)},t.attachSelectBoxStyler=function(e,t,r){return i(t,{selectBackground:r&&r.selectBackground||n.selectBackground,selectForeground:r&&r.selectForeground||n.selectForeground,selectBorder:r&&r.selectBorder||n.selectBorder},e)},t.attachFindInputBoxStyler=function(e,t,r){return i(t,{inputBackground:r&&r.inputBackground||n.inputBackground,inputForeground:r&&r.inputForeground||n.inputForeground,inputBorder:r&&r.inputBorder||n.inputBorder,inputActiveOptionBorder:r&&r.inputActiveOptionBorder||n.inputActiveOptionBorder,inputValidationInfoBorder:r&&r.inputValidationInfoBorder||n.inputValidationInfoBorder,inputValidationInfoBackground:r&&r.inputValidationInfoBackground||n.inputValidationInfoBackground,inputValidationWarningBorder:r&&r.inputValidationWarningBorder||n.inputValidationWarningBorder,inputValidationWarningBackground:r&&r.inputValidationWarningBackground||n.inputValidationWarningBackground,inputValidationErrorBorder:r&&r.inputValidationErrorBorder||n.inputValidationErrorBorder,inputValidationErrorBackground:r&&r.inputValidationErrorBackground||n.inputValidationErrorBackground},e)},t.attachQuickOpenStyler=function(e,t,r){return i(t,{foreground:r&&r.foreground||n.foreground,background:r&&r.background||n.editorBackground,borderColor:r&&r.borderColor||n.contrastBorder,widgetShadow:r&&r.widgetShadow||n.widgetShadow,progressBarBackground:r&&r.progressBarBackground||n.progressBarBackground,pickerGroupForeground:r&&r.pickerGroupForeground||n.pickerGroupForeground,pickerGroupBorder:r&&r.pickerGroupBorder||n.pickerGroupBorder,inputBackground:r&&r.inputBackground||n.inputBackground,inputForeground:r&&r.inputForeground||n.inputForeground,inputBorder:r&&r.inputBorder||n.inputBorder,inputValidationInfoBorder:r&&r.inputValidationInfoBorder||n.inputValidationInfoBorder,inputValidationInfoBackground:r&&r.inputValidationInfoBackground||n.inputValidationInfoBackground,inputValidationWarningBorder:r&&r.inputValidationWarningBorder||n.inputValidationWarningBorder,inputValidationWarningBackground:r&&r.inputValidationWarningBackground||n.inputValidationWarningBackground,inputValidationErrorBorder:r&&r.inputValidationErrorBorder||n.inputValidationErrorBorder,inputValidationErrorBackground:r&&r.inputValidationErrorBackground||n.inputValidationErrorBackground,listFocusBackground:r&&r.listFocusBackground||n.listFocusBackground,listFocusForeground:r&&r.listFocusForeground||n.listFocusForeground,listActiveSelectionBackground:r&&r.listActiveSelectionBackground||n.lighten(n.listActiveSelectionBackground,.1),listActiveSelectionForeground:r&&r.listActiveSelectionForeground||n.listActiveSelectionForeground,listFocusAndSelectionBackground:r&&r.listFocusAndSelectionBackground||n.listActiveSelectionBackground,listFocusAndSelectionForeground:r&&r.listFocusAndSelectionForeground||n.listActiveSelectionForeground,listInactiveSelectionBackground:r&&r.listInactiveSelectionBackground||n.listInactiveSelectionBackground,listInactiveSelectionForeground:r&&r.listInactiveSelectionForeground||n.listInactiveSelectionForeground,listHoverBackground:r&&r.listHoverBackground||n.listHoverBackground,listHoverForeground:r&&r.listHoverForeground||n.listHoverForeground,listDropBackground:r&&r.listDropBackground||n.listDropBackground,listFocusOutline:r&&r.listFocusOutline||n.activeContrastBorder,listSelectionOutline:r&&r.listSelectionOutline||n.activeContrastBorder,listHoverOutline:r&&r.listHoverOutline||n.activeContrastBorder},e)},t.attachListStyler=function(e,t,r){return i(t,{listFocusBackground:r&&r.listFocusBackground||n.listFocusBackground,listFocusForeground:r&&r.listFocusForeground||n.listFocusForeground,listActiveSelectionBackground:r&&r.listActiveSelectionBackground||n.lighten(n.listActiveSelectionBackground,.1),listActiveSelectionForeground:r&&r.listActiveSelectionForeground||n.listActiveSelectionForeground,listFocusAndSelectionBackground:r&&r.listFocusAndSelectionBackground||n.listActiveSelectionBackground,listFocusAndSelectionForeground:r&&r.listFocusAndSelectionForeground||n.listActiveSelectionForeground,listInactiveFocusBackground:r&&r.listInactiveFocusBackground,listInactiveSelectionBackground:r&&r.listInactiveSelectionBackground||n.listInactiveSelectionBackground,listInactiveSelectionForeground:r&&r.listInactiveSelectionForeground||n.listInactiveSelectionForeground,listHoverBackground:r&&r.listHoverBackground||n.listHoverBackground,listHoverForeground:r&&r.listHoverForeground||n.listHoverForeground,listDropBackground:r&&r.listDropBackground||n.listDropBackground,listFocusOutline:r&&r.listFocusOutline||n.activeContrastBorder,listSelectionOutline:r&&r.listSelectionOutline||n.activeContrastBorder,listHoverOutline:r&&r.listHoverOutline||n.activeContrastBorder,listInactiveFocusOutline:r&&r.listInactiveFocusOutline},e)},t.attachButtonStyler=function(e,t,r){return i(t,{buttonForeground:r&&r.buttonForeground||n.buttonForeground,buttonBackground:r&&r.buttonBackground||n.buttonBackground,buttonHoverBackground:r&&r.buttonHoverBackground||n.buttonHoverBackground,buttonBorder:n.contrastBorder},e)},t.attachProgressBarStyler=function(e,t,r){return i(t,{progressBarBackground:r&&r.progressBarBackground||n.progressBarBackground},e)},t.attachStylerCallback=function(e,t,n){return i(e,t,n)}}),define(u[13],d([1,0,6,15,8]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IThemeService=n.createDecorator("themeService"),t.DARK="dark",t.LIGHT="light",t.HIGH_CONTRAST="hc",t.getThemeTypeSelector=function(e){switch(e){case t.DARK:return"vs-dark";case t.HIGH_CONTRAST:return"hc-black";default:return"vs"}},t.Extensions={ThemingContribution:"base.contributions.theming"};var o=new(function(){function e(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new r.Emitter}return e.prototype.onThemeChange=function(e){var t=this;return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),{dispose:function(){var n=t.themingParticipants.indexOf(e);t.themingParticipants.splice(n,1)}}},Object.defineProperty(e.prototype,"onThemingParticipantAdded",{get:function(){return this.onThemingParticipantAddedEmitter.event},enumerable:!0,configurable:!0}),e.prototype.getThemingParticipants=function(){return this.themingParticipants},e}());i.Registry.add(t.Extensions.ThemingContribution,o),t.registerThemingParticipant=function(e){return o.onThemeChange(e)},t.cssRule=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i="",r=0;r<t.length;r++){i+=e[r];var o=t[r];i+=null===o?"transparent":o.toString()}return i+=e[e.length-1]}}),define(u[871],d([1,0,12,16,9,33,891,5,13]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(t,n){void 0===n&&(n=r.createStyleSheet());var i=e.call(this)||this;return i._styleSheet=n,i._decorationOptionProviders=Object.create(null),i._themeService=t,i}return h(t,e),t.prototype.registerDecorationType=function(e,t,n){var i=this._decorationOptionProviders[e];if(!i){var r={styleSheet:this._styleSheet,key:e,parentTypeKey:n,options:t};i=n?new d(this._themeService,r):new p(this._themeService,r),this._decorationOptionProviders[e]=i}i.refCount++},t.prototype.removeDecorationType=function(e){var t=this._decorationOptionProviders[e];t&&(t.refCount--,t.refCount<=0&&(delete this._decorationOptionProviders[e],t.dispose(),this.listCodeEditors().forEach(function(t){return t.removeDecorations(e)})))},t.prototype.resolveDecorationOptions=function(e,t){var n=this._decorationOptionProviders[e];if(!n)throw new Error("Unknown decoration type key: "+e);return n.getOptions(this,t)},t}(s.AbstractCodeEditorService);l=v([y(0,c.IThemeService)],l),t.CodeEditorServiceImpl=l;var u,d=function(){function e(e,t){this._parentTypeKey=t.parentTypeKey,this.refCount=0,this._beforeContentRules=new g(3,t,e),this._afterContentRules=new g(4,t,e)}return e.prototype.getOptions=function(e,t){var n=e.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(n.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(n.afterContentClassName=this._afterContentRules.className),n},e.prototype.dispose=function(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null)},e}(),p=function(){function e(e,t){var n=this;this.refCount=0,this._disposables=[];var i=function(i){var r=new g(i,t,e);if(r.hasContent)return n._disposables.push(r),r.className};this.className=i(0),this.inlineClassName=i(1),this.beforeContentClassName=i(3),this.afterContentClassName=i(4),this.glyphMarginClassName=i(2);var r=t.options;this.isWholeLine=Boolean(r.isWholeLine),this.stickiness=r.rangeBehavior;var s=r.light&&r.light.overviewRulerColor||r.overviewRulerColor,a=r.dark&&r.dark.overviewRulerColor||r.overviewRulerColor;void 0===s&&void 0===a||(this.overviewRuler={color:s||a,darkColor:a||s,position:r.overviewRulerLane||o.OverviewRulerLane.Center})}return e.prototype.getOptions=function(e,t){return t?{inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness}:this},e.prototype.dispose=function(){this._disposables=a.dispose(this._disposables)},e}(),f={color:"color:{0} !important;",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:url('{0}') center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:url('{0}');",margin:"margin:{0};",width:"width:{0};",height:"height:{0};"},g=function(){function e(e,t,n){var i=this;this._theme=n.getTheme(),this._ruleType=e,this._providerArgs=t,this._usesThemeColors=!1,this._hasContent=!1;var r=m.getClassName(this._providerArgs.key,e);this._providerArgs.parentTypeKey&&(r=r+" "+m.getClassName(this._providerArgs.parentTypeKey,e)),this._className=r,this._unThemedSelector=m.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,e),this._buildCSS(),this._usesThemeColors&&(this._themeListener=n.onThemeChange(function(e){i._theme=n.getTheme(),i._removeCSS(),i._buildCSS()}))}return e.prototype.dispose=function(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)},Object.defineProperty(e.prototype,"hasContent",{get:function(){return this._hasContent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),e.prototype._buildCSS=function(){var e,t,n,i=this._providerArgs.options;switch(this._ruleType){case 0:e=this.getCSSTextForModelDecorationClassName(i),t=this.getCSSTextForModelDecorationClassName(i.light),n=this.getCSSTextForModelDecorationClassName(i.dark);break;case 1:e=this.getCSSTextForModelDecorationInlineClassName(i),t=this.getCSSTextForModelDecorationInlineClassName(i.light),n=this.getCSSTextForModelDecorationInlineClassName(i.dark);break;case 2:e=this.getCSSTextForModelDecorationGlyphMarginClassName(i),t=this.getCSSTextForModelDecorationGlyphMarginClassName(i.light),n=this.getCSSTextForModelDecorationGlyphMarginClassName(i.dark);break;case 3:e=this.getCSSTextForModelDecorationContentClassName(i.before),t=this.getCSSTextForModelDecorationContentClassName(i.light&&i.light.before),n=this.getCSSTextForModelDecorationContentClassName(i.dark&&i.dark.before);break;case 4:e=this.getCSSTextForModelDecorationContentClassName(i.after),t=this.getCSSTextForModelDecorationContentClassName(i.light&&i.light.after),n=this.getCSSTextForModelDecorationContentClassName(i.dark&&i.dark.after);break;default:throw new Error("Unknown rule type: "+this._ruleType)}var r=this._providerArgs.styleSheet.sheet,o=!1;e.length>0&&(r.insertRule(this._unThemedSelector+" {"+e+"}",0),o=!0),t.length>0&&(r.insertRule(".vs"+this._unThemedSelector+" {"+t+"}",0),o=!0),n.length>0&&(r.insertRule(".vs-dark"+this._unThemedSelector+", .hc-black"+this._unThemedSelector+" {"+n+"}",0),o=!0),this._hasContent=o},e.prototype._removeCSS=function(){r.removeCSSRulesContainingSelector(this._unThemedSelector,this._providerArgs.styleSheet)},e.prototype.getCSSTextForModelDecorationClassName=function(e){if(!e)return"";var t=[];return this.collectCSSText(e,["backgroundColor"],t),this.collectCSSText(e,["outline","outlineColor","outlineStyle","outlineWidth"],t),this.collectBorderSettingsCSSText(e,t),t.join("")},e.prototype.getCSSTextForModelDecorationInlineClassName=function(e){if(!e)return"";var t=[];return this.collectCSSText(e,["textDecoration","cursor","color","letterSpacing"],t),t.join("")},e.prototype.getCSSTextForModelDecorationContentClassName=function(e){if(!e)return"";var t=[];if(void 0!==e){if(this.collectBorderSettingsCSSText(e,t),"string"==typeof e.contentIconPath?t.push(n.format(f.contentIconPath,i.default.file(e.contentIconPath).toString().replace(/'/g,"%27"))):e.contentIconPath instanceof i.default&&t.push(n.format(f.contentIconPath,e.contentIconPath.toString(!0).replace(/'/g,"%27"))),"string"==typeof e.contentText){var r=e.contentText.match(/^.*$/m)[0].replace(/['\\]/g,"\\$&");t.push(n.format(f.contentText,r))}this.collectCSSText(e,["textDecoration","color","backgroundColor","margin"],t),this.collectCSSText(e,["width","height"],t)&&t.push("display:inline-block;")}return t.join("")},e.prototype.getCSSTextForModelDecorationGlyphMarginClassName=function(e){if(!e)return"";var t=[];return void 0!==e.gutterIconPath&&("string"==typeof e.gutterIconPath?t.push(n.format(f.gutterIconPath,i.default.file(e.gutterIconPath).toString())):t.push(n.format(f.gutterIconPath,e.gutterIconPath.toString(!0).replace(/'/g,"%27"))),void 0!==e.gutterIconSize&&t.push(n.format(f.gutterIconSize,e.gutterIconSize))),t.join("")},e.prototype.collectBorderSettingsCSSText=function(e,t){return!!this.collectCSSText(e,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],t)&&(t.push(n.format("box-sizing: border-box;")),!0)},e.prototype.collectCSSText=function(e,t,i){for(var r=i.length,o=0,s=t;o<s.length;o++){var a=s[o],c=this.resolveValue(e[a]);"string"==typeof c&&i.push(n.format(f[a],c))}return i.length!==r},e.prototype.resolveValue=function(e){if(o.isThemeColor(e)){this._usesThemeColors=!0;var t=this._theme.getColor(e.id);return t?t.toString():"transparent"}return e},e}();!function(e){e[e.ClassName=0]="ClassName",e[e.InlineClassName=1]="InlineClassName",e[e.GlyphMarginClassName=2]="GlyphMarginClassName",e[e.BeforeContentClassName=3]="BeforeContentClassName",e[e.AfterContentClassName=4]="AfterContentClassName"}(u||(u={}));var m=function(){function e(){}return e.getClassName=function(e,t){return"ced-"+e+"-"+t},e.getSelector=function(e,t,n){var i=".monaco-editor ."+this.getClassName(e,n);return t&&(i=i+"."+this.getClassName(t,n)),3===n?i+="::before":4===n&&(i+="::after"),i},e}()}),define(u[872],d([1,0,9,127,101,75,13]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,a,c,l){var u=e.call(this,t)||this,d=u._context.configuration.editor.viewInfo.scrollbar,h={listenOnDomNode:c.domNode,className:"editor-scrollable "+s.getThemeTypeSelector(t.theme.type),useShadows:!1,lazyRender:!0,vertical:d.vertical,horizontal:d.horizontal,verticalHasArrows:d.verticalHasArrows,horizontalHasArrows:d.horizontalHasArrows,verticalScrollbarSize:d.verticalScrollbarSize,verticalSliderSize:d.verticalSliderSize,horizontalScrollbarSize:d.horizontalScrollbarSize,horizontalSliderSize:d.horizontalSliderSize,handleMouseWheel:d.handleMouseWheel,arrowSize:d.arrowSize,mouseWheelScrollSensitivity:d.mouseWheelScrollSensitivity};u.scrollbar=u._register(new i.ScrollableElement(a.domNode,h,u._context.viewLayout.scrollable)),r.PartFingerprints.write(u.scrollbar.getDomNode(),5),u.scrollbarDomNode=o.createFastDomNode(u.scrollbar.getDomNode()),u.scrollbarDomNode.setPosition("absolute"),u._setLayout();var p=function(e,t,n){var i={};if(t){var r=e.scrollTop;r&&(i.scrollTop=u._context.viewLayout.getScrollTop()+r,e.scrollTop=0)}if(n){var o=e.scrollLeft;o&&(i.scrollLeft=u._context.viewLayout.getScrollLeft()+o,e.scrollLeft=0)}u._context.viewLayout.setScrollPosition(i)};return u._register(n.addDisposableListener(c.domNode,"scroll",function(e){return p(c.domNode,!0,!0)})),u._register(n.addDisposableListener(a.domNode,"scroll",function(e){return p(a.domNode,!0,!1)})),u._register(n.addDisposableListener(l.domNode,"scroll",function(e){return p(l.domNode,!0,!1)})),u}return h(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype._setLayout=function(){var e=this._context.configuration.editor.layoutInfo;this.scrollbarDomNode.setLeft(e.contentLeft),this.scrollbarDomNode.setWidth(e.contentWidth+e.minimapWidth),this.scrollbarDomNode.setHeight(e.contentHeight)},t.prototype.getOverviewRulerLayoutInfo=function(){return this.scrollbar.getOverviewRulerLayoutInfo()},t.prototype.getDomNode=function(){return this.scrollbarDomNode},t.prototype.delegateVerticalScrollbarMouseDown=function(e){this.scrollbar.delegateVerticalScrollbarMouseDown(e)},t.prototype.delegateSliderMouseDown=function(e,t){this.scrollbar.delegateSliderMouseDown(e,t)},t.prototype.onConfigurationChanged=function(e){if(e.viewInfo){var t=this._context.configuration.editor,n={handleMouseWheel:t.viewInfo.scrollbar.handleMouseWheel,mouseWheelScrollSensitivity:t.viewInfo.scrollbar.mouseWheelScrollSensitivity};this.scrollbar.updateOptions(n)}return e.layoutInfo&&this._setLayout(),!0},t.prototype.onScrollChanged=function(e){return!0},t.prototype.onThemeChanged=function(e){return this.scrollbar.updateClassName("editor-scrollable "+s.getThemeTypeSelector(this._context.theme.type)),!0},t.prototype.prepareRender=function(e){},t.prototype.render=function(e){this.scrollbar.renderNow()},t}(r.ViewPart);t.EditorScrollbar=a}),define(u[447],d([1,0,66,11,12,75,277,279,882,204,13]),function(e,t,n,i,r,o,s,a,c,l,u){"use strict";function d(e,t,n,i,r){return new _(e,t,n,i,r)}function p(e,t,n,i,r){return new S(e,t,n,i,r)}Object.defineProperty(t,"__esModule",{value:!0});var f=!!i.isNative||!(i.isLinux||n.isFirefox||n.isSafari),g=n.isEdgeOrIE,v=function(){function e(e,t){this._domNode=e,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=t}return Object.defineProperty(e.prototype,"clientRectDeltaLeft",{get:function(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft},enumerable:!0,configurable:!0}),e}();t.DomReadingContext=v;var m=function(){function e(e,t){this.themeType=t,this.renderWhitespace=e.editor.viewInfo.renderWhitespace,this.renderControlCharacters=e.editor.viewInfo.renderControlCharacters,this.spaceWidth=e.editor.fontInfo.spaceWidth,this.useMonospaceOptimizations=e.editor.fontInfo.isMonospace&&!e.editor.viewInfo.disableMonospaceOptimizations,this.lineHeight=e.editor.lineHeight,this.stopRenderingLineAfter=e.editor.viewInfo.stopRenderingLineAfter,this.fontLigatures=e.editor.viewInfo.fontLigatures}return e.prototype.equals=function(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures},e}();t.ViewLineOptions=m;var y=function(){function e(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}return e.prototype.getDomNode=function(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null},e.prototype.setDomNode=function(e){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=o.createFastDomNode(e)},e.prototype.onContentChanged=function(){this._isMaybeInvalid=!0},e.prototype.onTokensChanged=function(){this._isMaybeInvalid=!0},e.prototype.onDecorationsChanged=function(){this._isMaybeInvalid=!0},e.prototype.onOptionsChanged=function(e){this._isMaybeInvalid=!0,this._options=e},e.prototype.onSelectionChanged=function(){return!(!g&&this._options.themeType!==u.HIGH_CONTRAST)&&(this._isMaybeInvalid=!0,!0)},e.prototype.renderLine=function(t,n,i){if(!1===this._isMaybeInvalid)return null;this._isMaybeInvalid=!1;var o=i.getViewLineRenderingData(t),c=this._options,l=s.LineDecoration.filter(o.inlineDecorations,t,o.minColumn,o.maxColumn);if(g||c.themeType===u.HIGH_CONTRAST)for(var d=i.selections,h=0,p=d.length;h<p;h++){var v=d[h];if(!(v.endLineNumber<t||v.startLineNumber>t)){var m=v.startLineNumber===t?v.startColumn:o.minColumn,y=v.endLineNumber===t?v.endColumn:o.maxColumn;m<y&&l.push(new s.LineDecoration(m,y,"inline-selected-text",!1))}}var S=new a.RenderLineInput(c.useMonospaceOptimizations,o.content,o.mightContainRTL,o.minColumn-1,o.tokens,l,o.tabSize,c.spaceWidth,c.stopRenderingLineAfter,c.renderWhitespace,c.renderControlCharacters,c.fontLigatures);if(this._renderedViewLine&&this._renderedViewLine.input.equals(S))return null;var _=a.renderViewLine(S),C=null;if(f&&c.useMonospaceOptimizations&&!_.containsForeignElements){var w=!0;o.mightContainNonBasicASCII&&(w=r.isBasicASCII(o.content)),w&&o.content.length<1e3&&(C=new b(this._renderedViewLine?this._renderedViewLine.domNode:null,S,_.characterMapping))}return C||(C=E(this._renderedViewLine?this._renderedViewLine.domNode:null,S,_.characterMapping,_.containsRTL,_.containsForeignElements)),this._renderedViewLine=C,'<div style="top:'+n+"px;height:"+this._options.lineHeight+'px;" class="'+e.CLASS_NAME+'">'+_.html+"</div>"},e.prototype.layoutLine=function(e,t){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(t),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))},e.prototype.getWidth=function(){return this._renderedViewLine?this._renderedViewLine.getWidth():0},e.prototype.getVisibleRangesForRange=function(e,t,n){return e=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,e)),t=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,t)),this._renderedViewLine.getVisibleRangesForRange(e,t,n)},e.prototype.getColumnOfNodeOffset=function(e,t,n){return this._renderedViewLine.getColumnOfNodeOffset(e,t,n)},e}();y.CLASS_NAME="view-line",t.ViewLine=y;var b=function(){function e(e,t,n){this.domNode=e,this.input=t,this._characterMapping=n,this._charWidth=t.spaceWidth,this._charOffset=null}return e._createCharOffset=function(e){for(var t=e.getPartLengths(),n=e.length,i=new Uint32Array(n),r=0,o=0,s=0;s<n;s++){for(var c=e.charOffsetToPartData(s),l=a.CharacterMapping.getPartIndex(c),u=a.CharacterMapping.getCharIndex(c);r<l;)o+=t[r],r++;i[s]=o+u}return i},e.prototype._getOrCreateCharOffset=function(){return null===this._charOffset&&(this._charOffset=e._createCharOffset(this._characterMapping)),this._charOffset},e.prototype.getWidth=function(){var e=this._getOrCreateCharOffset();return this._getCharPosition(e.length)},e.prototype.getVisibleRangesForRange=function(e,t,n){e|=0,t|=0;var i=0|this.input.stopRenderingLineAfter;if(-1!==i&&e>i&&t>i)return null;-1!==i&&e>i&&(e=i),-1!==i&&t>i&&(t=i);var r=this._getCharPosition(e),o=this._getCharPosition(t);return[new l.HorizontalRange(r,o-r)]},e.prototype._getCharPosition=function(e){var t=this._getOrCreateCharOffset();return 0===t.length?0:Math.round(this._charWidth*t[e-1])},e.prototype.getColumnOfNodeOffset=function(e,t,n){for(var i=t.textContent.length,r=-1;t;)t=t.previousSibling,r++;return this._characterMapping.partDataToCharOffset(r,i,n)+1},e}(),S=function(){function e(e,t,n,i,r){if(this.domNode=e,this.input=t,this._characterMapping=n,this._isWhitespaceOnly=/^\s*$/.test(t.lineContent),this._containsForeignElements=r,this._cachedWidth=-1,this._pixelOffsetCache=null,!i){this._pixelOffsetCache=new Int32Array(this._characterMapping.length+1);for(var o=0,s=this._characterMapping.length;o<=s;o++)this._pixelOffsetCache[o]=-1}}return e.prototype._getReadingTarget=function(){return this.domNode.domNode.firstChild},e.prototype.getWidth=function(){return-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget().offsetWidth),this._cachedWidth},e.prototype.getVisibleRangesForRange=function(e,t,n){e|=0,t|=0;var i=0|this.input.stopRenderingLineAfter;if(-1!==i&&e>i&&t>i)return null;if(-1!==i&&e>i&&(e=i),-1!==i&&t>i&&(t=i),null!==this._pixelOffsetCache){var r=this._readPixelOffset(e,n);if(-1===r)return null;var o=this._readPixelOffset(t,n);return-1===o?null:[new l.HorizontalRange(r,o-r)]}return this._readVisibleRangesForRange(e,t,n)},e.prototype._readVisibleRangesForRange=function(e,t,n){if(e===t){var i=this._readPixelOffset(e,n);return-1===i?null:[new l.HorizontalRange(i,0)]}return this._readRawVisibleRangesForRange(e,t,n)},e.prototype._readPixelOffset=function(e,t){if(0===this._characterMapping.length)return 0;if(null!==this._pixelOffsetCache){var n=this._pixelOffsetCache[e];if(-1!==n)return n;var i=this._actualReadPixelOffset(e,t);return this._pixelOffsetCache[e]=i,i}return this._actualReadPixelOffset(e,t)},e.prototype._actualReadPixelOffset=function(e,t){if(e===this._characterMapping.length&&this._isWhitespaceOnly&&!this._containsForeignElements)return this.getWidth();var n=this._characterMapping.charOffsetToPartData(e-1),i=a.CharacterMapping.getPartIndex(n),r=a.CharacterMapping.getCharIndex(n),o=c.RangeUtil.readHorizontalRanges(this._getReadingTarget(),i,r,i,r,t.clientRectDeltaLeft,t.endNode);return o&&0!==o.length?o[0].left:-1},e.prototype._readRawVisibleRangesForRange=function(e,t,n){if(1===e&&t===this._characterMapping.length)return[new l.HorizontalRange(0,this.getWidth())];var i=this._characterMapping.charOffsetToPartData(e-1),r=a.CharacterMapping.getPartIndex(i),o=a.CharacterMapping.getCharIndex(i),s=this._characterMapping.charOffsetToPartData(t-1),u=a.CharacterMapping.getPartIndex(s),d=a.CharacterMapping.getCharIndex(s);return c.RangeUtil.readHorizontalRanges(this._getReadingTarget(),r,o,u,d,n.clientRectDeltaLeft,n.endNode)},e.prototype.getColumnOfNodeOffset=function(e,t,n){for(var i=t.textContent.length,r=-1;t;)t=t.previousSibling,r++;return this._characterMapping.partDataToCharOffset(r,i,n)+1},e}(),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype._readVisibleRangesForRange=function(t,n,i){var r=e.prototype._readVisibleRangesForRange.call(this,t,n,i);if(!r||0===r.length||t===n||1===t&&n===this._characterMapping.length)return r;var o=this._readPixelOffset(n-1,i),s=this._readPixelOffset(n,i);if(-1!==o&&-1!==s){var a=o<=s,c=r[r.length-1];a&&c.left<s&&(c.width=s-c.left)}return r},t}(S),E=n.isWebKit?d:p}),define(u[446],d([1,0,37,14,73,283,66,101,447]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t,n,r,o,s){void 0===n&&(n=0),void 0===r&&(r=null),void 0===o&&(o=null),void 0===s&&(s=null),this.element=e,this.type=t,this.mouseColumn=n,this.position=r,!o&&r&&(o=new i.Range(r.lineNumber,r.column,r.lineNumber,r.column)),this.range=o,this.detail=s}return e._typeToString=function(e){return e===r.MouseTargetType.TEXTAREA?"TEXTAREA":e===r.MouseTargetType.GUTTER_GLYPH_MARGIN?"GUTTER_GLYPH_MARGIN":e===r.MouseTargetType.GUTTER_LINE_NUMBERS?"GUTTER_LINE_NUMBERS":e===r.MouseTargetType.GUTTER_LINE_DECORATIONS?"GUTTER_LINE_DECORATIONS":e===r.MouseTargetType.GUTTER_VIEW_ZONE?"GUTTER_VIEW_ZONE":e===r.MouseTargetType.CONTENT_TEXT?"CONTENT_TEXT":e===r.MouseTargetType.CONTENT_EMPTY?"CONTENT_EMPTY":e===r.MouseTargetType.CONTENT_VIEW_ZONE?"CONTENT_VIEW_ZONE":e===r.MouseTargetType.CONTENT_WIDGET?"CONTENT_WIDGET":e===r.MouseTargetType.OVERVIEW_RULER?"OVERVIEW_RULER":e===r.MouseTargetType.SCROLLBAR?"SCROLLBAR":e===r.MouseTargetType.OVERLAY_WIDGET?"OVERLAY_WIDGET":"UNKNOWN"},e.toString=function(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+e.detail},e.prototype.toString=function(){return e.toString(this)},e}();t.MouseTarget=l;var u=function(){function e(){}return e.isTextArea=function(e){return 2===e.length&&3===e[0]&&6===e[1]},e.isChildOfViewLines=function(e){return e.length>=4&&3===e[0]&&7===e[3]},e.isChildOfScrollableElement=function(e){return e.length>=2&&3===e[0]&&5===e[1]},e.isChildOfMinimap=function(e){return e.length>=2&&3===e[0]&&8===e[1]},e.isChildOfContentWidgets=function(e){return e.length>=4&&3===e[0]&&1===e[3]},e.isChildOfOverflowingContentWidgets=function(e){return e.length>=1&&2===e[0]},e.isChildOfOverlayWidgets=function(e){return e.length>=2&&3===e[0]&&4===e[1]},e}(),d=function(){function e(e,t,n){this.model=e.model,this.layoutInfo=e.configuration.editor.layoutInfo,this.viewDomNode=t.viewDomNode,this.lineHeight=e.configuration.editor.lineHeight,this.typicalHalfwidthCharacterWidth=e.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,this.lastViewCursorsRenderData=n,this._context=e,this._viewHelper=t}return e.prototype.getZoneAtCoord=function(e){var t=this._context.viewLayout.getWhitespaceAtVerticalOffset(e);if(t){var i=t.verticalOffset+t.height/2,r=this._context.model.getLineCount(),o=null,s=void 0,a=null;return t.afterLineNumber!==r&&(a=new n.Position(t.afterLineNumber+1,1)),t.afterLineNumber>0&&(o=new n.Position(t.afterLineNumber,this._context.model.getLineMaxColumn(t.afterLineNumber))),s=null===a?o:null===o?a:e<i?o:a,{viewZoneId:t.id,afterLineNumber:t.afterLineNumber,positionBefore:o,positionAfter:a,position:s}}return null},e.prototype.getFullLineRangeAtCoord=function(e){if(this._context.viewLayout.isAfterLines(e)){var t=this._context.model.getLineCount(),n=this._context.model.getLineMaxColumn(t);return{range:new i.Range(t,n,t,n),isAfterLines:!0}}var r=this._context.viewLayout.getLineNumberAtVerticalOffset(e),o=this._context.model.getLineMaxColumn(r);return{range:new i.Range(r,1,r,o),isAfterLines:!1}},e.prototype.getLineNumberAtVerticalOffset=function(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)},e.prototype.isAfterLines=function(e){return this._context.viewLayout.isAfterLines(e)},e.prototype.getVerticalOffsetForLineNumber=function(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)},e.prototype.findAttribute=function(t,n){return e._findAttribute(t,n,this._viewHelper.viewDomNode)},e._findAttribute=function(e,t,n){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===n)return null;e=e.parentNode}return null},e.prototype.getLineWidth=function(e){return this._viewHelper.getLineWidth(e)},e.prototype.visibleRangeForPosition2=function(e,t){return this._viewHelper.visibleRangeForPosition2(e,t)},e.prototype.getPositionFromDOMInfo=function(e,t){return this._viewHelper.getPositionFromDOMInfo(e,t)},e.prototype.getScrollTop=function(){return this._context.viewLayout.getScrollTop()},e.prototype.getScrollLeft=function(){return this._context.viewLayout.getScrollLeft()},e}(),p=function(e){function t(t,n,i,r){var o=e.call(this,t,n,i)||this;return o._ctx=t,r?(o.target=r,o.targetPath=a.PartFingerprints.collect(r,t.viewDomNode)):(o.target=null,o.targetPath=new Uint8Array(0)),o}return h(t,e),t.prototype.toString=function(){return"pos("+this.pos.x+","+this.pos.y+"), editorPos("+this.editorPos.x+","+this.editorPos.y+"), mouseVerticalOffset: "+this.mouseVerticalOffset+", mouseContentHorizontalOffset: "+this.mouseContentHorizontalOffset+"\n\ttarget: "+(this.target?this.target.outerHTML:null)},t.prototype.fulfill=function(e,t,n,i){return void 0===t&&(t=null),void 0===n&&(n=null),void 0===i&&(i=null),new l(this.target,e,this.mouseColumn,t,n,i)},t.prototype.withTarget=function(e){return new t(this._ctx,this.editorPos,this.pos,e)},t}(function(){return function(e,t,n){this.editorPos=t,this.pos=n,this.mouseVerticalOffset=Math.max(0,e.getScrollTop()+n.y-t.y),this.mouseContentHorizontalOffset=e.getScrollLeft()+n.x-t.x-e.layoutInfo.contentLeft,this.isInMarginArea=n.x-t.x<e.layoutInfo.contentLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,f._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}}()),f=function(){function e(e,t){this._context=e,this._viewHelper=t}return e.prototype.mouseTargetIsWidget=function(e){var t=e.target,n=a.PartFingerprints.collect(t,this._viewHelper.viewDomNode);return!(!u.isChildOfContentWidgets(n)&&!u.isChildOfOverflowingContentWidgets(n))||!!u.isChildOfOverlayWidgets(n)},e.prototype.createMouseTarget=function(t,n,i,o){var s=new d(this._context,this._viewHelper,t),a=new p(s,n,i,o);try{return e._createMouseTarget(s,a,!1)}catch(e){return a.fulfill(r.MouseTargetType.UNKNOWN)}},e._createMouseTarget=function(t,n,i){if(null===n.target){if(i)return n.fulfill(r.MouseTargetType.UNKNOWN);var o=e._doHitTest(t,n);return o.position?e.createMouseTargetFromHitTestPosition(t,n,o.position.lineNumber,o.position.column):this._createMouseTarget(t,n.withTarget(o.hitTarget),!0)}var s=null;return s=s||e._hitTestContentWidget(t,n),s=s||e._hitTestOverlayWidget(t,n),s=s||e._hitTestMinimap(t,n),s=s||e._hitTestScrollbarSlider(t,n),s=s||e._hitTestViewZone(t,n),s=s||e._hitTestMargin(t,n),s=s||e._hitTestViewCursor(t,n),s=s||e._hitTestTextArea(t,n),s=s||e._hitTestViewLines(t,n,i),(s=s||e._hitTestScrollbar(t,n))||n.fulfill(r.MouseTargetType.UNKNOWN)},e._hitTestContentWidget=function(e,t){if(u.isChildOfContentWidgets(t.targetPath)||u.isChildOfOverflowingContentWidgets(t.targetPath)){var n=e.findAttribute(t.target,"widgetId");return n?t.fulfill(r.MouseTargetType.CONTENT_WIDGET,null,null,n):t.fulfill(r.MouseTargetType.UNKNOWN)}return null},e._hitTestOverlayWidget=function(e,t){if(u.isChildOfOverlayWidgets(t.targetPath)){var n=e.findAttribute(t.target,"widgetId");return n?t.fulfill(r.MouseTargetType.OVERLAY_WIDGET,null,null,n):t.fulfill(r.MouseTargetType.UNKNOWN)}return null},e._hitTestViewCursor=function(e,t){if(t.target)for(var n=0,i=(s=e.lastViewCursorsRenderData).length;n<i;n++){var o=s[n];if(t.target===o.domNode)return t.fulfill(r.MouseTargetType.CONTENT_TEXT,o.position)}if(t.isInContentArea)for(var s=e.lastViewCursorsRenderData,a=t.mouseContentHorizontalOffset,c=t.mouseVerticalOffset,n=0,i=s.length;n<i;n++)if(!(a<(o=s[n]).contentLeft||a>o.contentLeft+o.width)){var l=e.getVerticalOffsetForLineNumber(o.position.lineNumber);if(l<=c&&c<=l+o.height)return t.fulfill(r.MouseTargetType.CONTENT_TEXT,o.position)}return null},e._hitTestViewZone=function(e,t){var n=e.getZoneAtCoord(t.mouseVerticalOffset);if(n){var i=t.isInContentArea?r.MouseTargetType.CONTENT_VIEW_ZONE:r.MouseTargetType.GUTTER_VIEW_ZONE;return t.fulfill(i,n.position,null,n)}return null},e._hitTestTextArea=function(e,t){return u.isTextArea(t.targetPath)?t.fulfill(r.MouseTargetType.TEXTAREA):null},e._hitTestMargin=function(e,t){if(t.isInMarginArea){var n=e.getFullLineRangeAtCoord(t.mouseVerticalOffset),i=n.range.getStartPosition(),o=Math.abs(t.pos.x-t.editorPos.x);return o<=e.layoutInfo.glyphMarginWidth?t.fulfill(r.MouseTargetType.GUTTER_GLYPH_MARGIN,i,n.range,n.isAfterLines):(o-=e.layoutInfo.glyphMarginWidth)<=e.layoutInfo.lineNumbersWidth?t.fulfill(r.MouseTargetType.GUTTER_LINE_NUMBERS,i,n.range,n.isAfterLines):(o-=e.layoutInfo.lineNumbersWidth,t.fulfill(r.MouseTargetType.GUTTER_LINE_DECORATIONS,i,n.range,n.isAfterLines))}return null},e._hitTestViewLines=function(t,i,o){if(!u.isChildOfViewLines(i.targetPath))return null;if(t.isAfterLines(i.mouseVerticalOffset)){var s=t.model.getLineCount(),a=t.model.getLineMaxColumn(s);return i.fulfill(r.MouseTargetType.CONTENT_EMPTY,new n.Position(s,a))}if(o)return i.fulfill(r.MouseTargetType.UNKNOWN);var c=e._doHitTest(t,i);return c.position?e.createMouseTargetFromHitTestPosition(t,i,c.position.lineNumber,c.position.column):this._createMouseTarget(t,i.withTarget(c.hitTarget),!0)},e._hitTestMinimap=function(e,t){if(u.isChildOfMinimap(t.targetPath)){var i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),o=e.model.getLineMaxColumn(i);return t.fulfill(r.MouseTargetType.SCROLLBAR,new n.Position(i,o))}return null},e._hitTestScrollbarSlider=function(e,t){if(u.isChildOfScrollableElement(t.targetPath)&&t.target&&1===t.target.nodeType){var i=t.target.className;if(i&&/\b(slider|scrollbar)\b/.test(i)){var o=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),s=e.model.getLineMaxColumn(o);return t.fulfill(r.MouseTargetType.SCROLLBAR,new n.Position(o,s))}}return null},e._hitTestScrollbar=function(e,t){if(u.isChildOfScrollableElement(t.targetPath)){var i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),o=e.model.getLineMaxColumn(i);return t.fulfill(r.MouseTargetType.SCROLLBAR,new n.Position(i,o))}return null},e.prototype.getMouseColumn=function(t,n){var i=this._context.configuration.editor.layoutInfo,r=this._context.viewLayout.getScrollLeft()+n.x-t.x-i.contentLeft;return e._getMouseColumn(r,this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth)},e._getMouseColumn=function(e,t){return e<0?1:Math.round(e/t)+1},e.createMouseTargetFromHitTestPosition=function(e,t,o,a){var c=new n.Position(o,a),l=e.getLineWidth(o);if(t.mouseContentHorizontalOffset>l)return s.isEdge&&1===c.column?t.fulfill(r.MouseTargetType.CONTENT_EMPTY,new n.Position(o,e.model.getLineMaxColumn(o))):t.fulfill(r.MouseTargetType.CONTENT_EMPTY,c);var u=e.visibleRangeForPosition2(o,a);if(!u)return t.fulfill(r.MouseTargetType.UNKNOWN,c);var d=u.left;if(t.mouseContentHorizontalOffset===d)return t.fulfill(r.MouseTargetType.CONTENT_TEXT,c);var h;if(a>1){var p=u.left;if(h=!1,h=h||p<t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<d,h=h||d<t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<p){v=new i.Range(o,a,o,a-1);return t.fulfill(r.MouseTargetType.CONTENT_TEXT,c,v)}}if(a<e.model.getLineMaxColumn(o)){var f=e.visibleRangeForPosition2(o,a+1);if(f){var g=f.left;if(h=!1,h=h||d<t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<g,h=h||g<t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<d){var v=new i.Range(o,a,o,a+1);return t.fulfill(r.MouseTargetType.CONTENT_TEXT,c,v)}}}return t.fulfill(r.MouseTargetType.CONTENT_TEXT,c)},e._doHitTestWithCaretRangeFromPoint=function(e,t){var n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),i=e.getVerticalOffsetForLineNumber(n)+Math.floor(e.lineHeight/2),r=t.pos.y+(i-t.mouseVerticalOffset);r<=t.editorPos.y&&(r=t.editorPos.y+1),r>=t.editorPos.y+e.layoutInfo.height&&(r=t.editorPos.y+e.layoutInfo.height-1);var s=new o.PageCoordinates(t.pos.x,r),a=this._actualDoHitTestWithCaretRangeFromPoint(e,s.toClientCoordinates());return a.position?a:this._actualDoHitTestWithCaretRangeFromPoint(e,t.pos.toClientCoordinates())},e._actualDoHitTestWithCaretRangeFromPoint=function(e,t){var n=document.caretRangeFromPoint(t.clientX,t.clientY);if(!n||!n.startContainer)return{position:null,hitTarget:null};var i,r=n.startContainer;if(r.nodeType===r.TEXT_NODE){var o=(a=(s=r.parentNode)?s.parentNode:null)?a.parentNode:null;if((o&&o.nodeType===o.ELEMENT_NODE?o.className:null)===c.ViewLine.CLASS_NAME)return{position:l=e.getPositionFromDOMInfo(s,n.startOffset),hitTarget:null};i=r.parentNode}else if(r.nodeType===r.ELEMENT_NODE){var s=r.parentNode,a=s?s.parentNode:null;if((a&&a.nodeType===a.ELEMENT_NODE?a.className:null)===c.ViewLine.CLASS_NAME){var l=e.getPositionFromDOMInfo(r,r.textContent.length);return{position:l,hitTarget:null}}i=r}return{position:null,hitTarget:i}},e._doHitTestWithCaretPositionFromPoint=function(e,t){var n=document.caretPositionFromPoint(t.clientX,t.clientY);if(n.offsetNode.nodeType===n.offsetNode.TEXT_NODE){var i=n.offsetNode.parentNode,r=i?i.parentNode:null,o=r?r.parentNode:null;return(o&&o.nodeType===o.ELEMENT_NODE?o.className:null)===c.ViewLine.CLASS_NAME?{position:e.getPositionFromDOMInfo(n.offsetNode.parentNode,n.offset),hitTarget:null}:{position:null,hitTarget:n.offsetNode.parentNode}}return{position:null,hitTarget:n.offsetNode}},e._doHitTestWithMoveToPoint=function(e,t){var n=null,i=null,r=document.body.createTextRange();try{r.moveToPoint(t.clientX,t.clientY)}catch(e){return{position:null,hitTarget:null}}r.collapse(!0);var o=r?r.parentElement():null,s=o?o.parentNode:null,a=s?s.parentNode:null;if((a&&a.nodeType===a.ELEMENT_NODE?a.className:"")===c.ViewLine.CLASS_NAME){var l=r.duplicate();l.moveToElementText(o),l.setEndPoint("EndToStart",r),n=e.getPositionFromDOMInfo(o,l.text.length),l.moveToElementText(e.viewDomNode)}else i=o;return r.moveToElementText(e.viewDomNode),{position:n,hitTarget:i}},e._doHitTest=function(e,t){return document.caretRangeFromPoint?this._doHitTestWithCaretRangeFromPoint(e,t):document.caretPositionFromPoint?this._doHitTestWithCaretPositionFromPoint(e,t.pos.toClientCoordinates()):document.body.createTextRange?this._doHitTestWithMoveToPoint(e,t.pos.toClientCoordinates()):{position:null,hitTarget:null}},e}();t.MouseTargetFactory=f}),define(u[875],d([1,0,5,11,66,9,37,53,217,446,73,18,283,86,285]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g){"use strict";function v(e){return function(t,n){var i=!1;return e&&(i=e.mouseTargetIsWidget(n)),i||n.preventDefault(),n}}Object.defineProperty(t,"__esModule",{value:!0});var m=function(e){function t(n,i,r){var s=e.call(this)||this;s._isFocused=!1,s._context=n,s.viewController=i,s.viewHelper=r,s.mouseTargetFactory=new l.MouseTargetFactory(s._context,r),s._mouseDownOperation=s._register(new y(s._context,s.viewController,s.viewHelper,function(e,t){return s._createMouseTarget(e,t)},function(e){return s._getMouseColumn(e)})),s._asyncFocus=s._register(new d.RunOnceScheduler(function(){return s.viewHelper.focusTextArea()},0)),s.lastMouseLeaveTime=-1;var a=new p.EditorMouseEventFactory(s.viewHelper.viewDomNode);s._register(a.onContextMenu(s.viewHelper.viewDomNode,function(e){return s._onContextMenu(e,!0)})),s._register(a.onMouseMoveThrottled(s.viewHelper.viewDomNode,function(e){return s._onMouseMove(e)},v(s.mouseTargetFactory),t.MOUSE_MOVE_MINIMUM_TIME)),s._register(a.onMouseUp(s.viewHelper.viewDomNode,function(e){return s._onMouseUp(e)})),s._register(a.onMouseLeave(s.viewHelper.viewDomNode,function(e){return s._onMouseLeave(e)})),s._register(a.onMouseDown(s.viewHelper.viewDomNode,function(e){return s._onMouseDown(e)}));var c=function(e){if(s._context.configuration.editor.viewInfo.mouseWheelZoom){var t=new f.StandardMouseWheelEvent(e);if(t.browserEvent.ctrlKey||t.browserEvent.metaKey){var n=g.EditorZoom.getZoomLevel(),i=t.deltaY>0?1:-1;g.EditorZoom.setZoomLevel(n+i),t.preventDefault(),t.stopPropagation()}}};return s._register(o.addDisposableListener(s.viewHelper.viewDomNode,"mousewheel",c,!0)),s._register(o.addDisposableListener(s.viewHelper.viewDomNode,"DOMMouseScroll",c,!0)),s._context.addEventHandler(s),s}return h(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),e.prototype.dispose.call(this)},t.prototype.onCursorStateChanged=function(e){return this._mouseDownOperation.onCursorStateChanged(e),!1},t.prototype.onFocusChanged=function(e){return this._isFocused=e.isFocused,!1},t.prototype.onScrollChanged=function(e){return this._mouseDownOperation.onScrollChanged(),!1},t.prototype.getTargetAtClientPoint=function(e,t){var n=new p.ClientCoordinates(e,t).toPageCoordinates(),i=p.createEditorPagePosition(this.viewHelper.viewDomNode);if(n.y<i.y||n.y>i.y+i.height||n.x<i.x||n.x>i.x+i.width)return null;var r=this.viewHelper.getLastViewCursorsRenderData();return this.mouseTargetFactory.createMouseTarget(r,i,n,null)},t.prototype._createMouseTarget=function(e,t){var n=this.viewHelper.getLastViewCursorsRenderData();return this.mouseTargetFactory.createMouseTarget(n,e.editorPos,e.pos,t?e.target:null)},t.prototype._getMouseColumn=function(e){return this.mouseTargetFactory.getMouseColumn(e.editorPos,e.pos)},t.prototype._onContextMenu=function(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})},t.prototype._onMouseMove=function(e){this._mouseDownOperation.isActive()||e.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})},t.prototype._onMouseLeave=function(e){this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:e,target:null})},t.prototype._onMouseUp=function(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})},t.prototype._onMouseDown=function(e){var t=this,n=this._createMouseTarget(e,!0),o=n.type===u.MouseTargetType.CONTENT_TEXT||n.type===u.MouseTargetType.CONTENT_EMPTY,s=n.type===u.MouseTargetType.GUTTER_GLYPH_MARGIN||n.type===u.MouseTargetType.GUTTER_LINE_NUMBERS||n.type===u.MouseTargetType.GUTTER_LINE_DECORATIONS,a=n.type===u.MouseTargetType.GUTTER_LINE_NUMBERS,c=this._context.configuration.editor.viewInfo.selectOnLineNumbers,l=n.type===u.MouseTargetType.CONTENT_VIEW_ZONE||n.type===u.MouseTargetType.GUTTER_VIEW_ZONE,d=n.type===u.MouseTargetType.CONTENT_WIDGET,h=e.leftButton;i.isMacintosh&&e.ctrlKey&&(h=!1);var p=function(){r.isIE&&!t._isFocused?t._asyncFocus.schedule():(e.preventDefault(),t.viewHelper.focusTextArea())};if(h&&(o||a&&c))p(),this._mouseDownOperation.start(n.type,e);else if(s)e.preventDefault();else if(l){var f=n.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(f.viewZoneId)&&(p(),this._mouseDownOperation.start(n.type,e),e.preventDefault())}else d&&this.viewHelper.shouldSuppressMouseDownOnWidget(n.detail)&&(p(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:n})},t}(c.ViewEventHandler);m.MOUSE_MOVE_MINIMUM_TIME=100,t.MouseHandler=m;var y=function(e){function t(t,n,i,r,o){var s=e.call(this)||this;return s._context=t,s._viewController=n,s._viewHelper=i,s._createMouseTarget=r,s._getMouseColumn=o,s._mouseMoveMonitor=s._register(new p.GlobalEditorMouseMoveMonitor(s._viewHelper.viewDomNode)),s._onScrollTimeout=s._register(new d.TimeoutTimer),s._mouseState=new b,s._currentSelection=new a.Selection(1,1,1,1),s._isActive=!1,s._lastMouseEvent=null,s}return h(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.isActive=function(){return this._isActive},t.prototype._onMouseDownThenMove=function(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);var t=this._findMousePosition(e,!0);t&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:t}):this._dispatchMouse(t,!0))},t.prototype.start=function(e,t){var n=this;this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(e===u.MouseTargetType.GUTTER_LINE_NUMBERS),this._mouseState.setModifiers(t);var i=this._findMousePosition(t,!0);if(i){if(this._mouseState.trySetCount(t.detail,i.position),t.detail=this._mouseState.count,!this._context.configuration.editor.readOnly&&this._context.configuration.editor.dragAndDrop&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&this._currentSelection.containsPosition(i.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(v(null),function(e){return n._onMouseDownThenMove(e)},function(){var e=n._findMousePosition(n._lastMouseEvent,!0);n._viewController.emitMouseDrop({event:n._lastMouseEvent,target:e?n._createMouseTarget(n._lastMouseEvent,!0):null}),n._stop()});this._mouseState.isDragAndDrop=!1,this._dispatchMouse(i,t.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(v(null),function(e){return n._onMouseDownThenMove(e)},function(){return n._stop()}))}},t.prototype._stop=function(){this._isActive=!1,this._onScrollTimeout.cancel()},t.prototype.onScrollChanged=function(){var e=this;this._isActive&&this._onScrollTimeout.setIfNotSet(function(){var t=e._findMousePosition(e._lastMouseEvent,!1);t&&(e._mouseState.isDragAndDrop||e._dispatchMouse(t,!0))},10)},t.prototype.onCursorStateChanged=function(e){this._currentSelection=e.selections[0]},t.prototype._getPositionOutsideEditor=function(e){var t=e.editorPos,n=this._context.model,i=this._context.viewLayout,r=this._getMouseColumn(e);if(e.posy<t.y){var o=i.getLineNumberAtVerticalOffset(Math.max(i.getScrollTop()-(t.y-e.posy),0));return new l.MouseTarget(null,u.MouseTargetType.OUTSIDE_EDITOR,r,new s.Position(o,1))}if(e.posy>t.y+t.height){var a=i.getLineNumberAtVerticalOffset(i.getScrollTop()+(e.posy-t.y));return new l.MouseTarget(null,u.MouseTargetType.OUTSIDE_EDITOR,r,new s.Position(a,n.getLineMaxColumn(a)))}var c=i.getLineNumberAtVerticalOffset(i.getScrollTop()+(e.posy-t.y));return e.posx<t.x?new l.MouseTarget(null,u.MouseTargetType.OUTSIDE_EDITOR,r,new s.Position(c,1)):e.posx>t.x+t.width?new l.MouseTarget(null,u.MouseTargetType.OUTSIDE_EDITOR,r,new s.Position(c,n.getLineMaxColumn(c))):null},t.prototype._findMousePosition=function(e,t){var n=this._getPositionOutsideEditor(e);if(n)return n;var i=this._createMouseTarget(e,t);if(!i.position)return null;if(i.type===u.MouseTargetType.CONTENT_VIEW_ZONE||i.type===u.MouseTargetType.GUTTER_VIEW_ZONE){var r=new s.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),o=i.detail,a=o.positionBefore,c=o.positionAfter;if(a&&c)return a.isBefore(r)?new l.MouseTarget(i.element,i.type,i.mouseColumn,a,null,i.detail):new l.MouseTarget(i.element,i.type,i.mouseColumn,c,null,i.detail)}return i},t.prototype._dispatchMouse=function(e,t){this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey})},t}(n.Disposable),b=function(){function e(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}return Object.defineProperty(e.prototype,"altKey",{get:function(){return this._altKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ctrlKey",{get:function(){return this._ctrlKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metaKey",{get:function(){return this._metaKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shiftKey",{get:function(){return this._shiftKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startedOnLineNumbers",{get:function(){return this._startedOnLineNumbers},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this._lastMouseDownCount},enumerable:!0,configurable:!0}),e.prototype.setModifiers=function(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey},e.prototype.setStartedOnLineNumbers=function(e){this._startedOnLineNumbers=e},e.prototype.trySetCount=function(t,n){var i=(new Date).getTime();i-this._lastSetMouseDownCountTime>e.CLEAR_MOUSE_DOWN_COUNT_TIME&&(t=1),this._lastSetMouseDownCountTime=i,t>this._lastMouseDownCount+1&&(t=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(n)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=n,this._lastMouseDownCount=Math.min(t,this._lastMouseDownPositionEqualCount)},e}();b.CLEAR_MOUSE_DOWN_COUNT_TIME=400}),define(u[876],d([1,0,9,167,875,283]),function(e,t,n,i,r,o){"use strict";function s(e,t){var n={translationY:t.translationY,translationX:t.translationX};return e&&(n.translationY+=e.translationY,n.translationX+=e.translationX),n}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,i,r){var o=e.call(this,t,i,r)||this;return o.viewHelper.linesContentDomNode.style.msTouchAction="none",o.viewHelper.linesContentDomNode.style.msContentZooming="none",o._installGestureHandlerTimeout=window.setTimeout(function(){if(o._installGestureHandlerTimeout=-1,window.MSGesture){var e=new MSGesture,t=new MSGesture;e.target=o.viewHelper.linesContentDomNode,t.target=o.viewHelper.linesContentDomNode,o.viewHelper.linesContentDomNode.addEventListener("MSPointerDown",function(n){var i=n.pointerType;i!==(n.MSPOINTER_TYPE_MOUSE||"mouse")?i===(n.MSPOINTER_TYPE_TOUCH||"touch")?(o._lastPointerType="touch",e.addPointer(n.pointerId)):(o._lastPointerType="pen",t.addPointer(n.pointerId)):o._lastPointerType="mouse"}),o._register(n.addDisposableThrottledListener(o.viewHelper.linesContentDomNode,"MSGestureChange",function(e){return o._onGestureChange(e)},s)),o._register(n.addDisposableListener(o.viewHelper.linesContentDomNode,"MSGestureTap",function(e){return o._onCaptureGestureTap(e)},!0))}},100),o._lastPointerType="mouse",o}return h(t,e),t.prototype._onMouseDown=function(t){"mouse"===this._lastPointerType&&e.prototype._onMouseDown.call(this,t)},t.prototype._onCaptureGestureTap=function(e){var t=this,n=new o.EditorMouseEvent(e,this.viewHelper.viewDomNode),i=this._createMouseTarget(n,!1);i.position&&this.viewController.moveTo(i.position),n.browserEvent.fromElement?(n.preventDefault(),this.viewHelper.focusTextArea()):setTimeout(function(){t.viewHelper.focusTextArea()})},t.prototype._onGestureChange=function(e){var t=this._context.viewLayout;t.setScrollPosition({scrollLeft:t.getScrollLeft()-e.translationX,scrollTop:t.getScrollTop()-e.translationY})},t.prototype.dispose=function(){window.clearTimeout(this._installGestureHandlerTimeout),e.prototype.dispose.call(this)},t}(r.MouseHandler),c=function(e){function t(t,i,r){var o=e.call(this,t,i,r)||this;return o.viewHelper.linesContentDomNode.style.touchAction="none",o._installGestureHandlerTimeout=window.setTimeout(function(){if(o._installGestureHandlerTimeout=-1,window.MSGesture){var e=new MSGesture,t=new MSGesture;e.target=o.viewHelper.linesContentDomNode,t.target=o.viewHelper.linesContentDomNode,o.viewHelper.linesContentDomNode.addEventListener("pointerdown",function(n){var i=n.pointerType;"mouse"!==i?"touch"===i?(o._lastPointerType="touch",e.addPointer(n.pointerId)):(o._lastPointerType="pen",t.addPointer(n.pointerId)):o._lastPointerType="mouse"}),o._register(n.addDisposableThrottledListener(o.viewHelper.linesContentDomNode,"MSGestureChange",function(e){return o._onGestureChange(e)},s)),o._register(n.addDisposableListener(o.viewHelper.linesContentDomNode,"MSGestureTap",function(e){return o._onCaptureGestureTap(e)},!0))}},100),o._lastPointerType="mouse",o}return h(t,e),t.prototype._onMouseDown=function(t){"mouse"===this._lastPointerType&&e.prototype._onMouseDown.call(this,t)},t.prototype._onCaptureGestureTap=function(e){var t=this,n=new o.EditorMouseEvent(e,this.viewHelper.viewDomNode),i=this._createMouseTarget(n,!1);i.position&&this.viewController.moveTo(i.position),n.browserEvent.fromElement?(n.preventDefault(),this.viewHelper.focusTextArea()):setTimeout(function(){t.viewHelper.focusTextArea()})},t.prototype._onGestureChange=function(e){var t=this._context.viewLayout;t.setScrollPosition({scrollLeft:t.getScrollLeft()-e.translationX,scrollTop:t.getScrollTop()-e.translationY})},t.prototype.dispose=function(){window.clearTimeout(this._installGestureHandlerTimeout),e.prototype.dispose.call(this)},t}(r.MouseHandler),l=function(e){function t(t,r,s){var a=e.call(this,t,r,s)||this;return a.gesture=new i.Gesture(a.viewHelper.linesContentDomNode),a._register(n.addDisposableListener(a.viewHelper.linesContentDomNode,i.EventType.Tap,function(e){return a.onTap(e)})),a._register(n.addDisposableListener(a.viewHelper.linesContentDomNode,i.EventType.Change,function(e){return a.onChange(e)})),a._register(n.addDisposableListener(a.viewHelper.linesContentDomNode,i.EventType.Contextmenu,function(e){return a._onContextMenu(new o.EditorMouseEvent(e,a.viewHelper.viewDomNode),!1)})),a}return h(t,e),t.prototype.dispose=function(){this.gesture.dispose(),e.prototype.dispose.call(this)},t.prototype.onTap=function(e){e.preventDefault(),this.viewHelper.focusTextArea();var t=this._createMouseTarget(new o.EditorMouseEvent(e,this.viewHelper.viewDomNode),!1);t.position&&this.viewController.moveTo(t.position)},t.prototype.onChange=function(e){var t=this._context.viewLayout;t.setScrollPosition({scrollLeft:t.getScrollLeft()-e.translationX,scrollTop:t.getScrollTop()-e.translationY})},t}(r.MouseHandler),u=function(){function e(e,t,n){window.navigator.msPointerEnabled?this.handler=new a(e,t,n):window.TouchEvent?this.handler=new l(e,t,n):window.navigator.pointerEnabled?this.handler=new c(e,t,n):this.handler=new r.MouseHandler(e,t,n)}return e.prototype.getTargetAtClientPoint=function(e,t){return this.handler.getTargetAtClientPoint(e,t)},e.prototype.dispose=function(){this.handler.dispose()},e}();t.PointerHandler=u}),define(u[877],d([1,0,5,446,8]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this)||this;return n._onDidScroll=n._register(new r.Emitter),n.onDidScroll=n._onDidScroll.event,n._onDidGainFocus=n._register(new r.Emitter),n.onDidGainFocus=n._onDidGainFocus.event,n._onDidLoseFocus=n._register(new r.Emitter),n.onDidLoseFocus=n._onDidLoseFocus.event,n._onKeyDown=n._register(new r.Emitter),n.onKeyDown=n._onKeyDown.event,n._onKeyUp=n._register(new r.Emitter),n.onKeyUp=n._onKeyUp.event,n._onContextMenu=n._register(new r.Emitter),n.onContextMenu=n._onContextMenu.event,n._onMouseMove=n._register(new r.Emitter),n.onMouseMove=n._onMouseMove.event,n._onMouseLeave=n._register(new r.Emitter),n.onMouseLeave=n._onMouseLeave.event,n._onMouseUp=n._register(new r.Emitter),n.onMouseUp=n._onMouseUp.event,n._onMouseDown=n._register(new r.Emitter),n.onMouseDown=n._onMouseDown.event,n._onMouseDrag=n._register(new r.Emitter),n.onMouseDrag=n._onMouseDrag.event,n._onMouseDrop=n._register(new r.Emitter),n.onMouseDrop=n._onMouseDrop.event,n._viewModel=t,n}return h(t,e),t.prototype.emitScrollChanged=function(e){this._onDidScroll.fire(e)},t.prototype.emitViewFocusGained=function(){this._onDidGainFocus.fire()},t.prototype.emitViewFocusLost=function(){this._onDidLoseFocus.fire()},t.prototype.emitKeyDown=function(e){this._onKeyDown.fire(e)},t.prototype.emitKeyUp=function(e){this._onKeyUp.fire(e)},t.prototype.emitContextMenu=function(e){this._onContextMenu.fire(this._convertViewToModelMouseEvent(e))},t.prototype.emitMouseMove=function(e){this._onMouseMove.fire(this._convertViewToModelMouseEvent(e))},t.prototype.emitMouseLeave=function(e){this._onMouseLeave.fire(this._convertViewToModelMouseEvent(e))},t.prototype.emitMouseUp=function(e){this._onMouseUp.fire(this._convertViewToModelMouseEvent(e))},t.prototype.emitMouseDown=function(e){this._onMouseDown.fire(this._convertViewToModelMouseEvent(e))},t.prototype.emitMouseDrag=function(e){this._onMouseDrag.fire(this._convertViewToModelMouseEvent(e))},t.prototype.emitMouseDrop=function(e){this._onMouseDrop.fire(this._convertViewToModelMouseEvent(e))},t.prototype._convertViewToModelMouseEvent=function(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e},t.prototype._convertViewToModelMouseTarget=function(e){return new s(e.element,e.type,e.mouseColumn,e.position?this._convertViewToModelPosition(e.position):null,e.range?this._convertViewToModelRange(e.range):null,e.detail)},t.prototype._convertViewToModelPosition=function(e){return this._viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)},t.prototype._convertViewToModelRange=function(e){return this._viewModel.coordinatesConverter.convertViewRangeToModelRange(e)},t}(n.Disposable);t.ViewOutgoingEvents=o;var s=function(){function e(e,t,n,i,r,o){this.element=e,this.type=t,this.mouseColumn=n,this.position=i,this.range=r,this.detail=o}return e.prototype.toString=function(){return i.MouseTarget.toString(this)},e}()}),define(u[878],d([1,0,18,14,37,284,447,158,204,101,152,1109]),function(e,t,n,i,r,o,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(){this._currentVisibleRange=new i.Range(1,1,1,1)}return e.prototype.getCurrentVisibleRange=function(){return this._currentVisibleRange},e.prototype.setCurrentVisibleRange=function(e){this._currentVisibleRange=e},e}(),p=function(e){function t(t,i){var r=e.call(this,t)||this;r._linesContent=i,r._textRangeRestingSpot=document.createElement("div"),r._visibleLines=new o.VisibleLinesCollection(r),r.domNode=r._visibleLines.domNode;var c=r._context.configuration;return r._lineHeight=c.editor.lineHeight,r._typicalHalfwidthCharacterWidth=c.editor.fontInfo.typicalHalfwidthCharacterWidth,r._isViewportWrapping=c.editor.wrappingInfo.isViewportWrapping,r._revealHorizontalRightPadding=c.editor.viewInfo.revealHorizontalRightPadding,r._canUseLayerHinting=c.editor.canUseLayerHinting,r._viewLineOptions=new s.ViewLineOptions(c,r._context.theme.type),l.PartFingerprints.write(r.domNode,7),r.domNode.setClassName("view-lines"),a.Configuration.applyFontInfo(r.domNode,c.editor.fontInfo),r._maxLineWidth=0,r._asyncUpdateLineWidths=new n.RunOnceScheduler(function(){r._updateLineWidths()},200),r._lastRenderedData=new d,r._lastCursorRevealRangeHorizontallyEvent=null,r}return h(t,e),t.prototype.dispose=function(){this._asyncUpdateLineWidths.dispose(),e.prototype.dispose.call(this)},t.prototype.getDomNode=function(){return this.domNode},t.prototype.createVisibleLine=function(){return new s.ViewLine(this._viewLineOptions)},t.prototype.onConfigurationChanged=function(e){this._visibleLines.onConfigurationChanged(e),e.wrappingInfo&&(this._maxLineWidth=0);var t=this._context.configuration;return e.lineHeight&&(this._lineHeight=t.editor.lineHeight),e.fontInfo&&(this._typicalHalfwidthCharacterWidth=t.editor.fontInfo.typicalHalfwidthCharacterWidth),e.wrappingInfo&&(this._isViewportWrapping=t.editor.wrappingInfo.isViewportWrapping),e.viewInfo&&(this._revealHorizontalRightPadding=t.editor.viewInfo.revealHorizontalRightPadding),e.canUseLayerHinting&&(this._canUseLayerHinting=t.editor.canUseLayerHinting),e.fontInfo&&a.Configuration.applyFontInfo(this.domNode,t.editor.fontInfo),this._onOptionsMaybeChanged(),e.layoutInfo&&(this._maxLineWidth=0),!0},t.prototype._onOptionsMaybeChanged=function(){var e=this._context.configuration,t=new s.ViewLineOptions(e,this._context.theme.type);if(!this._viewLineOptions.equals(t)){this._viewLineOptions=t;for(var n=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),r=n;r<=i;r++)this._visibleLines.getVisibleLine(r).onOptionsChanged(this._viewLineOptions);return!0}return!1},t.prototype.onCursorStateChanged=function(e){for(var t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber(),i=!1,r=t;r<=n;r++)i=this._visibleLines.getVisibleLine(r).onSelectionChanged()||i;return i},t.prototype.onDecorationsChanged=function(e){for(var t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber(),i=t;i<=n;i++)this._visibleLines.getVisibleLine(i).onDecorationsChanged();return!0},t.prototype.onFlushed=function(e){var t=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,t},t.prototype.onLinesChanged=function(e){return this._visibleLines.onLinesChanged(e)},t.prototype.onLinesDeleted=function(e){return this._visibleLines.onLinesDeleted(e)},t.prototype.onLinesInserted=function(e){return this._visibleLines.onLinesInserted(e)},t.prototype.onRevealRangeRequest=function(e){var t=this._computeScrollTopToRevealRange(this._context.viewLayout.getCurrentViewport(),e.range,e.verticalType);return e.revealHorizontal&&(this._lastCursorRevealRangeHorizontallyEvent=e),this._context.viewLayout.setScrollPosition({scrollTop:t}),!0},t.prototype.onScrollChanged=function(e){return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0},t.prototype.onTokensChanged=function(e){return this._visibleLines.onTokensChanged(e)},t.prototype.onZonesChanged=function(e){return this._visibleLines.onZonesChanged(e)},t.prototype.onThemeChanged=function(e){return this._onOptionsMaybeChanged()},t.prototype.getPositionFromDOMInfo=function(e,t){var n=this._getViewLineDomNode(e);if(null===n)return null;var i=this._getLineNumberFor(n);if(-1===i)return null;if(i<1||i>this._context.model.getLineCount())return null;if(1===this._context.model.getLineMaxColumn(i))return new r.Position(i,1);var o=this._visibleLines.getStartLineNumber(),s=this._visibleLines.getEndLineNumber();if(i<o||i>s)return null;var a=this._visibleLines.getVisibleLine(i).getColumnOfNodeOffset(i,e,t),c=this._context.model.getLineMinColumn(i);return a<c&&(a=c),new r.Position(i,a)},t.prototype._getViewLineDomNode=function(e){for(;e&&1===e.nodeType;){if(e.className===s.ViewLine.CLASS_NAME)return e;e=e.parentElement}return null},t.prototype._getLineNumberFor=function(e){for(var t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber(),i=t;i<=n;i++)if(e===this._visibleLines.getVisibleLine(i).getDomNode())return i;return-1},t.prototype.getLineWidth=function(e){var t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();return e<t||e>n?-1:this._visibleLines.getVisibleLine(e).getWidth()},t.prototype.linesVisibleRangesForRange=function(e,t){if(this.shouldRender())return null;var n=e.endLineNumber;if(!(e=i.Range.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange())))return null;var o,a=[],l=new s.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot);t&&(o=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new r.Position(e.startLineNumber,1)).lineNumber);for(var u=this._visibleLines.getStartLineNumber(),d=this._visibleLines.getEndLineNumber(),h=e.startLineNumber;h<=e.endLineNumber;h++)if(!(h<u||h>d)){var p=h===e.startLineNumber?e.startColumn:1,f=h===e.endLineNumber?e.endColumn:this._context.model.getLineMaxColumn(h),g=this._visibleLines.getVisibleLine(h).getVisibleRangesForRange(p,f,l);g&&0!==g.length&&(t&&h<n&&o!==(o=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new r.Position(h+1,1)).lineNumber)&&(g[g.length-1].width+=this._typicalHalfwidthCharacterWidth),a.push(new c.LineVisibleRanges(h,g)))}return 0===a.length?null:a},t.prototype.visibleRangesForRange2=function(e){if(this.shouldRender())return null;if(!(e=i.Range.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange())))return null;for(var t=[],n=new s.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot),r=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber(),a=e.startLineNumber;a<=e.endLineNumber;a++)if(!(a<r||a>o)){var c=a===e.startLineNumber?e.startColumn:1,l=a===e.endLineNumber?e.endColumn:this._context.model.getLineMaxColumn(a),u=this._visibleLines.getVisibleLine(a).getVisibleRangesForRange(c,l,n);u&&0!==u.length&&(t=t.concat(u))}return 0===t.length?null:t},t.prototype._updateLineWidths=function(){for(var e=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber(),n=1,i=e;i<=t;i++){var r=this._visibleLines.getVisibleLine(i).getWidth();n=Math.max(n,r)}1===e&&t===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(n)},t.prototype.prepareRender=function(){throw new Error("Not supported")},t.prototype.render=function(){throw new Error("Not supported")},t.prototype.renderText=function(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._lastCursorRevealRangeHorizontallyEvent){var t=this._lastCursorRevealRangeHorizontallyEvent.range;this._lastCursorRevealRangeHorizontallyEvent=null,this.onDidRender();var n=this._computeScrollLeftToRevealRange(t);this._isViewportWrapping||this._ensureMaxLineWidth(n.maxHorizontalOffset),this._context.viewLayout.setScrollPosition({scrollLeft:n.scrollLeft})}this._linesContent.setLayerHinting(this._canUseLayerHinting);var i=this._context.viewLayout.getScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-i),this._linesContent.setLeft(-this._context.viewLayout.getScrollLeft()),this._asyncUpdateLineWidths.schedule()},t.prototype._ensureMaxLineWidth=function(e){var t=Math.ceil(e);this._maxLineWidth<t&&(this._maxLineWidth=t,this._context.viewLayout.onMaxLineWidthChanged(this._maxLineWidth))},t.prototype._computeScrollTopToRevealRange=function(e,t,n){var i,r,o=e.top,s=e.height,a=o+s;i=this._context.viewLayout.getVerticalOffsetForLineNumber(t.startLineNumber),r=this._context.viewLayout.getVerticalOffsetForLineNumber(t.endLineNumber)+this._lineHeight,0!==n&&4!==n||(r+=this._lineHeight);var c;if(1===n||2===n)if(2===n&&o<=i&&r<=a)c=o;else{var l=(i+r)/2;c=Math.max(0,l-s/2)}else c=this._computeMinimumScrolling(o,a,i,r,3===n,4===n);return c},t.prototype._computeScrollLeftToRevealRange=function(e){var n=0;if(e.startLineNumber!==e.endLineNumber)return{scrollLeft:0,maxHorizontalOffset:n};var i=this._context.viewLayout.getCurrentViewport(),r=i.left,o=r+i.width,s=this.visibleRangesForRange2(e),a=Number.MAX_VALUE,c=0;if(!s)return{scrollLeft:r,maxHorizontalOffset:n};for(var l=0;l<s.length;l++){var u=s[l];u.left<a&&(a=u.left),u.left+u.width>c&&(c=u.left+u.width)}return n=c,a=Math.max(0,a-t.HORIZONTAL_EXTRA_PX),c+=this._revealHorizontalRightPadding,{scrollLeft:this._computeMinimumScrolling(r,o,a,c),maxHorizontalOffset:n}},t.prototype._computeMinimumScrolling=function(e,t,n,i,r,o){r=!!r,o=!!o;var s=(t|=0)-(e|=0);return(i|=0)-(n|=0)<s?r?n:o?Math.max(0,i-s):n<e?n:i>t?Math.max(0,i-s):e:n},t}(l.ViewPart);p.HORIZONTAL_EXTRA_PX=30,t.ViewLines=p}),define(u[879],d([1,0,101,874,9,271,75,284,14,152,231,11,13,29,1090]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f){"use strict";function g(e){return 2===e?4:4===e?6:1===e?2:3}function v(e){return 2===e?2:4===e?2:1}Object.defineProperty(t,"__esModule",{value:!0});var m;!function(e){e[e.None=0]="None",e[e.Small=1]="Small",e[e.Large=2]="Large",e[e.SmallBlocks=3]="SmallBlocks",e[e.LargeBlocks=4]="LargeBlocks"}(m||(m={}));var y=140,b=function(){function e(e){var t=e.editor.pixelRatio,n=e.editor.layoutInfo,i=e.editor.viewInfo,r=e.editor.fontInfo;this.renderMinimap=0|n.renderMinimap,this.scrollBeyondLastLine=i.scrollBeyondLastLine,this.showSlider=i.minimap.showSlider,this.pixelRatio=t,this.typicalHalfwidthCharacterWidth=r.typicalHalfwidthCharacterWidth,this.lineHeight=e.editor.lineHeight,this.minimapWidth=n.minimapWidth,this.minimapHeight=n.height,this.canvasInnerWidth=Math.max(1,Math.floor(t*this.minimapWidth)),this.canvasInnerHeight=Math.max(1,Math.floor(t*this.minimapHeight)),this.canvasOuterWidth=this.canvasInnerWidth/t,this.canvasOuterHeight=this.canvasInnerHeight/t}return e.prototype.equals=function(e){return this.renderMinimap===e.renderMinimap&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.showSlider===e.showSlider&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight},e}(),S=function(){function e(e,t,n,i,r,o,s){this.scrollTop=e,this.scrollHeight=t,this._computedSliderRatio=n,this.sliderTop=i,this.sliderHeight=r,this.startLineNumber=o,this.endLineNumber=s}return e.prototype.getDesiredScrollTopFromDelta=function(e){var t=this.sliderTop+e;return Math.round(t/this._computedSliderRatio)},e.create=function(t,n,i,r,o,s,a,c,l){var u,d=t.pixelRatio,h=g(t.renderMinimap),p=Math.floor(t.canvasInnerHeight/h),f=t.lineHeight;if(o&&i!==s){var v=i-n+1;u=Math.floor(v*h/d)}else{var m=r/f;u=Math.floor(m*h/d)}var y;y=t.scrollBeyondLastLine?(s-1)*h/d:Math.max(0,s*h/d-u);var b=(y=Math.min(t.minimapHeight-u,y))/(c-r),S=a*b;if(p>=s)return new e(a,c,b,S,u,_=1,E=s);var _=Math.max(1,Math.floor(n-S*d/h));l&&l.scrollHeight===c&&(l.scrollTop>a&&(_=Math.min(_,l.startLineNumber)),l.scrollTop<a&&(_=Math.max(_,l.startLineNumber)));var E=Math.min(s,_+p-1);return new e(a,c,b,S,u,_,E)},e}(),_=function(){function e(e){this.dy=e}return e.prototype.onContentChanged=function(){this.dy=-1},e.prototype.onTokensChanged=function(){this.dy=-1},e}();_.INVALID=new _(-1);var E=function(){function e(e,t,n){this.renderedLayout=e,this._imageData=t,this._renderedLines=new a.RenderedLinesCollection(function(){return _.INVALID}),this._renderedLines._set(e.startLineNumber,n)}return e.prototype.linesEquals=function(e){if(this.renderedLayout.startLineNumber!==e.startLineNumber)return!1;if(this.renderedLayout.endLineNumber!==e.endLineNumber)return!1;for(var t=this._renderedLines._get().lines,n=0,i=t.length;n<i;n++)if(-1===t[n].dy)return!1;return!0},e.prototype._get=function(){var e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}},e.prototype.onLinesChanged=function(e){return this._renderedLines.onLinesChanged(e.fromLineNumber,e.toLineNumber)},e.prototype.onLinesDeleted=function(e){this._renderedLines.onLinesDeleted(e.fromLineNumber,e.toLineNumber)},e.prototype.onLinesInserted=function(e){this._renderedLines.onLinesInserted(e.fromLineNumber,e.toLineNumber)},e.prototype.onTokensChanged=function(e){return this._renderedLines.onTokensChanged(e.ranges)},e}(),C=function(){function e(t,n,i,r){this._backgroundFillData=e._createBackgroundFillData(n,i,r),this._buffers=[t.createImageData(n,i),t.createImageData(n,i)],this._lastUsedBuffer=0}return e.prototype.getBuffer=function(){this._lastUsedBuffer=1-this._lastUsedBuffer;var e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e},e._createBackgroundFillData=function(e,t,n){for(var i=n.r,r=n.g,o=n.b,s=new Uint8ClampedArray(e*t*4),a=0,c=0;c<t;c++)for(var l=0;l<e;l++)s[a]=i,s[a+1]=r,s[a+2]=o,s[a+3]=255,a+=4;return s},e}(),w=function(e){function t(t){var a=e.call(this,t)||this;return a._options=new b(a._context.configuration),a._lastRenderData=null,a._buffers=null,a._domNode=s.createFastDomNode(document.createElement("div")),n.PartFingerprints.write(a._domNode,8),a._domNode.setClassName(a._getMinimapDomNodeClassName()),a._domNode.setPosition("absolute"),a._domNode.setAttribute("role","presentation"),a._domNode.setAttribute("aria-hidden","true"),a._domNode.setRight(a._context.configuration.editor.layoutInfo.verticalScrollbarWidth),a._shadow=s.createFastDomNode(document.createElement("div")),a._shadow.setClassName("minimap-shadow-hidden"),a._domNode.appendChild(a._shadow),a._canvas=s.createFastDomNode(document.createElement("canvas")),a._canvas.setPosition("absolute"),a._canvas.setLeft(0),a._domNode.appendChild(a._canvas),a._slider=s.createFastDomNode(document.createElement("div")),a._slider.setPosition("absolute"),a._slider.setClassName("minimap-slider"),a._slider.setLayerHinting(!0),a._domNode.appendChild(a._slider),a._sliderHorizontal=s.createFastDomNode(document.createElement("div")),a._sliderHorizontal.setPosition("absolute"),a._sliderHorizontal.setClassName("minimap-slider-horizontal"),a._slider.appendChild(a._sliderHorizontal),a._tokensColorTracker=o.MinimapTokensColorTracker.getInstance(),a._minimapCharRenderer=i.getOrCreateMinimapCharRenderer(),a._applyLayout(),a._mouseDownListener=r.addStandardDisposableListener(a._canvas.domNode,"mousedown",function(e){e.preventDefault();var t=a._options.renderMinimap;if(0!==t&&a._lastRenderData){var n=g(t),i=a._options.pixelRatio*e.browserEvent.offsetY,r=Math.floor(i/n)+a._lastRenderData.renderedLayout.startLineNumber;r=Math.min(r,a._context.model.getLineCount()),a._context.privateViewEventBus.emit(new l.ViewRevealRangeRequestEvent(new c.Range(r,1,r,1),1,!1))}}),a._sliderMouseMoveMonitor=new u.GlobalMouseMoveMonitor,a._sliderMouseDownListener=r.addStandardDisposableListener(a._slider.domNode,"mousedown",function(e){if(e.preventDefault(),e.leftButton&&a._lastRenderData){var t=e.posy,n=e.posx,i=a._lastRenderData.renderedLayout;a._slider.toggleClassName("active",!0),a._sliderMouseMoveMonitor.startMonitoring(u.standardMouseMoveMerger,function(e){var r=Math.abs(e.posx-n);if(d.isWindows&&r>y)a._context.viewLayout.setScrollPosition({scrollTop:i.scrollTop});else{var o=e.posy-t;a._context.viewLayout.setScrollPosition({scrollTop:i.getDesiredScrollTopFromDelta(o)})}},function(){a._slider.toggleClassName("active",!1)})}}),a}return h(t,e),t.prototype.dispose=function(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),e.prototype.dispose.call(this)},t.prototype._getMinimapDomNodeClassName=function(){return"always"===this._options.showSlider?"minimap slider-always":"minimap slider-mouseover"},t.prototype.getDomNode=function(){return this._domNode},t.prototype._applyLayout=function(){this._domNode.setWidth(this._options.minimapWidth),this._domNode.setHeight(this._options.minimapHeight),this._shadow.setHeight(this._options.minimapHeight),this._canvas.setWidth(this._options.canvasOuterWidth),this._canvas.setHeight(this._options.canvasOuterHeight),this._canvas.domNode.width=this._options.canvasInnerWidth,this._canvas.domNode.height=this._options.canvasInnerHeight,this._slider.setWidth(this._options.minimapWidth)},t.prototype._getBuffer=function(){return this._buffers||(this._buffers=new C(this._canvas.domNode.getContext("2d"),this._options.canvasInnerWidth,this._options.canvasInnerHeight,this._tokensColorTracker.getColor(2))),this._buffers.getBuffer()},t.prototype._onOptionsMaybeChanged=function(){var e=new b(this._context.configuration);return!this._options.equals(e)&&(this._options=e,this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName()),!0)},t.prototype.onConfigurationChanged=function(e){return this._onOptionsMaybeChanged()},t.prototype.onFlushed=function(e){return this._lastRenderData=null,!0},t.prototype.onLinesChanged=function(e){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(e)},t.prototype.onLinesDeleted=function(e){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(e),!0},t.prototype.onLinesInserted=function(e){return this._lastRenderData&&this._lastRenderData.onLinesInserted(e),!0},t.prototype.onScrollChanged=function(e){return!0},t.prototype.onTokensChanged=function(e){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(e)},t.prototype.onTokensColorsChanged=function(e){return this._lastRenderData=null,this._buffers=null,!0},t.prototype.onZonesChanged=function(e){return this._lastRenderData=null,!0},t.prototype.prepareRender=function(e){},t.prototype.render=function(e){if(0!==this._options.renderMinimap){e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");var t=S.create(this._options,e.visibleRange.startLineNumber,e.visibleRange.endLineNumber,e.viewportHeight,e.viewportData.whitespaceViewportData.length>0,this._context.model.getLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setTop(t.sliderTop),this._slider.setHeight(t.sliderHeight);var n=e.scrollLeft/this._options.typicalHalfwidthCharacterWidth,i=Math.min(this._options.minimapWidth,Math.round(n*v(this._options.renderMinimap)/this._options.pixelRatio));this._sliderHorizontal.setLeft(i),this._sliderHorizontal.setWidth(this._options.minimapWidth-i),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(t.sliderHeight),this._lastRenderData=this.renderLines(t)}else this._shadow.setClassName("minimap-shadow-hidden")},t.prototype.renderLines=function(e){var n=this._options.renderMinimap,i=e.startLineNumber,r=e.endLineNumber,o=g(n);if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){var s=this._lastRenderData._get();return new E(e,s.imageData,s.lines)}for(var a=this._getBuffer(),c=t._renderUntouchedLines(a,i,r,o,this._lastRenderData),l=this._context.model.getMinimapLinesRenderingData(i,r,c),u=l.tabSize,d=this._tokensColorTracker.getColor(2),h=this._tokensColorTracker.backgroundIsLight(),p=0,f=[],v=0,m=r-i+1;v<m;v++)c[v]&&t._renderLine(a,d,h,n,this._tokensColorTracker,this._minimapCharRenderer,p,u,l.data[v]),f[v]=new _(p),p+=o;return this._canvas.domNode.getContext("2d").putImageData(a,0,0),new E(e,a,f)},t._renderUntouchedLines=function(e,t,n,i,r){var o=[];if(!r){for(var s=0,a=n-t+1;s<a;s++)o[s]=!0;return o}for(var c=r._get(),l=c.imageData.data,u=c.rendLineNumberStart,d=c.lines,h=d.length,p=e.width,f=e.data,g=-1,v=-1,m=-1,y=-1,b=0,S=t;S<=n;S++){var _=S-t,E=S-u,C=E>=0&&E<h?d[E].dy:-1;if(-1!==C){var w=C*p*4,I=(C+i)*p*4,T=b*p*4,k=(b+i)*p*4;v===w&&y===T?(v=I,y=k):(-1!==g&&f.set(l.subarray(g,v),m),g=w,v=I,m=T,y=k),o[_]=!1,b+=i}else o[_]=!0,b+=i}return-1!==g&&f.set(l.subarray(g,v),m),o},t._renderLine=function(e,t,n,i,r,o,s,a,c){for(var l=c.content,u=c.tokens,d=v(i),h=e.width-d,p=0,f=0,g=0,m=0,y=u.length;m<y;m++)for(var b=u[m],S=b.endIndex,_=b.getForeground(),E=r.getColor(_);f<S;f++){if(p>h)return;var C=l.charCodeAt(f);if(9===C){var w=a-(f+g)%a;g+=w-1,p+=w*d}else 32===C?p+=d:(2===i?o.x2RenderChar(e,p,s,C,E,t,n):1===i?o.x1RenderChar(e,p,s,C,E,t,n):4===i?o.x2BlockRenderChar(e,p,s,E,t,n):o.x1BlockRenderChar(e,p,s,E,t,n),p+=d)}},t}(n.ViewPart);t.Minimap=w,p.registerThemingParticipant(function(e,t){var n=e.getColor(f.scrollbarSliderBackground);if(n){var i=n.transparent(.5);t.addRule(".monaco-editor .minimap-slider, .monaco-editor .minimap-slider .minimap-slider-horizontal { background: "+i+"; }")}var r=e.getColor(f.scrollbarSliderHoverBackground);if(r){var o=r.transparent(.5);t.addRule(".monaco-editor .minimap-slider:hover, .monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: "+o+"; }")}var s=e.getColor(f.scrollbarSliderActiveBackground);if(s){var a=s.transparent(.5);t.addRule(".monaco-editor .minimap-slider.active, .monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: "+a+"; }")}var c=e.getColor(f.scrollbarShadow);c&&t.addRule(".monaco-editor .minimap-shadow-visible { box-shadow: "+c+" -6px 0 6px -6px inset; }")})}),define(u[880],d([1,0,75,101,13,29,1081]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t){var i=e.call(this,t)||this;return i._scrollTop=0,i._width=0,i._updateWidth(),i._shouldShow=!1,i._useShadows=i._context.configuration.editor.viewInfo.scrollbar.useShadows,i._domNode=n.createFastDomNode(document.createElement("div")),i._domNode.setAttribute("role","presentation"),i._domNode.setAttribute("aria-hidden","true"),i}return h(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype._updateShouldShow=function(){var e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e&&(this._shouldShow=e,!0)},t.prototype.getDomNode=function(){return this._domNode},t.prototype._updateWidth=function(){var e=this._context.configuration.editor.layoutInfo,t=e.width-e.minimapWidth;return this._width!==t&&(this._width=t,!0)},t.prototype.onConfigurationChanged=function(e){var t=!1;return e.viewInfo&&(this._useShadows=this._context.configuration.editor.viewInfo.scrollbar.useShadows),e.layoutInfo&&(t=this._updateWidth()),this._updateShouldShow()||t},t.prototype.onScrollChanged=function(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()},t.prototype.prepareRender=function(e){},t.prototype.render=function(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")},t}(i.ViewPart);t.ScrollDecorationViewPart=s,r.registerThemingParticipant(function(e,t){var n=e.getColor(o.scrollbarShadow);n&&t.addRule(".monaco-editor .scroll-decoration { box-shadow: "+n+" 0 6px 6px -6px inset; }")})}),define(u[881],d([1,0,13,29,177,66,1079]),function(e,t,n,i,r,o){"use strict";function s(e){return new l(e)}function a(e){return new u(e.lineNumber,e.ranges.map(s))}Object.defineProperty(t,"__esModule",{value:!0});var c;!function(e){e[e.EXTERN=0]="EXTERN",e[e.INTERN=1]="INTERN",e[e.FLAT=2]="FLAT"}(c||(c={}));var l=function(){return function(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}}(),u=function(){return function(e,t){this.lineNumber=e,this.ranges=t}}(),d=o.isEdgeOrIE,p=function(e){function t(t){var n=e.call(this)||this;return n._previousFrameVisibleRangesWithStyle=[],n._context=t,n._lineHeight=n._context.configuration.editor.lineHeight,n._roundedSelection=n._context.configuration.editor.viewInfo.roundedSelection,n._selections=[],n._renderResult=null,n._context.addEventHandler(n),n}return h(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._selections=null,this._renderResult=null,e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.viewInfo&&(this._roundedSelection=this._context.configuration.editor.viewInfo.roundedSelection),!0},t.prototype.onCursorStateChanged=function(e){return this._selections=e.selections.slice(0),!0},t.prototype.onDecorationsChanged=function(e){return!0},t.prototype.onFlushed=function(e){return!0},t.prototype.onLinesChanged=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged},t.prototype.onZonesChanged=function(e){return!0},t.prototype._visibleRangesHaveGaps=function(e){for(var t=0,n=e.length;t<n;t++)if(e[t].ranges.length>1)return!0;return!1},t.prototype._enrichVisibleRangesWithStyle=function(e,t){var n=null,i=null;if(t&&t.length>0&&e.length>0){for(var r=e[0].lineNumber,o=0;!n&&o<t.length;o++)t[o].lineNumber===r&&(n=t[o].ranges[0]);for(var s=e[e.length-1].lineNumber,o=t.length-1;!i&&o>=0;o--)t[o].lineNumber===s&&(i=t[o].ranges[0]);n&&!n.startStyle&&(n=null),i&&!i.startStyle&&(i=null)}for(var o=0,a=e.length;o<a;o++){var c=e[o].ranges[0],l=c.left,u=c.left+c.width,d={top:0,bottom:0},h={top:0,bottom:0};if(o>0){var p=e[o-1].ranges[0].left,f=e[o-1].ranges[0].left+e[o-1].ranges[0].width;l===p?d.top=2:l>p&&(d.top=1),u===f?h.top=2:p<u&&u<f&&(h.top=1)}else n&&(d.top=n.startStyle.top,h.top=n.endStyle.top);if(o+1<a){var g=e[o+1].ranges[0].left,v=e[o+1].ranges[0].left+e[o+1].ranges[0].width;l===g?d.bottom=2:g<l&&l<v&&(d.bottom=1),u===v?h.bottom=2:u<v&&(h.bottom=1)}else i&&(d.bottom=i.startStyle.bottom,h.bottom=i.endStyle.bottom);c.startStyle=d,c.endStyle=h}},t.prototype._getVisibleRangesWithStyle=function(e,t,n){var i=(t.linesVisibleRangesForRange(e,!0)||[]).map(a),r=this._visibleRangesHaveGaps(i);return d||r||!this._roundedSelection||this._enrichVisibleRangesWithStyle(i,n),i},t.prototype._createSelectionPiece=function(e,t,n,i,r){return'<div class="cslr '+n+'" style="top:'+e.toString()+"px;left:"+i.toString()+"px;width:"+r.toString()+"px;height:"+t+'px;"></div>'},t.prototype._actualRenderOneSelection=function(e,n,i,r){for(var o=r.length>0&&r[0].ranges[0].startStyle,s=this._lineHeight.toString(),a=(this._lineHeight-1).toString(),c=r.length>0?r[0].lineNumber:0,l=r.length>0?r[r.length-1].lineNumber:0,u=0,d=r.length;u<d;u++){for(var h=r[u],p=h.lineNumber,f=p-n,g=i&&(p===l||p===c)?a:s,v=i&&p===c?1:0,m="",y=0,b=h.ranges.length;y<b;y++){var S=h.ranges[y];if(o){if(1===S.startStyle.top||1===S.startStyle.bottom){m+=this._createSelectionPiece(v,g,t.SELECTION_CLASS_NAME,S.left-t.ROUNDED_PIECE_WIDTH,t.ROUNDED_PIECE_WIDTH);var _=t.EDITOR_BACKGROUND_CLASS_NAME;1===S.startStyle.top&&(_+=" "+t.SELECTION_TOP_RIGHT),1===S.startStyle.bottom&&(_+=" "+t.SELECTION_BOTTOM_RIGHT),m+=this._createSelectionPiece(v,g,_,S.left-t.ROUNDED_PIECE_WIDTH,t.ROUNDED_PIECE_WIDTH)}if(1===S.endStyle.top||1===S.endStyle.bottom){m+=this._createSelectionPiece(v,g,t.SELECTION_CLASS_NAME,S.left+S.width,t.ROUNDED_PIECE_WIDTH);var E=t.EDITOR_BACKGROUND_CLASS_NAME;1===S.endStyle.top&&(E+=" "+t.SELECTION_TOP_LEFT),1===S.endStyle.bottom&&(E+=" "+t.SELECTION_BOTTOM_LEFT),m+=this._createSelectionPiece(v,g,E,S.left+S.width,t.ROUNDED_PIECE_WIDTH)}}var C=t.SELECTION_CLASS_NAME;o&&(0===S.startStyle.top&&(C+=" "+t.SELECTION_TOP_LEFT),0===S.startStyle.bottom&&(C+=" "+t.SELECTION_BOTTOM_LEFT),0===S.endStyle.top&&(C+=" "+t.SELECTION_TOP_RIGHT),0===S.endStyle.bottom&&(C+=" "+t.SELECTION_BOTTOM_RIGHT)),m+=this._createSelectionPiece(v,g,C,S.left,S.width)}e[f]+=m}},t.prototype.prepareRender=function(e){for(var t=[],n=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,r=n;r<=i;r++)t[r-n]="";for(var o=[],s=0,a=this._selections.length;s<a;s++){var c=this._selections[s];if(c.isEmpty())o.push(null);else{var l=this._getVisibleRangesWithStyle(c,e,this._previousFrameVisibleRangesWithStyle[s]);o.push(l),this._actualRenderOneSelection(t,n,this._selections.length>1,l)}}this._previousFrameVisibleRangesWithStyle=o,this._renderResult=t},t.prototype.render=function(e,t){if(!this._renderResult)return"";var n=t-e;if(n<0||n>=this._renderResult.length)throw new Error("Unexpected render request");return this._renderResult[n]},t}(r.DynamicViewOverlay);p.SELECTION_CLASS_NAME="selected-text",p.SELECTION_TOP_LEFT="top-left-radius",p.SELECTION_BOTTOM_LEFT="bottom-left-radius",p.SELECTION_TOP_RIGHT="top-right-radius",p.SELECTION_BOTTOM_RIGHT="bottom-right-radius",p.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",p.ROUNDED_PIECE_WIDTH=10,t.SelectionsOverlay=p,n.registerThemingParticipant(function(e,t){var n=e.getColor(i.editorSelectionBackground);n&&t.addRule(".monaco-editor .focused .selected-text { background-color: "+n+"; }");var r=e.getColor(i.editorInactiveSelection);r&&t.addRule(".monaco-editor .selected-text { background-color: "+r+"; }");var o=e.getColor(i.editorSelectionForeground);o&&t.addRule(".monaco-editor .view-line span.inline-selected-text { color: "+o+"; }")})}),define(u[111],d([1,0,745,29,13,58]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.editorLineHighlight=i.registerColor("editor.lineHighlightBackground",{dark:null,light:null,hc:null},n.localize(0,null)),t.editorLineHighlightBorder=i.registerColor("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},n.localize(1,null)),t.editorRangeHighlight=i.registerColor("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},n.localize(2,null)),t.editorCursor=i.registerColor("editorCursor.foreground",{dark:"#AEAFAD",light:o.Color.black,hc:o.Color.white},n.localize(3,null)),t.editorWhitespaces=i.registerColor("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},n.localize(4,null)),t.editorIndentGuides=i.registerColor("editorIndentGuide.background",{dark:t.editorWhitespaces,light:t.editorWhitespaces,hc:t.editorWhitespaces},n.localize(5,null)),t.editorLineNumbers=i.registerColor("editorLineNumber.foreground",{dark:"#5A5A5A",light:"#2B91AF",hc:o.Color.white},n.localize(6,null)),t.editorRuler=i.registerColor("editorRuler.foreground",{dark:"#5A5A5A",light:o.Color.lightgrey,hc:o.Color.white},n.localize(7,null)),t.editorCodeLensForeground=i.registerColor("editorCodeLens.foreground",{dark:"#999999",light:"#999999",hc:"#999999"},n.localize(8,null)),t.editorBracketMatchBackground=i.registerColor("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},n.localize(9,null)),t.editorBracketMatchBorder=i.registerColor("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:"#fff"},n.localize(10,null)),t.editorOverviewRulerBorder=i.registerColor("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},n.localize(11,null)),t.editorGutter=i.registerColor("editorGutter.background",{dark:i.editorBackground,light:i.editorBackground,hc:i.editorBackground},n.localize(12,null)),t.editorErrorForeground=i.registerColor("editorError.foreground",{dark:"#FF0000",light:"#FF0000",hc:null},n.localize(13,null)),t.editorErrorBorder=i.registerColor("editorError.border",{dark:null,light:null,hc:o.Color.fromHex("#E47777").transparent(.8)},n.localize(14,null)),t.editorWarningForeground=i.registerColor("editorWarning.foreground",{dark:"#008000",light:"#008000",hc:null},n.localize(15,null)),t.editorWarningBorder=i.registerColor("editorWarning.border",{dark:null,light:null,hc:o.Color.fromHex("#71B771").transparent(.8)},n.localize(16,null)),r.registerThemingParticipant(function(e,n){var r=e.getColor(i.editorBackground);r&&n.addRule(".monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: "+r+"; }");var o=e.getColor(i.editorForeground);o&&n.addRule(".monaco-editor, .monaco-editor .inputarea.ime-input { color: "+o+"; }");var s=e.getColor(t.editorGutter);s&&n.addRule(".monaco-editor .margin { background-color: "+s+"; }");var a=e.getColor(t.editorRangeHighlight);a&&n.addRule(".monaco-editor .rangeHighlight { background-color: "+a+"; }");var c=e.getColor(i.activeContrastBorder);c&&n.addRule(".monaco-editor .rangeHighlight { border: 1px dotted "+c+"; }; }");var l=e.getColor(t.editorWhitespaces);l&&n.addRule(".vs-whitespace { color: "+l+" !important; }")})}),define(u[883],d([1,0,177,13,111,1122]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this)||this;return n._context=t,n._lineHeight=n._context.configuration.editor.lineHeight,n._readOnly=n._context.configuration.editor.readOnly,n._renderLineHighlight=n._context.configuration.editor.viewInfo.renderLineHighlight,n._selectionIsEmpty=!0,n._primaryCursorIsInEditableRange=!0,n._primaryCursorLineNumber=1,n._scrollWidth=0,n._contentWidth=n._context.configuration.editor.layoutInfo.contentWidth,n._context.addEventHandler(n),n}return h(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.readOnly&&(this._readOnly=this._context.configuration.editor.readOnly),e.viewInfo&&(this._renderLineHighlight=this._context.configuration.editor.viewInfo.renderLineHighlight),e.layoutInfo&&(this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth),!0},t.prototype.onCursorStateChanged=function(e){var t=!1;this._primaryCursorIsInEditableRange!==e.isInEditableRange&&(this._primaryCursorIsInEditableRange=e.isInEditableRange,t=!0);var n=e.selections[0].positionLineNumber;this._primaryCursorLineNumber!==n&&(this._primaryCursorLineNumber=n,t=!0);var i=e.selections[0].isEmpty();return this._selectionIsEmpty!==i?(this._selectionIsEmpty=i,t=!0,!0):t},t.prototype.onFlushed=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollWidthChanged},t.prototype.onZonesChanged=function(e){return!0},t.prototype.prepareRender=function(e){this._scrollWidth=e.scrollWidth},t.prototype.render=function(e,t){return t===this._primaryCursorLineNumber&&this._shouldShowCurrentLine()?'<div class="current-line" style="width:'+String(Math.max(this._scrollWidth,this._contentWidth))+"px; height:"+String(this._lineHeight)+'px;"></div>':""},t.prototype._shouldShowCurrentLine=function(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&this._primaryCursorIsInEditableRange},t}(n.DynamicViewOverlay);t.CurrentLineHighlightOverlay=o,i.registerThemingParticipant(function(e,t){var n=e.getColor(r.editorLineHighlight);if(n&&t.addRule(".monaco-editor .view-overlays .current-line { background-color: "+n+"; }"),!n||n.isTransparent()||e.defines(r.editorLineHighlightBorder)){var i=e.getColor(r.editorLineHighlightBorder);i&&(t.addRule(".monaco-editor .view-overlays .current-line { border: 2px solid "+i+"; }"),"hc"===e.type&&t.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"))}})}),define(u[884],d([1,0,177,13,111,1121]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this)||this;return n._context=t,n._lineHeight=n._context.configuration.editor.lineHeight,n._renderLineHighlight=n._context.configuration.editor.viewInfo.renderLineHighlight,n._primaryCursorIsInEditableRange=!0,n._primaryCursorLineNumber=1,n._contentLeft=n._context.configuration.editor.layoutInfo.contentLeft,n._context.addEventHandler(n),n}return h(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.viewInfo&&(this._renderLineHighlight=this._context.configuration.editor.viewInfo.renderLineHighlight),e.layoutInfo&&(this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft),!0},t.prototype.onCursorStateChanged=function(e){var t=!1;this._primaryCursorIsInEditableRange!==e.isInEditableRange&&(this._primaryCursorIsInEditableRange=e.isInEditableRange,t=!0);var n=e.selections[0].positionLineNumber;return this._primaryCursorLineNumber!==n&&(this._primaryCursorLineNumber=n,t=!0),t},t.prototype.onFlushed=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onZonesChanged=function(e){return!0},t.prototype.prepareRender=function(e){},t.prototype.render=function(e,t){return t===this._primaryCursorLineNumber&&this._shouldShowCurrentLine()?'<div class="current-line-margin" style="width:'+String(this._contentLeft)+"px; height:"+String(this._lineHeight)+'px;"></div>':""},t.prototype._shouldShowCurrentLine=function(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._primaryCursorIsInEditableRange},t}(n.DynamicViewOverlay);t.CurrentLineMarginHighlightOverlay=o,i.registerThemingParticipant(function(e,t){var n=e.getColor(r.editorLineHighlight);if(n)t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { background-color: "+n+"; border: none; }");else{var i=e.getColor(r.editorLineHighlightBorder);i&&t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid "+i+"; }"),"hc"===e.type&&t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")}})}),define(u[885],d([1,0,177,13,111,9,1111]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t){var n=e.call(this)||this;return n._context=t,n._lineHeight=n._context.configuration.editor.lineHeight,n._spaceWidth=n._context.configuration.editor.fontInfo.spaceWidth,n._enabled=n._context.configuration.editor.viewInfo.renderIndentGuides,n._renderResult=null,n._context.addEventHandler(n),n}return h(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null,e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.fontInfo&&(this._spaceWidth=this._context.configuration.editor.fontInfo.spaceWidth),e.viewInfo&&(this._enabled=this._context.configuration.editor.viewInfo.renderIndentGuides),!0},t.prototype.onFlushed=function(e){return!0},t.prototype.onLinesChanged=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged},t.prototype.onZonesChanged=function(e){return!0},t.prototype.prepareRender=function(e){if(this._enabled){for(var t=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,i=this._context.model.getTabSize()*this._spaceWidth,r=this._lineHeight,s=o.computeScreenAwareSize(1),a=[],c=t;c<=n;c++){for(var l=c-t,u=this._context.model.getLineIndentGuide(c),d="",h=0,p=0;p<u;p++)d+='<div class="cigr" style="left:'+h+"px;height:"+r+"px;width:"+s+'px"></div>',h+=i;a[l]=d}this._renderResult=a}else this._renderResult=null},t.prototype.render=function(e,t){if(!this._renderResult)return"";var n=t-e;if(n<0||n>=this._renderResult.length)throw new Error("Unexpected render request");return this._renderResult[n]},t}(n.DynamicViewOverlay);t.IndentGuidesOverlay=s,i.registerThemingParticipant(function(e,t){var n=e.getColor(r.editorIndentGuides);n&&t.addRule(".monaco-editor .lines-content .cigr { background-color: "+n+"; }")})}),define(u[442],d([1,0,111,13,11,177,37,1110]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t){var n=e.call(this)||this;return n._context=t,n._readConfig(),n._lastCursorModelPosition=new s.Position(1,1),n._renderResult=null,n._context.addEventHandler(n),n}return h(t,e),t.prototype._readConfig=function(){var e=this._context.configuration.editor;this._lineHeight=e.lineHeight,this._renderLineNumbers=e.viewInfo.renderLineNumbers,this._renderCustomLineNumbers=e.viewInfo.renderCustomLineNumbers,this._renderRelativeLineNumbers=e.viewInfo.renderRelativeLineNumbers,this._lineNumbersLeft=e.layoutInfo.lineNumbersLeft,this._lineNumbersWidth=e.layoutInfo.lineNumbersWidth},t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null,e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){return this._readConfig(),!0},t.prototype.onCursorStateChanged=function(e){var t=e.selections[0].getPosition();return this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(t),!!this._renderRelativeLineNumbers},t.prototype.onFlushed=function(e){return!0},t.prototype.onLinesChanged=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged},t.prototype.onZonesChanged=function(e){return!0},t.prototype._getLineRenderLineNumber=function(e){var t=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new s.Position(e,1));if(1!==t.column)return"";var n=t.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(n);if(this._renderRelativeLineNumbers){var i=Math.abs(this._lastCursorModelPosition.lineNumber-n);return 0===i?'<span class="relative-current-line-number">'+n+"</span>":String(i)}return String(n)},t.prototype.prepareRender=function(e){if(this._renderLineNumbers){for(var n=r.isLinux?this._lineHeight%2==0?" lh-even":" lh-odd":"",i=e.visibleRange.startLineNumber,o=e.visibleRange.endLineNumber,s='<div class="'+t.CLASS_NAME+n+'" style="left:'+this._lineNumbersLeft.toString()+"px;width:"+this._lineNumbersWidth.toString()+'px;">',a=[],c=i;c<=o;c++){var l=c-i,u=this._getLineRenderLineNumber(c);a[l]=u?s+u+"</div>":""}this._renderResult=a}else this._renderResult=null},t.prototype.render=function(e,t){if(!this._renderResult)return"";var n=t-e;if(n<0||n>=this._renderResult.length)throw new Error("Unexpected render request");return this._renderResult[n]},t}(o.DynamicViewOverlay);a.CLASS_NAME="line-numbers",t.LineNumbersOverlay=a,i.registerThemingParticipant(function(e,t){var i=e.getColor(n.editorLineNumbers);i&&t.addRule(".monaco-editor .line-numbers { color: "+i+"; }")})}),define(u[887],d([1,0,11,66,403,402,14,53,37,158,152,75,101,340,442,1124]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g){"use strict";function v(e,t){var n=document.createElement("canvas").getContext("2d");n.font=m(t);var r=n.measureText(e);return i.isFirefox?r.width+2:r.width}function m(e){return y("normal",e.fontWeight,e.fontSize,e.lineHeight,e.fontFamily)}function y(e,t,n,i,r){return e+" normal "+t+" "+n+"px / "+i+"px "+r}Object.defineProperty(t,"__esModule",{value:!0});var b=function(){function e(e,t,n){this.top=e,this.left=t,this.width=n}return e.prototype.setWidth=function(t){return new e(this.top,this.left,t)},e}(),S=i.isEdgeOrIE||i.isFirefox,_=function(e){function t(t,n,c){var l=e.call(this,t)||this;l._primaryCursorVisibleRange=null,l._viewController=n,l._viewHelper=c;var h=l._context.configuration.editor;l._pixelRatio=h.pixelRatio,l._accessibilitySupport=h.accessibilitySupport,l._contentLeft=h.layoutInfo.contentLeft,l._contentWidth=h.layoutInfo.contentWidth,l._contentHeight=h.layoutInfo.contentHeight,l._scrollLeft=0,l._scrollTop=0,l._fontInfo=h.fontInfo,l._lineHeight=h.lineHeight,l._emptySelectionClipboard=h.emptySelectionClipboard,l._visibleTextArea=null,l._selections=[new a.Selection(1,1,1,1)],l._lastCopiedValue=null,l._lastCopiedValueIsFromEmptySelection=!1,l.textArea=d.createFastDomNode(document.createElement("textarea")),p.PartFingerprints.write(l.textArea,6),l.textArea.setClassName("inputarea"),l.textArea.setAttribute("wrap","off"),l.textArea.setAttribute("autocorrect","off"),l.textArea.setAttribute("autocapitalize","off"),l.textArea.setAttribute("autocomplete","off"),l.textArea.setAttribute("spellcheck","false"),l.textArea.setAttribute("aria-label",h.viewInfo.ariaLabel),l.textArea.setAttribute("role","textbox"),l.textArea.setAttribute("aria-multiline","true"),l.textArea.setAttribute("aria-haspopup","false"),l.textArea.setAttribute("aria-autocomplete","both"),l.textAreaCover=d.createFastDomNode(document.createElement("div")),l.textAreaCover.setPosition("absolute");var f={getLineCount:function(){return l._context.model.getLineCount()},getLineMaxColumn:function(e){return l._context.model.getLineMaxColumn(e)},getValueInRange:function(e,t){return l._context.model.getValueInRange(e,t)}},g={getPlainTextToCopy:function(){var e=l._context.model.getPlainTextToCopy(l._selections,l._emptySelectionClipboard);if(l._emptySelectionClipboard){i.isFirefox?l._lastCopiedValue=e.replace(/\r\n/g,"\n"):l._lastCopiedValue=e;var t=l._selections;l._lastCopiedValueIsFromEmptySelection=1===t.length&&t[0].isEmpty()}return e},getHTMLToCopy:function(){return l._context.model.getHTMLToCopy(l._selections,l._emptySelectionClipboard)},getScreenReaderContent:function(e){return i.isIPad?o.TextAreaState.EMPTY:1===l._accessibilitySupport?o.TextAreaState.EMPTY:o.PagedScreenReaderStrategy.fromEditorSelection(e,f,l._selections[0])}};return l._textAreaInput=l._register(new r.TextAreaInput(g,l.textArea)),l._register(l._textAreaInput.onKeyDown(function(e){l._viewController.emitKeyDown(e)})),l._register(l._textAreaInput.onKeyUp(function(e){l._viewController.emitKeyUp(e)})),l._register(l._textAreaInput.onPaste(function(e){var t=!1;l._emptySelectionClipboard&&(t=e.text===l._lastCopiedValue&&l._lastCopiedValueIsFromEmptySelection),l._viewController.paste("keyboard",e.text,t)})),l._register(l._textAreaInput.onCut(function(){l._viewController.cut("keyboard")})),l._register(l._textAreaInput.onType(function(e){e.replaceCharCnt?l._viewController.replacePreviousChar("keyboard",e.text,e.replaceCharCnt):l._viewController.type("keyboard",e.text)})),l._register(l._textAreaInput.onCompositionStart(function(){var e=l._selections[0].startLineNumber,t=l._selections[0].startColumn;l._context.privateViewEventBus.emit(new u.ViewRevealRangeRequestEvent(new s.Range(e,t,e,t),0,!0));var n=l._viewHelper.visibleRangeForPositionRelativeToEditor(e,t);n&&(l._visibleTextArea=new b(l._context.viewLayout.getVerticalOffsetForLineNumber(e),n.left,S?0:1),l._render()),l.textArea.setClassName("inputarea ime-input"),l._viewController.compositionStart("keyboard")})),l._register(l._textAreaInput.onCompositionUpdate(function(e){i.isEdgeOrIE?l._visibleTextArea=l._visibleTextArea.setWidth(0):l._visibleTextArea=l._visibleTextArea.setWidth(v(e.data,l._fontInfo)),l._render()})),l._register(l._textAreaInput.onCompositionEnd(function(){l._visibleTextArea=null,l._render(),l.textArea.setClassName("inputarea"),l._viewController.compositionEnd("keyboard")})),l._register(l._textAreaInput.onFocus(function(){l._context.privateViewEventBus.emit(new u.ViewFocusChangedEvent(!0))})),l._register(l._textAreaInput.onBlur(function(){l._context.privateViewEventBus.emit(new u.ViewFocusChangedEvent(!1))})),l}return h(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.editor;return e.fontInfo&&(this._fontInfo=t.fontInfo),e.viewInfo&&this.textArea.setAttribute("aria-label",t.viewInfo.ariaLabel),e.layoutInfo&&(this._contentLeft=t.layoutInfo.contentLeft,this._contentWidth=t.layoutInfo.contentWidth,this._contentHeight=t.layoutInfo.contentHeight),e.lineHeight&&(this._lineHeight=t.lineHeight),e.pixelRatio&&(this._pixelRatio=t.pixelRatio),e.accessibilitySupport&&(this._accessibilitySupport=t.accessibilitySupport,this._textAreaInput.writeScreenReaderContent("strategy changed")),e.emptySelectionClipboard&&(this._emptySelectionClipboard=t.emptySelectionClipboard),!0},t.prototype.onCursorStateChanged=function(e){return this._selections=e.selections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0},t.prototype.onDecorationsChanged=function(e){return!0},t.prototype.onFlushed=function(e){return!0},t.prototype.onLinesChanged=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0},t.prototype.onZonesChanged=function(e){return!0},t.prototype.isFocused=function(){return this._textAreaInput.isFocused()},t.prototype.focusTextArea=function(){this._textAreaInput.focusTextArea()},t.prototype.setAriaActiveDescendant=function(e){e?(this.textArea.setAttribute("role","combobox"),this.textArea.getAttribute("aria-activedescendant")!==e&&(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-activedescendant",e))):(this.textArea.setAttribute("role","textbox"),this.textArea.removeAttribute("aria-activedescendant"),this.textArea.removeAttribute("aria-haspopup"))},t.prototype.prepareRender=function(e){if(2===this._accessibilitySupport)this._primaryCursorVisibleRange=null;else{var t=new c.Position(this._selections[0].positionLineNumber,this._selections[0].positionColumn);this._primaryCursorVisibleRange=e.visibleRangeForPosition(t)}},t.prototype.render=function(e){this._textAreaInput.writeScreenReaderContent("render"),this._render()},t.prototype._render=function(){if(this._visibleTextArea)this._renderInsideEditor(this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight,!0);else if(this._primaryCursorVisibleRange){var e=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(e<this._contentLeft||e>this._contentLeft+this._contentWidth)this._renderAtTopLeft();else{var t=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;t<0||t>this._contentHeight?this._renderAtTopLeft():this._renderInsideEditor(t,e,S?0:1,S?0:1,!1)}}else this._renderAtTopLeft()},t.prototype._renderInsideEditor=function(e,t,n,i,r){var o=this.textArea,s=this.textAreaCover;r?l.Configuration.applyFontInfo(o,this._fontInfo):(o.setFontSize(1),o.setLineHeight(this._fontInfo.lineHeight)),o.setTop(e),o.setLeft(t),o.setWidth(n),o.setHeight(i),s.setTop(0),s.setLeft(0),s.setWidth(0),s.setHeight(0)},t.prototype._renderAtTopLeft=function(){var e=this.textArea,t=this.textAreaCover;if(l.Configuration.applyFontInfo(e,this._fontInfo),e.setTop(0),e.setLeft(0),t.setTop(0),t.setLeft(0),S)return e.setWidth(0),e.setHeight(0),t.setWidth(0),void t.setHeight(0);e.setWidth(1),e.setHeight(1),t.setWidth(1),t.setHeight(1),this._context.configuration.editor.viewInfo.glyphMargin?t.setClassName("monaco-editor-background textAreaCover "+f.Margin.CLASS_NAME):this._context.configuration.editor.viewInfo.renderLineNumbers?t.setClassName("monaco-editor-background textAreaCover "+g.LineNumbersOverlay.CLASS_NAME):t.setClassName("monaco-editor-background textAreaCover")},t}(p.ViewPart);t.TextAreaHandler=_}),define(u[888],d([1,0,75,101,13,111,9,1082]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t){var i=e.call(this,t)||this;return i.domNode=n.createFastDomNode(document.createElement("div")),i.domNode.setAttribute("role","presentation"),i.domNode.setAttribute("aria-hidden","true"),i.domNode.setClassName("view-rulers"),i._renderedRulers=[],i._rulers=i._context.configuration.editor.viewInfo.rulers,i._height=i._context.configuration.editor.layoutInfo.contentHeight,i._typicalHalfwidthCharacterWidth=i._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,i}return h(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){return!!(e.viewInfo||e.layoutInfo||e.fontInfo)&&(this._rulers=this._context.configuration.editor.viewInfo.rulers,this._height=this._context.configuration.editor.layoutInfo.contentHeight,this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,!0)},t.prototype.onScrollChanged=function(e){return e.scrollHeightChanged},t.prototype.prepareRender=function(e){},t.prototype._ensureRulersCount=function(){var e=this._renderedRulers.length,t=this._rulers.length;if(e!==t)if(e<t)for(var i=s.computeScreenAwareSize(1),r=t-e;r>0;)(a=n.createFastDomNode(document.createElement("div"))).setClassName("view-ruler"),a.setWidth(i),this.domNode.appendChild(a),this._renderedRulers.push(a),r--;else for(var o=e-t;o>0;){var a=this._renderedRulers.pop();this.domNode.removeChild(a),o--}},t.prototype.render=function(e){this._ensureRulersCount();for(var t=0,n=this._rulers.length;t<n;t++){var i=this._renderedRulers[t];i.setHeight(Math.min(e.scrollHeight,1e6)),i.setLeft(this._rulers[t]*this._typicalHalfwidthCharacterWidth)}},t}(i.ViewPart);t.Rulers=a,r.registerThemingParticipant(function(e,t){var n=e.getColor(o.editorRuler);n&&t.addRule(".monaco-editor .view-ruler { background-color: "+n+"; }")})}),define(u[889],d([1,0,101,824,75,18,13,111,124,1076]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(t){var n=e.call(this,t)||this;return n._readOnly=n._context.configuration.editor.readOnly,n._cursorBlinking=n._context.configuration.editor.viewInfo.cursorBlinking,n._cursorStyle=n._context.configuration.editor.viewInfo.cursorStyle,n._selectionIsEmpty=!0,n._primaryCursor=new i.ViewCursor(n._context,!1),n._secondaryCursors=[],n._renderData=[],n._domNode=r.createFastDomNode(document.createElement("div")),n._domNode.setAttribute("role","presentation"),n._domNode.setAttribute("aria-hidden","true"),n._updateDomClassName(),n._domNode.appendChild(n._primaryCursor.getDomNode()),n._startCursorBlinkAnimation=new o.TimeoutTimer,n._cursorFlatBlinkInterval=new o.IntervalTimer,n._blinkingEnabled=!1,n._editorHasFocus=!1,n._updateBlinking(),n}return h(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()},t.prototype.getDomNode=function(){return this._domNode},t.prototype.onConfigurationChanged=function(e){e.readOnly&&(this._readOnly=this._context.configuration.editor.readOnly),e.viewInfo&&(this._cursorBlinking=this._context.configuration.editor.viewInfo.cursorBlinking,this._cursorStyle=this._context.configuration.editor.viewInfo.cursorStyle),this._primaryCursor.onConfigurationChanged(e),this._updateBlinking(),e.viewInfo&&this._updateDomClassName();for(var t=0,n=this._secondaryCursors.length;t<n;t++)this._secondaryCursors[t].onConfigurationChanged(e);return!0},t.prototype._onCursorPositionChanged=function(e,t,n){if(this._primaryCursor.onCursorPositionChanged(e,n),this._updateBlinking(),this._secondaryCursors.length<t.length)for(var r=t.length-this._secondaryCursors.length,o=0;o<r;o++){var s=new i.ViewCursor(this._context,!0);this._domNode.domNode.insertBefore(s.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(s)}else if(this._secondaryCursors.length>t.length)for(var a=this._secondaryCursors.length-t.length,o=0;o<a;o++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1);for(o=0;o<t.length;o++)this._secondaryCursors[o].onCursorPositionChanged(t[o],n)},t.prototype.onCursorStateChanged=function(e){for(var t=[],n=0,i=e.selections.length;n<i;n++)t[n]=e.selections[n].getPosition();this._onCursorPositionChanged(t[0],t.slice(1),e.isInEditableRange);var r=e.selections[0].isEmpty();return this._selectionIsEmpty!==r&&(this._selectionIsEmpty=r,this._updateDomClassName()),!0},t.prototype.onDecorationsChanged=function(e){return!0},t.prototype.onFlushed=function(e){return!0},t.prototype.onFocusChanged=function(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1},t.prototype.onLinesChanged=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return!0},t.prototype.onTokensChanged=function(e){var t=function(t){for(var n=0,i=e.ranges.length;n<i;n++)if(e.ranges[n].fromLineNumber<=t.lineNumber&&t.lineNumber<=e.ranges[n].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(var n=0;n<this._secondaryCursors.length;n++)if(t(this._secondaryCursors[n].getPosition()))return!0;return!1},t.prototype.onZonesChanged=function(e){return!0},t.prototype.getPosition=function(){return this._primaryCursor.getPosition()},t.prototype._getCursorBlinking=function(){return this._editorHasFocus?this._readOnly||!this._primaryCursor.getIsInEditableRange()?c.TextEditorCursorBlinkingStyle.Solid:this._cursorBlinking:c.TextEditorCursorBlinkingStyle.Hidden},t.prototype._updateBlinking=function(){var e=this;this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();var n=this._getCursorBlinking(),i=n===c.TextEditorCursorBlinkingStyle.Hidden,r=n===c.TextEditorCursorBlinkingStyle.Solid;i?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),i||r||(n===c.TextEditorCursorBlinkingStyle.Blink?this._cursorFlatBlinkInterval.cancelAndSet(function(){e._isVisible?e._hide():e._show()},t.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(function(){e._blinkingEnabled=!0,e._updateDomClassName()},t.BLINK_INTERVAL))},t.prototype._updateDomClassName=function(){this._domNode.setClassName(this._getClassName())},t.prototype._getClassName=function(){var e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case c.TextEditorCursorStyle.Line:e+=" cursor-line-style";break;case c.TextEditorCursorStyle.Block:e+=" cursor-block-style";break;case c.TextEditorCursorStyle.Underline:e+=" cursor-underline-style";break;case c.TextEditorCursorStyle.LineThin:e+=" cursor-line-thin-style";break;case c.TextEditorCursorStyle.BlockOutline:e+=" cursor-block-outline-style";break;case c.TextEditorCursorStyle.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case c.TextEditorCursorBlinkingStyle.Blink:e+=" cursor-blink";break;case c.TextEditorCursorBlinkingStyle.Smooth:e+=" cursor-smooth";break;case c.TextEditorCursorBlinkingStyle.Phase:e+=" cursor-phase";break;case c.TextEditorCursorBlinkingStyle.Expand:e+=" cursor-expand";break;case c.TextEditorCursorBlinkingStyle.Solid:e+=" cursor-solid";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return e},t.prototype._show=function(){this._primaryCursor.show();for(var e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].show();this._isVisible=!0},t.prototype._hide=function(){this._primaryCursor.hide();for(var e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].hide();this._isVisible=!1},t.prototype.prepareRender=function(e){this._primaryCursor.prepareRender(e);for(var t=0,n=this._secondaryCursors.length;t<n;t++)this._secondaryCursors[t].prepareRender(e)},t.prototype.render=function(e){this._renderData=[],this._renderData.push(this._primaryCursor.render(e));for(var t=0,n=this._secondaryCursors.length;t<n;t++)this._renderData.push(this._secondaryCursors[t].render(e));this._renderData=this._renderData.filter(function(e){return!!e})},t.prototype.getLastRenderData=function(){return this._renderData},t}(n.ViewPart);l.BLINK_INTERVAL=500,t.ViewCursors=l,s.registerThemingParticipant(function(e,t){var n=e.getColor(a.editorCursor);if(n){var i=n.opposite();t.addRule(".monaco-editor .cursor { background-color: "+n+"; border-color: "+n+"; color: "+i+"; }"),"hc"===e.type&&t.addRule(".monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid "+i+"; border-right: 1px solid "+i+"; }")}})}),define(u[890],d([1,0,776,5,9,75,279,250,158,37,13,29,127,111,49,21,25,17,56,1069]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,y,b,S){"use strict";function _(e){for(var t=e.get(S.ICodeEditorService).listDiffEditors(),n=0,i=t.length;n<i;n++){var r=t[n];if(r.hasWidgetFocus())return r}return null}Object.defineProperty(t,"__esModule",{value:!0});var E;!function(e){e[e.Equal=0]="Equal",e[e.Insert=1]="Insert",e[e.Delete=2]="Delete"}(E||(E={}));var C=function(){function e(e,t,n,i){this.originalLineStart=e,this.originalLineEnd=t,this.modifiedLineStart=n,this.modifiedLineEnd=i}return e.prototype.getType=function(){return 0===this.originalLineStart?1:0===this.modifiedLineStart?2:0},e}(),w=function(){return function(e){this.entries=e}}(),I=function(e){function t(t){var i=e.call(this)||this;return i._width=0,i._diffEditor=t,i._isVisible=!1,i.shadow=o.createFastDomNode(document.createElement("div")),i.shadow.setClassName("diff-review-shadow"),i.actionBarContainer=o.createFastDomNode(document.createElement("div")),i.actionBarContainer.setClassName("diff-review-actions"),i._actionBar=i._register(new g.ActionBar(i.actionBarContainer.domNode)),i._actionBar.push(new m.Action("diffreview.close",n.localize(0,null),"close-diff-review",!0,function(){return i.hide(),null}),{label:!1,icon:!0}),i.domNode=o.createFastDomNode(document.createElement("div")),i.domNode.setClassName("diff-review monaco-editor-background"),i._content=o.createFastDomNode(document.createElement("div")),i._content.setClassName("diff-review-content"),i.scrollbar=i._register(new p.DomScrollableElement(i._content.domNode,{})),i.domNode.domNode.appendChild(i.scrollbar.getDomNode()),i._register(t.onDidUpdateDiff(function(){i._isVisible&&(i._diffs=i._compute(),i._render())})),i._register(t.getModifiedEditor().onDidChangeCursorPosition(function(){i._isVisible&&i._render()})),i._register(t.getOriginalEditor().onDidFocusEditor(function(){i._isVisible&&i.hide()})),i._register(t.getModifiedEditor().onDidFocusEditor(function(){i._isVisible&&i.hide()})),i._register(r.addStandardDisposableListener(i.domNode.domNode,"click",function(e){e.preventDefault();var t=r.findParentWithClass(e.target,"diff-review-row");t&&i._goToRow(t)})),i._register(r.addStandardDisposableListener(i.domNode.domNode,"keydown",function(e){(e.equals(18)||e.equals(2066)||e.equals(530))&&(e.preventDefault(),i._goToRow(i._getNextRow())),(e.equals(16)||e.equals(2064)||e.equals(528))&&(e.preventDefault(),i._goToRow(i._getPrevRow())),(e.equals(9)||e.equals(2057)||e.equals(521)||e.equals(1033))&&(e.preventDefault(),i.hide()),(e.equals(10)||e.equals(3))&&(e.preventDefault(),i.accept())})),i._diffs=[],i._currentDiff=null,i}return h(t,e),t.prototype.prev=function(){var e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){for(var t=-1,n=0,i=this._diffs.length;n<i;n++)if(this._diffs[n]===this._currentDiff){t=n;break}e=this._diffs.length+t-1}else e=this._findDiffIndex(this._diffEditor.getPosition());0!==this._diffs.length&&(e%=this._diffs.length,this._diffEditor.setPosition(new l.Position(this._diffs[e].entries[0].modifiedLineStart,1)),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow()))},t.prototype.next=function(){var e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){for(var t=-1,n=0,i=this._diffs.length;n<i;n++)if(this._diffs[n]===this._currentDiff){t=n;break}e=t+1}else e=this._findDiffIndex(this._diffEditor.getPosition());0!==this._diffs.length&&(e%=this._diffs.length,this._diffEditor.setPosition(new l.Position(this._diffs[e].entries[0].modifiedLineStart,1)),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow()))},t.prototype.accept=function(){var e=-1,t=this._getCurrentFocusedRow();if(t){var n=parseInt(t.getAttribute("data-line"),10);isNaN(n)||(e=n)}this.hide(),-1!==e&&(this._diffEditor.setPosition(new l.Position(e,1)),this._diffEditor.revealPosition(new l.Position(e,1)))},t.prototype.hide=function(){this._isVisible=!1,this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()},t.prototype._getPrevRow=function(){var e=this._getCurrentFocusedRow();return e?e.previousElementSibling?e.previousElementSibling:e:this._getFirstRow()},t.prototype._getNextRow=function(){var e=this._getCurrentFocusedRow();return e?e.nextElementSibling?e.nextElementSibling:e:this._getFirstRow()},t.prototype._getFirstRow=function(){return this.domNode.domNode.querySelector(".diff-review-row")},t.prototype._getCurrentFocusedRow=function(){var e=document.activeElement;return e&&/diff-review-row/.test(e.className)?e:null},t.prototype._goToRow=function(e){var t=this._getCurrentFocusedRow();e.tabIndex=0,e.focus(),t&&t!==e&&(t.tabIndex=-1),this.scrollbar.scanDomNode()},t.prototype.isVisible=function(){return this._isVisible},t.prototype.layout=function(e,t,n){this._width=t,this.shadow.setTop(e-6),this.shadow.setWidth(t),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(e),this.domNode.setWidth(t),this.domNode.setHeight(n),this._content.setHeight(n),this._content.setWidth(t),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))},t.prototype._compute=function(){var e=this._diffEditor.getLineChanges();if(!e||0===e.length)return[];var n=this._diffEditor.getOriginalEditor().getModel(),i=this._diffEditor.getModifiedEditor().getModel();return n&&i?t._mergeAdjacent(e,n.getLineCount(),i.getLineCount()):[]},t._mergeAdjacent=function(e,t,n){if(!e||0===e.length)return[];for(var i=[],r=0,o=0,s=e.length;o<s;o++){var a=e[o],c=a.originalStartLineNumber,l=a.originalEndLineNumber,u=a.modifiedStartLineNumber,d=a.modifiedEndLineNumber,h=[],p=0,f=0===l?c:c-1,g=0===d?u:u-1,v=1,m=1;if(o>0){var y=e[o-1];v=0===y.originalEndLineNumber?y.originalStartLineNumber+1:y.originalEndLineNumber+1,m=0===y.modifiedEndLineNumber?y.modifiedStartLineNumber+1:y.modifiedEndLineNumber+1}var b=f-3+1,S=g-3+1;b<v&&(b+=L=v-b,S+=L),S<m&&(b+=L=m-S,S+=L),h[p++]=new C(b,f,S,g),0!==l&&(h[p++]=new C(c,l,0,0)),0!==d&&(h[p++]=new C(0,0,u,d));var _=0===l?c+1:l+1,E=0===d?u+1:d+1,I=t,T=n;if(o+1<s){var k=e[o+1];I=0===k.originalEndLineNumber?k.originalStartLineNumber:k.originalStartLineNumber-1,T=0===k.modifiedEndLineNumber?k.modifiedStartLineNumber:k.modifiedStartLineNumber-1}var x=_+3-1,A=E+3-1;if(x>I&&(x+=L=I-x,A+=L),A>T){var L=T-A;x+=L,A+=L}h[p++]=new C(_,x,E,A),i[r++]=new w(h)}for(var P=i[0].entries,D=[],O=0,o=1,s=i.length;o<s;o++){var R=i[o].entries,M=P[P.length-1],N=R[0];0===M.getType()&&0===N.getType()&&N.originalLineStart<=M.originalLineEnd?(P[P.length-1]=new C(M.originalLineStart,N.originalLineEnd,M.modifiedLineStart,N.modifiedLineEnd),P=P.concat(R.slice(1))):(D[O++]=new w(P),P=R)}return D[O++]=new w(P),D},t.prototype._findDiffIndex=function(e){for(var t=e.lineNumber,n=0,i=this._diffs.length;n<i;n++){var r=this._diffs[n].entries;if(t<=r[r.length-1].modifiedLineEnd)return n}return 0},t.prototype._render=function(){var e=this._diffEditor.getOriginalEditor().getConfiguration(),i=this._diffEditor.getModifiedEditor().getConfiguration(),o=this._diffEditor.getOriginalEditor().getModel(),s=this._diffEditor.getModifiedEditor().getModel(),a=o.getOptions(),l=s.getOptions();if(!this._isVisible||!o||!s)return r.clearNode(this._content.domNode),this._currentDiff=null,void this.scrollbar.scanDomNode();var u=this._diffEditor.getPosition(),d=this._findDiffIndex(u);if(this._diffs[d]!==this._currentDiff){this._currentDiff=this._diffs[d];var h=this._diffs[d].entries,p=document.createElement("div");p.className="diff-review-table",p.setAttribute("role","list"),c.Configuration.applyFontInfoSlow(p,i.fontInfo);for(var f=0,g=0,v=0,m=0,y=0,b=h.length;y<b;y++){var S=(k=h[y]).originalLineStart,_=k.originalLineEnd,E=k.modifiedLineStart,C=k.modifiedLineEnd;0!==S&&(0===f||S<f)&&(f=S),0!==_&&(0===g||_>g)&&(g=_),0!==E&&(0===v||E<v)&&(v=E),0!==C&&(0===m||C>m)&&(m=C)}var w=document.createElement("div");w.className="diff-review-row";var I=document.createElement("div");I.className="diff-review-cell diff-review-summary",I.appendChild(document.createTextNode(d+1+"/"+this._diffs.length+": @@ -"+f+","+(g-f+1)+" +"+v+","+(m-v+1)+" @@")),w.setAttribute("data-line",String(v)),w.setAttribute("aria-label",n.localize(1,null,d+1,this._diffs.length,f,g-f+1,v,m-v+1)),w.appendChild(I),w.setAttribute("role","listitem"),p.appendChild(w);for(var T=v,y=0,b=h.length;y<b;y++){var k=h[y];t._renderSection(p,k,T,this._width,e,o,a,i,s,l),0!==k.modifiedLineStart&&(T=k.modifiedLineEnd)}r.clearNode(this._content.domNode),this._content.domNode.appendChild(p),this.scrollbar.scanDomNode()}},t._renderSection=function(e,t,i,r,o,s,a,c,l,u){var d=t.getType(),h="diff-review-row",p="",f="diff-review-spacer";switch(d){case 1:h="diff-review-row line-insert",p=" char-insert",f="diff-review-spacer insert-sign";break;case 2:h="diff-review-row line-delete",p=" char-delete",f="diff-review-spacer delete-sign"}for(var g=t.originalLineStart,v=t.originalLineEnd,m=t.modifiedLineStart,y=t.modifiedLineEnd,b=Math.max(y-m,v-g),S=o.layoutInfo.glyphMarginWidth+o.layoutInfo.lineNumbersWidth,_=10+c.layoutInfo.glyphMarginWidth+c.layoutInfo.lineNumbersWidth,E=0;E<=b;E++){var C=0===g?0:g+E,w=0===m?0:m+E,I=document.createElement("div");I.style.minWidth=r+"px",I.className=h,I.setAttribute("role","listitem"),0!==w&&(i=w),I.setAttribute("data-line",String(i));var T=document.createElement("div");T.className="diff-review-cell",I.appendChild(T);var k=document.createElement("span");k.style.width=S+"px",k.style.minWidth=S+"px",k.className="diff-review-line-number"+p,0!==C?k.appendChild(document.createTextNode(String(C))):k.innerHTML="&nbsp;",T.appendChild(k);var x=document.createElement("span");x.style.width=_+"px",x.style.minWidth=_+"px",x.style.paddingRight="10px",x.className="diff-review-line-number"+p,0!==w?x.appendChild(document.createTextNode(String(w))):x.innerHTML="&nbsp;",T.appendChild(x);var A=document.createElement("span");A.className=f,A.innerHTML="&nbsp;&nbsp;",T.appendChild(A);var L=void 0;0!==w?(T.insertAdjacentHTML("beforeend",this._renderLine(l,c,u.tabSize,w)),L=l.getLineContent(w)):(T.insertAdjacentHTML("beforeend",this._renderLine(s,o,a.tabSize,C)),L=s.getLineContent(C)),0===L.length&&(L=n.localize(2,null));var P=void 0;switch(d){case 0:P=n.localize(3,null,C,w,L);break;case 1:P=n.localize(4,null,w,L);break;case 2:P=n.localize(5,null,C,L)}I.setAttribute("aria-label",P),e.appendChild(I)}},t._renderLine=function(e,t,n,i){var r=e.getLineContent(i);return s.renderViewLine(new s.RenderLineInput(t.fontInfo.isMonospace&&!t.viewInfo.disableMonospaceOptimizations,r,e.mightContainRTL(),0,[new a.ViewLineToken(r.length,16793600)],[],n,t.fontInfo.spaceWidth,t.viewInfo.stopRenderingLineAfter,t.viewInfo.renderWhitespace,t.viewInfo.renderControlCharacters,t.viewInfo.fontLigatures)).html},t}(i.Disposable);t.DiffReview=I,u.registerThemingParticipant(function(e,t){var n=e.getColor(f.editorLineNumbers);n&&t.addRule(".monaco-diff-editor .diff-review-line-number { color: "+n+"; }");var i=e.getColor(d.scrollbarShadow);i&&t.addRule(".monaco-diff-editor .diff-review-shadow { box-shadow: "+i+" 0 -6px 6px -6px inset; }")});var T=function(e){function t(){return e.call(this,{id:"editor.action.diffReview.next",label:n.localize(6,null),alias:"Go to Next Difference",precondition:b.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65}})||this}return h(t,e),t.prototype.run=function(e,t){var n=_(e);n&&n.diffReviewNext()},t}(y.EditorAction);T=v([y.editorAction],T);var k=function(e){function t(){return e.call(this,{id:"editor.action.diffReview.prev",label:n.localize(7,null),alias:"Go to Previous Difference",precondition:b.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089}})||this}return h(t,e),t.prototype.run=function(e,t){var n=_(e);n&&n.diffReviewPrev()},t}(y.EditorAction);k=v([y.editorAction],k)}),define(u[270],d([1,0,13]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){return function(e,t,n,i){this.from=0|e,this.to=0|t,this.colorId=0|n,this.position=0|i}}();t.ColorZone=i;var r=function(){function e(e,t,n,i,r,o,s){this.startLineNumber=e,this.endLineNumber=t,this.position=n,this.forceHeight=i,this._color=r,this._darkColor=o,this._hcColor=s,this._colorZones=null}return e.prototype.getColor=function(e){switch(e){case n.HIGH_CONTRAST:return this._hcColor;case n.DARK:return this._darkColor}return this._color},e.prototype.equals=function(e){return this.startLineNumber===e.startLineNumber&&this.endLineNumber===e.endLineNumber&&this.position===e.position&&this.forceHeight===e.forceHeight&&this._color===e._color&&this._darkColor===e._darkColor&&this._hcColor===e._hcColor},e.prototype.compareTo=function(e){return this.startLineNumber===e.startLineNumber?this.endLineNumber===e.endLineNumber?this.forceHeight===e.forceHeight?this.position===e.position?this._darkColor===e._darkColor?this._color===e._color?this._hcColor===e._hcColor?0:this._hcColor<e._hcColor?-1:1:this._color<e._color?-1:1:this._darkColor<e._darkColor?-1:1:this.position-e.position:this.forceHeight-e.forceHeight:this.endLineNumber-e.endLineNumber:this.startLineNumber-e.startLineNumber},e.prototype.setColorZones=function(e){this._colorZones=e},e.prototype.getColorZones=function(){return this._colorZones},e}();t.OverviewRulerZone=r;var o=function(){function e(e){this._getVerticalOffsetForLine=e,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._maximumHeight=0,this._minimumHeight=0,this._themeType=n.LIGHT,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}return e.prototype.getId2Color=function(){return this._id2Color},e.prototype.setZones=function(e){e.sort(function(e,t){return e.compareTo(t)});for(var t=this._zones,n=0,i=this._zones.length,r=0,o=e.length,s=[];r<o;){var a=e[r];if(n>=i)s.push(a),r++;else{var c=t[n],l=c.compareTo(a);l<0?n++:l>0?(s.push(a),r++):(s.push(c),n++,r++)}}this._zones=s},e.prototype.setLineHeight=function(e){return this._lineHeight!==e&&(this._lineHeight=e,this._colorZonesInvalid=!0,!0)},e.prototype.setPixelRatio=function(e){this._pixelRatio=e,this._colorZonesInvalid=!0},e.prototype.getDOMWidth=function(){return this._domWidth},e.prototype.getCanvasWidth=function(){return this._domWidth*this._pixelRatio},e.prototype.setDOMWidth=function(e){return this._domWidth!==e&&(this._domWidth=e,this._colorZonesInvalid=!0,!0)},e.prototype.getDOMHeight=function(){return this._domHeight},e.prototype.getCanvasHeight=function(){return this._domHeight*this._pixelRatio},e.prototype.setDOMHeight=function(e){return this._domHeight!==e&&(this._domHeight=e,this._colorZonesInvalid=!0,!0)},e.prototype.getOuterHeight=function(){return this._outerHeight},e.prototype.setOuterHeight=function(e){return this._outerHeight!==e&&(this._outerHeight=e,this._colorZonesInvalid=!0,!0)},e.prototype.setMaximumHeight=function(e){return this._maximumHeight!==e&&(this._maximumHeight=e,this._colorZonesInvalid=!0,!0)},e.prototype.setMinimumHeight=function(e){return this._minimumHeight!==e&&(this._minimumHeight=e,this._colorZonesInvalid=!0,!0)},e.prototype.setThemeType=function(e){return this._themeType!==e&&(this._themeType=e,this._colorZonesInvalid=!0,!0)},e.prototype.resolveColorZones=function(){for(var e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),n=Math.floor(this.getCanvasHeight()),i=Math.floor(this._maximumHeight*this._pixelRatio),r=Math.floor(this._minimumHeight*this._pixelRatio),o=this._themeType,s=n/Math.floor(this._outerHeight),a=[],c=0,l=this._zones.length;c<l;c++){var u=this._zones[c];if(!e){var d=u.getColorZones();if(d){for(var h=0,p=d.length;h<p;h++)a.push(d[h]);continue}}var f=[];if(u.forceHeight){var g=Math.floor(u.forceHeight*this._pixelRatio),v=Math.floor(this._getVerticalOffsetForLine(u.startLineNumber)),m=(v=Math.floor(v*s))+g;f.push(this.createZone(n,v,m,g,g,u.getColor(o),u.position))}else{var v=Math.floor(this._getVerticalOffsetForLine(u.startLineNumber)),m=Math.floor(this._getVerticalOffsetForLine(u.endLineNumber))+t;v=Math.floor(v*s),m=Math.floor(m*s);var y=(u.endLineNumber-u.startLineNumber+1)*i;if(m-v>y)for(var b=u.startLineNumber;b<=u.endLineNumber;b++)m=(v=Math.floor(this._getVerticalOffsetForLine(b)))+t,v=Math.floor(v*s),m=Math.floor(m*s),f.push(this.createZone(n,v,m,r,i,u.getColor(o),u.position));else f.push(this.createZone(n,v,m,r,y,u.getColor(o),u.position))}u.setColorZones(f);for(var h=0,p=f.length;h<p;h++)a.push(f[h])}this._colorZonesInvalid=!1;return a.sort(function(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId}),a},e.prototype.createZone=function(e,t,n,r,o,s,a){e=Math.floor(e),t=Math.floor(t),n=Math.floor(n),r=Math.floor(r),o=Math.floor(o);var c=Math.floor((t+n)/2),l=n-c;l>o/2&&(l=o/2),l<r/2&&(l=r/2),c-l<0&&(c=l),c+l>e&&(c=e-l);var u=this._color2Id[s];return u||(u=++this._lastAssignedId,this._color2Id[s]=u,this._id2Color[u]=s),new i(c-l,c+l,u,a)},e}();t.OverviewZoneManager=o}),define(u[438],d([1,0,75,33,270,13]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t,i,s,a,c,l,u){this._canvasLeftOffset=e,this._domNode=n.createFastDomNode(document.createElement("canvas")),this._domNode.setClassName(t),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._lanesCount=3,this._background=null,this._zoneManager=new r.OverviewZoneManager(u),this._zoneManager.setMinimumHeight(c),this._zoneManager.setMaximumHeight(l),this._zoneManager.setThemeType(o.LIGHT),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(i),this._zoneManager.setLineHeight(s),this._zoneManager.setPixelRatio(a)}return e.prototype.dispose=function(){this._zoneManager=null},e.prototype.setLayout=function(e,t){this._domNode.setTop(e.top),this._domNode.setRight(e.right);var n=!1;n=this._zoneManager.setDOMWidth(e.width)||n,(n=this._zoneManager.setDOMHeight(e.height)||n)&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),t&&this.render(!0))},e.prototype.getLanesCount=function(){return this._lanesCount},e.prototype.setLanesCount=function(e,t){this._lanesCount=e,t&&this.render(!0)},e.prototype.setThemeType=function(e,t){this._zoneManager.setThemeType(e),t&&this.render(!0)},e.prototype.setUseBackground=function(e,t){this._background=e,t&&this.render(!0)},e.prototype.getDomNode=function(){return this._domNode.domNode},e.prototype.getPixelWidth=function(){return this._zoneManager.getCanvasWidth()},e.prototype.getPixelHeight=function(){return this._zoneManager.getCanvasHeight()},e.prototype.setScrollHeight=function(e,t){this._zoneManager.setOuterHeight(e),t&&this.render(!0)},e.prototype.setLineHeight=function(e,t){this._zoneManager.setLineHeight(e),t&&this.render(!0)},e.prototype.setPixelRatio=function(e,t){this._zoneManager.setPixelRatio(e),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),t&&this.render(!0)},e.prototype.setZones=function(e,t){this._zoneManager.setZones(e),t&&this.render(!1)},e.prototype.render=function(e){if(0===this._zoneManager.getOuterHeight())return!1;var t=this._zoneManager.getCanvasWidth(),n=this._zoneManager.getCanvasHeight(),i=this._zoneManager.resolveColorZones(),r=this._zoneManager.getId2Color(),o=this._domNode.domNode.getContext("2d");if(null===this._background?o.clearRect(0,0,t,n):(o.fillStyle=this._background.toRGBHex(),o.fillRect(0,0,t,n)),i.length>0){var s=t-this._canvasLeftOffset;this._lanesCount>=3?this._renderThreeLanes(o,i,r,s):2===this._lanesCount?this._renderTwoLanes(o,i,r,s):1===this._lanesCount&&this._renderOneLane(o,i,r,s)}return!0},e.prototype._renderOneLane=function(e,t,n,r){this._renderVerticalPatch(e,t,n,i.OverviewRulerLane.Left|i.OverviewRulerLane.Center|i.OverviewRulerLane.Right,this._canvasLeftOffset,r)},e.prototype._renderTwoLanes=function(e,t,n,r){var o=Math.floor(r/2),s=r-o,a=this._canvasLeftOffset,c=this._canvasLeftOffset+o;this._renderVerticalPatch(e,t,n,i.OverviewRulerLane.Left|i.OverviewRulerLane.Center,a,o),this._renderVerticalPatch(e,t,n,i.OverviewRulerLane.Right,c,s)},e.prototype._renderThreeLanes=function(e,t,n,r){var o=Math.floor(r/3),s=Math.floor(r/3),a=r-o-s,c=this._canvasLeftOffset,l=this._canvasLeftOffset+o,u=this._canvasLeftOffset+o+a;this._renderVerticalPatch(e,t,n,i.OverviewRulerLane.Left,c,o),this._renderVerticalPatch(e,t,n,i.OverviewRulerLane.Center,l,a),this._renderVerticalPatch(e,t,n,i.OverviewRulerLane.Right,u,s)},e.prototype._renderVerticalPatch=function(e,t,n,i,r,o){for(var s=0,a=0,c=0,l=0,u=t.length;l<u;l++){var d=t[l];if(d.position&i){var h=d.colorId,p=d.from,f=d.to;h!==s?(e.fillRect(r,a,o,c-a),s=h,e.fillStyle=n[s],a=p,c=f):c>=p?c=Math.max(c,f):(e.fillRect(r,a,o,c-a),a=p,c=f)}}e.fillRect(r,a,o,c-a)},e}();t.OverviewRulerImpl=s}),define(u[893],d([1,0,33,101,438,46,270,111,58]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(n){var i=e.call(this,n)||this;return i._overviewRuler=new r.OverviewRulerImpl(1,"decorationsOverviewRuler",i._context.viewLayout.getScrollHeight(),i._context.configuration.editor.lineHeight,i._context.configuration.editor.pixelRatio,t.MIN_DECORATION_HEIGHT,t.MAX_DECORATION_HEIGHT,function(e){return i._context.viewLayout.getVerticalOffsetForLineNumber(e)}),i._overviewRuler.setLanesCount(i._context.configuration.editor.viewInfo.overviewRulerLanes,!1),i._overviewRuler.setLayout(i._context.configuration.editor.layoutInfo.overviewRuler,!1),i._renderBorder=i._context.configuration.editor.viewInfo.overviewRulerBorder,i._updateColors(),i._updateBackground(!1),i._tokensColorTrackerListener=o.TokenizationRegistry.onDidChange(function(e){e.changedColorMap&&i._updateBackground(!0)}),i._shouldUpdateDecorations=!0,i._zonesFromDecorations=[],i._shouldUpdateCursorPosition=!0,i._hideCursor=i._context.configuration.editor.viewInfo.hideCursorInOverviewRuler,i._zonesFromCursors=[],i._cursorPositions=[],i}return h(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._overviewRuler.dispose(),this._tokensColorTrackerListener.dispose()},t.prototype._updateBackground=function(e){var t=this._context.configuration.editor.viewInfo.minimap.enabled;this._overviewRuler.setUseBackground(t?o.TokenizationRegistry.getDefaultBackground():null,e)},t.prototype.onConfigurationChanged=function(e){var t=this._overviewRuler.getLanesCount(),n=this._context.configuration.editor.viewInfo.overviewRulerLanes;return t!==n&&this._overviewRuler.setLanesCount(n,!1),e.lineHeight&&this._overviewRuler.setLineHeight(this._context.configuration.editor.lineHeight,!1),e.pixelRatio&&this._overviewRuler.setPixelRatio(this._context.configuration.editor.pixelRatio,!1),e.viewInfo&&(this._renderBorder=this._context.configuration.editor.viewInfo.overviewRulerBorder,this._hideCursor=this._context.configuration.editor.viewInfo.hideCursorInOverviewRuler,this._shouldUpdateCursorPosition=!0,this._updateBackground(!1)),e.layoutInfo&&this._overviewRuler.setLayout(this._context.configuration.editor.layoutInfo.overviewRuler,!1),!0},t.prototype.onCursorStateChanged=function(e){this._shouldUpdateCursorPosition=!0,this._cursorPositions=[];for(var t=0,n=e.selections.length;t<n;t++)this._cursorPositions[t]=e.selections[t].getPosition();return!0},t.prototype.onDecorationsChanged=function(e){return this._shouldUpdateDecorations=!0,!0},t.prototype.onFlushed=function(e){return this._shouldUpdateCursorPosition=!0,this._shouldUpdateDecorations=!0,!0},t.prototype.onScrollChanged=function(t){return this._overviewRuler.setScrollHeight(t.scrollHeight,!1),e.prototype.onScrollChanged.call(this,t)||t.scrollHeightChanged},t.prototype.onZonesChanged=function(e){return!0},t.prototype.onThemeChanged=function(e){return this._updateColors(),this._shouldUpdateDecorations=!0,this._shouldUpdateCursorPosition=!0,!0},t.prototype.getDomNode=function(){return this._overviewRuler.getDomNode()},t.prototype._updateColors=function(){var e=this._context.theme.getColor(a.editorOverviewRulerBorder);this._borderColor=e?e.toString():null;var t=this._context.theme.getColor(a.editorCursor);this._cursorColor=t?t.transparent(.7).toString():null,this._overviewRuler.setThemeType(this._context.theme.type,!1)},t.prototype._createZonesFromDecorations=function(){for(var e=this._context.model.getAllOverviewRulerDecorations(),t=[],n=0,i=e.length;n<i;n++){var r=e[n],o=r.source.options.overviewRuler;t.push(new s.OverviewRulerZone(r.range.startLineNumber,r.range.endLineNumber,o.position,0,this.resolveRulerColor(o.color),this.resolveRulerColor(o.darkColor),this.resolveRulerColor(o.hcColor)))}return t},t.prototype.resolveRulerColor=function(e){return n.isThemeColor(e)?(this._context.theme.getColor(e.id)||c.Color.transparent).toString():e},t.prototype._createZonesFromCursors=function(){for(var e=[],t=0,i=this._cursorPositions.length;t<i;t++){var r=this._cursorPositions[t];e.push(new s.OverviewRulerZone(r.lineNumber,r.lineNumber,n.OverviewRulerLane.Full,2,this._cursorColor,this._cursorColor,this._cursorColor))}return e},t.prototype.prepareRender=function(e){},t.prototype.render=function(e){if(this._shouldUpdateDecorations||this._shouldUpdateCursorPosition){this._shouldUpdateDecorations&&(this._shouldUpdateDecorations=!1,this._zonesFromDecorations=this._createZonesFromDecorations()),this._shouldUpdateCursorPosition&&(this._shouldUpdateCursorPosition=!1,this._hideCursor?this._zonesFromCursors=[]:this._zonesFromCursors=this._createZonesFromCursors());var t=[];t=(t=t.concat(this._zonesFromCursors)).concat(this._zonesFromDecorations),this._overviewRuler.setZones(t,!1)}if(this._overviewRuler.render(!1)&&this._renderBorder&&this._borderColor&&this._overviewRuler.getLanesCount()>0&&(this._zonesFromDecorations.length>0||this._zonesFromCursors.length>0)){var n=this._overviewRuler.getDomNode().getContext("2d");n.beginPath(),n.lineWidth=1,n.strokeStyle=this._borderColor,n.moveTo(0,0),n.lineTo(0,this._overviewRuler.getPixelHeight()),n.stroke(),n.moveTo(0,0),n.lineTo(this._overviewRuler.getPixelWidth(),0),n.stroke()}},t}(i.ViewPart);l.MIN_DECORATION_HEIGHT=6,l.MAX_DECORATION_HEIGHT=60,t.DecorationsOverviewRuler=l}),define(u[894],d([1,0,217,438]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t,n,r,o){var s=e.call(this)||this;return s._context=t,s._overviewRuler=new i.OverviewRulerImpl(0,n,s._context.viewLayout.getScrollHeight(),s._context.configuration.editor.lineHeight,s._context.configuration.editor.pixelRatio,r,o,function(e){return s._context.viewLayout.getVerticalOffsetForLineNumber(e)}),s._context.addEventHandler(s),s}return h(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._overviewRuler.dispose(),e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&this._overviewRuler.setLineHeight(this._context.configuration.editor.lineHeight,!0),e.pixelRatio&&this._overviewRuler.setPixelRatio(this._context.configuration.editor.pixelRatio,!0),!0},t.prototype.onFlushed=function(e){return!0},t.prototype.onScrollChanged=function(t){return this._overviewRuler.setScrollHeight(t.scrollHeight,!0),e.prototype.onScrollChanged.call(this,t)||t.scrollHeightChanged},t.prototype.onZonesChanged=function(e){return!0},t.prototype.getDomNode=function(){return this._overviewRuler.getDomNode()},t.prototype.setLayout=function(e){this._overviewRuler.setLayout(e,!0)},t.prototype.setZones=function(e){this._overviewRuler.setZones(e,!0)},t}(n.ViewEventHandler);t.OverviewRuler=r}),define(u[895],d([1,0,7,9,75,14,217,887,876,834,870,823,864,883,884,861,289,442,885,878,340,859,858,852,893,894,888,880,881,889,850,101,873,204,877,869,872,879,152,13]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,v,m,y,b,S,_,E,C,w,I,T,k,x,A,L,P,D,O,R,M,N,F,W,B,V){"use strict";function z(e){try{return e()}catch(e){n.onUnexpectedError(e)}}function H(e,t){try{return e(t)}catch(e){n.onUnexpectedError(e)}}Object.defineProperty(t,"__esModule",{value:!0});var K=function(e){function t(t,n,i,r,o,s){var d=e.call(this)||this;d._isDisposed=!1,d._cursor=o,d._renderAnimationFrame=null,d.outgoingEvents=new M.ViewOutgoingEvents(r);var h=new l.ViewController(n,r,s,d.outgoingEvents,t);return d.eventDispatcher=new u.ViewEventDispatcher(function(e){return d._renderOnce(e)}),d.eventDispatcher.addEventHandler(d),d._context=new O.ViewContext(n,i.getTheme(),r,d.eventDispatcher),d._register(i.onThemeChange(function(e){d._context.theme=e,d.eventDispatcher.emit(new B.ViewThemeChangedEvent),d.render(!0,!1)})),d.viewParts=[],d._textAreaHandler=new a.TextAreaHandler(d._context,h,d.createTextAreaHandlerHelper()),d.viewParts.push(d._textAreaHandler),d.createViewParts(),d._setLayout(),d.pointerHandler=new c.PointerHandler(d._context,h,d.createPointerHandlerHelper()),d._register(r.addEventListener(function(e){d.eventDispatcher.emitMany(e)})),d._register(d._cursor.addEventListener(function(e){d.eventDispatcher.emitMany(e)})),d}return h(t,e),t.prototype.createViewParts=function(){this.linesContent=r.createFastDomNode(document.createElement("div")),this.linesContent.setClassName("lines-content monaco-editor-background"),this.linesContent.setPosition("absolute"),this.domNode=r.createFastDomNode(document.createElement("div")),this.domNode.setClassName(this.getEditorClassName()),this.overflowGuardContainer=r.createFastDomNode(document.createElement("div")),D.PartFingerprints.write(this.overflowGuardContainer,3),this.overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new F.EditorScrollbar(this._context,this.linesContent,this.domNode,this.overflowGuardContainer),this.viewParts.push(this._scrollbar),this.viewLines=new S.ViewLines(this._context,this.linesContent),this.viewZones=new P.ViewZones(this._context),this.viewParts.push(this.viewZones);var e=new I.DecorationsOverviewRuler(this._context);this.viewParts.push(e);var t=new x.ScrollDecorationViewPart(this._context);this.viewParts.push(t);var n=new d.ContentViewOverlays(this._context);this.viewParts.push(n),n.addDynamicOverlay(new f.CurrentLineHighlightOverlay(this._context)),n.addDynamicOverlay(new A.SelectionsOverlay(this._context)),n.addDynamicOverlay(new v.DecorationsOverlay(this._context)),n.addDynamicOverlay(new b.IndentGuidesOverlay(this._context));var i=new d.MarginViewOverlays(this._context);this.viewParts.push(i),i.addDynamicOverlay(new g.CurrentLineMarginHighlightOverlay(this._context)),i.addDynamicOverlay(new m.GlyphMarginOverlay(this._context)),i.addDynamicOverlay(new C.MarginViewLineDecorationsOverlay(this._context)),i.addDynamicOverlay(new E.LinesDecorationsOverlay(this._context)),i.addDynamicOverlay(new y.LineNumbersOverlay(this._context));var o=new _.Margin(this._context);o.getDomNode().appendChild(this.viewZones.marginDomNode),o.getDomNode().appendChild(i.getDomNode()),this.viewParts.push(o),this.contentWidgets=new p.ViewContentWidgets(this._context,this.domNode),this.viewParts.push(this.contentWidgets),this.viewCursors=new L.ViewCursors(this._context),this.viewParts.push(this.viewCursors),this.overlayWidgets=new w.ViewOverlayWidgets(this._context),this.viewParts.push(this.overlayWidgets);var s=new k.Rulers(this._context);this.viewParts.push(s);var a=new W.Minimap(this._context);if(this.viewParts.push(a),e){var c=this._scrollbar.getOverviewRulerLayoutInfo();c.parent.insertBefore(e.getDomNode(),c.insertBefore)}this.linesContent.appendChild(n.getDomNode()),this.linesContent.appendChild(s.domNode),this.linesContent.appendChild(this.viewZones.domNode),this.linesContent.appendChild(this.viewLines.getDomNode()),this.linesContent.appendChild(this.contentWidgets.domNode),this.linesContent.appendChild(this.viewCursors.getDomNode()),this.overflowGuardContainer.appendChild(o.getDomNode()),this.overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this.overflowGuardContainer.appendChild(t.getDomNode()),this.overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this.overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this.overflowGuardContainer.appendChild(this.overlayWidgets.getDomNode()),this.overflowGuardContainer.appendChild(a.getDomNode()),this.domNode.appendChild(this.overflowGuardContainer),this.domNode.appendChild(this.contentWidgets.overflowingContentWidgetsDomNode)},t.prototype._flushAccumulatedAndRenderNow=function(){this._renderNow()},t.prototype.createPointerHandlerHelper=function(){var e=this;return{viewDomNode:this.domNode.domNode,linesContentDomNode:this.linesContent.domNode,focusTextArea:function(){e.focus()},getLastViewCursorsRenderData:function(){return e.viewCursors.getLastRenderData()||[]},shouldSuppressMouseDownOnViewZone:function(t){return e.viewZones.shouldSuppressMouseDownOnViewZone(t)},shouldSuppressMouseDownOnWidget:function(t){return e.contentWidgets.shouldSuppressMouseDownOnWidget(t)},getPositionFromDOMInfo:function(t,n){return e._flushAccumulatedAndRenderNow(),e.viewLines.getPositionFromDOMInfo(t,n)},visibleRangeForPosition2:function(t,n){e._flushAccumulatedAndRenderNow();var i=e.viewLines.visibleRangesForRange2(new o.Range(t,n,t,n));return i?i[0]:null},getLineWidth:function(t){return e._flushAccumulatedAndRenderNow(),e.viewLines.getLineWidth(t)}}},t.prototype.createTextAreaHandlerHelper=function(){var e=this;return{visibleRangeForPositionRelativeToEditor:function(t,n){e._flushAccumulatedAndRenderNow();var i=e.viewLines.visibleRangesForRange2(new o.Range(t,n,t,n));return i?i[0]:null}}},t.prototype._setLayout=function(){var e=this._context.configuration.editor.layoutInfo;this.domNode.setWidth(e.width),this.domNode.setHeight(e.height),this.overflowGuardContainer.setWidth(e.width),this.overflowGuardContainer.setHeight(e.height),this.linesContent.setWidth(1e6),this.linesContent.setHeight(1e6)},t.prototype.getEditorClassName=function(){return this._context.configuration.editor.editorClassName+" "+V.getThemeTypeSelector(this._context.theme.type)},t.prototype.onConfigurationChanged=function(e){return e.editorClassName&&this.domNode.setClassName(this.getEditorClassName()),e.layoutInfo&&this._setLayout(),!1},t.prototype.onFocusChanged=function(e){return this.domNode.toggleClassName("focused",e.isFocused),e.isFocused?this.outgoingEvents.emitViewFocusGained():this.outgoingEvents.emitViewFocusLost(),!1},t.prototype.onScrollChanged=function(e){return this.outgoingEvents.emitScrollChanged(e),!1},t.prototype.onThemeChanged=function(e){return this.domNode.setClassName(this.getEditorClassName()),!1},t.prototype.dispose=function(){this._isDisposed=!0,null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this.eventDispatcher.removeEventHandler(this),this.outgoingEvents.dispose(),this.pointerHandler.dispose(),this.viewLines.dispose();for(var t=0,n=this.viewParts.length;t<n;t++)this.viewParts[t].dispose();this.viewParts=[],e.prototype.dispose.call(this)},t.prototype._renderOnce=function(e){var t=z(e);return this._scheduleRender(),t},t.prototype._scheduleRender=function(){null===this._renderAnimationFrame&&(this._renderAnimationFrame=i.runAtThisOrScheduleAtNextAnimationFrame(this._onRenderScheduled.bind(this),100))},t.prototype._onRenderScheduled=function(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()},t.prototype._renderNow=function(){var e=this;z(function(){return e._actualRender()})},t.prototype._getViewPartsToRender=function(){for(var e=[],t=0,n=this.viewParts.length;t<n;t++){var i=this.viewParts[t];i.shouldRender()&&e.push(i)}return e},t.prototype._actualRender=function(){if(i.isInDOM(this.domNode.domNode)){var e=this._getViewPartsToRender();if(this.viewLines.shouldRender()||0!==e.length){var t=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(t.startLineNumber,t.endLineNumber,t.centeredLineNumber);var n=new N.ViewportData(this._cursor.getViewSelections(),t,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this.viewLines.shouldRender()&&(this.viewLines.renderText(n),this.viewLines.onDidRender(),e=this._getViewPartsToRender());for(var r=new R.RenderingContext(this._context.viewLayout,n,this.viewLines),o=0,s=e.length;o<s;o++)(a=e[o]).prepareRender(r);for(var o=0,s=e.length;o<s;o++){var a=e[o];a.render(r),a.onDidRender()}}}},t.prototype.delegateVerticalScrollbarMouseDown=function(e){this._scrollbar.delegateVerticalScrollbarMouseDown(e)},t.prototype.getOffsetForColumn=function(e,t){var n=this._context.model.validateModelPosition({lineNumber:e,column:t}),i=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(n);this._flushAccumulatedAndRenderNow();var r=this.viewLines.visibleRangesForRange2(new o.Range(i.lineNumber,i.column,i.lineNumber,i.column));return r?r[0].left:-1},t.prototype.getTargetAtClientPoint=function(e,t){return this.pointerHandler.getTargetAtClientPoint(e,t)},t.prototype.getInternalEventBus=function(){return this.outgoingEvents},t.prototype.createOverviewRuler=function(e,t,n){return new T.OverviewRuler(this._context,e,t,n)},t.prototype.change=function(e){var t=this,n=!1;return this._renderOnce(function(){var i={addZone:function(e){return n=!0,t.viewZones.addZone(e)},removeZone:function(e){e&&(n=t.viewZones.removeZone(e)||n)},layoutZone:function(e){e&&(n=t.viewZones.layoutZone(e)||n)}};H(e,i),i.addZone=null,i.removeZone=null,n&&(t._context.viewLayout.onHeightMaybeChanged(),t._context.privateViewEventBus.emit(new B.ViewZonesChangedEvent))}),n},t.prototype.render=function(e,t){if(t){this.viewLines.forceShouldRender();for(var n=0,i=this.viewParts.length;n<i;n++)this.viewParts[n].forceShouldRender()}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()},t.prototype.setAriaActiveDescendant=function(e){this._textAreaHandler.setAriaActiveDescendant(e)},t.prototype.focus=function(){this._textAreaHandler.focusTextArea()},t.prototype.isFocused=function(){return this._textAreaHandler.isFocused()},t.prototype.addContentWidget=function(e){this.contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()},t.prototype.layoutContentWidget=function(e){var t=e.position?e.position.position:null,n=e.position?e.position.preference:null;this.contentWidgets.setWidgetPosition(e.widget,t,n),this._scheduleRender()},t.prototype.removeContentWidget=function(e){this.contentWidgets.removeWidget(e.widget),this._scheduleRender()},t.prototype.addOverlayWidget=function(e){this.overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()},t.prototype.layoutOverlayWidget=function(e){var t=e.position?e.position.preference:null;this.overlayWidgets.setWidgetPosition(e.widget,t)&&this._scheduleRender()},t.prototype.removeOverlayWidget=function(e){this.overlayWidgets.removeWidget(e.widget),this._scheduleRender()},t}(s.ViewEventHandler);t.View=K}),define(u[320],d([1,0,7,9,6,32,17,832,14,56,158,895,5,8,928,13,111,1066,1064]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b){"use strict";function S(e){return C+encodeURIComponent(e.toString())+w}Object.defineProperty(t,"__esModule",{value:!0});var _=function(e){function t(t,i,r,o,s,a,c){var l=e.call(this,t,i,r,a)||this;l._onMouseUp=l._register(new f.Emitter),l.onMouseUp=l._onMouseUp.event,l._onMouseDown=l._register(new f.Emitter),l.onMouseDown=l._onMouseDown.event,l._onMouseDrag=l._register(new f.Emitter),l.onMouseDrag=l._onMouseDrag.event,l._onMouseDrop=l._register(new f.Emitter),l.onMouseDrop=l._onMouseDrop.event,l._onContextMenu=l._register(new f.Emitter),l.onContextMenu=l._onContextMenu.event,l._onMouseMove=l._register(new f.Emitter),l.onMouseMove=l._onMouseMove.event,l._onMouseLeave=l._register(new f.Emitter),l.onMouseLeave=l._onMouseLeave.event,l._onKeyUp=l._register(new f.Emitter),l.onKeyUp=l._onKeyUp.event,l._onKeyDown=l._register(new f.Emitter),l.onKeyDown=l._onKeyDown.event,l._onDidScrollChange=l._register(new f.Emitter),l.onDidScrollChange=l._onDidScrollChange.event,l._onDidChangeViewZones=l._register(new f.Emitter),l.onDidChangeViewZones=l._onDidChangeViewZones.event,l._codeEditorService=o,l._commandService=s,l._themeService=c,l._focusTracker=new E(t),l._focusTracker.onChange(function(){l._focusTracker.hasFocus()?l._onDidFocusEditor.fire():l._onDidBlurEditor.fire()}),l.contentWidgets={},l.overlayWidgets={};for(var u=l._getContributions(),d=0,h=u.length;d<h;d++){var p=u[d];try{var v=l._instantiationService.createInstance(p,l);l._contributions[v.getId()]=v}catch(e){n.onUnexpectedError(e)}}return l._getActions().forEach(function(e){var t=new g.InternalEditorAction(e.id,e.label,e.alias,e.precondition,function(){return l._instantiationService.invokeFunction(function(t){return e.runEditorCommand(t,l,null)})},l._contextKeyService);l._actions[t.id]=t}),l._codeEditorService.addCodeEditor(l),l}return h(t,e),t.prototype._createConfiguration=function(e){return new u.Configuration(e,this.domElement)},t.prototype.dispose=function(){this._codeEditorService.removeCodeEditor(this),this.contentWidgets={},this.overlayWidgets={},this._focusTracker.dispose(),e.prototype.dispose.call(this)},t.prototype.createOverviewRuler=function(e,t,n){return this._view.createOverviewRuler(e,t,n)},t.prototype.getDomNode=function(){return this.hasView?this._view.domNode.domNode:null},t.prototype.getCompletelyVisibleLinesRangeInViewport=function(){if(!this.hasView)return null;var e=this.viewModel.getCompletelyVisibleViewRange();return this.viewModel.coordinatesConverter.convertViewRangeToModelRange(e)},t.prototype.delegateVerticalScrollbarMouseDown=function(e){this.hasView&&this._view.delegateVerticalScrollbarMouseDown(e)},t.prototype.layout=function(e){this._configuration.observeReferenceElement(e),this.render()},t.prototype.focus=function(){this.hasView&&this._view.focus()},t.prototype.isFocused=function(){return this.hasView&&this._view.isFocused()},t.prototype.hasWidgetFocus=function(){return this._focusTracker&&this._focusTracker.hasFocus()},t.prototype.addContentWidget=function(e){var t={widget:e,position:e.getPosition()};this.contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this.contentWidgets[e.getId()]=t,this.hasView&&this._view.addContentWidget(t)},t.prototype.layoutContentWidget=function(e){var t=e.getId();if(this.contentWidgets.hasOwnProperty(t)){var n=this.contentWidgets[t];n.position=e.getPosition(),this.hasView&&this._view.layoutContentWidget(n)}},t.prototype.removeContentWidget=function(e){var t=e.getId();if(this.contentWidgets.hasOwnProperty(t)){var n=this.contentWidgets[t];delete this.contentWidgets[t],this.hasView&&this._view.removeContentWidget(n)}},t.prototype.addOverlayWidget=function(e){var t={widget:e,position:e.getPosition()};this.overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this.overlayWidgets[e.getId()]=t,this.hasView&&this._view.addOverlayWidget(t)},t.prototype.layoutOverlayWidget=function(e){var t=e.getId();if(this.overlayWidgets.hasOwnProperty(t)){var n=this.overlayWidgets[t];n.position=e.getPosition(),this.hasView&&this._view.layoutOverlayWidget(n)}},t.prototype.removeOverlayWidget=function(e){var t=e.getId();if(this.overlayWidgets.hasOwnProperty(t)){var n=this.overlayWidgets[t];delete this.overlayWidgets[t],this.hasView&&this._view.removeOverlayWidget(n)}},t.prototype.changeViewZones=function(e){this.hasView&&this._view.change(e)&&this._onDidChangeViewZones.fire()},t.prototype.getWhitespaces=function(){return this.hasView?this.viewModel.viewLayout.getWhitespaces():[]},t.prototype._getVerticalOffsetForPosition=function(e,t){var n=this.model.validatePosition({lineNumber:e,column:t}),i=this.viewModel.coordinatesConverter.convertModelPositionToViewPosition(n);return this.viewModel.viewLayout.getVerticalOffsetForLineNumber(i.lineNumber)},t.prototype.getTopForLineNumber=function(e){return this.hasView?this._getVerticalOffsetForPosition(e,1):-1},t.prototype.getTopForPosition=function(e,t){return this.hasView?this._getVerticalOffsetForPosition(e,t):-1},t.prototype.getTargetAtClientPoint=function(e,t){return this.hasView?this._view.getTargetAtClientPoint(e,t):null},t.prototype.getScrolledVisiblePosition=function(e){if(!this.hasView)return null;var t=this.model.validatePosition(e),n=this._configuration.editor.layoutInfo;return{top:this._getVerticalOffsetForPosition(t.lineNumber,t.column)-this.getScrollTop(),left:this._view.getOffsetForColumn(t.lineNumber,t.column)+n.glyphMarginWidth+n.lineNumbersWidth+n.decorationsWidth-this.getScrollLeft(),height:this._configuration.editor.lineHeight}},t.prototype.getOffsetForColumn=function(e,t){return this.hasView?this._view.getOffsetForColumn(e,t):-1},t.prototype.render=function(){this.hasView&&this._view.render(!0,!1)},t.prototype.setHiddenAreas=function(e){this.viewModel&&this.viewModel.setHiddenAreas(e.map(function(e){return c.Range.lift(e)}))},t.prototype.setAriaActiveDescendant=function(e){this.hasView&&this._view.setAriaActiveDescendant(e)},t.prototype.applyFontInfo=function(e){u.Configuration.applyFontInfoSlow(e,this._configuration.editor.fontInfo)},t.prototype._attachModel=function(t){if(this._view=null,e.prototype._attachModel.call(this,t),this._view){this.domElement.appendChild(this._view.domNode.domNode);for(var n=Object.keys(this.contentWidgets),i=0,r=n.length;i<r;i++){o=n[i];this._view.addContentWidget(this.contentWidgets[o])}for(var i=0,r=(n=Object.keys(this.overlayWidgets)).length;i<r;i++){var o=n[i];this._view.addOverlayWidget(this.overlayWidgets[o])}this._view.render(!1,!0),this.hasView=!0}},t.prototype._createView=function(){var e=this;this._view=new d.View(this._commandService,this._configuration,this._themeService,this.viewModel,this.cursor,function(t,n){e.cursor&&t.runCoreEditorCommand(e.cursor,n)});var t=this._view.getInternalEventBus();this.listenersToRemove.push(t.onDidGainFocus(function(){e._onDidFocusEditorText.fire(),e._onDidFocusEditor.fire()})),this.listenersToRemove.push(t.onDidScroll(function(t){e._onDidScrollChange.fire(t)})),this.listenersToRemove.push(t.onDidLoseFocus(function(){e._onDidBlurEditorText.fire()})),this.listenersToRemove.push(t.onContextMenu(function(t){e._onContextMenu.fire(t)})),this.listenersToRemove.push(t.onMouseDown(function(t){e._onMouseDown.fire(t)})),this.listenersToRemove.push(t.onMouseUp(function(t){e._onMouseUp.fire(t)})),this.listenersToRemove.push(t.onMouseDrag(function(t){e._onMouseDrag.fire(t)})),this.listenersToRemove.push(t.onMouseDrop(function(t){e._onMouseDrop.fire(t)})),this.listenersToRemove.push(t.onKeyUp(function(t){e._onKeyUp.fire(t)})),this.listenersToRemove.push(t.onMouseMove(function(t){e._onMouseMove.fire(t)})),this.listenersToRemove.push(t.onMouseLeave(function(t){e._onMouseLeave.fire(t)})),this.listenersToRemove.push(t.onKeyDown(function(t){e._onKeyDown.fire(t)}))},t.prototype._detachModel=function(){var t=null;this._view&&(this._view.dispose(),t=this._view.domNode.domNode,this._view=null);var n=e.prototype._detachModel.call(this);return t&&this.domElement.removeChild(t),n},t.prototype._registerDecorationType=function(e,t,n){this._codeEditorService.registerDecorationType(e,t,n)},t.prototype._removeDecorationType=function(e){this._codeEditorService.removeDecorationType(e)},t.prototype._resolveDecorationOptions=function(e,t){return this._codeEditorService.resolveDecorationOptions(e,t)},t}(a.CommonCodeEditor);_=v([y(2,r.IInstantiationService),y(3,l.ICodeEditorService),y(4,o.ICommandService),y(5,s.IContextKeyService),y(6,m.IThemeService)],_),t.CodeEditorWidget=_;var E=function(e){function t(t){var n=e.call(this)||this;return n._onChange=n._register(new f.Emitter),n.onChange=n._onChange.event,n._hasFocus=!1,n._domFocusTracker=n._register(i.trackFocus(t)),n._domFocusTracker.addFocusListener(function(){n._hasFocus=!0,n._onChange.fire(void 0)}),n._domFocusTracker.addBlurListener(function(){n._hasFocus=!1,n._onChange.fire(void 0)}),n}return h(t,e),t.prototype.hasFocus=function(){return this._hasFocus},t}(p.Disposable),C=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' height='3' width='6'><g fill='"),w=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");m.registerThemingParticipant(function(e,t){var n=e.getColor(b.editorErrorBorder);n&&t.addRule(".monaco-editor .redsquiggly { border-bottom: 4px double "+n+"; }");var i=e.getColor(b.editorErrorForeground);i&&t.addRule('.monaco-editor .redsquiggly { background: url("data:image/svg+xml,'+S(i)+'") repeat-x bottom left; }');var r=e.getColor(b.editorWarningBorder);r&&t.addRule(".monaco-editor .greensquiggly { border-bottom: 4px double "+r+"; }");var o=e.getColor(b.editorWarningForeground);o&&t.addRule('.monaco-editor .greensquiggly { background: url("data:image/svg+xml;utf8,'+S(o)+'") repeat-x bottom left; }')})}),define(u[182],d([1,0,6,32,17,56,320,25,68,13]),function(e,t,n,i,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){function t(t,n,i,r,o,s,a){return e.call(this,t,n,i,r,o,s,a)||this}return h(t,e),t.prototype._getContributions=function(){return[].concat(c.EditorBrowserRegistry.getEditorContributions()).concat(a.CommonEditorRegistry.getEditorContributions())},t.prototype._getActions=function(){return a.CommonEditorRegistry.getEditorActions()},t}(s.CodeEditorWidget);u=v([y(2,n.IInstantiationService),y(3,o.ICodeEditorService),y(4,i.ICommandService),y(5,r.IContextKeyService),y(6,l.IThemeService)],u),t.CodeEditor=u}),define(u[428],d([1,0,18,5,26,9,75,151,6,17,56,14,33,186,277,279,182,250,158,191,118,8,124,13,29,270,77,890,1073]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A,L){"use strict";function P(e,t,n,i,r){return{range:new d.Range(e,t,n,i),options:r}}function D(e){return e.modifiedEndLineNumber>0}function O(e){return e.originalEndLineNumber>0}function R(){var e=document.createElement("div");return e.className="diagonal-fill",e}Object.defineProperty(t,"__esModule",{value:!0});var M=function(){function e(){this._zones=[],this._zonesMap={},this._decorations=[]}return e.prototype.getForeignViewZones=function(e){var t=this;return e.filter(function(e){return!t._zonesMap[String(e.id)]})},e.prototype.clean=function(e){var t=this;this._zones.length>0&&e.changeViewZones(function(e){for(var n=0,i=t._zones.length;n<i;n++)e.removeZone(t._zones[n])}),this._zones=[],this._zonesMap={},this._decorations.length>0&&e.changeDecorations(function(e){e.deltaDecorations(t._decorations,[])}),this._decorations=[]},e.prototype.apply=function(e,t,n){var i=this;e.changeViewZones(function(e){for(var t=0,r=i._zones.length;t<r;t++)e.removeZone(i._zones[t]);i._zones=[],i._zonesMap={};for(var t=0,o=n.zones.length;t<o;t++){n.zones[t].suppressMouseDown=!0;var s=e.addZone(n.zones[t]);i._zones.push(s),i._zonesMap[String(s)]=!0}}),this._decorations=e.deltaDecorations(this._decorations,n.decorations),t&&t.setZones(n.overviewZones)},e}(),N=0,F=function(e){function t(i,r,a,c,u,d,h){var p=e.call(this)||this;p._onDidDispose=p._register(new w.Emitter),p.onDidDispose=p._onDidDispose.event,p._onDidUpdateDiff=p._register(new w.Emitter),p.onDidUpdateDiff=p._onDidUpdateDiff.event,p._editorWorkerService=a,p._codeEditorService=d,p._contextKeyService=c.createScoped(i),p._contextKeyService.createKey("isInDiffEditor",!0),p._themeService=h,p.id=++N,p._domElement=i,r=r||{},p._renderSideBySide=!0,void 0!==r.renderSideBySide&&(p._renderSideBySide=r.renderSideBySide),p._ignoreTrimWhitespace=!0,void 0!==r.ignoreTrimWhitespace&&(p._ignoreTrimWhitespace=r.ignoreTrimWhitespace),p._renderIndicators=!0,void 0!==r.renderIndicators&&(p._renderIndicators=r.renderIndicators),p._originalIsEditable=!1,void 0!==r.originalEditable&&(p._originalIsEditable=Boolean(r.originalEditable)),p._updateDecorationsRunner=p._register(new n.RunOnceScheduler(function(){return p._updateDecorations()},0)),p._containerDomElement=document.createElement("div"),p._containerDomElement.className=t._getClassName(p._themeService.getTheme(),p._renderSideBySide),p._containerDomElement.style.position="relative",p._containerDomElement.style.height="100%",p._domElement.appendChild(p._containerDomElement),p._overviewViewportDomElement=s.createFastDomNode(document.createElement("div")),p._overviewViewportDomElement.setClassName("diffViewport"),p._overviewViewportDomElement.setPosition("absolute"),p._overviewDomElement=document.createElement("div"),p._overviewDomElement.className="diffOverview",p._overviewDomElement.style.position="absolute",p._overviewDomElement.appendChild(p._overviewViewportDomElement.domNode),p._register(o.addStandardDisposableListener(p._overviewDomElement,"mousedown",function(e){p.modifiedEditor.delegateVerticalScrollbarMouseDown(e)})),p._containerDomElement.appendChild(p._overviewDomElement),p._createLeftHandSide(),p._createRightHandSide(),p._beginUpdateDecorationsTimeout=-1,p._currentlyChangingViewZones=!1,p._diffComputationToken=0,p._originalEditorState=new M,p._modifiedEditorState=new M,p._isVisible=!0,p._isHandlingScrollEvent=!1,p._width=0,p._height=0,p._reviewHeight=0,p._lineChanges=null;var f=new C.ServiceCollection;f.set(l.IContextKeyService,p._contextKeyService);var g=u.createChild(f);return p._createLeftHandSideEditor(r,g),p._createRightHandSideEditor(r,g),p._reviewPane=new L.DiffReview(p),p._containerDomElement.appendChild(p._reviewPane.domNode.domNode),p._containerDomElement.appendChild(p._reviewPane.shadow.domNode),p._containerDomElement.appendChild(p._reviewPane.actionBarContainer.domNode),r.automaticLayout&&(p._measureDomElementToken=window.setInterval(function(){return p._measureDomElement(!1)},100)),p._enableSplitViewResizing=!0,void 0!==r.enableSplitViewResizing&&(p._enableSplitViewResizing=r.enableSplitViewResizing),p._renderSideBySide?p._setStrategy(new H(p._createDataSource(),p._enableSplitViewResizing)):p._setStrategy(new U(p._createDataSource(),p._enableSplitViewResizing)),p._codeEditorService.addDiffEditor(p),p._register(h.onThemeChange(function(e){p._strategy&&p._strategy.applyColors(e)&&p._updateDecorationsRunner.schedule(),p._containerDomElement.className=t._getClassName(p._themeService.getTheme(),p._renderSideBySide)})),p}return h(t,e),Object.defineProperty(t.prototype,"ignoreTrimWhitespace",{get:function(){return this._ignoreTrimWhitespace},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderSideBySide",{get:function(){return this._renderSideBySide},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderIndicators",{get:function(){return this._renderIndicators},enumerable:!0,configurable:!0}),t.prototype.hasWidgetFocus=function(){return o.isAncestor(document.activeElement,this._domElement)},t.prototype.diffReviewNext=function(){this._reviewPane.next()},t.prototype.diffReviewPrev=function(){this._reviewPane.prev()},t._getClassName=function(e,t){var n="monaco-diff-editor monaco-editor-background ";return t&&(n+="side-by-side "),n+=T.getThemeTypeSelector(e.type)},t.prototype._recreateOverviewRulers=function(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalOverviewRuler=this.originalEditor.createOverviewRuler("original diffOverviewRuler",4,Number.MAX_VALUE),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedOverviewRuler=this.modifiedEditor.createOverviewRuler("modified diffOverviewRuler",4,Number.MAX_VALUE),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode()),this._layoutOverviewRulers()},t.prototype._createLeftHandSide=function(){this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode)},t.prototype._createRightHandSide=function(){this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode)},t.prototype._createLeftHandSideEditor=function(e,t){var n=this;this.originalEditor=this._createInnerEditor(t,this._originalDomNode,this._adjustOptionsForLeftHandSide(e,this._originalIsEditable)),this._register(this.originalEditor.onDidScrollChange(function(e){n._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(n._isHandlingScrollEvent=!0,n.modifiedEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),n._isHandlingScrollEvent=!1,n._layoutOverviewViewport())})),this._register(this.originalEditor.onDidChangeViewZones(function(){n._onViewZonesChanged()})),this._register(this.originalEditor.onDidChangeModelContent(function(){n._isVisible&&n._beginUpdateDecorationsSoon()}))},t.prototype._createRightHandSideEditor=function(e,t){var n=this;this.modifiedEditor=this._createInnerEditor(t,this._modifiedDomNode,this._adjustOptionsForRightHandSide(e)),this._register(this.modifiedEditor.onDidScrollChange(function(e){n._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(n._isHandlingScrollEvent=!0,n.originalEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),n._isHandlingScrollEvent=!1,n._layoutOverviewViewport())})),this._register(this.modifiedEditor.onDidChangeViewZones(function(){n._onViewZonesChanged()})),this._register(this.modifiedEditor.onDidChangeConfiguration(function(e){e.fontInfo&&n.modifiedEditor.getModel()&&n._onViewZonesChanged()})),this._register(this.modifiedEditor.onDidChangeModelContent(function(){n._isVisible&&n._beginUpdateDecorationsSoon()}))},t.prototype._createInnerEditor=function(e,t,n){return e.createInstance(b.CodeEditor,t,n)},t.prototype.destroy=function(){this.dispose()},t.prototype.dispose=function(){this._codeEditorService.removeDiffEditor(this),window.clearInterval(this._measureDomElementToken),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler.dispose(),this._modifiedOverviewRuler.dispose(),this.originalEditor.dispose(),this.modifiedEditor.dispose(),this._strategy.dispose(),this._reviewPane.dispose(),this._onDidDispose.fire(),e.prototype.dispose.call(this)},t.prototype.getId=function(){return this.getEditorType()+":"+this.id},t.prototype.getEditorType=function(){return p.EditorType.IDiffEditor},t.prototype.getLineChanges=function(){return this._lineChanges},t.prototype.getOriginalEditor=function(){return this.originalEditor},t.prototype.getModifiedEditor=function(){return this.modifiedEditor},t.prototype.updateOptions=function(e){var n=!1;void 0!==e.renderSideBySide&&this._renderSideBySide!==e.renderSideBySide&&(this._renderSideBySide=e.renderSideBySide,n=!0);var i=!1;void 0!==e.ignoreTrimWhitespace&&this._ignoreTrimWhitespace!==e.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=e.ignoreTrimWhitespace,i=!0),void 0!==e.renderIndicators&&this._renderIndicators!==e.renderIndicators&&(this._renderIndicators=e.renderIndicators,i=!0),i&&this._beginUpdateDecorations(),void 0!==e.originalEditable&&(this._originalIsEditable=Boolean(e.originalEditable)),this.modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(e)),this.originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(e,this._originalIsEditable)),void 0!==e.enableSplitViewResizing&&(this._enableSplitViewResizing=e.enableSplitViewResizing),this._strategy.setEnableSplitViewResizing(this._enableSplitViewResizing),n&&(this._renderSideBySide?this._setStrategy(new H(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new U(this._createDataSource(),this._enableSplitViewResizing)),this._containerDomElement.className=t._getClassName(this._themeService.getTheme(),this._renderSideBySide))},t.prototype.getValue=function(e){return void 0===e&&(e=null),this.modifiedEditor.getValue(e)},t.prototype.getModel=function(){return{original:this.originalEditor.getModel(),modified:this.modifiedEditor.getModel()}},t.prototype.setModel=function(e){if(e&&(!e.original||!e.modified))throw new Error(e.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this.originalEditor.setModel(e?e.original:null),this.modifiedEditor.setModel(e?e.modified:null),this._updateDecorationsRunner.cancel(),e&&(this.originalEditor.setScrollTop(0),this.modifiedEditor.setScrollTop(0)),this._lineChanges=null,this._diffComputationToken++,e?(this._recreateOverviewRulers(),this._beginUpdateDecorations()):this._lineChanges=null,this._layoutOverviewViewport()},t.prototype.getDomNode=function(){return this._domElement},t.prototype.getVisibleColumnFromPosition=function(e){return this.modifiedEditor.getVisibleColumnFromPosition(e)},t.prototype.getPosition=function(){return this.modifiedEditor.getPosition()},t.prototype.setPosition=function(e,t,n,i){this.modifiedEditor.setPosition(e,t,n,i)},t.prototype.revealLine=function(e){this.modifiedEditor.revealLine(e)},t.prototype.revealLineInCenter=function(e){this.modifiedEditor.revealLineInCenter(e)},t.prototype.revealLineInCenterIfOutsideViewport=function(e){this.modifiedEditor.revealLineInCenterIfOutsideViewport(e)},t.prototype.revealPosition=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),this.modifiedEditor.revealPosition(e,t,n)},t.prototype.revealPositionInCenter=function(e){this.modifiedEditor.revealPositionInCenter(e)},t.prototype.revealPositionInCenterIfOutsideViewport=function(e){this.modifiedEditor.revealPositionInCenterIfOutsideViewport(e)},t.prototype.getSelection=function(){return this.modifiedEditor.getSelection()},t.prototype.getSelections=function(){return this.modifiedEditor.getSelections()},t.prototype.setSelection=function(e,t,n,i){this.modifiedEditor.setSelection(e,t,n,i)},t.prototype.setSelections=function(e){this.modifiedEditor.setSelections(e)},t.prototype.revealLines=function(e,t){this.modifiedEditor.revealLines(e,t)},t.prototype.revealLinesInCenter=function(e,t){this.modifiedEditor.revealLinesInCenter(e,t)},t.prototype.revealLinesInCenterIfOutsideViewport=function(e,t){this.modifiedEditor.revealLinesInCenterIfOutsideViewport(e,t)},t.prototype.revealRange=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),this.modifiedEditor.revealRange(e,t,n)},t.prototype.revealRangeInCenter=function(e){this.modifiedEditor.revealRangeInCenter(e)},t.prototype.revealRangeInCenterIfOutsideViewport=function(e){this.modifiedEditor.revealRangeInCenterIfOutsideViewport(e)},t.prototype.revealRangeAtTop=function(e){this.modifiedEditor.revealRangeAtTop(e)},t.prototype.getActions=function(){return this.modifiedEditor.getActions()},t.prototype.getSupportedActions=function(){return this.modifiedEditor.getSupportedActions()},t.prototype.getAction=function(e){return this.modifiedEditor.getAction(e)},t.prototype.saveViewState=function(){return{original:this.originalEditor.saveViewState(),modified:this.modifiedEditor.saveViewState()}},t.prototype.restoreViewState=function(e){if(e.original&&e.original){var t=e;this.originalEditor.restoreViewState(t.original),this.modifiedEditor.restoreViewState(t.modified)}},t.prototype.layout=function(e){this._measureDomElement(!1,e)},t.prototype.focus=function(){this.modifiedEditor.focus()},t.prototype.isFocused=function(){return this.originalEditor.isFocused()||this.modifiedEditor.isFocused()},t.prototype.onVisible=function(){this._isVisible=!0,this.originalEditor.onVisible(),this.modifiedEditor.onVisible(),this._beginUpdateDecorations()},t.prototype.onHide=function(){this._isVisible=!1,this.originalEditor.onHide(),this.modifiedEditor.onHide(),this._cleanViewZonesAndDecorations()},t.prototype.trigger=function(e,t,n){this.modifiedEditor.trigger(e,t,n)},t.prototype.changeDecorations=function(e){return this.modifiedEditor.changeDecorations(e)},t.prototype._measureDomElement=function(e,t){if((t=t||{width:this._containerDomElement.clientWidth,height:this._containerDomElement.clientHeight}).width<=0)return this._width=0,this._height=0,void(this._reviewHeight=0);(e||t.width!==this._width||t.height!==this._height)&&(this._width=t.width,this._height=t.height,this._reviewHeight=this._reviewPane.isVisible()?this._height:0,this._doLayout())},t.prototype._layoutOverviewRulers=function(){var e=t.ENTIRE_DIFF_OVERVIEW_WIDTH-2*t.ONE_OVERVIEW_WIDTH;this.modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:t.ONE_OVERVIEW_WIDTH,right:e+t.ONE_OVERVIEW_WIDTH,height:this._height-this._reviewHeight}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:t.ONE_OVERVIEW_WIDTH,height:this._height-this._reviewHeight}))},t.prototype._onViewZonesChanged=function(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()},t.prototype._beginUpdateDecorationsSoon=function(){var e=this;-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(function(){return e._beginUpdateDecorations()},t.UPDATE_DIFF_DECORATIONS_DELAY)},t.prototype._beginUpdateDecorations=function(){var e=this;this._beginUpdateDecorationsTimeout=-1;var t=this.originalEditor.getModel(),n=this.modifiedEditor.getModel();if(t&&n){var i=++this._diffComputationToken;this._editorWorkerService.computeDiff(t.uri,n.uri,this._ignoreTrimWhitespace).then(function(r){i===e._diffComputationToken&&t===e.originalEditor.getModel()&&n===e.modifiedEditor.getModel()&&(e._lineChanges=r,e._updateDecorationsRunner.schedule(),e._onDidUpdateDiff.fire())},function(r){i===e._diffComputationToken&&t===e.originalEditor.getModel()&&n===e.modifiedEditor.getModel()&&(e._lineChanges=null,e._updateDecorationsRunner.schedule())})}},t.prototype._cleanViewZonesAndDecorations=function(){this._originalEditorState.clean(this.originalEditor),this._modifiedEditorState.clean(this.modifiedEditor)},t.prototype._updateDecorations=function(){if(this.originalEditor.getModel()&&this.modifiedEditor.getModel()){var e=this._lineChanges||[],t=this._originalEditorState.getForeignViewZones(this.originalEditor.getWhitespaces()),n=this._modifiedEditorState.getForeignViewZones(this.modifiedEditor.getWhitespaces()),i=this._strategy.getEditorsDiffDecorations(e,this._ignoreTrimWhitespace,this._renderIndicators,t,n,this.originalEditor,this.modifiedEditor);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this.originalEditor,this._originalOverviewRuler,i.original),this._modifiedEditorState.apply(this.modifiedEditor,this._modifiedOverviewRuler,i.modified)}finally{this._currentlyChangingViewZones=!1}}},t.prototype._adjustOptionsForSubEditor=function(e){var t=r.clone(e||{});return t.inDiffEditor=!0,t.wordWrap="off",t.wordWrapMinified=!1,t.automaticLayout=!1,t.scrollbar=t.scrollbar||{},t.scrollbar.vertical="visible",t.folding=!1,t.codeLens=!1,t.fixedOverflowWidgets=!0,t.lineDecorationsWidth="2ch",t.minimap||(t.minimap={}),t.minimap.enabled=!1,t},t.prototype._adjustOptionsForLeftHandSide=function(e,t){var n=this._adjustOptionsForSubEditor(e);return n.readOnly=!t,n.overviewRulerLanes=1,n.extraEditorClassName="original-in-monaco-diff-editor",n},t.prototype._adjustOptionsForRightHandSide=function(e){var n=this._adjustOptionsForSubEditor(e);return n.revealHorizontalRightPadding=I.EDITOR_DEFAULTS.viewInfo.revealHorizontalRightPadding+t.ENTIRE_DIFF_OVERVIEW_WIDTH,n.scrollbar.verticalHasArrows=!1,n.extraEditorClassName="modified-in-monaco-diff-editor",n},t.prototype.doLayout=function(){this._measureDomElement(!0)},t.prototype._doLayout=function(){var e=this._strategy.layout();this._originalDomNode.style.width=e+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=this._width-e+"px",this._modifiedDomNode.style.left=e+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=this._height-this._reviewHeight+"px",this._overviewDomElement.style.width=t.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=this._width-t.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(t.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this.originalEditor.layout({width:e,height:this._height-this._reviewHeight}),this.modifiedEditor.layout({width:this._width-e-t.ENTIRE_DIFF_OVERVIEW_WIDTH,height:this._height-this._reviewHeight}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(this._height-this._reviewHeight,this._width,this._reviewHeight),this._layoutOverviewViewport()},t.prototype._layoutOverviewViewport=function(){var e=this._computeOverviewViewport();e?(this._overviewViewportDomElement.setTop(e.top),this._overviewViewportDomElement.setHeight(e.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))},t.prototype._computeOverviewViewport=function(){var e=this.modifiedEditor.getLayoutInfo();if(!e)return null;var t=this.modifiedEditor.getScrollTop(),n=this.modifiedEditor.getScrollHeight(),i=Math.max(0,e.contentHeight),r=Math.max(0,i-0),o=n>0?r/n:0;return{height:Math.max(0,Math.floor(e.contentHeight*o)),top:Math.floor(t*o)}},t.prototype._createDataSource=function(){var e=this;return{getWidth:function(){return e._width},getHeight:function(){return e._height-e._reviewHeight},getContainerDomNode:function(){return e._containerDomElement},relayoutEditors:function(){e._doLayout()},getOriginalEditor:function(){return e.originalEditor},getModifiedEditor:function(){return e.modifiedEditor}}},t.prototype._setStrategy=function(e){this._strategy&&this._strategy.dispose(),this._strategy=e,e.applyColors(this._themeService.getTheme()),this._lineChanges&&this._updateDecorations(),this._measureDomElement(!0)},t.prototype._getLineChangeAtOrBeforeLineNumber=function(e,t){if(0===this._lineChanges.length||e<t(this._lineChanges[0]))return null;for(var n=0,i=this._lineChanges.length-1;n<i;){var r=Math.floor((n+i)/2),o=t(this._lineChanges[r]),s=r+1<=i?t(this._lineChanges[r+1]):Number.MAX_VALUE;e<o?i=r-1:e>=s?n=r+1:(n=r,i=r)}return this._lineChanges[n]},t.prototype._getEquivalentLineForOriginalLineNumber=function(e){var t=this._getLineChangeAtOrBeforeLineNumber(e,function(e){return e.originalStartLineNumber});if(!t)return e;var n=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),i=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),r=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,o=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,s=e-n;return s<=r?i+Math.min(s,o):i+o-r+s},t.prototype._getEquivalentLineForModifiedLineNumber=function(e){var t=this._getLineChangeAtOrBeforeLineNumber(e,function(e){return e.modifiedStartLineNumber});if(!t)return e;var n=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),i=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),r=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,o=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,s=e-i;return s<=o?n+Math.min(s,r):n+r-o+s},t.prototype.getDiffLineInformationForOriginal=function(e){return this._lineChanges?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(e)}:null},t.prototype.getDiffLineInformationForModified=function(e){return this._lineChanges?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(e)}:null},t}(i.Disposable);F.ONE_OVERVIEW_WIDTH=15,F.ENTIRE_DIFF_OVERVIEW_WIDTH=30,F.UPDATE_DIFF_DECORATIONS_DELAY=200,F=v([y(2,f.IEditorWorkerService),y(3,l.IContextKeyService),y(4,c.IInstantiationService),y(5,u.ICodeEditorService),y(6,T.IThemeService)],F),t.DiffEditorWidget=F;var W=function(e){function t(t){var n=e.call(this)||this;return n._dataSource=t,n}return h(t,e),t.prototype.applyColors=function(e){var t=(e.getColor(k.diffInserted)||k.defaultInsertColor).transparent(2),n=(e.getColor(k.diffRemoved)||k.defaultRemoveColor).transparent(2),i=!t.equals(this._insertColor)||!n.equals(this._removeColor);return this._insertColor=t,this._removeColor=n,i},t.prototype.getEditorsDiffDecorations=function(e,t,n,i,r,o,s){r=r.sort(function(e,t){return e.afterLineNumber-t.afterLineNumber}),i=i.sort(function(e,t){return e.afterLineNumber-t.afterLineNumber});var a=this._getViewZones(e,i,r,o,s,n),c=this._getOriginalEditorDecorations(e,t,n,o,s),l=this._getModifiedEditorDecorations(e,t,n,o,s);return{original:{decorations:c.decorations,overviewZones:c.overviewZones,zones:a.original},modified:{decorations:l.decorations,overviewZones:l.overviewZones,zones:a.modified}}},t.prototype._getViewZones=function(e,t,n,i,r,o){return null},t.prototype._getOriginalEditorDecorations=function(e,t,n,i,r){return null},t.prototype._getModifiedEditorDecorations=function(e,t,n,i,r){return null},t}(i.Disposable),B=function(){function e(e){this._source=e,this._index=-1,this.advance()}return e.prototype.advance=function(){++this._index<this._source.length?this.current=this._source[this._index]:this.current=null},e}(),V=function(){function e(e,t,n){this.lineChanges=e,this.originalForeignVZ=t,this.modifiedForeignVZ=n}return e.prototype.getViewZones=function(){for(var e={original:[],modified:[]},t=0,n=0,i=0,r=0,o=0,s=0,a=function(e,t){return e.afterLineNumber-t.afterLineNumber},c=function(e,t){if(null===t.domNode&&e.length>0){var n=e[e.length-1];if(n.afterLineNumber===t.afterLineNumber&&null===n.domNode)return void(n.heightInLines+=t.heightInLines)}e.push(t)},l=new B(this.modifiedForeignVZ),u=new B(this.originalForeignVZ),d=0,h=this.lineChanges.length;d<=h;d++){var p=d<h?this.lineChanges[d]:null;null!==p?(i=p.originalStartLineNumber+(p.originalEndLineNumber>0?-1:0),r=p.modifiedStartLineNumber+(p.modifiedEndLineNumber>0?-1:0),n=p.originalEndLineNumber>0?p.originalEndLineNumber-p.originalStartLineNumber+1:0,t=p.modifiedEndLineNumber>0?p.modifiedEndLineNumber-p.modifiedStartLineNumber+1:0,o=Math.max(p.originalStartLineNumber,p.originalEndLineNumber),s=Math.max(p.modifiedStartLineNumber,p.modifiedEndLineNumber)):(o=i+=1e7+n,s=r+=1e7+t);for(var f=[],g=[];l.current&&l.current.afterLineNumber<=s;){v=void 0;v=l.current.afterLineNumber<=r?i-r+l.current.afterLineNumber:o,f.push({afterLineNumber:v,heightInLines:l.current.heightInLines,domNode:null}),l.advance()}for(;u.current&&u.current.afterLineNumber<=o;){var v=void 0;v=u.current.afterLineNumber<=i?r-i+u.current.afterLineNumber:s,g.push({afterLineNumber:v,heightInLines:u.current.heightInLines,domNode:null}),u.advance()}if(null!==p&&D(p)&&(m=this._produceOriginalFromDiff(p,n,t))&&f.push(m),null!==p&&O(p)){var m=this._produceModifiedFromDiff(p,n,t);m&&g.push(m)}var y=0,b=0;for(f=f.sort(a),g=g.sort(a);y<f.length&&b<g.length;){var S=f[y],_=g[b],E=S.afterLineNumber-i,C=_.afterLineNumber-r;E<C?(c(e.original,S),y++):C<E?(c(e.modified,_),b++):S.shouldNotShrink?(c(e.original,S),y++):_.shouldNotShrink?(c(e.modified,_),b++):S.heightInLines>=_.heightInLines?(S.heightInLines-=_.heightInLines,b++):(_.heightInLines-=S.heightInLines,y++)}for(;y<f.length;)c(e.original,f[y]),y++;for(;b<g.length;)c(e.modified,g[b]),b++}var w=function(e){e.domNode||(e.domNode=R())};return e.original.forEach(w),e.modified.forEach(w),e},e}(),z={charDelete:A.ModelDecorationOptions.register({className:"char-delete"}),charDeleteWholeLine:A.ModelDecorationOptions.register({className:"char-delete",isWholeLine:!0}),charInsert:A.ModelDecorationOptions.register({className:"char-insert"}),charInsertWholeLine:A.ModelDecorationOptions.register({className:"char-insert",isWholeLine:!0}),lineInsert:A.ModelDecorationOptions.register({className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:A.ModelDecorationOptions.register({className:"line-insert",linesDecorationsClassName:"insert-sign",marginClassName:"line-insert",isWholeLine:!0}),lineDelete:A.ModelDecorationOptions.register({className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:A.ModelDecorationOptions.register({className:"line-delete",linesDecorationsClassName:"delete-sign",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:A.ModelDecorationOptions.register({marginClassName:"line-delete"})},H=function(e){function t(t,n){var i=e.call(this,t)||this;return i._disableSash=!1===n,i._sashRatio=null,i._sashPosition=null,i._sash=i._register(new a.Sash(i._dataSource.getContainerDomNode(),i)),i._disableSash&&i._sash.disable(),i._sash.addListener("start",function(){return i.onSashDragStart()}),i._sash.addListener("change",function(e){return i.onSashDrag(e)}),i._sash.addListener("end",function(){return i.onSashDragEnd()}),i._sash.addListener("reset",function(){return i.onSashReset()}),i}return h(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.setEnableSplitViewResizing=function(e){var t=!1===e;this._disableSash!==t&&(this._disableSash=t,this._disableSash?this._sash.disable():this._sash.enable())},t.prototype.layout=function(e){void 0===e&&(e=this._sashRatio);var n=this._dataSource.getWidth()-F.ENTIRE_DIFF_OVERVIEW_WIDTH,i=Math.floor((e||.5)*n),r=Math.floor(.5*n);return i=this._disableSash?r:i||r,n>2*t.MINIMUM_EDITOR_WIDTH?(i<t.MINIMUM_EDITOR_WIDTH&&(i=t.MINIMUM_EDITOR_WIDTH),i>n-t.MINIMUM_EDITOR_WIDTH&&(i=n-t.MINIMUM_EDITOR_WIDTH)):i=r,this._sashPosition!==i&&(this._sashPosition=i,this._sash.layout()),this._sashPosition},t.prototype.onSashDragStart=function(){this._startSashPosition=this._sashPosition},t.prototype.onSashDrag=function(e){var t=this._dataSource.getWidth()-F.ENTIRE_DIFF_OVERVIEW_WIDTH,n=this.layout((this._startSashPosition+(e.currentX-e.startX))/t);this._sashRatio=n/t,this._dataSource.relayoutEditors()},t.prototype.onSashDragEnd=function(){this._sash.layout()},t.prototype.onSashReset=function(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()},t.prototype.getVerticalSashTop=function(e){return 0},t.prototype.getVerticalSashLeft=function(e){return this._sashPosition},t.prototype.getVerticalSashHeight=function(e){return this._dataSource.getHeight()},t.prototype._getViewZones=function(e,t,n,i,r){return new K(e,t,n).getViewZones()},t.prototype._getOriginalEditorDecorations=function(e,t,n,i,r){for(var o={decorations:[],overviewZones:[]},s=i.getModel(),a=0,c=e.length;a<c;a++){var l=e[a];if(O(l)){o.decorations.push({range:new d.Range(l.originalStartLineNumber,1,l.originalEndLineNumber,Number.MAX_VALUE),options:n?z.lineDeleteWithSign:z.lineDelete}),D(l)&&l.charChanges||o.decorations.push(P(l.originalStartLineNumber,1,l.originalEndLineNumber,Number.MAX_VALUE,z.charDeleteWholeLine));var u=this._removeColor.toString();if(o.overviewZones.push(new x.OverviewRulerZone(l.originalStartLineNumber,l.originalEndLineNumber,p.OverviewRulerLane.Full,0,u,u,u)),l.charChanges)for(var h=0,f=l.charChanges.length;h<f;h++){var g=l.charChanges[h];if(O(g))if(t)for(var v=g.originalStartLineNumber;v<=g.originalEndLineNumber;v++){var m=void 0,y=void 0;m=v===g.originalStartLineNumber?g.originalStartColumn:s.getLineFirstNonWhitespaceColumn(v),y=v===g.originalEndLineNumber?g.originalEndColumn:s.getLineLastNonWhitespaceColumn(v),o.decorations.push(P(v,m,v,y,z.charDelete))}else o.decorations.push(P(g.originalStartLineNumber,g.originalStartColumn,g.originalEndLineNumber,g.originalEndColumn,z.charDelete))}}}return o},t.prototype._getModifiedEditorDecorations=function(e,t,n,i,r){for(var o={decorations:[],overviewZones:[]},s=r.getModel(),a=0,c=e.length;a<c;a++){var l=e[a];if(D(l)){o.decorations.push({range:new d.Range(l.modifiedStartLineNumber,1,l.modifiedEndLineNumber,Number.MAX_VALUE),options:n?z.lineInsertWithSign:z.lineInsert}),O(l)&&l.charChanges||o.decorations.push(P(l.modifiedStartLineNumber,1,l.modifiedEndLineNumber,Number.MAX_VALUE,z.charInsertWholeLine));var u=this._insertColor.toString();if(o.overviewZones.push(new x.OverviewRulerZone(l.modifiedStartLineNumber,l.modifiedEndLineNumber,p.OverviewRulerLane.Full,0,u,u,u)),l.charChanges)for(var h=0,f=l.charChanges.length;h<f;h++){var g=l.charChanges[h];if(D(g))if(t)for(var v=g.modifiedStartLineNumber;v<=g.modifiedEndLineNumber;v++){var m=void 0,y=void 0;m=v===g.modifiedStartLineNumber?g.modifiedStartColumn:s.getLineFirstNonWhitespaceColumn(v),y=v===g.modifiedEndLineNumber?g.modifiedEndColumn:s.getLineLastNonWhitespaceColumn(v),o.decorations.push(P(v,m,v,y,z.charInsert))}else o.decorations.push(P(g.modifiedStartLineNumber,g.modifiedStartColumn,g.modifiedEndLineNumber,g.modifiedEndColumn,z.charInsert))}}}return o},t}(W);H.MINIMUM_EDITOR_WIDTH=100;var K=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}return h(t,e),t.prototype._produceOriginalFromDiff=function(e,t,n){return n>t?{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:n-t,domNode:null}:null},t.prototype._produceModifiedFromDiff=function(e,t,n){return t>n?{afterLineNumber:Math.max(e.modifiedStartLineNumber,e.modifiedEndLineNumber),heightInLines:t-n,domNode:null}:null},t}(V),U=function(e){function t(t,n){var i=e.call(this,t)||this;return i.decorationsLeft=t.getOriginalEditor().getLayoutInfo().decorationsLeft,i._register(t.getOriginalEditor().onDidLayoutChange(function(e){i.decorationsLeft!==e.decorationsLeft&&(i.decorationsLeft=e.decorationsLeft,t.relayoutEditors())})),i}return h(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.setEnableSplitViewResizing=function(e){},t.prototype._getViewZones=function(e,t,n,i,r,o){return new j(e,t,n,i,r,o).getViewZones()},t.prototype._getOriginalEditorDecorations=function(e,t,n,i,r){for(var o={decorations:[],overviewZones:[]},s=0,a=e.length;s<a;s++){var c=e[s];if(O(c)){o.decorations.push({range:new d.Range(c.originalStartLineNumber,1,c.originalEndLineNumber,Number.MAX_VALUE),options:z.lineDeleteMargin});var l=this._removeColor.toString();o.overviewZones.push(new x.OverviewRulerZone(c.originalStartLineNumber,c.originalEndLineNumber,p.OverviewRulerLane.Full,0,l,l,l))}}return o},t.prototype._getModifiedEditorDecorations=function(e,t,n,i,r){for(var o={decorations:[],overviewZones:[]},s=r.getModel(),a=0,c=e.length;a<c;a++){var l=e[a];if(D(l)){o.decorations.push({range:new d.Range(l.modifiedStartLineNumber,1,l.modifiedEndLineNumber,Number.MAX_VALUE),options:n?z.lineInsertWithSign:z.lineInsert});var u=this._insertColor.toString();if(o.overviewZones.push(new x.OverviewRulerZone(l.modifiedStartLineNumber,l.modifiedEndLineNumber,p.OverviewRulerLane.Full,0,u,u,u)),l.charChanges)for(var h=0,f=l.charChanges.length;h<f;h++){var g=l.charChanges[h];if(D(g))if(t)for(var v=g.modifiedStartLineNumber;v<=g.modifiedEndLineNumber;v++){var m=void 0,y=void 0;m=v===g.modifiedStartLineNumber?g.modifiedStartColumn:s.getLineFirstNonWhitespaceColumn(v),y=v===g.modifiedEndLineNumber?g.modifiedEndColumn:s.getLineLastNonWhitespaceColumn(v),o.decorations.push(P(v,m,v,y,z.charInsert))}else o.decorations.push(P(g.modifiedStartLineNumber,g.modifiedStartColumn,g.modifiedEndLineNumber,g.modifiedEndColumn,z.charInsert))}else o.decorations.push(P(l.modifiedStartLineNumber,1,l.modifiedEndLineNumber,Number.MAX_VALUE,z.charInsertWholeLine))}}return o},t.prototype.layout=function(){return Math.max(5,this.decorationsLeft)},t}(W),j=function(e){function t(t,n,i,r,o,s){var a=e.call(this,t,n,i)||this;return a.originalModel=r.getModel(),a.modifiedEditorConfiguration=o.getConfiguration(),a.modifiedEditorTabSize=o.getModel().getOptions().tabSize,a.renderIndicators=s,a}return h(t,e),t.prototype._produceOriginalFromDiff=function(e,t,n){var i=document.createElement("div");return i.className="inline-added-margin-view-zone",_.Configuration.applyFontInfoSlow(i,this.modifiedEditorConfiguration.fontInfo),{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:n,domNode:document.createElement("div"),marginDomNode:i}},t.prototype._produceModifiedFromDiff=function(e,t,n){var i=[];if(e.charChanges)for(var r=0,o=e.charChanges.length;r<o;r++){var s=e.charChanges[r];O(s)&&i.push(new E.InlineDecoration(new d.Range(s.originalStartLineNumber,s.originalStartColumn,s.originalEndLineNumber,s.originalEndColumn),"char-delete",!1))}for(var a=[],c=[],l=this.modifiedEditorConfiguration.layoutInfo.decorationsWidth,u=this.modifiedEditorConfiguration.lineHeight,h=e.originalStartLineNumber;h<=e.originalEndLineNumber;h++)if(a=a.concat(this.renderOriginalLine(h-e.originalStartLineNumber,this.originalModel,this.modifiedEditorConfiguration,this.modifiedEditorTabSize,h,i)),this.renderIndicators){var p=h-e.originalStartLineNumber;c=c.concat(['<div class="delete-sign" style="position:absolute;top:'+p*u+"px;width:"+l+"px;height:"+u+'px;right:0;"></div>'])}var f=document.createElement("div");f.className="view-lines line-delete",f.innerHTML=a.join(""),_.Configuration.applyFontInfoSlow(f,this.modifiedEditorConfiguration.fontInfo);var g=document.createElement("div");return g.className="inline-deleted-margin-view-zone",g.innerHTML=c.join(""),_.Configuration.applyFontInfoSlow(g,this.modifiedEditorConfiguration.fontInfo),{shouldNotShrink:!0,afterLineNumber:0===e.modifiedEndLineNumber?e.modifiedStartLineNumber:e.modifiedStartLineNumber-1,heightInLines:t,domNode:f,marginDomNode:g}},t.prototype.renderOriginalLine=function(e,t,n,i,r,o){var s=t.getLineContent(r),a=g.LineDecoration.filter(o,r,1,s.length+1),c=m.renderViewLine(new m.RenderLineInput(n.fontInfo.isMonospace&&!n.viewInfo.disableMonospaceOptimizations,s,t.mightContainRTL(),0,[new S.ViewLineToken(s.length,16793600)],a,i,n.fontInfo.spaceWidth,n.viewInfo.stopRenderingLineAfter,n.viewInfo.renderWhitespace,n.viewInfo.renderControlCharacters,n.viewInfo.fontLigatures)),l=[];return l.push('<div class="view-line'),0===o.length&&l.push(" char-delete"),l.push('" style="top:'),l.push(String(e*n.lineHeight)),l.push('px;width:1000000px;">'),(l=l.concat(c.html)).push("</div>"),l},t}(V);T.registerThemingParticipant(function(e,t){var n=e.getColor(k.diffInserted);n&&(t.addRule(".monaco-editor .line-insert, .monaco-editor .char-insert { background-color: "+n+"; }"),t.addRule(".monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: "+n+"; }"),t.addRule(".monaco-editor .inline-added-margin-view-zone { background-color: "+n+"; }"));var i=e.getColor(k.diffRemoved);i&&(t.addRule(".monaco-editor .line-delete, .monaco-editor .char-delete { background-color: "+i+"; }"),t.addRule(".monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: "+i+"; }"),t.addRule(".monaco-editor .inline-deleted-margin-view-zone { background-color: "+i+"; }"));var r=e.getColor(k.diffInsertedOutline);r&&t.addRule(".monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px dashed "+r+"; }");var o=e.getColor(k.diffRemovedOutline);o&&t.addRule(".monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px dashed "+o+"; }");var s=e.getColor(k.scrollbarShadow);s&&t.addRule(".monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px "+s+"; }")})}),define(u[427],d([1,0,26,6,32,17,56,182,13]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(t,n,i,r,o,s,a,c){var l=e.call(this,t,i.getRawConfiguration(),r,o,s,a,c)||this;return l._parentEditor=i,l._overwriteOptions=n,e.prototype.updateOptions.call(l,l._overwriteOptions),l._register(i.onDidChangeConfiguration(function(e){return l._onParentConfigurationChanged(e)})),l}return h(t,e),t.prototype.getParentEditor=function(){return this._parentEditor},t.prototype._onParentConfigurationChanged=function(t){e.prototype.updateOptions.call(this,this._parentEditor.getRawConfiguration()),e.prototype.updateOptions.call(this,this._overwriteOptions)},t.prototype.updateOptions=function(t){n.mixin(this._overwriteOptions,t,!0),e.prototype.updateOptions.call(this,this._overwriteOptions)},t}(a.CodeEditor);l=v([y(3,i.IInstantiationService),y(4,s.ICodeEditorService),y(5,r.ICommandService),y(6,o.IContextKeyService),y(7,c.IThemeService)],l),t.EmbeddedCodeEditorWidget=l}),define(u[900],d([1,0,744,5,37,18,33,25,48,13,111,77]),function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(e){function t(){return e.call(this,{id:"editor.action.jumpToBracket",label:n.localize(0,null),alias:"Go to Bracket",precondition:null,kbOpts:{kbExpr:c.EditorContextKeys.textFocus,primary:3160}})||this}return h(t,e),t.prototype.run=function(e,t){var n=g.get(t);n&&n.jumpToBracket()},t}(a.EditorAction);p=v([a.editorAction],p);var f=function(){return function(e,t){this.position=e,this.brackets=t}}(),g=m=function(e){function t(t){var n=e.call(this)||this;return n._editor=t,n._lastBracketsData=[],n._lastVersionId=0,n._decorations=[],n._updateBracketsSoon=n._register(new o.RunOnceScheduler(function(){return n._updateBrackets()},50)),n._matchBrackets=n._editor.getConfiguration().contribInfo.matchBrackets,n._updateBracketsSoon.schedule(),n._register(t.onDidChangeCursorPosition(function(e){n._matchBrackets&&n._updateBracketsSoon.schedule()})),n._register(t.onDidChangeModel(function(e){n._decorations=[],n._updateBracketsSoon.schedule()})),n._register(t.onDidChangeConfiguration(function(e){n._matchBrackets=n._editor.getConfiguration().contribInfo.matchBrackets,!n._matchBrackets&&n._decorations.length>0&&(n._decorations=n._editor.deltaDecorations(n._decorations,[])),n._updateBracketsSoon.schedule()})),n}return h(t,e),t.get=function(e){return e.getContribution(m.ID)},t.prototype.getId=function(){return m.ID},t.prototype.jumpToBracket=function(){var e=this._editor.getModel();if(e){var t=this._editor.getSelection();if(t.isEmpty()){var n=t.getStartPosition(),i=e.matchBracket(n);if(i){var r=null;i[0].containsPosition(n)?r=i[1].getStartPosition():i[1].containsPosition(n)&&(r=i[0].getStartPosition()),r&&(this._editor.setPosition(r),this._editor.revealPosition(r))}}}},t.prototype._updateBrackets=function(){if(this._matchBrackets){this._recomputeBrackets();for(var e=[],t=0,n=0,i=this._lastBracketsData.length;n<i;n++){var r=this._lastBracketsData[n].brackets;r&&(e[t++]={range:r[0],options:m._DECORATION_OPTIONS},e[t++]={range:r[1],options:m._DECORATION_OPTIONS})}this._decorations=this._editor.deltaDecorations(this._decorations,e)}},t.prototype._recomputeBrackets=function(){var e=this._editor.getModel();if(!e)return this._lastBracketsData=[],void(this._lastVersionId=0);var t=e.getVersionId(),n=[];this._lastVersionId===t&&(n=this._lastBracketsData);for(var i=this._editor.getSelections(),o=[],s=0,a=0,c=i.length;a<c;a++){var l=i[a];l.isEmpty()&&(o[s++]=l.getStartPosition())}o.length>1&&o.sort(r.Position.compare);for(var u=[],d=0,h=0,p=n.length,a=0,c=o.length;a<c;a++){for(var g=o[a];h<p&&n[h].position.isBefore(g);)h++;if(h<p&&n[h].position.equals(g))u[d++]=n[h];else{var v=e.matchBracket(g);u[d++]=new f(g,v)}}this._lastBracketsData=u,this._lastVersionId=t},t}(i.Disposable);g.ID="editor.contrib.bracketMatchingController",g._DECORATION_OPTIONS=d.ModelDecorationOptions.register({stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"bracket-match"}),g=m=v([a.commonEditorContribution],g),t.BracketMatchingController=g,l.registerThemingParticipant(function(e,t){var n=e.getColor(u.editorBracketMatchBackground);n&&t.addRule(".monaco-editor .bracket-match { background-color: "+n+"; }");var i=e.getColor(u.editorBracketMatchBorder);i&&t.addRule(".monaco-editor .bracket-match { border: 1px solid "+i+"; }")});var m}),define(u[901],d([1,0,5,36,12,9,14,73,77,111,13,29,1061]),function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function e(e,t){this.afterLineNumber=e,this._onHeight=t,this.heightInLines=1,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}return e.prototype.onComputedHeight=function(e){void 0===this._lastHeight?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())},e}(),p=function(){function e(t,n,r,s){var a=this;this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._disposables=[],this._commands=Object.create(null),this._id="codeLensWidget"+ ++e._idPool,this._editor=t,this.setSymbolRange(n),this._domNode=document.createElement("span"),this._domNode.innerHTML="&nbsp;",o.addClass(this._domNode,"codelens-decoration"),o.addClass(this._domNode,"invisible-cl"),this._updateHeight(),this._disposables.push(this._editor.onDidChangeConfiguration(function(e){return e.fontInfo&&a._updateHeight()})),this._disposables.push(o.addDisposableListener(this._domNode,"click",function(e){var n=e.target;if("A"===n.tagName&&n.id){var o=a._commands[n.id];o&&(t.focus(),r.executeCommand.apply(r,[o.id].concat(o.arguments)).done(void 0,function(e){s.show(i.default.Error,e)}))}})),this.updateVisibility()}return e.prototype.dispose=function(){n.dispose(this._disposables),this._symbolRange=null},e.prototype._updateHeight=function(){var e=this._editor.getConfiguration(),t=e.fontInfo,n=e.lineHeight;this._domNode.style.height=Math.round(1.1*n)+"px",this._domNode.style.lineHeight=n+"px",this._domNode.style.fontSize=Math.round(.9*t.fontSize)+"px",this._domNode.innerHTML="&nbsp;"},e.prototype.updateVisibility=function(){this.isVisible()&&(o.removeClass(this._domNode,"invisible-cl"),o.addClass(this._domNode,"fadein"))},e.prototype.withCommands=function(e){if(this._commands=Object.create(null),e&&e.length){for(var t=[],n=0;n<e.length;n++){var i=e[n].command,o=r.escape(i.title),s=void 0;i.id?(s=r.format("<a id={0}>{1}</a>",n,o),this._commands[n]=i):s=r.format("<span>{0}</span>",o),t.push(s)}this._domNode.innerHTML=t.join("<span>&nbsp;|&nbsp;</span>"),this._editor.layoutContentWidget(this)}else this._domNode.innerHTML="no commands"},e.prototype.getId=function(){return this._id},e.prototype.getDomNode=function(){return this._domNode},e.prototype.setSymbolRange=function(e){this._symbolRange=e;var t=e.startLineNumber,n=this._editor.getModel().getLineFirstNonWhitespaceColumn(t);this._widgetPosition={position:{lineNumber:t,column:n},preference:[a.ContentWidgetPositionPreference.ABOVE]}},e.prototype.getPosition=function(){return this._widgetPosition},e.prototype.isVisible=function(){return this._domNode.hasAttribute("monaco-visible-content-widget")},e}();p._idPool=0;var f=function(){function e(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}return e.prototype.addDecoration=function(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)},e.prototype.removeDecoration=function(e){this._removeDecorations.push(e)},e.prototype.commit=function(e){for(var t=e.deltaDecorations(this._removeDecorations,this._addDecorations),n=0,i=t.length;n<i;n++)this._addDecorationsCallbacks[n](t[n])},e}();t.CodeLensHelper=f;var g=function(){function e(e,t,n,i,r,o,a){var l=this;this._editor=t,this._data=e,this._decorationIds=new Array(this._data.length);var u;this._data.forEach(function(e,t){n.addDecoration({range:e.symbol.range,options:c.ModelDecorationOptions.EMPTY},function(e){return l._decorationIds[t]=e}),u=u?s.Range.plusRange(u,e.symbol.range):s.Range.lift(e.symbol.range)}),this._contentWidget=new p(t,u,r,o),this._viewZone=new h(u.startLineNumber-1,a),this._viewZoneId=i.addZone(this._viewZone),this._editor.addContentWidget(this._contentWidget)}return e.prototype.dispose=function(e,t){for(;this._decorationIds.length;)e.removeDecoration(this._decorationIds.pop());t&&t.removeZone(this._viewZoneId),this._editor.removeContentWidget(this._contentWidget),this._contentWidget.dispose()},e.prototype.isValid=function(){var e=this;return this._decorationIds.some(function(t,n){var i=e._editor.getModel().getDecorationRange(t),r=e._data[n].symbol;return i&&s.Range.isEmpty(r.range)===i.isEmpty()})},e.prototype.updateCodeLensSymbols=function(e,t){for(var n=this;this._decorationIds.length;)t.removeDecoration(this._decorationIds.pop());this._data=e,this._decorationIds=new Array(this._data.length),this._data.forEach(function(e,i){t.addDecoration({range:e.symbol.range,options:c.ModelDecorationOptions.EMPTY},function(e){return n._decorationIds[i]=e})})},e.prototype.computeIfNecessary=function(e){if(this._contentWidget.updateVisibility(),!this._contentWidget.isVisible())return null;for(var t=0;t<this._decorationIds.length;t++)this._data[t].symbol.range=e.getDecorationRange(this._decorationIds[t]);return this._data},e.prototype.updateCommands=function(e){this._contentWidget.withCommands(e)},e.prototype.getLineNumber=function(){var e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1},e.prototype.update=function(e){if(this.isValid()){var t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget.setSymbolRange(t),this._editor.layoutContentWidget(this._contentWidget)}},e}();t.CodeLens=g,u.registerThemingParticipant(function(e,t){var n=e.getColor(l.editorCodeLensForeground);n&&t.addRule(".monaco-editor .codelens-decoration { color: "+n+"; }");var i=e.getColor(d.editorActiveLinkForeground);i&&t.addRule(".monaco-editor .codelens-decoration > a:hover { color: "+i+" !important; }")})}),define(u[902],d([1,0,18,7,5,4,32,20,46,68,838,901]),function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=p=function(){function e(e,t,n){var i=this;this._editor=e,this._commandService=t,this._messageService=n,this._isEnabled=this._editor.getConfiguration().contribInfo.codeLens,this._globalToDispose=[],this._localToDispose=[],this._lenses=[],this._currentFindCodeLensSymbolsPromise=null,this._modelChangeCounter=0,this._globalToDispose.push(this._editor.onDidChangeModel(function(){return i._onModelChange()})),this._globalToDispose.push(this._editor.onDidChangeModelLanguage(function(){return i._onModelChange()})),this._globalToDispose.push(this._editor.onDidChangeConfiguration(function(e){var t=i._isEnabled;i._isEnabled=i._editor.getConfiguration().contribInfo.codeLens,t!==i._isEnabled&&i._onModelChange()})),this._globalToDispose.push(c.CodeLensProviderRegistry.onDidChange(this._onModelChange,this)),this._onModelChange()}return e.prototype.dispose=function(){this._localDispose(),this._globalToDispose=r.dispose(this._globalToDispose)},e.prototype._localDispose=function(){this._currentFindCodeLensSymbolsPromise&&(this._currentFindCodeLensSymbolsPromise.cancel(),this._currentFindCodeLensSymbolsPromise=null,this._modelChangeCounter++),this._currentFindOccPromise&&(this._currentFindOccPromise.cancel(),this._currentFindOccPromise=null),this._localToDispose=r.dispose(this._localToDispose)},e.prototype.getId=function(){return p.ID},e.prototype._onModelChange=function(){var e=this;this._localDispose();var t=this._editor.getModel();if(t&&this._isEnabled&&c.CodeLensProviderRegistry.has(t)){for(var r=0,o=c.CodeLensProviderRegistry.all(t);r<o.length;r++){var s=o[r];if("function"==typeof s.onDidChange){var a=s.onDidChange(function(){return l.schedule()});this._localToDispose.push(a)}}this._detectVisibleLenses=new n.RunOnceScheduler(function(){e._onViewportChanged(t.getLanguageIdentifier().language)},500);var l=new n.RunOnceScheduler(function(){e._currentFindCodeLensSymbolsPromise&&e._currentFindCodeLensSymbolsPromise.cancel(),e._currentFindCodeLensSymbolsPromise=u.getCodeLensData(t);var n=++e._modelChangeCounter;e._currentFindCodeLensSymbolsPromise.then(function(t){n===e._modelChangeCounter&&(e._renderCodeLensSymbols(t),e._detectVisibleLenses.schedule())},i.onUnexpectedError)},250);this._localToDispose.push(l),this._localToDispose.push(this._detectVisibleLenses),this._localToDispose.push(this._editor.onDidChangeModelContent(function(t){e._editor.changeDecorations(function(t){e._editor.changeViewZones(function(n){var i=[];e._lenses.forEach(function(e){e.isValid()?e.update(n):i.push(e)});var r=new d.CodeLensHelper;i.forEach(function(t){t.dispose(r,n),e._lenses.splice(e._lenses.indexOf(t),1)}),r.commit(t)})}),e._detectVisibleLenses.schedule(),l.schedule()})),this._localToDispose.push(this._editor.onDidScrollChange(function(t){t.scrollTopChanged&&e._detectVisibleLenses.schedule()})),this._localToDispose.push(this._editor.onDidLayoutChange(function(t){e._detectVisibleLenses.schedule()})),this._localToDispose.push({dispose:function(){e._editor.getModel()?e._editor.changeDecorations(function(t){e._editor.changeViewZones(function(n){e._disposeAllLenses(t,n)})}):e._disposeAllLenses(null,null)}}),l.schedule()}},e.prototype._disposeAllLenses=function(e,t){var n=new d.CodeLensHelper;this._lenses.forEach(function(e){return e.dispose(n,t)}),e&&n.commit(e),this._lenses=[]},e.prototype._renderCodeLensSymbols=function(e){var t=this;if(this._editor.getModel()){for(var n,i=this._editor.getModel().getLineCount(),r=[],o=0,s=e;o<s.length;o++){var a=s[o],c=a.symbol.range.startLineNumber;c<1||c>i||(n&&n[n.length-1].symbol.range.startLineNumber===c?n.push(a):(n=[a],r.push(n)))}var l=this._editor.getCenteredRangeInViewport(),u=l&&r.length!==this._lenses.length&&0!==this._editor.getScrollTop();this._editor.changeDecorations(function(e){t._editor.changeViewZones(function(n){for(var i=0,o=0,s=new d.CodeLensHelper;o<r.length&&i<t._lenses.length;){var a=r[o][0].symbol.range.startLineNumber,c=t._lenses[i].getLineNumber();c<a?(t._lenses[i].dispose(s,n),t._lenses.splice(i,1)):c===a?(t._lenses[i].updateCodeLensSymbols(r[o],s),o++,i++):(t._lenses.splice(i,0,new d.CodeLens(r[o],t._editor,s,n,t._commandService,t._messageService,function(){return t._detectVisibleLenses.schedule()})),i++,o++)}for(;i<t._lenses.length;)t._lenses[i].dispose(s,n),t._lenses.splice(i,1);for(;o<r.length;)t._lenses.push(new d.CodeLens(r[o],t._editor,s,n,t._commandService,t._messageService,function(){return t._detectVisibleLenses.schedule()})),o++;s.commit(e)})}),u&&this._editor.revealRangeInCenter(l)}},e.prototype._onViewportChanged=function(e){var t=this;this._currentFindOccPromise&&(this._currentFindOccPromise.cancel(),this._currentFindOccPromise=null);var i=this._editor.getModel();if(i){var r=[],s=[];if(this._lenses.forEach(function(e){var t=e.computeIfNecessary(i);t&&(r.push(t),s.push(e))}),0!==r.length){var a=r.map(function(e,t){var r=new Array(e.length),a=e.map(function(e,t){return n.asWinJsPromise(function(t){return e.provider.resolveCodeLens(i,e.symbol,t)}).then(function(e){r[t]=e})});return o.TPromise.join(a).then(function(){s[t].updateCommands(r)})});this._currentFindOccPromise=o.TPromise.join(a).then(function(){t._currentFindOccPromise=null})}}},e}();h.ID="css.editor.codeLens",h=p=v([l.editorContribution,y(1,s.ICommandService),y(2,a.IMessageService)],h),t.CodeLensContribution=h;var p}),define(u[903],d([1,0,9,91,73,257,379,18,13,29]),function(e,t,n,i,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){function t(t,i,r,c){var u=e.call(this)||this;u._hideSoon=u._register(new a.RunOnceScheduler(function(){return u._hide()},1e3)),u._isVisible=!1,u._editor=t,u._state=i,u._keybindingService=r,u._domNode=document.createElement("div"),u._domNode.className="findOptionsWidget",u._domNode.style.display="none",u._domNode.style.top="10px",u._domNode.setAttribute("role","presentation"),u._domNode.setAttribute("aria-hidden","true");var d=c.getTheme().getColor(l.inputActiveOptionBorder);return u.caseSensitive=u._register(new s.CaseSensitiveCheckbox({appendTitle:u._keybindingLabelFor(o.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:u._state.matchCase,onChange:function(e){u._state.change({matchCase:u.caseSensitive.checked},!1)},inputActiveOptionBorder:d})),u._domNode.appendChild(u.caseSensitive.domNode),u.wholeWords=u._register(new s.WholeWordsCheckbox({appendTitle:u._keybindingLabelFor(o.FIND_IDS.ToggleWholeWordCommand),isChecked:u._state.wholeWord,onChange:function(e){u._state.change({wholeWord:u.wholeWords.checked},!1)},inputActiveOptionBorder:d})),u._domNode.appendChild(u.wholeWords.domNode),u.regex=u._register(new s.RegexCheckbox({appendTitle:u._keybindingLabelFor(o.FIND_IDS.ToggleRegexCommand),isChecked:u._state.isRegex,onChange:function(e){u._state.change({isRegex:u.regex.checked},!1)},inputActiveOptionBorder:d})),u._domNode.appendChild(u.regex.domNode),u._editor.addOverlayWidget(u),u._register(u._state.addChangeListener(function(e){var t=!1;e.isRegex&&(u.regex.checked=u._state.isRegex,t=!0),e.wholeWord&&(u.wholeWords.checked=u._state.wholeWord,t=!0),e.matchCase&&(u.caseSensitive.checked=u._state.matchCase,t=!0),!u._state.isRevealed&&t&&u._revealTemporarily()})),u._register(n.addDisposableNonBubblingMouseOutListener(u._domNode,function(e){return u._onMouseOut()})),u._register(n.addDisposableListener(u._domNode,"mouseover",function(e){return u._onMouseOver()})),u._applyTheme(c.getTheme()),u._register(c.onThemeChange(u._applyTheme.bind(u))),u}return h(t,e),t.prototype._keybindingLabelFor=function(e){var t=this._keybindingService.lookupKeybinding(e);return t?" ("+t.getLabel()+")":""},t.prototype.dispose=function(){this._editor.removeOverlayWidget(this),e.prototype.dispose.call(this)},t.prototype.getId=function(){return t.ID},t.prototype.getDomNode=function(){return this._domNode},t.prototype.getPosition=function(){return{preference:r.OverlayWidgetPositionPreference.TOP_RIGHT_CORNER}},t.prototype.highlightFindOptions=function(){this._revealTemporarily()},t.prototype._revealTemporarily=function(){this._show(),this._hideSoon.schedule()},t.prototype._onMouseOut=function(){this._hideSoon.schedule()},t.prototype._onMouseOver=function(){this._hideSoon.cancel()},t.prototype._show=function(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")},t.prototype._hide=function(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")},t.prototype._applyTheme=function(e){var t={inputActiveOptionBorder:e.getColor(l.inputActiveOptionBorder)};this.caseSensitive.style(t),this.wholeWords.style(t),this.regex.style(t)},t}(i.Widget);u.ID="editor.contrib.findOptionsWidget",t.FindOptionsWidget=u,c.registerThemingParticipant(function(e,t){var n=e.getColor(l.editorWidgetBackground);n&&t.addRule(".monaco-editor .findOptionsWidget { background-color: "+n+"; }");var i=e.getColor(l.widgetShadow);i&&t.addRule(".monaco-editor .findOptionsWidget { box-shadow: 0 2px 8px "+i+"; }");var r=e.getColor(l.contrastBorder);r&&t.addRule(".monaco-editor .findOptionsWidget { border: 2px solid "+r+"; }")})}),define(u[904],d([1,0,913,7,11,12,9,220,110,91,151,73,257,14,235,13,29,1056]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,v,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var y=n.localize(0,null),b=n.localize(1,null),S=n.localize(2,null),_=n.localize(3,null),E=n.localize(4,null),C=n.localize(5,null),w=n.localize(6,null),I=n.localize(7,null),T=n.localize(8,null),k=n.localize(9,null),x=n.localize(10,null),A=n.localize(11,null),L=n.localize(12,null),P=n.localize(13,null),D=411,O=69,R=17+(O+3+1)+92+2,M=34,N=function(){return function(e){this.afterLineNumber=e,this.heightInPx=M,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}();t.FindWidgetViewZone=N;var F=function(e){function t(t,n,i,r,o,a,c){var l=e.call(this)||this;l._codeEditor=t,l._controller=n,l._state=i,l._contextViewProvider=r,l._keybindingService=o,l._isVisible=!1,l._isReplaceVisible=!1,l._register(l._state.addChangeListener(function(e){return l._onStateChanged(e)})),l._buildDomNode(),l._updateButtons();var u=function(){var e=l._codeEditor.getConfiguration().layoutInfo.width,t=l._codeEditor.getConfiguration().layoutInfo.minimapWidth,n=!1,i=!1,r=!1;if(s.getTotalWidth(l._domNode)>D)return l._domNode.style.maxWidth=e-28-t-15+"px",void(l._replaceInputBox.inputElement.style.width=s.getTotalWidth(l._findInput.inputBox.inputElement)+"px");D+28+t>=e&&(i=!0),D+28+t-O>=e&&(r=!0),D+28+t-O>=e+50&&(n=!0),s.toggleClass(l._domNode,"collapsed-find-widget",n),s.toggleClass(l._domNode,"narrow-find-widget",r),s.toggleClass(l._domNode,"reduced-find-widget",i),r||n||(l._domNode.style.maxWidth=e-28-t-15+"px");var o=s.getTotalWidth(l._findInput.inputBox.inputElement);o>0&&(l._replaceInputBox.inputElement.style.width=o+"px")};return u(),l._register(l._codeEditor.onDidChangeConfiguration(function(e){e.readOnly&&(l._codeEditor.getConfiguration().readOnly&&l._state.change({isReplaceRevealed:!1},!1),l._updateButtons()),e.layoutInfo&&u()})),l._register(l._codeEditor.onDidChangeCursorSelection(function(){l._isVisible&&l._updateToggleSelectionFindButton()})),l._findInputFocussed=g.CONTEXT_FIND_INPUT_FOCUSSED.bindTo(a),l._focusTracker=l._register(s.trackFocus(l._findInput.inputBox.inputElement)),l._focusTracker.addFocusListener(function(){if(l._findInputFocussed.set(!0),l._toggleSelectionFind.checked){var e=l._codeEditor.getSelection();1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,1));var t=l._state.currentMatch;e.startLineNumber!==e.endLineNumber&&(f.Range.equalsRange(e,t)||l._state.change({searchScope:e},!0))}}),l._focusTracker.addBlurListener(function(){l._findInputFocussed.set(!1)}),l._codeEditor.addOverlayWidget(l),l._viewZone=new N(0),l._applyTheme(c.getTheme()),l._register(c.onThemeChange(l._applyTheme.bind(l))),l._register(l._codeEditor.onDidChangeModel(function(e){l._isVisible&&void 0!==l._viewZoneId&&l._codeEditor.changeViewZones(function(e){e.removeZone(l._viewZoneId),l._viewZoneId=void 0})})),l._register(l._codeEditor.onDidScrollChange(function(e){e.scrollTopChanged?l._layoutViewZone():setTimeout(function(){l._layoutViewZone()},0)})),l}return h(t,e),t.prototype.getId=function(){return t.ID},t.prototype.getDomNode=function(){return this._domNode},t.prototype.getPosition=function(){return this._isVisible?{preference:d.OverlayWidgetPositionPreference.TOP_RIGHT_CORNER}:null},t.prototype._onStateChanged=function(e){if(e.searchString&&(this._findInput.setValue(this._state.searchString),this._updateButtons()),e.replaceString&&(this._replaceInputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal(!0):this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?this._codeEditor.getConfiguration().readOnly||this._isReplaceVisible||(this._isReplaceVisible=!0,this._updateButtons()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){var t=this._state.searchString.length>0&&0===this._state.matchesCount;s.toggleClass(this._domNode,"no-results",t),this._updateMatchesCount()}(e.searchString||e.currentMatch)&&this._layoutViewZone()},t.prototype._updateMatchesCount=function(){this._matchesCount.style.minWidth=O+"px",this._state.matchesCount>=p.MATCHES_LIMIT?this._matchesCount.title=A:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);var e;if(this._state.matchesCount>0){var t=String(this._state.matchesCount);this._state.matchesCount>=p.MATCHES_LIMIT&&(t+="+");var n=String(this._state.matchesPosition);"0"===n&&(n="?"),e=o.format(L,n,t)}else e=P;this._matchesCount.appendChild(document.createTextNode(e)),O=Math.max(O,this._matchesCount.clientWidth)},t.prototype._updateToggleSelectionFindButton=function(){var e=this._codeEditor.getSelection(),t=!!e&&(e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn),n=this._toggleSelectionFind.checked;this._toggleSelectionFind.setEnabled(this._isVisible&&(n||t))},t.prototype._updateButtons=function(){this._findInput.setEnabled(this._isVisible),this._replaceInputBox.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);var e=this._state.searchString.length>0;this._prevBtn.setEnabled(this._isVisible&&e),this._nextBtn.setEnabled(this._isVisible&&e),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),s.toggleClass(this._domNode,"replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("collapse",!this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("expand",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);var t=!this._codeEditor.getConfiguration().readOnly;this._toggleReplaceBtn.setEnabled(this._isVisible&&t)},t.prototype._reveal=function(e){var t=this;if(!this._isVisible){this._isVisible=!0;var n=this._codeEditor.getSelection();!!n&&(n.startLineNumber!==n.endLineNumber||n.startColumn!==n.endColumn)&&this._codeEditor.getConfiguration().contribInfo.find.autoFindInSelection?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateButtons(),setTimeout(function(){s.addClass(t._domNode,"visible"),t._domNode.setAttribute("aria-hidden","false"),e||(s.addClass(t._domNode,"noanimation"),setTimeout(function(){s.removeClass(t._domNode,"noanimation")},200))},0),this._codeEditor.layoutOverlayWidget(this);var i=!0;if(this._codeEditor.getConfiguration().contribInfo.find.seedSearchStringFromSelection&&n){var r=s.getDomNodePagePosition(this._codeEditor.getDomNode()),o=this._codeEditor.getScrolledVisiblePosition(n.getStartPosition()),a=r.left+o.left;if(o.top<this._viewZone.heightInPx){n.endLineNumber>n.startLineNumber&&(i=!1);var c=s.getTopLeftOffset(this._domNode).left;a>c&&(i=!1);var l=this._codeEditor.getScrolledVisiblePosition(n.getEndPosition());r.left+l.left>c&&(i=!1)}}this._showViewZone(i)}},t.prototype._hide=function(e){var t=this;this._isVisible&&(this._isVisible=!1,this._updateButtons(),s.removeClass(this._domNode,"visible"),this._domNode.setAttribute("aria-hidden","true"),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._codeEditor.changeViewZones(function(e){void 0!==t._viewZoneId&&(e.removeZone(t._viewZoneId),t._viewZoneId=void 0,t._codeEditor.setScrollTop(t._codeEditor.getScrollTop()-t._viewZone.heightInPx))}))},t.prototype._layoutViewZone=function(){var e=this;this._isVisible&&void 0===this._viewZoneId&&this._codeEditor.changeViewZones(function(t){e._state.isReplaceRevealed?e._viewZone.heightInPx=64:e._viewZone.heightInPx=M,e._viewZoneId=t.addZone(e._viewZone),e._codeEditor.setScrollTop(e._codeEditor.getScrollTop()+e._viewZone.heightInPx)})},t.prototype._showViewZone=function(e){var t=this;void 0===e&&(e=!0),this._isVisible&&this._codeEditor.changeViewZones(function(n){var i=M;void 0!==t._viewZoneId?(t._state.isReplaceRevealed?(t._viewZone.heightInPx=64,i=64-M):(t._viewZone.heightInPx=M,i=M-64),n.removeZone(t._viewZoneId)):t._viewZone.heightInPx=M,t._viewZoneId=n.addZone(t._viewZone),e&&t._codeEditor.setScrollTop(t._codeEditor.getScrollTop()+i)})},t.prototype._applyTheme=function(e){var t={inputActiveOptionBorder:e.getColor(m.inputActiveOptionBorder),inputBackground:e.getColor(m.inputBackground),inputForeground:e.getColor(m.inputForeground),inputBorder:e.getColor(m.inputBorder),inputValidationInfoBackground:e.getColor(m.inputValidationInfoBackground),inputValidationInfoBorder:e.getColor(m.inputValidationInfoBorder),inputValidationWarningBackground:e.getColor(m.inputValidationWarningBackground),inputValidationWarningBorder:e.getColor(m.inputValidationWarningBorder),inputValidationErrorBackground:e.getColor(m.inputValidationErrorBackground),inputValidationErrorBorder:e.getColor(m.inputValidationErrorBorder)};this._findInput.style(t),this._replaceInputBox.style(t)},t.prototype.focusFindInput=function(){this._findInput.select(),this._findInput.focus()},t.prototype.focusReplaceInput=function(){this._replaceInputBox.select(),this._replaceInputBox.focus()},t.prototype.highlightFindOptions=function(){this._findInput.highlightFindOptions()},t.prototype._onFindInputMouseDown=function(e){e.middleButton&&e.stopPropagation()},t.prototype._onFindInputKeyDown=function(e){return e.equals(3)?(this._codeEditor.getAction(p.FIND_IDS.NextMatchFindAction).run().done(null,i.onUnexpectedError),void e.preventDefault()):e.equals(1027)?(this._codeEditor.getAction(p.FIND_IDS.PreviousMatchFindAction).run().done(null,i.onUnexpectedError),void e.preventDefault()):e.equals(2)?(this._isReplaceVisible?this._replaceInputBox.focus():this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):void 0},t.prototype._onReplaceInputKeyDown=function(e){return e.equals(3)?(this._controller.replace(),void e.preventDefault()):e.equals(2051)?(this._controller.replaceAll(),void e.preventDefault()):e.equals(2)?(this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(1026)?(this._findInput.focus(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):void 0},t.prototype.getHorizontalSashTop=function(e){return 0},t.prototype.getHorizontalSashLeft=function(e){return 0},t.prototype.getHorizontalSashWidth=function(e){return 500},t.prototype._keybindingLabelFor=function(e){var t=this._keybindingService.lookupKeybinding(e);return t?" ("+t.getLabel()+")":""},t.prototype._buildFindPart=function(){var e=this;this._findInput=this._register(new a.FindInput(null,this._contextViewProvider,{width:221,label:y,placeholder:b,appendCaseSensitiveLabel:this._keybindingLabelFor(p.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(p.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(p.FIND_IDS.ToggleRegexCommand),validation:function(t){if(0===t.length)return null;if(!e._findInput.getRegex())return null;try{return new RegExp(t),null}catch(e){return{content:e.message}}}})),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(function(t){return e._onFindInputKeyDown(t)})),this._register(this._findInput.onInput(function(){e._state.change({searchString:e._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(function(){e._state.change({isRegex:e._findInput.getRegex(),wholeWord:e._findInput.getWholeWords(),matchCase:e._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(function(t){t.equals(1026)&&e._isReplaceVisible&&(e._replaceInputBox.focus(),t.preventDefault())})),r.isLinux&&this._register(this._findInput.onMouseDown(function(t){return e._onFindInputMouseDown(t)})),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new B({label:S+this._keybindingLabelFor(p.FIND_IDS.PreviousMatchFindAction),className:"previous",onTrigger:function(){e._codeEditor.getAction(p.FIND_IDS.PreviousMatchFindAction).run().done(null,i.onUnexpectedError)},onKeyDown:function(e){}})),this._nextBtn=this._register(new B({label:_+this._keybindingLabelFor(p.FIND_IDS.NextMatchFindAction),className:"next",onTrigger:function(){e._codeEditor.getAction(p.FIND_IDS.NextMatchFindAction).run().done(null,i.onUnexpectedError)},onKeyDown:function(e){}}));var t=document.createElement("div");return t.className="find-part",t.appendChild(this._findInput.domNode),t.appendChild(this._matchesCount),t.appendChild(this._prevBtn.domNode),t.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new W({parent:t,title:E+this._keybindingLabelFor(p.FIND_IDS.ToggleSearchScopeCommand),onChange:function(){if(e._toggleSelectionFind.checked){var t=e._codeEditor.getSelection();1===t.endColumn&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,1)),t.isEmpty()||e._state.change({searchScope:t},!0)}else e._state.change({searchScope:null},!0)}})),this._closeBtn=this._register(new B({label:C+this._keybindingLabelFor(p.FIND_IDS.CloseFindWidgetCommand),className:"close-fw",onTrigger:function(){e._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:function(t){t.equals(2)&&e._isReplaceVisible&&(e._replaceBtn.isEnabled()?e._replaceBtn.focus():e._codeEditor.focus(),t.preventDefault())}})),t.appendChild(this._closeBtn.domNode),t},t.prototype._buildReplacePart=function(){var e=this,t=document.createElement("div");t.className="replace-input",t.style.width="221px",this._replaceInputBox=this._register(new c.InputBox(t,null,{ariaLabel:w,placeholder:I})),this._register(s.addStandardDisposableListener(this._replaceInputBox.inputElement,"keydown",function(t){return e._onReplaceInputKeyDown(t)})),this._register(s.addStandardDisposableListener(this._replaceInputBox.inputElement,"input",function(t){e._state.change({replaceString:e._replaceInputBox.value},!1)})),this._replaceBtn=this._register(new B({label:T+this._keybindingLabelFor(p.FIND_IDS.ReplaceOneAction),className:"replace",onTrigger:function(){e._controller.replace()},onKeyDown:function(t){t.equals(1026)&&(e._closeBtn.focus(),t.preventDefault())}})),this._replaceAllBtn=this._register(new B({label:k+this._keybindingLabelFor(p.FIND_IDS.ReplaceAllAction),className:"replace-all",onTrigger:function(){e._controller.replaceAll()},onKeyDown:function(e){}}));var n=document.createElement("div");return n.className="replace-part",n.appendChild(t),n.appendChild(this._replaceBtn.domNode),n.appendChild(this._replaceAllBtn.domNode),n},t.prototype._buildDomNode=function(){var e=this,t=this._buildFindPart(),n=this._buildReplacePart();this._toggleReplaceBtn=this._register(new B({label:x,className:"toggle left",onTrigger:function(){e._state.change({isReplaceRevealed:!e._isReplaceVisible},!1),e._isReplaceVisible&&(e._replaceInputBox.width=e._findInput.inputBox.width),e._showViewZone()},onKeyDown:function(e){}})),this._toggleReplaceBtn.toggleClass("expand",this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("collapse",!this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(t),this._domNode.appendChild(n),this._buildSash()},t.prototype._buildSash=function(){var e=this;this._resizeSash=new u.Sash(this._domNode,this,{orientation:u.Orientation.VERTICAL});var t=D;this._register(this._resizeSash.addListener("start",function(n){t=s.getTotalWidth(e._domNode)})),this._register(this._resizeSash.addListener("change",function(n){var i=t+n.startX-n.currentX;if(!(i<D)){var r=i-R;i>(parseFloat(s.getComputedStyle(e._domNode).maxWidth)||0)||(e._domNode.style.width=i+"px",e._isReplaceVisible&&(e._replaceInputBox.width=r))}}))},t}(l.Widget);F.ID="editor.contrib.findWidget",t.FindWidget=F;var W=function(e){function t(n){var i=e.call(this)||this;return i._opts=n,i._domNode=document.createElement("div"),i._domNode.className="monaco-checkbox",i._domNode.title=i._opts.title,i._domNode.tabIndex=0,i._checkbox=document.createElement("input"),i._checkbox.type="checkbox",i._checkbox.className="checkbox",i._checkbox.id="checkbox-"+t._COUNTER++,i._checkbox.tabIndex=-1,i._label=document.createElement("label"),i._label.className="label",i._label.htmlFor=i._checkbox.id,i._label.tabIndex=-1,i._domNode.appendChild(i._checkbox),i._domNode.appendChild(i._label),i._opts.parent.appendChild(i._domNode),i.onchange(i._checkbox,function(e){i._opts.onChange()}),i}return h(t,e),Object.defineProperty(t.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checked",{get:function(){return this._checkbox.checked},set:function(e){this._checkbox.checked=e},enumerable:!0,configurable:!0}),t.prototype.focus=function(){this._checkbox.focus()},t.prototype.enable=function(){this._checkbox.removeAttribute("disabled")},t.prototype.disable=function(){this._checkbox.disabled=!0},t.prototype.setEnabled=function(e){e?(this.enable(),this.domNode.tabIndex=0):(this.disable(),this.domNode.tabIndex=-1)},t}(l.Widget);W._COUNTER=0;var B=function(e){function t(t){var n=e.call(this)||this;return n._opts=t,n._domNode=document.createElement("div"),n._domNode.title=n._opts.label,n._domNode.tabIndex=0,n._domNode.className="button "+n._opts.className,n._domNode.setAttribute("role","button"),n._domNode.setAttribute("aria-label",n._opts.label),n.onclick(n._domNode,function(e){n._opts.onTrigger(),e.preventDefault()}),n.onkeydown(n._domNode,function(e){if(e.equals(10)||e.equals(3))return n._opts.onTrigger(),void e.preventDefault();n._opts.onKeyDown(e)}),n}return h(t,e),Object.defineProperty(t.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),t.prototype.isEnabled=function(){return this._domNode.tabIndex>=0},t.prototype.focus=function(){this._domNode.focus()},t.prototype.setEnabled=function(e){s.toggleClass(this._domNode,"disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1},t.prototype.setExpanded=function(e){this._domNode.setAttribute("aria-expanded",String(!!e))},t.prototype.toggleClass=function(e,t){s.toggleClass(this._domNode,e,t)},t}(l.Widget);v.registerThemingParticipant(function(e,t){function n(e,n){n&&t.addRule(".monaco-editor "+e+" { background-color: "+n+"; }")}n(".findMatch",e.getColor(m.editorFindMatchHighlight)),n(".currentFindMatch",e.getColor(m.editorFindMatch)),n(".findScope",e.getColor(m.editorFindRangeHighlight)),n(".find-widget",e.getColor(m.editorWidgetBackground));var i=e.getColor(m.widgetShadow);i&&t.addRule(".monaco-editor .find-widget { box-shadow: 0 2px 8px "+i+"; }");var r=e.getColor(m.activeContrastBorder);r&&(t.addRule(".monaco-editor .findScope { border: 1px dashed "+r.transparent(.4)+"; }"),t.addRule(".monaco-editor .currentFindMatch { border: 2px solid "+r+"; padding: 1px; -moz-box-sizing: border-box; box-sizing: border-box; }"),t.addRule(".monaco-editor .findMatch { border: 1px dotted "+r+"; -moz-box-sizing: border-box; box-sizing: border-box; }"));var o=e.getColor(m.contrastBorder);o&&t.addRule(".monaco-editor .find-widget { border: 2px solid "+o+"; }");var s=e.getColor(m.errorForeground);s&&t.addRule(".monaco-editor .find-widget.no-results .matchesCount { color: "+s+"; }");var a=e.getColor("panel.border");a&&t.addRule(".monaco-editor .find-widget .monaco-sash { background-color: "+a+"; width: 3px !important; margin-left: -4px;}")})}),define(u[426],d([1,0,41,38,17,68,904,903,235,13,31]),function(e,t,n,i,r,o,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(e){function t(t,n,i,r,o,c){var l=e.call(this,t,i,c)||this;return l._widget=l._register(new s.FindWidget(t,l,l._state,n,r,i,o)),l._findOptionsWidget=l._register(new a.FindOptionsWidget(t,l._state,r,o)),l}return h(t,e),t.prototype._start=function(t){e.prototype._start.call(this,t),2===t.shouldFocus?this._widget.focusReplaceInput():1===t.shouldFocus&&this._widget.focusFindInput()},t.prototype.highlightFindOptions=function(){this._state.isRevealed?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()},t}(c.CommonFindController);d=v([o.editorContribution,y(1,n.IContextViewService),y(2,r.IContextKeyService),y(3,i.IKeybindingService),y(4,l.IThemeService),y(5,u.IStorageService)],d),t.FindController=d}),define(u[906],d([1,0,18,5,114,14,25,73,17,13,29,1053]),function(e,t,n,i,r,o,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=f=function(){function e(e,t){this._messageListeners=[],this._editor=e,this._visible=f.CONTEXT_SNIPPET_MODE.bindTo(t)}return e.get=function(e){return e.getContribution(f._id)},e.prototype.getId=function(){return f._id},e.prototype.dispose=function(){this._visible.reset()},e.prototype.showMessage=function(e,t){var s=this;r.alert(e),this._visible.set(!0),i.dispose(this._messageWidget),this._messageListeners=i.dispose(this._messageListeners),this._messageWidget=new p(this._editor,t,e),this._messageListeners.push(this._editor.onDidBlurEditorText(function(){return s.closeMessage()})),this._messageListeners.push(this._editor.onDidChangeCursorPosition(function(){return s.closeMessage()})),this._messageListeners.push(this._editor.onDidDispose(function(){return s.closeMessage()})),this._messageListeners.push(this._editor.onDidChangeModel(function(){return s.closeMessage()})),this._messageListeners.push(n.setDisposableTimeout(function(){return s.closeMessage()},3e3));var a;this._messageListeners.push(this._editor.onMouseMove(function(e){e.target.position&&(a?a.containsPosition(e.target.position)||s.closeMessage():a=new o.Range(t.lineNumber-3,1,e.target.position.lineNumber+3,1))}))},e.prototype.closeMessage=function(){this._visible.reset(),this._messageListeners=i.dispose(this._messageListeners),this._messageListeners.push(p.fadeOut(this._messageWidget))},e}();d._id="editor.contrib.messageController",d.CONTEXT_SNIPPET_MODE=new c.RawContextKey("messageVisible",!1),d=f=v([s.commonEditorContribution,y(1,c.IContextKeyService)],d),t.MessageController=d;var h=s.EditorCommand.bindToContribution(d.get);s.CommonEditorRegistry.registerEditorCommand(new h({id:"leaveEditorMessage",precondition:d.CONTEXT_SNIPPET_MODE,handler:function(e){return e.closeMessage()},kbOpts:{weight:s.CommonEditorRegistry.commandWeight(30),primary:9}}));var p=function(){function e(e,t,n){var i=t.lineNumber,r=t.column;this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=e,this._editor.revealLinesInCenterIfOutsideViewport(i,i),this._position={lineNumber:i,column:1},this._domNode=document.createElement("div"),this._domNode.style.paddingLeft=e.getOffsetForColumn(i,r)-6+"px",this._domNode.classList.add("monaco-editor-overlaymessage");var o=document.createElement("div");o.classList.add("message"),o.textContent=n,this._domNode.appendChild(o);var s=document.createElement("div");s.classList.add("anchor"),this._domNode.appendChild(s),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}return e.fadeOut=function(e){var t,n=function(){e.dispose(),clearTimeout(t),e.getDomNode().removeEventListener("animationend",n)};return t=setTimeout(n,110),e.getDomNode().addEventListener("animationend",n),e.getDomNode().classList.add("fadeOut"),{dispose:n}},e.prototype.dispose=function(){this._editor.removeContentWidget(this)},e.prototype.getId=function(){return"messageoverlay"},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return{position:this._position,preference:[a.ContentWidgetPositionPreference.ABOVE]}},e}();l.registerThemingParticipant(function(e,t){var n=e.getColor(u.inputValidationInfoBorder);if(n){var i=e.type===l.HIGH_CONTRAST?2:1;t.addRule(".monaco-editor .monaco-editor-overlaymessage .anchor { border-top-color: "+n+"; }"),t.addRule(".monaco-editor .monaco-editor-overlaymessage .message { border: "+i+"px solid "+n+"; }")}var r=e.getColor(u.inputValidationInfoBackground);r&&t.addRule(".monaco-editor .monaco-editor-overlaymessage .message { background-color: "+r+"; }")});var f}),define(u[907],d([1,0,459,8,5,36,9,17,142,19,37,14,25,68,260,29,13,58,48,111,1052]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,b,S,_,E,C){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var w=function(){function e(e,t){var n=this;this._editor=e,this._markers=null,this._nextIdx=-1,this._toUnbind=[],this._ignoreSelectionChange=!1,this._onCurrentMarkerChanged=new i.Emitter,this._onMarkerSetChanged=new i.Emitter,this.setMarkers(t),this._toUnbind.push(this._editor.onDidDispose(function(){return n.dispose()})),this._toUnbind.push(this._editor.onDidChangeCursorPosition(function(){n._ignoreSelectionChange||(n._nextIdx=-1)}))}return Object.defineProperty(e.prototype,"onCurrentMarkerChanged",{get:function(){return this._onCurrentMarkerChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMarkerSetChanged",{get:function(){return this._onMarkerSetChanged.event},enumerable:!0,configurable:!0}),e.prototype.setMarkers=function(e){this._markers=e||[],this._markers.sort(function(e,t){return o.default.compare(e.severity,t.severity)||d.Range.compareRangesUsingStarts(e,t)}),this._nextIdx=-1,this._onMarkerSetChanged.fire(this)},e.prototype.withoutWatchingEditorPosition=function(e){this._ignoreSelectionChange=!0;try{e()}finally{this._ignoreSelectionChange=!1}},e.prototype._initIdx=function(e){for(var t=!1,n=this._editor.getPosition(),i=0;i<this._markers.length;i++){var r=d.Range.lift(this._markers[i]);if(r.isEmpty()){var o=this._editor.getModel().getWordAtPosition(r.getStartPosition());o&&(r=new d.Range(r.startLineNumber,o.startColumn,r.startLineNumber,o.endColumn))}if(r.containsPosition(n)||n.isBeforeOrEqual(r.getStartPosition())){this._nextIdx=i+(e?0:-1),t=!0;break}}t||(this._nextIdx=e?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)},e.prototype.move=function(e){if(this.canNavigate()){-1===this._nextIdx?this._initIdx(e):e?(this._nextIdx+=1,this._nextIdx>=this._markers.length&&(this._nextIdx=0)):(this._nextIdx-=1,this._nextIdx<0&&(this._nextIdx=this._markers.length-1));var t=this._markers[this._nextIdx];this._onCurrentMarkerChanged.fire(t)}else this._onCurrentMarkerChanged.fire(void 0)},e.prototype.canNavigate=function(){return this._markers.length>0},e.prototype.next=function(){this.move(!0)},e.prototype.previous=function(){this.move(!1)},e.prototype.findMarkerAtPosition=function(e){for(var t=0,n=this._markers;t<n.length;t++){var i=n[t];if(d.Range.containsPosition(i,e))return i}},Object.defineProperty(e.prototype,"total",{get:function(){return this._markers.length},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e){return 1+this._markers.indexOf(e)},e.prototype.reveal=function(){var e=this;-1!==this._nextIdx&&this.withoutWatchingEditorPosition(function(){var t=new u.Position(e._markers[e._nextIdx].startLineNumber,e._markers[e._nextIdx].startColumn);e._editor.setPosition(t),e._editor.revealPositionInCenter(t)})},e.prototype.dispose=function(){this._toUnbind=r.dispose(this._toUnbind)},e}(),I=function(){function e(e){this.lines=0,this.domNode=document.createElement("div"),this.domNode.className="block descriptioncontainer",this.domNode.setAttribute("aria-live","assertive"),this.domNode.setAttribute("role","alert"),e.appendChild(this.domNode)}return e.prototype.update=function(e){var t=this,n=e.source,i=e.message;if(this.lines=1,n){var r=new Array(n.length+3+1).join(" ");i="["+n+"] "+i.replace(/\r\n|\r|\n/g,function(){return t.lines+=1,"\n"+r})}this.domNode.innerText=i},e}(),T=function(e){function i(t,n,i){var r=e.call(this,t,{showArrow:!0,showFrame:!0,isAccessible:!0})||this;return r._model=n,r._themeService=i,r._callOnDispose=[],r._severity=o.default.Warning,r._backgroundColor=_.Color.white,r._applyTheme(i.getTheme()),r._callOnDispose.push(i.onThemeChange(r._applyTheme.bind(r))),r.create(),r._wireModelAndView(),r}return h(i,e),i.prototype._applyTheme=function(e){this._backgroundColor=e.getColor(t.editorMarkerNavigationBackground);var n=e.getColor(this._severity===o.default.Error?t.editorMarkerNavigationError:t.editorMarkerNavigationWarning);this.style({arrowColor:n,frameColor:n})},i.prototype._applyStyles=function(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor.toString()),e.prototype._applyStyles.call(this)},i.prototype.dispose=function(){this._callOnDispose=r.dispose(this._callOnDispose),e.prototype.dispose.call(this)},i.prototype.focus=function(){this._parentContainer.focus()},i.prototype._fillContainer=function(e){this._parentContainer=e,s.addClass(e,"marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._title=document.createElement("div"),this._title.className="block title",this._container.appendChild(this._title),this._message=new I(this._container),this.editor.applyFontInfo(this._message.domNode)},i.prototype.show=function(t,n){e.prototype.show.call(this,t,n),1!==this.editor.getConfiguration().accessibilitySupport&&this.focus()},i.prototype._wireModelAndView=function(){this._model.onCurrentMarkerChanged(this.showAtMarker,this,this._callOnDispose),this._model.onMarkerSetChanged(this._onMarkersChanged,this,this._callOnDispose)},i.prototype.showAtMarker=function(e){var t=this;e&&(this._container.classList.remove("stale"),this._title.innerHTML=n.localize(0,null,this._model.indexOf(e),this._model.total),this._message.update(e),this._model.withoutWatchingEditorPosition(function(){t._severity=e.severity,t._applyTheme(t._themeService.getTheme()),t.show(new u.Position(e.startLineNumber,e.startColumn),t.computeRequiredHeight())}))},i.prototype._onMarkersChanged=function(){var e=this._model.findMarkerAtPosition(this.position);e?(this._container.classList.remove("stale"),this._message.update(e)):this._container.classList.add("stale"),this._relayout()},i.prototype._relayout=function(){e.prototype._relayout.call(this,this.computeRequiredHeight())},i.prototype.computeRequiredHeight=function(){return 1+this._message.lines},i}(g.ZoneWidget),k=function(e){function t(t,n){var i=e.call(this,n)||this;return i._isNext=t,i}return h(t,e),t.prototype.run=function(e,t){var n=e.get(l.ITelemetryService),i=x.get(t);if(i){var r=i.getOrCreateModel();n.publicLog("zoneWidgetShown",m({mode:"go to error"},t.getTelemetryData())),r&&(this._isNext?r.next():r.previous(),r.reveal())}},t}(p.EditorAction),x=M=function(){function e(e,t,n,i){this._markerService=t,this._contextKeyService=n,this._themeService=i,this._callOnClose=[],this._editor=e,this._markersNavigationVisible=P.bindTo(this._contextKeyService)}return e.get=function(e){return e.getContribution(M.ID)},e.prototype.getId=function(){return M.ID},e.prototype.dispose=function(){this._cleanUp()},e.prototype._cleanUp=function(){this._markersNavigationVisible.reset(),this._callOnClose=r.dispose(this._callOnClose),this._zone=null,this._model=null},e.prototype.getOrCreateModel=function(){var e=this;if(this._model)return this._model;var t=this._getMarkers();return this._model=new w(this._editor,t),this._zone=new T(this._editor,this._model,this._themeService),this._markersNavigationVisible.set(!0),this._callOnClose.push(this._model),this._callOnClose.push(this._zone),this._callOnClose.push(this._editor.onDidChangeModel(function(){return e._cleanUp()})),this._model.onCurrentMarkerChanged(function(t){return!t&&e._cleanUp()},void 0,this._callOnClose),this._markerService.onMarkerChanged(this._onMarkerChanged,this,this._callOnClose),this._model},e.prototype.closeMarkersNavigation=function(){this._cleanUp(),this._editor.focus()},e.prototype._onMarkerChanged=function(e){var t=this;e.some(function(e){return t._editor.getModel().uri.toString()===e.toString()})&&this._model.setMarkers(this._getMarkers())},e.prototype._getMarkers=function(){return this._markerService.read({resource:this._editor.getModel().uri})},e}();x.ID="editor.contrib.markerController",x=M=v([f.editorContribution,y(1,c.IMarkerService),y(2,a.IContextKeyService),y(3,S.IThemeService)],x);var A=function(e){function t(){return e.call(this,!0,{id:"editor.action.marker.next",label:n.localize(1,null),alias:"Go to Next Error or Warning",precondition:E.EditorContextKeys.writable,kbOpts:{kbExpr:E.EditorContextKeys.focus,primary:66}})||this}return h(t,e),t}(k);A=v([p.editorAction],A);var L=function(e){function t(){return e.call(this,!1,{id:"editor.action.marker.prev",label:n.localize(2,null),alias:"Go to Previous Error or Warning",precondition:E.EditorContextKeys.writable,kbOpts:{kbExpr:E.EditorContextKeys.focus,primary:1090}})||this}return h(t,e),t}(k);L=v([p.editorAction],L);var P=new a.RawContextKey("markersNavigationVisible",!1),D=p.EditorCommand.bindToContribution(x.get);p.CommonEditorRegistry.registerEditorCommand(new D({id:"closeMarkersNavigation",precondition:P,handler:function(e){return e.closeMarkersNavigation()},kbOpts:{weight:p.CommonEditorRegistry.commandWeight(50),kbExpr:E.EditorContextKeys.focus,primary:9,secondary:[1033]}}));var O=b.oneOf(C.editorErrorForeground,C.editorErrorBorder),R=b.oneOf(C.editorWarningForeground,C.editorWarningBorder);t.editorMarkerNavigationError=b.registerColor("editorMarkerNavigationError.background",{dark:O,light:O,hc:O},n.localize(3,null)),t.editorMarkerNavigationWarning=b.registerColor("editorMarkerNavigationWarning.background",{dark:R,light:R,hc:R},n.localize(4,null)),t.editorMarkerNavigationBackground=b.registerColor("editorMarkerNavigation.background",{dark:"#2D2D30",light:_.Color.white,hc:"#0C141F"},n.localize(5,null));var M}),define(u[908],d([1,0,460,60,11,119,42,14,25,73,68,848,796,5,13,29,48,1050]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var S=E=function(){function e(e,t,n){var i=this;this._editor=e,this._toUnhook=[],e.getConfiguration().contribInfo.hover&&(this._toUnhook.push(this._editor.onMouseDown(function(e){return i._onEditorMouseDown(e)})),this._toUnhook.push(this._editor.onMouseMove(function(e){return i._onEditorMouseMove(e)})),this._toUnhook.push(this._editor.onMouseLeave(function(e){return i._hideWidgets()})),this._toUnhook.push(this._editor.onKeyDown(function(e){return i._onKeyDown(e)})),this._toUnhook.push(this._editor.onDidChangeModel(function(){return i._hideWidgets()})),this._toUnhook.push(this._editor.onDidChangeModelDecorations(function(){return i._onModelDecorationsChanged()})),this._toUnhook.push(this._editor.onDidScrollChange(function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&i._hideWidgets()})),this._contentWidget=new d.ModesContentHoverWidget(e,t,n),this._glyphWidget=new p.ModesGlyphHoverWidget(e,t,n))}return e.get=function(e){return e.getContribution(E.ID)},e.prototype._onModelDecorationsChanged=function(){this._contentWidget.onModelDecorationsChanged(),this._glyphWidget.onModelDecorationsChanged()},e.prototype._onEditorMouseDown=function(e){var t=e.target.type;t===l.MouseTargetType.CONTENT_WIDGET&&e.target.detail===d.ModesContentHoverWidget.ID||t===l.MouseTargetType.OVERLAY_WIDGET&&e.target.detail===p.ModesGlyphHoverWidget.ID||this._hideWidgets()},e.prototype._onEditorMouseMove=function(e){var t=e.target.type,n=r.isMacintosh?"metaKey":"ctrlKey";(t!==l.MouseTargetType.CONTENT_WIDGET||e.target.detail!==d.ModesContentHoverWidget.ID||e.event[n])&&(t!==l.MouseTargetType.OVERLAY_WIDGET||e.target.detail!==p.ModesGlyphHoverWidget.ID||e.event[n])&&(this._editor.getConfiguration().contribInfo.hover&&t===l.MouseTargetType.CONTENT_TEXT?(this._glyphWidget.hide(),this._contentWidget.startShowingAt(e.target.range,!1)):t===l.MouseTargetType.GUTTER_GLYPH_MARGIN?(this._contentWidget.hide(),this._glyphWidget.startShowingAt(e.target.position.lineNumber)):this._hideWidgets())},e.prototype._onKeyDown=function(e){5!==e.keyCode&&6!==e.keyCode&&57!==e.keyCode&&this._hideWidgets()},e.prototype._hideWidgets=function(){this._glyphWidget.hide(),this._contentWidget.hide()},e.prototype.showContentHover=function(e,t){this._contentWidget.startShowingAt(e,t)},e.prototype.getId=function(){return E.ID},e.prototype.dispose=function(){this._toUnhook=f.dispose(this._toUnhook),this._glyphWidget&&(this._glyphWidget.dispose(),this._glyphWidget=null),this._contentWidget&&(this._contentWidget.dispose(),this._contentWidget=null)},e}();S.ID="editor.contrib.hover",S=E=v([u.editorContribution,y(1,o.IOpenerService),y(2,s.IModeService)],S),t.ModesHoverController=S;var _=function(e){function t(){return e.call(this,{id:"editor.action.showHover",label:n.localize(0,null),alias:"Show Hover",precondition:null,kbOpts:{kbExpr:b.EditorContextKeys.textFocus,primary:i.KeyChord(2089,2087)}})||this}return h(t,e),t.prototype.run=function(e,t){var n=S.get(t);if(n){var i=t.getPosition(),r=new a.Range(i.lineNumber,i.column,i.lineNumber,i.column);n.showContentHover(r,!0)}},t}(c.EditorAction);_=v([c.editorAction],_),g.registerThemingParticipant(function(e,t){var n=e.getColor(m.editorHoverHighlight);n&&t.addRule(".monaco-editor .hoverHighlight { background-color: "+n+"; }");var i=e.getColor(m.editorHoverBackground);i&&t.addRule(".monaco-editor .monaco-editor-hover { background-color: "+i+"; }");var r=e.getColor(m.editorHoverBorder);r&&(t.addRule(".monaco-editor .monaco-editor-hover { border: 1px solid "+r+"; }"),t.addRule(".monaco-editor .monaco-editor-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid "+r.transparent(.5)+"; }"));var o=e.getColor(m.textLinkForeground);o&&t.addRule(".monaco-editor .monaco-editor-hover a { color: "+o+"; }");var s=e.getColor(m.textCodeBlockBackground);s&&t.addRule(".monaco-editor .monaco-editor-hover code { background-color: "+s+"; }")});var E}),define(u[909],d([1,0,462,4,14,53,48,25,186,821,288,13,111,77]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=S=function(){function e(e,t){this.editor=e,this.editorWorkerService=t,this.requestIdPool=0,this.currentRequest=i.TPromise.as(null),this.decorationRemover=i.TPromise.as(null),this.decorationIds=[]}return e.get=function(e){return e.getContribution(S.ID)},e.prototype.dispose=function(){},e.prototype.getId=function(){return S.ID},e.prototype.run=function(e,t){var n=this;this.currentRequest.cancel();var s=this.editor.getSelection(),a=this.editor.getModel().uri;if(s.startLineNumber!==s.endLineNumber)return null;var c=new u.EditorState(this.editor,5);return this.currentRequest=this.editorWorkerService.navigateValueSet(a,s,t),this.currentRequest=this.currentRequest.then(function(e){return e&&e.range&&e.value?e:null}),this.currentRequest.then(function(t){if(t&&t.range&&t.value&&c.validate(n.editor)){var a=r.Range.lift(t.range),u=t.range,d=t.value.length-(s.endColumn-s.startColumn);u={startLineNumber:u.startLineNumber,startColumn:u.startColumn,endLineNumber:u.endLineNumber,endColumn:u.startColumn+t.value.length},d>1&&(s=new o.Selection(s.startLineNumber,s.startColumn,s.endLineNumber,s.endColumn+d-1));var h=new l.InPlaceReplaceCommand(a,s,t.value);n.editor.pushUndoStop(),n.editor.executeCommand(e,h),n.editor.pushUndoStop(),n.decorationIds=n.editor.deltaDecorations(n.decorationIds,[{range:u,options:S.DECORATION}]),n.decorationRemover.cancel(),n.decorationRemover=i.TPromise.timeout(350),n.decorationRemover.then(function(){n.editor.changeDecorations(function(e){n.decorationIds=e.deltaDecorations(n.decorationIds,[])})})}})},e}();g.ID="editor.contrib.inPlaceReplaceController",g.DECORATION=f.ModelDecorationOptions.register({className:"valueSetReplacement"}),g=S=v([a.commonEditorContribution,y(1,c.IEditorWorkerService)],g);var m=function(e){function t(){return e.call(this,{id:"editor.action.inPlaceReplace.up",label:n.localize(0,null),alias:"Replace with Previous Value",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textFocus,primary:3154}})||this}return h(t,e),t.prototype.run=function(e,t){var n=g.get(t);if(n)return n.run(this.id,!0)},t}(a.EditorAction);m=v([a.editorAction],m);var b=function(e){function t(){return e.call(this,{id:"editor.action.inPlaceReplace.down",label:n.localize(1,null),alias:"Replace with Next Value",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textFocus,primary:3156}})||this}return h(t,e),t.prototype.run=function(e,t){var n=g.get(t);if(n)return n.run(this.id,!1)},t}(a.EditorAction);b=v([a.editorAction],b),d.registerThemingParticipant(function(e,t){var n=e.getColor(p.editorBracketMatchBorder);n&&t.addRule(".monaco-editor.vs .valueSetReplacement { outline: solid 2px "+n+"; }")});var S}),define(u[910],d([1,0,465,7,11,36,4,20,119,33,25,46,186,73,757,5,68,13,29,77,357,1042]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var w=r.isMacintosh?n.localize(0,null):n.localize(1,null),I=n.localize(2,null),T={meta:E.ModelDecorationOptions.register({stickiness:l.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,inlineClassName:"detected-link",hoverMessage:w}),metaActive:E.ModelDecorationOptions.register({stickiness:l.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,inlineClassName:"detected-link-active",hoverMessage:w}),alt:E.ModelDecorationOptions.register({stickiness:l.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,inlineClassName:"detected-link",hoverMessage:I}),altActive:E.ModelDecorationOptions.register({stickiness:l.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,inlineClassName:"detected-link-active",hoverMessage:I})},k=function(){function e(e,t){this.link=e,this.decorationId=t}return e.decoration=function(t,n){return{range:{startLineNumber:t.range.startLineNumber,startColumn:t.range.startColumn,endLineNumber:t.range.endLineNumber,endColumn:t.range.endColumn},options:e._getOptions(n,!1)}},e._getOptions=function(e,t){return e?t?T.metaActive:T.meta:t?T.altActive:T.alt},e.prototype.activate=function(t,n){t.changeDecorationOptions(this.decorationId,e._getOptions(n,!0))},e.prototype.deactivate=function(t,n){t.changeDecorationOptions(this.decorationId,e._getOptions(n,!1))},e}(),x=L=function(){function e(e,t,n,i){var r=this;this.editor=e,this.openerService=t,this.messageService=n,this.editorWorkerService=i,this.listenersToRemove=[];var o=new C.ClickLinkGesture(e);this.listenersToRemove.push(o),this.listenersToRemove.push(o.onMouseMoveOrRelevantKeyDown(function(e){var t=e[0],n=e[1];r._onEditorMouseMove(t,n)})),this.listenersToRemove.push(o.onExecute(function(e){r.onEditorMouseUp(e)})),this.listenersToRemove.push(o.onCancel(function(e){r.cleanUpActiveLinkDecoration()})),this.enabled=e.getConfiguration().contribInfo.links,this.listenersToRemove.push(e.onDidChangeConfiguration(function(t){var n=e.getConfiguration().contribInfo.links;r.enabled!==n&&(r.enabled=n,r.updateDecorations([]),r.stop(),r.beginCompute())})),this.listenersToRemove.push(e.onDidChangeModelContent(function(e){return r.onChange()})),this.listenersToRemove.push(e.onDidChangeModel(function(e){return r.onModelChanged()})),this.listenersToRemove.push(e.onDidChangeModelLanguage(function(e){return r.onModelModeChanged()})),this.listenersToRemove.push(d.LinkProviderRegistry.onDidChange(function(e){return r.onModelModeChanged()})),this.timeoutPromise=null,this.computePromise=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}return e.get=function(e){return e.getContribution(L.ID)},e.prototype.getId=function(){return L.ID},e.prototype.isComputing=function(){return s.TPromise.is(this.computePromise)},e.prototype.onModelChanged=function(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()},e.prototype.onModelModeChanged=function(){this.stop(),this.beginCompute()},e.prototype.onChange=function(){var e=this;this.timeoutPromise||(this.timeoutPromise=s.TPromise.timeout(L.RECOMPUTE_TIME),this.timeoutPromise.then(function(){e.timeoutPromise=null,e.beginCompute()}))},e.prototype.beginCompute=function(){var e=this;this.editor.getModel()&&this.enabled&&d.LinkProviderRegistry.has(this.editor.getModel())&&(this.computePromise=g.getLinks(this.editor.getModel()).then(function(t){e.updateDecorations(t),e.computePromise=null}))},e.prototype.updateDecorations=function(e){var t=this,n="altKey"===this.editor.getConfiguration().multiCursorModifier;this.editor.changeDecorations(function(i){for(var r=[],o=Object.keys(t.currentOccurrences),s=0,a=o.length;s<a;s++){var c=o[s],l=t.currentOccurrences[c];r.push(l.decorationId)}var u=[];if(e)for(var d=0;d<e.length;d++)u.push(k.decoration(e[d],n));var h=i.deltaDecorations(r,u);t.currentOccurrences={},t.activeLinkDecorationId=null;for(var p=0,a=h.length;p<a;p++){var f=new k(e[p],h[p]);t.currentOccurrences[f.decorationId]=f}})},e.prototype._onEditorMouseMove=function(e,t){var n=this,i="altKey"===this.editor.getConfiguration().multiCursorModifier;if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();var r=this.getLinkOccurrence(e.target.position);r&&this.editor.changeDecorations(function(e){r.activate(e,i),n.activeLinkDecorationId=r.decorationId})}else this.cleanUpActiveLinkDecoration()},e.prototype.cleanUpActiveLinkDecoration=function(){var e="altKey"===this.editor.getConfiguration().multiCursorModifier;if(this.activeLinkDecorationId){var t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations(function(n){t.deactivate(n,e)}),this.activeLinkDecorationId=null}},e.prototype.onEditorMouseUp=function(e){if(this.isEnabled(e)){var t=this.getLinkOccurrence(e.target.position);t&&this.openLinkOccurrence(t,e.hasSideBySideModifier)}},e.prototype.openLinkOccurrence=function(e,t){var r=this;if(this.openerService){var s=e.link;s.resolve().then(function(e){return r.openerService.open(e,{openToSide:t})},function(e){"invalid"===e?r.messageService.show(o.default.Warning,n.localize(3,null,s.url)):"missing"===e?r.messageService.show(o.default.Warning,n.localize(4,null)):i.onUnexpectedError(e)}).done(null,i.onUnexpectedError)}},e.prototype.getLinkOccurrence=function(e){for(var t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0),n=0;n<t.length;n++){var i=t[n],r=this.currentOccurrences[i.id];if(r)return r}return null},e.prototype.isEnabled=function(e,t){return e.target.type===f.MouseTargetType.CONTENT_TEXT&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey)},e.prototype.stop=function(){this.timeoutPromise&&(this.timeoutPromise.cancel(),this.timeoutPromise=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)},e.prototype.dispose=function(){this.listenersToRemove=m.dispose(this.listenersToRemove),this.stop()},e}();x.ID="editor.linkDetector",x.RECOMPUTE_TIME=1e3,x=L=v([b.editorContribution,y(1,c.IOpenerService),y(2,a.IMessageService),y(3,p.IEditorWorkerService)],x);var A=function(e){function t(){return e.call(this,{id:"editor.action.openLink",label:n.localize(5,null),alias:"Open Link",precondition:null})||this}return h(t,e),t.prototype.run=function(e,t){var n=x.get(t);if(n){var i=n.getLinkOccurrence(t.getPosition());i&&n.openLinkOccurrence(i,!1)}},t}(u.EditorAction);A=v([u.editorAction],A),S.registerThemingParticipant(function(e,t){var n=e.getColor(_.editorActiveLinkForeground);n&&t.addRule(".monaco-editor .detected-link-active { color: "+n+" !important; }")});var L}),define(u[911],d([1,0,468,5,4,9,114,46,73,18,7,8,150,17,342,127,195,13,29,1040]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var E=o.$,C=function(e){function t(n){var i=e.call(this)||this;return i._onHint=i._register(new d.Emitter),i.onHint=i._onHint.event,i._onCancel=i._register(new d.Emitter),i.onCancel=i._onCancel.event,i.editor=n,i.enabled=!1,i.triggerCharactersListeners=[],i.throttledDelayer=new l.RunOnceScheduler(function(){return i.doTrigger()},t.DELAY),i.active=!1,i._register(i.editor.onDidChangeConfiguration(function(){return i.onEditorConfigurationChange()})),i._register(i.editor.onDidChangeModel(function(e){return i.onModelChanged()})),i._register(i.editor.onDidChangeModelLanguage(function(e){return i.onModelChanged()})),i._register(i.editor.onDidChangeCursorSelection(function(e){return i.onCursorChange(e)})),i._register(a.SignatureHelpProviderRegistry.onDidChange(i.onModelChanged,i)),i.onEditorConfigurationChange(),i.onModelChanged(),i}return h(t,e),t.prototype.cancel=function(e){void 0===e&&(e=!1),this.active=!1,this.throttledDelayer.cancel(),e||this._onCancel.fire(void 0)},t.prototype.trigger=function(e){if(void 0===e&&(e=t.DELAY),a.SignatureHelpProviderRegistry.has(this.editor.getModel()))return this.cancel(!0),this.throttledDelayer.schedule(e)},t.prototype.doTrigger=function(){var e=this;g.provideSignatureHelp(this.editor.getModel(),this.editor.getPosition()).then(null,u.onUnexpectedError).then(function(t){if(!t||!t.signatures||0===t.signatures.length)return e.cancel(),e._onCancel.fire(void 0),!1;e.active=!0;var n={hints:t};return e._onHint.fire(n),!0})},t.prototype.isTriggered=function(){return this.active||this.throttledDelayer.isScheduled()},t.prototype.onModelChanged=function(){var e=this;this.active&&this.cancel(),this.triggerCharactersListeners=i.dispose(this.triggerCharactersListeners);var t=this.editor.getModel();if(t){for(var n=new b.CharacterSet,r=0,o=a.SignatureHelpProviderRegistry.ordered(t);r<o.length;r++){var s=o[r];if(Array.isArray(s.signatureHelpTriggerCharacters))for(var c=0,l=s.signatureHelpTriggerCharacters;c<l.length;c++){var u=l[c];n.add(u.charCodeAt(0))}}this.triggerCharactersListeners.push(this.editor.onDidType(function(t){e.enabled&&n.has(t.charCodeAt(t.length-1))&&e.trigger()}))}},t.prototype.onCursorChange=function(e){"mouse"===e.source?this.cancel():this.isTriggered()&&this.trigger()},t.prototype.onEditorConfigurationChange=function(){this.enabled=this.editor.getConfiguration().contribInfo.parameterHints,this.enabled||this.cancel()},t.prototype.dispose=function(){this.cancel(!0),this.triggerCharactersListeners=i.dispose(this.triggerCharactersListeners),e.prototype.dispose.call(this)},t}(i.Disposable);C.DELAY=120,t.ParameterHintsModel=C;var w=function(){function e(e,t){var n=this;this.editor=e,this.allowEditorOverflow=!0,this.model=new C(e),this.keyVisible=g.Context.Visible.bindTo(t),this.keyMultipleSignatures=g.Context.MultipleSignatures.bindTo(t),this.visible=!1,this.disposables=[],this.disposables.push(this.model.onHint(function(e){n.show(),n.hints=e.hints,n.currentSignature=e.hints.activeSignature,n.render()})),this.disposables.push(this.model.onCancel(function(){n.hide()})),this.element=E(".editor-widget.parameter-hints-widget");var i=o.append(this.element,E(".wrapper"));p.stop(p.domEvent(this.element,"click"))(this.next,this,this.disposables);var r=o.append(i,E(".buttons")),s=o.append(r,E(".button.previous")),a=o.append(r,E(".button.next"));p.stop(p.domEvent(s,"click"))(this.previous,this,this.disposables),p.stop(p.domEvent(a,"click"))(this.next,this,this.disposables),this.overloads=o.append(i,E(".overloads"));var c=E(".body");this.scrollbar=new m.DomScrollableElement(c,{}),this.disposables.push(this.scrollbar),i.appendChild(this.scrollbar.getDomNode()),this.signature=o.append(c,E(".signature")),this.docs=o.append(c,E(".docs")),this.currentSignature=0,this.editor.addContentWidget(this),this.hide(),this.disposables.push(this.editor.onDidChangeCursorSelection(function(e){n.visible&&n.editor.layoutContentWidget(n)}));var l=function(){var e=n.editor.getConfiguration().fontInfo;n.element.style.fontSize=e.fontSize+"px"};l(),d.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(function(e){return e.fontInfo}).on(l,null,this.disposables),this.disposables.push(this.editor.onDidLayoutChange(function(e){return n.updateMaxHeight()})),this.updateMaxHeight()}return e.prototype.show=function(){var e=this;this.model&&!this.visible&&(this.keyVisible.set(!0),this.visible=!0,r.TPromise.timeout(100).done(function(){return o.addClass(e.element,"visible")}),this.editor.layoutContentWidget(this))},e.prototype.hide=function(){this.model&&this.visible&&(this.keyVisible.reset(),this.visible=!1,this.hints=null,this.announcedLabel=null,o.removeClass(this.element,"visible"),this.editor.layoutContentWidget(this))},e.prototype.getPosition=function(){return this.visible?{position:this.editor.getPosition(),preference:[c.ContentWidgetPositionPreference.ABOVE,c.ContentWidgetPositionPreference.BELOW]}:null},e.prototype.render=function(){var e=this.hints.signatures.length>1;o.toggleClass(this.element,"multiple",e),this.keyMultipleSignatures.set(e),this.signature.innerHTML="",this.docs.innerHTML="";var t=this.hints.signatures[this.currentSignature];if(t){var i=o.append(this.signature,E(".code")),r=t.parameters.length>0,a=this.editor.getConfiguration().fontInfo;i.style.fontSize=a.fontSize+"px",i.style.fontFamily=a.fontFamily,r?this.renderParameters(i,t,this.hints.activeParameter):o.append(i,E("span")).textContent=t.label;var c=t.parameters[this.hints.activeParameter];if(c&&c.documentation){var l=E("span.documentation");l.textContent=c.documentation,o.append(this.docs,E("p",null,l))}o.toggleClass(this.signature,"has-docs",!!t.documentation),t.documentation&&o.append(this.docs,E("p",null,t.documentation));var u=String(this.currentSignature+1);if(this.hints.signatures.length<10&&(u+="/"+this.hints.signatures.length),this.overloads.textContent=u,c){var d=c.label;this.announcedLabel!==d&&(s.alert(n.localize(0,null,d)),this.announcedLabel=d)}this.editor.layoutContentWidget(this),this.scrollbar.scanDomNode()}},e.prototype.renderParameters=function(e,t,n){for(var i,r=t.label.length,s=0,a=t.parameters.length-1;a>=0;a--){var c=t.parameters[a],l=0,u=0;(s=t.label.lastIndexOf(c.label,r-1))>=0&&(l=s,u=s+c.label.length),(i=document.createElement("span")).textContent=t.label.substring(u,r),o.prepend(e,i),(i=document.createElement("span")).className="parameter "+(a===n?"active":""),i.textContent=t.label.substring(l,u),o.prepend(e,i),r=l}(i=document.createElement("span")).textContent=t.label.substring(0,r),o.prepend(e,i)},e.prototype.next=function(){var e=this.hints.signatures.length;return e<2?(this.cancel(),!1):(this.currentSignature=(this.currentSignature+1)%e,this.render(),!0)},e.prototype.previous=function(){var e=this.hints.signatures.length;return e<2?(this.cancel(),!1):(this.currentSignature=(this.currentSignature-1+e)%e,this.render(),!0)},e.prototype.cancel=function(){this.model.cancel()},e.prototype.getDomNode=function(){return this.element},e.prototype.getId=function(){return e.ID},e.prototype.trigger=function(){this.model.trigger(0)},e.prototype.updateMaxHeight=function(){var e=Math.max(this.editor.getLayoutInfo().height/4,250);this.element.style.maxHeight=e+"px"},e.prototype.dispose=function(){this.disposables=i.dispose(this.disposables),this.model=null},e}();w.ID="editor.widget.parameterHintsWidget",w=v([y(1,f.IContextKeyService)],w),t.ParameterHintsWidget=w,S.registerThemingParticipant(function(e,t){var n=e.getColor(_.editorHoverBorder);if(n){var i=e.type===S.HIGH_CONTRAST?2:1;t.addRule(".monaco-editor .parameter-hints-widget { border: "+i+"px solid "+n+"; }"),t.addRule(".monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid "+n.transparent(.5)+"; }"),t.addRule(".monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid "+n.transparent(.5)+"; }")}var r=e.getColor(_.editorHoverBackground);r&&t.addRule(".monaco-editor .parameter-hints-widget { background-color: "+r+"; }")})}),define(u[912],d([1,0,467,5,6,48,17,25,68,911,342]),function(e,t,n,i,r,o,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=m=function(){function e(e,t){this.editor=e,this.widget=t.createInstance(l.ParameterHintsWidget,this.editor)}return e.get=function(e){return e.getContribution(m.ID)},e.prototype.getId=function(){return m.ID},e.prototype.cancel=function(){this.widget.cancel()},e.prototype.previous=function(){this.widget.previous()},e.prototype.next=function(){this.widget.next()},e.prototype.trigger=function(){this.widget.trigger()},e.prototype.dispose=function(){this.widget=i.dispose(this.widget)},e}();d.ID="editor.controller.parameterHints",d=m=v([c.editorContribution,y(1,r.IInstantiationService)],d);var p=function(e){function t(){return e.call(this,{id:"editor.action.triggerParameterHints",label:n.localize(0,null),alias:"Trigger Parameter Hints",precondition:o.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:o.EditorContextKeys.textFocus,primary:3082}})||this}return h(t,e),t.prototype.run=function(e,t){var n=d.get(t);n&&n.trigger()},t}(a.EditorAction);p=v([a.editorAction],p),t.TriggerParameterHintsAction=p;var f=a.CommonEditorRegistry.commandWeight(75),g=a.EditorCommand.bindToContribution(d.get);a.CommonEditorRegistry.registerEditorCommand(new g({id:"closeParameterHints",precondition:u.Context.Visible,handler:function(e){return e.cancel()},kbOpts:{weight:f,kbExpr:o.EditorContextKeys.textFocus,primary:9,secondary:[1033]}})),a.CommonEditorRegistry.registerEditorCommand(new g({id:"showPrevParameterHint",precondition:s.ContextKeyExpr.and(u.Context.Visible,u.Context.MultipleSignatures),handler:function(e){return e.previous()},kbOpts:{weight:f,kbExpr:o.EditorContextKeys.textFocus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),a.CommonEditorRegistry.registerEditorCommand(new g({id:"showNextParameterHint",precondition:s.ContextKeyExpr.and(u.Context.Visible,u.Context.MultipleSignatures),handler:function(e){return e.next()},kbOpts:{weight:f,kbExpr:o.EditorContextKeys.textFocus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}));var m}),define(u[452],d([1,0,476,7,5,4,14,73,13,29,37,1036]),function(e,t,n,i,r,o,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e,t){var n=this;this.themeService=t,this._disposables=[],this.allowEditorOverflow=!0,this._currentAcceptInput=null,this._currentCancelInput=null,this._editor=e,this._editor.addContentWidget(this),this._disposables.push(e.onDidChangeConfiguration(function(e){e.fontInfo&&n.updateFont()})),this._disposables.push(t.onThemeChange(function(e){return n.onThemeChange(e)}))}return e.prototype.onThemeChange=function(e){this.updateStyles(e)},e.prototype.dispose=function(){this._disposables=r.dispose(this._disposables),this._editor.removeContentWidget(this)},e.prototype.getId=function(){return"__renameInputWidget"},e.prototype.getDomNode=function(){return this._domNode||(this._inputField=document.createElement("input"),this._inputField.className="rename-input",this._inputField.type="text",this._inputField.setAttribute("aria-label",n.localize(0,null)),this._domNode=document.createElement("div"),this._domNode.style.height=this._editor.getConfiguration().lineHeight+"px",this._domNode.className="monaco-editor rename-box",this._domNode.appendChild(this._inputField),this.updateFont(),this.updateStyles(this.themeService.getTheme())),this._domNode},e.prototype.updateStyles=function(e){if(this._inputField){var t=e.getColor(l.inputBackground),n=e.getColor(l.inputForeground),i=e.getColor(l.widgetShadow),r=e.getColor(l.inputBorder);this._inputField.style.backgroundColor=t?t.toString():null,this._inputField.style.color=n?n.toString():null,this._inputField.style.borderWidth=r?"1px":"0px",this._inputField.style.borderStyle=r?"solid":"none",this._inputField.style.borderColor=r?r.toString():"none",this._domNode.style.boxShadow=i?" 0 2px 8px "+i:null}},e.prototype.updateFont=function(){if(this._inputField){var e=this._editor.getConfiguration().fontInfo;this._inputField.style.fontFamily=e.fontFamily,this._inputField.style.fontWeight=e.fontWeight,this._inputField.style.fontSize=e.fontSize+"px"}},e.prototype.getPosition=function(){return this._visible?{position:this._position,preference:[a.ContentWidgetPositionPreference.BELOW,a.ContentWidgetPositionPreference.ABOVE]}:null},e.prototype.acceptInput=function(){this._currentAcceptInput&&this._currentAcceptInput()},e.prototype.cancelInput=function(){this._currentCancelInput&&this._currentCancelInput()},e.prototype.getInput=function(e,t,n,a){var c=this;this._position=new u.Position(e.startLineNumber,e.startColumn),this._inputField.value=t,this._inputField.setAttribute("selectionStart",n.toString()),this._inputField.setAttribute("selectionEnd",a.toString()),this._inputField.size=Math.max(1.1*(e.endColumn-e.startColumn),20);var l,d=[];return l=function(){r.dispose(d),c._hide()},new o.TPromise(function(n,r){c._currentCancelInput=function(){return c._currentAcceptInput=null,c._currentCancelInput=null,r(i.canceled()),!0},c._currentAcceptInput=function(){0!==c._inputField.value.trim().length&&c._inputField.value!==t?(c._currentAcceptInput=null,c._currentCancelInput=null,n(c._inputField.value)):c.cancelInput()};d.push(c._editor.onDidChangeCursorSelection(function(){s.Range.containsPosition(e,c._editor.getPosition())||c.cancelInput()})),d.push(c._editor.onDidBlurEditor(function(){return c.cancelInput()})),c._show()},this._currentCancelInput).then(function(e){return l(),e},function(e){return l(),o.TPromise.wrapError(e)})},e.prototype._show=function(){var e=this;this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber),this._visible=!0,this._editor.layoutContentWidget(this),setTimeout(function(){e._inputField.focus(),e._inputField.setSelectionRange(parseInt(e._inputField.getAttribute("selectionStart")),parseInt(e._inputField.getAttribute("selectionEnd")))},25)},e.prototype._hide=function(){this._visible=!1,this._editor.layoutContentWidget(this)},e}();d=v([y(1,c.IThemeService)],d),t.default=d}),define(u[914],d([1,0,475,7,36,4,43,17,20,109,25,68,48,319,452,71,6,13,18,46,114,14]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w){"use strict";function I(e,t,r){var s=[],a=!1,c=E.RenameProviderRegistry.ordered(e).map(function(n){return function(){if(!a)return _.asWinJsPromise(function(i){return n.provideRenameEdits(e,t,r,i)}).then(function(e){if(e){if(!e.rejectReason)return a=!0,e;s.push(e.rejectReason)}else;},function(e){return i.onUnexpectedExternalError(e),o.TPromise.wrapError(new Error("provider failed"))})}});return _.sequence(c).then(function(e){var t=e[0];return s.length>0?{edits:void 0,rejectReason:s.join("\n")}:t||{edits:void 0,rejectReason:n.localize(0,null)}})}Object.defineProperty(t,"__esModule",{value:!0}),t.rename=I;var T=new a.RawContextKey("renameInputVisible",!1),k=L=function(){function e(e,t,n,i,r,o,s){this.editor=e,this._messageService=t,this._textModelResolverService=n,this._progressService=i,this._fileService=s,this._renameInputField=new g.default(e,o),this._renameInputVisible=T.bindTo(r)}return e.get=function(e){return e.getContribution(L.ID)},e.prototype.dispose=function(){this._renameInputField.dispose()},e.prototype.getId=function(){return L.ID},e.prototype.run=function(){var e=this,t=this.editor.getSelection(),s=this.editor.getModel().getWordAtPosition(t.getStartPosition());if(s){var a,c=t.startLineNumber,l=0,u=s.word.length;return a=new w.Range(c,s.startColumn,c,s.endColumn),t.isEmpty()||t.startLineNumber!==t.endLineNumber||(l=Math.max(0,t.startColumn-s.startColumn),u=Math.min(s.endColumn,t.endColumn)-s.startColumn),this._renameInputVisible.set(!0),this._renameInputField.getInput(a,s.word,l,u).then(function(t){e._renameInputVisible.reset(),e.editor.focus();var i=e._prepareRename(t).then(function(i){return i.finish().then(function(r){r&&e.editor.setSelection(r),C.alert(n.localize(1,null,s.word,t,i.ariaMessage()))})},function(t){return"string"==typeof t?void e._messageService.show(r.default.Info,t):(e._messageService.show(r.default.Error,n.localize(2,null)),o.TPromise.wrapError(t))});return e._progressService.showWhile(i,250),i},function(t){if(e._renameInputVisible.reset(),e.editor.focus(),!i.isPromiseCanceledError(t))return o.TPromise.wrapError(t)})}},e.prototype.acceptRenameInput=function(){this._renameInputField.acceptInput()},e.prototype.cancelRenameInput=function(){this._renameInputField.cancelInput()},e.prototype._prepareRename=function(e){var t=f.createBulkEdit(this._textModelResolverService,this.editor,this._fileService);return I(this.editor.getModel(),this.editor.getPosition(),e).then(function(e){return e.rejectReason?o.TPromise.wrapError(new Error(e.rejectReason)):(t.add(e.edits),t)})},e}();k.ID="editor.contrib.renameController",k=L=v([d.editorContribution,y(1,c.IMessageService),y(2,m.ITextModelService),y(3,l.IProgressService),y(4,a.IContextKeyService),y(5,S.IThemeService),y(6,b.optional(s.IFileService))],k);var x=function(e){function t(){return e.call(this,{id:"editor.action.rename",label:n.localize(3,null),alias:"Rename Symbol",precondition:a.ContextKeyExpr.and(p.EditorContextKeys.writable,p.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:p.EditorContextKeys.textFocus,primary:60},menuOpts:{group:"1_modification",order:1.1}})||this}return h(t,e),t.prototype.run=function(e,t){var n=k.get(t);if(n)return n.run()},t}(u.EditorAction);x=v([u.editorAction],x),t.RenameAction=x;var A=u.EditorCommand.bindToContribution(k.get);u.CommonEditorRegistry.registerEditorCommand(new A({id:"acceptRenameInput",precondition:T,handler:function(e){return e.acceptRenameInput()},kbOpts:{weight:u.CommonEditorRegistry.commandWeight(99),kbExpr:p.EditorContextKeys.focus,primary:3}})),u.CommonEditorRegistry.registerEditorCommand(new A({id:"cancelRenameInput",precondition:T,handler:function(e){return e.cancelRenameInput()},kbOpts:{weight:u.CommonEditorRegistry.commandWeight(99),kbExpr:p.EditorContextKeys.focus,primary:9,secondary:[1033]}})),u.CommonEditorRegistry.registerDefaultLanguageCommand("_executeDocumentRenameProvider",function(e,t,n){var r=n.newName;if("string"!=typeof r)throw i.illegalArgument("newName");return I(e,t,r)});var L}),define(u[915],d([1,0,479,122,12,8,4,7,5,9,192,176,127,6,38,17,73,189,114,19,55,13,29,31,1034]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,b,S,_,E,C,w,I,T){"use strict";function k(e){return e&&e.match(P)?e:null}function x(e){if(!e)return!1;var t=e.suggestion;return!!t.documentation||t.detail&&t.detail!==t.label}Object.defineProperty(t,"__esModule",{value:!0});var A=!1;t.editorSuggestWidgetBackground=I.registerColor("editorSuggestWidget.background",{dark:I.editorWidgetBackground,light:I.editorWidgetBackground,hc:I.editorWidgetBackground},n.localize(0,null)),t.editorSuggestWidgetBorder=I.registerColor("editorSuggestWidget.border",{dark:I.editorWidgetBorder,light:I.editorWidgetBorder,hc:I.editorWidgetBorder},n.localize(1,null)),t.editorSuggestWidgetForeground=I.registerColor("editorSuggestWidget.foreground",{dark:I.editorForeground,light:I.editorForeground,hc:I.editorForeground},n.localize(2,null)),t.editorSuggestWidgetSelectedBackground=I.registerColor("editorSuggestWidget.selectedBackground",{dark:I.listFocusBackground,light:I.listFocusBackground,hc:I.listFocusBackground},n.localize(3,null)),t.editorSuggestWidgetHighlightForeground=I.registerColor("editorSuggestWidget.highlightForeground",{dark:I.listHighlightForeground,light:I.listHighlightForeground,hc:I.listHighlightForeground},n.localize(4,null));var L,P=/^(#([\da-f]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))$/i,D=function(){function e(e,t,n){this.widget=e,this.editor=t,this.triggerKeybindingLabel=n}return Object.defineProperty(e.prototype,"templateId",{get:function(){return"suggestion"},enumerable:!0,configurable:!0}),e.prototype.renderTemplate=function(e){var t=this,i=Object.create(null);i.disposables=[],i.root=e,i.icon=l.append(e,l.$(".icon")),i.colorspan=l.append(i.icon,l.$("span.colorspan"));var r=l.append(e,l.$(".contents")),s=l.append(r,l.$(".main"));i.highlightedLabel=new u.HighlightedLabel(s),i.disposables.push(i.highlightedLabel),i.typeLabel=l.append(s,l.$("span.type-label")),i.readMore=l.append(s,l.$("span.readMore")),i.readMore.title=n.localize(5,null,this.triggerKeybindingLabel);var a=function(){var e=t.editor.getConfiguration(),n=e.fontInfo.fontFamily,r=(e.contribInfo.suggestFontSize||e.fontInfo.fontSize)+"px",o=(e.contribInfo.suggestLineHeight||e.fontInfo.lineHeight)+"px";i.root.style.fontSize=r,s.style.fontFamily=n,s.style.lineHeight=o,i.icon.style.height=o,i.icon.style.width=o,i.readMore.style.height=o,i.readMore.style.width=o};return a(),o.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(function(e){return e.fontInfo||e.contribInfo}).on(a,null,i.disposables),i},e.prototype.renderElement=function(e,t,r){var o=this,s=r,a=e.suggestion;if(x(e)?s.root.setAttribute("aria-label",n.localize(6,null,a.label)):s.root.setAttribute("aria-label",n.localize(7,null,a.label)),s.icon.className="icon "+a.type,s.colorspan.style.backgroundColor="","color"===a.type){var c=k(a.label)||k(a.documentation);c&&(s.icon.className="icon customcolor",s.colorspan.style.backgroundColor=c)}s.highlightedLabel.set(a.label,i.createMatches(e.matches)),s.typeLabel.textContent=(a.detail||"").replace(/\n.*$/m,""),x(e)?(l.show(s.readMore),s.readMore.onmousedown=function(e){e.stopPropagation(),e.preventDefault()},s.readMore.onclick=function(e){e.stopPropagation(),e.preventDefault(),o.widget.toggleDetails()}):(l.hide(s.readMore),s.readMore.onmousedown=null,s.readMore.onclick=null)},e.prototype.disposeTemplate=function(e){e.highlightedLabel.dispose(),e.disposables=c.dispose(e.disposables)},e}();!function(e){e[e.Hidden=0]="Hidden",e[e.Loading=1]="Loading",e[e.Empty=2]="Empty",e[e.Open=3]="Open",e[e.Frozen=4]="Frozen",e[e.Details=5]="Details"}(L||(L={}));var O=function(){function e(e,t,i,r){var s=this;this.widget=t,this.editor=i,this.triggerKeybindingLabel=r,this.borderWidth=1,this.disposables=[],this.el=l.append(e,l.$(".details")),this.disposables.push(c.toDisposable(function(){return e.removeChild(s.el)})),this.body=l.$(".body"),this.scrollbar=new h.DomScrollableElement(this.body,{}),l.append(this.el,this.scrollbar.getDomNode()),this.disposables.push(this.scrollbar),this.header=l.append(this.body,l.$(".header")),this.close=l.append(this.header,l.$("span.close")),this.close.title=n.localize(8,null,r),this.type=l.append(this.header,l.$("p.type")),this.docs=l.append(this.body,l.$("p.docs")),this.ariaLabel=null,this.configureFont(),o.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(function(e){return e.fontInfo}).on(this.configureFont,this,this.disposables)}return Object.defineProperty(e.prototype,"element",{get:function(){return this.el},enumerable:!0,configurable:!0}),e.prototype.render=function(e){var t=this;if(!e||!x(e))return this.type.textContent="",this.docs.textContent="",l.addClass(this.el,"no-docs"),void(this.ariaLabel=null);l.removeClass(this.el,"no-docs"),this.docs.textContent=e.suggestion.documentation,e.suggestion.detail?(this.type.innerText=e.suggestion.detail,l.show(this.type)):(this.type.innerText="",l.hide(this.type)),this.el.style.height=this.header.offsetHeight+this.docs.offsetHeight+2*this.borderWidth+"px",this.close.onmousedown=function(e){e.preventDefault(),e.stopPropagation()},this.close.onclick=function(e){e.preventDefault(),e.stopPropagation(),t.widget.toggleDetails()},this.body.scrollTop=0,this.scrollbar.scanDomNode(),this.ariaLabel=r.format("{0}\n{1}\n{2}",e.suggestion.label||"",e.suggestion.detail||"",e.suggestion.documentation||"")},e.prototype.getAriaLabel=function(){return this.ariaLabel},e.prototype.scrollDown=function(e){void 0===e&&(e=8),this.body.scrollTop+=e},e.prototype.scrollUp=function(e){void 0===e&&(e=8),this.body.scrollTop-=e},e.prototype.scrollTop=function(){this.body.scrollTop=0},e.prototype.scrollBottom=function(){this.body.scrollTop=this.body.scrollHeight},e.prototype.pageDown=function(){this.scrollDown(80)},e.prototype.pageUp=function(){this.scrollUp(80)},e.prototype.setBorderWidth=function(e){this.borderWidth=e},e.prototype.configureFont=function(){var e=this.editor.getConfiguration(),t=e.fontInfo.fontFamily,n=(e.contribInfo.suggestFontSize||e.fontInfo.fontSize)+"px",i=(e.contribInfo.suggestLineHeight||e.fontInfo.lineHeight)+"px";this.el.style.fontSize=n,this.type.style.fontFamily=t,this.close.style.height=i,this.close.style.width=i},e.prototype.dispose=function(){this.disposables=c.dispose(this.disposables)},e}(),R=function(){function e(e,n,i,r,s,a,c){var u=this;this.editor=e,this.telemetryService=n,this.allowEditorOverflow=!0,this.ignoreFocusEvents=!1,this.onDidSelectEmitter=new o.Emitter,this.onDidFocusEmitter=new o.Emitter,this.onDidHideEmitter=new o.Emitter,this.onDidShowEmitter=new o.Emitter,this.onDidSelect=this.onDidSelectEmitter.event,this.onDidFocus=this.onDidFocusEmitter.event,this.onDidHide=this.onDidHideEmitter.event,this.onDidShow=this.onDidShowEmitter.event,this.maxWidgetWidth=660,this.listWidth=330,this.storageServiceAvailable=!0,this.expandSuggestionDocs=!1;var h=c.lookupKeybinding("editor.action.triggerSuggest"),p=h?" ("+h.getLabel()+")":"";this.isAuto=!1,this.focusedItem=null,this.storageService=a,void 0===this.expandDocsSettingFromStorage()&&(this.storageService.store("expandSuggestionDocs",A,T.StorageScope.GLOBAL),void 0===this.expandDocsSettingFromStorage()&&(this.storageServiceAvailable=!1)),this.element=l.$(".editor-widget.suggest-widget"),this.editor.getConfiguration().contribInfo.iconsInSuggestions||l.addClass(this.element,"no-icons"),this.messageElement=l.append(this.element,l.$(".message")),this.listElement=l.append(this.element,l.$(".tree")),this.details=new O(this.element,this,this.editor,p);var f=r.createInstance(D,this,this.editor,p);this.list=new d.List(this.listElement,this,[f],{useShadows:!1,selectOnMouseDown:!0}),this.toDispose=[C.attachListStyler(this.list,s,{listInactiveFocusBackground:t.editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:I.activeContrastBorder}),s.onThemeChange(function(e){return u.onThemeChange(e)}),e.onDidBlurEditorText(function(){return u.onEditorBlur()}),e.onDidLayoutChange(function(){return u.onEditorLayoutChange()}),this.list.onSelectionChange(function(e){return u.onListSelection(e)}),this.list.onFocusChange(function(e){return u.onListFocus(e)}),this.editor.onDidChangeCursorSelection(function(){return u.onCursorSelectionChanged()})],this.suggestWidgetVisible=S.Context.Visible.bindTo(i),this.suggestWidgetMultipleSuggestions=S.Context.MultipleSuggestions.bindTo(i),this.suggestionSupportsAutoAccept=S.Context.AcceptOnKey.bindTo(i),this.editor.addContentWidget(this),this.setState(0),this.onThemeChange(s.getTheme())}return e.prototype.onCursorSelectionChanged=function(){0!==this.state&&this.editor.layoutContentWidget(this)},e.prototype.onEditorBlur=function(){var e=this;this.editorBlurTimeout=s.TPromise.timeout(150).then(function(){e.editor.isFocused()||e.setState(0)})},e.prototype.onEditorLayoutChange=function(){3!==this.state&&5!==this.state||!this.expandDocsSettingFromStorage()||this.expandSideOrBelow()},e.prototype.onListSelection=function(e){if(e.elements.length){var t=e.elements[0];this.onDidSelectEmitter.fire(t),_.alert(n.localize(11,null,t.suggestion.label)),this.editor.focus()}},e.prototype._getSuggestionAriaAlertLabel=function(e){return x(e)?n.localize(12,null,e.suggestion.label):n.localize(13,null,e.suggestion.label)},e.prototype._ariaAlert=function(e){this._lastAriaAlertLabel!==e&&(this._lastAriaAlertLabel=e,this._lastAriaAlertLabel&&_.alert(this._lastAriaAlertLabel))},e.prototype.onThemeChange=function(e){var n=e.getColor(t.editorSuggestWidgetBackground);n&&(this.listElement.style.backgroundColor=n.toString(),this.details.element.style.backgroundColor=n.toString(),this.messageElement.style.backgroundColor=n.toString());var i=e.getColor(t.editorSuggestWidgetBorder);i&&(this.listElement.style.borderColor=i.toString(),this.details.element.style.borderColor=i.toString(),this.messageElement.style.borderColor=i.toString(),this.detailsBorderColor=i.toString());var r=e.getColor(I.focusBorder);r&&(this.detailsFocusBorderColor=r.toString()),this.details.setBorderWidth("hc"===e.type?2:1)},e.prototype.onListFocus=function(e){var t=this;if(!this.ignoreFocusEvents){if(!e.elements.length)return this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null,this.focusedItem=null),void this._ariaAlert(null);var n=e.elements[0];if(this._ariaAlert(this._getSuggestionAriaAlertLabel(n)),n!==this.focusedItem){this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null);var i=e.indexes[0];this.suggestionSupportsAutoAccept.set(!n.suggestion.noAutoAccept);var r=this.focusedItem,o=this.focusedItemIndex;this.focusedItemIndex=i,this.focusedItem=n,r&&(this.ignoreFocusEvents=!0,this.list.splice(o,1,[r]),this.ignoreFocusEvents=!1),this.updateListHeight(),this.list.reveal(i),this.currentSuggestionDetails=n.resolve().then(function(){t.ignoreFocusEvents=!0,t.list.splice(i,1,[n]),t.ignoreFocusEvents=!1,t.list.setFocus([i]),t.list.reveal(i),t.expandDocsSettingFromStorage()?t.showDetails():l.removeClass(t.element,"docs-side")}).then(null,function(e){return!a.isPromiseCanceledError(e)&&a.onUnexpectedError(e)}).then(function(){return t.currentSuggestionDetails=null}),this.onDidFocusEmitter.fire(n)}}},e.prototype.setState=function(t){if(this.element){var n=this.state!==t;switch(this.state=t,l.toggleClass(this.element,"frozen",4===t),t){case 0:l.hide(this.messageElement,this.details.element),l.show(this.listElement),this.hide(),n&&this.list.splice(0,this.list.length);break;case 1:this.messageElement.textContent=e.LOADING_MESSAGE,l.hide(this.listElement,this.details.element),l.show(this.messageElement),l.removeClass(this.element,"docs-side"),this.show();break;case 2:this.messageElement.textContent=e.NO_SUGGESTIONS_MESSAGE,l.hide(this.listElement,this.details.element),l.show(this.messageElement),l.removeClass(this.element,"docs-side"),this.show();break;case 3:l.hide(this.messageElement),l.show(this.listElement),this.expandDocsSettingFromStorage()&&x(this.list.getFocusedElements()[0])?(l.show(this.details.element),this.expandSideOrBelow()):l.hide(this.details.element),this.show();break;case 4:l.hide(this.messageElement,this.details.element),l.show(this.listElement),this.show();break;case 5:l.hide(this.messageElement),l.show(this.details.element,this.listElement),this.show(),this._ariaAlert(this.details.getAriaLabel())}n&&this.editor.layoutContentWidget(this)}},e.prototype.showTriggered=function(e){var t=this;0===this.state&&(this.isAuto=!!e,this.isAuto||(this.loadingTimeout=setTimeout(function(){t.loadingTimeout=null,t.setState(1)},50)))},e.prototype.showSuggestions=function(e,t,n){if(this.loadingTimeout&&(clearTimeout(this.loadingTimeout),this.loadingTimeout=null),this.completionModel=e,t&&2!==this.state&&0!==this.state)this.setState(4);else{var i=this.completionModel.items.length,r=0===i;if(this.suggestWidgetMultipleSuggestions.set(i>1),r)n?this.setState(0):this.setState(2),this.completionModel=null;else{var o=this.completionModel.stats;o.wasAutomaticallyTriggered=!!n,this.telemetryService.publicLog("suggestWidget",m({},o,this.editor.getTelemetryData())),this.focusedItem=null,this.focusedItemIndex=null,this.list.splice(0,this.list.length,this.completionModel.items),this.list.setFocus([0]),this.list.reveal(0,0),t?this.setState(4):this.setState(3),this.detailsBorderColor&&(this.details.element.style.borderColor=this.detailsBorderColor)}}},e.prototype.selectNextPage=function(){switch(this.state){case 0:return!1;case 5:return this.details.pageDown(),!0;case 1:return!this.isAuto;default:return this.list.focusNextPage(),!0}},e.prototype.selectNext=function(){switch(this.state){case 0:return!1;case 1:return!this.isAuto;default:return this.list.focusNext(1,!0),!0}},e.prototype.selectLast=function(){switch(this.state){case 0:return!1;case 5:return this.details.scrollBottom(),!0;case 1:return!this.isAuto;default:return this.list.focusLast(),!0}},e.prototype.selectPreviousPage=function(){switch(this.state){case 0:return!1;case 5:return this.details.pageUp(),!0;case 1:return!this.isAuto;default:return this.list.focusPreviousPage(),!0}},e.prototype.selectPrevious=function(){switch(this.state){case 0:return!1;case 1:return!this.isAuto;default:return this.list.focusPrevious(1,!0),!1}},e.prototype.selectFirst=function(){switch(this.state){case 0:return!1;case 5:return this.details.scrollTop(),!0;case 1:return!this.isAuto;default:return this.list.focusFirst(),!0}},e.prototype.getFocusedItem=function(){if(0!==this.state&&2!==this.state&&1!==this.state)return this.list.getFocusedElements()[0]},e.prototype.toggleDetailsFocus=function(){5===this.state?(this.setState(3),this.detailsBorderColor&&(this.details.element.style.borderColor=this.detailsBorderColor)):3===this.state&&this.expandDocsSettingFromStorage()&&(this.setState(5),this.detailsFocusBorderColor&&(this.details.element.style.borderColor=this.detailsFocusBorderColor)),this.telemetryService.publicLog("suggestWidget:toggleDetailsFocus",this.editor.getTelemetryData())},e.prototype.toggleDetails=function(){if(x(this.list.getFocusedElements()[0]))if(this.expandDocsSettingFromStorage())this.updateExpandDocsSetting(!1),l.hide(this.details.element),l.removeClass(this.element,"docs-side"),l.removeClass(this.element,"docs-below"),this.editor.layoutContentWidget(this),this.telemetryService.publicLog("suggestWidget:collapseDetails",this.editor.getTelemetryData());else{if(3!==this.state&&5!==this.state)return;this.updateExpandDocsSetting(!0),this.showDetails(),this.telemetryService.publicLog("suggestWidget:expandDetails",this.editor.getTelemetryData())}},e.prototype.showDetails=function(){this.expandSideOrBelow(),l.show(this.details.element),this.details.render(this.list.getFocusedElements()[0]),this.details.element.style.maxHeight=this.maxWidgetHeight+"px",this.listElement.style.marginTop="0px",this.editor.layoutContentWidget(this),this.adjustDocsPosition(),this.editor.focus(),this._ariaAlert(this.details.getAriaLabel())},e.prototype.show=function(){var e=this;this.updateListHeight(),this.suggestWidgetVisible.set(!0),this.showTimeout=s.TPromise.timeout(100).then(function(){l.addClass(e.element,"visible"),e.onDidShowEmitter.fire(e)})},e.prototype.hide=function(){this.suggestWidgetVisible.reset(),this.suggestWidgetMultipleSuggestions.reset(),l.removeClass(this.element,"visible")},e.prototype.hideWidget=function(){clearTimeout(this.loadingTimeout),this.setState(0),this.onDidHideEmitter.fire(this)},e.prototype.getPosition=function(){return 0===this.state?null:{position:this.editor.getPosition(),preference:[b.ContentWidgetPositionPreference.BELOW,b.ContentWidgetPositionPreference.ABOVE]}},e.prototype.getDomNode=function(){return this.element},e.prototype.getId=function(){return e.ID},e.prototype.updateListHeight=function(){var e=0;if(2===this.state||1===this.state)e=this.unfocusedHeight;else{var t=this.list.contentHeight/this.unfocusedHeight;e=Math.min(t,12)*this.unfocusedHeight}return this.element.style.lineHeight=this.unfocusedHeight+"px",this.listElement.style.height=e+"px",this.list.layout(e),this.editor.layoutContentWidget(this),e},e.prototype.adjustDocsPosition=function(){var e=this.editor.getConfiguration().fontInfo.lineHeight,t=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),n=l.getDomNodePagePosition(this.editor.getDomNode()),i=n.left+t.left,r=n.top+t.top+t.height,o=l.getDomNodePagePosition(this.element),s=o.left,a=o.top;s<i-this.listWidth?l.addClass(this.element,"list-right"):l.removeClass(this.element,"list-right"),l.hasClass(this.element,"docs-side")&&r-e>a&&this.details.element.offsetHeight>this.listElement.offsetHeight&&(this.listElement.style.marginTop=this.details.element.offsetHeight-this.listElement.offsetHeight+"px")},e.prototype.expandSideOrBelow=function(){var e=this.element.style.maxWidth.match(/(\d+)px/);!e||Number(e[1])<this.maxWidgetWidth?(l.addClass(this.element,"docs-below"),l.removeClass(this.element,"docs-side")):(l.addClass(this.element,"docs-side"),l.removeClass(this.element,"docs-below"))},Object.defineProperty(e.prototype,"maxWidgetHeight",{get:function(){return 12*this.unfocusedHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"unfocusedHeight",{get:function(){var e=this.editor.getConfiguration();return e.contribInfo.suggestLineHeight||e.fontInfo.lineHeight},enumerable:!0,configurable:!0}),e.prototype.getHeight=function(e){return this.unfocusedHeight},e.prototype.getTemplateId=function(e){return"suggestion"},e.prototype.expandDocsSettingFromStorage=function(){return this.storageServiceAvailable?this.storageService.getBoolean("expandSuggestionDocs",T.StorageScope.GLOBAL):this.expandSuggestionDocs},e.prototype.updateExpandDocsSetting=function(e){this.storageServiceAvailable?this.storageService.store("expandSuggestionDocs",e,T.StorageScope.GLOBAL):this.expandSuggestionDocs=e},e.prototype.dispose=function(){this.state=null,this.suggestionSupportsAutoAccept=null,this.currentSuggestionDetails=null,this.focusedItem=null,this.element=null,this.messageElement=null,this.listElement=null,this.details.dispose(),this.details=null,this.list.dispose(),this.list=null,this.toDispose=c.dispose(this.toDispose),this.loadingTimeout&&(clearTimeout(this.loadingTimeout),this.loadingTimeout=null),this.editorBlurTimeout&&(this.editorBlurTimeout.cancel(),this.editorBlurTimeout=null),this.showTimeout&&(this.showTimeout.cancel(),this.showTimeout=null)},e}();R.ID="editor.widget.suggestWidget",R.LOADING_MESSAGE=n.localize(9,null),R.NO_SUGGESTIONS_MESSAGE=n.localize(10,null),R=v([y(1,E.ITelemetryService),y(2,g.IContextKeyService),y(3,p.IInstantiationService),y(4,w.IThemeService),y(5,T.IStorageService),y(6,f.IKeybindingService)],R),t.SuggestWidget=R,w.registerThemingParticipant(function(e,n){var i=e.getColor(t.editorSuggestWidgetHighlightForeground);i&&n.addRule(".monaco-editor .suggest-widget:not(.frozen) .monaco-highlighted-label .highlight { color: "+i+"; }");var r=e.getColor(t.editorSuggestWidgetForeground);r&&n.addRule(".monaco-editor .suggest-widget { color: "+r+"; }")})}),define(u[316],d([1,0,478,7,34,5,6,19,17,32,48,25,114,68,105,14,229,165,189,860,915]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,b,S,_,E,C,w){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var I=function(){function e(e,t,n){var i=this;this._disposables=[],this._activeAcceptCharacters=new Set,this._disposables.push(t.onDidShow(function(){return i._onItem(t.getFocusedItem())})),this._disposables.push(t.onDidFocus(this._onItem,this)),this._disposables.push(t.onDidHide(this.reset,this)),this._disposables.push(e.onWillType(function(t){if(i._activeItem){var r=t[t.length-1];i._activeAcceptCharacters.has(r)&&e.getConfiguration().contribInfo.acceptSuggestionOnCommitCharacter&&n(i._activeItem)}}))}return e.prototype._onItem=function(e){if(e&&!r.isFalsyOrEmpty(e.suggestion.commitCharacters)){this._activeItem=e,this._activeAcceptCharacters.clear();for(var t=0,n=e.suggestion.commitCharacters;t<n.length;t++){var i=n[t];i.length>0&&this._activeAcceptCharacters.add(i[0])}}else this.reset()},e.prototype.reset=function(){this._activeItem=void 0},e.prototype.dispose=function(){o.dispose(this._disposables)},e}(),T=L=function(){function e(e,t,n,i,r){var o=this;this._editor=e,this._commandService=t,this._telemetryService=n,this._toDispose=[],this._model=new C.SuggestModel(this._editor),this._toDispose.push(this._model.onDidTrigger(function(e){return o._widget.showTriggered(e.auto)})),this._toDispose.push(this._model.onDidSuggest(function(e){return o._widget.showSuggestions(e.completionModel,e.isFrozen,e.auto)})),this._toDispose.push(this._model.onDidCancel(function(e){return!e.retrigger&&o._widget.hideWidget()}));var s=E.Context.AcceptSuggestionsOnEnter.bindTo(i),a=function(){var e=o._editor.getConfiguration().contribInfo.acceptSuggestionOnEnter;s.set("on"===e||"smart"===e||!0===e)};this._toDispose.push(this._editor.onDidChangeConfiguration(function(e){return a()})),a(),this._widget=r.createInstance(w.SuggestWidget,this._editor),this._toDispose.push(this._widget.onDidSelect(this._onDidSelectItem,this));var c=new I(e,this._widget,function(e){return o._onDidSelectItem(e)});this._toDispose.push(c,this._model.onDidSuggest(function(e){0===e.completionModel.items.length&&c.reset()}));var l=E.Context.MakesTextEdit.bindTo(i);this._toDispose.push(this._widget.onDidFocus(function(e){var t=o._editor.getPosition(),n=e.position.column-e.suggestion.overwriteBefore,i=t.column,r=!0;"smart"!==o._editor.getConfiguration().contribInfo.acceptSuggestionOnEnter||2!==o._model.state||e.suggestion.command||e.suggestion.additionalTextEdits||"textmate"===e.suggestion.snippetType||i-n!==e.suggestion.insertText.length||(r=o._editor.getModel().getValueInRange({startLineNumber:t.lineNumber,startColumn:n,endLineNumber:t.lineNumber,endColumn:i})!==e.suggestion.insertText),l.set(r)})),this._toDispose.push({dispose:function(){l.reset()}})}return e.get=function(e){return e.getContribution(L.ID)},e.prototype.getId=function(){return L.ID},e.prototype.dispose=function(){this._toDispose=o.dispose(this._toDispose),this._widget&&(this._widget.dispose(),this._widget=null),this._model&&(this._model.dispose(),this._model=null)},e.prototype._onDidSelectItem=function(e){if(e){var t=e.suggestion,n=e.position,r=this._editor.getPosition().column-n.column;Array.isArray(t.additionalTextEdits)&&(this._editor.pushUndoStop(),this._editor.executeEdits("suggestController.additionalTextEdits",t.additionalTextEdits.map(function(e){return g.EditOperation.replace(b.Range.lift(e.range),e.text)})),this._editor.pushUndoStop());var o=t.insertText;"textmate"!==t.snippetType&&(o=S.SnippetParser.escape(o)),_.SnippetController2.get(this._editor).insert(o,t.overwriteBefore+r,t.overwriteAfter),t.command&&(s=this._commandService).executeCommand.apply(s,[t.command.id].concat(t.command.arguments)).done(void 0,i.onUnexpectedError),this._alertCompletionItem(e),this._telemetryService.publicLog("suggestSnippetInsert",m({},this._editor.getTelemetryData(),{suggestionType:t.type}))}this._model.cancel();var s},e.prototype._alertCompletionItem=function(e){var t=e.suggestion,i=n.localize(0,null,t.label,t.insertText);p.alert(i)},e.prototype.triggerSuggest=function(){this._model.trigger(!1,!1),this._editor.revealLine(this._editor.getPosition().lineNumber),this._editor.focus()},e.prototype.acceptSelectedSuggestion=function(){if(this._widget){var e=this._widget.getFocusedItem();this._onDidSelectItem(e)}},e.prototype.cancelSuggestWidget=function(){this._widget&&(this._model.cancel(),this._widget.hideWidget())},e.prototype.selectNextSuggestion=function(){this._widget&&this._widget.selectNext()},e.prototype.selectNextPageSuggestion=function(){this._widget&&this._widget.selectNextPage()},e.prototype.selectLastSuggestion=function(){this._widget&&this._widget.selectLast()},e.prototype.selectPrevSuggestion=function(){this._widget&&this._widget.selectPrevious()},e.prototype.selectPrevPageSuggestion=function(){this._widget&&this._widget.selectPreviousPage()},e.prototype.selectFirstSuggestion=function(){this._widget&&this._widget.selectFirst()},e.prototype.toggleSuggestionDetails=function(){this._widget&&this._widget.toggleDetails()},e.prototype.toggleSuggestionFocus=function(){this._widget&&this._widget.toggleDetailsFocus()},e}();T.ID="editor.contrib.suggestController",T=L=v([f.editorContribution,y(1,l.ICommandService),y(2,a.ITelemetryService),y(3,c.IContextKeyService),y(4,s.IInstantiationService)],T),t.SuggestController=T;var k=function(e){function t(){return e.call(this,{id:"editor.action.triggerSuggest",label:n.localize(1,null),alias:"Trigger Suggest",precondition:c.ContextKeyExpr.and(u.EditorContextKeys.writable,u.EditorContextKeys.hasCompletionItemProvider),kbOpts:{kbExpr:u.EditorContextKeys.textFocus,primary:2058,mac:{primary:266}}})||this}return h(t,e),t.prototype.run=function(e,t){var n=T.get(t);n&&n.triggerSuggest()},t}(d.EditorAction);k=v([d.editorAction],k),t.TriggerSuggestAction=k;var x=d.CommonEditorRegistry.commandWeight(90),A=d.EditorCommand.bindToContribution(T.get);d.CommonEditorRegistry.registerEditorCommand(new A({id:"acceptSelectedSuggestion",precondition:E.Context.Visible,handler:function(e){return e.acceptSelectedSuggestion()},kbOpts:{weight:x,kbExpr:u.EditorContextKeys.textFocus,primary:2}})),d.CommonEditorRegistry.registerEditorCommand(new A({id:"acceptSelectedSuggestionOnEnter",precondition:E.Context.Visible,handler:function(e){return e.acceptSelectedSuggestion()},kbOpts:{weight:x,kbExpr:c.ContextKeyExpr.and(u.EditorContextKeys.textFocus,E.Context.AcceptSuggestionsOnEnter,E.Context.MakesTextEdit),primary:3}})),d.CommonEditorRegistry.registerEditorCommand(new A({id:"hideSuggestWidget",precondition:E.Context.Visible,handler:function(e){return e.cancelSuggestWidget()},kbOpts:{weight:x,kbExpr:u.EditorContextKeys.textFocus,primary:9,secondary:[1033]}})),d.CommonEditorRegistry.registerEditorCommand(new A({id:"selectNextSuggestion",precondition:c.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:function(e){return e.selectNextSuggestion()},kbOpts:{weight:x,kbExpr:u.EditorContextKeys.textFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),d.CommonEditorRegistry.registerEditorCommand(new A({id:"selectNextPageSuggestion",precondition:c.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:function(e){return e.selectNextPageSuggestion()},kbOpts:{weight:x,kbExpr:u.EditorContextKeys.textFocus,primary:12,secondary:[2060]}})),d.CommonEditorRegistry.registerEditorCommand(new A({id:"selectLastSuggestion",precondition:c.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:function(e){return e.selectLastSuggestion()}})),d.CommonEditorRegistry.registerEditorCommand(new A({id:"selectPrevSuggestion",precondition:c.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:function(e){return e.selectPrevSuggestion()},kbOpts:{weight:x,kbExpr:u.EditorContextKeys.textFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),d.CommonEditorRegistry.registerEditorCommand(new A({id:"selectPrevPageSuggestion",precondition:c.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:function(e){return e.selectPrevPageSuggestion()},kbOpts:{weight:x,kbExpr:u.EditorContextKeys.textFocus,primary:11,secondary:[2059]}})),d.CommonEditorRegistry.registerEditorCommand(new A({id:"selectFirstSuggestion",precondition:c.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:function(e){return e.selectFirstSuggestion()}})),d.CommonEditorRegistry.registerEditorCommand(new A({id:"toggleSuggestionDetails",precondition:E.Context.Visible,handler:function(e){return e.toggleSuggestionDetails()},kbOpts:{weight:x,kbExpr:u.EditorContextKeys.textFocus,primary:2058,mac:{primary:266}}})),d.CommonEditorRegistry.registerEditorCommand(new A({id:"toggleSuggestionFocus",precondition:E.Context.Visible,handler:function(e){return e.toggleSuggestionFocus()},kbOpts:{weight:x,kbExpr:u.EditorContextKeys.textFocus,primary:2570,mac:{primary:778}}}));var L}),define(u[424],d([1,0,481,18,7,14,33,25,46,5,29,13,147,77]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p){"use strict";function f(e,t){var n=c.DocumentHighlightProviderRegistry.ordered(e),o=!1;return i.sequence(n.map(function(n){return function(){if(!o)return i.asWinJsPromise(function(i){return n.provideDocumentHighlights(e,t,i)}).then(function(e){if(Array.isArray(e)&&e.length>0)return o=!0,e},function(e){r.onUnexpectedExternalError(e)})}})).then(function(e){return e[0]})}Object.defineProperty(t,"__esModule",{value:!0}),t.editorWordHighlight=u.registerColor("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},n.localize(0,null)),t.editorWordHighlightStrong=u.registerColor("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},n.localize(1,null)),t.getOccurrencesAtPosition=f,a.CommonEditorRegistry.registerDefaultLanguageCommand("_executeDocumentHighlights",f);var g=function(){function e(e){var t=this;this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=e,this.occurrencesHighlight=this.editor.getConfiguration().contribInfo.occurrencesHighlight,this.model=this.editor.getModel(),this.toUnhook=[],this.toUnhook.push(e.onDidChangeCursorPosition(function(e){t.occurrencesHighlight&&t._onPositionChanged(e)})),this.toUnhook.push(e.onDidChangeModel(function(e){t._stopAll(),t.model=t.editor.getModel()})),this.toUnhook.push(e.onDidChangeModelContent(function(e){t._stopAll()})),this.toUnhook.push(e.onDidChangeConfiguration(function(e){var n=t.editor.getConfiguration().contribInfo.occurrencesHighlight;t.occurrencesHighlight!==n&&(t.occurrencesHighlight=n,t._stopAll())})),this._lastWordRange=null,this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}return e.prototype._removeDecorations=function(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]))},e.prototype._stopAll=function(){this._lastWordRange=null,this._removeDecorations(),-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)},e.prototype._onPositionChanged=function(e){var t=this;if(this.occurrencesHighlight)if(e.reason===h.CursorChangeReason.Explicit)if(c.DocumentHighlightProviderRegistry.has(this.model)){var n=this.editor.getSelection();if(n.startLineNumber===n.endLineNumber){var i=n.startLineNumber,r=n.startColumn,s=n.endColumn,a=this.model.getWordAtPosition({lineNumber:i,column:r});if(!a||a.startColumn>r||a.endColumn<s)this._stopAll();else{for(var l=new o.Range(i,a.startColumn,i,a.endColumn),u=this._lastWordRange&&this._lastWordRange.equalsRange(l),d=0,p=this._decorationIds.length;!u&&d<p;d++){var g=this.model.getDecorationRange(this._decorationIds[d]);g&&g.startLineNumber===i&&g.startColumn<=r&&g.endColumn>=s&&(u=!0)}if(this.lastCursorPositionChangeTime=(new Date).getTime(),u)this.workerRequestCompleted&&-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();var v=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=f(this.model,this.editor.getPosition()),this.workerRequest.then(function(e){v===t.workerRequestTokenId&&(t.workerRequestCompleted=!0,t.workerRequestValue=e||[],t._beginRenderDecorations())}).done()}this._lastWordRange=l}}else this._stopAll()}else this._stopAll();else this._stopAll();else this._stopAll()},e.prototype._beginRenderDecorations=function(){var e=this,t=(new Date).getTime(),n=this.lastCursorPositionChangeTime+250;t>=n?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(function(){e.renderDecorations()},n-t)},e.prototype.renderDecorations=function(){this.renderDecorationsTimer=-1;for(var t=[],n=0,i=this.workerRequestValue.length;n<i;n++){var r=this.workerRequestValue[n];t.push({range:r.range,options:e._getDecorationOptions(r.kind)})}this._decorationIds=this.editor.deltaDecorations(this._decorationIds,t)},e._getDecorationOptions=function(e){return e===c.DocumentHighlightKind.Write?this._WRITE_OPTIONS:e===c.DocumentHighlightKind.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS},e.prototype.dispose=function(){this._stopAll(),this.toUnhook=l.dispose(this.toUnhook)},e}();g._WRITE_OPTIONS=p.ModelDecorationOptions.register({stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"wordHighlightStrong",overviewRuler:{color:"#A0A0A0",darkColor:"#A0A0A0",position:s.OverviewRulerLane.Center}}),g._TEXT_OPTIONS=p.ModelDecorationOptions.register({stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"selectionHighlight",overviewRuler:{color:"#A0A0A0",darkColor:"#A0A0A0",position:s.OverviewRulerLane.Center}}),g._REGULAR_OPTIONS=p.ModelDecorationOptions.register({stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"wordHighlight",overviewRuler:{color:"#A0A0A0",darkColor:"#A0A0A0",position:s.OverviewRulerLane.Center}});var m=y=function(){function e(e){this.wordHighligher=new g(e)}return e.prototype.getId=function(){return y.ID},e.prototype.dispose=function(){this.wordHighligher.dispose()},e}();m.ID="editor.contrib.wordHighlighter",m=y=v([a.commonEditorContribution],m),d.registerThemingParticipant(function(e,n){var i=e.getColor(u.editorSelectionHighlight);i&&(n.addRule(".monaco-editor .focused .selectionHighlight { background-color: "+i+"; }"),n.addRule(".monaco-editor .selectionHighlight { background-color: "+i.transparent(.5)+"; }"));var r=e.getColor(t.editorWordHighlight);r&&n.addRule(".monaco-editor .wordHighlight { background-color: "+r+"; }");var o=e.getColor(t.editorWordHighlightStrong);o&&n.addRule(".monaco-editor .wordHighlightStrong { background-color: "+o+"; }");var s=e.getColor(u.activeContrastBorder);s&&(n.addRule(".monaco-editor .selectionHighlight { border: 1px dotted "+s+"; box-sizing: border-box; }"),n.addRule(".monaco-editor .wordHighlight { border: 1px dashed "+s+"; box-sizing: border-box; }"),n.addRule(".monaco-editor .wordHighlightStrong { border: 1px dashed "+s+"; box-sizing: border-box; }"))});var y}),define(u[266],d([1,0,482,21,12,26,40,8,9,49,6,56,260,427,17,58,1030]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IPeekViewService=u.createDecorator("peekViewService");!function(e){e.inPeekEditor=new g.RawContextKey("inReferenceSearchEditor",!0),e.notInPeekEditor=e.inPeekEditor.toNegated()}(t.PeekContext||(t.PeekContext={})),t.NOT_INNER_EDITOR_CONTEXT_KEY=new g.RawContextKey("inReferenceSearchEditor",!0),t.getOuterEditor=function(e){var t=e.get(d.ICodeEditorService).getFocusedCodeEditor();return t instanceof f.EmbeddedCodeEditorWidget?t.getParentEditor():t};var m={headerBackgroundColor:v.Color.white,primaryHeadingColor:v.Color.fromHex("#333333"),secondaryHeadingColor:v.Color.fromHex("#6c6c6cb3")},y=function(e){function t(t,n){void 0===n&&(n={});var i=e.call(this,t,n)||this;return i._onDidClose=new a.Emitter,i._isActive=!1,o.mixin(i.options,m,!1),i}return h(t,e),t.prototype.dispose=function(){this._isActive=!1,e.prototype.dispose.call(this),this._onDidClose.fire(this)},Object.defineProperty(t.prototype,"onDidClose",{get:function(){return this._onDidClose.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!0,configurable:!0}),t.prototype.show=function(t,n){this._isActive=!0,e.prototype.show.call(this,t,n)},t.prototype.style=function(t){var n=this.options;t.headerBackgroundColor&&(n.headerBackgroundColor=t.headerBackgroundColor),t.primaryHeadingColor&&(n.primaryHeadingColor=t.primaryHeadingColor),t.secondaryHeadingColor&&(n.secondaryHeadingColor=t.secondaryHeadingColor),e.prototype.style.call(this,t)},t.prototype._applyStyles=function(){e.prototype._applyStyles.call(this);var t=this.options;this._headElement&&(this._headElement.style.backgroundColor=t.headerBackgroundColor.toString()),this._primaryHeading&&(this._primaryHeading.style.color=t.primaryHeadingColor.toString()),this._secondaryHeading&&(this._secondaryHeading.style.color=t.secondaryHeadingColor.toString()),this._bodyElement&&(this._bodyElement.style.borderColor=t.frameColor.toString())},t.prototype._fillContainer=function(e){this.setCssClass("peekview-widget"),this._headElement=s.$(".head").getHTMLElement(),this._bodyElement=s.$(".body").getHTMLElement(),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)},t.prototype._fillHead=function(e){var t=this,r=s.$(".peekview-title").on(c.EventType.CLICK,function(e){return t._onTitleClick(e)}).appendTo(this._headElement).getHTMLElement();this._primaryHeading=s.$("span.filename").appendTo(r).getHTMLElement(),this._secondaryHeading=s.$("span.dirname").appendTo(r).getHTMLElement(),this._metaHeading=s.$("span.meta").appendTo(r).getHTMLElement(),this._actionbarWidget=new l.ActionBar(s.$(".peekview-actions").appendTo(this._headElement)),this._actionbarWidget.push(new i.Action("peekview.close",n.localize(0,null),"close-peekview-action",!0,function(){return t.dispose(),null}),{label:!1,icon:!0})},t.prototype._onTitleClick=function(e){},t.prototype.setTitle=function(e,t){s.$(this._primaryHeading).safeInnerHtml(e),this._primaryHeading.setAttribute("aria-label",e),t?s.$(this._secondaryHeading).safeInnerHtml(t):c.clearNode(this._secondaryHeading)},t.prototype.setMetaTitle=function(e){e?s.$(this._metaHeading).safeInnerHtml(e):c.clearNode(this._metaHeading)},t.prototype._fillBody=function(e){},t.prototype._doLayout=function(e,t){if(!this._isShowing&&e<0)return this.dispose(),void this._onDidClose.fire(this);var n=Math.ceil(1.2*this.editor.getConfiguration().lineHeight),i=e-(n+2);this._doLayoutHead(n,t),this._doLayoutBody(i,t)},t.prototype._doLayoutHead=function(e,t){this._headElement.style.height=r.format("{0}px",e),this._headElement.style.lineHeight=this._headElement.style.height},t.prototype._doLayoutBody=function(e,t){this._bodyElement.style.height=r.format("{0}px",e)},t}(p.ZoneWidget);t.PeekViewWidget=y}),define(u[314],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Idle=1]="Idle",e[e.CheckingForUpdate=2]="CheckingForUpdate",e[e.UpdateAvailable=3]="UpdateAvailable",e[e.UpdateDownloaded=4]="UpdateDownloaded"}(t.State||(t.State={}));!function(e){e[e.Implicit=0]="Implicit",e[e.Explicit=1]="Explicit"}(t.ExplicitState||(t.ExplicitState={})),t.IUpdateService=n.createDecorator("updateService")}),define(u[920],d([1,0,4,132,8,7,314]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){this.service=e}return e.prototype.call=function(e,t){switch(e){case"event:onError":return i.eventToCall(this.service.onError);case"event:onUpdateAvailable":return i.eventToCall(this.service.onUpdateAvailable);case"event:onUpdateNotAvailable":return i.eventToCall(this.service.onUpdateNotAvailable);case"event:onUpdateReady":return i.eventToCall(this.service.onUpdateReady);case"event:onStateChange":return i.eventToCall(this.service.onStateChange);case"checkForUpdates":return this.service.checkForUpdates(t);case"quitAndInstall":return this.service.quitAndInstall();case"_getInitialState":return n.TPromise.as(this.service.state)}},e}();t.UpdateChannel=a;var c=function(){function e(e){var t=this;this.channel=e,this._onError=i.eventFromCall(this.channel,"event:onError"),this._onUpdateAvailable=i.eventFromCall(this.channel,"event:onUpdateAvailable"),this._onUpdateNotAvailable=i.eventFromCall(this.channel,"event:onUpdateNotAvailable"),this._onUpdateReady=i.eventFromCall(this.channel,"event:onUpdateReady"),this._onRemoteStateChange=i.eventFromCall(this.channel,"event:onStateChange"),this._onStateChange=new r.Emitter,this._state=s.State.Uninitialized,this.onStateChange(function(e){return t._state=e}),e.call("_getInitialState").done(function(e){t._onStateChange.fire(e),t._onRemoteStateChange(function(e){return t._onStateChange.fire(e)})},o.onUnexpectedError)}return Object.defineProperty(e.prototype,"onError",{get:function(){return this._onError},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onUpdateAvailable",{get:function(){return this._onUpdateAvailable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onUpdateNotAvailable",{get:function(){return this._onUpdateNotAvailable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onUpdateReady",{get:function(){return this._onUpdateReady},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onStateChange",{get:function(){return this._onStateChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),e.prototype.checkForUpdates=function(e){return this.channel.call("checkForUpdates",e)},e.prototype.quitAndInstall=function(){return this.channel.call("quitAndInstall")},e}();t.UpdateChannelClient=c}),define(u[416],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ID="urlService",t.IURLService=n.createDecorator(t.ID)}),define(u[62],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWindowsService=n.createDecorator("windowsService"),t.IWindowService=n.createDecorator("windowService");!function(e){e[e.CLI=0]="CLI",e[e.DOCK=1]="DOCK",e[e.MENU=2]="MENU",e[e.DIALOG=3]="DIALOG",e[e.DESKTOP=4]="DESKTOP",e[e.API=5]="API"}(t.OpenContext||(t.OpenContext={}));!function(e){e[e.NONE=0]="NONE",e[e.LOADING=1]="LOADING",e[e.NAVIGATING=2]="NAVIGATING",e[e.READY=3]="READY"}(t.ReadyState||(t.ReadyState={}))}),define(u[923],d([1,0,132,8,62,16]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){return e.toJSON()},a=function(e){return o.default.revive(e)},c=function(){function e(e,t){var n=this;this.service=e,t.onWindowFocus(function(e){return n.focusedWindowId=e})}return e.prototype.call=function(e,t){var r=this;switch(e){case"event:onOpenURL":return n.eventToCall(i.filterEvent(this.service.onOpenURL,function(){return r.isWindowFocused(t)}),s)}},e.prototype.isWindowFocused=function(e){return this.focusedWindowId===e},e}();c=v([y(1,r.IWindowsService)],c),t.URLChannel=c;var l=function(){function e(e,t){this.channel=e,this.windowID=t,this._onOpenURL=n.eventFromCall(this.channel,"event:onOpenURL",this.windowID,a)}return Object.defineProperty(e.prototype,"onOpenURL",{get:function(){return this._onOpenURL},enumerable:!0,configurable:!0}),e.prototype.open=function(e){},e}();t.URLChannelClient=l}),define(u[924],d([1,0,8,132]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.service=e,this.onWindowOpen=n.buffer(e.onWindowOpen,!0),this.onWindowFocus=n.buffer(e.onWindowFocus,!0)}return e.prototype.call=function(e,t){switch(e){case"event:onWindowOpen":return i.eventToCall(this.onWindowOpen);case"event:onWindowFocus":return i.eventToCall(this.onWindowFocus);case"pickFileFolderAndOpen":return this.service.pickFileFolderAndOpen(t[0],t[1],t[2]);case"pickFileAndOpen":return this.service.pickFileAndOpen(t[0],t[1],t[2],t[3]);case"pickFolderAndOpen":return this.service.pickFolderAndOpen(t[0],t[1],t[2]);case"pickFolder":return this.service.pickFolder(t);case"reloadWindow":return this.service.reloadWindow(t);case"openDevTools":return this.service.openDevTools(t);case"toggleDevTools":return this.service.toggleDevTools(t);case"closeFolder":return this.service.closeFolder(t);case"toggleFullScreen":return this.service.toggleFullScreen(t);case"setRepresentedFilename":return this.service.setRepresentedFilename(t[0],t[1]);case"addToRecentlyOpen":return this.service.addToRecentlyOpen(t);case"removeFromRecentlyOpen":return this.service.removeFromRecentlyOpen(t);case"clearRecentPathsList":return this.service.clearRecentPathsList();case"getRecentlyOpen":return this.service.getRecentlyOpen(t);case"focusWindow":return this.service.focusWindow(t);case"isFocused":return this.service.isFocused(t);case"isMaximized":return this.service.isMaximized(t);case"maximizeWindow":return this.service.maximizeWindow(t);case"unmaximizeWindow":return this.service.unmaximizeWindow(t);case"onWindowTitleDoubleClick":return this.service.onWindowTitleDoubleClick(t);case"setDocumentEdited":return this.service.setDocumentEdited(t[0],t[1]);case"openWindow":return this.service.openWindow(t[0],t[1]);case"openNewWindow":return this.service.openNewWindow();case"showWindow":return this.service.showWindow(t);case"getWindows":return this.service.getWindows();case"getWindowCount":return this.service.getWindowCount();case"relaunch":return this.service.relaunch(t[0]);case"whenSharedProcessReady":return this.service.whenSharedProcessReady();case"toggleSharedProcess":return this.service.toggleSharedProcess();case"quit":return this.service.quit();case"log":return this.service.log(t[0],t[1]);case"closeExtensionHostWindow":return this.service.closeExtensionHostWindow(t);case"showItemInFolder":return this.service.showItemInFolder(t);case"openExternal":return this.service.openExternal(t);case"startCrashReporter":return this.service.startCrashReporter(t)}},e}();t.WindowsChannel=r;var o=function(){function e(e){this.channel=e,this._onWindowOpen=i.eventFromCall(this.channel,"event:onWindowOpen"),this._onWindowFocus=i.eventFromCall(this.channel,"event:onWindowFocus")}return Object.defineProperty(e.prototype,"onWindowOpen",{get:function(){return this._onWindowOpen},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onWindowFocus",{get:function(){return this._onWindowFocus},enumerable:!0,configurable:!0}),e.prototype.pickFileFolderAndOpen=function(e,t,n){return this.channel.call("pickFileFolderAndOpen",[e,t,n])},e.prototype.pickFileAndOpen=function(e,t,n,i){return this.channel.call("pickFileAndOpen",[e,t,n,i])},e.prototype.pickFolderAndOpen=function(e,t,n){return this.channel.call("pickFolderAndOpen",[e,t,n])},e.prototype.pickFolder=function(e){return this.channel.call("pickFolder",e)},e.prototype.reloadWindow=function(e){return this.channel.call("reloadWindow",e)},e.prototype.openDevTools=function(e){return this.channel.call("openDevTools",e)},e.prototype.toggleDevTools=function(e){return this.channel.call("toggleDevTools",e)},e.prototype.closeFolder=function(e){return this.channel.call("closeFolder",e)},e.prototype.toggleFullScreen=function(e){return this.channel.call("toggleFullScreen",e)},e.prototype.setRepresentedFilename=function(e,t){return this.channel.call("setRepresentedFilename",[e,t])},e.prototype.addToRecentlyOpen=function(e){return this.channel.call("addToRecentlyOpen",e)},e.prototype.removeFromRecentlyOpen=function(e){return this.channel.call("removeFromRecentlyOpen",e)},e.prototype.clearRecentPathsList=function(){return this.channel.call("clearRecentPathsList")},e.prototype.getRecentlyOpen=function(e){return this.channel.call("getRecentlyOpen",e)},e.prototype.focusWindow=function(e){return this.channel.call("focusWindow",e)},e.prototype.isFocused=function(e){return this.channel.call("isFocused",e)},e.prototype.isMaximized=function(e){return this.channel.call("isMaximized",e)},e.prototype.maximizeWindow=function(e){return this.channel.call("maximizeWindow",e)},e.prototype.unmaximizeWindow=function(e){return this.channel.call("unmaximizeWindow",e)},e.prototype.onWindowTitleDoubleClick=function(e){return this.channel.call("onWindowTitleDoubleClick",e)},e.prototype.setDocumentEdited=function(e,t){return this.channel.call("setDocumentEdited",[e,t])},e.prototype.quit=function(){return this.channel.call("quit")},e.prototype.relaunch=function(e){return this.channel.call("relaunch",[e])},e.prototype.whenSharedProcessReady=function(){return this.channel.call("whenSharedProcessReady")},e.prototype.toggleSharedProcess=function(){return this.channel.call("toggleSharedProcess")},e.prototype.openWindow=function(e,t){return this.channel.call("openWindow",[e,t])},e.prototype.openNewWindow=function(){return this.channel.call("openNewWindow")},e.prototype.showWindow=function(e){return this.channel.call("showWindow",e)},e.prototype.getWindows=function(){return this.channel.call("getWindows")},e.prototype.getWindowCount=function(){return this.channel.call("getWindowCount")},e.prototype.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return this.channel.call("log",[e,t])},e.prototype.closeExtensionHostWindow=function(e){return this.channel.call("closeExtensionHostWindow",e)},e.prototype.showItemInFolder=function(e){return this.channel.call("showItemInFolder",e)},e.prototype.openExternal=function(e){return this.channel.call("openExternal",e)},e.prototype.startCrashReporter=function(e){return this.channel.call("startCrashReporter",e)},e}();t.WindowsChannelClient=o}),define(u[925],d([1,0,62]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this.windowId=e,this.windowsService=t}return e.prototype.getCurrentWindowId=function(){return this.windowId},e.prototype.pickFileFolderAndOpen=function(e,t){return this.windowsService.pickFileFolderAndOpen(this.windowId,e,t)},e.prototype.pickFileAndOpen=function(e,t,n){return this.windowsService.pickFileAndOpen(this.windowId,e,t,n)},e.prototype.pickFolderAndOpen=function(e,t){return this.windowsService.pickFolderAndOpen(this.windowId,e,t)},e.prototype.pickFolder=function(e){return this.windowsService.pickFolder(e)},e.prototype.reloadWindow=function(){return this.windowsService.reloadWindow(this.windowId)},e.prototype.openDevTools=function(){return this.windowsService.openDevTools(this.windowId)},e.prototype.toggleDevTools=function(){return this.windowsService.toggleDevTools(this.windowId)},e.prototype.closeFolder=function(){return this.windowsService.closeFolder(this.windowId)},e.prototype.toggleFullScreen=function(){return this.windowsService.toggleFullScreen(this.windowId)},e.prototype.setRepresentedFilename=function(e){return this.windowsService.setRepresentedFilename(this.windowId,e)},e.prototype.addToRecentlyOpen=function(e){return this.windowsService.addToRecentlyOpen(e)},e.prototype.removeFromRecentlyOpen=function(e){return this.windowsService.removeFromRecentlyOpen(e)},e.prototype.getRecentlyOpen=function(){return this.windowsService.getRecentlyOpen(this.windowId)},e.prototype.focusWindow=function(){return this.windowsService.focusWindow(this.windowId)},e.prototype.isFocused=function(){return this.windowsService.isFocused(this.windowId)},e.prototype.isMaximized=function(){return this.windowsService.isMaximized(this.windowId)},e.prototype.maximizeWindow=function(){return this.windowsService.maximizeWindow(this.windowId)},e.prototype.unmaximizeWindow=function(){return this.windowsService.unmaximizeWindow(this.windowId)},e.prototype.onWindowTitleDoubleClick=function(){return this.windowsService.onWindowTitleDoubleClick(this.windowId)},e.prototype.setDocumentEdited=function(e){return this.windowsService.setDocumentEdited(this.windowId,e)},e}();i=v([y(1,n.IWindowsService)],i),t.WindowService=i}),define(u[27],d([1,0,16,6,28,70,11]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWorkspaceContextService=i.createDecorator("contextService");var a=function(){function e(e,t){this._resource=e,this._ctime=t,this._name=r.basename(this._resource.fsPath)||this._resource.fsPath}return Object.defineProperty(e.prototype,"resource",{get:function(){return this._resource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ctime",{get:function(){return this._ctime},enumerable:!0,configurable:!0}),e.prototype.toWorkspaceRelativePath=function(e,t){return this.contains(e)?r.normalize(r.relative(this._resource.fsPath,e.fsPath),t):null},e.prototype.contains=function(e){return!!e&&r.isEqualOrParent(e.fsPath,this._resource.fsPath,!s.isLinux)},e.prototype.toResource=function(e,t){return"string"==typeof e?n.default.file(r.join(t?t.fsPath:this._resource.fsPath,e)):null},e}();t.LegacyWorkspace=a;var c=function(){function e(e,t,n){this.id=e,this._name=t,this._roots=n,this._rootsMap=new o.TrieMap(o.TrieMap.PathSplitter),this.updateRootsMap()}return Object.defineProperty(e.prototype,"roots",{get:function(){return this._roots},set:function(e){this._roots=e,this.updateRootsMap()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!0,configurable:!0}),e.prototype.getRoot=function(e){return e?this._rootsMap.findSubstr(e.fsPath):null},e.prototype.updateRootsMap=function(){this._rootsMap=new o.TrieMap(o.TrieMap.PathSplitter);for(var e=0,t=this.roots;e<t.length;e++){var n=t[e];this._rootsMap.insert(n.fsPath,n)}},e.prototype.toJSON=function(){return{id:this.id,roots:this.roots,name:this.name}},e}();t.Workspace=c}),define(u[405],d([1,0,474,7,82,8,5,79,12,4,58,40,9,151,201,293,121,128,6,118,27,14,33,433,427,266,325,71,29,13,55,39,77,16,1038]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A,L,P,D,O,R,M,N){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var F=function(){function e(e,t){var n=this;this._editor=e,this._model=t,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=[],this._callOnModelChange=[],this._callOnDispose.push(this._editor.onDidChangeModel(function(){return n._onModelChanged()})),this._onModelChanged()}return e.prototype.dispose=function(){this._callOnModelChange=s.dispose(this._callOnModelChange),this._callOnDispose=s.dispose(this._callOnDispose),this.removeDecorations()},e.prototype._onModelChanged=function(){this._callOnModelChange=s.dispose(this._callOnModelChange);var e=this._editor.getModel();if(e)for(var t=0,n=this._model.groups;t<n.length;t++){var i=n[t];if(i.uri.toString()===e.uri.toString())return void this._addDecorations(i)}},e.prototype._addDecorations=function(t){var n=this;this._callOnModelChange.push(this._editor.getModel().onDidChangeDecorations(function(e){return n._onDecorationChanged(e)})),this._editor.changeDecorations(function(i){for(var r=[],o=[],s=0,a=t.children.length;s<a;s++){var c=t.children[s];n._decorationIgnoreSet.has(c.id)||(r.push({range:c.range,options:e.DecorationOptions}),o.push(s))}for(var l=i.deltaDecorations([],r),s=0;s<l.length;s++)n._decorations.set(l[s],t.children[o[s]])})},e.prototype._onDecorationChanged=function(e){for(var t=this,n=e.changedDecorations,i=[],r=0,o=n.length;r<o;r++){var s=this._decorations.get(n[r]);if(s){var a=this._editor.getModel().getDecorationRange(n[r]),c=!1;w.Range.equalsRange(a,s.range)||(w.Range.spansMultipleLines(a)?c=!0:s.range.endColumn-s.range.startColumn!==a.endColumn-a.startColumn&&(c=!0),c?(this._decorationIgnoreSet.add(s.id),i.push(n[r])):s.range=a)}}this._editor.changeDecorations(function(e){for(var n=0,r=i.length;n<r;n++)t._decorations.delete(i[n]);e.deltaDecorations(i,[])})},e.prototype.removeDecorations=function(){var e=this;this._editor.changeDecorations(function(t){e._decorations.forEach(function(e,n){t.removeDecoration(n)}),e._decorations.clear()})},e}();F.DecorationOptions=M.ModelDecorationOptions.register({stickiness:I.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"reference-decoration"});var W=function(){function e(e){this._textModelResolverService=e}return e.prototype.getId=function(e,t){return t instanceof A.ReferencesModel?"root":t instanceof A.FileReferences?t.id:t instanceof A.OneReference?t.id:void 0},e.prototype.hasChildren=function(e,t){return t instanceof A.ReferencesModel||t instanceof A.FileReferences&&!t.failure},e.prototype.getChildren=function(e,t){return t instanceof A.ReferencesModel?l.TPromise.as(t.groups):t instanceof A.FileReferences?t.resolve(this._textModelResolverService).then(function(n){return t.failure?e.refresh(t).then(function(){return n.children}):n.children}):l.TPromise.as([])},e.prototype.getParent=function(e,t){var n=null;return t instanceof A.FileReferences?n=t.parent:t instanceof A.OneReference&&(n=t.parent),l.TPromise.as(n)},e}();W=v([y(0,L.ITextModelService)],W);var B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.onTap=function(n,i,r){if(i instanceof A.FileReferences)return r.preventDefault(),r.stopPropagation(),this._expandCollapse(n,i);var o=e.prototype.onTap.call(this,n,i,r);return n.emit(t.Events.FOCUSED,i),o},t.prototype.onMouseDown=function(n,i,r){if(r.leftButton){if(i instanceof A.FileReferences)return r.preventDefault(),r.stopPropagation(),this._expandCollapse(n,i);var o=e.prototype.onClick.call(this,n,i,r);return r.ctrlKey||r.metaKey?n.emit(t.Events.OPEN_TO_SIDE,i):2===r.detail?n.emit(t.Events.SELECTED,i):n.emit(t.Events.FOCUSED,i),o}return!1},t.prototype.onClick=function(t,n,i){return!i.leftButton&&e.prototype.onClick.call(this,t,n,i)},t.prototype._expandCollapse=function(e,t){return e.isExpanded(t)?e.collapse(t).done(null,i.onUnexpectedError):e.expand(t).done(null,i.onUnexpectedError),!0},t.prototype.onEscape=function(e,t){return!1},t.prototype.onEnter=function(n,i){var r=n.getFocus();if(r instanceof A.FileReferences)return this._expandCollapse(n,r);var o=e.prototype.onEnter.call(this,n,i);return i.ctrlKey||i.metaKey?n.emit(t.Events.OPEN_TO_SIDE,r):n.emit(t.Events.SELECTED,r),o},t.prototype.onUp=function(t,n){return e.prototype.onUp.call(this,t,n),this._fakeFocus(t,n),!0},t.prototype.onPageUp=function(t,n){return e.prototype.onPageUp.call(this,t,n),this._fakeFocus(t,n),!0},t.prototype.onLeft=function(t,n){return e.prototype.onLeft.call(this,t,n),this._fakeFocus(t,n),!0},t.prototype.onDown=function(t,n){return e.prototype.onDown.call(this,t,n),this._fakeFocus(t,n),!0},t.prototype.onPageDown=function(t,n){return e.prototype.onPageDown.call(this,t,n),this._fakeFocus(t,n),!0},t.prototype.onRight=function(t,n){return e.prototype.onRight.call(this,t,n),this._fakeFocus(t,n),!0},t.prototype._fakeFocus=function(e,n){var i=e.getFocus();e.setSelection([i]),e.emit(t.Events.FOCUSED,i)},t}(b.DefaultController);B.Events={FOCUSED:"events/custom/focused",SELECTED:"events/custom/selected",OPEN_TO_SIDE:"events/custom/opentoside"};var V=function(){function e(e,t,n,i){this._contextService=t,this._environmentService=n;var r=document.createElement("div");p.addClass(r,"reference-file"),e.appendChild(r),this.file=new m.FileLabel(r,N.default.parse("no:file"),this._contextService,this._environmentService),this.badge=new g.CountBadge(r);var o=O.attachBadgeStyler(this.badge,i);this.dispose=function(){return o.dispose()}}return e.prototype.set=function(e){this.file.setFile(e.uri,this._contextService,this._environmentService);var t=e.children.length;this.badge.setCount(t),e.failure?this.badge.setTitleFormat(n.localize(0,null)):t>1?this.badge.setTitleFormat(n.localize(1,null,t)):this.badge.setTitleFormat(n.localize(2,null,t))},e}();V=v([y(1,C.IWorkspaceContextService),y(2,_.optional(R.IEnvironmentService)),y(3,D.IThemeService)],V);var z=function(){function e(e){var t=document.createElement("div");this.before=document.createElement("span"),this.inside=document.createElement("span"),this.after=document.createElement("span"),p.addClass(this.inside,"referenceMatch"),p.addClass(t,"reference"),t.appendChild(this.before),t.appendChild(this.inside),t.appendChild(this.after),e.appendChild(t)}return e.prototype.set=function(e){var t=e.parent.preview.preview(e.range),n=t.before,i=t.inside,r=t.after;this.before.innerHTML=c.escape(n),this.inside.innerHTML=c.escape(i),this.after.innerHTML=c.escape(r)},e}(),H=function(){function e(e,t,n){this._contextService=e,this._themeService=t,this._environmentService=n}return e.prototype.getHeight=function(e,t){return 22},e.prototype.getTemplateId=function(t,n){if(n instanceof A.FileReferences)return e._ids.FileReferences;if(n instanceof A.OneReference)return e._ids.OneReference;throw n},e.prototype.renderTemplate=function(t,n,i){if(n===e._ids.FileReferences)return new V(i,this._contextService,this._environmentService,this._themeService);if(n===e._ids.OneReference)return new z(i);throw n},e.prototype.renderElement=function(e,t,n,i){if(t instanceof A.FileReferences)i.set(t);else{if(!(t instanceof A.OneReference))throw n;i.set(t)}},e.prototype.disposeTemplate=function(e,t,n){n instanceof V&&n.dispose()},e}();H._ids={FileReferences:"FileReferences",OneReference:"OneReference"},H=v([y(0,C.IWorkspaceContextService),y(1,D.IThemeService),y(2,_.optional(R.IEnvironmentService))],H);var K=function(){function e(){}return e.prototype.getAriaLabel=function(e,t){return t instanceof A.FileReferences?t.getAriaMessage():t instanceof A.OneReference?t.getAriaMessage():void 0},e}(),U=function(){function e(e,t){var n=this;this._disposables=[],this._onDidChangePercentages=new o.Emitter,this._ratio=t,this._sash=new f.Sash(e,{getVerticalSashLeft:function(){return n._width*n._ratio},getVerticalSashHeight:function(){return n._height}});var i;this._disposables.push(this._sash.addListener("start",function(e){i=e.startX-n._width*n.ratio})),this._disposables.push(this._sash.addListener("change",function(e){var t=e.currentX-i;t>20&&t+20<n._width&&(n._ratio=t/n._width,n._sash.layout(),n._onDidChangePercentages.fire(n))}))}return e.prototype.dispose=function(){this._sash.dispose(),this._onDidChangePercentages.dispose(),s.dispose(this._disposables)},Object.defineProperty(e.prototype,"onDidChangePercentages",{get:function(){return this._onDidChangePercentages.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{set:function(e){this._width=e,this._sash.layout()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{set:function(e){this._height=e,this._sash.layout()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"percentages",{get:function(){var e=100*this._ratio;return[e+"%",100-e+"%"]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ratio",{get:function(){return this._ratio},enumerable:!0,configurable:!0}),e}(),j=function(e){function c(t,n,i,r,s,a,c){var l=e.call(this,t,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0})||this;return l.layoutData=n,l._textModelResolverService=i,l._contextService=r,l._themeService=s,l._instantiationService=a,l._environmentService=c,l._disposeOnNewModel=[],l._callOnDispose=[],l._onDidSelectReference=new o.Emitter,l._applyTheme(s.getTheme()),l._callOnDispose.push(s.onThemeChange(l._applyTheme.bind(l))),l._instantiationService=l._instantiationService.createChild(new E.ServiceCollection([x.IPeekViewService,l])),l.create(),l}return h(c,e),c.prototype._applyTheme=function(e){var n=e.getColor(t.peekViewBorder)||u.Color.transparent;this.style({arrowColor:n,frameColor:n,headerBackgroundColor:e.getColor(t.peekViewTitleBackground)||u.Color.transparent,primaryHeadingColor:e.getColor(t.peekViewTitleForeground),secondaryHeadingColor:e.getColor(t.peekViewTitleInfoForeground)})},c.prototype.dispose=function(){this.setModel(null),this._callOnDispose=s.dispose(this._callOnDispose),s.dispose(this._preview,this._previewNotAvailableMessage,this._tree,this._sash,this._previewModelReference),e.prototype.dispose.call(this)},Object.defineProperty(c.prototype,"onDidSelectReference",{get:function(){return this._onDidSelectReference.event},enumerable:!0,configurable:!0}),c.prototype.show=function(t){this.editor.revealRangeInCenterIfOutsideViewport(t),e.prototype.show.call(this,t,this.layoutData.heightInLines||18)},c.prototype.focus=function(){this._tree.DOMFocus()},c.prototype._onTitleClick=function(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey?"side":"open",source:"title"})},c.prototype._fillBody=function(e){var t=this,i=d.$(e);this.setCssClass("reference-zone-widget"),i.div({class:"messages"},function(e){t._messageContainer=e.hide()}),i.div({class:"preview inline"},function(e){var i={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};t._preview=t._instantiationService.createInstance(k.EmbeddedCodeEditorWidget,e.getHTMLElement(),i,t.editor),t._previewContainer=e.hide(),t._previewNotAvailableMessage=T.Model.createFromString(n.localize(3,null))}),this._sash=new U(e,this.layoutData.ratio||.8),this._sash.onDidChangePercentages(function(){var e=t._sash.percentages,n=e[0],i=e[1];t._previewContainer.style({width:n}),t._treeContainer.style({width:i}),t._preview.layout(),t._tree.layout(),t.layoutData.ratio=t._sash.ratio}),i.div({class:"ref-tree inline"},function(e){var i={dataSource:t._instantiationService.createInstance(W),renderer:t._instantiationService.createInstance(H),controller:new B,accessibilityProvider:new K},r={allowHorizontalScroll:!1,twistiePixels:20,ariaLabel:n.localize(4,null)};t._tree=new S.Tree(e.getHTMLElement(),i,r),t._callOnDispose.push(O.attachListStyler(t._tree,t._themeService)),t._treeContainer=e.hide()})},c.prototype._doLayoutBody=function(t,n){e.prototype._doLayoutBody.call(this,t,n);var i=t+"px";this._sash.height=t,this._sash.width=n;var r=this._sash.percentages,o=r[0],s=r[1];this._previewContainer.style({height:i,width:o}),this._treeContainer.style({height:i,width:s}),this._tree.layout(t),this._preview.layout(),this.layoutData={heightInLines:this._viewZone.heightInLines,ratio:this._sash.ratio}},c.prototype._onWidth=function(e){this._sash.width=e,this._preview.layout()},c.prototype.setSelection=function(e){return this._revealReference(e)},c.prototype.setModel=function(e){if(this._disposeOnNewModel=s.dispose(this._disposeOnNewModel),this._model=e,this._model)return this._onNewModel()},c.prototype._onNewModel=function(){var e=this;if(this._model.empty)return this.setTitle(""),this._messageContainer.innerHtml(n.localize(5,null)).show(),l.TPromise.as(void 0);this._messageContainer.hide(),this._decorationsManager=new F(this._preview,this._model),this._disposeOnNewModel.push(this._decorationsManager),this._disposeOnNewModel.push(this._model.onDidChangeReferenceRange(function(t){return e._tree.refresh(t)})),this._disposeOnNewModel.push(this._tree.addListener(B.Events.FOCUSED,function(t){t instanceof A.OneReference&&(e._revealReference(t),e._onDidSelectReference.fire({element:t,kind:"show",source:"tree"}))})),this._disposeOnNewModel.push(this._tree.addListener(B.Events.SELECTED,function(t){t instanceof A.OneReference&&e._onDidSelectReference.fire({element:t,kind:"goto",source:"tree"})})),this._disposeOnNewModel.push(this._tree.addListener(B.Events.OPEN_TO_SIDE,function(t){t instanceof A.OneReference&&e._onDidSelectReference.fire({element:t,kind:"side",source:"tree"})})),this._disposeOnNewModel.push(this._preview.onMouseDown(function(t){2===t.event.detail&&e._onDidSelectReference.fire({element:e._getFocusedReference(),kind:t.event.ctrlKey||t.event.metaKey?"side":"open",source:"editor"})})),p.addClass(this.container,"results-loaded"),this._treeContainer.show(),this._previewContainer.show(),this._preview.layout(),this._tree.layout(),this.focus();var t=1===this._model.groups.length?this._model.groups[0]:this._model;return this._tree.setInput(t)},c.prototype._getFocusedReference=function(){var e=this._tree.getFocus();return e instanceof A.OneReference?e:e instanceof A.FileReferences&&e.children.length>0?e.children[0]:void 0},c.prototype._revealReference=function(e){var t=this;e.uri.scheme!==a.Schemas.inMemory?this.setTitle(e.name,r.getPathLabel(e.directory,this._contextService,this._environmentService)):this.setTitle(n.localize(6,null));var o=this._textModelResolverService.createModelReference(e.uri);return l.TPromise.join([o,this._tree.reveal(e)]).then(function(n){var i=n[0];if(t._model){s.dispose(t._previewModelReference);var r=i.object;if(r){t._previewModelReference=i,t._preview.setModel(r.textEditorModel);var o=w.Range.lift(e.range).collapseToStart();t._preview.setSelection(o),t._preview.revealRangeInCenter(o)}else t._preview.setModel(t._previewNotAvailableMessage),i.dispose();t._tree.setSelection([e]),t._tree.setFocus(e)}else i.dispose()},i.onUnexpectedError)},c}(x.PeekViewWidget);t.ReferenceWidget=j,t.peekViewTitleBackground=P.registerColor("peekViewTitle.background",{dark:"#1E1E1E",light:"#FFFFFF",hc:"#0C141F"},n.localize(7,null)),t.peekViewTitleForeground=P.registerColor("peekViewTitleLabel.foreground",{dark:"#FFFFFF",light:"#333333",hc:"#FFFFFF"},n.localize(8,null)),t.peekViewTitleInfoForeground=P.registerColor("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#6c6c6cb3",hc:"#FFFFFF99"},n.localize(9,null)),t.peekViewBorder=P.registerColor("peekView.border",{dark:"#007acc",light:"#007acc",hc:P.contrastBorder},n.localize(10,null)),t.peekViewResultsBackground=P.registerColor("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:u.Color.black},n.localize(11,null)),t.peekViewResultsMatchForeground=P.registerColor("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:u.Color.white},n.localize(12,null)),t.peekViewResultsFileForeground=P.registerColor("peekViewResult.fileForeground",{dark:u.Color.white,light:"#1E1E1E",hc:u.Color.white},n.localize(13,null)),t.peekViewResultsSelectionBackground=P.registerColor("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},n.localize(14,null)),t.peekViewResultsSelectionForeground=P.registerColor("peekViewResult.selectionForeground",{dark:u.Color.white,light:"#6C6C6C",hc:u.Color.white},n.localize(15,null)),t.peekViewEditorBackground=P.registerColor("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:u.Color.black},n.localize(16,null)),t.peekViewEditorGutterBackground=P.registerColor("peekViewEditorGutter.background",{dark:t.peekViewEditorBackground,light:t.peekViewEditorBackground,hc:t.peekViewEditorBackground},n.localize(17,null)),t.peekViewResultsMatchHighlight=P.registerColor("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},n.localize(18,null)),t.peekViewEditorMatchHighlight=P.registerColor("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},n.localize(19,null)),D.registerThemingParticipant(function(e,n){var i=e.getColor(t.peekViewResultsMatchHighlight);i&&n.addRule(".monaco-editor .reference-zone-widget .ref-tree .referenceMatch { background-color: "+i+"; }");var r=e.getColor(t.peekViewEditorMatchHighlight);r&&n.addRule(".monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: "+r+"; }");var o=e.getColor(P.activeContrastBorder);o&&(n.addRule(".monaco-editor .reference-zone-widget .ref-tree .referenceMatch { border: 1px dotted "+o+"; box-sizing: border-box; }"),n.addRule(".monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid "+o+"; box-sizing: border-box; }"));var s=e.getColor(t.peekViewResultsBackground);s&&n.addRule(".monaco-editor .reference-zone-widget .ref-tree { background-color: "+s+"; }");var a=e.getColor(t.peekViewResultsMatchForeground);a&&n.addRule(".monaco-editor .reference-zone-widget .ref-tree { color: "+a+"; }");var c=e.getColor(t.peekViewResultsFileForeground);c&&n.addRule(".monaco-editor .reference-zone-widget .ref-tree .reference-file { color: "+c+"; }");var l=e.getColor(t.peekViewResultsSelectionBackground);l&&n.addRule(".monaco-editor .reference-zone-widget .ref-tree .monaco-tree.focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: "+l+"; }");var u=e.getColor(t.peekViewResultsSelectionForeground);u&&n.addRule(".monaco-editor .reference-zone-widget .ref-tree .monaco-tree.focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: "+u+" !important; }");var d=e.getColor(t.peekViewEditorBackground);d&&n.addRule(".monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {\tbackground-color: "+d+";}");var h=e.getColor(t.peekViewEditorGutterBackground);h&&n.addRule(".monaco-editor .reference-zone-widget .preview .monaco-editor .margin {\tbackground-color: "+h+";}")})}),define(u[400],d([1,0,471,7,5,36,63,8,6,17,20,19,23,27,31,68,266,405,71,13,37,39]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,m,b,S,_,E,C){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ctxReferenceSearchVisible=new l.RawContextKey("referenceSearchVisible",!1);var w=I=function(){function e(e,n,i,r,o,s,a,c,l,u,d,h,p){this._editorService=i,this._textModelResolverService=r,this._telemetryService=o,this._messageService=s,this._instantiationService=a,this._contextService=c,this._storageService=l,this._themeService=u,this._configurationService=d,this._peekViewService=h,this._environmentService=p,this._requestIdPool=0,this._disposables=[],this._ignoreModelChangeEvent=!1,this._editor=e,this._referenceSearchVisible=t.ctxReferenceSearchVisible.bindTo(n)}return e.get=function(e){return e.getContribution(I.ID)},e.prototype.getId=function(){return I.ID},e.prototype.dispose=function(){this._widget&&(this._widget.dispose(),this._widget=null),this._editor=null},e.prototype.toggleWidget=function(e,t,i){var r,s=this;if(this._widget&&(r=this._widget.position),this.closeWidget(),r&&e.containsPosition(r))return null;this._referenceSearchVisible.set(!0),this._disposables.push(this._editor.onDidChangeModelLanguage(function(){s.closeWidget()})),this._disposables.push(this._editor.onDidChangeModel(function(){s._ignoreModelChangeEvent||s.closeWidget()}));var c=JSON.parse(this._storageService.get("peekViewLayout",void 0,"{}"));this._widget=new b.ReferenceWidget(this._editor,c,this._textModelResolverService,this._contextService,this._themeService,this._instantiationService,this._environmentService),this._widget.setTitle(n.localize(0,null)),this._widget.show(e),this._disposables.push(this._widget.onDidClose(function(){t.cancel(),s._storageService.store("peekViewLayout",JSON.stringify(s._widget.layoutData)),s._widget=null,s.closeWidget()})),this._disposables.push(this._widget.onDidSelectReference(function(e){var t=e.element,n=e.kind;switch(n){case"open":if("editor"===e.source&&s._configurationService.lookup("editor.stablePeek").value)break;case"side":s._openReference(t,"side"===n);break;case"goto":i.onGoto?i.onGoto(t):s._gotoReference(t)}}));var l=++this._requestIdPool,u=t.then(function(t){if(l===s._requestIdPool&&s._widget){s._model&&s._model.dispose(),s._model=t;var n=Date.now();return s._disposables.push({dispose:function(){s._telemetryService.publicLog("zoneWidgetShown",{mode:"reference search",elapsedTime:Date.now()-n})}}),s._widget.setModel(s._model).then(function(){s._widget.setMetaTitle(i.getMetaTitle(s._model));var t=s._editor.getModel().uri,n=new E.Position(e.startLineNumber,e.startColumn),r=s._model.nearestReference(t,n);if(r)return s._widget.setSelection(r)})}},function(e){s._messageService.show(o.default.Error,e)}),d=a.stopwatch(a.fromPromise(u)),h=this._editor.getModel().getLanguageIdentifier().language;d(function(e){return s._telemetryService.publicLog("findReferences",{duration:e,mode:h})})},e.prototype.closeWidget=function(){this._widget&&(this._widget.dispose(),this._widget=null),this._referenceSearchVisible.reset(),this._disposables=r.dispose(this._disposables),this._model&&(this._model.dispose(),this._model=null),this._editor.focus(),this._requestIdPool+=1},e.prototype._gotoReference=function(e){var t=this;this._widget.hide(),this._ignoreModelChangeEvent=!0;var n=e.uri,r=e.range;this._editorService.openEditor({resource:n,options:{selection:r}}).done(function(e){t._ignoreModelChangeEvent=!1,e&&e.getControl()===t._editor?(t._widget.show(r),t._widget.focus()):t.closeWidget()},function(e){t._ignoreModelChangeEvent=!1,i.onUnexpectedError(e)})},e.prototype._openReference=function(e,t){var n=e.uri,i=e.range;this._editorService.openEditor({resource:n,options:{selection:i}},t),t||this.closeWidget()},e}();w.ID="editor.contrib.referencesController",w=I=v([g.editorContribution,y(1,l.IContextKeyService),y(2,s.IEditorService),y(3,S.ITextModelService),y(4,d.ITelemetryService),y(5,u.IMessageService),y(6,c.IInstantiationService),y(7,p.IWorkspaceContextService),y(8,f.IStorageService),y(9,_.IThemeService),y(10,h.IConfigurationService),y(11,c.optional(m.IPeekViewService)),y(12,c.optional(C.IEnvironmentService))],w),t.ReferencesController=w;var I}),define(u[399],d([1,0,457,114,60,11,36,4,63,20,14,25,345,400,325,266,17,906,48]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,y,b,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var _=function(){return function(e,t,n,i){void 0===e&&(e=!1),void 0===t&&(t=!1),void 0===n&&(n=!0),void 0===i&&(i=!0),this.openToSide=e,this.openInPeek=t,this.filterCurrent=n,this.showMessage=i}}();t.DefinitionActionConfig=_;var E=function(e){function t(t,n){var i=e.call(this,n)||this;return i._configuration=t,i}return h(t,e),t.prototype.run=function(e,t){var n=this,i=e.get(l.IMessageService),r=e.get(c.IEditorService),o=t.getModel(),a=t.getPosition();return this._getDeclarationsAtPosition(o,a).then(function(e){if(!o.isDisposed()&&t.getModel()===o){for(var i=-1,s=[],c=0;c<e.length;c++){var l=e[c];if(l&&l.range){var d=l.uri,h=l.range,p=s.push({uri:d,range:h});n._configuration.filterCurrent&&d.toString()===o.uri.toString()&&u.Range.containsPosition(h,a)&&-1===i&&(i=p-1)}}if(0===s.length){if(n._configuration.showMessage){var f=o.getWordAtPosition(a);b.MessageController.get(t).showMessage(n._getNoResultFoundMessage(f),a)}}else if(1===s.length&&-1!==i){var v=s[0];n._openReference(r,v,!1)}else n._onResult(r,t,new g.ReferencesModel(s))}},function(e){return i.show(s.default.Error,e),!1})},t.prototype._getDeclarationsAtPosition=function(e,t){return p.getDefinitionsAtPosition(e,t)},t.prototype._getNoResultFoundMessage=function(e){return e&&e.word?n.localize(0,null,e.word):n.localize(1,null)},t.prototype._getMetaTitle=function(e){return e.references.length>1&&n.localize(2,null,e.references.length)},t.prototype._onResult=function(e,t,n){var r=this,o=n.getAriaMessage();if(i.alert(o),this._configuration.openInPeek)this._openInPeek(e,t,n);else{var s=n.nearestReference(t.getModel().uri,t.getPosition());this._openReference(e,s,this._configuration.openToSide).then(function(t){t&&n.references.length>1?r._openInPeek(e,t,n):n.dispose()})}},t.prototype._openReference=function(e,t,n){var i=t.uri,r=t.range;return e.openEditor({resource:i,options:{selection:u.Range.collapseToStart(r),revealIfVisible:!n}},n).then(function(e){return e&&e.getControl()})},t.prototype._openInPeek=function(e,t,n){var i=this,r=f.ReferencesController.get(t);r?r.toggleWidget(t.getSelection(),a.TPromise.as(n),{getMetaTitle:function(e){return i._getMetaTitle(e)},onGoto:function(t){return r.closeWidget(),i._openReference(e,t,!1)}}):n.dispose()},t}(d.EditorAction);t.DefinitionAction=E;var C=o.isWeb?2118:70,w=O=function(e){function t(){return e.call(this,new _,{id:O.ID,label:n.localize(3,null),alias:"Go to Definition",precondition:y.ContextKeyExpr.and(S.EditorContextKeys.hasDefinitionProvider,S.EditorContextKeys.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:S.EditorContextKeys.textFocus,primary:C},menuOpts:{group:"navigation",order:1.1}})||this}return h(t,e),t}(E);w.ID="editor.action.goToDeclaration",w=O=v([d.editorAction],w),t.GoToDefinitionAction=w;var I=R=function(e){function t(){return e.call(this,new _(!0),{id:R.ID,label:n.localize(4,null),alias:"Open Definition to the Side",precondition:y.ContextKeyExpr.and(S.EditorContextKeys.hasDefinitionProvider,S.EditorContextKeys.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:S.EditorContextKeys.textFocus,primary:r.KeyChord(2089,C)}})||this}return h(t,e),t}(E);I.ID="editor.action.openDeclarationToTheSide",I=R=v([d.editorAction],I),t.OpenDefinitionToSideAction=I;var T=function(e){function t(){return e.call(this,new _(void 0,!0,!1),{id:"editor.action.previewDeclaration",label:n.localize(5,null),alias:"Peek Definition",precondition:y.ContextKeyExpr.and(S.EditorContextKeys.hasDefinitionProvider,m.PeekContext.notInPeekEditor,S.EditorContextKeys.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:S.EditorContextKeys.textFocus,primary:582,linux:{primary:3140}},menuOpts:{group:"navigation",order:1.2}})||this}return h(t,e),t}(E);T=v([d.editorAction],T),t.PeekDefinitionAction=T;var k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype._getDeclarationsAtPosition=function(e,t){return p.getImplementationsAtPosition(e,t)},t.prototype._getNoResultFoundMessage=function(e){return e&&e.word?n.localize(6,null,e.word):n.localize(7,null)},t.prototype._getMetaTitle=function(e){return e.references.length>1&&n.localize(8,null,e.references.length)},t}(E);t.ImplementationAction=k;var x=M=function(e){function t(){return e.call(this,new _,{id:M.ID,label:n.localize(9,null),alias:"Go to Implementation",precondition:y.ContextKeyExpr.and(S.EditorContextKeys.hasImplementationProvider,S.EditorContextKeys.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:S.EditorContextKeys.textFocus,primary:2118}})||this}return h(t,e),t}(k);x.ID="editor.action.goToImplementation",x=M=v([d.editorAction],x),t.GoToImplementationAction=x;var A=N=function(e){function t(){return e.call(this,new _(!1,!0,!1),{id:N.ID,label:n.localize(10,null),alias:"Peek Implementation",precondition:y.ContextKeyExpr.and(S.EditorContextKeys.hasImplementationProvider,S.EditorContextKeys.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:S.EditorContextKeys.textFocus,primary:3142}})||this}return h(t,e),t}(k);A.ID="editor.action.peekImplementation",A=N=v([d.editorAction],A),t.PeekImplementationAction=A;var L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype._getDeclarationsAtPosition=function(e,t){return p.getTypeDefinitionsAtPosition(e,t)},t.prototype._getNoResultFoundMessage=function(e){return e&&e.word?n.localize(11,null,e.word):n.localize(12,null)},t.prototype._getMetaTitle=function(e){return e.references.length>1&&n.localize(13,null,e.references.length)},t}(E);t.TypeDefinitionAction=L;var P=F=function(e){function t(){return e.call(this,new _,{id:F.ID,label:n.localize(14,null),alias:"Go to Type Definition",precondition:y.ContextKeyExpr.and(S.EditorContextKeys.hasTypeDefinitionProvider,S.EditorContextKeys.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:S.EditorContextKeys.textFocus,primary:0},menuOpts:{group:"navigation",order:1.4}})||this}return h(t,e),t}(L);P.ID="editor.action.goToTypeDefinition",P=F=v([d.editorAction],P),t.GoToTypeDefintionAction=P;var D=W=function(e){function t(){return e.call(this,new _(!1,!0,!1),{id:W.ID,label:n.localize(15,null),alias:"Peek Type Definition",precondition:y.ContextKeyExpr.and(S.EditorContextKeys.hasTypeDefinitionProvider,S.EditorContextKeys.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:S.EditorContextKeys.textFocus,primary:0}})||this}return h(t,e),t}(L);D.ID="editor.action.peekTypeDefinition",D=W=v([d.editorAction],D),t.PeekTypeDefinitionAction=D;var O,R,M,N,F,W}),define(u[930],d([1,0,458,18,7,4,42,14,46,73,68,345,5,71,13,29,288,399,357,386]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,m,b,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var _=E=function(){function e(e,t,n){var o=this;this.textModelResolverService=t,this.modeService=n,this.toUnhook=[],this.decorations=[],this.editor=e,this.throttler=new i.Throttler;var s=new S.ClickLinkGesture(e);this.toUnhook.push(s),this.toUnhook.push(s.onMouseMoveOrRelevantKeyDown(function(e){var t=e[0],n=e[1];o.startFindDefinition(t,n)})),this.toUnhook.push(s.onExecute(function(e){o.isEnabled(e)&&o.gotoDefinition(e.target,e.hasSideBySideModifier).done(function(){o.removeDecorations()},function(e){o.removeDecorations(),r.onUnexpectedError(e)})})),this.toUnhook.push(s.onCancel(function(){o.removeDecorations(),o.currentWordUnderMouse=null}))}return e.prototype.startFindDefinition=function(e,t){var i=this;if(!this.isEnabled(e,t))return this.currentWordUnderMouse=null,void this.removeDecorations();var s=e.target.position,c=s?this.editor.getModel().getWordAtPosition(s):null;if(!c)return this.currentWordUnderMouse=null,void this.removeDecorations();if(!this.currentWordUnderMouse||this.currentWordUnderMouse.startColumn!==c.startColumn||this.currentWordUnderMouse.endColumn!==c.endColumn||this.currentWordUnderMouse.word!==c.word){this.currentWordUnderMouse=c;var l=new m.EditorState(this.editor,15);this.throttler.queue(function(){return l.validate(i.editor)?i.findDefinition(e.target):o.TPromise.as(null)}).then(function(e){if(e&&e.length&&l.validate(i.editor))if(e.length>1)i.addDecoration(new a.Range(s.lineNumber,c.startColumn,s.lineNumber,c.endColumn),n.localize(0,null,e.length));else{var t=e[0];if(!t.uri)return;i.textModelResolverService.createModelReference(t.uri).then(function(e){if(e.object&&e.object.textEditorModel){var n=e.object.textEditorModel,r=t.range.startLineNumber;if(0!==n.getLineMaxColumn(r)){for(var o=n.getLineFirstNonWhitespaceColumn(r),l=Math.min(n.getLineCount(),r+E.MAX_SOURCE_PREVIEW_LINES),u=r+1,d=o;u<l;u++){var h=n.getLineFirstNonWhitespaceColumn(u);if(d=Math.min(d,h),o===h)break}var p=new a.Range(r,1,u+1,1),f=n.getValueInRange(p).replace(new RegExp("^\\s{"+(d-1)+"}","gm"),"").trim();i.addDecoration(new a.Range(s.lineNumber,c.startColumn,s.lineNumber,c.endColumn),{language:i.modeService.getModeIdByFilenameOrFirstLine(n.uri.fsPath),value:f}),e.dispose()}else e.dispose()}else e.dispose()})}else i.removeDecorations()}).done(void 0,r.onUnexpectedError)}},e.prototype.addDecoration=function(e,t){var n={range:e,options:{inlineClassName:"goto-definition-link",hoverMessage:t}};this.decorations=this.editor.deltaDecorations(this.decorations,[n])},e.prototype.removeDecorations=function(){this.decorations.length>0&&(this.decorations=this.editor.deltaDecorations(this.decorations,[]))},e.prototype.isEnabled=function(e,t){return this.editor.getModel()&&e.isNoneOrSingleMouseDown&&e.target.type===l.MouseTargetType.CONTENT_TEXT&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey)&&c.DefinitionProviderRegistry.has(this.editor.getModel())},e.prototype.findDefinition=function(e){return this.editor.getModel()?d.getDefinitionsAtPosition(this.editor.getModel(),e.position):o.TPromise.as(null)},e.prototype.gotoDefinition=function(e,t){var n=this;this.editor.setPosition(e.position);var i=new b.DefinitionAction(new b.DefinitionActionConfig(t,!1,!0,!1),{alias:void 0,label:void 0,id:void 0,precondition:void 0});return this.editor.invokeWithinContext(function(e){return i.run(e,n.editor)})},e.prototype.getId=function(){return E.ID},e.prototype.dispose=function(){this.toUnhook=h.dispose(this.toUnhook)},e}();_.ID="editor.contrib.gotodefinitionwithmouse",_.MAX_SOURCE_PREVIEW_LINES=8,_=E=v([u.editorContribution,y(1,p.ITextModelService),y(2,s.IModeService)],_),f.registerThemingParticipant(function(e,t){var n=e.getColor(g.editorActiveLinkForeground);n&&t.addRule(".monaco-editor .goto-definition-link { color: "+n+" !important; }")});var E}),define(u[931],d([1,0,470,16,4,63,6,32,17,72,37,14,33,25,46,266,400,325,18,7,48]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C){"use strict";function w(e,t){var n=m.getOuterEditor(e);if(n){var i=b.ReferencesController.get(n);i&&i.closeWidget()}}function I(e,t){var n=g.ReferenceProviderRegistry.ordered(e).map(function(n){return _.asWinJsPromise(function(i){return n.provideReferences(e,t,{includeDeclaration:!0},i)}).then(function(e){if(Array.isArray(e))return e},function(e){E.onUnexpectedExternalError(e)})});return r.TPromise.join(n).then(function(e){for(var t=[],n=0,i=e;n<i.length;n++){var r=i[n];r&&t.push.apply(t,r)}return t})}Object.defineProperty(t,"__esModule",{value:!0});var T={getMetaTitle:function(e){return e.references.length>1&&n.localize(0,null,e.references.length)}},k=A=function(){function e(e,t,n){n&&m.PeekContext.inPeekEditor.bindTo(t)}return e.prototype.dispose=function(){},e.prototype.getId=function(){return A.ID},e}();k.ID="editor.contrib.referenceController",k=A=v([f.commonEditorContribution,y(1,c.IContextKeyService),y(2,s.optional(m.IPeekViewService))],k),t.ReferenceController=k;var x=function(e){function t(){return e.call(this,{id:"editor.action.referenceSearch.trigger",label:n.localize(1,null),alias:"Find All References",precondition:c.ContextKeyExpr.and(C.EditorContextKeys.hasReferenceProvider,m.PeekContext.notInPeekEditor,C.EditorContextKeys.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:C.EditorContextKeys.textFocus,primary:1094},menuOpts:{group:"navigation",order:1.5}})||this}return h(t,e),t.prototype.run=function(e,t){var n=b.ReferencesController.get(t);if(n){var i=t.getSelection(),r=I(t.getModel(),i.getStartPosition()).then(function(e){return new S.ReferencesModel(e)});n.toggleWidget(i,r,T)}},t}(f.EditorAction);x=v([f.editorAction],x),t.ReferenceAction=x;a.CommandsRegistry.registerCommand("editor.action.findReferences",function(e,t,n){if(!(t instanceof i.default))throw new Error("illegal argument, uri");if(!n)throw new Error("illegal argument, position");return e.get(o.IEditorService).openEditor({resource:t}).then(function(e){var t=e.getControl();if(p.isCommonCodeEditor(t)){var i=b.ReferencesController.get(t);if(i){var o=I(t.getModel(),u.Position.lift(n)).then(function(e){return new S.ReferencesModel(e)}),s=new d.Range(n.lineNumber,n.column,n.lineNumber,n.column);return r.TPromise.as(i.toggleWidget(s,o,T))}}})}),a.CommandsRegistry.registerCommand("editor.action.showReferences",{handler:function(e,t,n,s){if(!(t instanceof i.default))throw new Error("illegal argument, uri expected");return e.get(o.IEditorService).openEditor({resource:t}).then(function(e){var t=e.getControl();if(p.isCommonCodeEditor(t)){var i=b.ReferencesController.get(t);if(i)return r.TPromise.as(i.toggleWidget(new d.Range(n.lineNumber,n.column,n.lineNumber,n.column),r.TPromise.as(new S.ReferencesModel(s)),T)).then(function(){return!0})}})},description:{description:"Show references at a position in a file",args:[{name:"uri",description:"The text document in which to show references",constraint:i.default},{name:"position",description:"The position at which to show",constraint:u.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array}]}}),l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"closeReferenceSearch",weight:f.CommonEditorRegistry.commandWeight(50),primary:9,secondary:[1033],when:c.ContextKeyExpr.and(b.ctxReferenceSearchVisible,c.ContextKeyExpr.not("config.editor.stablePeek")),handler:w}),l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"closeReferenceSearchEditor",weight:f.CommonEditorRegistry.commandWeight(-101),primary:9,secondary:[1033],when:c.ContextKeyExpr.and(m.PeekContext.inPeekEditor,c.ContextKeyExpr.not("config.editor.stablePeek")),handler:w}),t.provideReferences=I,f.CommonEditorRegistry.registerDefaultLanguageCommand("_executeReferenceProvider",I);var A}),define(u[932],d([1,0,184,320,428,389,900,1063,835,836,837,902,839,350,841,804,426,347,845,399,930,907,908,909,343,910,851,912,855,931,914,857,165,316,302,424,862]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define(u[933],d([1,0,486,4,34,8,5,87,141,27,31,39]),function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function e(e,t,n,i){this.storageService=e,this.contextService=t,this.environmentService=n,this.extensionManagementService=i,this.disposables=[],this._onEnablementChanged=new o.Emitter,this.onEnablementChanged=this._onEnablementChanged.event,i.onDidUninstallExtension(this.onDidUninstallExtension,this,this.disposables)}return Object.defineProperty(e.prototype,"hasWorkspace",{get:function(){return this.contextService.hasWorkspace()},enumerable:!0,configurable:!0}),e.prototype.getGloballyDisabledExtensions=function(){return this.getDisabledExtensions(u.StorageScope.GLOBAL)},e.prototype.getWorkspaceDisabledExtensions=function(){return this.getDisabledExtensions(u.StorageScope.WORKSPACE)},e.prototype.canEnable=function(e){return!this.environmentService.disableExtensions&&(-1!==this.getGloballyDisabledExtensions().indexOf(e)||-1!==this.getWorkspaceDisabledExtensions().indexOf(e))},e.prototype.setEnablement=function(e,t,r){return void 0===r&&(r=!1),r&&!this.hasWorkspace?i.TPromise.wrapError(new Error(n.localize(0,null))):this.environmentService.disableExtensions?i.TPromise.wrap(!1):t?r?this.enableExtension(e,u.StorageScope.WORKSPACE):this.enableExtension(e,u.StorageScope.GLOBAL):r?this.disableExtension(e,u.StorageScope.WORKSPACE):this.disableExtension(e,u.StorageScope.GLOBAL)},e.prototype.disableExtension=function(e,t){var n=this.getDisabledExtensions(t);return-1===n.indexOf(e)?(n.push(e),this.setDisabledExtensions(n,t,e),i.TPromise.wrap(!0)):i.TPromise.wrap(!1)},e.prototype.enableExtension=function(e,t,n){void 0===n&&(n=!0);var r=this.getDisabledExtensions(t),o=r.indexOf(e);return-1!==o?(r.splice(o,1),this.setDisabledExtensions(r,t,e,n),i.TPromise.wrap(!0)):i.TPromise.wrap(!1)},e.prototype.getDisabledExtensions=function(e){if(e===u.StorageScope.WORKSPACE&&!this.hasWorkspace)return[];var t=this.storageService.get("extensions/disabled",e,"");return t?r.distinct(t.split(",")).map(function(e){return c.adoptToGalleryExtensionId(e)}):[]},e.prototype.setDisabledExtensions=function(e,t,n,i){void 0===i&&(i=!0),e.length?this.storageService.store("extensions/disabled",e.join(","),t):this.storageService.remove("extensions/disabled",t),i&&this._onEnablementChanged.fire(n)},e.prototype.onDidUninstallExtension=function(e){var t=e.id;e.error||(t=c.getIdAndVersionFromLocalExtensionId(t).id)&&(this.enableExtension(t,u.StorageScope.WORKSPACE,!1),this.enableExtension(t,u.StorageScope.GLOBAL,!1))},e.prototype.dispose=function(){this.disposables=s.dispose(this.disposables)},e}();h=v([y(0,u.IStorageService),y(1,l.IWorkspaceContextService),y(2,d.IEnvironmentService),y(3,a.IExtensionManagementService)],h),t.ExtensionEnablementService=h}),define(u[934],d([1,0,143,16,7]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this._callOnDispose=e}return e.from=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new e(function(){if(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];i&&"function"==typeof i.dispose&&i.dispose()}t=void 0}})},e.prototype.dispose=function(){"function"==typeof this._callOnDispose&&(this._callOnDispose(),this._callOnDispose=void 0)},e}();t.Disposable=o;var s=function(){function e(e,t){if(e<0)throw r.illegalArgument("line must be positive");if(t<0)throw r.illegalArgument("character must be positive");this._line=e,this._character=t}return e.Min=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e.pop(),i=0,r=e;i<r.length;i++){var o=r[i];o.isBefore(n)&&(n=o)}return n},e.Max=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e.pop(),i=0,r=e;i<r.length;i++){var o=r[i];o.isAfter(n)&&(n=o)}return n},e.isPosition=function(t){if(!t)return!1;if(t instanceof e)return!0;var n=t,i=n.line,r=n.character;return"number"==typeof i&&"number"==typeof r},Object.defineProperty(e.prototype,"line",{get:function(){return this._line},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"character",{get:function(){return this._character},enumerable:!0,configurable:!0}),e.prototype.isBefore=function(e){return this._line<e._line||!(e._line<this._line)&&this._character<e._character},e.prototype.isBeforeOrEqual=function(e){return this._line<e._line||!(e._line<this._line)&&this._character<=e._character},e.prototype.isAfter=function(e){return!this.isBeforeOrEqual(e)},e.prototype.isAfterOrEqual=function(e){return!this.isBefore(e)},e.prototype.isEqual=function(e){return this._line===e._line&&this._character===e._character},e.prototype.compareTo=function(e){return this._line<e._line?-1:this._line>e.line?1:this._character<e._character?-1:this._character>e._character?1:0},e.prototype.translate=function(t,n){if(void 0===n&&(n=0),null===t||null===n)throw r.illegalArgument();var i;return void 0===t?i=0:"number"==typeof t?i=t:(i="number"==typeof t.lineDelta?t.lineDelta:0,n="number"==typeof t.characterDelta?t.characterDelta:0),0===i&&0===n?this:new e(this.line+i,this.character+n)},e.prototype.with=function(t,n){if(void 0===n&&(n=this.character),null===t||null===n)throw r.illegalArgument();var i;return void 0===t?i=this.line:"number"==typeof t?i=t:(i="number"==typeof t.line?t.line:this.line,n="number"==typeof t.character?t.character:this.character),i===this.line&&n===this.character?this:new e(i,n)},e.prototype.toJSON=function(){return{line:this.line,character:this.character}},e}();t.Position=s;var a=function(){function e(e,t,n,i){var r,o;if("number"==typeof e&&"number"==typeof t&&"number"==typeof n&&"number"==typeof i?(r=new s(e,t),o=new s(n,i)):e instanceof s&&t instanceof s&&(r=e,o=t),!r||!o)throw new Error("Invalid arguments");r.isBefore(o)?(this._start=r,this._end=o):(this._start=o,this._end=r)}return e.isRange=function(t){return t instanceof e||!!t&&(s.isPosition(t.start)&&s.isPosition(t.end))},Object.defineProperty(e.prototype,"start",{get:function(){return this._start},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._end},enumerable:!0,configurable:!0}),e.prototype.contains=function(t){return t instanceof e?this.contains(t._start)&&this.contains(t._end):t instanceof s&&(!t.isBefore(this._start)&&!this._end.isBefore(t))},e.prototype.isEqual=function(e){return this._start.isEqual(e._start)&&this._end.isEqual(e._end)},e.prototype.intersection=function(t){var n=s.Max(t.start,this._start),i=s.Min(t.end,this._end);if(!n.isAfter(i))return new e(n,i)},e.prototype.union=function(t){return this.contains(t)?this:t.contains(this)?t:new e(s.Min(t.start,this._start),s.Max(t.end,this.end))},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this._start.isEqual(this._end)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSingleLine",{get:function(){return this._start.line===this._end.line},enumerable:!0,configurable:!0}),e.prototype.with=function(t,n){if(void 0===n&&(n=this.end),null===t||null===n)throw r.illegalArgument();var i;return t?s.isPosition(t)?i=t:(i=t.start||this.start,n=t.end||this.end):i=this.start,i.isEqual(this._start)&&n.isEqual(this.end)?this:new e(i,n)},e.prototype.toJSON=function(){return[this.start,this.end]},e}();t.Range=a;var c=function(e){function t(t,n,i,r){var o,a,c=this;if("number"==typeof t&&"number"==typeof n&&"number"==typeof i&&"number"==typeof r?(o=new s(t,n),a=new s(i,r)):t instanceof s&&n instanceof s&&(o=t,a=n),!o||!a)throw new Error("Invalid arguments");return c=e.call(this,o,a)||this,c._anchor=o,c._active=a,c}return h(t,e),t.isSelection=function(e){return e instanceof t||!!e&&(a.isRange(e)&&s.isPosition(e.anchor)&&s.isPosition(e.active)&&"boolean"==typeof e.isReversed)},Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this._active},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReversed",{get:function(){return this._anchor===this._end},enumerable:!0,configurable:!0}),t.prototype.toJSON=function(){return{start:this.start,end:this.end,active:this.active,anchor:this.anchor}},t}(a);t.Selection=c;!function(e){e[e.LF=1]="LF",e[e.CRLF=2]="CRLF"}(t.EndOfLine||(t.EndOfLine={}));var l=function(){function e(e,t){this.range=e,this.newText=t}return e.isTextEdit=function(t){return t instanceof e||!!t&&(a.isRange(t)&&"string"==typeof t.newText)},e.replace=function(t,n){return new e(t,n)},e.insert=function(t,n){return e.replace(new a(t,t),n)},e.delete=function(t){return e.replace(t,"")},e.setEndOfLine=function(t){var n=new e(void 0,void 0);return n.newEol=t,n},Object.defineProperty(e.prototype,"range",{get:function(){return this._range},set:function(e){if(e&&!a.isRange(e))throw r.illegalArgument("range");this._range=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"newText",{get:function(){return this._newText||""},set:function(e){if(e&&"string"!=typeof e)throw r.illegalArgument("newText");this._newText=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"newEol",{get:function(){return this._newEol},set:function(e){if(e&&"number"!=typeof e)throw r.illegalArgument("newEol");this._newEol=e},enumerable:!0,configurable:!0}),e.prototype.toJSON=function(){return{range:this.range,newText:this.newText,newEol:this._newEol}},e}();t.TextEdit=l;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t}(i.default);t.Uri=u;var d=function(){function e(){this._values=[],this._index=new Map}return e.prototype.replace=function(e,t,n){var i=new l(t,n),r=this.get(e);r?r.push(i):this.set(e,[i])},e.prototype.insert=function(e,t,n){this.replace(e,new a(t,t),n)},e.prototype.delete=function(e,t){this.replace(e,t,"")},e.prototype.has=function(e){return this._index.has(e.toString())},e.prototype.set=function(e,t){var n=this._index.get(e.toString());if(void 0===n){var i=this._values.push([e,t]);this._index.set(e.toString(),i-1)}else this._values[n][1]=t},e.prototype.get=function(e){var t=this._index.get(e.toString());return void 0!==t&&this._values[t][1]},e.prototype.entries=function(){return this._values},Object.defineProperty(e.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),e.prototype.toJSON=function(){return this._values},e}();t.WorkspaceEdit=d;var p=function(){function e(e){this._tabstop=1,this.value=e||""}return e.isSnippetString=function(t){return t instanceof e||!!t&&"string"==typeof t.value},e._escape=function(e){return e.replace(/\$|}|\\/g,"\\$&")},e.prototype.appendText=function(t){return this.value+=e._escape(t),this},e.prototype.appendTabstop=function(e){return void 0===e&&(e=this._tabstop++),this.value+="$",this.value+=e,this},e.prototype.appendPlaceholder=function(t,n){if(void 0===n&&(n=this._tabstop++),"function"==typeof t){var i=new e;i._tabstop=this._tabstop,t(i),this._tabstop=i._tabstop,t=i.value}else t=e._escape(t);return this.value+="${",this.value+=n,this.value+=":",this.value+=t,this.value+="}",this},e.prototype.appendVariable=function(t,n){if("function"==typeof n){var i=new e;i._tabstop=this._tabstop,n(i),this._tabstop=i._tabstop,n=i.value}else"string"==typeof n&&(n=n.replace(/\$|}/g,"\\$&"));return this.value+="${",this.value+=t,n&&(this.value+=":",this.value+=n),this.value+="}",this},e}();t.SnippetString=p;var f;!function(e){e[e.Hint=3]="Hint",e[e.Information=2]="Information",e[e.Warning=1]="Warning",e[e.Error=0]="Error"}(f=t.DiagnosticSeverity||(t.DiagnosticSeverity={}));var g=function(){function e(e,t){if(this.uri=e,t)if(t instanceof a)this.range=t;else{if(!(t instanceof s))throw new Error("Illegal argument");this.range=new a(t,t)}else;}return e.isLocation=function(t){return t instanceof e||!!t&&(a.isRange(t.range)&&i.default.isUri(t.uri))},e.prototype.toJSON=function(){return{uri:this.uri,range:this.range}},e}();t.Location=g;var v=function(){function e(e,t,n){void 0===n&&(n=f.Error),this.range=e,this.message=t,this.severity=n}return e.prototype.toJSON=function(){return{severity:f[this.severity],message:this.message,range:this.range,source:this.source,code:this.code}},e}();t.Diagnostic=v;var m=function(){return function(e,t){if(!e)throw new Error("Illegal argument, contents must be defined");Array.isArray(e)?this.contents=e:this.contents=[e],this.range=t}}();t.Hover=m;var y;!function(e){e[e.Text=0]="Text",e[e.Read=1]="Read",e[e.Write=2]="Write"}(y=t.DocumentHighlightKind||(t.DocumentHighlightKind={}));var b=function(){function e(e,t){void 0===t&&(t=y.Text),this.range=e,this.kind=t}return e.prototype.toJSON=function(){return{range:this.range,kind:y[this.kind]}},e}();t.DocumentHighlight=b;var S;!function(e){e[e.File=0]="File",e[e.Module=1]="Module",e[e.Namespace=2]="Namespace",e[e.Package=3]="Package",e[e.Class=4]="Class",e[e.Method=5]="Method",e[e.Property=6]="Property",e[e.Field=7]="Field",e[e.Constructor=8]="Constructor",e[e.Enum=9]="Enum",e[e.Interface=10]="Interface",e[e.Function=11]="Function",e[e.Variable=12]="Variable",e[e.Constant=13]="Constant",e[e.String=14]="String",e[e.Number=15]="Number",e[e.Boolean=16]="Boolean",e[e.Array=17]="Array",e[e.Object=18]="Object",e[e.Key=19]="Key",e[e.Null=20]="Null",e[e.EnumMember=21]="EnumMember",e[e.Struct=22]="Struct",e[e.Event=23]="Event",e[e.Operator=24]="Operator",e[e.TypeParameter=25]="TypeParameter"}(S=t.SymbolKind||(t.SymbolKind={}));var _=function(){function e(e,t,n,i,r){this.name=e,this.kind=t,this.containerName=r,"string"==typeof n&&(this.containerName=n),i instanceof g?this.location=i:n instanceof a&&(this.location=new g(i,n))}return e.prototype.toJSON=function(){return{name:this.name,kind:S[this.kind],location:this.location,containerName:this.containerName}},e}();t.SymbolInformation=_;var E=function(){function e(e,t){this.range=e,this.command=t}return Object.defineProperty(e.prototype,"isResolved",{get:function(){return!!this.command},enumerable:!0,configurable:!0}),e}();t.CodeLens=E;var C=function(){return function(e,t){this.label=e,this.documentation=t}}();t.ParameterInformation=C;var w=function(){return function(e,t){this.label=e,this.documentation=t,this.parameters=[]}}();t.SignatureInformation=w;var I=function(){return function(){this.signatures=[]}}();t.SignatureHelp=I;var T;!function(e){e[e.Text=0]="Text",e[e.Method=1]="Method",e[e.Function=2]="Function",e[e.Constructor=3]="Constructor",e[e.Field=4]="Field",e[e.Variable=5]="Variable",e[e.Class=6]="Class",e[e.Interface=7]="Interface",e[e.Module=8]="Module",e[e.Property=9]="Property",e[e.Unit=10]="Unit",e[e.Value=11]="Value",e[e.Enum=12]="Enum",e[e.Keyword=13]="Keyword",e[e.Snippet=14]="Snippet",e[e.Color=15]="Color",e[e.File=16]="File",e[e.Reference=17]="Reference",e[e.Folder=18]="Folder",e[e.EnumMember=19]="EnumMember",e[e.Constant=20]="Constant",e[e.Struct=21]="Struct",e[e.Event=22]="Event",e[e.Operator=23]="Operator",e[e.TypeParameter=24]="TypeParameter"}(T=t.CompletionItemKind||(t.CompletionItemKind={}));var k=function(){function e(e,t){this.label=e,this.kind=t}return e.prototype.toJSON=function(){return{label:this.label,kind:T[this.kind],detail:this.detail,documentation:this.documentation,sortText:this.sortText,filterText:this.filterText,insertText:this.insertText,textEdit:this.textEdit}},e}();t.CompletionItem=k;var x=function(){return function(e,t){void 0===e&&(e=[]),void 0===t&&(t=!1),this.items=e,this.isIncomplete=t}}();t.CompletionList=x;!function(e){e[e.One=1]="One",e[e.Two=2]="Two",e[e.Three=3]="Three"}(t.ViewColumn||(t.ViewColumn={}));!function(e){e[e.Left=1]="Left",e[e.Right=2]="Right"}(t.StatusBarAlignment||(t.StatusBarAlignment={}));!function(e){e[e.Off=0]="Off",e[e.On=1]="On",e[e.Relative=2]="Relative"}(t.TextEditorLineNumbersStyle||(t.TextEditorLineNumbersStyle={}));!function(e){e[e.Manual=1]="Manual",e[e.AfterDelay=2]="AfterDelay",e[e.FocusOut=3]="FocusOut"}(t.TextDocumentSaveReason||(t.TextDocumentSaveReason={}));!function(e){e[e.Default=0]="Default",e[e.InCenter=1]="InCenter",e[e.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",e[e.AtTop=3]="AtTop"}(t.TextEditorRevealType||(t.TextEditorRevealType={}));!function(e){e[e.Keyboard=1]="Keyboard",e[e.Mouse=2]="Mouse",e[e.Command=3]="Command"}(t.TextEditorSelectionChangeKind||(t.TextEditorSelectionChangeKind={}));!function(e){e[e.OpenOpen=0]="OpenOpen",e[e.ClosedClosed=1]="ClosedClosed",e[e.OpenClosed=2]="OpenClosed",e[e.ClosedOpen=3]="ClosedOpen"}(t.DecorationRangeBehavior||(t.DecorationRangeBehavior={})),function(e){e.fromValue=function(t){switch(t){case"keyboard":return e.Keyboard;case"mouse":return e.Mouse;case"api":return e.Command}}}(t.TextEditorSelectionChangeKind||(t.TextEditorSelectionChangeKind={}));var A=function(){return function(e,t){if(t&&!(t instanceof i.default))throw r.illegalArgument("target");if(!a.isRange(e)||e.isEmpty)throw r.illegalArgument("range");this.range=e,this.target=t}}();t.DocumentLink=A;!function(e){e[e.Always=1]="Always",e[e.Silent=2]="Silent",e[e.Never=3]="Never"}(t.TaskRevealKind||(t.TaskRevealKind={}));!function(e){e[e.Shared=1]="Shared",e[e.Dedicated=2]="Dedicated",e[e.New=3]="New"}(t.TaskPanelKind||(t.TaskPanelKind={}));var L=function(){function e(e,t){if("string"!=typeof e)throw r.illegalArgument("name");if("string"!=typeof t)throw r.illegalArgument("name");this._id=e,this._label=t}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),e}();L.Clean=new L("clean","Clean"),L.Build=new L("build","Build"),L.Rebuild=new L("rebuild","Rebuild"),L.Test=new L("clean","Clean"),t.TaskGroup=L;var P=function(){function e(e,t,n){if("string"!=typeof e)throw r.illegalArgument("process");this._process=e,void 0!==t&&(Array.isArray(t)?(this._args=t,this._options=n):this._options=t),void 0===this._args&&(this._args=[])}return Object.defineProperty(e.prototype,"process",{get:function(){return this._process},set:function(e){if("string"!=typeof e)throw r.illegalArgument("process");this._process=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"args",{get:function(){return this._args},set:function(e){Array.isArray(e)||(e=[]),this._args=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},set:function(e){this._options=e},enumerable:!0,configurable:!0}),e}();t.ProcessExecution=P;var D=function(){function e(e,t){if("string"!=typeof e)throw r.illegalArgument("commandLine");this._commandLine=e,this._options=t}return Object.defineProperty(e.prototype,"commandLine",{get:function(){return this._commandLine},set:function(e){if("string"!=typeof e)throw r.illegalArgument("commandLine");this._commandLine=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},set:function(e){this._options=e},enumerable:!0,configurable:!0}),e}();t.ShellExecution=D;var O=function(){function e(e,t,n,i,r){this.definition=e,this.name=t,this.source=n,this.execution=i,"string"==typeof r?this._problemMatchers=[r]:Array.isArray(r)?this._problemMatchers=r:this._problemMatchers=[],this._isBackground=!1}return Object.defineProperty(e.prototype,"definition",{get:function(){return this._definition},set:function(e){if(void 0===e||null===e)throw r.illegalArgument("Kind can't be undefined or null");this._definitionKey=void 0,this._definition=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"definitionKey",{get:function(){if(!this._definitionKey){var e=n.createHash("md5");e.update(JSON.stringify(this._definition)),this._definitionKey=e.digest("hex")}return this._definitionKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){if("string"!=typeof e)throw r.illegalArgument("name");this._name=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"execution",{get:function(){return this._execution},set:function(e){null===e&&(e=void 0),this._execution=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"problemMatchers",{get:function(){return this._problemMatchers},set:function(e){Array.isArray(e)||(e=[]),this._problemMatchers=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBackground",{get:function(){return this._isBackground},set:function(e){!0!==e&&!1!==e&&(e=!1),this._isBackground=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"source",{get:function(){return this._source},set:function(e){if("string"!=typeof e||0===e.length)throw r.illegalArgument("source must be a string of length > 0");this._source=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"group",{get:function(){return this._group},set:function(e){this._group=void 0!==e&&null!==e?e:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"presentationOptions",{get:function(){return this._presentationOptions},set:function(e){null===e&&(e=void 0),this._presentationOptions=e},enumerable:!0,configurable:!0}),e}();t.Task=O;!function(e){e[e.SourceControl=1]="SourceControl",e[e.Window=10]="Window"}(t.ProgressLocation||(t.ProgressLocation={}));var R=function(){return function(e,t){void 0===t&&(t=M.None),this.label=e,this.collapsibleState=t}}();t.TreeItem=R;var M;!function(e){e[e.None=0]="None",e[e.Collapsed=1]="Collapsed",e[e.Expanded=2]="Expanded"}(M=t.TreeItemCollapsibleState||(t.TreeItemCollapsibleState={}));var N=function(){return function(e){this.id=e}}();t.ThemeColor=N}),define(u[88],d([1,0,4,15,24,49]),function(e,t,n,i,r,o){"use strict";function s(e){if(!e.length)return e;for(var t=0;t<e.length;t++){var n=e[t];r.isUndefinedOrNull(n.order)&&(n.order=t)}e=e.sort(function(e,t){var n=e.order,i=t.order;return n<i?-1:n>i?1:0});for(var i=-1,s=0;s<e.length;s++)if(e[s].id!==o.Separator.ID){i=s;break}if(-1===i)return[];for(var a=(e=e.slice(i)).length-1;a>=0&&(u=e[a].id===o.Separator.ID);a--)e.splice(a,1);for(var c=!1,l=e.length-1;l>=0;l--){var u=e[l].id===o.Separator.ID;u&&!c?e.splice(l,1):u?u&&(c=!1):c=!0}return e}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){}return e.prototype.hasActions=function(e){return!1},e.prototype.getActions=function(e){return[]},e.prototype.hasSecondaryActions=function(e){return!1},e.prototype.getSecondaryActions=function(e){return[]},e.prototype.getActionItem=function(e,t){return null},e}();t.ActionBarContributor=a,t.Scope={GLOBAL:"global",VIEWLET:"viewlet",PANEL:"panel",EDITOR:"editor",VIEWER:"viewer"};var c=function(){function e(){this.registry=i.Registry.as(t.Extensions.Actionbar)}return e.prototype.toContext=function(e,t){return{viewer:e,element:t}},e.prototype.hasActions=function(e,n){for(var i=this.toContext(e,n),r=this.registry.getActionBarContributors(t.Scope.VIEWER),o=0;o<r.length;o++)if(r[o].hasActions(i))return!0;return!1},e.prototype.getActions=function(e,i){for(var r=[],o=this.toContext(e,i),a=this.registry.getActionBarContributors(t.Scope.VIEWER),c=0;c<a.length;c++){var l=a[c];l.hasActions(o)&&r.push.apply(r,l.getActions(o))}return n.TPromise.as(s(r))},e.prototype.hasSecondaryActions=function(e,n){for(var i=this.toContext(e,n),r=this.registry.getActionBarContributors(t.Scope.VIEWER),o=0;o<r.length;o++)if(r[o].hasSecondaryActions(i))return!0;return!1},e.prototype.getSecondaryActions=function(e,i){for(var r=[],o=this.toContext(e,i),a=this.registry.getActionBarContributors(t.Scope.VIEWER),c=0;c<a.length;c++){var l=a[c];l.hasSecondaryActions(o)&&r.push.apply(r,l.getSecondaryActions(o))}return n.TPromise.as(s(r))},e.prototype.getActionItem=function(e,n,i){for(var r=this.registry.getActionBarContributors(t.Scope.VIEWER),o=this.toContext(e,n),s=r.length-1;s>=0;s--){var a=r[s].getActionItem(o,i);if(a)return a}return null},e}();t.ContributableActionProvider=c,t.prepareActions=s,t.Extensions={Actionbar:"workbench.contributions.actionbar"};var l=function(){function e(){this.actionBarContributorConstructors=[],this.actionBarContributorInstances=Object.create(null)}return e.prototype.setInstantiationService=function(e){for(this.instantiationService=e;this.actionBarContributorConstructors.length>0;){var t=this.actionBarContributorConstructors.shift();this.createActionBarContributor(t.scope,t.ctor)}},e.prototype.createActionBarContributor=function(e,t){var n=this.instantiationService.createInstance(t),i=this.actionBarContributorInstances[e];i||(i=this.actionBarContributorInstances[e]=[]),i.push(n)},e.prototype.getContributors=function(e){return this.actionBarContributorInstances[e]||[]},e.prototype.getActionBarActionsForContext=function(e,t){var n=[];return this.getContributors(e).forEach(function(e){e.hasActions(t)&&n.push.apply(n,e.getActions(t))}),n},e.prototype.getSecondaryActionBarActionsForContext=function(e,t){var n=[];return this.getContributors(e).forEach(function(e){e.hasSecondaryActions(t)&&n.push.apply(n,e.getSecondaryActions(t))}),n},e.prototype.getActionItemForContext=function(e,t,n){for(var i=this.getContributors(e),r=0;r<i.length;r++){var o=i[r].getActionItem(t,n);if(o)return o}return null},e.prototype.registerActionBarContributor=function(e,t){this.instantiationService?this.createActionBarContributor(e,t):this.actionBarContributorConstructors.push({scope:e,ctor:t})},e.prototype.getActionBarContributors=function(e){return this.getContributors(e).slice(0)},e}();i.Registry.add(t.Extensions.Actionbar,new l)}),define(u[380],d([1,0,15]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalActivityExtensions="workbench.contributions.globalActivities";var i=function(){function e(){this.activityDescriptors=new Set}return e.prototype.registerActivity=function(e){this.activityDescriptors.add(e)},e.prototype.getActivities=function(){var e=[];return this.activityDescriptors.forEach(function(t){return e.push(t)}),e},e}();t.GlobalActivityRegistry=i,n.Registry.add(t.GlobalActivityExtensions,new i)}),define(u[169],d([1,0,4,529,21,54,38,17]),function(e,t,n,i,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inQuickOpenContext=a.ContextKeyExpr.has("inQuickOpen"),t.defaultQuickOpenContextKey="inFilesPicker",t.defaultQuickOpenContext=a.ContextKeyExpr.and(t.inQuickOpenContext,a.ContextKeyExpr.has(t.defaultQuickOpenContextKey));var c=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.quickOpenService=i,r.order=100,r.class="quickopen",r}return h(t,e),t.prototype.run=function(){return this.quickOpenService.show(null),n.TPromise.as(!0)},t}(r.Action);c.ID="workbench.action.quickOpen",c.LABEL=i.localize(0,null),c=v([y(2,o.IQuickOpenService)],c),t.GlobalQuickOpenAction=c;var l=function(e){function t(t,n,i,r,o,s){var a=e.call(this,t,n)||this;return a.next=i,a.quickNavigate=r,a.quickOpenService=o,a.keybindingService=s,a}return h(t,e),t.prototype.run=function(e){var t=this.keybindingService.lookupKeybindings(this.id),i=this.quickNavigate?{keybindings:t}:void 0;return this.quickOpenService.navigate(this.next,i),n.TPromise.as(!0)},t}(r.Action);l=v([y(4,o.IQuickOpenService),y(5,s.IKeybindingService)],l),t.BaseQuickOpenNavigateAction=l,t.getQuickNavigateHandler=function(e,t){return function(n){var i=n.get(s.IKeybindingService),r=n.get(o.IQuickOpenService),a={keybindings:i.lookupKeybindings(e)};r.navigate(t,a)}};var u=function(e){function t(t,n,i,r){return e.call(this,t,n,!0,!0,i,r)||this}return h(t,e),t}(l);u.ID="workbench.action.quickOpenNavigateNext",u.LABEL=i.localize(1,null),u=v([y(2,o.IQuickOpenService),y(3,s.IKeybindingService)],u),t.QuickOpenNavigateNextAction=u;var d=function(e){function t(t,n,i,r){return e.call(this,t,n,!1,!0,i,r)||this}return h(t,e),t}(l);d.ID="workbench.action.quickOpenNavigatePrevious",d.LABEL=i.localize(2,null),d=v([y(2,o.IQuickOpenService),y(3,s.IKeybindingService)],d),t.QuickOpenNavigatePreviousAction=d;var p=function(e){function t(t,n,i,r){return e.call(this,t,n,!0,!1,i,r)||this}return h(t,e),t}(l);p.ID="workbench.action.quickOpenSelectNext",p.LABEL=i.localize(3,null),p=v([y(2,o.IQuickOpenService),y(3,s.IKeybindingService)],p),t.QuickOpenSelectNextAction=p;var f=function(e){function t(t,n,i,r){return e.call(this,t,n,!1,!1,i,r)||this}return h(t,e),t}(l);f.ID="workbench.action.quickOpenSelectPrevious",f.LABEL=i.localize(4,null),f=v([y(2,o.IQuickOpenService),y(3,s.IKeybindingService)],f),t.QuickOpenSelectPreviousAction=f}),define(u[218],d([1,0,15,199,95]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusbarAlignment=i.StatusbarAlignment;var o=function(){return function(e,n,i){this.syncDescriptor=r.createSyncDescriptor(e),this.alignment=n||t.StatusbarAlignment.LEFT,this.priority=i||0}}();t.StatusbarItemDescriptor=o;var s=function(){function e(){this._items=[]}return Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),e.prototype.registerStatusbarItem=function(e){this._items.push(e)},e}();t.Extensions={Statusbar:"workbench.contributions.statusbar"},n.Registry.add(t.Extensions.Statusbar,new s)}),define(u[85],d([1,0,15]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i;!function(e){e.Workbench="workbench.contributions.kind"}(i=t.Extensions||(t.Extensions={}));var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.registerWorkbenchContribution=function(t){e.prototype._register.call(this,t)},t.prototype.getWorkbenchContributions=function(){return e.prototype._getInstances.call(this)},t.prototype.setWorkbenchContributions=function(t){e.prototype._setInstances.call(this,t)},t}(n.BaseRegistry);n.Registry.add(i.Workbench,new r)}),define(u[30],d([1,0,4,8,26,24,16,5,17]),function(e,t,n,i,r,o,s,a,c){"use strict";function l(e,t){if(!e)return null;t&&t.supportSideBySide&&e instanceof f&&(e=e.master);var n=u(e);if(!t||!t.filter)return n;if(!n)return null;var i,r;return Array.isArray(t.filter)?(i=t.filter.indexOf("file")>=0,r=t.filter.indexOf("untitled")>=0):(i="file"===t.filter,r="untitled"===t.filter),i&&"file"===n.scheme?n:r&&"untitled"===n.scheme?n:null}function u(e){if(e instanceof p&&"function"==typeof e.getResource){var t=e.getResource();if(t instanceof s.default)return t}return null}Object.defineProperty(t,"__esModule",{value:!0}),t.TextCompareEditorVisible=new c.RawContextKey("textCompareEditorVisible",!1);var d;!function(e){e[e.SAVE=0]="SAVE",e[e.DONT_SAVE=1]="DONT_SAVE",e[e.CANCEL=2]="CANCEL"}(d=t.ConfirmResult||(t.ConfirmResult={})),t.Extensions={Editors:"workbench.contributions.editors"},t.TEXT_DIFF_EDITOR_ID="workbench.editors.textDiffEditor",t.BINARY_DIFF_EDITOR_ID="workbench.editors.binaryResourceDiffEditor";var p=function(){function e(){this._onDidChangeDirty=new i.Emitter,this._onDidChangeLabel=new i.Emitter,this._onDispose=new i.Emitter,this.disposed=!1}return Object.defineProperty(e.prototype,"onDidChangeDirty",{get:function(){return this._onDidChangeDirty.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChangeLabel",{get:function(){return this._onDidChangeLabel.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!0,configurable:!0}),e.prototype.getName=function(){return null},e.prototype.getDescription=function(){return null},e.prototype.getTitle=function(e){return this.getName()},e.prototype.getPreferredEditorId=function(e){return e&&e.length>0?e[0]:null},e.prototype.getTelemetryDescriptor=function(){return{typeId:this.getTypeId()}},e.prototype.isDirty=function(){return!1},e.prototype.confirmSave=function(){return d.DONT_SAVE},e.prototype.save=function(){return n.TPromise.as(!0)},e.prototype.revert=function(){return n.TPromise.as(!0)},e.prototype.close=function(){this.dispose()},e.prototype.supportsSplitEditor=function(){return!0},e.prototype.matches=function(e){return this===e},e.prototype.dispose=function(){this.disposed=!0,this._onDispose.fire(),this._onDidChangeDirty.dispose(),this._onDidChangeLabel.dispose(),this._onDispose.dispose()},e.prototype.isDisposed=function(){return this.disposed},e}();t.EditorInput=p;!function(e){e[e.Encode=0]="Encode",e[e.Decode=1]="Decode"}(t.EncodingMode||(t.EncodingMode={}));var f=function(e){function t(t,n,i,r){var o=e.call(this)||this;return o.name=t,o.description=n,o._details=i,o._master=r,o._toUnbind=[],o.registerListeners(),o}return h(t,e),Object.defineProperty(t.prototype,"master",{get:function(){return this._master},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"details",{get:function(){return this._details},enumerable:!0,configurable:!0}),t.prototype.isDirty=function(){return this.master.isDirty()},t.prototype.confirmSave=function(){return this.master.confirmSave()},t.prototype.save=function(){return this.master.save()},t.prototype.revert=function(){return this.master.revert()},t.prototype.getTelemetryDescriptor=function(){var t=this.master.getTelemetryDescriptor();return r.assign(t,e.prototype.getTelemetryDescriptor.call(this))},t.prototype.registerListeners=function(){var e=this,t=i.once(this.details.onDispose);this._toUnbind.push(t(function(){e.isDisposed()||e.dispose()}));var n=i.once(this.master.onDispose);this._toUnbind.push(n(function(){e.isDisposed()||e.dispose()})),this._toUnbind.push(this.master.onDidChangeDirty(function(){return e._onDidChangeDirty.fire()})),this._toUnbind.push(this.master.onDidChangeLabel(function(){return e._onDidChangeLabel.fire()}))},Object.defineProperty(t.prototype,"toUnbind",{get:function(){return this._toUnbind},enumerable:!0,configurable:!0}),t.prototype.resolve=function(e){return n.TPromise.as(null)},t.prototype.getTypeId=function(){return t.ID},t.prototype.getName=function(){return this.name},t.prototype.getDescription=function(){return this.description},t.prototype.supportsSplitEditor=function(){return!1},t.prototype.matches=function(n){if(!0===e.prototype.matches.call(this,n))return!0;if(n){if(!(n instanceof t))return!1;var i=n;return this.details.matches(i.details)&&this.master.matches(i.master)}return!1},t.prototype.dispose=function(){this._toUnbind=a.dispose(this._toUnbind),e.prototype.dispose.call(this)},t}(p);f.ID="workbench.editorinputs.sidebysideEditorInput",t.SideBySideEditorInput=f;var g=function(e){function t(){var t=e.call(this)||this;return t._onDispose=new i.Emitter,t}return h(t,e),Object.defineProperty(t.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!0,configurable:!0}),t.prototype.load=function(){return n.TPromise.as(this)},t.prototype.isResolved=function(){return!0},t.prototype.dispose=function(){this._onDispose.fire(),this._onDispose.dispose(),e.prototype.dispose.call(this)},t}(a.Disposable);t.EditorModel=g;var v=function(){function e(){}return e.create=function(t){var n=new e;return n.preserveFocus=t.preserveFocus,n.forceOpen=t.forceOpen,n.revealIfVisible=t.revealIfVisible,n.revealIfOpened=t.revealIfOpened,n.pinned=t.pinned,n.index=t.index,n.inactive=t.inactive,n},e.prototype.mixin=function(e){e&&(this.preserveFocus=e.preserveFocus,this.forceOpen=e.forceOpen,this.revealIfVisible=e.revealIfVisible,this.revealIfOpened=e.revealIfOpened,this.pinned=e.pinned,this.index=e.index,this.inactive=e.inactive)},e}();t.EditorOptions=v;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.from=function(e){var n=null;if(e&&e.options){if((e.options.selection||e.options.viewState||e.options.forceOpen||e.options.revealIfVisible||e.options.revealIfOpened||e.options.preserveFocus||e.options.pinned||e.options.inactive||"number"==typeof e.options.index)&&(n=new t),e.options.selection){var i=e.options.selection;n.selection(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn)}e.options.forceOpen&&(n.forceOpen=!0),e.options.revealIfVisible&&(n.revealIfVisible=!0),e.options.revealIfOpened&&(n.revealIfOpened=!0),e.options.preserveFocus&&(n.preserveFocus=!0),e.options.pinned&&(n.pinned=!0),e.options.inactive&&(n.inactive=!0),e.options.revealInCenterIfOutsideViewport&&(n.revealInCenterIfOutsideViewport=!0),e.options.viewState&&(n.editorViewState=e.options.viewState),"number"==typeof e.options.index&&(n.index=e.options.index)}return n},t.create=function(e){void 0===e&&(e=Object.create(null));var n=new t;return n.preserveFocus=e.preserveFocus,n.forceOpen=e.forceOpen,n.revealIfVisible=e.revealIfVisible,n.revealIfOpened=e.revealIfOpened,n.pinned=e.pinned,n.index=e.index,n.inactive=e.inactive,e.selection&&(n.startLineNumber=e.selection.startLineNumber,n.startColumn=e.selection.startColumn,n.endLineNumber=e.selection.endLineNumber||e.selection.startLineNumber,n.endColumn=e.selection.endColumn||e.selection.startColumn),n},t.prototype.hasOptionsDefined=function(){return!!this.editorViewState||!o.isUndefinedOrNull(this.startLineNumber)&&!o.isUndefinedOrNull(this.startColumn)},t.prototype.selection=function(e,t,n,i){return void 0===n&&(n=e),void 0===i&&(i=t),this.startLineNumber=e,this.startColumn=t,this.endLineNumber=n,this.endColumn=i,this},t.fromEditor=function(e,n){var i=t.create(n);return i.editorViewState=e.saveViewState(),i},t.prototype.apply=function(e){return this.applyViewState(e)},t.prototype.applyViewState=function(e){var t=!1;if(this.editorViewState)e.restoreViewState(this.editorViewState),t=!0;else if(!o.isUndefinedOrNull(this.startLineNumber)&&!o.isUndefinedOrNull(this.startColumn)){if(o.isUndefinedOrNull(this.endLineNumber)||o.isUndefinedOrNull(this.endColumn)){var n={lineNumber:this.startLineNumber,column:this.startColumn};e.setPosition(n),this.revealInCenterIfOutsideViewport?e.revealPositionInCenterIfOutsideViewport(n):e.revealPositionInCenter(n)}else{var i={startLineNumber:this.startLineNumber,startColumn:this.startColumn,endLineNumber:this.endLineNumber,endColumn:this.endColumn};e.setSelection(i),this.revealInCenterIfOutsideViewport?e.revealRangeInCenterIfOutsideViewport(i):e.revealRangeInCenter(i)}t=!0}return t},t}(v);t.TextEditorOptions=m;var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.create=function(e){var n=new t;return n.autoRevealFirstChange=e.autoRevealFirstChange,n.preserveFocus=e.preserveFocus,n.forceOpen=e.forceOpen,n.revealIfVisible=e.revealIfVisible,n.revealIfOpened=e.revealIfOpened,n.pinned=e.pinned,n.index=e.index,e.selection&&(n.startLineNumber=e.selection.startLineNumber,n.startColumn=e.selection.startColumn,n.endLineNumber=e.selection.endLineNumber||e.selection.startLineNumber,n.endColumn=e.selection.endColumn||e.selection.startColumn),n},t}(m);t.TextDiffEditorOptions=y,t.EditorOpenPositioning={LEFT:"left",RIGHT:"right",FIRST:"first",LAST:"last"},t.ActiveEditorMovePositioning={FIRST:"first",LAST:"last",LEFT:"left",RIGHT:"right",CENTER:"center",POSITION:"position"},t.ActiveEditorMovePositioningBy={TAB:"tab",GROUP:"group"},t.EditorCommands={MoveActiveEditor:"moveActiveEditor"},t.hasResource=function(e,t){return!!l(e,t)},t.toResource=l}),define(u[138],d([1,0,28,293,59,42,30,82,172,27,23,5,44,39]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f){"use strict";function g(e,t,i,r){var o,s=r?["folder-icon"]:["file-icon"];if(i&&(o=i.fsPath),o){var a=b(n.basename(o).toLowerCase());if(r)s.push(a+"-name-folder-icon");else{s.push(a+"-name-file-icon");for(var c=a.split("."),l=1;l<c.length;l++)s.push(c.slice(l).join(".")+"-ext-file-icon");var u=m(e,i);(u=u||t.getModeIdByFilenameOrFirstLine(o))&&s.push(b(u)+"-lang-file-icon")}}return s}function m(e,t){var n;if(t){var i=e.getModel(t);if(i){var r=i.getLanguageIdentifier().language;r&&r!==c.PLAINTEXT_MODE_ID&&(n=r)}}return n}function b(e){return e.replace(/\s/g,"\\$&")}Object.defineProperty(t,"__esModule",{value:!0});var S=function(e){function t(t,n,i,r,o,s,a,c){var l=e.call(this,t,n)||this;return l.extensionService=i,l.contextService=r,l.configurationService=o,l.modeService=s,l.modelService=a,l.environmentService=c,l.toDispose=[],l.registerListeners(),l}return h(t,e),t.prototype.registerListeners=function(){var e=this;this.extensionService.onReady().then(function(){return e.render(!0)}),this.toDispose.push(this.configurationService.onDidUpdateConfiguration(function(){return e.render(!0)}))},t.prototype.setLabel=function(e,t){var n=this.hasResourceChanged(e,t);this.label=e,this.options=t,this.render(n)},t.prototype.hasResourceChanged=function(e,t){var n=e?e.resource:void 0,i=this.label?this.label.resource:void 0;return(!!t&&t.isFolder)!==(!!this.options&&this.options.isFolder)||(n&&i?n.toString()!==i.toString():!(!n&&!i))},t.prototype.clear=function(){this.label=void 0,this.options=void 0,this.lastKnownConfiguredLangId=void 0,this.computedIconClasses=void 0,this.setValue()},t.prototype.render=function(e){if(this.label){var t=m(this.modelService,this.label.resource);this.lastKnownConfiguredLangId!==t&&(e=!0,this.lastKnownConfiguredLangId=t)}if(e&&(this.computedIconClasses=void 0),this.label){var n=this.label.resource,i="";this.options&&"string"==typeof this.options.title?i=this.options.title:n&&(i=a.getPathLabel(n.fsPath,void 0,this.environmentService)),this.computedIconClasses||(this.computedIconClasses=g(this.modelService,this.modeService,n,this.options&&this.options.isFolder));var r=this.computedIconClasses.slice(0);this.options&&this.options.extraClasses&&r.push.apply(r,this.options.extraClasses);var o=this.options&&this.options.italic,s=this.options&&this.options.matches;this.setValue(this.label.name,this.label.description,{title:i,extraClasses:r,italic:o,matches:s})}},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.toDispose=d.dispose(this.toDispose),this.label=void 0,this.options=void 0,this.lastKnownConfiguredLangId=void 0,this.computedIconClasses=void 0},t}(i.IconLabel);S=v([y(2,r.IExtensionService),y(3,l.IWorkspaceContextService),y(4,u.IConfigurationService),y(5,o.IModeService),y(6,p.IModelService),y(7,f.IEnvironmentService)],S),t.ResourceLabel=S;var _=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.setEditor=function(e,t){this.setLabel({resource:s.toResource(e,{supportSideBySide:!0}),name:e.getName(),description:e.getDescription()},t)},t}(S);t.EditorLabel=_;var E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.setFile=function(e,t){void 0===t&&(t=Object.create(null)),this.setLabel({resource:e,name:t.hideLabel?void 0:n.basename(e.fsPath),description:t.hidePath?void 0:a.getPathLabel(n.dirname(e.fsPath),this.contextService,this.environmentService)},t)},t}(S);t.FileLabel=E,t.getIconClasses=g}),define(u[84],d([1,0,533,4,26,34,12,24,7,15,21,115,102,30,54,95]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var b=function(){function e(){}return e.prototype.getResults=function(e){return i.TPromise.as(null)},e.prototype.getAriaLabel=function(){return null},e.prototype.getClass=function(){return null},e.prototype.canRun=function(){return!0},e.prototype.hasShortResponseTime=function(){return!1},e.prototype.getAutoFocus=function(e,t){return{}},e.prototype.onOpen=function(){},e.prototype.onClose=function(e){},e.prototype.getGroupLabel=function(){return null},e.prototype.getEmptyLabel=function(e){return e.length>0?n.localize(0,null):n.localize(1,null)},e}();t.QuickOpenHandler=b;var S=function(e){function t(t,n,i,r,o,s){void 0===s&&(s=!1);var c=e.call(this,t,n)||this;return c.id=t+n,c.prefix=i,c.contextKey=r,c.instantProgress=s,a.isString(o)?c.description=o:c.helpEntries=o,c}return h(t,e),t.prototype.getId=function(){return this.id},t}(m.AsyncDescriptor);t.QuickOpenHandlerDescriptor=S,t.Extensions={Quickopen:"workbench.contributions.quickopen"};var _=function(){function e(){this.handlers=[]}return e.prototype.registerQuickOpenHandler=function(e){this.handlers.push(e),this.handlers.sort(function(e,t){return t.prefix.length-e.prefix.length})},e.prototype.registerDefaultQuickOpenHandler=function(e){this.defaultHandler=e},e.prototype.getQuickOpenHandlers=function(){return this.handlers.slice(0)},e.prototype.getQuickOpenHandler=function(e){return e?o.first(this.handlers,function(t){return s.startsWith(e,t.prefix)},null):null},e.prototype.getDefaultQuickOpenHandler=function(){return this.defaultHandler},e}();l.Registry.add(t.Extensions.Quickopen,new _);var E=function(e){function t(t){var n=e.call(this)||this;return n._editorService=t,n}return h(t,e),Object.defineProperty(t.prototype,"editorService",{get:function(){return this._editorService},enumerable:!0,configurable:!0}),t.prototype.getInput=function(){return null},t.prototype.getOptions=function(){return null},t.prototype.run=function(e,t){var n=e===d.Mode.OPEN;if(e===d.Mode.OPEN||e===d.Mode.OPEN_IN_BACKGROUND){var i=t.keymods.indexOf(2048)>=0,o=void 0;e===d.Mode.OPEN_IN_BACKGROUND&&(o={pinned:!0,preserveFocus:!0});var s=this.getInput();if(s instanceof f.EditorInput){var a=this.getOptions();a?a=r.mixin(a,o,!0):o&&(a=f.EditorOptions.create(o)),this.editorService.openEditor(s,a,i).done(null,c.onUnexpectedError)}else{var l=s;o&&(l.options=r.assign(l.options||Object.create(null),o)),this.editorService.openEditor(l,i).done(null,c.onUnexpectedError)}}return n},t}(p.QuickOpenEntry);t.EditorQuickOpenEntry=E;var C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.getInput=function(){return null},t.prototype.getOptions=function(){return null},t}(p.QuickOpenEntryGroup);t.EditorQuickOpenEntryGroup=C;!function(e){function t(t,n,i,r){var o=e.call(this,r)||this;return o.quickOpenService=t,o.prefix=n,o.command=i,o.command=i,o}h(t,e),t.prototype.getIcon=function(){return this.command.icon||null},t.prototype.getLabel=function(){return this.command.aliases[0]},t.prototype.getAriaLabel=function(){return n.localize(2,null,this.getLabel())},t.prototype.run=function(e,t){return e!==d.Mode.PREVIEW&&(this.quickOpenService.show(this.prefix+" "+this.command.aliases[0]+" "),!1)}}(p.QuickOpenEntry);var w=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.quickOpenService=r,o.prefix=i,o.enabled=!!o.quickOpenService,o}return h(t,e),t.prototype.run=function(e){return this.quickOpenService.show(this.prefix),i.TPromise.as(null)},t}(u.Action);w=v([y(3,g.IQuickOpenService)],w),t.QuickOpenAction=w}),define(u[268],d([1,0,30,43]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t,n,i){var r=e.call(this)||this;return r.fileService=i,r.name=n,r.resource=t,r}return h(t,e),t.prototype.getName=function(){return this.name},t.prototype.getResource=function(){return this.resource},t.prototype.getSize=function(){return this.size},t.prototype.getETag=function(){return this.etag},t.prototype.load=function(){var e=this;return this.fileService.resolveFile(this.resource).then(function(t){return e.etag=t.etag,e.size=t.size,e})},t}(n.EditorModel);r=v([y(2,i.IFileService)],r),t.BinaryEditorModel=r}),define(u[371],d([1,0,4,30]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t,n){var i=e.call(this)||this;return i._originalModel=t,i._modifiedModel=n,i}return h(t,e),Object.defineProperty(t.prototype,"originalModel",{get:function(){return this._originalModel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modifiedModel",{get:function(){return this._modifiedModel},enumerable:!0,configurable:!0}),t.prototype.load=function(){var e=this;return n.TPromise.join([this._originalModel.load(),this._modifiedModel.load()]).then(function(){return e})},t.prototype.isResolved=function(){return this.originalModel.isResolved()&&this.modifiedModel.isResolved()},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t}(i.EditorModel);t.DiffEditorModel=r}),define(u[267],d([1,0,8,30,31,6,23,69,5,15,63,70]),function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function e(t,i,r){this.instantiationService=i,this.configurationService=r,this._id=e.IDS++,this.editors=[],this.mru=[],this.toDispose=[],this.mapResourceToEditorCount=new d.ResourceMap,this.onConfigurationUpdated(r.getConfiguration()),this._onEditorActivated=new n.Emitter,this._onEditorOpened=new n.Emitter,this._onEditorClosed=new n.Emitter,this._onEditorDisposed=new n.Emitter,this._onEditorDirty=new n.Emitter,this._onEditorLabelChange=new n.Emitter,this._onEditorMoved=new n.Emitter,this._onEditorPinned=new n.Emitter,this._onEditorUnpinned=new n.Emitter,this._onEditorStateChanged=new n.Emitter,this._onEditorsStructureChanged=new n.Emitter,this.toDispose.push(this._onEditorActivated,this._onEditorOpened,this._onEditorClosed,this._onEditorDisposed,this._onEditorDirty,this._onEditorLabelChange,this._onEditorMoved,this._onEditorPinned,this._onEditorUnpinned,this._onEditorStateChanged,this._onEditorsStructureChanged),"object"==typeof t?this.deserialize(t):this._label=t,this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.configurationService.onDidUpdateConfiguration(function(t){return e.onConfigurationUpdated(e.configurationService.getConfiguration())}))},e.prototype.onConfigurationUpdated=function(e){e&&e.workbench&&e.workbench.editor&&(this.editorOpenPositioning=e.workbench.editor.openPositioning)},Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this._label},set:function(e){this._label=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this.editors.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorActivated",{get:function(){return this._onEditorActivated.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorOpened",{get:function(){return this._onEditorOpened.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorClosed",{get:function(){return this._onEditorClosed.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorDisposed",{get:function(){return this._onEditorDisposed.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorDirty",{get:function(){return this._onEditorDirty.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorLabelChange",{get:function(){return this._onEditorLabelChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorMoved",{get:function(){return this._onEditorMoved.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorPinned",{get:function(){return this._onEditorPinned.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorUnpinned",{get:function(){return this._onEditorUnpinned.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorStateChanged",{get:function(){return this._onEditorStateChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorsStructureChanged",{get:function(){return this._onEditorsStructureChanged.event},enumerable:!0,configurable:!0}),e.prototype.getEditors=function(e){return e?this.mru.slice(0):this.editors.slice(0)},e.prototype.getEditor=function(e){if("number"==typeof e)return this.editors[e];var t=e;if(!this.contains(t))return null;for(var n=0;n<this.editors.length;n++){var r=this.editors[n],o=i.toResource(r,{supportSideBySide:!0});if(o&&o.toString()===t.toString())return r}return null},Object.defineProperty(e.prototype,"activeEditor",{get:function(){return this.active},enumerable:!0,configurable:!0}),e.prototype.isActive=function(e){return this.matches(this.active,e)},Object.defineProperty(e.prototype,"previewEditor",{get:function(){return this.preview},enumerable:!0,configurable:!0}),e.prototype.isPreview=function(e){return this.matches(this.preview,e)},e.prototype.openEditor=function(e,t){var n=this.indexOf(e),r=t&&t.pinned,o=t&&t.active||!this.activeEditor||!r&&this.matches(this.preview,this.activeEditor);if(-1===n){var s=void 0,a=this.indexOf(this.active);s=t&&"number"==typeof t.index?t.index:this.editorOpenPositioning===i.EditorOpenPositioning.FIRST?0:this.editorOpenPositioning===i.EditorOpenPositioning.LAST?this.editors.length:this.editorOpenPositioning===i.EditorOpenPositioning.LEFT?0!==a&&this.editors.length?a:0:a+1,!r&&this.preview||this.splice(s,!1,e),r||(this.preview&&(s>this.indexOf(this.preview)&&s--,this.replaceEditor(this.preview,e,s,!o)),this.preview=e),this.hookEditorListeners(e),this.fireEvent(this._onEditorOpened,e,!0),o&&this.setActive(e)}else r&&this.pin(e),o&&this.setActive(e),t&&"number"==typeof t.index&&this.moveEditor(e,t.index)},e.prototype.hookEditorListeners=function(e){var t=this,i=[],r=n.once(e.onDispose);i.push(r(function(){t.indexOf(e)>=0&&t._onEditorDisposed.fire(e)})),i.push(e.onDidChangeDirty(function(){t.fireEvent(t._onEditorDirty,e,!1)})),i.push(e.onDidChangeLabel(function(){t.fireEvent(t._onEditorLabelChange,e,!1)})),i.push(this.onEditorClosed(function(t){t.editor.matches(e)&&c.dispose(i)}))},e.prototype.replaceEditor=function(e,t,n,i){void 0===i&&(i=!0);var r=this.doCloseEditor(e,i);this.splice(n,!1,t),r&&this.fireEvent(this._onEditorClosed,r,!0)},e.prototype.closeEditor=function(e,t){void 0===t&&(t=!0);var n=this.doCloseEditor(e,t);n&&this.fireEvent(this._onEditorClosed,n,!0)},e.prototype.doCloseEditor=function(e,t){void 0===t&&(t=!0);var n=this.indexOf(e);if(-1===n)return null;t&&this.matches(this.active,e)&&(this.mru.length>1?this.setActive(this.mru[1]):this.active=null);var i=!0;return this.matches(this.preview,e)&&(this.preview=null,i=!1),this.splice(n,!0),{editor:e,pinned:i,index:n,group:this}},e.prototype.closeEditors=function(e,t){var n=this,i=this.indexOf(e);if(-1!==i)if(t===u.Direction.LEFT)for(r=i-1;r>=0;r--)this.closeEditor(this.editors[r]);else if(t===u.Direction.RIGHT)for(var r=this.editors.length-1;r>i;r--)this.closeEditor(this.editors[r]);else this.mru.filter(function(t){return!n.matches(t,e)}).forEach(function(e){return n.closeEditor(e)})},e.prototype.closeAllEditors=function(){var e=this;this.mru.filter(function(t){return!e.matches(t,e.active)}).forEach(function(t){return e.closeEditor(t)}),this.closeEditor(this.active)},e.prototype.moveEditor=function(e,t){var n=this.indexOf(e);n<0||(this.editors.splice(n,1),this.editors.splice(t,0,e),this.fireEvent(this._onEditorMoved,e,!0))},e.prototype.setActive=function(e){-1!==this.indexOf(e)&&(this.matches(this.active,e)||(this.active=e,this.setMostRecentlyUsed(e),this.fireEvent(this._onEditorActivated,e,!1)))},e.prototype.pin=function(e){-1!==this.indexOf(e)&&this.isPreview(e)&&(this.preview=null,this.fireEvent(this._onEditorPinned,e,!1))},e.prototype.unpin=function(e){if(-1!==this.indexOf(e)&&this.isPinned(e)){var t=this.preview;this.preview=e,this.fireEvent(this._onEditorUnpinned,e,!1),this.closeEditor(t)}},e.prototype.isPinned=function(e){var t,n;return"number"==typeof e?(t=this.editors[e],n=e):(t=e,n=this.indexOf(t)),!(-1===n||!t)&&(!this.preview||!this.matches(this.preview,t))},e.prototype.fireEvent=function(e,t,n){e.fire(t),n?this._onEditorsStructureChanged.fire(t instanceof i.EditorInput?t:t.editor):this._onEditorStateChanged.fire(t instanceof i.EditorInput?t:t.editor)},e.prototype.splice=function(e,t,n){var i=this.editors[e],r=[e,t?1:0];if(n&&r.push(n),this.editors.splice.apply(this.editors,r),!t&&n)this.mru.push(n),this.updateResourceMap(n,!1);else{var o=this.indexOf(i,this.mru);t&&!n?(this.mru.splice(o,1),this.updateResourceMap(i,!0)):(this.mru.splice(o,1,n),this.updateResourceMap(n,!1),this.updateResourceMap(i,!0))}},e.prototype.updateResourceMap=function(e,t){var n=i.toResource(e,{supportSideBySide:!0});if(n){var r=this.mapResourceToEditorCount.get(n)||0,o=void 0;t?r>1&&(o=r-1):o=r+1,this.mapResourceToEditorCount.set(n,o)}},e.prototype.indexOf=function(e,t){if(void 0===t&&(t=this.editors),!e)return-1;for(var n=0;n<t.length;n++)if(this.matches(t[n],e))return n;return-1},e.prototype.contains=function(e){if(e instanceof i.EditorInput)return this.indexOf(e)>=0;var t=this.mapResourceToEditorCount.get(e);return"number"==typeof t&&t>0},e.prototype.setMostRecentlyUsed=function(e){if(-1!==this.indexOf(e)){var t=this.indexOf(e,this.mru);this.mru.splice(t,1),this.mru.unshift(e)}},e.prototype.matches=function(e,t){return!!e&&!!t&&e.matches(t)},e.prototype.serialize=function(){var e,t=this,n=l.Registry.as(i.Extensions.Editors),r=[],o=[];this.editors.forEach(function(i){var s=n.getEditorInputFactory(i.getTypeId());if(s){var a=s.serialize(i);"string"==typeof a&&(o.push({id:i.getTypeId(),value:a}),r.push(i),t.preview===i&&(e=r.length-1))}});var s=this.mru.map(function(e){return t.indexOf(e,r)}).filter(function(e){return e>=0});return{label:this.label,editors:o,mru:s,preview:e}},e.prototype.deserialize=function(e){var t=this,n=l.Registry.as(i.Extensions.Editors);this._label=e.label,this.editors=e.editors.map(function(e){var i=n.getEditorInputFactory(e.id);if(i){var r=i.deserialize(t.instantiationService,e.value);return t.hookEditorListeners(r),t.updateResourceMap(r,!1),r}return null}).filter(function(e){return!!e}),this.mru=e.mru.map(function(e){return t.editors[e]}),this.active=this.mru[0],this.preview=this.editors[e.preview]},e.prototype.dispose=function(){c.dispose(this.toDispose)},e}();h.IDS=0,h=v([y(1,o.IInstantiationService),y(2,s.IConfigurationService)],h),t.EditorGroup=h;var p=function(){function e(e,t,i,r){this.restoreFromStorage=e,this.storageService=t,this.lifecycleService=i,this.instantiationService=r,this.toDispose=[],this._groups=[],this.groupToIdentifier=Object.create(null),this._onGroupOpened=new n.Emitter,this._onGroupClosed=new n.Emitter,this._onGroupActivated=new n.Emitter,this._onGroupDeactivated=new n.Emitter,this._onGroupMoved=new n.Emitter,this._onGroupRenamed=new n.Emitter,this._onModelChanged=new n.Emitter,this._onEditorDisposed=new n.Emitter,this._onEditorDirty=new n.Emitter,this._onEditorLabelChange=new n.Emitter,this._onEditorOpened=new n.Emitter,this._onWillCloseEditor=new n.Emitter,this._onEditorClosed=new n.Emitter,this.toDispose.push(this._onGroupOpened,this._onGroupClosed,this._onGroupActivated,this._onGroupDeactivated,this._onGroupMoved,this._onGroupRenamed,this._onModelChanged,this._onEditorDisposed,this._onEditorDirty,this._onEditorLabelChange,this._onEditorClosed,this._onWillCloseEditor),this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.lifecycleService.onShutdown(function(t){return e.onShutdown()}))},Object.defineProperty(e.prototype,"onGroupOpened",{get:function(){return this._onGroupOpened.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onGroupClosed",{get:function(){return this._onGroupClosed.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onGroupActivated",{get:function(){return this._onGroupActivated.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onGroupDeactivated",{get:function(){return this._onGroupDeactivated.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onGroupMoved",{get:function(){return this._onGroupMoved.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onGroupRenamed",{get:function(){return this._onGroupRenamed.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onModelChanged",{get:function(){return this._onModelChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorDisposed",{get:function(){return this._onEditorDisposed.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorDirty",{get:function(){return this._onEditorDirty.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorLabelChange",{get:function(){return this._onEditorLabelChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorOpened",{get:function(){return this._onEditorOpened.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onWillCloseEditor",{get:function(){return this._onWillCloseEditor.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorClosed",{get:function(){return this._onEditorClosed.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groups",{get:function(){return this.ensureLoaded(),this._groups.slice(0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeGroup",{get:function(){return this.ensureLoaded(),this._activeGroup},enumerable:!0,configurable:!0}),e.prototype.isActive=function(e){return this.activeGroup===e},e.prototype.getGroup=function(e){return this.ensureLoaded(),this.groupToIdentifier[e]},e.prototype.openGroup=function(e,t,n){void 0===t&&(t=!0),this.ensureLoaded();var i=this.doCreateGroup(e);return"number"==typeof n?this._groups[n]=i:this._activeGroup?this._groups.splice(this.indexOf(this._activeGroup)+1,0,i):this._groups.push(i),this.fireEvent(this._onGroupOpened,i,!0),this._activeGroup&&!t||this.setActive(i),i},e.prototype.renameGroup=function(e,t){this.ensureLoaded(),e.label!==t&&(e.label=t,this.fireEvent(this._onGroupRenamed,e,!1))},e.prototype.closeGroup=function(e){this.ensureLoaded();var t=this.indexOf(e);if(!(t<0)){if(e===this._activeGroup)if(this._groups.length>1){var n=void 0;n=this._groups.length>t+1?this._groups[t+1]:this._groups[t-1],this.setActive(n)}else this._activeGroup=null;e.closeAllEditors(),e.dispose(),this._groups.splice(t,1),this.groupToIdentifier[e.id]=void 0,this.fireEvent(this._onGroupClosed,e,!0);for(var i=t;i<this._groups.length;i++)this.fireEvent(this._onGroupMoved,this._groups[i],!0)}},e.prototype.closeGroups=function(e){var t=this;this.ensureLoaded(),this.groups.filter(function(n){return n!==t._activeGroup&&n!==e}).forEach(function(e){return t.closeGroup(e)}),this._activeGroup!==e&&this.closeGroup(this._activeGroup)},e.prototype.setActive=function(e){if(this.ensureLoaded(),this._activeGroup!==e){var t=this._activeGroup;this._activeGroup=e,this.fireEvent(this._onGroupActivated,e,!1),t&&this.fireEvent(this._onGroupDeactivated,t,!1)}},e.prototype.moveGroup=function(e,t){this.ensureLoaded();var n=this.indexOf(e);if(!(n<0)){this._groups.splice(n,1),this._groups.splice(t,0,e);for(var i=Math.min(n,t);i<=Math.max(n,t)&&i<this._groups.length;i++)this.fireEvent(this._onGroupMoved,this._groups[i],!0)}},e.prototype.indexOf=function(e){return this._groups.indexOf(e)},e.prototype.findGroup=function(e,t){for(var n=this,i=(this.activeGroup?[this.activeGroup]:[]).concat(this.groups.filter(function(e){return e!==n.activeGroup})),r=0;r<i.length;r++){var o=function(n){for(var r=i[n],o=(r.activeEditor?[r.activeEditor]:[]).concat(r.getEditors().filter(function(e){return e!==r.activeEditor})),s=0;s<o.length;s++){var a=o[s];if((!t||r.isActive(a))&&e.matches(a))return{value:r}}}(r);if("object"==typeof o)return o.value}},e.prototype.positionOfGroup=function(e){return this.indexOf(e)},e.prototype.groupAt=function(e){return this.ensureLoaded(),this._groups[e]},e.prototype.next=function(e,t){if(void 0===t&&(t=!0),this.ensureLoaded(),!this.activeGroup)return null;var n=this.activeGroup.indexOf(this.activeGroup.activeEditor);if(n+1<this.activeGroup.count)return{group:this.activeGroup,editor:this.activeGroup.getEditor(n+1)};if(!e)return t?{group:this.activeGroup,editor:this.activeGroup.getEditor(0)}:null;var i=this.indexOf(this.activeGroup),r=this.groups[i+1];if(r)return{group:r,editor:r.getEditor(0)};if(!t)return null;var o=this.groups[0];return{group:o,editor:o.getEditor(0)}},e.prototype.previous=function(e,t){if(void 0===t&&(t=!0),this.ensureLoaded(),!this.activeGroup)return null;var n=this.activeGroup.indexOf(this.activeGroup.activeEditor);if(n>0)return{group:this.activeGroup,editor:this.activeGroup.getEditor(n-1)};if(!e)return t?{group:this.activeGroup,editor:this.activeGroup.getEditor(this.activeGroup.count-1)}:null;var i=this.indexOf(this.activeGroup),r=this.groups[i-1];if(r)return{group:r,editor:r.getEditor(r.count-1)};if(!t)return null;var o=this.groups[this.groups.length-1];return{group:o,editor:o.getEditor(o.count-1)}},e.prototype.save=function(){var t=this.serialize();t.groups.length?this.storageService.store(e.STORAGE_KEY,JSON.stringify(t),r.StorageScope.WORKSPACE):this.storageService.remove(e.STORAGE_KEY,r.StorageScope.WORKSPACE)},e.prototype.serialize=function(){var e,t=this._groups.map(function(e){return e.serialize()}).filter(function(e){return e.editors.length>0});return t.length>0&&(e=t.length===this._groups.length?this.indexOf(this._activeGroup):0),{groups:t,active:e}},e.prototype.fireEvent=function(e,t,n){e.fire(t),this._onModelChanged.fire({group:t,structural:n})},e.prototype.ensureLoaded=function(){this.loaded||(this.loaded=!0,this.load())},e.prototype.load=function(){var t=this;if(this.restoreFromStorage){var n=this.storageService.get(e.STORAGE_KEY,r.StorageScope.WORKSPACE);if(n){var i=JSON.parse(n),o=this.doValidate(i);if(o)return console.warn("Ignoring invalid stacks model (Error code: "+o+"): "+JSON.stringify(i)),void console.warn(i);this._groups=i.groups.map(function(e){return t.doCreateGroup(e)}),this._activeGroup=this._groups[i.active]}}},e.prototype.doValidate=function(e){return e.groups.length||"number"!=typeof e.active?e.groups.length&&!e.groups[e.active]?2:e.groups.length>3?3:e.groups.some(function(e){return!e.editors.length})?4:e.groups.some(function(e){return e.editors.length!==e.mru.length})?5:e.groups.some(function(e){return"number"==typeof e.preview&&!e.editors[e.preview]})?6:e.groups.some(function(e){return!e.label})?7:0:1},e.prototype.doCreateGroup=function(e){var t=this,n=this.instantiationService.createInstance(h,e);this.groupToIdentifier[n.id]=n;var i=[];return i.push(n.onEditorsStructureChanged(function(e){return t._onModelChanged.fire({group:n,editor:e,structural:!0})})),i.push(n.onEditorStateChanged(function(e){return t._onModelChanged.fire({group:n,editor:e})})),i.push(n.onEditorOpened(function(e){return t._onEditorOpened.fire({editor:e,group:n})})),i.push(n.onEditorClosed(function(e){t._onWillCloseEditor.fire(e),t.handleOnEditorClosed(e),t._onEditorClosed.fire(e)})),i.push(n.onEditorDisposed(function(e){return t._onEditorDisposed.fire({editor:e,group:n})})),i.push(n.onEditorDirty(function(e){return t._onEditorDirty.fire({editor:e,group:n})})),i.push(n.onEditorLabelChange(function(e){return t._onEditorLabelChange.fire({editor:e,group:n})})),i.push(this.onGroupClosed(function(e){e===n&&c.dispose(i)})),n},e.prototype.handleOnEditorClosed=function(e){var t=this,n=e.editor,r=[n];n instanceof i.SideBySideEditorInput&&!this.isOpen(n)&&r.push(n.master,n.details),r.forEach(function(e){var n=i.toResource(e);t.isOpen(n||e)||e.close()})},e.prototype.isOpen=function(e){return this._groups.some(function(t){return t.contains(e)})},e.prototype.count=function(e){return this._groups.filter(function(t){return t.contains(e)}).length},e.prototype.onShutdown=function(){this.save(),c.dispose(this.toDispose)},e.prototype.validate=function(){var e=this.serialize(),t=this.doValidate(e);t?(console.warn("Ignoring invalid stacks model (Error code: "+t+"): "+JSON.stringify(e)),console.warn(e)):console.log("Stacks Model OK!")},e.prototype.toString=function(){var e=this;this.ensureLoaded();var t=[];return this.groups.length?(this.groups.forEach(function(n){var i="Group: "+n.label;e._activeGroup===n&&(i+=" [active]"),t.push(i),n.getEditors().forEach(function(e){var i="\t"+e.getName();n.previewEditor===e&&(i+=" [preview]"),n.activeEditor===e&&(i+=" [active]"),t.push(i)})}),t.join("\n")):"<No Groups>"},e}();p.STORAGE_KEY="editorStacks.model",p=v([y(1,r.IStorageService),y(2,a.ILifecycleService),y(3,o.IInstantiationService)],p),t.EditorStacksModel=p}),define(u[368],d([1,0,371]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.updateTextDiffEditorModel(),i}return h(t,e),Object.defineProperty(t.prototype,"originalModel",{get:function(){return this._originalModel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modifiedModel",{get:function(){return this._modifiedModel},enumerable:!0,configurable:!0}),t.prototype.load=function(){var t=this;return e.prototype.load.call(this).then(function(){return t.updateTextDiffEditorModel(),t})},t.prototype.updateTextDiffEditorModel=function(){this.originalModel.isResolved()&&this.modifiedModel.isResolved()&&(this._textDiffEditorModel?(this._textDiffEditorModel.original=this.originalModel.textEditorModel,this._textDiffEditorModel.modified=this.modifiedModel.textEditorModel):this._textDiffEditorModel={original:this.originalModel.textEditorModel,modified:this.modifiedModel.textEditorModel})},Object.defineProperty(t.prototype,"textDiffEditorModel",{get:function(){return this._textDiffEditorModel},enumerable:!0,configurable:!0}),t.prototype.isResolved=function(){return!!this._textDiffEditorModel},t.prototype.dispose=function(){this._textDiffEditorModel=null,e.prototype.dispose.call(this)},t}(n.DiffEditorModel);t.TextDiffEditorModel=i}),define(u[185],d([1,0,4,33,30,42,44]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,n,i){var r=e.call(this)||this;return r.modelService=t,r.modeService=n,i&&r.handleExistingModel(i),r}return h(t,e),t.prototype.handleExistingModel=function(e){var t=this.modelService.getModel(e);if(!t)throw new Error("Document with resource "+e.toString()+" does not exist");this.textEditorModelHandle=e,this.registerModelDisposeListener(t)},t.prototype.registerModelDisposeListener=function(e){var t=this;this.modelDisposeListener&&this.modelDisposeListener.dispose(),this.modelDisposeListener=e.onWillDispose(function(){t.textEditorModelHandle=null,t.dispose()})},Object.defineProperty(t.prototype,"textEditorModel",{get:function(){return this.textEditorModelHandle?this.modelService.getModel(this.textEditorModelHandle):null},enumerable:!0,configurable:!0}),t.prototype.createTextEditorModel=function(e,t,i){var r=this,o=this.getFirstLineText(e),s=this.getOrCreateMode(this.modeService,i,o);return n.TPromise.any([n.TPromise.timeout(50),s]).then(function(){return r.doCreateTextEditorModel(e,s,t)})},t.prototype.doCreateTextEditorModel=function(e,t,n){var i=n&&this.modelService.getModel(n);return i?(this.modelService.updateModel(i,e),this.modelService.setMode(i,t)):(i=this.modelService.createModel(e,t,n),this.createdEditorModel=!0,this.registerModelDisposeListener(i)),this.textEditorModelHandle=i.uri,this},t.prototype.getFirstLineText=function(e){if("string"==typeof e){var t=e.substr(0,100),n=t.indexOf("\r");n<0&&(n=t.length);var i=t.indexOf("\n");return i<0&&(i=t.length),t.substr(0,Math.min(n,i))}return e.lines[0].substr(0,100)},t.prototype.getOrCreateMode=function(e,t,n){return e.getOrCreateMode(t)},t.prototype.updateTextEditorModel=function(e){this.textEditorModel&&this.modelService.updateModel(this.textEditorModel,e)},t.prototype.getValue=function(){var e=this.textEditorModel;return e?e.getValue(i.EndOfLinePreference.TextDefined,!0):null},t.prototype.isResolved=function(){return!!this.textEditorModelHandle},t.prototype.dispose=function(){this.modelDisposeListener&&(this.modelDisposeListener.dispose(),this.modelDisposeListener=null),this.textEditorModelHandle&&this.createdEditorModel&&this.modelService.destroyModel(this.textEditorModelHandle),this.textEditorModelHandle=null,this.createdEditorModel=!1,e.prototype.dispose.call(this)},t}(r.EditorModel);a=v([y(0,s.IModelService),y(1,o.IModeService)],a),t.BaseTextEditorModel=a}),define(u[190],d([1,0,4,30,185,371,368]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n,i,r)||this;return s.forceOpenAsBinary=o,s}return h(t,e),t.prototype.getTypeId=function(){return t.ID},Object.defineProperty(t.prototype,"originalInput",{get:function(){return this.details},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modifiedInput",{get:function(){return this.master},enumerable:!0,configurable:!0}),t.prototype.resolve=function(e){var t=this;return(this.cachedModel&&!e?n.TPromise.as(this.cachedModel):this.createModel(e)).then(function(e){return t.cachedModel&&t.cachedModel.dispose(),t.cachedModel=e,t.cachedModel})},t.prototype.getPreferredEditorId=function(e){return this.forceOpenAsBinary?i.BINARY_DIFF_EDITOR_ID:i.TEXT_DIFF_EDITOR_ID},t.prototype.createModel=function(e){return n.TPromise.join([this.originalInput.resolve(e),this.modifiedInput.resolve(e)]).then(function(e){var t=e[0],n=e[1];return n instanceof r.BaseTextEditorModel&&t instanceof r.BaseTextEditorModel?new s.TextDiffEditorModel(t,n):new o.DiffEditorModel(t,n)})},t.prototype.dispose=function(){this.cachedModel&&(this.cachedModel.dispose(),this.cachedModel=null),e.prototype.dispose.call(this)},t}(i.SideBySideEditorInput);a.ID="workbench.editors.diffEditorInput",t.DiffEditorInput=a}),define(u[365],d([1,0,185,42,44]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n,i){var r=e.call(this,i,n,t)||this;return r.createdEditorModel=!0,r}return h(t,e),t}(n.BaseTextEditorModel);o=v([y(1,i.IModeService),y(2,r.IModelService)],o),t.ResourceEditorModel=o}),define(u[159],d([1,0,4,30,164,71,365]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,n,i,r){var o=e.call(this)||this;return o.textModelResolverService=r,o.name=t,o.description=n,o.resource=i,o}return h(t,e),t.prototype.getResource=function(){return this.resource},t.prototype.getTypeId=function(){return t.ID},t.prototype.getName=function(){return this.name},t.prototype.setName=function(e){this.name!==e&&(this.name=e,this._onDidChangeLabel.fire())},t.prototype.getDescription=function(){return this.description},t.prototype.setDescription=function(e){this.description!==e&&(this.description=e,this._onDidChangeLabel.fire())},t.prototype.getTelemetryDescriptor=function(){var t=e.prototype.getTelemetryDescriptor.call(this);return t.resource=r.telemetryURIDescriptor(this.resource),t},t.prototype.resolve=function(e){var t=this;return this.modelReference||(this.modelReference=this.textModelResolverService.createModelReference(this.resource)),this.modelReference.then(function(e){var i=e.object;return i instanceof s.ResourceEditorModel?i:(e.dispose(),t.modelReference=null,n.TPromise.wrapError(new Error("Unexpected model for ResourceInput: "+t.resource)))})},t.prototype.matches=function(n){return!0===e.prototype.matches.call(this,n)||n instanceof t&&n.resource.toString()===this.resource.toString()},t.prototype.dispose=function(){this.modelReference&&(this.modelReference.done(function(e){return e.dispose()}),this.modelReference=null),e.prototype.dispose.call(this)},t}(i.EditorInput);a.ID="workbench.editors.resourceEditorInput",a=v([y(3,o.ITextModelService)],a),t.ResourceEditorInput=a}),define(u[161],d([1,0,24,31]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;!function(e){e[e.GLOBAL=0]="GLOBAL",e[e.WORKSPACE=1]="WORKSPACE"}(r=t.Scope||(t.Scope={}));var o=function(){function e(t){this.id=e.COMMON_PREFIX+t.toLowerCase()}return e.prototype.getMemento=function(t,n){if(void 0===n&&(n=r.GLOBAL),n===r.WORKSPACE){var i=e.workspaceMementos[this.id];return i||(i=new s(this.id,n,t),e.workspaceMementos[this.id]=i),i.getMemento()}var o=e.globalMementos[this.id];return o||(o=new s(this.id,n,t),e.globalMementos[this.id]=o),o.getMemento()},e.prototype.saveMemento=function(){e.globalMementos[this.id]&&e.globalMementos[this.id].save(),e.workspaceMementos[this.id]&&e.workspaceMementos[this.id].save()},e}();o.globalMementos={},o.workspaceMementos={},o.COMMON_PREFIX="memento/",t.Memento=o;var s=function(){function e(e,t,n){this.storageService=n,this.id=e,this.scope=t,this.mementoObj=this.loadMemento()}return e.prototype.getMemento=function(){return this.mementoObj},e.prototype.loadMemento=function(){var e=this.scope===r.GLOBAL?i.StorageScope.GLOBAL:i.StorageScope.WORKSPACE,t=this.storageService.get(this.id,e);return t?JSON.parse(t):{}},e.prototype.save=function(){var e=this.scope===r.GLOBAL?i.StorageScope.GLOBAL:i.StorageScope.WORKSPACE;n.isEmptyObject(this.mementoObj)?this.storageService.remove(this.id,e):this.storageService.store(this.id,JSON.stringify(this.mementoObj),e)},e}()}),define(u[317],d([1,0,16,26,28,27,5,8,23,28,17,42]),function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function e(t,n){this._modeService=n,this._schemeKey=e.Scheme.bindTo(t),this._filenameKey=e.Filename.bindTo(t),this._langIdKey=e.LangId.bindTo(t),this._resourceKey=e.Resource.bindTo(t)}return e.prototype.set=function(e){this._resourceKey.set(e),this._schemeKey.set(e&&e.scheme),this._filenameKey.set(e&&l.basename(e.fsPath)),this._langIdKey.set(e&&this._modeService.getModeIdByFilenameOrFirstLine(e.fsPath))},e.prototype.reset=function(){this._schemeKey.reset(),this._langIdKey.reset(),this._resourceKey.reset()},e.prototype.get=function(){return this._resourceKey.get()},e}();h.Scheme=new u.RawContextKey("resourceScheme",void 0),h.Filename=new u.RawContextKey("resourceFilename",void 0),h.LangId=new u.RawContextKey("resourceLangId",void 0),h.Resource=new u.RawContextKey("resource",void 0),h=v([y(0,u.IContextKeyService),y(1,d.IModeService)],h),t.ResourceContextKey=h;var p=function(){function e(e,t,n,i){this.globFn=e,this.parseFn=t,this.contextService=n,this.configurationService=i,this.toUnbind=[],this.mapRootToParsedExpression=new Map,this.mapRootToExpressionConfig=new Map,this._onExpressionChange=new a.Emitter,this.toUnbind.push(this._onExpressionChange),this.updateExcludes(!1),this.registerListeners()}return Object.defineProperty(e.prototype,"onExpressionChange",{get:function(){return this._onExpressionChange.event},enumerable:!0,configurable:!0}),e.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.configurationService.onDidUpdateConfiguration(function(){return e.onConfigurationChanged()})),this.toUnbind.push(this.contextService.onDidChangeWorkspaceRoots(function(){return e.onDidChangeWorkspaceRoots()}))},e.prototype.onConfigurationChanged=function(){this.updateExcludes(!0)},e.prototype.onDidChangeWorkspaceRoots=function(){this.updateExcludes(!0)},e.prototype.updateExcludes=function(t){var r=this,o=!1;this.contextService.hasWorkspace()&&this.contextService.getWorkspace2().roots.forEach(function(e){var t=r.globFn(e);r.mapRootToExpressionConfig.has(e.toString())&&i.equals(r.mapRootToExpressionConfig.get(e.toString()),t)||(o=!0,r.mapRootToParsedExpression.set(e.toString(),r.parseFn(t)),r.mapRootToExpressionConfig.set(e.toString(),i.clone(t)))}),this.mapRootToExpressionConfig.forEach(function(t,i){i!==e.NO_ROOT&&(r.contextService.getRoot(n.default.parse(i))||(r.mapRootToParsedExpression.delete(i),r.mapRootToExpressionConfig.delete(i),o=!0))});var s=this.globFn();this.mapRootToExpressionConfig.has(e.NO_ROOT)&&i.equals(this.mapRootToExpressionConfig.get(e.NO_ROOT),s)||(o=!0,this.mapRootToParsedExpression.set(e.NO_ROOT,this.parseFn(s)),this.mapRootToExpressionConfig.set(e.NO_ROOT,i.clone(s))),t&&o&&this._onExpressionChange.fire()},e.prototype.matches=function(t){var n,i=this.contextService.getRoot(t);n=i&&this.mapRootToParsedExpression.has(i.toString())?this.mapRootToParsedExpression.get(i.toString()):this.mapRootToParsedExpression.get(e.NO_ROOT);var o;return o=i?r.normalize(r.relative(i.fsPath,t.fsPath)):t.fsPath,!!n(o)},e.prototype.dispose=function(){this.toUnbind=s.dispose(this.toUnbind)},e}();p.NO_ROOT=null,p=v([y(2,o.IWorkspaceContextService),y(3,c.IConfigurationService)],p),t.ResourceGlobMatcher=p}),define(u[74],d([1,0,535,29,5,58]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TAB_ACTIVE_BACKGROUND=i.registerColor("tab.activeBackground",{dark:i.editorBackground,light:i.editorBackground,hc:i.editorBackground},n.localize(0,null)),t.TAB_INACTIVE_BACKGROUND=i.registerColor("tab.inactiveBackground",{dark:"#2D2D2D",light:"#ECECEC",hc:null},n.localize(1,null)),t.TAB_BORDER=i.registerColor("tab.border",{dark:"#252526",light:"#F3F3F3",hc:i.contrastBorder},n.localize(2,null)),t.TAB_ACTIVE_FOREGROUND=i.registerColor("tab.activeForeground",{dark:o.Color.white,light:"#333333",hc:o.Color.white},n.localize(3,null)),t.TAB_INACTIVE_FOREGROUND=i.registerColor("tab.inactiveForeground",{dark:i.transparent(t.TAB_ACTIVE_FOREGROUND,.5),light:i.transparent(t.TAB_ACTIVE_FOREGROUND,.5),hc:o.Color.white},n.localize(4,null)),t.TAB_UNFOCUSED_ACTIVE_FOREGROUND=i.registerColor("tab.unfocusedActiveForeground",{dark:i.transparent(t.TAB_ACTIVE_FOREGROUND,.5),light:i.transparent(t.TAB_ACTIVE_FOREGROUND,.7),hc:o.Color.white},n.localize(5,null)),t.TAB_UNFOCUSED_INACTIVE_FOREGROUND=i.registerColor("tab.unfocusedInactiveForeground",{dark:i.transparent(t.TAB_INACTIVE_FOREGROUND,.5),light:i.transparent(t.TAB_INACTIVE_FOREGROUND,.5),hc:o.Color.white},n.localize(6,null)),t.EDITOR_GROUP_BACKGROUND=i.registerColor("editorGroup.background",{dark:"#2D2D2D",light:"#ECECEC",hc:null},n.localize(7,null)),t.EDITOR_GROUP_HEADER_TABS_BACKGROUND=i.registerColor("editorGroupHeader.tabsBackground",{dark:"#252526",light:"#F3F3F3",hc:null},n.localize(8,null)),t.EDITOR_GROUP_HEADER_TABS_BORDER=i.registerColor("editorGroupHeader.tabsBorder",{dark:null,light:null,hc:i.contrastBorder},n.localize(9,null)),t.EDITOR_GROUP_HEADER_NO_TABS_BACKGROUND=i.registerColor("editorGroupHeader.noTabsBackground",{dark:i.editorBackground,light:i.editorBackground,hc:i.editorBackground},n.localize(10,null)),t.EDITOR_GROUP_BORDER=i.registerColor("editorGroup.border",{dark:"#444444",light:"#E7E7E7",hc:i.contrastBorder},n.localize(11,null)),t.EDITOR_DRAG_AND_DROP_BACKGROUND=i.registerColor("editorGroup.dropBackground",{dark:o.Color.fromHex("#53595D").transparent(.5),light:o.Color.fromHex("#3399FF").transparent(.18),hc:null},n.localize(12,null)),t.PANEL_BACKGROUND=i.registerColor("panel.background",{dark:i.editorBackground,light:i.editorBackground,hc:i.editorBackground},n.localize(13,null)),t.PANEL_BORDER=i.registerColor("panel.border",{dark:o.Color.fromHex("#808080").transparent(.35),light:o.Color.fromHex("#808080").transparent(.35),hc:i.contrastBorder},n.localize(14,null)),t.PANEL_ACTIVE_TITLE_FOREGROUND=i.registerColor("panelTitle.activeForeground",{dark:"#E7E7E7",light:"#424242",hc:o.Color.white},n.localize(15,null)),t.PANEL_INACTIVE_TITLE_FOREGROUND=i.registerColor("panelTitle.inactiveForeground",{dark:i.transparent(t.PANEL_ACTIVE_TITLE_FOREGROUND,.5),light:i.transparent(t.PANEL_ACTIVE_TITLE_FOREGROUND,.75),hc:o.Color.white},n.localize(16,null)),t.PANEL_ACTIVE_TITLE_BORDER=i.registerColor("panelTitle.activeBorder",{dark:t.PANEL_BORDER,light:t.PANEL_BORDER,hc:i.contrastBorder},n.localize(17,null)),t.STATUS_BAR_FOREGROUND=i.registerColor("statusBar.foreground",{dark:"#FFFFFF",light:"#FFFFFF",hc:"#FFFFFF"},n.localize(18,null)),t.STATUS_BAR_BACKGROUND=i.registerColor("statusBar.background",{dark:"#007ACC",light:"#007ACC",hc:null},n.localize(19,null)),t.STATUS_BAR_BORDER=i.registerColor("statusBar.border",{dark:null,light:null,hc:i.contrastBorder},n.localize(20,null)),t.STATUS_BAR_NO_FOLDER_BACKGROUND=i.registerColor("statusBar.noFolderBackground",{dark:"#68217A",light:"#68217A",hc:null},n.localize(21,null)),t.STATUS_BAR_NO_FOLDER_FOREGROUND=i.registerColor("statusBar.noFolderForeground",{dark:t.STATUS_BAR_FOREGROUND,light:t.STATUS_BAR_FOREGROUND,hc:t.STATUS_BAR_FOREGROUND},n.localize(22,null)),t.STATUS_BAR_ITEM_ACTIVE_BACKGROUND=i.registerColor("statusBarItem.activeBackground",{dark:o.Color.white.transparent(.18),light:o.Color.white.transparent(.18),hc:o.Color.white.transparent(.18)},n.localize(23,null)),t.STATUS_BAR_ITEM_HOVER_BACKGROUND=i.registerColor("statusBarItem.hoverBackground",{dark:o.Color.white.transparent(.12),light:o.Color.white.transparent(.12),hc:o.Color.white.transparent(.12)},n.localize(24,null)),t.STATUS_BAR_PROMINENT_ITEM_BACKGROUND=i.registerColor("statusBarItem.prominentBackground",{dark:"#388A34",light:"#388A34",hc:"#3883A4"},n.localize(25,null)),t.STATUS_BAR_PROMINENT_ITEM_HOVER_BACKGROUND=i.registerColor("statusBarItem.prominentHoverBackground",{dark:"#369432",light:"#369432",hc:"#369432"},n.localize(26,null)),t.ACTIVITY_BAR_BACKGROUND=i.registerColor("activityBar.background",{dark:"#333333",light:"#2C2C2C",hc:"#000000"},n.localize(27,null)),t.ACTIVITY_BAR_FOREGROUND=i.registerColor("activityBar.foreground",{dark:o.Color.white,light:o.Color.white,hc:o.Color.white},n.localize(28,null)),t.ACTIVITY_BAR_BORDER=i.registerColor("activityBar.border",{dark:null,light:null,hc:i.contrastBorder},n.localize(29,null)),t.ACTIVITY_BAR_DRAG_AND_DROP_BACKGROUND=i.registerColor("activityBar.dropBackground",{dark:o.Color.white.transparent(.12),light:o.Color.white.transparent(.12),hc:o.Color.white.transparent(.12)},n.localize(30,null)),t.ACTIVITY_BAR_BADGE_BACKGROUND=i.registerColor("activityBarBadge.background",{dark:"#007ACC",light:"#007ACC",hc:"#000000"},n.localize(31,null)),t.ACTIVITY_BAR_BADGE_FOREGROUND=i.registerColor("activityBarBadge.foreground",{dark:o.Color.white,light:o.Color.white,hc:o.Color.white},n.localize(32,null)),t.SIDE_BAR_BACKGROUND=i.registerColor("sideBar.background",{dark:"#252526",light:"#F3F3F3",hc:"#000000"},n.localize(33,null)),t.SIDE_BAR_FOREGROUND=i.registerColor("sideBar.foreground",{dark:null,light:null,hc:null},n.localize(34,null)),t.SIDE_BAR_BORDER=i.registerColor("sideBar.border",{dark:null,light:null,hc:i.contrastBorder},n.localize(35,null)),t.SIDE_BAR_TITLE_FOREGROUND=i.registerColor("sideBarTitle.foreground",{dark:t.SIDE_BAR_FOREGROUND,light:t.SIDE_BAR_FOREGROUND,hc:t.SIDE_BAR_FOREGROUND},n.localize(36,null)),t.SIDE_BAR_SECTION_HEADER_BACKGROUND=i.registerColor("sideBarSectionHeader.background",{dark:o.Color.fromHex("#808080").transparent(.2),light:o.Color.fromHex("#808080").transparent(.2),hc:null},n.localize(37,null)),t.SIDE_BAR_SECTION_HEADER_FOREGROUND=i.registerColor("sideBarSectionHeader.foreground",{dark:t.SIDE_BAR_FOREGROUND,light:t.SIDE_BAR_FOREGROUND,hc:t.SIDE_BAR_FOREGROUND},n.localize(38,null)),t.TITLE_BAR_ACTIVE_FOREGROUND=i.registerColor("titleBar.activeForeground",{dark:"#CCCCCC",light:"#333333",hc:"#FFFFFF"},n.localize(39,null)),t.TITLE_BAR_INACTIVE_FOREGROUND=i.registerColor("titleBar.inactiveForeground",{dark:i.transparent(t.TITLE_BAR_ACTIVE_FOREGROUND,.6),light:i.transparent(t.TITLE_BAR_ACTIVE_FOREGROUND,.6),hc:null},n.localize(40,null)),t.TITLE_BAR_ACTIVE_BACKGROUND=i.registerColor("titleBar.activeBackground",{dark:"#3C3C3C",light:"#DDDDDD",hc:"#000000"},n.localize(41,null)),t.TITLE_BAR_INACTIVE_BACKGROUND=i.registerColor("titleBar.inactiveBackground",{dark:i.transparent(t.TITLE_BAR_ACTIVE_BACKGROUND,.6),light:i.transparent(t.TITLE_BAR_ACTIVE_BACKGROUND,.6),hc:null},n.localize(42,null)),t.NOTIFICATIONS_FOREGROUND=i.registerColor("notification.foreground",{dark:"#EEEEEE",light:"#EEEEEE",hc:"#FFFFFF"},n.localize(43,null)),t.NOTIFICATIONS_BACKGROUND=i.registerColor("notification.background",{dark:"#333333",light:"#2C2C2C",hc:"#000000"},n.localize(44,null)),t.NOTIFICATIONS_BUTTON_BACKGROUND=i.registerColor("notification.buttonBackground",{dark:"#0E639C",light:"#007ACC",hc:null},n.localize(45,null)),t.NOTIFICATIONS_BUTTON_HOVER_BACKGROUND=i.registerColor("notification.buttonHoverBackground",{dark:i.lighten(t.NOTIFICATIONS_BUTTON_BACKGROUND,.2),light:i.darken(t.NOTIFICATIONS_BUTTON_BACKGROUND,.2),hc:null},n.localize(46,null)),t.NOTIFICATIONS_BUTTON_FOREGROUND=i.registerColor("notification.buttonForeground",{dark:o.Color.white,light:o.Color.white,hc:o.Color.white},n.localize(47,null)),t.NOTIFICATIONS_INFO_BACKGROUND=i.registerColor("notification.infoBackground",{dark:"#007acc",light:"#007acc",hc:i.contrastBorder},n.localize(48,null)),t.NOTIFICATIONS_INFO_FOREGROUND=i.registerColor("notification.infoForeground",{dark:t.NOTIFICATIONS_FOREGROUND,light:t.NOTIFICATIONS_FOREGROUND,hc:null},n.localize(49,null)),t.NOTIFICATIONS_WARNING_BACKGROUND=i.registerColor("notification.warningBackground",{dark:"#B89500",light:"#B89500",hc:i.contrastBorder},n.localize(50,null)),t.NOTIFICATIONS_WARNING_FOREGROUND=i.registerColor("notification.warningForeground",{dark:t.NOTIFICATIONS_FOREGROUND,light:t.NOTIFICATIONS_FOREGROUND,hc:null},n.localize(51,null)),t.NOTIFICATIONS_ERROR_BACKGROUND=i.registerColor("notification.errorBackground",{dark:"#BE1100",light:"#BE1100",hc:i.contrastBorder},n.localize(52,null)),t.NOTIFICATIONS_ERROR_FOREGROUND=i.registerColor("notification.errorForeground",{dark:t.NOTIFICATIONS_FOREGROUND,light:t.NOTIFICATIONS_FOREGROUND,hc:null},n.localize(53,null));var s=function(e){function t(t){var n=e.call(this)||this;return n.themeService=t,n._toUnbind=[],n.theme=t.getTheme(),n._toUnbind.push(n.themeService.onThemeChange(function(e){return n.onThemeChange(e)})),n}return h(t,e),Object.defineProperty(t.prototype,"toUnbind",{get:function(){return this._toUnbind},enumerable:!0,configurable:!0}),t.prototype.onThemeChange=function(e){this.theme=e,this.updateStyles()},t.prototype.updateStyles=function(){},t.prototype.getColor=function(e,t){var n=this.theme.getColor(e);return n&&t&&(n=t(n,this.theme)),n?n.toString():null},t.prototype.dispose=function(){this._toUnbind=r.dispose(this._toUnbind),e.prototype.dispose.call(this)},t}(r.Disposable);t.Themable=s}),define(u[313],d([1,0,161,74]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t,i){var r=e.call(this,i)||this;return r.id=t,r.componentMemento=new n.Memento(r.id),r}return h(t,e),t.prototype.getId=function(){return this.id},t.prototype.getMemento=function(e,t){return void 0===t&&(t=n.Scope.GLOBAL),this.componentMemento.getMemento(e,t)},t.prototype.saveMemento=function(){this.componentMemento.saveMemento()},t.prototype.shutdown=function(){this.saveMemento()},t}(i.Themable);t.Component=r}),define(u[353],d([1,0,4,21,313,95,8]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,n,i){var r=e.call(this,t,i)||this;return r._telemetryService=n,r._telemetryData={},r.visible=!1,r._onTitleAreaUpdate=new s.Emitter,r}return h(t,e),t.prototype.getTitle=function(){return null},Object.defineProperty(t.prototype,"telemetryService",{get:function(){return this._telemetryService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onTitleAreaUpdate",{get:function(){return this._onTitleAreaUpdate.event},enumerable:!0,configurable:!0}),t.prototype.create=function(e){return this.parent=e,n.TPromise.as(null)},t.prototype.updateStyles=function(){e.prototype.updateStyles.call(this)},t.prototype.getContainer=function(){return this.parent},t.prototype.setVisible=function(e){if(this.visible=e,e){if(this._telemetryData={},this._telemetryData.startTime=new Date,this._telemetryService&&this._telemetryService.publicLog){t="compositeOpen";this._telemetryService.publicLog(t,{composite:this.getId()})}}else if(this._telemetryData.timeSpent=(Date.now()-this._telemetryData.startTime)/1e3,delete this._telemetryData.startTime,this._telemetryService&&this._telemetryService.publicLog){var t="compositeShown";this._telemetryData.composite=this.getId(),this._telemetryService.publicLog(t,this._telemetryData)}return n.TPromise.as(null)},t.prototype.focus=function(){},t.prototype.getActions=function(){return[]},t.prototype.getSecondaryActions=function(){return[]},t.prototype.getActionItem=function(e){return null},t.prototype.getActionRunner=function(){return this.actionRunner||(this.actionRunner=new i.ActionRunner),this.actionRunner},t.prototype.updateTitleArea=function(){this._onTitleAreaUpdate.fire()},t.prototype.isVisible=function(){return this.visible},t.prototype.getControl=function(){return null},t.prototype.dispose=function(){this._onTitleAreaUpdate.dispose(),e.prototype.dispose.call(this)},t}(r.Component);t.Composite=a;var c=function(e){function t(t,n,i,r,o,s){var a=e.call(this,t,n)||this;return a.id=i,a.name=r,a.cssClass=o,a.order=s,a}return h(t,e),t}(o.AsyncDescriptor);t.CompositeDescriptor=c;var l=function(){function e(){this.composites=[]}return e.prototype.registerComposite=function(e){null===this.compositeById(e.id)&&this.composites.push(e)},e.prototype.getComposite=function(e){return this.compositeById(e)},e.prototype.getComposites=function(){return this.composites.slice(0)},e.prototype.setComposites=function(e){this.composites=e},e.prototype.compositeById=function(e){for(var t=0;t<this.composites.length;t++)if(this.composites[t].id===e)return this.composites[t];return null},e}();t.CompositeRegistry=l}),define(u[106],d([1,0,9,15,353,21]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t}(r.Composite);t.Panel=s;var a=function(e){function t(t,n,i,r,o,s,a){var c=e.call(this,t,n,i,r,o,s)||this;return c._commandId=a,c}return h(t,e),Object.defineProperty(t.prototype,"commandId",{get:function(){return this._commandId},enumerable:!0,configurable:!0}),t}(r.CompositeDescriptor);t.PanelDescriptor=a;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.registerPanel=function(t){e.prototype.registerComposite.call(this,t)},t.prototype.getPanel=function(e){return this.getComposite(e)},t.prototype.getPanels=function(){return this.getComposites()},t.prototype.setDefaultPanelId=function(e){this.defaultPanelId=e},t.prototype.getDefaultPanelId=function(){return this.defaultPanelId},t}(r.CompositeRegistry);t.PanelRegistry=c;var l=function(e){function t(t,n,i,r,o,s){var a=e.call(this,t,n,s)||this;return a.panelService=r,a.partService=o,a.panelId=i,a}return h(t,e),t.prototype.run=function(){return this.isPanelShowing()?this.partService.setPanelHidden(!0):this.panelService.openPanel(this.panelId,!0)},t.prototype.isPanelShowing=function(){var e=this.panelService.getActivePanel();return e&&e.getId()===this.panelId},t.prototype.isPanelFocussed=function(){var e=this.panelService.getActivePanel(),t=document.activeElement;return e&&t&&n.isAncestor(t,e.getContainer().getHTMLElement())},t}(o.Action);t.TogglePanelAction=l,t.Extensions={Panels:"workbench.contributions.panels"},i.Registry.add(t.Extensions.Panels,new c)}),define(u[212],d([1,0,40,313,1026]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t,n,i){var r=e.call(this,t,i)||this;return r.options=n,r}return h(t,e),t.prototype.onThemeChange=function(t){this.parent&&e.prototype.onThemeChange.call(this,t)},t.prototype.create=function(e){this.parent=e,this.titleArea=this.createTitleArea(e),this.contentArea=this.createContentArea(e),this.partLayout=new o(this.parent,this.options,this.titleArea,this.contentArea),this.updateStyles()},t.prototype.getContainer=function(){return this.parent},t.prototype.createTitleArea=function(e){return null},t.prototype.getTitleArea=function(){return this.titleArea},t.prototype.createContentArea=function(e){return null},t.prototype.getContentArea=function(){return this.contentArea},t.prototype.layout=function(e){return this.partLayout.layout(e)},t.prototype.getLayout=function(){return this.partLayout},t}(i.Component);t.Part=r;var o=function(){function e(e,t,n,i){this.container=e,this.options=t,this.titleArea=n,this.contentArea=i}return e.prototype.layout=function(e){var t,i=e.width,r=e.height,o=[];t=this.options&&this.options.hasTitle?new n.Dimension(i,Math.min(r,35)):new n.Dimension(0,0);var s=new n.Dimension(i,r-t.height);return this.options&&"function"==typeof this.options.borderWidth&&(s.width-=this.options.borderWidth()),o.push(t),o.push(s),this.contentArea&&this.contentArea.size(s.width,s.height),o},e}();t.PartLayout=o}),define(u[98],d([1,0,4,24,15,106,30,95]),function(e,t,n,i,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}return h(t,e),Object.defineProperty(t.prototype,"input",{get:function(){return this._input},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),t.prototype.setInput=function(e,t){return this._input=e,this._options=t,n.TPromise.as(null)},t.prototype.clearInput=function(){this._input=null,this._options=null},t.prototype.create=function(t){var n=e.prototype.create.call(this,t);return this.createEditor(t),n},t.prototype.setVisible=function(t,n){void 0===n&&(n=null);var i=e.prototype.setVisible.call(this,t);return this.setEditorVisible(t,n),i},t.prototype.setEditorVisible=function(e,t){void 0===t&&(t=null),this._position=t},t.prototype.changePosition=function(e){this._position=e},Object.defineProperty(t.prototype,"position",{get:function(){return this._position},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._input=null,this._options=null,e.prototype.dispose.call(this)},t}(o.Panel);t.BaseEditor=c;var l=function(e){function t(t,n,i,r){var o=e.call(this,i,r)||this;return o.id=t,o.name=n,o}return h(t,e),t.prototype.getId=function(){return this.id},t.prototype.getName=function(){return this.name},t.prototype.describes=function(e){return e instanceof c&&e.getId()===this.id},t}(a.AsyncDescriptor);t.EditorDescriptor=l;var u=function(){function e(){this.editorInputFactoryConstructors=Object.create(null),this.editorInputFactoryInstances=Object.create(null),this.editors=[]}return e.prototype.setInstantiationService=function(e){this.instantiationService=e;for(var t in this.editorInputFactoryConstructors){var n=this.editorInputFactoryConstructors[t];this.createEditorInputFactory(t,n)}this.editorInputFactoryConstructors={}},e.prototype.createEditorInputFactory=function(e,t){var n=this.instantiationService.createInstance(t);this.editorInputFactoryInstances[e]=n},e.prototype.registerEditor=function(e,t){var n=[];i.isArray(t)?n=t:n.push(t),e.__$inputDescriptors=n,this.editors.push(e)},e.prototype.getEditor=function(e){var t=this,n=function(e,i){for(var r=[],o=0;o<t.editors.length;o++)for(var s=t.editors[o],a=s.__$inputDescriptors,c=0;c<a.length;c++){var l=a[c].ctor;if(!i&&e.constructor===l){r.push(s);break}if(i&&e instanceof l){r.push(s);break}}return i||0!==r.length?r:n(e,!0)},i=n(e);if(i&&i.length>0){var r=e.getPreferredEditorId(i.map(function(e){return e.getId()}));return r?this.getEditorById(r):i[0]}return null},e.prototype.getEditorById=function(e){for(var t=0;t<this.editors.length;t++){var n=this.editors[t];if(n.getId()===e)return n}return null},e.prototype.getEditors=function(){return this.editors.slice(0)},e.prototype.setEditors=function(e){this.editors=e},e.prototype.getEditorInputs=function(){for(var e=[],t=0;t<this.editors.length;t++){var n=this.editors[t].__$inputDescriptors;e.push.apply(e,n.map(function(e){return e.ctor}))}return e},e.prototype.registerFileInputFactory=function(e){this.fileInputFactory=e},e.prototype.getFileInputFactory=function(){return this.fileInputFactory},e.prototype.registerEditorInputFactory=function(e,t){this.instantiationService?this.createEditorInputFactory(e,t):this.editorInputFactoryConstructors[e]=t},e.prototype.getEditorInputFactory=function(e){return this.editorInputFactoryInstances[e]},e}();r.Registry.add(s.Extensions.Editors,new u)}),define(u[309],d([1,0,514,8,4,40,799,98,268,127,113]),function(e,t,n,i,r,o,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(e){function t(t,n,r,o){var s=e.call(this,t,n,r)||this;return s.windowsService=o,s._onMetadataChanged=new i.Emitter,s}return h(t,e),Object.defineProperty(t.prototype,"onMetadataChanged",{get:function(){return this._onMetadataChanged.event},enumerable:!0,configurable:!0}),t.prototype.getTitle=function(){return this.input?this.input.getName():n.localize(0,null)},t.prototype.createEditor=function(e){var t=document.createElement("div");t.className="binary-container",this.binaryContainer=o.$(t),this.binaryContainer.style("outline","none"),this.binaryContainer.tabindex(0),this.scrollbar=new l.DomScrollableElement(t,{horizontal:u.ScrollbarVisibility.Auto,vertical:u.ScrollbarVisibility.Auto}),e.getHTMLElement().appendChild(this.scrollbar.getDomNode())},t.prototype.setInput=function(t,n){var i=this,o=this.input;return e.prototype.setInput.call(this,t,n),!(n&&n.forceOpen)&&t.matches(o)?r.TPromise.as(null):t.resolve(!0).then(function(e){if(!(e instanceof c.BinaryEditorModel))return r.TPromise.wrapError(new Error("Unable to open file as binary"));if(!i.input||i.input!==t)return null;var n=e;return s.ResourceViewer.show({name:n.getName(),resource:n.getResource(),size:n.getSize(),etag:n.getETag()},i.binaryContainer,i.scrollbar,function(e){i.windowsService.openExternal(e.toString()).then(function(t){if(!t)return i.windowsService.showItemInFolder(e.fsPath)})},function(e){return i.handleMetadataChanged(e)}),r.TPromise.as(null)})},t.prototype.handleMetadataChanged=function(e){this.metadata=e,this._onMetadataChanged.fire()},t.prototype.getMetadata=function(){return this.metadata},t.prototype.clearInput=function(){this.handleMetadataChanged(null),o.$(this.binaryContainer).empty(),e.prototype.clearInput.call(this)},t.prototype.layout=function(e){this.binaryContainer.size(e.width,e.height),this.scrollbar.scanDomNode()},t.prototype.focus=function(){this.binaryContainer.domFocus()},t.prototype.dispose=function(){this.binaryContainer.destroy(),this.scrollbar.dispose(),e.prototype.dispose.call(this)},t}(a.BaseEditor);t.BaseBinaryResourceEditor=d}),define(u[341],d([1,0,4,12,9,40,15,30,98,151,19,6,13,29]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=function(e){function t(n,i,r){var o=e.call(this,t.ID,n,r)||this;return o.instantiationService=i,o}return h(t,e),t.prototype.createEditor=function(e){var t=e.getHTMLElement();r.addClass(t,"side-by-side-editor"),this.createSash(t)},t.prototype.setInput=function(t,n){var i=this,r=this.input;return e.prototype.setInput.call(this,t,n).then(function(){return i.updateInput(r,t,n)})},t.prototype.setEditorVisible=function(t,n){this.masterEditor&&this.masterEditor.setVisible(t,n),this.detailsEditor&&this.detailsEditor.setVisible(t,n),e.prototype.setEditorVisible.call(this,t,n)},t.prototype.changePosition=function(t){this.masterEditor&&this.masterEditor.changePosition(t),this.detailsEditor&&this.detailsEditor.changePosition(t),e.prototype.changePosition.call(this,t)},t.prototype.clearInput=function(){this.masterEditor&&this.masterEditor.clearInput(),this.detailsEditor&&this.detailsEditor.clearInput(),this.disposeEditors(),e.prototype.clearInput.call(this)},t.prototype.focus=function(){this.masterEditor&&this.masterEditor.focus()},t.prototype.layout=function(e){this.dimension=e,this.sash.setDimenesion(this.dimension)},t.prototype.getControl=function(){return this.masterEditor?this.masterEditor.getControl():null},t.prototype.getMasterEditor=function(){return this.masterEditor},t.prototype.getDetailsEditor=function(){return this.detailsEditor},t.prototype.updateInput=function(e,t,n){return t.matches(e)?(this.detailsEditor.setInput(t.details),void this.masterEditor.setInput(t.master,n)):(e&&this.disposeEditors(),this.createEditorContainers(),this.setNewInput(t,n))},t.prototype.setNewInput=function(e,t){var i=this;return n.TPromise.join([this._createEditor(e.details,this.detailsEditorContainer),this._createEditor(e.master,this.masterEditorContainer)]).then(function(n){return i.onEditorsCreated(n[0],n[1],e.details,e.master,t)})},t.prototype._createEditor=function(e,t){var r=this,c=s.Registry.as(a.Extensions.Editors).getEditor(e);return c?this.instantiationService.createInstance(c).then(function(e){return e.create(new o.Builder(t)),e.setVisible(r.isVisible(),r.position),e}):n.TPromise.wrapError(new Error(i.format("Can not find a registered editor for the input {0}",e)))},t.prototype.onEditorsCreated=function(e,t,i,r,o){var s=this;return this.detailsEditor=e,this.masterEditor=t,this.dolayout(this.sash.getVerticalSashLeft()),n.TPromise.join([this.detailsEditor.setInput(i),this.masterEditor.setInput(r,o)]).then(function(){return s.focus()})},t.prototype.createEditorContainers=function(){var e=this.getContainer().getHTMLElement();this.detailsEditorContainer=r.append(e,r.$(".details-editor-container")),this.detailsEditorContainer.style.position="absolute",this.masterEditorContainer=r.append(e,r.$(".master-editor-container")),this.masterEditorContainer.style.position="absolute",this.updateStyles()},t.prototype.updateStyles=function(){e.prototype.updateStyles.call(this),this.masterEditorContainer&&(this.masterEditorContainer.style.boxShadow="-6px 0 5px -5px "+this.getColor(f.scrollbarShadow))},t.prototype.createSash=function(e){var t=this;this.sash=this._register(new l.VSash(e,220)),this._register(this.sash.onPositionChange(function(e){return t.dolayout(e)}))},t.prototype.dolayout=function(e){if(this.detailsEditor&&this.masterEditor&&this.dimension){var t=this.dimension.width-e,n=this.dimension.width-t;this.detailsEditorContainer.style.width=n+"px",this.detailsEditorContainer.style.height=this.dimension.height+"px",this.detailsEditorContainer.style.left="0px",this.masterEditorContainer.style.width=t+"px",this.masterEditorContainer.style.height=this.dimension.height+"px",this.masterEditorContainer.style.left=e+"px",this.detailsEditor.layout(new o.Dimension(n,this.dimension.height)),this.masterEditor.layout(new o.Dimension(t,this.dimension.height))}},t.prototype.disposeEditors=function(){var e=this.getContainer().getHTMLElement();this.detailsEditor&&(this.detailsEditor.dispose(),this.detailsEditor=null),this.masterEditor&&(this.masterEditor.dispose(),this.masterEditor=null),this.detailsEditorContainer&&(e.removeChild(this.detailsEditorContainer),this.detailsEditorContainer=null),this.masterEditorContainer&&(e.removeChild(this.masterEditorContainer),this.masterEditorContainer=null)},t.prototype.dispose=function(){this.disposeEditors(),e.prototype.dispose.call(this)},t}(c.BaseEditor);g.ID="workbench.editor.sidebysideEditor",g=v([y(0,u.ITelemetryService),y(1,d.IInstantiationService),y(2,p.IThemeService)],g),t.SideBySideEditor=g}),define(u[339],d([1,0,513,30,19,13,341,6,309]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}return h(t,e),t.prototype.getMetadata=function(){var e=this.masterEditor,t=this.detailsEditor;return e instanceof c.BaseBinaryResourceEditor&&t instanceof c.BaseBinaryResourceEditor?n.localize(0,null,t.getMetadata(),e.getMetadata()):null},t}(s.SideBySideEditor);l.ID=i.BINARY_DIFF_EDITOR_ID,l=v([y(0,r.ITelemetryService),y(1,a.IInstantiationService),y(2,o.IThemeService)],l),t.BinaryResourceDiffEditor=l}),define(u[338],d([1,0,98,161]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t,n,i,r){var o=e.call(this,t,n,i)||this;return o.storageService=r,o}return h(t,e),Object.defineProperty(t.prototype,"viewStateStorageKey",{get:function(){return this.getId()+".editorViewState"},enumerable:!0,configurable:!0}),t.prototype.saveViewState=function(e,t){var n=this.getMemento(this.storageService,i.Scope.WORKSPACE),r=n[this.viewStateStorageKey];r||(r=Object.create(null),n[this.viewStateStorageKey]=r);var o=r[e.toString()];o||(o=Object.create(null),r[e.toString()]=o),"number"==typeof this.position&&(o[this.position]=t)},t.prototype.loadViewState=function(e){var t=this.getMemento(this.storageService,i.Scope.WORKSPACE)[this.viewStateStorageKey];if(t){var n=t[e.toString()];if(n)return n[this.position]}return null},t}(n.BaseEditor);t.WebviewEditor=r}),define(u[963],d([1,0,5,7,4,52,76,39,19]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){this._disposables=[],this._telemetryService=e,this._environmentService=t,this._handleCachedDataInfo(),this._manageCachedDataSoon()}return e.prototype.dispose=function(){this._disposables=n.dispose(this._disposables)},e.prototype._handleCachedDataInfo=function(){for(var e=!1,t=!1,n=0,i=MonacoEnvironment.onNodeCachedData;n<i.length;n++){var r=i[n],s=r[0],a=r[1];e=e||Boolean(s),t=t||Boolean(a),s&&this._telemetryService.publicLog("cachedDataError",{errorCode:s.errorCode,path:o.basename(s.path)})}this._telemetryService.publicLog("cachedDataInfo",{didRequestCachedData:Boolean(global.require.getConfig().nodeCachedDataDir),didRejectCachedData:e,didProduceCachedData:t}),global.require.config({onNodeCachedData:void 0}),delete MonacoEnvironment.onNodeCachedData},e.prototype._manageCachedDataSoon=function(){var e=this._environmentService.nodeCachedDataDir;if(e){var t=setTimeout(function(){t=void 0,s.readdir(e).then(function(t){var n=Date.now(),i=t.map(function(t){var i=o.join(e,t);return s.stat(i).then(function(e){if(n-e.mtime.getTime()>7776e6)return s.rimraf(i)})});return r.TPromise.join(i)}).done(void 0,i.onUnexpectedError)},3e4);this._disposables.push({dispose:function(){clearTimeout(t)}})}},e}();l=v([y(0,c.ITelemetryService),y(1,a.IEnvironmentService)],l),t.NodeCachedDataManager=l}),define(u[964],d([1,0,544,11,76,36,4,131,52,94,24,450,324,141,273]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var v="package.json",m=!!process.env.VSCODE_DEV,y={locale:i.locale,pseudo:"pseudo"===i.locale},b=function(){function e(){this._messages=[]}return e.prototype.getMessages=function(){return this._messages},e.prototype._msg=function(e,t,n){this._messages.push({type:t,message:n,source:e,extensionId:void 0,extensionPointId:void 0})},e.prototype.error=function(e,t){this._msg(e,o.default.Error,t)},e.prototype.warn=function(e,t){this._msg(e,o.default.Warning,t)},e.prototype.info=function(e,t){this._msg(e,o.default.Info,t)},e}();t.MessagesCollector=b;var S=function(){return function(e,t,n,i){this._ourVersion=e,this._collector=t,this._absoluteFolderPath=n,this._isBuiltin=i,this._absoluteManifestPath=c.join(n,v)}}(),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.parse=function(){var e=this;return r.readFile(this._absoluteManifestPath).then(function(t){try{return JSON.parse(t.toString())}catch(t){e._collector.error(e._absoluteFolderPath,n.localize(0,null,e._absoluteManifestPath,g.getParseErrorMessage(t.message)))}return null},function(t){return"ENOENT"===t.code?null:(e._collector.error(e._absoluteFolderPath,n.localize(1,null,e._absoluteManifestPath,t.message)),null)})},t}(S),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.replaceNLS=function(e){var i=this,o=c.extname(this._absoluteManifestPath),s=this._absoluteManifestPath.substr(0,this._absoluteManifestPath.length-o.length);return r.fileExists(s+".nls"+o).then(function(o){return o?t.findMessageBundles(s).then(function(o){return o.localized?r.readFile(o.localized).then(function(r){var s=[],a=l.parse(r.toString(),s);return t.resolveOriginalMessageBundle(o.original,s).then(function(r){return s.length>0?(s.forEach(function(e){i._collector.error(i._absoluteFolderPath,n.localize(2,null,o.localized,o.original,g.getParseErrorMessage(e.error)))}),e):(t._replaceNLStrings(e,a,r,i._collector,i._absoluteFolderPath),e)})},function(e){return i._collector.error(i._absoluteFolderPath,n.localize(3,null,o.localized,e.message)),null}):e}):e})},t.resolveOriginalMessageBundle=function(e,t){return new s.TPromise(function(n,i,o){e?r.readFile(e).then(function(e){n(l.parse(e.toString(),t))}):n(null)})},t.findMessageBundles=function(e){return new s.TPromise(function(t,n,i){function o(e,n){var i=e+".nls."+n+".json";r.fileExists(i).then(function(r){r&&t({localized:i,original:e+".nls.json"});var s=n.lastIndexOf("-");-1===s?t({localized:e+".nls.json",original:null}):(n=n.substring(0,s),o(e,n))})}if(m||y.pseudo||!y.locale)return t({localized:e+".nls.json",original:null});o(e,y.locale)})},t._replaceNLStrings=function(e,t,i,r,o){function s(e,a,c){var l=e[a];if(u.isString(l)){var d=l,h=d.length;if(h>1&&"%"===d[0]&&"%"===d[h-1]){var p=d.substr(1,h-2),f=t[p];f?(y.pseudo&&(f="［"+f.replace(/[aouei]/g,"$&$&")+"］"),e[a]=c&&("title"===a||"category"===a)&&i?{value:f,original:i[p]}:f):r.warn(o,n.localize(4,null,p))}}else if(u.isObject(l))for(var g in l)l.hasOwnProperty(g)&&("commands"===g?s(l,g,!0):s(l,g,c));else if(u.isArray(l))for(var v=0;v<l.length;v++)s(l,v,c)}for(var a in e)e.hasOwnProperty(a)&&s(e,a)},t}(S),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.validate=function(e){var t=this,n=e;n.isBuiltin=this._isBuiltin;var i=[];return d.isValidExtensionDescription(this._ourVersion,this._absoluteFolderPath,n,i)?(i.forEach(function(e){t._collector.warn(t._absoluteFolderPath,e)}),n.id=n.publisher+"."+n.name,n.main&&(n.main=c.join(this._absoluteFolderPath,n.main)),n.extensionFolderPath=this._absoluteFolderPath,n):(i.forEach(function(e){t._collector.error(t._absoluteFolderPath,e)}),null)},t}(S),w=function(){function e(){}return e.scanExtension=function(e,t,n,i){return n=c.normalize(n),new _(e,t,n,i).parse().then(function(r){return null===r?null:new E(e,t,n,i).replaceNLS(r)}).then(function(r){return null===r?null:new C(e,t,n,i).validate(r)})},e.scanExtensions=function(e,t,n,i){var o=this,l=s.TPromise.as({});return i||(l=r.readFile(c.join(n,".obsolete"),"utf8").then(function(e){return JSON.parse(e)}).then(null,function(e){return{}})),l.then(function(l){return r.readDirsInDir(n).then(function(e){if(i)return e;var t=[],n=[];e.forEach(function(e){if(!l[e]){var i=f.getIdAndVersionFromLocalExtensionId(e),r=i.id,o=i.version;r&&o?n.push({folder:e,id:r,version:o}):t.push(e)}});var r=a.values(a.groupBy(n,function(e){return e.id})).map(function(e){return e.sort(function(e,t){return p.rcompare(e.version,t.version)})[0]}).map(function(e){return e.folder});return t.concat(r)}).then(function(r){return s.TPromise.join(r.map(function(r){return o.scanExtension(e,t,c.join(n,r),i)}))}).then(function(e){return e.filter(function(e){return null!==e})}).then(null,function(e){return t.error(n,e),[]})})},e.scanOneOrMultipleExtensions=function(e,t,n,i){var o=this;return r.fileExists(c.join(n,v)).then(function(r){return r?o.scanExtension(e,t,n,i).then(function(e){return null===e?[]:[e]}):o.scanExtensions(e,t,n,i)},function(e){return t.error(n,e),[]})},e}();t.ExtensionScanner=w}),define(u[337],d([1,0,5,68]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o=function(e){function t(t){var n=e.call(this)||this;return n._editor=t,n._altListeningMouse=!1,n._altMouseTriggered=!1,n._register(n._editor.onMouseDown(function(e){n._altListeningMouse&&(n._altMouseTriggered=!0)})),n._register(n._editor.onKeyDown(function(e){e.equals(512)&&(n._altListeningMouse||(n._altMouseTriggered=!1),n._altListeningMouse=!0)})),n._register(n._editor.onKeyUp(function(e){e.equals(512)&&(n._altMouseTriggered&&e.preventDefault(),n._altListeningMouse=!1,n._altMouseTriggered=!1)})),n}return h(t,e),t.prototype.getId=function(){return o.ID},t}(n.Disposable);r.ID="editor.contrib.menuPreventer",r=o=v([i.editorContribution],r),t.MenuPreventer=r;var o}),define(u[335],d([1,0,97,11,5,33,68,17,18,14]),function(e,t,n,i,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=d=function(e){function t(t,r){var s=e.call(this)||this;if(i.isLinux){var a=t.getConfiguration().contribInfo.selectionClipboard;s._register(t.onDidChangeConfiguration(function(e){e.contribInfo&&(a=t.getConfiguration().contribInfo.selectionClipboard)})),s._register(t.onMouseDown(function(e){a&&t.getModel()&&e.event.middleButton&&(e.event.preventDefault(),t.focus(),e.target.position&&t.setPosition(e.target.position),process.nextTick(function(){n.clipboard.readText("selection")}))}));var u=s._register(new c.RunOnceScheduler(function(){var e=t.getModel();if(e){var i=t.getSelections();(i=i.slice(0)).sort(l.Range.compareRangesUsingStarts);for(var r=[],s=0;s<i.length;s++){var a=i[s];if(a.isEmpty())return;r.push(e.getValueInRange(a,o.EndOfLinePreference.TextDefined))}var c=r.join(e.getEOL());n.clipboard.writeText(c,"selection")}},100));s._register(t.onDidChangeCursorSelection(function(e){a&&u.schedule()}))}return s}return h(t,e),t.prototype.getId=function(){return d.ID},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t}(r.Disposable);u.ID="editor.contrib.selectionClipboard",u=d=v([s.editorContribution,y(1,a.IContextKeyService)],u),t.SelectionClipboard=u;var d}),define(u[967],d([1,0,553,25,56,35,17,5,20,36,124,146,993]),function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";function p(e,t,n){n.setTransientModelProperty(e,_,t)}function f(e,t){return t.getTransientModelProperty(e,_)}function g(e,t,n){var i=t.getConfiguration(e.uri,"editor"),r=!i||"string"!=typeof i.wordWrap&&"boolean"!=typeof i.wordWrap?void 0:i.wordWrap;!0===r?r="on":!1===r&&(r="off");var o=i&&"boolean"==typeof i.wordWrapMinified?i.wordWrapMinified:void 0,s=f(e,n);return{configuredWordWrap:r,configuredWordWrapMinified:"boolean"==typeof o?o:u.EDITOR_DEFAULTS.wordWrapMinified,transientState:s}}function m(e,t){if(t.transientState)return{configuredWordWrap:t.configuredWordWrap,configuredWordWrapMinified:t.configuredWordWrapMinified,transientState:null};var n;return n=e.getConfiguration().wrappingInfo.isWordWrapMinified?{forceWordWrap:"off",forceWordWrapMinified:!1}:"off"!==t.configuredWordWrap?{forceWordWrap:"off",forceWordWrapMinified:!1}:{forceWordWrap:"on",forceWordWrapMinified:t.configuredWordWrapMinified},{configuredWordWrap:t.configuredWordWrap,configuredWordWrapMinified:t.configuredWordWrapMinified,transientState:n}}function b(e,t){t.transientState?e.updateOptions({wordWrap:t.transientState.forceWordWrap,wordWrapMinified:t.transientState.forceWordWrapMinified}):e.updateOptions({wordWrap:t.configuredWordWrap,wordWrapMinified:t.configuredWordWrapMinified})}function S(e){return!!e&&("output"!==e.scheme&&"vscode"!==e.scheme)}Object.defineProperty(t,"__esModule",{value:!0});var _="transientWordWrapState",E="isWordWrapMinified",C="isDominatedByLongLines",w="inDiffEditor",I=function(e){function t(){return e.call(this,{id:"editor.action.toggleWordWrap",label:n.localize(0,null),alias:"View: Toggle Word Wrap",precondition:null,kbOpts:{kbExpr:null,primary:568}})||this}return h(t,e),t.prototype.run=function(e,t){if(t.getConfiguration().wrappingInfo.inDiffEditor)e.get(c.IMessageService).show(l.default.Info,n.localize(1,null));else{var i=e.get(d.ITextResourceConfigurationService),o=e.get(r.ICodeEditorService),s=t.getModel();if(S(s.uri)){var a=m(t,g(s,i,o));p(s,a.transientState,o),b(t,a)}}},t}(i.EditorAction);I=v([i.editorAction],I);var T=k=function(e){function t(t,n,i,r){var o=e.call(this)||this;o.editor=t,o.contextKeyService=n,o.configurationService=i,o.codeEditorService=r;var s=o.editor.getConfiguration(),a=o.contextKeyService.createKey(E,o._isWordWrapMinified(s)),c=o.contextKeyService.createKey(C,o._isDominatedByLongLines(s)),l=o.contextKeyService.createKey(w,o._inDiffEditor(s));return o._register(t.onDidChangeConfiguration(function(e){if(e.wrappingInfo){var t=o.editor.getConfiguration();a.set(o._isWordWrapMinified(t)),c.set(o._isDominatedByLongLines(t)),l.set(o._inDiffEditor(t))}})),o._register(t.onDidChangeModel(function(e){var n=o.editor.getModel();if(n){var i=o.editor.getConfiguration();if(!o._inDiffEditor(i)&&S(n.uri)){var r=g(n,o.configurationService,o.codeEditorService);b(t,r)}}})),o}return h(t,e),t.prototype._isWordWrapMinified=function(e){return e.wrappingInfo.isWordWrapMinified},t.prototype._isDominatedByLongLines=function(e){return e.wrappingInfo.isDominatedByLongLines},t.prototype._inDiffEditor=function(e){return e.wrappingInfo.inDiffEditor},t.prototype.getId=function(){return k._ID},t}(a.Disposable);T._ID="editor.contrib.toggleWordWrapController",T=k=v([i.commonEditorContribution,y(1,s.IContextKeyService),y(2,d.ITextResourceConfigurationService),y(3,r.ICodeEditorService)],T),o.MenuRegistry.appendMenuItem(o.MenuId.EditorTitle,{command:{id:"editor.action.toggleWordWrap",title:n.localize(2,null),iconClass:"toggle-word-wrap-action"},group:"navigation",order:1,when:s.ContextKeyExpr.and(s.ContextKeyExpr.not(w),s.ContextKeyExpr.has(C),s.ContextKeyExpr.has(E))}),o.MenuRegistry.appendMenuItem(o.MenuId.EditorTitle,{command:{id:"editor.action.toggleWordWrap",title:n.localize(3,null),iconClass:"toggle-word-wrap-action"},group:"navigation",order:1,when:s.ContextKeyExpr.and(s.ContextKeyExpr.not(w),s.ContextKeyExpr.has(C),s.ContextKeyExpr.not(E))});var k}),define(u[67],d([1,0,565,6,17]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VIEWLET_ID="workbench.view.debug",t.REPL_ID="workbench.panel.repl",t.DEBUG_SERVICE_ID="debugService",t.CONTEXT_DEBUG_TYPE=new r.RawContextKey("debugType",void 0),t.CONTEXT_DEBUG_STATE=new r.RawContextKey("debugState",void 0),t.CONTEXT_IN_DEBUG_MODE=new r.RawContextKey("inDebugMode",!1),t.CONTEXT_NOT_IN_DEBUG_MODE=t.CONTEXT_IN_DEBUG_MODE.toNegated(),t.CONTEXT_IN_DEBUG_REPL=new r.RawContextKey("inDebugRepl",!1),t.CONTEXT_NOT_IN_DEBUG_REPL=t.CONTEXT_IN_DEBUG_REPL.toNegated(),t.CONTEXT_ON_FIRST_DEBUG_REPL_LINE=new r.RawContextKey("onFirsteDebugReplLine",!1),t.CONTEXT_ON_LAST_DEBUG_REPL_LINE=new r.RawContextKey("onLastDebugReplLine",!1),t.CONTEXT_BREAKPOINT_WIDGET_VISIBLE=new r.RawContextKey("breakpointWidgetVisible",!1),t.CONTEXT_BREAKPOINTS_FOCUSED=new r.RawContextKey("breakpointsFocused",!1),t.CONTEXT_WATCH_EXPRESSIONS_FOCUSED=new r.RawContextKey("watchExpressionsFocused",!1),t.CONTEXT_VARIABLES_FOCUSED=new r.RawContextKey("variablesFocused",!1),t.EDITOR_CONTRIBUTION_ID="editor.contrib.debug",t.DEBUG_SCHEME="debug",t.INTERNAL_CONSOLE_OPTIONS_SCHEMA={enum:["neverOpen","openOnSessionStart","openOnFirstSessionStart"],default:"openOnFirstSessionStart",description:n.localize(0,null)};!function(e){e[e.INACTIVE=0]="INACTIVE",e[e.ATTACH=1]="ATTACH",e[e.LAUNCH=2]="LAUNCH"}(t.ProcessState||(t.ProcessState={}));!function(e){e[e.Inactive=0]="Inactive",e[e.Initializing=1]="Initializing",e[e.Stopped=2]="Stopped",e[e.Running=3]="Running"}(t.State||(t.State={})),t.IDebugService=i.createDecorator(t.DEBUG_SERVICE_ID);var o=/{([^}]+)}/g;t.formatPII=function(e,t,n){return e.replace(o,function(e,i){return t&&i.length>0&&"_"!==i[0]?e:n&&n.hasOwnProperty(i)?n[i]:e})}}),define(u[969],d([1,0,555,7,11,315,5,9,110,260,41,67,179,55,13,991]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m=a.$,b=n.localize(0,null),S=n.localize(1,null),_=n.localize(2,null),E=n.localize(3,null),C=function(e){function t(t,n,i,r,o,s){var a=e.call(this,t,{showFrame:!0,showArrow:!1,frameWidth:1})||this;return a.lineNumber=n,a.column=i,a.contextViewService=r,a.debugService=o,a.themeService=s,a.toDispose=[],a.hitCountInput="",a.conditionInput="",a.create(),a}return h(t,e),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this.hitCountContext?_:b},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ariaLabel",{get:function(){return this.hitCountContext?E:S},enumerable:!0,configurable:!0}),t.prototype.getInputBoxValue=function(e){return this.hitCountContext?e&&e.hitCondition?e.hitCondition:this.hitCountInput:e&&e.condition?e.condition:this.conditionInput},t.prototype._fillContainer=function(e){var t=this;this.setCssClass("breakpoint-widget");var s=this.editor.getModel().uri,l=this.debugService.getModel().getBreakpoints().filter(function(e){return e.lineNumber===t.lineNumber&&e.column===t.column&&e.uri.toString()===s.toString()}).pop();this.hitCountContext=l&&l.hitCondition&&!l.condition;var u=this.hitCountContext?1:0,d=new o.SelectBox([n.localize(4,null),n.localize(5,null)],u);this.toDispose.push(f.attachSelectBoxStyler(d,this.themeService)),d.render(a.append(e,m(".breakpoint-select-container"))),d.onDidSelect(function(e){t.hitCountContext="Hit Count"===e,t.hitCountContext?t.conditionInput=t.inputBox.value:t.hitCountInput=t.inputBox.value,t.inputBox.setAriaLabel(t.ariaLabel),t.inputBox.setPlaceHolder(t.placeholder),t.inputBox.value=t.getInputBoxValue(l)});var h=a.append(e,m(".inputBoxContainer"));this.inputBox=new c.InputBox(h,this.contextViewService,{placeholder:this.placeholder,ariaLabel:this.ariaLabel}),this.toDispose.push(f.attachInputBoxStyler(this.inputBox,this.themeService)),this.toDispose.push(this.inputBox),a.addClass(this.inputBox.inputElement,r.isWindows?"windows":r.isMacintosh?"mac":"linux"),this.inputBox.value=this.getInputBoxValue(l),setTimeout(function(){return t.inputBox.focus()},0);var g=!1,v=p.once(function(e){if(!g){if(g=!0,e){var n=t.debugService.getModel().getBreakpoints().filter(function(e){return e.lineNumber===t.lineNumber&&e.column===t.column&&e.uri.toString()===s.toString()}).pop(),r={lineNumber:t.lineNumber,column:n?n.column:void 0,enabled:!0,condition:n&&n.condition,hitCondition:n&&n.hitCondition};t.hitCountContext?(r.hitCondition=t.inputBox.value,t.conditionInput&&(r.condition=t.conditionInput)):(r.condition=t.inputBox.value,t.hitCountInput&&(r.hitCondition=t.hitCountInput)),n&&t.debugService.removeBreakpoints(n.getId()).done(null,i.onUnexpectedError),t.debugService.addBreakpoints(s,[r]).done(null,i.onUnexpectedError)}t.dispose()}});this.toDispose.push(a.addStandardDisposableListener(this.inputBox.inputElement,"keydown",function(e){var t=e.equals(9),n=e.equals(3);(t||n)&&(e.stopPropagation(),v(n))}))},t.prototype.dispose=function(){var t=this;e.prototype.dispose.call(this),s.dispose(this.toDispose),setTimeout(function(){return t.editor.focus()},0)},t}(l.ZoneWidget);C=v([y(3,u.IContextViewService),y(4,d.IDebugService),y(5,g.IThemeService)],C),t.BreakpointWidget=C}),define(u[333],d([1,0,556,5,7,9,89,315,49,81,23,32,67,13,55,74,29]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var S=o.$,_=function(e){function t(t,n,i,r,o,s){var c=e.call(this)||this;return c.context=t,c.action=n,c.debugService=i,c.themeService=r,c.configurationService=o,c.commandService=s,c.toDispose=[],c.selectBox=new a.SelectBox([],-1),c.toDispose.push(g.attachSelectBoxStyler(c.selectBox,r,{selectBackground:m.SIDE_BAR_BACKGROUND})),c.registerListeners(),c}return h(t,e),t.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.configurationService.onDidUpdateConfiguration(function(t){t.sourceConfig.launch&&e.updateOptions()})),this.toDispose.push(this.selectBox.onDidSelect(function(n){n===t.ADD_CONFIGURATION?(e.selectBox.select(e.debugService.getConfigurationManager().getConfigurationNames().indexOf(e.debugService.getViewModel().selectedConfigurationName)),e.commandService.executeCommand("debug.addConfiguration").done(void 0,r.onUnexpectedError)):e.debugService.getViewModel().setSelectedConfigurationName(n)})),this.toDispose.push(this.debugService.getViewModel().onDidSelectConfiguration(function(t){var n=e.debugService.getConfigurationManager();e.selectBox.select(n.getConfigurationNames().indexOf(t))}))},t.prototype.render=function(e){var t=this;this.container=e,o.addClass(e,"start-debug-action-item"),this.start=o.append(e,S(".icon")),this.start.title=this.action.label,this.start.tabIndex=0,this.toDispose.push(o.addDisposableListener(this.start,o.EventType.CLICK,function(){t.start.blur(),t.actionRunner.run(t.action,t.context).done(null,r.onUnexpectedError)})),this.toDispose.push(o.addDisposableListener(this.start,o.EventType.MOUSE_DOWN,function(e){t.action.enabled&&0===e.button&&o.addClass(t.start,"active")})),this.toDispose.push(o.addDisposableListener(this.start,o.EventType.MOUSE_UP,function(){o.removeClass(t.start,"active")})),this.toDispose.push(o.addDisposableListener(this.start,o.EventType.MOUSE_OUT,function(){o.removeClass(t.start,"active")})),this.toDispose.push(o.addDisposableListener(this.start,o.EventType.KEY_DOWN,function(e){var n=new s.StandardKeyboardEvent(e);n.equals(3)&&t.actionRunner.run(t.action,t.context).done(null,r.onUnexpectedError),n.equals(17)&&(t.selectBox.focus(),n.stopPropagation())}));var n=S(".configuration");this.selectBox.render(o.append(e,n)),this.toDispose.push(o.addDisposableListener(n,o.EventType.KEY_DOWN,function(e){var n=new s.StandardKeyboardEvent(e);n.equals(15)&&(t.start.focus(),n.stopPropagation())})),this.toDispose.push(g.attachStylerCallback(this.themeService,{selectBorder:b.selectBorder},function(e){t.container.style.border=e.selectBorder?"1px solid "+e.selectBorder:null,n.style.borderLeft=e.selectBorder?"1px solid "+e.selectBorder:null})),this.updateOptions()},t.prototype.setActionContext=function(e){this.context=e},t.prototype.isEnabled=function(){return!0},t.prototype.focus=function(e){e?this.selectBox.focus():this.start.focus()},t.prototype.blur=function(){this.container.blur()},t.prototype.dispose=function(){this.toDispose=i.dispose(this.toDispose)},t.prototype.updateOptions=function(){var e=this.debugService.getConfigurationManager().getConfigurationNames();0===e.length&&e.push(n.localize(1,null));var i=e.indexOf(this.debugService.getViewModel().selectedConfigurationName);e.push(t.SEPARATOR),e.push(t.ADD_CONFIGURATION),this.selectBox.setOptions(e,i,e.length-2)},t}(l.EventEmitter);_.ADD_CONFIGURATION=n.localize(0,null),_.SEPARATOR="─────────",_=v([y(2,p.IDebugService),y(3,f.IThemeService),y(4,u.IConfigurationService),y(5,d.ICommandService)],_),t.StartDebugActionItem=_;var E=function(e){function t(t,n,i){var r=e.call(this,null,t,[],-1)||this;return r.debugService=n,r.toDispose.push(g.attachSelectBoxStyler(r.selectBox,i)),r.debugService.getViewModel().onDidFocusStackFrame(function(){var e=r.debugService.getViewModel().focusedProcess;if(e){var t=r.debugService.getModel().getProcesses().map(function(e){return e.name});r.select(t.indexOf(e.name))}}),r.debugService.getModel().onDidChangeCallStack(function(){return r.update()}),r.update(),r}return h(t,e),t.prototype.update=function(){var e=this.debugService.getViewModel().focusedProcess,t=this.debugService.getModel().getProcesses().map(function(e){return e.name});this.setOptions(t,e?t.indexOf(e.name):void 0)},t}(c.SelectActionItem);E=v([y(1,p.IDebugService),y(2,f.IThemeService)],E),t.FocusProcessActionItem=E}),define(u[971],d([1,0,559,4,133,44,42,71,67]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t,n,i){this.debugService=t,this.modelService=n,this.modeService=i,e.registerTextModelContentProvider(c.DEBUG_SCHEME,this)}return e.prototype.getId=function(){return"debug.contentprovider"},e.prototype.provideTextContent=function(e){var t=this,o=this.debugService.getViewModel().focusedProcess;if(!o)return i.TPromise.wrapError(new Error(n.localize(0,null)));var s,a=o.sources.get(e.toString());return s=a?a.raw:{path:e.with({scheme:""}).toString(!0)},o.session.source({sourceReference:a?a.reference:void 0,source:s}).then(function(n){var i=n.body.mimeType||r.guessMimeTypes(e.toString())[0],o=t.modeService.getOrCreateMode(i);return t.modelService.createModel(n.body.content,o,e)},function(n){t.debugService.sourceIsNotAvailable(e);var i=t.modeService.getOrCreateMode(r.MIME_TEXT);return t.modelService.createModel(n.message,i,e)})},e}();l=v([y(0,a.ITextModelService),y(1,c.IDebugService),y(2,o.IModelService),y(3,s.IModeService)],l),t.DebugContentProvider=l}),define(u[972],d([1,0,561,4,26,5,14,33,67,44]),function(e,t,n,i,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=a.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,d=function(){function e(e,t){this.modelService=e,this.debugService=t,this.modelDataMap=new Map,this.toDispose=[],this.registerListeners()}return e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.modelDataMap.forEach(function(e){o.dispose(e.toDispose),e.model.deltaDecorations(e.breakpointDecorationIds,[]),e.model.deltaDecorations(e.currentStackDecorations,[])}),this.toDispose=o.dispose(this.toDispose),this.modelDataMap.clear()},e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.modelService.onModelAdded(this.onModelAdded,this)),this.modelService.getModels().forEach(function(t){return e.onModelAdded(t)}),this.toDispose.push(this.modelService.onModelRemoved(this.onModelRemoved,this)),this.toDispose.push(this.debugService.getModel().onDidChangeBreakpoints(function(){return e.onBreakpointsChange()})),this.toDispose.push(this.debugService.getViewModel().onDidFocusStackFrame(function(){return e.onFocusStackFrame()})),this.toDispose.push(this.debugService.onDidChangeState(function(t){t===c.State.Inactive&&e.modelDataMap.forEach(function(e){e.dirty=!1,e.topStackFrameRange=void 0})}))},e.prototype.onModelAdded=function(e){var t=this,n=e.uri.toString(),i=this.debugService.getModel().getBreakpoints().filter(function(e){return e.uri.toString()===n}),r=e.deltaDecorations([],this.createCallStackDecorations(n)),o=e.deltaDecorations([],this.createBreakpointDecorations(i)),s=[e.onDidChangeDecorations(function(e){return t.onModelDecorationsChanged(n,e)})],a=new Map;o.forEach(function(e){return a.set(e,!0)}),this.modelDataMap.set(n,{model:e,toDispose:s,breakpointDecorationIds:o,breakpointLines:i.map(function(e){return e.lineNumber}),breakpointDecorationsAsMap:a,currentStackDecorations:r,dirty:!1,topStackFrameRange:void 0})},e.prototype.onModelRemoved=function(e){var t=e.uri.toString();this.modelDataMap.has(t)&&(o.dispose(this.modelDataMap.get(t).toDispose),this.modelDataMap.delete(t))},e.prototype.onFocusStackFrame=function(){var e=this;this.modelDataMap.forEach(function(t,n){t.currentStackDecorations=t.model.deltaDecorations(t.currentStackDecorations,e.createCallStackDecorations(n))})},e.prototype.createCallStackDecorations=function(t){var n=[],i=this.debugService.getViewModel().focusedStackFrame;if(!i||i.source.uri.toString()!==t)return n;var r=new s.Range(i.range.startLineNumber,i.range.startColumn,i.range.startLineNumber,1073741824),o=new s.Range(i.range.startLineNumber,i.range.startColumn,i.range.startLineNumber,i.range.startColumn+1),a=i.thread.getCallStack();if(a&&a.length&&i===a[0]){if(n.push({options:e.TOP_STACK_FRAME_MARGIN,range:o}),i.thread.stoppedDetails&&"exception"===i.thread.stoppedDetails.reason)n.push({options:e.TOP_STACK_FRAME_EXCEPTION_DECORATION,range:r});else if(n.push({options:e.TOP_STACK_FRAME_DECORATION,range:r}),i.range.endLineNumber&&i.range.endColumn&&n.push({options:{className:"debug-top-stack-frame-range"},range:i.range}),this.modelDataMap.has(t)){var c=this.modelDataMap.get(t);c.topStackFrameRange&&c.topStackFrameRange.startLineNumber===i.range.startLineNumber&&c.topStackFrameRange.startColumn!==i.range.startColumn&&n.push({options:e.TOP_STACK_FRAME_INLINE_DECORATION,range:r}),c.topStackFrameRange=r}}else n.push({options:e.FOCUSED_STACK_FRAME_MARGIN,range:o}),i.range.endLineNumber&&i.range.endColumn&&n.push({options:{className:"debug-focused-stack-frame-range"},range:i.range}),n.push({options:e.FOCUSED_STACK_FRAME_DECORATION,range:r});return n},e.prototype.onModelDecorationsChanged=function(e,t){var n=this,r=this.modelDataMap.get(e);if(0!==r.breakpointDecorationsAsMap.size&&t.changedDecorations.some(function(e){return r.breakpointDecorationsAsMap.has(e)})){var o=[],s=new Map;this.debugService.getModel().getBreakpoints().filter(function(t){return t.uri.toString()===e}).forEach(function(e){s.set(e.lineNumber,e)});for(var a=r.model.uri,l=0,u=r.breakpointDecorationIds.length;l<u;l++){var d=r.model.getDecorationRange(r.breakpointDecorationIds[l]),h=r.breakpointLines[l];if(d.endColumn-d.startColumn>0){var p=s.get(h);o.push({lineNumber:d.startLineNumber,enabled:p.enabled,condition:p.condition,hitCondition:p.hitCondition,column:p.column?d.startColumn:void 0})}}r.dirty=this.debugService.state!==c.State.Inactive;var f=this.debugService.getModel().getBreakpoints().filter(function(e){return e.uri.toString()===a.toString()});i.TPromise.join(f.map(function(e){return n.debugService.removeBreakpoints(e.getId())})).then(function(){n.debugService.addBreakpoints(a,o)})}},e.prototype.onBreakpointsChange=function(){var e=this,t=new Map;this.debugService.getModel().getBreakpoints().forEach(function(e){var n=e.uri.toString();t.has(n)?t.get(n).push(e):t.set(n,[e])}),t.forEach(function(n,i){e.modelDataMap.has(i)&&e.updateBreakpoints(e.modelDataMap.get(i),t.get(i))}),this.modelDataMap.forEach(function(n,i){t.has(i)||e.updateBreakpoints(n,[])})},e.prototype.updateBreakpoints=function(e,t){e.breakpointDecorationIds=e.model.deltaDecorations(e.breakpointDecorationIds,this.createBreakpointDecorations(t)),e.breakpointDecorationsAsMap.clear(),e.breakpointDecorationIds.forEach(function(t){return e.breakpointDecorationsAsMap.set(t,!0)}),e.breakpointLines=t.map(function(e){return e.lineNumber})},e.prototype.createBreakpointDecorations=function(e){var t=this;return e.map(function(e){var n=e.column?new s.Range(e.lineNumber,e.column,e.lineNumber,e.column+1):new s.Range(e.lineNumber,1,e.lineNumber,1073741824);return{options:t.getBreakpointDecorationOptions(e),range:n}})},e.prototype.getBreakpointDecorationOptions=function(t){var n=this.debugService.getModel().areBreakpointsActivated(),i=this.debugService.state,o=i===c.State.Running||i===c.State.Stopped||i===c.State.Initializing,s=this.modelDataMap.get(t.uri.toString()),a=t.enabled&&n?o&&s&&s.dirty&&!t.verified?e.BREAKPOINT_DIRTY_DECORATION:o&&!t.verified?e.BREAKPOINT_UNVERIFIED_DECORATION:t.condition||t.hitCondition?null:e.BREAKPOINT_DECORATION:e.BREAKPOINT_DISABLED_DECORATION;if(a)return a=r.clone(a),t.message&&(a.glyphMarginHoverMessage=t.message),t.column&&(a.beforeContentClassName="debug-breakpoint-column "+a.glyphMarginClassName+"-column"),a;var l=this.debugService.getViewModel().focusedProcess;if(l&&!l.session.capabilities.supportsConditionalBreakpoints)return e.BREAKPOINT_UNSUPPORTED_DECORATION;var d,h="```"+(s?s.model.getLanguageIdentifier().language:"")+"\n"+(d=t.condition&&t.hitCondition?"Expression: "+t.condition+"\nHitCount: "+t.hitCondition:t.condition?t.condition:t.hitCondition)+"```",p=t.column?"debug-breakpoint-column debug-breakpoint-conditional-glyph-column":void 0;return{glyphMarginClassName:"debug-breakpoint-conditional-glyph",glyphMarginHoverMessage:h,stickiness:u,beforeContentClassName:p}},e}();d.ID="breakpointManager",d.BREAKPOINT_DECORATION={glyphMarginClassName:"debug-breakpoint-glyph",stickiness:u},d.BREAKPOINT_DISABLED_DECORATION={glyphMarginClassName:"debug-breakpoint-disabled-glyph",glyphMarginHoverMessage:n.localize(0,null),stickiness:u},d.BREAKPOINT_UNVERIFIED_DECORATION={glyphMarginClassName:"debug-breakpoint-unverified-glyph",glyphMarginHoverMessage:n.localize(1,null),stickiness:u},d.BREAKPOINT_DIRTY_DECORATION={glyphMarginClassName:"debug-breakpoint-unverified-glyph",glyphMarginHoverMessage:n.localize(2,null),stickiness:u},d.BREAKPOINT_UNSUPPORTED_DECORATION={glyphMarginClassName:"debug-breakpoint-unsupported-glyph",glyphMarginHoverMessage:n.localize(3,null),stickiness:u},d.TOP_STACK_FRAME_MARGIN={glyphMarginClassName:"debug-top-stack-frame-glyph",stickiness:u},d.FOCUSED_STACK_FRAME_MARGIN={glyphMarginClassName:"debug-focused-stack-frame-glyph",stickiness:u},d.TOP_STACK_FRAME_DECORATION={isWholeLine:!0,inlineClassName:"debug-remove-token-colors",className:"debug-top-stack-frame-line",stickiness:u},d.TOP_STACK_FRAME_EXCEPTION_DECORATION={isWholeLine:!0,inlineClassName:"debug-remove-token-colors",className:"debug-top-stack-frame-exception-line",stickiness:u},d.TOP_STACK_FRAME_INLINE_DECORATION={beforeContentClassName:"debug-top-stack-frame-column"},d.FOCUSED_STACK_FRAME_DECORATION={isWholeLine:!0,inlineClassName:"debug-remove-token-colors",className:"debug-focused-stack-frame-line",stickiness:u},d=v([y(0,l.IModelService),y(1,c.IDebugService)],d),t.DebugEditorModelManager=d}),define(u[973],d([1,0,562,122,4,84,115,102,54,67,7]),function(e,t,n,i,r,o,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(e){function t(t,n,i){void 0===i&&(i=[]);var r=e.call(this,i)||this;return r.debugService=t,r.configurationName=n,r}return h(t,e),t.prototype.getLabel=function(){return this.configurationName},t.prototype.getAriaLabel=function(){return n.localize(0,null,this.getLabel())},t.prototype.run=function(e,t){return e!==s.Mode.PREVIEW&&(this.debugService.getViewModel().setSelectedConfigurationName(this.configurationName),this.debugService.startDebugging().done(void 0,u.onUnexpectedError),!0)},t}(a.QuickOpenEntry),p=function(e){function t(t,n){var i=e.call(this)||this;return i.quickOpenService=t,i.debugService=n,i}return h(t,e),t.prototype.getAriaLabel=function(){return n.localize(1,null)},t.prototype.getResults=function(e){var t=this,n=this.debugService.getConfigurationManager().getConfigurationNames().map(function(t){return{config:t,highlights:i.matchesContiguousSubString(e,t)}}).filter(function(e){return!!e.highlights}).map(function(e){var n=e.config,i=e.highlights;return new d(t.debugService,n,i)});return r.TPromise.as(new a.QuickOpenModel(n))},t.prototype.getAutoFocus=function(e){return{autoFocusFirstEntry:!!e}},t.prototype.getEmptyLabel=function(e){return e.length>0?n.localize(2,null):n.localize(3,null)},t}(o.QuickOpenHandler);p=v([y(0,c.IQuickOpenService),y(1,l.IDebugService)],p),t.DebugQuickOpenHandler=p}),define(u[974],d([1,0,567,16,67]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n.localize(0,null),s=function(){function e(e){this.raw=e,e||(this.raw={name:o});var t=this.raw.path||this.raw.name;this.available=this.raw.name!==o,this.uri=this.raw.sourceReference>0?i.default.parse(r.DEBUG_SCHEME+":"+t):i.default.file(t)}return Object.defineProperty(e.prototype,"name",{get:function(){return this.raw.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"origin",{get:function(){return this.raw.origin},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"presentationHint",{get:function(){return this.raw.presentationHint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reference",{get:function(){return this.raw.sourceReference},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inMemory",{get:function(){return 0===this.uri.toString().indexOf(r.DEBUG_SCHEME+":")},enumerable:!0,configurable:!0}),e}();t.Source=s}),define(u[162],d([1,0,566,4,5,8,135,7,18,26,24,34,14,67,974]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var v=function(){function e(t){void 0===t&&(t=e.ID_COUNTER++),this.id=t}return e.prototype.getId=function(){return"outputelement:"+this.id},e}();v.ID_COUNTER=0,t.AbstractOutputElement=v;var m=function(e){function t(t,n){var i=e.call(this)||this;return i.value=t,i.severity=n,i}return h(t,e),t.prototype.toString=function(){return this.value},t}(v);t.OutputElement=m;var y=function(e){function t(t,n,i){var r=e.call(this)||this;return r.name=t,r.valueObj=n,r.annotation=i,r}return h(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return null===this.valueObj?"null":Array.isArray(this.valueObj)?"Array["+this.valueObj.length+"]":u.isObject(this.valueObj)?"Object":u.isString(this.valueObj)?'"'+this.valueObj+'"':String(this.valueObj)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasChildren",{get:function(){return Array.isArray(this.valueObj)&&this.valueObj.length>0||u.isObject(this.valueObj)&&Object.getOwnPropertyNames(this.valueObj).length>0},enumerable:!0,configurable:!0}),t.prototype.getChildren=function(){var e=this,n=[];return Array.isArray(this.valueObj)?n=this.valueObj.slice(0,t.MAX_CHILDREN).map(function(e,n){return new t(String(n),e)}):u.isObject(this.valueObj)&&(n=Object.getOwnPropertyNames(this.valueObj).slice(0,t.MAX_CHILDREN).map(function(n){return new t(n,e.valueObj[n])})),i.TPromise.as(n)},t.prototype.toString=function(){return this.name?this.name+": "+this.value:this.value},t}(v);y.MAX_CHILDREN=1e3,t.OutputNameValueElement=y;var b=function(){function e(e,t,n,i,r,o){void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=0),this.process=e,this._reference=t,this.id=n,this.namedVariables=i,this.indexedVariables=r,this.startOfVariables=o}return Object.defineProperty(e.prototype,"reference",{get:function(){return this._reference},set:function(e){this._reference=e,this.children=void 0},enumerable:!0,configurable:!0}),e.prototype.getChildren=function(){return this.children||(this.children=this.doGetChildren()),this.children},e.prototype.doGetChildren=function(){var t=this;return this.hasChildren?this.getChildrenInChunks?(this.namedVariables?this.fetchVariables(void 0,void 0,"named"):i.TPromise.as([])).then(function(n){for(var i=e.BASE_CHUNK_SIZE;t.indexedVariables>i*e.BASE_CHUNK_SIZE;)i*=e.BASE_CHUNK_SIZE;if(t.indexedVariables>i){for(var r=Math.ceil(t.indexedVariables/i),o=0;o<r;o++){var s=t.startOfVariables+o*i,a=Math.min(i,t.indexedVariables-o*i);n.push(new _(t.process,t,t.reference,"["+s+".."+(s+a-1)+"]","","",null,a,null,!0,s))}return n}return t.fetchVariables(t.startOfVariables,t.indexedVariables,"indexed").then(function(e){return n.concat(e)})}):this.fetchVariables(void 0,void 0,void 0):i.TPromise.as([])},e.prototype.getId=function(){return this.id},Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,this.valueChanged=e.allValues.get(this.getId())&&e.allValues.get(this.getId())!==S.DEFAULT_VALUE&&e.allValues.get(this.getId())!==t,e.allValues.set(this.getId(),t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasChildren",{get:function(){return this.reference>0},enumerable:!0,configurable:!0}),e.prototype.fetchVariables=function(e,t,n){var i=this;return this.process.session.variables({variablesReference:this.reference,start:e,count:t,filter:n}).then(function(e){return e&&e.body&&e.body.variables?d.distinct(e.body.variables.filter(function(e){return!!e&&e.name}),function(e){return e.name}).map(function(e){return new _(i.process,i,e.variablesReference,e.name,e.evaluateName,e.value,e.namedVariables,e.indexedVariables,e.type)}):[]},function(e){return[new _(i.process,i,0,null,e.message,"",0,0,null,!1)]})},Object.defineProperty(e.prototype,"getChildrenInChunks",{get:function(){return!!this.indexedVariables},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this.value},e}();b.allValues=new Map,b.BASE_CHUNK_SIZE=100,t.ExpressionContainer=b;var S=function(e){function t(n,i){void 0===i&&(i=s.generateUuid());var r=e.call(this,null,0,i)||this;return r.name=n,r.available=!1,n&&(r.value=t.DEFAULT_VALUE),r}return h(t,e),t.prototype.evaluate=function(e,r,o){var s=this;return!e||!r&&"repl"!==o?(this.value="repl"===o?n.localize(1,null):t.DEFAULT_VALUE,this.available=!1,this.reference=0,i.TPromise.as(null)):(this.process=e,e.session.evaluate({expression:this.name,frameId:r?r.frameId:void 0,context:o}).then(function(e){s.available=!(!e||!e.body),e&&e.body&&(s.value=e.body.result,s.reference=e.body.variablesReference,s.namedVariables=e.body.namedVariables,s.indexedVariables=e.body.indexedVariables,s.type=e.body.type)},function(e){s.value=e.message,s.available=!1,s.reference=0}))},t.prototype.toString=function(){return this.name+"\n"+this.value},t}(b);S.DEFAULT_VALUE=n.localize(0,null),t.Expression=S;var _=function(e){function t(t,n,i,r,o,s,a,c,l,u,d){void 0===l&&(l=null),void 0===u&&(u=!0),void 0===d&&(d=0);var h=e.call(this,t,i,"variable:"+n.getId()+":"+r+":"+i,a,c,d)||this;return h.parent=n,h.name=r,h.evaluateName=o,h.type=l,h.available=u,h.value=s,h}return h(t,e),t.prototype.setVariable=function(e){var t=this;return this.process.session.setVariable({name:this.name,value:e,variablesReference:this.parent.reference}).then(function(e){e&&e.body&&(t.value=e.body.value,t.type=e.body.type||t.type,t.reference=e.body.variablesReference,t.namedVariables=e.body.namedVariables,t.indexedVariables=e.body.indexedVariables)},function(e){t.errorMessage=e.message})},t.prototype.toString=function(){return this.name+": "+this.value},t}(b);t.Variable=_;var E=function(e){function t(t,n,i,r,o,s,a){var c=e.call(this,t.thread.process,i,"scope:"+t.getId()+":"+n+":"+i,o,s)||this;return c.name=n,c.expensive=r,c.range=a,c}return h(t,e),t}(b);t.Scope=E;var C=function(){function e(e,t,n,i,r,o,s){this.thread=e,this.frameId=t,this.source=n,this.name=i,this.presentationHint=r,this.range=o,this.index=s,this.scopes=null}return e.prototype.getId=function(){return"stackframe:"+this.thread.getId()+":"+this.frameId+":"+this.index},e.prototype.getScopes=function(){var e=this;return this.scopes||(this.scopes=this.thread.process.session.scopes({frameId:this.frameId}).then(function(t){return t&&t.body&&t.body.scopes?t.body.scopes.map(function(t){return new E(e,t.name,t.variablesReference,t.expensive,t.namedVariables,t.indexedVariables,t.line&&t.column&&t.endLine&&t.endColumn?new p.Range(t.line,t.column,t.endLine,t.endColumn):null)}):[]},function(e){return[]})),this.scopes},e.prototype.getMostSpecificScopes=function(e){return this.getScopes().then(function(t){if(!(t=t.filter(function(e){return!e.expensive})).some(function(e){return!!e.range}))return t;var n=t.filter(function(t){return t.range&&p.Range.containsRange(t.range,e)}).sort(function(e,t){return e.range.endLineNumber-e.range.startLineNumber-(t.range.endLineNumber-t.range.startLineNumber)});return n.length>0?n.slice(0,1):t})},e.prototype.restart=function(){return this.thread.process.session.restartFrame({frameId:this.frameId},this.thread.threadId)},e.prototype.toString=function(){return this.name+" ("+(this.source.inMemory?this.source.name:this.source.uri.fsPath)+":"+this.range.startLineNumber+")"},e.prototype.openInEditor=function(e,t,n){return this.source.available?e.openEditor({resource:this.source.uri,description:this.source.origin,options:{preserveFocus:t,selection:this.range,revealIfVisible:!0,revealInCenterIfOutsideViewport:!0,pinned:!t}},n):i.TPromise.as(null)},e}();t.StackFrame=C;var w=function(){function e(e,t,n){this.process=e,this.name=t,this.threadId=n,this.fetchPromise=null,this.stoppedDetails=null,this.callStack=[],this.staleCallStack=[],this.stopped=!1}return e.prototype.getId=function(){return"thread:"+this.process.getId()+":"+this.threadId},e.prototype.clearCallStack=function(){this.fetchPromise=null,this.callStack.length&&(this.staleCallStack=this.callStack),this.callStack=[]},e.prototype.getCallStack=function(){return this.callStack},e.prototype.getStaleCallStack=function(){return this.staleCallStack},e.prototype.fetchCallStack=function(e){var t=this;return void 0===e&&(e=20),this.stopped?this.getCallStackImpl(this.callStack.length,e).then(function(e){t.callStack=t.callStack.concat(e||[])}):i.TPromise.as(null)},e.prototype.getCallStackImpl=function(e,t){var n=this;return this.process.session.stackTrace({threadId:this.threadId,startFrame:e,levels:t}).then(function(t){return t&&t.body?(n.stoppedDetails&&(n.stoppedDetails.totalFrames=t.body.totalFrames),t.body.stackFrames.map(function(t,i){var r=new g.Source(t.source);return n.process.sources.has(r.uri.toString())?r=n.process.sources.get(r.uri.toString()):n.process.sources.set(r.uri.toString(),r),new C(n,t.id,r,t.name,t.presentationHint,new p.Range(t.line,t.column,t.endLine,t.endColumn),e+i)})):[]},function(e){return n.stoppedDetails&&(n.stoppedDetails.framesErrorMessage=e.message),[]})},Object.defineProperty(e.prototype,"exceptionInfo",{get:function(){var e=this.process.session;return this.stoppedDetails&&"exception"===this.stoppedDetails.reason?e.capabilities.supportsExceptionInfoRequest?e.exceptionInfo({threadId:this.threadId}).then(function(e){return e?{id:e.body.exceptionId,description:e.body.description,breakMode:e.body.breakMode,details:e.body.details}:null}):i.TPromise.as({description:this.stoppedDetails.text,breakMode:null}):i.TPromise.as(null)},enumerable:!0,configurable:!0}),e.prototype.next=function(){return this.process.session.next({threadId:this.threadId})},e.prototype.stepIn=function(){return this.process.session.stepIn({threadId:this.threadId})},e.prototype.stepOut=function(){return this.process.session.stepOut({threadId:this.threadId})},e.prototype.stepBack=function(){return this.process.session.stepBack({threadId:this.threadId})},e.prototype.continue=function(){return this.process.session.continue({threadId:this.threadId})},e.prototype.pause=function(){return this.process.session.pause({threadId:this.threadId})},e.prototype.reverseContinue=function(){return this.process.session.reverseContinue({threadId:this.threadId})},e}();t.Thread=w;var I=function(){function e(e,t){var n=this;this.configuration=e,this._session=t,this.inactive=!0,this.threads=new Map,this.sources=new Map,this._session.onDidInitialize(function(){return n.inactive=!1})}return Object.defineProperty(e.prototype,"session",{get:function(){return this._session},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.configuration.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this.inactive?f.ProcessState.INACTIVE:"attach"===this.configuration.type?f.ProcessState.ATTACH:f.ProcessState.LAUNCH},enumerable:!0,configurable:!0}),e.prototype.getThread=function(e){return this.threads.get(e)},e.prototype.getAllThreads=function(){var e=[];return this.threads.forEach(function(t){return e.push(t)}),e},e.prototype.getId=function(){return this._session.getId()},e.prototype.rawUpdate=function(e){if(e.thread&&!this.threads.has(e.threadId)?this.threads.set(e.threadId,new w(this,e.thread.name,e.thread.id)):e.thread&&e.thread.name&&(this.threads.get(e.threadId).name=e.thread.name),e.stoppedDetails)if(e.allThreadsStopped)this.threads.forEach(function(t){t.stoppedDetails=l.clone(e.stoppedDetails),t.stopped=!0,t.clearCallStack()});else if(this.threads.has(e.threadId)){var t=this.threads.get(e.threadId);t.stoppedDetails=e.stoppedDetails,t.clearCallStack(),t.stopped=!0}},e.prototype.clearThreads=function(e,t){if(void 0===t&&(t=void 0),t){if(this.threads.has(t)){var n=this.threads.get(t);n.clearCallStack(),n.stoppedDetails=void 0,n.stopped=!1,e&&this.threads.delete(t)}}else this.threads.forEach(function(e){e.clearCallStack(),e.stoppedDetails=void 0,e.stopped=!1}),e&&(this.threads.clear(),b.allValues.clear())},e.prototype.completions=function(e,t,n,r){return this.session.capabilities.supportsCompletionsRequest?this.session.completions({frameId:e,text:t,column:n.column,line:n.lineNumber}).then(function(e){var n=[];return e&&e.body&&e.body.targets&&e.body.targets.forEach(function(e){e&&e.label&&n.push({label:e.label,insertText:e.text||e.label,type:e.type,filterText:e.start&&e.length&&t.substr(e.start,e.length).concat(e.label),overwriteBefore:e.length||r})}),n},function(e){return[]}):i.TPromise.as([])},e}();t.Process=I;var T=function(){function e(e,t,n,i,r,o){this.uri=e,this.lineNumber=t,this.column=n,this.enabled=i,this.condition=r,this.hitCondition=o,void 0===i&&(this.enabled=!0),this.verified=!1,this.id=s.generateUuid()}return e.prototype.getId=function(){return this.id},e}();t.Breakpoint=T;var k=function(){function e(e,t,n){this.name=e,this.enabled=t,this.hitCondition=n,this.verified=!1,this.id=s.generateUuid()}return e.prototype.getId=function(){return this.id},e}();t.FunctionBreakpoint=k;var x=function(){function e(e,t,n){this.filter=e,this.label=t,this.enabled=n,this.id=s.generateUuid()}return e.prototype.getId=function(){return this.id},e}();t.ExceptionBreakpoint=x;var A=function(){function e(e,t){this.processId=e,this.threadId=t}return e.prototype.getId=function(){return this.processId+":"+this.threadId},e}();t.ThreadAndProcessIds=A;var L=function(){function e(e,t,n,i,r){this.breakpoints=e,this.breakpointsActivated=t,this.functionBreakpoints=n,this.exceptionBreakpoints=i,this.watchExpressions=r,this.schedulers=new Map,this.processes=[],this.replElements=[],this.toDispose=[],this._onDidChangeBreakpoints=new o.Emitter,this._onDidChangeCallStack=new o.Emitter,this._onDidChangeWatchExpressions=new o.Emitter,this._onDidChangeREPLElements=new o.Emitter}return e.prototype.getId=function(){return"root"},e.prototype.getProcesses=function(){return this.processes},e.prototype.addProcess=function(e,t){var n=new I(e,t);return this.processes.push(n),n},e.prototype.removeProcess=function(e){this.processes=this.processes.filter(function(t){return t.getId()!==e}),this._onDidChangeCallStack.fire()},Object.defineProperty(e.prototype,"onDidChangeBreakpoints",{get:function(){return this._onDidChangeBreakpoints.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChangeCallStack",{get:function(){return this._onDidChangeCallStack.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChangeWatchExpressions",{get:function(){return this._onDidChangeWatchExpressions.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChangeReplElements",{get:function(){return this._onDidChangeREPLElements.event},enumerable:!0,configurable:!0}),e.prototype.rawUpdate=function(e){var t=this.processes.filter(function(t){return t.getId()===e.sessionId}).pop();t&&(t.rawUpdate(e),this._onDidChangeCallStack.fire())},e.prototype.clearThreads=function(e,t,n){void 0===n&&(n=void 0);var i=this.processes.filter(function(t){return t.getId()===e}).pop();this.schedulers.forEach(function(e){return e.dispose()}),this.schedulers.clear(),i&&(i.clearThreads(t,n),this._onDidChangeCallStack.fire())},e.prototype.fetchCallStack=function(e){var t=this;return e.process.session.capabilities.supportsDelayedStackTraceLoading?e.fetchCallStack(1).then(function(){t.schedulers.has(e.getId())||t.schedulers.set(e.getId(),new c.RunOnceScheduler(function(){e.fetchCallStack(19).done(function(){return t._onDidChangeCallStack.fire()},a.onUnexpectedError)},420)),t.schedulers.get(e.getId()).schedule(),t._onDidChangeCallStack.fire()}):e.fetchCallStack()},e.prototype.getBreakpoints=function(){return this.breakpoints},e.prototype.getFunctionBreakpoints=function(){return this.functionBreakpoints},e.prototype.getExceptionBreakpoints=function(){return this.exceptionBreakpoints},e.prototype.setExceptionBreakpoints=function(e){var t=this;e&&(this.exceptionBreakpoints=e.map(function(e){var n=t.exceptionBreakpoints.filter(function(t){return t.filter===e.filter}).pop();return new x(e.filter,e.label,n?n.enabled:e.default)}))},e.prototype.areBreakpointsActivated=function(){return this.breakpointsActivated},e.prototype.setBreakpointsActivated=function(e){this.breakpointsActivated=e,this._onDidChangeBreakpoints.fire()},e.prototype.addBreakpoints=function(e,t){this.breakpoints=this.breakpoints.concat(t.map(function(t){return new T(e,t.lineNumber,t.column,t.enabled,t.condition,t.hitCondition)})),this.breakpointsActivated=!0,this.breakpoints=d.distinct(this.breakpoints,function(e){return e.uri.toString()+":"+e.lineNumber+":"+e.column}),this._onDidChangeBreakpoints.fire()},e.prototype.removeBreakpoints=function(e){this.breakpoints=this.breakpoints.filter(function(t){return!e.some(function(e){return e.getId()===t.getId()})}),this._onDidChangeBreakpoints.fire()},e.prototype.updateBreakpoints=function(e){this.breakpoints.forEach(function(t){var n=e[t.getId()];n&&(t.lineNumber=n.line?n.line:t.lineNumber,t.endLineNumber=n.endLine,t.column=n.column,t.endColumn=n.endColumn,t.verified=n.verified,t.idFromAdapter=n.id,t.message=n.message)}),this.breakpoints=d.distinct(this.breakpoints,function(e){return e.uri.toString()+":"+e.lineNumber+":"+e.column}),this._onDidChangeBreakpoints.fire()},e.prototype.setEnablement=function(e,t){e.enabled=t,e instanceof T&&!e.enabled&&(e.verified=!1),this._onDidChangeBreakpoints.fire()},e.prototype.enableOrDisableAllBreakpoints=function(e){this.breakpoints.forEach(function(t){t.enabled=e,e||(t.verified=!1)}),this.exceptionBreakpoints.forEach(function(t){return t.enabled=e}),this.functionBreakpoints.forEach(function(t){return t.enabled=e}),this._onDidChangeBreakpoints.fire()},e.prototype.addFunctionBreakpoint=function(e){this.functionBreakpoints.push(new k(e,!0,null)),this._onDidChangeBreakpoints.fire()},e.prototype.updateFunctionBreakpoints=function(e){this.functionBreakpoints.forEach(function(t){var n=e[t.getId()];n&&(t.name=n.name||t.name,t.verified=n.verified,t.idFromAdapter=n.id,t.hitCondition=n.hitCondition)}),this._onDidChangeBreakpoints.fire()},e.prototype.removeFunctionBreakpoints=function(e){this.functionBreakpoints=e?this.functionBreakpoints.filter(function(t){return t.getId()!==e}):[],this._onDidChangeBreakpoints.fire()},e.prototype.getReplElements=function(){return this.replElements},e.prototype.addReplExpression=function(e,t,n){var i=this,r=new S(n);return this.addReplElements([r]),r.evaluate(e,t,"repl").then(function(){return i._onDidChangeREPLElements.fire()})},e.prototype.appendToRepl=function(e,t){if("string"==typeof e){var n=this.replElements.length&&this.replElements[this.replElements.length-1],i=e.split("\n").map(function(e){return new m(e,t)});n instanceof m&&t===n.severity&&i.length&&(n.value+=i.shift().value),n&&""===n.value&&n.severity!==t&&this.replElements.pop(),this.addReplElements(i)}else e.severity=t,this.addReplElements([e]);this._onDidChangeREPLElements.fire()},e.prototype.addReplElements=function(e){(t=this.replElements).push.apply(t,e),this.replElements.length>1e4&&this.replElements.splice(0,this.replElements.length-1e4);var t},e.prototype.removeReplExpressions=function(){this.replElements.length>0&&(this.replElements=[],this._onDidChangeREPLElements.fire())},e.prototype.getWatchExpressions=function(){return this.watchExpressions},e.prototype.addWatchExpression=function(e,t,n){var r=new S(n);return this.watchExpressions.push(r),n?this.evaluateWatchExpressions(e,t,r.getId()):(this._onDidChangeWatchExpressions.fire(r),i.TPromise.as(null))},e.prototype.renameWatchExpression=function(e,t,n,r){var o=this,s=this.watchExpressions.filter(function(e){return e.getId()===n});return 1===s.length?(s[0].name=r,this.evaluateWatchExpressions(e,t).then(function(){o._onDidChangeWatchExpressions.fire(s[0])})):i.TPromise.as(null)},e.prototype.evaluateWatchExpressions=function(e,t,n){var r=this;if(void 0===n&&(n=null),n){var o=this.watchExpressions.filter(function(e){return e.getId()===n});return 1!==o.length?i.TPromise.as(null):o[0].evaluate(e,t,"watch").then(function(){r._onDidChangeWatchExpressions.fire(o[0])})}return i.TPromise.join(this.watchExpressions.map(function(n){return n.evaluate(e,t,"watch")})).then(function(){r._onDidChangeWatchExpressions.fire()})},e.prototype.removeWatchExpressions=function(e){void 0===e&&(e=null),this.watchExpressions=e?this.watchExpressions.filter(function(t){return t.getId()!==e}):[],this._onDidChangeWatchExpressions.fire()},e.prototype.moveWatchExpression=function(e,t){var n=this.watchExpressions.filter(function(t){return t.getId()===e}).pop();this.watchExpressions=this.watchExpressions.filter(function(t){return t.getId()!==e}),this.watchExpressions=this.watchExpressions.slice(0,t).concat(n,this.watchExpressions.slice(t)),this._onDidChangeWatchExpressions.fire()},e.prototype.sourceIsNotAvailable=function(e){this.processes.forEach(function(t){t.sources.has(e.toString())&&(t.sources.get(e.toString()).available=!1)}),this._onDidChangeCallStack.fire()},e.prototype.dispose=function(){this.toDispose=r.dispose(this.toDispose)},e}();t.Model=L}),define(u[330],d([1,0,8]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this._selectedConfigurationName=e,this._onDidFocusStackFrame=new n.Emitter,this._onDidSelectExpression=new n.Emitter,this._onDidSelectFunctionBreakpoint=new n.Emitter,this._onDidSelectConfigurationName=new n.Emitter,this.changedWorkbenchViewState=!1,this.multiProcessView=!1}return e.prototype.getId=function(){return"root"},Object.defineProperty(e.prototype,"focusedProcess",{get:function(){return this._focusedProcess},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focusedThread",{get:function(){return this._focusedStackFrame?this._focusedStackFrame.thread:this._focusedProcess?this._focusedProcess.getAllThreads().pop():null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focusedStackFrame",{get:function(){return this._focusedStackFrame},enumerable:!0,configurable:!0}),e.prototype.setFocusedStackFrame=function(e,t){this._focusedStackFrame=e,this._focusedProcess=t,this._onDidFocusStackFrame.fire(e)},Object.defineProperty(e.prototype,"onDidFocusStackFrame",{get:function(){return this._onDidFocusStackFrame.event},enumerable:!0,configurable:!0}),e.prototype.getSelectedExpression=function(){return this.selectedExpression},e.prototype.setSelectedExpression=function(e){this.selectedExpression=e,this._onDidSelectExpression.fire(e)},Object.defineProperty(e.prototype,"onDidSelectExpression",{get:function(){return this._onDidSelectExpression.event},enumerable:!0,configurable:!0}),e.prototype.getSelectedFunctionBreakpoint=function(){return this.selectedFunctionBreakpoint},e.prototype.setSelectedFunctionBreakpoint=function(e){this.selectedFunctionBreakpoint=e,this._onDidSelectFunctionBreakpoint.fire(e)},Object.defineProperty(e.prototype,"onDidSelectFunctionBreakpoint",{get:function(){return this._onDidSelectFunctionBreakpoint.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedConfigurationName",{get:function(){return this._selectedConfigurationName},enumerable:!0,configurable:!0}),e.prototype.setSelectedConfigurationName=function(e){this._selectedConfigurationName=e,this._onDidSelectConfigurationName.fire(e)},e.prototype.isMultiProcessView=function(){return this.multiProcessView},e.prototype.setMultiProcessView=function(e){this.multiProcessView=e},Object.defineProperty(e.prototype,"onDidSelectConfiguration",{get:function(){return this._onDidSelectConfigurationName.event},enumerable:!0,configurable:!0}),e}();t.ViewModel=i}),define(u[977],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.history=e,this.historyPointer=this.history.length,this.currentExpressionStoredMarkers=!1,this.historyOverwrites=new Map}return e.prototype.next=function(){return this.navigate(!1)},e.prototype.previous=function(){return this.navigate(!0)},e.prototype.navigate=function(e){var t=-1;return e&&this.historyPointer>0&&this.history.length>this.historyPointer-1?t=this.historyPointer-1:!e&&this.history.length>this.historyPointer+1&&(t=this.historyPointer+1),t>=0?(this.historyPointer=t,this.historyOverwrites.has(t.toString())?this.historyOverwrites.get(t.toString()):this.history[t]):null},e.prototype.remember=function(e,t){var n;(n=t?this.historyPointer+1:this.historyPointer-1)!==this.history.length||this.currentExpressionStoredMarkers?this.historyOverwrites.set(n.toString(),e):(this.history.push(e),this.currentExpressionStoredMarkers=!0)},e.prototype.evaluated=function(e){this.currentExpressionStoredMarkers&&this.history.pop(),!e||0!==this.history.length&&this.history[this.history.length-1]===e||this.history.push(e),this.historyPointer=this.history.length,this.currentExpressionStoredMarkers=!1,this.historyOverwrites.clear()},e.prototype.save=function(){return this.currentExpressionStoredMarkers&&this.history.pop(),this.history.length>50&&(this.history=this.history.splice(this.history.length-50,50)),this.history},e}();t.ReplHistory=n}),define(u[328],d([1,0,576,21,4,12,162,67,97]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(t,n,i,r){var o=e.call(this,t,n,"debug-action copy-value")||this;return o.value=i,o.debugService=r,o}return h(t,e),t.prototype.run=function(){var e=this;if(this.value instanceof s.Variable){var t=this.debugService.getViewModel().focusedStackFrame.frameId;return this.debugService.getViewModel().focusedProcess.session.evaluate({expression:this.value.evaluateName,frameId:t}).then(function(e){c.clipboard.writeText(e.body.result)},function(t){return c.clipboard.writeText(e.value.value)})}return c.clipboard.writeText(this.value),r.TPromise.as(null)},t}(i.Action);l.ID="workbench.debug.viewlet.action.copyValue",l.LABEL=n.localize(0,null),l=v([y(3,a.IDebugService)],l),t.CopyValueAction=l;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.run=function(){return c.clipboard.writeText(window.getSelection().toString()),r.TPromise.as(null)},t}(i.Action);u.ID="workbench.debug.action.copy",u.LABEL=n.localize(1,null),t.CopyAction=u;var d=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.tree=i,r}return h(t,e),t.prototype.run=function(){for(var e="",t=this.tree.getNavigator();t.next();)e&&(e+="\n"),e+=t.current().toString();return c.clipboard.writeText(o.removeAnsiEscapeCodes(e)),r.TPromise.as(null)},t}(i.Action);d.ID="workbench.debug.action.copyAll",d.LABEL=n.localize(2,null),t.CopyAllAction=d;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.run=function(e){return c.clipboard.writeText(e.thread.getCallStack().map(function(e){return e.toString()}).join("\n")),r.TPromise.as(null)},t}(i.Action);p.ID="workbench.action.debug.copyStackTrace",p.LABEL=n.localize(3,null),t.CopyStackTraceAction=p}),define(u[979],d([1,0,581,11,4]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.runInTerminal=function(t,i,o,s,a){var c=this;if("external"===s.kind)return i.runInTerminal(s.title,s.cwd,s.args,s.env||{});var l=0;return e.integratedTerminalInstance||(e.integratedTerminalInstance=t.createInstance({name:s.title||n.localize(0,null)}),l=2e3),e.terminalDisposedListener||(e.terminalDisposedListener=t.onInstanceDisposed(function(t){e.integratedTerminalInstance&&e.integratedTerminalInstance.id===t.id&&(e.integratedTerminalInstance=null)})),t.setActiveInstance(e.integratedTerminalInstance),t.showPanel(!0),new r.TPromise(function(t,i){setTimeout(function(){if(e.integratedTerminalInstance){var r=c.prepareCommand(s,o);e.integratedTerminalInstance.sendText(r,!0),t(void 0)}else i(new Error(n.localize(1,null)))},l)})},e.prepareCommand=function(e,t){var n,r=t.getConfiguration().terminal.integrated.shell;i.isWindows?n=r.windows:i.isLinux?n=r.linux:i.isMacintosh&&(n=r.osx);var o="";if((n=n.toLowerCase()).indexOf("powershell")>=0){d=function(e){return(e=e.replace(/\'/g,"''")).indexOf(" ")>=0||e.indexOf("'")>=0||e.indexOf('"')>=0?"'"+e+"'":e};if(e.cwd&&(o+="cd '"+e.cwd+"'; "),e.env)for(var s in e.env)o+="$env:"+s+"='"+e.env[s]+"'; ";for(var a=0,c=e.args;a<c.length;a++)o+=d(f=c[a])+" "}else if(n.indexOf("cmd.exe")>=0){d=function(e){return(e=e.replace(/\"/g,'""')).indexOf(" ")>=0||e.indexOf('"')>=0?'"'+e+'"':e};if(e.cwd&&(o+="cd "+d(e.cwd)+" && "),e.env){o+='cmd /C "';for(var s in e.env)o+='set "'+s+"="+e.env[s]+'" && '}for(var l=0,u=e.args;l<u.length;l++)o+=d(f=u[l])+" ";e.env&&(o+='"')}else{var d=function(e){return(e=e.replace(/\"/g,'\\"')).indexOf(" ")>=0?'"'+e+'"':e};if(e.cwd&&(o+="cd "+d(e.cwd)+" ; "),e.env){o+="env";for(var s in e.env)o+=" "+d(s+"="+e.env[s]);o+=" "}for(var h=0,p=e.args;h<p.length;h++){var f=p[h];o+=d(f)+" "}}return o},e}();t.TerminalSupport=o}),define(u[980],d([1,0,4,7]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.id=e,this.sequence=1,this.contentLength=-1,this.pendingRequests=new Map,this.rawData=new Buffer(0)}return e.prototype.getId=function(){return this.id},e.prototype.connect=function(e,t){var n=this;this.outputStream=t,e.on("data",function(e){n.rawData=Buffer.concat([n.rawData,e]),n.handleData()})},e.prototype.send=function(e,t){var r,o=this;return new n.TPromise(function(n,i){r=i,o.doSend(e,t,function(e){e.success?n(e):i(e)})},function(){return r(i.canceled())})},e.prototype.sendResponse=function(e){e.seq>0?console.error("attempt to send more than one response for command "+e.command):this.sendMessage("response",e)},e.prototype.doSend=function(e,t,n){var i={command:e};t&&Object.keys(t).length>0&&(i.arguments=t),this.sendMessage("request",i),n&&this.pendingRequests.set(i.seq,n)},e.prototype.sendMessage=function(t,n){n.type=t,n.seq=this.sequence++;var i=JSON.stringify(n),r=Buffer.byteLength(i,"utf8");this.outputStream.write("Content-Length: "+r.toString()+e.TWO_CRLF,"utf8"),this.outputStream.write(i,"utf8")},e.prototype.handleData=function(){for(;;){if(this.contentLength>=0){if(this.rawData.length>=this.contentLength){var t=this.rawData.toString("utf8",0,this.contentLength);this.rawData=this.rawData.slice(this.contentLength),this.contentLength=-1,t.length>0&&this.dispatch(t);continue}}else{var n=this.rawData.toString("utf8",0,this.rawData.length),i=n.indexOf(e.TWO_CRLF);if(-1!==i){var r=/Content-Length: (\d+)/.exec(n);if(r&&r[1]){this.contentLength=Number(r[1]),this.rawData=this.rawData.slice(i+e.TWO_CRLF.length);continue}}}break}},e.prototype.dispatch=function(e){try{var t=JSON.parse(e);switch(t.type){case"event":this.onEvent(t);break;case"response":var n=t,i=this.pendingRequests.get(n.request_seq);i&&(this.pendingRequests.delete(n.request_seq),i(n));break;case"request":var r=t,o={type:"response",seq:0,command:r.command,request_seq:r.seq,success:!0};this.dispatchRequest(r,o)}}catch(e){this.onServerError(new Error(e.message||e))}},e}();r.TWO_CRLF="\r\n\r\n",t.V8Protocol=r}),define(u[981],d([1,0,583,4,25,54,48]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this,{id:"workbench.action.showEmmetCommands",label:n.localize(0,null),alias:"Show Emmet Commands",precondition:s.EditorContextKeys.writable})||this}return h(t,e),t.prototype.run=function(e,t){return e.get(o.IQuickOpenService).show(">Emmet: "),i.TPromise.as(null)},t}(r.EditorAction);a=v([r.editorAction],a)}),define(u[982],d([1,0,981]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define(u[983],d([1,0,12,14,165,37,184,229]),function(e,t,n,i,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t,n,i,r,o){this.emmetSupportedModes=["html","css","xml","xsl","haml","jade","jsx","slim","scss","sass","less","stylus","styl","svg"],this._languageIdentifierResolver=e,this._editor=t,this._syntaxProfiles=n,this._excludedLanguages=i,this._hasMadeEdits=!1,this._grammars=r,this._emmetActionName=o}return e.prototype.getEmmetSupportedModes=function(){return this.emmetSupportedModes},e.prototype.isEmmetEnabledMode=function(){return-1!==this.emmetSupportedModes.indexOf(this.getSyntax())},e.prototype.getSelectionRange=function(){var e=this._editor.getSelection();return{start:this.getOffsetFromPosition(e.getStartPosition()),end:this.getOffsetFromPosition(e.getEndPosition())}},e.prototype.getCurrentLineRange=function(){var e=this._editor.getSelection().startLineNumber;return{start:this.getOffsetFromPosition(new o.Position(e,1)),end:this.getOffsetFromPosition(new o.Position(e+1,1))}},e.prototype.getCaretPos=function(){var e=this._editor.getSelection().getStartPosition();return this.getOffsetFromPosition(e)},e.prototype.setCaretPos=function(e){this.createSelection(e)},e.prototype.getCurrentLine=function(){var e=this._editor.getSelection().getStartPosition();return this._editor.getModel().getLineContent(e.lineNumber)},e.prototype.onBeforeEmmetAction=function(){this._hasMadeEdits=!1},e.prototype.replaceContent=function(t,n,i,o){var s=this.getRangeToReplace(t,n,i);if(s){var a=e.fixEmmetFinalTabstop(t);this._editor.setSelection(s),r.SnippetController2.get(this._editor).insert(a)}},e.fixEmmetFinalTabstop=function(e){function t(e){if(e instanceof a.Text)return a.SnippetParser.escape(e.string);if(e instanceof a.Placeholder)return e.children.length>0?"${"+e.index+":"+e.children.map(t).join("")+"}":"$"+e.index;if(e instanceof a.Variable)return e.children.length>0?"${"+e.name+":"+e.children.map(t).join("")+"}":"$"+e.name;throw new Error("unexpected marker: "+e)}var n=e.match(/\$\{0\}|\$0/g);if(!n||1===n.length)return e;var i=(new a.SnippetParser).parse(e),r=-Number.MIN_VALUE;return a.walk(i,function(e){if(e instanceof a.Placeholder){var t=e.index;t>r&&(r=t)}return!0}),a.walk(i,function(e){return e instanceof a.Placeholder&&e.isFinalTabstop&&(e.index=++r),!0}),i.map(t).join("")},e.prototype.getRangeToReplace=function(e,t,r){var a=this.getPositionFromOffset(t),c=this.getPositionFromOffset(r),l=this._editor.getModel().getLineContent(a.lineNumber).substr(0,a.column-1).match(/<[/]?$/);if(l){if(!n.startsWith(e,l[0]))return null;a=new o.Position(a.lineNumber,a.column-l[0].length)}if(">"===this._editor.getModel().getLineContent(c.lineNumber).substr(c.column-1,c.column)){if(!n.endsWith(e,">"))return null;c=new o.Position(c.lineNumber,c.column+1)}this._hasMadeEdits||(this._hasMadeEdits=!0,this._editor.pushUndoStop());var u=new i.Range(a.lineNumber,a.column,c.lineNumber,c.column),d=this._editor.getModel().getValueInRange(u);return"expand_abbreviation"!==this._emmetActionName||e!==d&&e!==d+"${0}"?u:(s.CoreEditingCommands.Tab.runEditorCommand(null,this._editor,null),null)},e.prototype.onAfterEmmetAction=function(){this._hasMadeEdits&&this._editor.pushUndoStop()},e.prototype.getContent=function(){return this._editor.getModel().getValue()},e.prototype.createSelection=function(e,t){var n=this.getPositionFromOffset(e),r=null;r=t?this.getPositionFromOffset(t):n;var o=new i.Range(n.lineNumber,n.column,r.lineNumber,r.column);this._editor.setSelection(o),this._editor.revealRange(o)},e.prototype.getSyntax=function(){return this.getSyntaxInternal(!0)},e.prototype.getSyntaxInternal=function(e){var t=this._editor.getSelection().getStartPosition();this._editor.getModel().forceTokenization(t.lineNumber);var n=this._editor.getModel().getLanguageIdAtPosition(t.lineNumber,t.column),i=this._languageIdentifierResolver.getLanguageIdentifier(n).language.split(".").pop();if(-1!==this._excludedLanguages.indexOf(i))return"";var r=this.getSyntaxProfile(i);return e&&r&&-1!==this.emmetSupportedModes.indexOf(r)?r:-1!==this.emmetSupportedModes.indexOf(i)?i:/\b(typescriptreact|javascriptreact|jsx-tags)\b/.test(i)?"jsx":"sass-indented"===i?"sass":i=this.checkParentMode(i)},e.prototype.getLanguage=function(){var e=this._editor.getSelection().getStartPosition();this._editor.getModel().forceTokenization(e.lineNumber);var t=this._editor.getModel().getLanguageIdAtPosition(e.lineNumber,e.column),n=this._languageIdentifierResolver.getLanguageIdentifier(t).language.split(".").pop();return{language:n,parentMode:this.checkParentMode(n)}},e.prototype.getSyntaxProfile=function(e){var t=this._syntaxProfiles[e];if(t&&"string"==typeof t)return t},e.prototype.checkParentMode=function(e){var t=this._grammars.getGrammar(e);if(!t)return e;var n=t.split(".");if(n.length<2)return e;for(var i=1;i<n.length;i++){var r=n[n.length-i];if(-1!==this.emmetSupportedModes.indexOf(r))return r}return e},e.prototype.getProfileName=function(){var e=this.getSyntaxInternal(!1),t=this._syntaxProfiles[e];return t&&"string"!=typeof t?e:null},e.prototype.prompt=function(e){},e.prototype.getSelection=function(){var e=this._editor.getSelection(),t=this._editor.getModel(),n=e.getStartPosition(),r=e.getEndPosition(),o=new i.Range(n.lineNumber,n.column,r.lineNumber,r.column);return t.getValueInRange(o)},e.prototype.getFilePath=function(){return this._editor.getModel().uri.fsPath},e.prototype.getPositionFromOffset=function(e){return this._editor.getModel().getPositionAt(e)},e.prototype.getOffsetFromPosition=function(e){return this._editor.getModel().getOffsetAt(e)},e}();t.EditorAccessor=c}),define(u[306],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ITerminalService=n.createDecorator("nativeTerminalService")}),define(u[326],d([1,0,11,76,4]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_TERMINAL_LINUX_READY=new r.TPromise(function(e){n.isLinux?r.TPromise.join([i.exists("/etc/debian_version"),process.lazyEnv]).then(function(t){var n=t[0];e(n?"x-terminal-emulator":"gnome"===process.env.DESKTOP_SESSION||"gnome-classic"===process.env.DESKTOP_SESSION?"gnome-terminal":"kde-plasma"===process.env.DESKTOP_SESSION?"konsole":process.env.COLORTERM?process.env.COLORTERM:process.env.TERM?process.env.TERM:"xterm")}):e("xterm")}),t.DEFAULT_TERMINAL_OSX="Terminal.app",t.DEFAULT_TERMINAL_WINDOWS=process.env.windir+"\\"+(process.env.hasOwnProperty("PROCESSOR_ARCHITEW6432")?"Sysnative":"System32")+"\\cmd.exe"}),define(u[986],d([1,0,157,52,198,601,7,26,4,23,326,16]),function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";function h(e){for(var t="",n=0,i=e;n<i.length;n++){var r=i[n];r.indexOf(" ")>=0?t+='"'+r+'"':t+=r,t+=" "}return t}Object.defineProperty(t,"__esModule",{value:!0});var p,f=o.localize(0,null);!function(e){e[e.CMD=0]="CMD",e[e.CMDER=1]="CMDER"}(p||(p={}));var g=function(){function e(e){this._configurationService=e}return e.prototype.openTerminal=function(e){var t=this._configurationService.getConfiguration();this.spawnTerminal(n,t,r.getWindowsShell(),e).done(null,s.onUnexpectedError)},e.prototype.runInTerminal=function(t,i,r,o){var s=this._configurationService.getConfiguration().terminal.external.windowsExec||u.DEFAULT_TERMINAL_WINDOWS;return new c.TPromise(function(t,c){var l='"'+i+" - "+f+'"',u='""'+r.join('" "')+'" & pause"',d=["/c","start",l,"/wait",s,"/c",u],h=a.assign({},process.env,o),p={cwd:i,env:h,windowsVerbatimArguments:!0};n.spawn(e.CMD,d,p).on("error",c),t(null)})},e.prototype.spawnTerminal=function(e,t,n,i){var r=t.terminal.external.windowsExec||u.DEFAULT_TERMINAL_WINDOWS,o=this.getSpawnType(r);if(i&&":"===i[1]&&(i=i[0].toUpperCase()+i.substr(1)),o===p.CMDER)return e.spawn(r,[i]),c.TPromise.as(void 0);var s=["/c","start","/wait",'""',r];return new c.TPromise(function(t,r){var o=i?{cwd:i}:void 0,a=e.spawn(n,s,o);a.on("error",r),a.on("exit",function(){return t(null)})})},e.prototype.getSpawnType=function(e){var t=i.basename(e).toLowerCase();return"cmder"===t||"cmder.exe"===t?p.CMDER:p.CMD},e}();g.CMD="cmd.exe",g=v([y(0,l.IConfigurationService)],g),t.WinTerminalService=g;var m=function(){function t(e){this._configurationService=e}return t.prototype.openTerminal=function(e){var t=this._configurationService.getConfiguration();this.spawnTerminal(n,t,e).done(null,s.onUnexpectedError)},t.prototype.runInTerminal=function(i,r,s,a){var l=this._configurationService.getConfiguration().terminal.external.osxExec||u.DEFAULT_TERMINAL_OSX;return new c.TPromise(function(c,h){if(l===u.DEFAULT_TERMINAL_OSX||"iTerm.app"===l){for(var p=l===u.DEFAULT_TERMINAL_OSX?"TerminalHelper":"iTermHelper",g=[d.default.parse(e.toUrl("vs/workbench/parts/execution/electron-browser/"+p+".scpt")).fsPath,"-t",i||f,"-w",r],v=0,m=s;v<m.length;v++){var y=m[v];g.push("-a"),g.push(y)}if(a)for(var b in a)g.push("-e"),g.push(b+"="+a[b]);var S="",_=n.spawn(t.OSASCRIPT,g);_.on("error",h),_.stderr.on("data",function(e){S+=e.toString()}),_.on("exit",function(e){if(0===e)c(null);else if(S){var t=S.split("\n",1);h(new Error(t[0]))}else h(new Error(o.localize(1,null,p,e)))})}else h(new Error(o.localize(2,null,l)))})},t.prototype.spawnTerminal=function(e,t,n){var i=t.terminal.external.osxExec||u.DEFAULT_TERMINAL_OSX;return new c.TPromise(function(t,r){var o=e.spawn("/usr/bin/open",["-a",i,n]);o.on("error",r),o.on("exit",function(){return t(null)})})},t}();m.OSASCRIPT="/usr/bin/osascript",m=v([y(0,l.IConfigurationService)],m),t.MacTerminalService=m;var b=function(){function e(e){this._configurationService=e}return e.prototype.openTerminal=function(e){var t=this._configurationService.getConfiguration();this.spawnTerminal(n,t,e).done(null,s.onUnexpectedError)},e.prototype.runInTerminal=function(t,i,r,s){var l=this._configurationService.getConfiguration().terminal.external,d=l.linuxExec?c.TPromise.as(l.linuxExec):u.DEFAULT_TERMINAL_LINUX_READY;return new c.TPromise(function(t,c){var l=[];d.then(function(u){u.indexOf("gnome-terminal")>=0?l.push("-x"):l.push("-e"),l.push("bash"),l.push("-c");var d=h(r)+'; echo; read -p "'+e.WAIT_MESSAGE+'" -n1;';l.push("''"+d+"''");var p=a.assign({},process.env,s),f={cwd:i,env:p},g="",v=n.spawn(u,l,f);v.on("error",c),v.stderr.on("data",function(e){g+=e.toString()}),v.on("exit",function(e){if(0===e)t(null);else if(g){var n=g.split("\n",1);c(new Error(n[0]))}else c(new Error(o.localize(4,null,u,e)))})})})},e.prototype.spawnTerminal=function(e,t,n){var i=t.terminal.external,r=i.linuxExec?c.TPromise.as(i.linuxExec):u.DEFAULT_TERMINAL_LINUX_READY,o=n?{cwd:n}:void 0;return new c.TPromise(function(t,n){r.then(function(i){var r=e.spawn(i,[],o);r.on("error",n),r.on("exit",function(){return t(null)})})})},e}();b.WAIT_MESSAGE=o.localize(3,null),b=v([y(0,l.IConfigurationService)],b),t.LinuxTerminalService=b}),define(u[987],d([1,0,11,986,116,306]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.isWindows?r.registerSingleton(o.ITerminalService,i.WinTerminalService):n.isMacintosh?r.registerSingleton(o.ITerminalService,i.MacTerminalService):n.isLinux&&r.registerSingleton(o.ITerminalService,i.LinuxTerminalService)}),define(u[451],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this.value=e,this.sortBy=t,this.value=e.trim()}return e.parse=function(t){var n="";return t=t.replace(/@sort:(\w+)(-\w*)?/g,function(e,t,i){return n=t,""}),new e(t,n)},e.prototype.toString=function(){var e=this.value;return this.sortBy&&(e=e+(e?" ":"")+"@sort:"+this.sortBy),e},e.prototype.isValid=function(){return!/@outdated/.test(this.value)},e.prototype.equals=function(e){return this.value===e.value&&this.sortBy===e.sortBy},e}();t.Query=n}),define(u[92],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VIEWLET_ID="workbench.view.extensions";!function(e){e[e.Installing=0]="Installing",e[e.Installed=1]="Installed",e[e.Uninstalling=2]="Uninstalling",e[e.Uninstalled=3]="Uninstalled"}(t.ExtensionState||(t.ExtensionState={})),t.SERVICE_ID="extensionsWorkbenchService",t.IExtensionsWorkbenchService=n.createDecorator(t.SERVICE_ID),t.ConfigurationKey="extensions"}),define(u[990],d([1,0,9,602,5,4,121,21,92,8,150,6]),function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(){}return e.prototype.getId=function(e,t){var n=this,i=t.identifier;return this.getParent(e,t).then(function(t){i=t?n.getId(e,t)+"/"+i:i}),i},e.prototype.hasChildren=function(e,t){return t.hasDependencies},e.prototype.getChildren=function(e,t){return o.TPromise.as(t.dependencies)},e.prototype.getParent=function(e,t){return o.TPromise.as(t.dependent)},e}();t.DataSource=p;var f=function(){function e(e){this.instantiationService=e}return e.prototype.getHeight=function(e,t){return 62},e.prototype.getTemplateId=function(t,n){return n.extension?e.EXTENSION_TEMPLATE_ID:e.UNKNOWN_EXTENSION_TEMPLATE_ID},e.prototype.renderTemplate=function(t,n,i){return e.EXTENSION_TEMPLATE_ID===n?this.renderExtensionTemplate(t,i):this.renderUnknownExtensionTemplate(t,i)},e.prototype.renderExtensionTemplate=function(e,t){n.addClass(t,"dependency");var i=n.append(t,n.$("img.icon")),r=n.append(t,n.$(".details")),o=n.append(r,n.$(".header")),s=n.append(o,n.$("span.name")),a=this.instantiationService.createInstance(m),c=[n.addDisposableListener(s,"click",function(t){e.setFocus(a.extensionDependencies),e.setSelection([a.extensionDependencies]),a.run(t.ctrlKey||t.metaKey),t.stopPropagation(),t.preventDefault()})],l=n.append(o,n.$("span.identifier")),u=n.append(r,n.$(".footer"));return{icon:i,name:s,identifier:l,author:n.append(u,n.$(".author")),extensionDisposables:c,set extensionDependencies(e){a.extensionDependencies=e}}},e.prototype.renderUnknownExtensionTemplate=function(e,t){var r=n.append(t,n.$("div.unknown-dependency"));return n.append(r,n.$("span.error-marker")).textContent=i.localize(0,null),n.append(r,n.$("span.message")).textContent=i.localize(1,null),{identifier:n.append(r,n.$("span.message"))}},e.prototype.renderElement=function(t,n,i,r){i!==e.EXTENSION_TEMPLATE_ID?this.renderUnknownExtension(t,n,r):this.renderExtension(t,n,r)},e.prototype.renderExtension=function(e,t,n){var i=t.extension;l.once(u.domEvent(n.icon,"error"))(function(){return n.icon.src=i.iconUrlFallback},null,n.extensionDisposables),n.icon.src=i.iconUrl,n.icon.complete?n.icon.style.visibility="inherit":(n.icon.style.visibility="hidden",n.icon.onload=function(){return n.icon.style.visibility="inherit"}),n.name.textContent=i.displayName,n.identifier.textContent=i.id,n.author.textContent=i.publisherDisplayName,n.extensionDependencies=t},e.prototype.renderUnknownExtension=function(e,t,n){n.identifier.textContent=t.identifier},e.prototype.disposeTemplate=function(t,n,i){n===e.EXTENSION_TEMPLATE_ID&&(i.extensionDisposables=r.dispose(i.extensionDisposables))},e}();f.EXTENSION_TEMPLATE_ID="extension-template",f.UNKNOWN_EXTENSION_TEMPLATE_ID="unknown-extension-template",f=v([y(0,d.IInstantiationService)],f),t.Renderer=f;var g=function(e){function t(t){var n=e.call(this,{clickBehavior:s.ClickBehavior.ON_MOUSE_UP,keyboardSupport:!1})||this;return n.extensionsWorkdbenchService=t,n.downKeyBindingDispatcher.set(2051,function(e,t){return n.openExtension(e,!0)}),n}return h(t,e),t.prototype.onLeftClick=function(t,n,i){var r=t.getFocus();return!(!e.prototype.onLeftClick.call(this,t,n,i)||null!==n.dependent)&&(r?t.setFocus(r):t.focusFirst(),!0)},t.prototype.openExtension=function(e,t){var n=e.getFocus();return!!n.extension&&(this.extensionsWorkdbenchService.open(n.extension,t),!0)},t}(s.DefaultController);g=v([y(0,c.IExtensionsWorkbenchService)],g),t.Controller=g;var m=function(e){function t(t){var n=e.call(this,"extensions.action.openDependency","")||this;return n.extensionsWorkdbenchService=t,n}return h(t,e),Object.defineProperty(t.prototype,"extensionDependencies",{get:function(){return this._extensionDependencies},set:function(e){this._extensionDependencies=e},enumerable:!0,configurable:!0}),t.prototype.run=function(e){return this.extensionsWorkdbenchService.open(this._extensionDependencies.extension,e)},t}(a.Action);m=v([y(0,c.IExtensionsWorkbenchService)],m)}),define(u[448],d([1,0,5,92,9,968]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,n){this.element=e,this.fn=t,this.render(),this.listener=n.onChange(this.render,this)}return Object.defineProperty(e.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e,this.render()},enumerable:!0,configurable:!0}),e.prototype.render=function(){this.element.textContent=this.extension?this.fn(this.extension):""},e.prototype.dispose=function(){this.listener=n.dispose(this.listener)},e}();o=v([y(2,i.IExtensionsWorkbenchService)],o),t.Label=o;var s=function(){function e(e,t,n){var i=this;this.container=e,this.options=t,this.disposables=[],this._extension=t.extension,this.disposables.push(n.onChange(function(){return i.render()})),r.addClass(e,"extension-install-count"),this.render()}return Object.defineProperty(e.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e,this.render()},enumerable:!0,configurable:!0}),e.prototype.render=function(){if(this.container.innerHTML="",this.extension){var e=this.extension.installCount;if(null!==e){var t;this.options.small&&(e>1e6?t=Math.floor(e/1e5)/10+"M":e>1e3&&(t=Math.floor(e/1e3)+"K")),r.append(this.container,r.$("span.octicon.octicon-cloud-download")),r.append(this.container,r.$("span.count")).textContent=t||String(e)}}},e.prototype.dispose=function(){this.disposables=n.dispose(this.disposables)},e}();s=v([y(2,i.IExtensionsWorkbenchService)],s),t.InstallWidget=s;var a=function(){function e(e,t,n){var i=this;this.container=e,this.options=t,this.disposables=[],this._extension=t.extension,this.disposables.push(n.onChange(function(){return i.render()})),r.addClass(e,"extension-ratings"),t.small&&r.addClass(e,"small"),this.render()}return Object.defineProperty(e.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e,this.render()},enumerable:!0,configurable:!0}),e.prototype.render=function(){if(this.container.innerHTML="",this.extension){var e=Math.round(2*this.extension.rating)/2;if(null!==this.extension.rating&&(!this.options.small||0!==this.extension.ratingCount))if(this.options.small)r.append(this.container,r.$("span.full.star")),r.append(this.container,r.$("span.count")).textContent=String(e);else for(var t=1;t<=5;t++)e>=t?r.append(this.container,r.$("span.full.star")):e>=t-.5?r.append(this.container,r.$("span.half.star")):r.append(this.container,r.$("span.empty.star"))}},e.prototype.dispose=function(){this.disposables=n.dispose(this.disposables)},e}();a=v([y(2,i.IExtensionsWorkbenchService)],a),t.RatingsWidget=a}),define(u[445],d([1,0,606,87]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionsConfigurationSchemaId="vscode://schemas/extensions",t.ExtensionsConfigurationSchema={id:t.ExtensionsConfigurationSchemaId,type:"object",title:n.localize(0,null),properties:{recommendations:{type:"array",description:n.localize(1,null),items:{type:"string",pattern:i.EXTENSION_IDENTIFIER_PATTERN,errorMessage:n.localize(2,null)}}}},t.ExtensionsConfigurationInitialContent=["{","\t// See http://go.microsoft.com/fwlink/?LinkId=827846","\t// for the documentation about the extensions.json format",'\t"recommendations": [',"\t\t// Extension identifier format: ${publisher}.${name}. Example: vscode.csharp","\t\t","\t]","}"].join("\n")}),define(u[303],d([1,0,607,4,30,16]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t){var n=e.call(this)||this;return n._extension=t,n}return h(t,e),Object.defineProperty(t,"ID",{get:function(){return"workbench.extensions.input2"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extension",{get:function(){return this._extension},enumerable:!0,configurable:!0}),t.prototype.getTypeId=function(){return t.ID},t.prototype.getName=function(){return n.localize(0,null,this.extension.displayName)},t.prototype.matches=function(e){if(!(e instanceof t))return!1;var n=e;return this.extension===n.extension},t.prototype.resolve=function(e){return i.TPromise.as(null)},t.prototype.supportsSplitEditor=function(){return!1},t.prototype.getResource=function(){return o.default.from({scheme:"extension",path:this.extension.id})},t}(r.EditorInput);t.ExtensionsInput=s}),define(u[443],d([1,0,34,611,8,7,4,5,19,87,59,69,6,31,20,21,141]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,m){"use strict";function b(e){var t=e.get(l.IExtensionManagementService),n=e.get(l.IExtensionEnablementService);return r.debounceEvent(r.any(r.chain(r.any(t.onDidInstallExtension,t.onDidUninstallExtension)).map(function(e){return E(e.id)}).event,n.onEnablementChanged),function(e,t){return e?(-1===e.indexOf(t)&&e.push(t),e):[t]})}function S(e){var t=e.get(l.IExtensionManagementService),n=e.get(l.IExtensionEnablementService);return t.getInstalled().then(function(e){var t=n.getGloballyDisabledExtensions();return e.map(function(e){var n=E(e.id);return{identifier:n,local:e,globallyEnabled:-1===t.indexOf(n)}})})}function _(e,t){var n=t.local.manifest.categories;return n&&-1!==n.indexOf("Keymaps")||-1!==e.getKeymapRecommendations().indexOf(t.identifier)}function E(e){return m.getIdAndVersionFromLocalExtensionId(e).id}Object.defineProperty(t,"__esModule",{value:!0});var C=function(){function e(e,t,n,i,r,a){var c=this;this.instantiationService=e,this.extensionEnablementService=t,this.tipsService=n,this.choiceService=i,this.telemetryService=a,this.disposables=[],this.disposables.push(r.onShutdown(function(){return c.dispose()}),e.invokeFunction(b)(function(e){s.TPromise.join(e.map(function(e){return c.checkForOtherKeymaps(e)})).then(null,o.onUnexpectedError)}))}return e.prototype.getId=function(){return"vs.extensions.keymapExtensions"},e.prototype.checkForOtherKeymaps=function(e){var t=this;return this.instantiationService.invokeFunction(S).then(function(i){var r=i.filter(function(e){return _(t.tipsService,e)}),o=n.first(r,function(t){return t.identifier===e});if(o&&o.globallyEnabled){var s=r.filter(function(t){return t.identifier!==e&&t.globallyEnabled});if(s.length)return t.promptForDisablingOtherKeymaps(o,s)}})},e.prototype.promptForDisablingOtherKeymaps=function(e,t){var n=this,r={newKeymap:e.identifier,oldKeymaps:t.map(function(e){return e.identifier})};this.telemetryService.publicLog("disableOtherKeymapsConfirmation",r);var a=i.localize(0,null,t.map(function(e){return"'"+e.local.manifest.displayName+"'"}).join(", ")),c=[i.localize(1,null),i.localize(2,null)];return this.choiceService.choose(f.Severity.Info,a,c,1,!1).then(function(e){var i=0===e;if(r.confirmed=i,n.telemetryService.publicLog("disableOtherKeymaps",r),i)return s.TPromise.join(t.map(function(e){return n.extensionEnablementService.setEnablement(e.identifier,!1)}))},function(e){return s.TPromise.wrapError(o.canceled())})},e.prototype.dispose=function(){this.disposables=a.dispose(this.disposables)},e}();C=v([y(0,h.IInstantiationService),y(1,l.IExtensionEnablementService),y(2,l.IExtensionTipsService),y(3,f.IChoiceService),y(4,d.ILifecycleService),y(5,c.ITelemetryService)],C),t.KeymapExtensions=C,t.onExtensionChanged=b,t.getInstalledExtensions=S,t.isKeymapExtension=_;var w=function(){function e(e,t,n,r,o){n.onReady().then(function(){e.getBoolean(m.BetterMergeDisabledNowKey,p.StorageScope.GLOBAL,!1)&&(e.remove(m.BetterMergeDisabledNowKey,p.StorageScope.GLOBAL),o.publicLog("betterMergeDisabled"),t.show(f.Severity.Info,{message:i.localize(3,null),actions:[new g.Action("uninstall",i.localize(4,null),null,!0,function(){return o.publicLog("betterMergeUninstall",{outcome:"uninstall"}),r.getInstalled(l.LocalExtensionType.User).then(function(e){return Promise.all(e.filter(function(e){return E(e.id)===m.BetterMergeId}).map(function(e){return r.uninstall(e,!0)}))})}),new g.Action("later",i.localize(5,null),null,!0,function(){return o.publicLog("betterMergeUninstall",{outcome:"later"}),s.TPromise.as(!0)})]}))})}return e.prototype.getId=function(){return"vs.extensions.betterMergeDisabled"},e}();w=v([y(0,p.IStorageService),y(1,f.IMessageService),y(2,u.IExtensionService),y(3,l.IExtensionManagementService),y(4,c.ITelemetryService)],w),t.BetterMergeDisabled=w}),define(u[995],d([1,0,615,40,375,19,80,9,32,7,238,13,55,29,962]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g;!function(e){e[e.SENDING=0]="SENDING",e[e.SENT=1]="SENT",e[e.SEND_ERROR=2]="SEND_ERROR"}(g||(g={}));var m=function(e){function t(t,r,o,a,c,l){var u=e.call(this,t,{contextViewProvider:r.contextViewProvider,labelRenderer:function(e){return i.$(e).addClass("send-feedback","mask-icon"),null}})||this;return u.telemetryService=o,u.commandService=a,u.integrityService=c,u.themeService=l,u._isPure=!0,u.integrityService.isPure().then(function(e){e.isPure||(u._isPure=!1)}),u.element.addClass("send-feedback"),u.element.title(n.localize(0,null)),u.feedbackService=r.feedbackService,u.feedback="",u.sentiment=1,u.maxFeedbackCharacters=u.feedbackService.getCharacterLimit(u.sentiment),u.feedbackForm=null,u.feedbackDescriptionInput=null,u.smileyInput=null,u.frownyInput=null,u.sendButton=null,u.reportIssueLink=s.default.reportIssueUrl,u.requestFeatureLink=s.default.requestFeatureUrl,u}return h(t,e),t.prototype.renderContents=function(e){var t=this,r=i.$("form.feedback-form").attr({action:"javascript:void(0);",tabIndex:"-1"}).appendTo(e);i.$(e).addClass("monaco-menu-container"),this.feedbackForm=r.getHTMLElement(),i.$("h2.title").text(n.localize(1,null)).appendTo(r),this.invoke(i.$("div.cancel").attr("tabindex","0"),function(){t.hide()}).appendTo(r);var o=i.$("div.content").appendTo(r),s=i.$("div").appendTo(o);this._isPure||(i.$("span").text(n.localize(2,null)).appendTo(s),i.$("br").appendTo(s),i.$("span").text(n.localize(3,null)).appendTo(s),i.$("br").appendTo(s)),i.$("span").text(n.localize(4,null)).appendTo(s);var c=i.$("div.feedback-sentiment").appendTo(s);this.smileyInput=i.$("div").addClass("sentiment smile").attr({"aria-checked":"false","aria-label":n.localize(5,null),tabindex:0,role:"checkbox"}),this.invoke(this.smileyInput,function(){t.setSentiment(!0)}).appendTo(c),this.frownyInput=i.$("div").addClass("sentiment frown").attr({"aria-checked":"false","aria-label":n.localize(6,null),tabindex:0,role:"checkbox"}),this.invoke(this.frownyInput,function(){t.setSentiment(!1)}).appendTo(c),1===this.sentiment?this.smileyInput.addClass("checked").attr("aria-checked","true"):this.frownyInput.addClass("checked").attr("aria-checked","true");var u=i.$("div.contactus").appendTo(o);i.$("span").text(n.localize(7,null)).appendTo(u);var d=i.$("div.channels").appendTo(u);i.$("div").append(i.$("a").attr("target","_blank").attr("href","#").text(n.localize(8,null)).attr("tabindex","0")).on("click",function(e){a.EventHelper.stop(e),t.commandService.executeCommand("workbench.action.reportIssues").done(null,l.onUnexpectedError)}).appendTo(d),i.$("div").append(i.$("a").attr("target","_blank").attr("href",this.requestFeatureLink).text(n.localize(9,null)).attr("tabindex","0")).appendTo(d),this.remainingCharacterCount=i.$("span.char-counter").text(this.getCharCountText(0)),i.$("h3").text(n.localize(10,null)).append(this.remainingCharacterCount).appendTo(r),this.feedbackDescriptionInput=i.$("textarea.feedback-description").attr({rows:3,maxlength:this.maxFeedbackCharacters,"aria-label":n.localize(11,null)}).text(this.feedback).attr("required","required").on("keyup",function(){t.updateCharCountText()}).appendTo(r).domFocus().getHTMLElement();var h=i.$("div.form-buttons").appendTo(r);return this.sendButton=this.invoke(i.$("input.send").type("submit").attr("disabled","").value(n.localize(12,null)).appendTo(h),function(){t.isSendingFeedback||t.onSubmit()}),this.toDispose.push(p.attachStylerCallback(this.themeService,{widgetShadow:f.widgetShadow,editorWidgetBackground:f.editorWidgetBackground,inputBackground:f.inputBackground,inputForeground:f.inputForeground,inputBorder:f.inputBorder,editorBackground:f.editorBackground,contrastBorder:f.contrastBorder},function(e){r.style("background-color",e.editorWidgetBackground),r.style("box-shadow",e.widgetShadow?"0 2px 8px "+e.widgetShadow:null),t.feedbackDescriptionInput&&(t.feedbackDescriptionInput.style.backgroundColor=e.inputBackground,t.feedbackDescriptionInput.style.color=e.inputForeground,t.feedbackDescriptionInput.style.border="1px solid "+(e.inputBorder||"transparent")),u.style("background-color",e.editorBackground),u.style("border","1px solid "+(e.contrastBorder||"transparent"))})),{dispose:function(){t.feedbackForm=null,t.feedbackDescriptionInput=null,t.smileyInput=null,t.frownyInput=null}}},t.prototype.getCharCountText=function(e){var t=this.maxFeedbackCharacters-e;return"("+t+" "+(1===t?n.localize(13,null):n.localize(14,null))+")"},t.prototype.updateCharCountText=function(){this.remainingCharacterCount.text(this.getCharCountText(this.feedbackDescriptionInput.value.length)),this.feedbackDescriptionInput.value?this.sendButton.removeAttribute("disabled"):this.sendButton.attr("disabled","")},t.prototype.setSentiment=function(e){e?(this.smileyInput.addClass("checked"),this.smileyInput.attr("aria-checked","true"),this.frownyInput.removeClass("checked"),this.frownyInput.attr("aria-checked","false")):(this.frownyInput.addClass("checked"),this.frownyInput.attr("aria-checked","true"),this.smileyInput.removeClass("checked"),this.smileyInput.attr("aria-checked","false")),this.sentiment=e?1:0,this.maxFeedbackCharacters=this.feedbackService.getCharacterLimit(this.sentiment),this.updateCharCountText(),i.$(this.feedbackDescriptionInput).attr({maxlength:this.maxFeedbackCharacters})},t.prototype.invoke=function(e,t){return e.on("click",t),e.on("keypress",function(e){if(e instanceof KeyboardEvent){var n=e;13!==n.keyCode&&32!==n.keyCode||t()}}),e},t.prototype.hide=function(){this.feedbackDescriptionInput&&(this.feedback=this.feedbackDescriptionInput.value),this.autoHideTimeout&&(clearTimeout(this.autoHideTimeout),this.autoHideTimeout=null),e.prototype.hide.call(this)},t.prototype.onEvent=function(e,t){e instanceof KeyboardEvent&&27===e.keyCode&&this.hide()},t.prototype.onSubmit=function(){this.feedbackForm.checkValidity&&!this.feedbackForm.checkValidity()||(this.changeFormStatus(g.SENDING),this.feedbackService.submitFeedback({feedback:this.feedbackDescriptionInput.value,sentiment:this.sentiment}),this.changeFormStatus(g.SENT))},t.prototype.changeFormStatus=function(e){var t=this;switch(e){case g.SENDING:this.isSendingFeedback=!0,this.sendButton.setClass("send in-progress"),this.sendButton.value(n.localize(15,null));break;case g.SENT:this.isSendingFeedback=!1,this.sendButton.setClass("send success").value(n.localize(16,null)),this.resetForm(),this.autoHideTimeout=setTimeout(function(){t.hide()},1e3),this.sendButton.off(["click","keypress"]),this.invoke(this.sendButton,function(){t.hide(),t.sendButton.off(["click","keypress"])});break;case g.SEND_ERROR:this.isSendingFeedback=!1,this.sendButton.setClass("send error").value(n.localize(17,null))}},t.prototype.resetForm=function(){this.feedbackDescriptionInput&&(this.feedbackDescriptionInput.value=""),this.sentiment=1,this.maxFeedbackCharacters=this.feedbackService.getCharacterLimit(this.sentiment),this.aliasEnabled=!1},t}(r.Dropdown);m=v([y(2,o.ITelemetryService),y(3,c.ICommandService),y(4,u.IIntegrityService),y(5,d.IThemeService)],m),t.FeedbackDropdown=m,d.registerThemingParticipant(function(e,t){var n=e.getColor(f.inputActiveOptionBorder);n&&t.addRule(".monaco-shell .feedback-form .sentiment.checked { border: 1px solid "+n+"; }");var i=e.getColor(f.buttonBackground)||e.getColor(f.contrastBorder);i&&t.addRule(".monaco-shell .feedback-form .content .channels a { color: "+i+"; }")})}),define(u[996],d([1,0,995,41,6,80,74,13,27]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(){}return e.prototype.combineHashTagsAsString=function(){return e.HASHTAGS.join(",")},e.prototype.submitFeedback=function(t){var n="?"+(1===t.sentiment?"hashtags="+this.combineHashTagsAsString()+"&":null)+"ref_src=twsrc%5Etfw&related=twitterapi%2Ctwitter&text="+t.feedback+"&tw_p=tweetbutton&via="+e.VIA_NAME,i=e.TWITTER_URL+n;window.open(i)},e.prototype.getCharacterLimit=function(t){var n=0;return 1===t&&e.HASHTAGS.forEach(function(e){n+=e.length+2}),e.VIA_NAME&&(n+=(" via @"+e.VIA_NAME).length),140-n},e}();l.TWITTER_URL="https://twitter.com/intent/tweet",l.VIA_NAME="code",l.HASHTAGS=["HappyCoding"];var u=function(e){function t(t,n,i,r){var o=e.call(this,r)||this;return o.instantiationService=t,o.contextViewService=n,o.contextService=i,o}return h(t,e),t.prototype.updateStyles=function(){e.prototype.updateStyles.call(this),this.dropdown&&this.dropdown.label.style("background-color",this.getColor(this.contextService.hasWorkspace()?s.STATUS_BAR_FOREGROUND:s.STATUS_BAR_NO_FOLDER_FOREGROUND))},t.prototype.render=function(e){return o.default.sendASmile?(this.dropdown=this.instantiationService.createInstance(n.FeedbackDropdown,e,{contextViewProvider:this.contextViewService,feedbackService:this.instantiationService.createInstance(l)}),this.updateStyles(),this.dropdown):null},t}(s.Themable);u=v([y(0,r.IInstantiationService),y(1,i.IContextViewService),y(2,c.IWorkspaceContextService),y(3,a.IThemeService)],u),t.FeedbackStatusbarItem=u}),define(u[997],d([1,0,15,218,996]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.Registry.as(i.Extensions.Statusbar).registerStatusbarItem(new i.StatusbarItemDescriptor(r.FeedbackStatusbarItem,i.StatusbarAlignment.RIGHT,-100))}),define(u[441],d([1,0,5,18,8]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this)||this;return n.tree=t,n._openFile=new r.Emitter,n.openFile=n._openFile.event,n.throttler=new i.Throttler,n._register(n.tree.addListener("focus",function(e){return n.onFocus(e)})),n._register(n.tree.addListener("selection",function(e){return n.onSelection(e)})),n}return h(t,e),t.prototype.onFocus=function(e){var t=this.tree.getFocus();this.tree.setSelection([t],{fromFocus:!0}),this._openFile.fire({editorOptions:{preserveFocus:!0,pinned:!1,revealIfVisible:!0},sideBySide:!1,element:t,payload:e.payload})},t.prototype.onSelection=function(e){var t=e.payload;if(!t||!t.fromFocus){var n=t&&"keyboard"===t.origin,i=t&&t.originalEvent,r=t&&"mouse"===t.origin&&i&&2===i.detail;r&&i&&i.preventDefault();var o=i&&(i.ctrlKey||i.metaKey),s=!(n&&(!t||!t.preserveFocus)||r||t&&t.focusEditor);this._openFile.fire({editorOptions:{preserveFocus:s,pinned:r,revealIfVisible:!o},sideBySide:o,element:this.tree.getSelection()[0],payload:t})}},t}(n.Disposable);t.default=o}),define(u[153],d([1,0,16,28,70,11,43,27,30]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l;!function(e){e[e.FILE=0]="FILE",e[e.FOLDER=1]="FOLDER",e[e.ANY=2]="ANY"}(l=t.StatType||(t.StatType={}));var u=function(){function e(e){var t=this;this.contextService=e;var n=function(){return t._roots=t.contextService.getWorkspace2().roots.map(function(e){return new d(e,void 0)})};this.contextService.onDidChangeWorkspaceRoots(function(){return n()}),n()}return Object.defineProperty(e.prototype,"roots",{get:function(){return this._roots},enumerable:!0,configurable:!0}),e.prototype.findAll=function(e){return this.roots.map(function(t){return t.find(e)}).filter(function(e){return!!e})},e.prototype.findClosest=function(e){var t=this.contextService.getRoot(e);if(t){var n=this.roots.filter(function(e){return e.resource.toString()===t.toString()}).pop();if(n)return n.find(e)}return null},e}();u=v([y(0,a.IWorkspaceContextService)],u),t.Model=u;var d=function(){function e(e,t,n,r,o,s,a){void 0===o&&(o=i.basename(e.fsPath)),this.root=t,this.resource=e,this.name=o,this.isDirectory=!!n,this.hasChildren=n&&r,this.etag=a,this.mtime=s,this.isDirectory&&(this.children=[]),this.root||(this.root=this),this.isDirectoryResolved=!1}return e.prototype.getId=function(){return this.resource.toString()},Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.resource.toString()===this.root.resource.toString()},enumerable:!0,configurable:!0}),e.create=function(t,n,r){var s=new e(t.resource,n,t.isDirectory,t.hasChildren,t.name,t.mtime,t.etag);if(s.isDirectory&&(s.isDirectoryResolved=!!t.children||!!r&&r.some(function(e){return i.isEqualOrParent(e.fsPath,s.resource.fsPath,!o.isLinux)}),t.children))for(var a=0,c=t.children.length;a<c;a++){var l=e.create(t.children[a],n,r);l.parent=s,s.children.push(l),s.hasChildren=s.children.length>0}return s},e.mergeLocalWithDisk=function(t,n){if(t.resource.toString()===n.resource.toString()){var i=t.isDirectory||n.isDirectory;if((!i||!n.isDirectoryResolved||t.isDirectoryResolved)&&(n.resource=t.resource,n.name=t.name,n.isDirectory=t.isDirectory,n.hasChildren=t.isDirectory&&t.hasChildren,n.mtime=t.mtime,n.isDirectoryResolved=t.isDirectoryResolved,i&&t.isDirectoryResolved)){var o=new r.ResourceMap;n.children&&n.children.forEach(function(e){o.set(e.resource,e)}),n.children=[],t.children.forEach(function(t){var i=o.get(t.resource);i?(e.mergeLocalWithDisk(t,i),i.parent=n,n.children.push(i)):(t.parent=n,n.children.push(t))})}}},e.prototype.addChild=function(e){e.parent=this,e.updateResource(!1),this.children.push(e),this.hasChildren=this.children.length>0},e.prototype.hasChild=function(e,t,n){void 0===n&&(n=l.ANY);for(var i=0;i<this.children.length;i++){var r=this.children[i];if(!(n===l.FILE&&r.isDirectory||n===l.FOLDER&&!r.isDirectory)){if(r.name===e)return!0;if(t&&r.name.toLowerCase()===e.toLowerCase())return!0}}return!1},e.prototype.removeChild=function(e){for(var t=0;t<this.children.length;t++)if(this.children[t].resource.toString()===e.resource.toString()){this.children.splice(t,1);break}this.hasChildren=this.children.length>0},e.prototype.move=function(e,t,n){var i=this;t||(t=function(e){e()}),this.parent.removeChild(this),t(function(){e.removeChild(i),e.addChild(i),i.updateResource(!0),n&&n()})},e.prototype.updateResource=function(e){this.resource=n.default.file(i.join(this.parent.resource.fsPath,this.name)),e&&this.isDirectory&&this.hasChildren&&this.children&&this.children.forEach(function(e){e.updateResource(!0)})},e.prototype.rename=function(e){this.name=e.name,this.mtime=e.mtime,this.updateResource(!0)},e.prototype.find=function(e){if(i.isEqual(e.fsPath,this.resource.fsPath,!o.isLinux))return this;if(!this.hasChildren)return null;for(var t=0;t<this.children.length;t++){var n=this.children[t];if(i.isEqual(e.fsPath,n.resource.fsPath,!o.isLinux))return n;if(n.isDirectory&&s.isParent(e.fsPath,n.resource.fsPath,!o.isLinux))return n.find(e)}return null},e}();t.FileStat=d;var p=function(e){function t(i,r){var o=e.call(this,n.default.file(""),r)||this;return o.id=t.ID++,o.isDirectoryResolved=i,o.directoryPlaceholder=i,o}return h(t,e),t.prototype.destroy=function(){this.parent.removeChild(this),this.isDirectoryResolved=void 0,this.name=void 0,this.isDirectory=void 0,this.hasChildren=void 0,this.mtime=void 0},t.prototype.getId=function(){return"new-stat-placeholder:"+this.id+":"+this.parent.resource.toString()},t.prototype.isDirectoryPlaceholder=function(){return this.directoryPlaceholder},t.prototype.addChild=function(e){throw new Error("Can't perform operations in NewStatPlaceholder.")},t.prototype.hasChild=function(e,t){return!1},t.prototype.removeChild=function(e){throw new Error("Can't perform operations in NewStatPlaceholder.")},t.prototype.move=function(e){throw new Error("Can't perform operations in NewStatPlaceholder.")},t.prototype.rename=function(e){throw new Error("Can't perform operations in NewStatPlaceholder.")},t.prototype.find=function(e){return null},t.addNewStatPlaceholder=function(e,n){var i=new t(n,e.root);return i.parent=e,e.children.push(i),e.hasChildren=e.children.length>0,i},t}(d);p.ID=0,t.NewStatPlaceholder=p;var f=function(){function e(e,t){this.editor=e,this.group=t}return Object.defineProperty(e.prototype,"editorInput",{get:function(){return this.editor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"editorGroup",{get:function(){return this.group},enumerable:!0,configurable:!0}),e.prototype.getId=function(){return"openeditor:"+this.group.id+":"+this.group.indexOf(this.editor)+":"+this.editor.getName()+":"+this.editor.getDescription()},e.prototype.isPreview=function(){return this.group.isPreview(this.editor)},e.prototype.isUntitled=function(){return!!c.toResource(this.editor,{supportSideBySide:!0,filter:"untitled"})},e.prototype.isDirty=function(){return this.editor.isDirty()},e.prototype.getResource=function(){return c.toResource(this.editor,{supportSideBySide:!0,filter:["file","untitled"]})},e}();t.OpenEditor=f}),define(u[93],d([1,0,153,17]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VIEWLET_ID="workbench.view.explorer";t.ExplorerViewletVisibleContext=new i.RawContextKey("explorerViewletVisible",!0),t.ExplorerFolderContext=new i.RawContextKey("explorerResourceIsFolder",!1),t.FilesExplorerFocussedContext=new i.RawContextKey("filesExplorerFocus",!1),t.OpenEditorsVisibleContext=new i.RawContextKey("openEditorsVisible",!1),t.OpenEditorsFocussedContext=new i.RawContextKey("openEditorsFocus",!1),t.ExplorerFocussedContext=new i.RawContextKey("explorerViewletFocus",!1),t.OpenEditorsVisibleCondition=i.ContextKeyExpr.has("openEditorsVisible"),t.FilesExplorerFocusCondition=i.ContextKeyExpr.and(i.ContextKeyExpr.has("explorerViewletVisible"),i.ContextKeyExpr.has("filesExplorerFocus")),t.ExplorerFocusCondition=i.ContextKeyExpr.and(i.ContextKeyExpr.has("explorerViewletVisible"),i.ContextKeyExpr.has("explorerViewletFocus")),t.FILE_EDITOR_INPUT_ID="workbench.editors.files.fileEditorInput",t.TEXT_FILE_EDITOR_ID="workbench.editors.files.textFileEditor",t.BINARY_FILE_EDITOR_ID="workbench.editors.files.binaryFileEditor",t.explorerItemToFileResource=function(e){if(e instanceof n.FileStat){var t=e;return{resource:t.resource,isDirectory:t.isDirectory}}if(e instanceof n.OpenEditor){var i=e,r=i.getResource();if(r&&"file"===r.scheme)return{resource:i.getResource()}}return null}}),define(u[1001],d([1,0,616,309,93,19,13,62]),function(e,t,n,i,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(n,i,r){return e.call(this,t.ID,n,i,r)||this}return h(t,e),t.prototype.getTitle=function(){return this.input?this.input.getName():n.localize(0,null)},t}(i.BaseBinaryResourceEditor);c.ID=r.BINARY_FILE_EDITOR_ID,c=v([y(0,o.ITelemetryService),y(1,s.IThemeService),y(2,a.IWindowsService)],c),t.BinaryFileEditor=c}),define(u[264],d([1,0,632,16,4,5,8,9,32,35,29,13]),function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),c.CommandsRegistry.registerCommand("_webview.openDevTools",function(){for(var e=document.querySelectorAll("webview.ready"),t=0;t<e.length;t++)try{e.item(t).openDevTools()}catch(e){console.error(e)}}),l.MenuRegistry.addCommand({id:"_webview.openDevTools",title:n.localize(0,null)});var h=function(){function t(n,o,c){void 0===c&&(c={});var l=this;if(this.parent=n,this._styleElement=o,this._options=c,this._disposables=[],this._onDidClickLink=new s.Emitter,this._onDidLoadContent=new s.Emitter,this._onDidScroll=new s.Emitter,this._webview=document.createElement("webview"),this._webview.setAttribute("partition",this._options.allowSvgs?"webview":"webview"+t.index++),this._webview.style.width="100%",this._webview.style.height="100%",this._webview.style.outline="0",this._webview.style.opacity="0",this._webview.contextIsolation=!0,this._webview.setAttribute("disableblinkfeatures","Auxclick"),this._webview.setAttribute("disableguestresize",""),this._webview.setAttribute("webpreferences","contextIsolation=yes"),this._webview.preload=e.toUrl("./webview-pre.js"),this._webview.src=e.toUrl("./webview.html"),this._ready=new r.TPromise(function(e){var t=a.addDisposableListener(l._webview,"ipc-message",function(n){"webview-ready"===n.channel&&(a.addClass(l._webview,"ready"),t.dispose(),e(l))})}),!this._options.allowSvgs){var u=!1,d=a.addDisposableListener(this._webview,"did-start-loading",function(){if(!u){u=!0;var e=l._webview.getWebContents();e&&(e.session.webRequest.onBeforeRequest(function(e,t){if(e.url.indexOf(".svg")>0){var n=i.default.parse(e.url);if(n&&!n.scheme.match(/file/i)&&n.path.endsWith(".svg")&&!l.isAllowedSvg(n))return t({cancel:!0})}return t({})}),e.session.webRequest.onHeadersReceived(function(e,t){var n=e.responseHeaders["content-type"]||e.responseHeaders["Content-Type"];if(n&&Array.isArray(n)&&n.some(function(e){return e.toLowerCase().indexOf("image/svg")>=0})){var r=i.default.parse(e.url);if(r&&!l.isAllowedSvg(r))return t({cancel:!0})}return t({cancel:!1,responseHeaders:e.responseHeaders})}))}});this._disposables.push(d)}this._disposables.push(a.addDisposableListener(this._webview,"console-message",function(e){console.log("[Embedded Page] "+e.message)}),a.addDisposableListener(this._webview,"dom-ready",function(){l.layout()}),a.addDisposableListener(this._webview,"crashed",function(){console.error("embedded page crashed")}),a.addDisposableListener(this._webview,"ipc-message",function(e){if("did-click-link"!==e.channel){if("did-set-content"===e.channel){l._webview.style.opacity="";var t=e.args[0];return l._onDidLoadContent.fire({stats:t}),void l.layout()}"did-scroll"!==e.channel||e.args&&"number"==typeof e.args[0]&&l._onDidScroll.fire({scrollYPercentage:e.args[0]})}else{var n=e.args[0];l._onDidClickLink.fire(i.default.parse(n))}})),n&&n.appendChild(this._webview)}return t.prototype.dispose=function(){this._onDidClickLink.dispose(),this._onDidLoadContent.dispose(),this._disposables=o.dispose(this._disposables),this._webview.parentElement&&this._webview.parentElement.removeChild(this._webview)},Object.defineProperty(t.prototype,"onDidClickLink",{get:function(){return this._onDidClickLink.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidLoadContent",{get:function(){return this._onDidLoadContent.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidScroll",{get:function(){return this._onDidScroll.event},enumerable:!0,configurable:!0}),t.prototype._send=function(e){for(var t=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];this._ready.then(function(){return(i=t._webview).send.apply(i,[e].concat(n));var i}).done(void 0,console.error)},Object.defineProperty(t.prototype,"initialScrollProgress",{set:function(e){this._send("initial-scroll-position",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{set:function(e){this._options=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contents",{set:function(e){this._send("content",{contents:e,options:this._options})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseUrl",{set:function(e){this._send("baseUrl",e)},enumerable:!0,configurable:!0}),t.prototype.focus=function(){this._webview.focus(),this._send("focus")},t.prototype.sendMessage=function(e){this._send("message",e)},t.prototype.style=function(e){var t,n=window.getComputedStyle(this._styleElement),i=n.fontFamily,r=n.fontWeight,o=n.fontSize,s="\n\t\t:root {\n\t\t\t--background-color: "+e.getColor(u.editorBackground)+";\n\t\t\t--color: "+e.getColor(u.editorForeground)+";\n\t\t\t--font-family: "+i+";\n\t\t\t--font-weight: "+r+";\n\t\t\t--font-size: "+o+";\n\t\t}\n\t\tbody {\n\t\t\tbackground-color: var(--background-color);\n\t\t\tcolor: var(--color);\n\t\t\tfont-family: var(--font-family);\n\t\t\tfont-weight: var(--font-weight);\n\t\t\tfont-size: var(--font-size);\n\t\t\tmargin: 0;\n\t\t\tpadding: 0 20px;\n\t\t}\n\n\t\timg {\n\t\t\tmax-width: 100%;\n\t\t\tmax-height: 100%;\n\t\t}\n\t\ta:focus,\n\t\tinput:focus,\n\t\tselect:focus,\n\t\ttextarea:focus {\n\t\t\toutline: 1px solid -webkit-focus-ring-color;\n\t\t\toutline-offset: -1px;\n\t\t}\n\t\t::-webkit-scrollbar {\n\t\t\twidth: 10px;\n\t\t\theight: 10px;\n\t\t}";e.type===d.LIGHT?(s+="\n\t\t\t::-webkit-scrollbar-thumb {\n\t\t\t\tbackground-color: rgba(100, 100, 100, 0.4);\n\t\t\t}\n\t\t\t::-webkit-scrollbar-thumb:hover {\n\t\t\t\tbackground-color: rgba(100, 100, 100, 0.7);\n\t\t\t}\n\t\t\t::-webkit-scrollbar-thumb:active {\n\t\t\t\tbackground-color: rgba(0, 0, 0, 0.6);\n\t\t\t}",t="vscode-light"):e.type===d.DARK?(s+="\n\t\t\t::-webkit-scrollbar-thumb {\n\t\t\t\tbackground-color: rgba(121, 121, 121, 0.4);\n\t\t\t}\n\t\t\t::-webkit-scrollbar-thumb:hover {\n\t\t\t\tbackground-color: rgba(100, 100, 100, 0.7);\n\t\t\t}\n\t\t\t::-webkit-scrollbar-thumb:active {\n\t\t\t\tbackground-color: rgba(85, 85, 85, 0.8);\n\t\t\t}",t="vscode-dark"):(s+="\n\t\t\t::-webkit-scrollbar-thumb {\n\t\t\t\tbackground-color: rgba(111, 195, 223, 0.3);\n\t\t\t}\n\t\t\t::-webkit-scrollbar-thumb:hover {\n\t\t\t\tbackground-color: rgba(111, 195, 223, 0.8);\n\t\t\t}\n\t\t\t::-webkit-scrollbar-thumb:active {\n\t\t\t\tbackground-color: rgba(111, 195, 223, 0.8);\n\t\t\t}",t="vscode-high-contrast"),this._send("styles",s,t)},t.prototype.layout=function(){var e=this,t=this._webview.getWebContents();if(t){var n=t.getOwnerBrowserWindow();n&&n.webContents&&!n.webContents.isDestroyed()&&n.webContents.getZoomFactor(function(n){if(!t.isDestroyed()){t.setZoomFactor(n);var i=e.parent.clientWidth,r=e.parent.clientHeight;t.setSize({normal:{width:Math.floor(i*n),height:Math.floor(r*n)}})}})}},t.prototype.isAllowedSvg=function(e){return!!this._options.allowSvgs||!!this._options.svgWhiteList&&this._options.svgWhiteList.indexOf(e.authority.toLowerCase())>=0},t}();h.index=0,t.default=h}),define(u[1003],d([1,0,5,68,264]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){this.lineNumber=e,this.htmlContent=t,this._disposables=[]}return e.prototype.dispose=function(){n.dispose(this._disposables)},Object.defineProperty(e.prototype,"domNode",{get:function(){var e=this;if(!this._domNode){this._domNode=document.createElement("div");var t=new MutationObserver(function(t){return e._onVisibilityChanged()});t.observe(this._domNode,{attributes:!0,attributeFilter:["monaco-visible-view-zone"]}),this._disposables.push({dispose:function(){return t.disconnect()}})}return this._domNode},enumerable:!0,configurable:!0}),e.prototype._onVisibilityChanged=function(){this._domNode.hasAttribute("monaco-visible-view-zone")&&!this._webview&&(this._webview=new r.default(this.domNode,document.querySelector(".monaco-editor")),this._disposables.push(this._webview),this._webview.contents=[this.htmlContent])},Object.defineProperty(e.prototype,"afterLineNumber",{get:function(){return this.lineNumber},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"heightInLines",{get:function(){return 6},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"suppressMouseDown",{get:function(){return!1},enumerable:!0,configurable:!0}),e}(),s=function(){function e(e){var t=this;this._zones=[],this._editor=e,this._editor.onDidChangeModel(function(){return t._zones=n.dispose(t._zones)})}return e.getInstance=function(e){return e.getContribution("htmlZoneContribution")},e.prototype.getId=function(){return"htmlZoneContribution"},e.prototype.dispose=function(){n.dispose(this._zones)},e.prototype.addZone=function(e,t){var n=new o(e,t);this._zones.push(n),this._editor.changeViewZones(function(e){n.zoneId=e.addZone(n),console.log("ADDED new zone #",n.zoneId)})},e}();s=v([i.editorContribution],s),t.HtmlZoneController=s}),define(u[435],d([1,0,159,71]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n,i,o)||this;return s.options=r,s}return h(t,e),t}(n.ResourceEditorInput);r=v([y(4,i.ITextModelService)],r),t.HtmlInput=r}),define(u[209],d([1,0,17]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={MARKERS_PANEL_ID:"workbench.panel.markers",MARKER_COPY_ACTION_ID:"problems.action.copy",MARKER_OPEN_SIDE_ACTION_ID:"problems.action.openToSide",MarkerFocusContextKey:new n.RawContextKey("problemFocus",!1)}}),define(u[196],d([1,0,633,36]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(){}}();r.MARKERS_PANEL_VIEW_CATEGORY=n.localize(0,null),r.MARKERS_PANEL_TOGGLE_LABEL=n.localize(1,null),r.PROBLEMS_PANEL_CONFIGURATION_TITLE=n.localize(2,null),r.PROBLEMS_PANEL_CONFIGURATION_AUTO_REVEAL=n.localize(3,null),r.MARKERS_PANEL_TITLE_PROBLEMS=n.localize(4,null),r.MARKERS_PANEL_ARIA_LABEL_PROBLEMS_TREE=n.localize(5,null),r.MARKERS_PANEL_NO_PROBLEMS_BUILT=n.localize(6,null),r.MARKERS_PANEL_NO_PROBLEMS_FILTERS=n.localize(7,null),r.MARKERS_PANEL_ACTION_TOOLTIP_FILTER=n.localize(8,null),r.MARKERS_PANEL_FILTER_PLACEHOLDER=n.localize(9,null),r.MARKERS_PANEL_FILTER_ERRORS=n.localize(10,null),r.MARKERS_PANEL_FILTER_WARNINGS=n.localize(11,null),r.MARKERS_PANEL_FILTER_INFOS=n.localize(12,null),r.MARKERS_PANEL_SINGLE_ERROR_LABEL=n.localize(13,null),r.MARKERS_PANEL_MULTIPLE_ERRORS_LABEL=function(e){return n.localize(14,null,""+e)},r.MARKERS_PANEL_SINGLE_WARNING_LABEL=n.localize(15,null),r.MARKERS_PANEL_MULTIPLE_WARNINGS_LABEL=function(e){return n.localize(16,null,""+e)},r.MARKERS_PANEL_SINGLE_INFO_LABEL=n.localize(17,null),r.MARKERS_PANEL_MULTIPLE_INFOS_LABEL=function(e){return n.localize(18,null,""+e)},r.MARKERS_PANEL_SINGLE_UNKNOWN_LABEL=n.localize(19,null),r.MARKERS_PANEL_MULTIPLE_UNKNOWNS_LABEL=function(e){return n.localize(20,null,""+e)},r.MARKERS_PANEL_AT_LINE_COL_NUMBER=function(e,t){return n.localize(21,null,""+e,""+t)},r.MARKERS_TREE_ARIA_LABEL_RESOURCE=function(e,t){return n.localize(22,null,e,t)},r.MARKERS_TREE_ARIA_LABEL_MARKER=function(e){switch(e.severity){case i.default.Error:return e.source?n.localize(23,null,e.source,e.message,e.startLineNumber,e.startColumn):n.localize(24,null,e.message,e.startLineNumber,e.startColumn);case i.default.Warning:return e.source?n.localize(25,null,e.source,e.message,e.startLineNumber,e.startColumn):n.localize(26,null,e.message,e.startLineNumber,e.startColumn);case i.default.Info:return e.source?n.localize(27,null,e.source,e.message,e.startLineNumber,e.startColumn):n.localize(28,null,e.message,e.startLineNumber,e.startColumn);default:return e.source?n.localize(29,null,e.source,e.message,e.startLineNumber,e.startColumn):n.localize(30,null,e.message,e.startLineNumber,e.startColumn)}},r.SHOW_ERRORS_WARNINGS_ACTION_LABEL=n.localize(31,null),t.default=r}),define(u[256],d([1,0,28,24,36,16,14,122,196,79]),function(e,t,n,i,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t,n,i){void 0===i&&(i=[]),this.uri=e,this.markers=t,this.statistics=n,this.matches=i,this._name=null,this._path=null}return Object.defineProperty(e.prototype,"path",{get:function(){return null===this._path&&(this._path=this.uri.fsPath),this._path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return null===this._name&&(this._name=n.basename(this.uri.fsPath)),this._name},enumerable:!0,configurable:!0}),e}();t.Resource=u;var d=function(){function e(e,t,n,i){void 0===n&&(n=[]),void 0===i&&(i=[]),this.id=e,this.marker=t,this.labelMatches=n,this.sourceMatches=i}return Object.defineProperty(e.prototype,"resource",{get:function(){return this.marker.resource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this.marker},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return["file: '"+this.marker.resource+"'","severity: '"+r.default.toString(this.marker.severity)+"'","message: '"+this.marker.message+"'","at: '"+this.marker.startLineNumber+","+this.marker.startColumn+"'","source: '"+(this.marker.source?this.marker.source:"")+"'"].join("\n")},e}();t.Marker=d;var h=function(){function e(e){void 0===e&&(e=""),this._filterErrors=!1,this._filterWarnings=!1,this._filterInfos=!1,this._filter="",this._completeFilter="",e&&this.parse(e)}return Object.defineProperty(e.prototype,"filterErrors",{get:function(){return this._filterErrors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterWarnings",{get:function(){return this._filterWarnings},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterInfos",{get:function(){return this._filterInfos},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"completeFilter",{get:function(){return this._completeFilter},enumerable:!0,configurable:!0}),e.prototype.hasFilters=function(){return!!this._filter},e.prototype.parse=function(e){this._completeFilter=e,this._filter=e.trim(),this._filterErrors=this.matches(this._filter,c.default.MARKERS_PANEL_FILTER_ERRORS),this._filterWarnings=this.matches(this._filter,c.default.MARKERS_PANEL_FILTER_WARNINGS),this._filterInfos=this.matches(this._filter,c.default.MARKERS_PANEL_FILTER_INFOS)},e.prototype.matches=function(e,t){var n=a.matchesPrefix(e,t);return n&&n.length>0},e}();h._filter=a.or(a.matchesPrefix,a.matchesContiguousSubString),h._fuzzyFilter=a.or(a.matchesPrefix,a.matchesContiguousSubString,a.matchesFuzzy),t.FilterOptions=h;var p=function(){function e(e){void 0===e&&(e=[]),this.markersByResource=new Map,this._filterOptions=new h,this.update(e)}return Object.defineProperty(e.prototype,"filterOptions",{get:function(){return this._filterOptions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filteredResources",{get:function(){return this._filteredResources},enumerable:!0,configurable:!0}),e.prototype.hasFilteredResources=function(){return this.filteredResources.length>0},e.prototype.hasResources=function(){return this.markersByResource.size>0},e.prototype.hasResource=function(e){return this.markersByResource.has(e.toString())},Object.defineProperty(e.prototype,"nonFilteredResources",{get:function(){return this._nonFilteredResources},enumerable:!0,configurable:!0}),e.prototype.getBulkUpdater=function(){var e=this;return{add:function(t,n){e.updateResource(t,n)},done:function(){e.refresh()}}},e.prototype.update=function(e,t){e instanceof h&&(this._filterOptions=e),e instanceof o.default&&this.updateResource(e,t),i.isArray(e)&&this.updateMarkers(e),this.refresh()},e.prototype.refresh=function(){this.refreshResources()},e.prototype.refreshResources=function(){var e=this;this._nonFilteredResources=[],this._filteredResources=[],this.markersByResource.forEach(function(t,n){var i=e.toFilteredResource(o.default.parse(n),t);i.markers.length?e._filteredResources.push(i):e._nonFilteredResources.push(i)})},e.prototype.updateResource=function(e,t){this.markersByResource.has(e.toString())&&this.markersByResource.delete(e.toString()),t.length>0&&this.markersByResource.set(e.toString(),t)},e.prototype.updateMarkers=function(e){var t=this;e.forEach(function(e){var n=e.resource,i=t.markersByResource.get(n.toString());i||(i=[],t.markersByResource.set(n.toString(),i)),i.push(e)})},e.prototype.toFilteredResource=function(e,t){for(var i=[],r=0;r<t.length;r++){var o=t[r];e.scheme===l.Schemas.walkThrough||e.scheme===l.Schemas.walkThroughSnippet||this._filterOptions.hasFilters()&&!this.filterMarker(o)||i.push(this.toMarker(o,r,e.toString()))}var s=this._filterOptions.hasFilters()?h._filter(this._filterOptions.filter,n.basename(e.fsPath)):[];return new u(e,i,this.getStatistics(t),s||[])},e.prototype.toMarker=function(e,t,n){var i=this._filterOptions.hasFilters()?h._fuzzyFilter(this._filterOptions.filter,e.message):[],r=e.source&&this._filterOptions.hasFilters()?h._filter(this._filterOptions.filter,e.source):[];return new d(n+t,e,i||[],r||[])},e.prototype.filterMarker=function(e){return!(!this._filterOptions.filterErrors||r.default.Error!==e.severity)||(!(!this._filterOptions.filterWarnings||r.default.Warning!==e.severity)||(!(!this._filterOptions.filterInfos||r.default.Info!==e.severity)||(!!h._fuzzyFilter(this._filterOptions.filter,e.message)||(!!h._filter(this._filterOptions.filter,n.basename(e.resource.fsPath))||!(!e.source||!h._filter(this._filterOptions.filter,e.source))))))},e.prototype.getStatistics=function(e){for(var t=0,n=0,i=0,o=0,s=0,a=e;s<a.length;s++)switch(a[s].severity){case r.default.Error:t++;break;case r.default.Warning:n++;break;case r.default.Info:i++;break;default:o++}return{errors:t,warnings:n,infos:i,unknowns:o}},e.prototype.dispose=function(){this.markersByResource.clear(),this._filteredResources=[],this._nonFilteredResources=[]},e.prototype.getTitle=function(t){var n=e.getStatisticsLabel(t);return n||c.default.MARKERS_PANEL_TITLE_PROBLEMS},e.prototype.getMessage=function(){return this.hasFilteredResources()?"":this.hasResources()&&this._filterOptions.hasFilters()?c.default.MARKERS_PANEL_NO_PROBLEMS_FILTERS:c.default.MARKERS_PANEL_NO_PROBLEMS_BUILT},e.getStatisticsLabel=function(e,t){void 0===t&&(t=!1);var n=this.getLabel("",e.errors,c.default.MARKERS_PANEL_SINGLE_ERROR_LABEL,c.default.MARKERS_PANEL_MULTIPLE_ERRORS_LABEL);return t||(n=this.getLabel(n,e.warnings,c.default.MARKERS_PANEL_SINGLE_WARNING_LABEL,c.default.MARKERS_PANEL_MULTIPLE_WARNINGS_LABEL),n=this.getLabel(n,e.infos,c.default.MARKERS_PANEL_SINGLE_INFO_LABEL,c.default.MARKERS_PANEL_MULTIPLE_INFOS_LABEL),n=this.getLabel(n,e.unknowns,c.default.MARKERS_PANEL_SINGLE_UNKNOWN_LABEL,c.default.MARKERS_PANEL_MULTIPLE_UNKNOWNS_LABEL)),n},e.getLabel=function(e,t,n,i){return t<=0?e:(e=e?e+", ":"",e+=1===t?n:i(t))},e.compare=function(t,n){return t instanceof u&&n instanceof u?e.compareResources(t,n):t instanceof d&&n instanceof d?e.compareMarkers(t,n):0},e.compareResources=function(e,t){return 0===e.statistics.errors&&t.statistics.errors>0?1:0===t.statistics.errors&&e.statistics.errors>0?-1:e.path.localeCompare(t.path)||e.name.localeCompare(t.name)},e.compareMarkers=function(e,t){return e.marker.severity===t.marker.severity?s.Range.compareRangesUsingStarts(e.marker,t.marker):e.marker.severity>t.marker.severity?-1:1},e}();t.MarkersModel=p}),define(u[1008],d([1,0,4,121,256,41,17,35,49,38]),function(e,t,n,i,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){function t(t,n,r,o){var s=e.call(this,{clickBehavior:i.ClickBehavior.ON_MOUSE_DOWN,keyboardSupport:!1})||this;return s.contextMenuService=t,s._keybindingService=o,s.contextMenu=n.createMenu(a.MenuId.ProblemsPanelContext,r),s}return h(t,e),t.prototype.onLeftClick=function(t,n,i){var o=t.getFocus();return!!e.prototype.onLeftClick.call(this,t,n,i)&&(n instanceof r.MarkersModel&&(o?t.setFocus(o):t.focusFirst()),!0)},t.prototype.onContextMenu=function(e,t,i){var r=this;e.setFocus(t);var o=this._getMenuActions();if(!o.length)return!0;var s={x:i.posx+1,y:i.posy};return this.contextMenuService.showContextMenu({getAnchor:function(){return s},getActions:function(){return n.TPromise.as(o)},getActionItem:function(e){var t=r._keybindingService.lookupKeybinding(e.id);return t?new c.ActionItem(e,e,{label:!0,keybinding:t.getLabel()}):null},onHide:function(t){t&&e.DOMFocus()}}),!0},t.prototype._getMenuActions=function(){for(var e=[],t=0,n=this.contextMenu.getActions();t<n.length;t++){var i=n[t][1];e.push.apply(e,i),e.push(new c.Separator)}return e.pop(),e},t}(i.DefaultController);u=v([y(0,o.IContextMenuService),y(1,a.IMenuService),y(2,s.IContextKeyService),y(3,l.IKeybindingService)],u),t.Controller=u}),define(u[1009],d([1,0,4,9,79,36,27,201,138,192,256,196,6,55,13]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=function(){function e(){}return e.prototype.getId=function(e,t){return t instanceof u.MarkersModel?"root":t instanceof u.Resource?t.uri.toString():t instanceof u.Marker?t.id:""},e.prototype.hasChildren=function(e,t){return t instanceof u.MarkersModel||t instanceof u.Resource},e.prototype.getChildren=function(e,t){return t instanceof u.MarkersModel?n.TPromise.as(t.filteredResources):t instanceof u.Resource?n.TPromise.as(t.markers):null},e.prototype.getParent=function(e,t){return n.TPromise.as(null)},e}();t.DataSource=g;var m=function(){function e(e,t,n,i,r){this.actionRunner=e,this.actionProvider=t,this.contextService=n,this.instantiationService=i,this.themeService=r}return e.prototype.getHeight=function(e,t){return 22},e.prototype.getTemplateId=function(t,n){return n instanceof u.Resource?n.uri.scheme===r.Schemas.file||n.uri.scheme===r.Schemas.untitled?e.FILE_RESOURCE_TEMPLATE_ID:e.RESOURCE_TEMPLATE_ID:n instanceof u.Marker?e.MARKER_TEMPLATE_ID:""},e.prototype.renderTemplate=function(t,n,r){switch(i.addClass(r,"markers-panel-tree-entry"),n){case e.FILE_RESOURCE_TEMPLATE_ID:return this.renderFileResourceTemplate(r);case e.RESOURCE_TEMPLATE_ID:return this.renderResourceTemplate(r);case e.MARKER_TEMPLATE_ID:return this.renderMarkerTemplate(r)}},e.prototype.renderFileResourceTemplate=function(e){var t=Object.create(null),n=i.append(e,i.$(".resource-label-container"));t.fileLabel=this.instantiationService.createInstance(c.FileLabel,n,{supportHighlights:!0});var r=i.append(e,i.$(".count-badge-wrapper"));return t.count=new a.CountBadge(r),t.styler=p.attachBadgeStyler(t.count,this.themeService),t},e.prototype.renderResourceTemplate=function(e){var t=Object.create(null),n=i.append(e,i.$(".resource-label-container"));t.resourceLabel=this.instantiationService.createInstance(c.ResourceLabel,n,{supportHighlights:!0});var r=i.append(e,i.$(".count-badge-wrapper"));return t.count=new a.CountBadge(r),t.styler=p.attachBadgeStyler(t.count,this.themeService),t},e.prototype.renderMarkerTemplate=function(e){var t=Object.create(null);return t.icon=i.append(e,i.$(".marker-icon")),t.source=new l.HighlightedLabel(i.append(e,i.$(""))),t.description=new l.HighlightedLabel(i.append(e,i.$(".marker-description"))),t.lnCol=i.append(e,i.$("span.marker-line")),t},e.prototype.renderElement=function(t,n,i,r){switch(i){case e.FILE_RESOURCE_TEMPLATE_ID:case e.RESOURCE_TEMPLATE_ID:return this.renderResourceElement(t,n,r);case e.MARKER_TEMPLATE_ID:return this.renderMarkerElement(t,n,r)}},e.prototype.renderResourceElement=function(e,t,n){n.fileLabel?n.fileLabel.setFile(t.uri,{matches:t.matches}):n.resourceLabel&&n.resourceLabel.setLabel({name:t.name,description:t.uri.toString(),resource:t.uri},{matches:t.matches}),n.count.setCount(t.markers.length)},e.prototype.renderMarkerElement=function(t,n,r){var o=n.marker;r.icon.className="icon "+e.iconClassNameFor(o),r.description.set(o.message,n.labelMatches),r.description.element.title=o.message,i.toggleClass(r.source.element,"marker-source",!!o.source),r.source.set(o.source,n.sourceMatches),r.lnCol.textContent=d.default.MARKERS_PANEL_AT_LINE_COL_NUMBER(o.startLineNumber,o.startColumn)},e.iconClassNameFor=function(e){switch(e.severity){case o.default.Ignore:case o.default.Info:return"info";case o.default.Warning:return"warning";case o.default.Error:return"error"}return""},e.prototype.disposeTemplate=function(t,n,i){n===e.FILE_RESOURCE_TEMPLATE_ID&&(i.fileLabel.dispose(),i.styler.dispose()),n===e.RESOURCE_TEMPLATE_ID&&(i.resourceLabel.dispose(),i.styler.dispose())},e}();m.RESOURCE_TEMPLATE_ID="resource-template",m.FILE_RESOURCE_TEMPLATE_ID="file-resource-template",m.MARKER_TEMPLATE_ID="marker-template",m=v([y(2,s.IWorkspaceContextService),y(3,h.IInstantiationService),y(4,f.IThemeService)],m),t.Renderer=m;var b=function(){function e(){}return e.prototype.getAriaLabel=function(e,t){return t instanceof u.Resource?d.default.MARKERS_TREE_ARIA_LABEL_RESOURCE(t.name,t.markers.length):t instanceof u.Marker?d.default.MARKERS_TREE_ARIA_LABEL_MARKER(t.marker):null},e}();t.MarkersTreeAccessibilityProvider=b;var S=function(){function e(){}return e.prototype.compare=function(e,t,n){return u.MarkersModel.compare(t,n)},e}();t.Sorter=S}),define(u[125],d([1,0,15,6,17,159,638,16]),function(e,t,n,i,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OUTPUT_MIME="text/x-code-output",t.OUTPUT_SCHEME="output",t.OUTPUT_MODE_ID="Log",t.OUTPUT_PANEL_ID="workbench.panel.output",t.Extensions={OutputChannels:"workbench.contributions.outputChannels"},t.OUTPUT_SERVICE_ID="outputService",t.MAX_OUTPUT_LENGTH=1e6,t.CONTEXT_IN_OUTPUT=new r.RawContextKey("inOutput",!1),t.IOutputService=i.createDecorator(t.OUTPUT_SERVICE_ID);var c=function(){function e(){this.channels=new Map}return e.prototype.registerChannel=function(e,t){this.channels.has(e)||this.channels.set(e,{id:e,label:t})},e.prototype.getChannels=function(){var e=[];return this.channels.forEach(function(t){return e.push(t)}),e},e.prototype.getChannel=function(e){return this.channels.get(e)},e.prototype.removeChannel=function(e){this.channels.delete(e)},e}();n.Registry.add(t.Extensions.OutputChannels,new c);var l=function(){function e(){}return e.getInstance=function(n,i){if(e.instances[i.id])return e.instances[i.id];var r=a.default.from({scheme:t.OUTPUT_SCHEME,path:i.id});return e.instances[i.id]=n.createInstance(o.ResourceEditorInput,s.localize(0,null),i?s.localize(1,null,i.label):"",r),e.instances[i.id]},e}();l.instances=Object.create(null),t.OutputEditors=l}),define(u[1011],d([1,0,18,44,46,27,125,753,5]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(t,i){var r=this;this.contextService=t,this.modelService=i,this.workspacesCount=0,this.disposeWorkerScheduler=new n.RunOnceScheduler(function(){return r.disposeWorker()},e.DISPOSE_WORKER_TIME),this.registerListeners(),this.updateLinkProviderWorker()}return e.prototype.registerListeners=function(){var e=this;this.contextService.onDidChangeWorkspaceRoots(function(){return e.updateLinkProviderWorker()})},e.prototype.updateLinkProviderWorker=function(){var e=this;if(this.contextService.hasWorkspace()){this.linkProviderRegistration||(this.linkProviderRegistration=r.LinkProviderRegistry.register({language:s.OUTPUT_MODE_ID,scheme:"*"},{provideLinks:function(t,i){return n.wireCancellationToken(i,e.provideLinks(t.uri))}}));var t=this.contextService.getWorkspace2().roots.length;this.workspacesCount!==t&&(this.workspacesCount=t,this.disposeWorker(),this.disposeWorkerScheduler.cancel())}else this.linkProviderRegistration&&(this.workspacesCount=0,c.dispose(this.linkProviderRegistration),this.linkProviderRegistration=void 0,this.disposeWorker(),this.disposeWorkerScheduler.cancel())},e.prototype.getOrCreateWorker=function(){if(this.disposeWorkerScheduler.schedule(),!this.worker){var e={workspaceFolders:this.contextService.getWorkspace2().roots.map(function(e){return e.toString()})};this.worker=a.createWebWorker(this.modelService,{moduleId:"vs/workbench/parts/output/common/outputLinkComputer",createData:e,label:"outputLinkComputer"})}return this.worker},e.prototype.provideLinks=function(e){return this.getOrCreateWorker().withSyncedResources([e]).then(function(t){return t.computeLinks(e.toString())})},e.prototype.disposeWorker=function(){this.worker&&(this.worker.dispose(),this.worker=null)},e}();l.DISPOSE_WORKER_TIME=18e4,l=v([y(0,o.IWorkspaceContextService),y(1,i.IModelService)],l),t.OutputLinkProvider=l}),define(u[423],d([1,0,640,11,4,5,8,225,91,9,110,75,38,40,41,6,55,13,29,957]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var E=function(e){function t(t,n,i,r,o){var a=e.call(this)||this;return a.options=n,a.contextViewService=i,a.keybindingService=r,a._onKeybinding=a._register(new s.Emitter),a.onKeybinding=a._onKeybinding.event,a._onEnter=a._register(new s.Emitter),a.onEnter=a._onEnter.event,a._onEscape=a._register(new s.Emitter),a.onEscape=a._onEscape.event,a._onBlur=a._register(new s.Emitter),a.onBlur=a._onBlur.event,a.inputBox=a._register(new u.InputBox(t,a.contextViewService,a.options)),a._register(b.attachInputBoxStyler(a.inputBox,o)),a.onkeydown(a.inputBox.inputElement,function(e){return a._onKeyDown(e)}),a.onblur(a.inputBox.inputElement,function(e){return a._onBlur.fire()}),a.oninput(a.inputBox.inputElement,function(e){a.setInputValue(a._inputValue)}),a._acceptChords=!0,a._firstPart=null,a._chordPart=null,a}return h(t,e),t.prototype.setInputValue=function(e){this._inputValue=e,this.inputBox.value=this._inputValue},t.prototype.focus=function(){this.inputBox.focus()},t.prototype.reset=function(){this._firstPart=null,this._chordPart=null},t.prototype.setAcceptChords=function(e){this._acceptChords=e,this._chordPart=null},t.prototype._onKeyDown=function(e){e.preventDefault(),e.stopPropagation(),e.equals(3)?this._onEnter.fire():e.equals(9)?this._onEscape.fire():this.printKeybinding(e)},t.prototype.printKeybinding=function(e){var t=this.keybindingService.resolveKeyboardEvent(e),n="code: "+e.browserEvent.code+", keyCode: "+e.browserEvent.keyCode+", key: "+e.browserEvent.key+" => UI: "+t.getAriaLabel()+", user settings: "+t.getUserSettingsLabel()+", dispatch: "+t.getDispatchParts()[0];if(this._acceptChords){var i=this._firstPart&&null!==this._firstPart.getDispatchParts()[0],r=this._chordPart&&null!==this._chordPart.getDispatchParts()[0];i&&r?(this._firstPart=t,this._chordPart=null):i?this._chordPart=t:this._firstPart=t}else this._firstPart=t;var o="";this._firstPart&&(o=this._firstPart.getUserSettingsLabel()),this._chordPart&&(o=o+" "+this._chordPart.getUserSettingsLabel()),this.setInputValue(o),this.inputBox.inputElement.title=n,this._onKeybinding.fire([this._firstPart,this._chordPart])},t}(c.Widget);E=v([y(2,g.IContextViewService),y(3,p.IKeybindingService),y(4,S.IThemeService)],E);var C=function(e){function t(t,n,i,r){var o=e.call(this)||this;return o.keybindingService=n,o.instantiationService=i,o.themeService=r,o._firstPart=null,o._chordPart=null,o._isVisible=!1,o._onHide=o._register(new s.Emitter),o.create(),t&&l.append(t,o._domNode.domNode),o}return h(t,e),Object.defineProperty(t.prototype,"domNode",{get:function(){return this._domNode.domNode},enumerable:!0,configurable:!0}),t.prototype.define=function(){var e=this;return this._keybindingInputWidget.reset(),new r.TPromise(function(t,n){e._isVisible||(e._isVisible=!0,e._domNode.setDisplay("block"),e._firstPart=null,e._chordPart=null,e._keybindingInputWidget.setInputValue(""),l.clearNode(e._outputNode),e._keybindingInputWidget.focus());var i=e._onHide.event(function(){if(e._firstPart){var n=e._firstPart.getUserSettingsLabel();e._chordPart&&(n=n+" "+e._chordPart.getUserSettingsLabel()),t(n)}else t(null);i.dispose()})})},t.prototype.layout=function(e){var n=Math.round((e.height-t.HEIGHT)/2);this._domNode.setTop(n);var i=Math.round((e.width-t.WIDTH)/2);this._domNode.setLeft(i)},t.prototype.create=function(){var e=this;this._domNode=d.createFastDomNode(document.createElement("div")),this._domNode.setDisplay("none"),this._domNode.setClassName("defineKeybindingWidget"),this._domNode.setWidth(t.WIDTH),this._domNode.setHeight(t.HEIGHT),l.append(this._domNode.domNode,l.$(".message",null,n.localize(0,null))),this._register(b.attachStylerCallback(this.themeService,{editorWidgetBackground:_.editorWidgetBackground,widgetShadow:_.widgetShadow},function(t){e._domNode.domNode.style.backgroundColor=t.editorWidgetBackground,t.widgetShadow?e._domNode.domNode.style.boxShadow="0 2px 8px "+t.widgetShadow:e._domNode.domNode.style.boxShadow=null})),this._keybindingInputWidget=this._register(this.instantiationService.createInstance(E,this._domNode.domNode,{})),this._register(this._keybindingInputWidget.onKeybinding(function(t){return e.printKeybinding(t)})),this._register(this._keybindingInputWidget.onEnter(function(){return e.hide()})),this._register(this._keybindingInputWidget.onEscape(function(){return e.onCancel()})),this._register(this._keybindingInputWidget.onBlur(function(){return e.onCancel()})),this._outputNode=l.append(this._domNode.domNode,l.$(".output"))},t.prototype.printKeybinding=function(e){var t=e[0],r=e[1];this._firstPart=t,this._chordPart=r,l.clearNode(this._outputNode),new a.KeybindingLabel(this._outputNode,i.OS).set(this._firstPart,null),this._chordPart&&(this._outputNode.appendChild(document.createTextNode(n.localize(1,null))),new a.KeybindingLabel(this._outputNode,i.OS).set(this._chordPart,null))},t.prototype.onCancel=function(){this._firstPart=null,this._chordPart=null,this.hide()},t.prototype.hide=function(){this._domNode.setDisplay("none"),this._isVisible=!1,this._onHide.fire()},t}(c.Widget);C.WIDTH=400,C.HEIGHT=90,C=v([y(1,p.IKeybindingService),y(2,m.IInstantiationService),y(3,S.IThemeService)],C),t.DefineKeybindingWidget=C;var w=function(e){function t(t,n){var i=e.call(this)||this;return i._editor=t,i._widget=n.createInstance(C,null),i._editor.addOverlayWidget(i),i}return h(t,e),t.prototype.getId=function(){return t.ID},t.prototype.getDomNode=function(){return this._widget.domNode},t.prototype.getPosition=function(){return{preference:null}},t.prototype.dispose=function(){this._editor.removeOverlayWidget(this),e.prototype.dispose.call(this)},t.prototype.start=function(){this._editor.revealPositionInCenterIfOutsideViewport(this._editor.getPosition());var e=this._editor.getLayoutInfo();return this._widget.layout(new f.Dimension(e.width,e.height)),this._widget.define()},t}(o.Disposable);w.ID="editor.contrib.defineKeybindingWidget",w=v([y(1,m.IInstantiationService)],w),t.DefineKeybindingOverlayWidget=w}),define(u[126],d([1,0,6,17]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IPreferencesService=n.createDecorator("preferencesService"),t.CONTEXT_SETTINGS_EDITOR=new i.RawContextKey("inSettingsEditor",!1),t.CONTEXT_SETTINGS_SEARCH_FOCUS=new i.RawContextKey("inSettingsSearch",!1),t.CONTEXT_KEYBINDINGS_EDITOR=new i.RawContextKey("inKeybindings",!1),t.CONTEXT_KEYBINDING_FOCUS=new i.RawContextKey("keybindingFocus",!1),t.SETTINGS_EDITOR_COMMAND_SEARCH="settings.action.search",t.SETTINGS_EDITOR_COMMAND_FOCUS_FILE="settings.action.focusSettingsFile",t.KEYBINDINGS_EDITOR_COMMAND_SEARCH="keybindings.editor.searchKeybindings",t.KEYBINDINGS_EDITOR_COMMAND_DEFINE="keybindings.editor.defineKeybinding",t.KEYBINDINGS_EDITOR_COMMAND_REMOVE="keybindings.editor.removeKeybinding",t.KEYBINDINGS_EDITOR_COMMAND_RESET="keybindings.editor.resetKeybinding",t.KEYBINDINGS_EDITOR_COMMAND_COPY="keybindings.editor.copyKeybindingEntry",t.KEYBINDINGS_EDITOR_COMMAND_SHOW_CONFLICTS="keybindings.editor.showConflicts"}),define(u[1014],d([1,0,554,5,4,68,23,31,20,126,21,36]),function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(e){this._storageService=e,this._value=this._read()}return e.prototype._read=function(){var t=this._storageService.get(e.KEY,a.StorageScope.GLOBAL);if(!t)return null;try{return JSON.parse(t)}catch(e){return null}},e.prototype.get=function(){return this._value},e.prototype.set=function(t){this._value=t,this._storageService.store(e.KEY,JSON.stringify(this._value),a.StorageScope.GLOBAL)},e}();p.KEY="wordWrapMigration";var f=g=function(e){function t(t,n,i,r,o){var s=e.call(this)||this;return s.configurationService=n,s.messageService=i,s.storageService=r,s.preferencesService=o,s._promptIfNecessary(),s}return h(t,e),t.prototype.getId=function(){return g.ID},t.prototype._promptIfNecessary=function(){if(!g._checked){g._checked=!0;var e=this.configurationService.lookup("editor.wrappingColumn");if(void 0!==e.value){var t=new p(this.storageService),n=t.get();if(!n||!n.dontShowPrompt){var i=void 0!==e.user;this._prompt(t,i)}}}},t.prototype._prompt=function(e,t){var i=this,o=new u.Action("wordWrapMigration.ok",n.localize(0,null),null,!0,function(){return r.TPromise.as(!0)}),s=new u.Action("wordWrapMigration.dontShowAgain",n.localize(1,null),null,!0,function(){return e.set({dontShowPrompt:!0}),r.TPromise.as(!0)}),a=new u.Action("wordWrapMigration.openSettings",n.localize(2,null),null,!0,function(){return t?i.preferencesService.openGlobalSettings():i.preferencesService.openWorkspaceSettings(),r.TPromise.as(!0)});this.messageService.show(d.default.Info,{message:n.localize(3,null),actions:[o,a,s]})},t}(i.Disposable);f.ID="editor.contrib.wordWrapMigrationController",f._checked=!1,f=g=v([o.editorContribution,y(1,s.IConfigurationService),y(2,c.IMessageService),y(3,a.IStorageService),y(4,l.IPreferencesService)],f);var g}),define(u[290],d([1,0,644,16,21,42,54,126]),function(e,t,n,i,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.preferencesService=i,r}return h(t,e),t.prototype.run=function(e){return this.preferencesService.openGlobalSettings()},t}(r.Action);c.ID="workbench.action.openGlobalSettings",c.LABEL=n.localize(0,null),c=v([y(2,a.IPreferencesService)],c),t.OpenGlobalSettingsAction=c;var l=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.preferencesService=i,r}return h(t,e),t.prototype.run=function(e){return this.preferencesService.openGlobalKeybindingSettings(!1)},t}(r.Action);l.ID="workbench.action.openGlobalKeybindings",l.LABEL=n.localize(1,null),l=v([y(2,a.IPreferencesService)],l),t.OpenGlobalKeybindingsAction=l;var u=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.preferencesService=i,r}return h(t,e),t.prototype.run=function(e){return this.preferencesService.openGlobalKeybindingSettings(!0)},t}(r.Action);u.ID="workbench.action.openGlobalKeybindingsFile",u.LABEL=n.localize(2,null),u=v([y(2,a.IPreferencesService)],u),t.OpenGlobalKeybindingsFileAction=u;var d=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.preferencesService=i,r}return h(t,e),t.prototype.run=function(e){return this.preferencesService.openWorkspaceSettings()},t}(r.Action);d.ID="workbench.action.openWorkspaceSettings",d.LABEL=n.localize(3,null),d=v([y(2,a.IPreferencesService)],d),t.OpenWorkspaceSettingsAction=d;var p=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n)||this;return s.modeService=i,s.quickOpenService=r,s.preferencesService=o,s}return h(t,e),t.prototype.run=function(){var e=this,t=this.modeService.getRegisteredLanguageNames().sort().map(function(t,r){var o,s=n.localize(5,null,e.modeService.getModeIdForLanguageName(t.toLowerCase())),a=e.modeService.getExtensions(t);if(a&&a.length)o=i.default.file(a[0]);else{var c=e.modeService.getFilenames(t);c&&c.length&&(o=i.default.file(c[0]))}return{label:t,resource:o,description:s}});return this.quickOpenService.pick(t,{placeHolder:n.localize(6,null)}).then(function(t){if(t)return e.modeService.getOrCreateModeByLanguageName(t.label).then(function(t){return e.preferencesService.configureSettingsForLanguage(t.getLanguageIdentifier().language)})})},t}(r.Action);p.ID="workbench.action.configureLanguageBasedSettings",p.LABEL=n.localize(4,null),p=v([y(2,o.IModeService),y(3,s.IQuickOpenService),y(4,a.IPreferencesService)],p),t.ConfigureLanguageBasedSettingsAction=p}),define(u[1016],d([1,0,44,42,4,123,15,71,126]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=s.Registry.as(o.Extensions.JSONContribution),u=function(){function e(e,t,n,i){this.modelService=e,this.textModelResolverService=t,this.preferencesService=n,this.modeService=i,this.start()}return e.prototype.getId=function(){return"vs.contentprovider"},e.prototype.start=function(){var e=this;this.textModelResolverService.registerTextModelContentProvider("vscode",{provideTextContent:function(t){if("vscode"!==t.scheme)return null;if("schemas"===t.authority){var n=l.getSchemaContributions().schemas[t.toString()];if(n){var i=JSON.stringify(n),o=e.modeService.getOrCreateMode("json");return r.TPromise.as(e.modelService.createModel(i,o,t))}}return e.preferencesService.createPreferencesEditorModel(t).then(function(n){if(n){var i=e.modeService.getOrCreateMode("json"),o=e.modelService.createModel(n.content,i,t);return n.dispose(),r.TPromise.as(o)}return null})}})},e}();u=v([y(0,n.IModelService),y(1,a.ITextModelService),y(2,c.IPreferencesService),y(3,i.IModeService)],u),t.PreferencesContentProvider=u}),define(u[286],d([1,0,650,12,26,34,15,94,30,64,38,122]),function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";function p(e){return"// "+n.localize(2,null)+"\n"+e.getDefaultKeybindingsContent()}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t,n){this.valuesMatcher=n,this.descriptionMatchingWords=new Map,this.keyMatchingWords=new Map,this.valueMatchingWords=new Map,this.matches=o.distinct(this._findMatchesInSetting(e,t),function(e){return e.startLineNumber+"_"+e.startColumn+"_"+e.endLineNumber+"_"+e.endColumn+"_"})}return e.prototype._findMatchesInSetting=function(t,n){var i=this._doFindMatchesInSetting(t,n);if(n.overrides&&n.overrides.length)for(var r=0,o=n.overrides;r<o.length;r++){var s=new e(t,o[r],this.valuesMatcher),a=t.split(" "),c=this.getRangesForWords(a,this.descriptionMatchingWords,[s.descriptionMatchingWords,s.keyMatchingWords,s.valueMatchingWords]),l=this.getRangesForWords(a,this.keyMatchingWords,[s.descriptionMatchingWords,s.keyMatchingWords,s.valueMatchingWords]),u=this.getRangesForWords(a,s.keyMatchingWords,[this.descriptionMatchingWords,this.keyMatchingWords,s.valueMatchingWords]),d=this.getRangesForWords(a,s.valueMatchingWords,[this.descriptionMatchingWords,this.keyMatchingWords,s.keyMatchingWords]);i.push.apply(i,c.concat(l,u,d)),i.push.apply(i,s.matches)}return i},e.prototype._doFindMatchesInSetting=function(e,t){for(var n=this,i=s.Registry.as(l.Extensions.Configuration).getConfigurationProperties()[t.key],r=e.split(" "),o=t.key.split(".").join(" "),a=this,c=0,u=r;c<u.length;c++)!function(e){for(var r=0;r<t.description.length;r++)!function(i){var r=d.matchesWords(e,t.description[i],!0);r&&a.descriptionMatchingWords.set(e,r.map(function(e){return n.toDescriptionRange(t,e,i)}))}(r);var s=d.or(d.matchesWords,d.matchesCamelCase)(e,o);s&&a.keyMatchingWords.set(e,s.map(function(e){return n.toKeyRange(t,e)}));var c="string"==typeof t.value?d.matchesContiguousSubString(e,t.value):null;c?a.valueMatchingWords.set(e,c.map(function(e){return n.toValueRange(t,e)})):i&&i.enum&&i.enum.some(function(t){return"string"==typeof t&&!!d.matchesContiguousSubString(e,t)})&&a.valueMatchingWords.set(e,[])}(u[c]);for(var h=[],p=0;p<t.description.length;p++)!function(i){var r=d.or(d.matchesContiguousSubString)(e,t.description[i]||"")||[];h.push.apply(h,r.map(function(e){return n.toDescriptionRange(t,e,i)}))}(p);0===h.length&&h.push.apply(h,this.getRangesForWords(r,this.descriptionMatchingWords,[this.keyMatchingWords,this.valueMatchingWords]));var f=d.or(d.matchesPrefix,d.matchesContiguousSubString)(e,t.key),g=f?f.map(function(e){return n.toKeyRange(t,e)}):this.getRangesForWords(r,this.keyMatchingWords,[this.descriptionMatchingWords,this.valueMatchingWords]),v=[];if(t.value&&"string"==typeof t.value){var m=d.or(d.matchesPrefix,d.matchesContiguousSubString)(e,t.value);v=m?m.map(function(e){return n.toValueRange(t,e)}):this.getRangesForWords(r,this.valueMatchingWords,[this.keyMatchingWords,this.descriptionMatchingWords])}else v=this.valuesMatcher(e,t);return h.concat(g,v)},e.prototype.getRangesForWords=function(e,t,n){for(var i=[],r=0,o=e;r<o.length;r++){var s=function(e){var r=t.get(e);if(r)i.push.apply(i,r);else if(n.every(function(t){return!t.has(e)}))return{value:[]}}(o[r]);if("object"==typeof s)return s.value}return i},e.prototype.toKeyRange=function(e,t){return{startLineNumber:e.keyRange.startLineNumber,startColumn:e.keyRange.startColumn+t.start,endLineNumber:e.keyRange.startLineNumber,endColumn:e.keyRange.startColumn+t.end}},e.prototype.toDescriptionRange=function(e,t,n){return{startLineNumber:e.descriptionRanges[n].startLineNumber,startColumn:e.descriptionRanges[n].startColumn+t.start,endLineNumber:e.descriptionRanges[n].endLineNumber,endColumn:e.descriptionRanges[n].startColumn+t.end}},e.prototype.toValueRange=function(e,t){return{startLineNumber:e.valueRange.startLineNumber,startColumn:e.valueRange.startColumn+t.start+1,endLineNumber:e.valueRange.startLineNumber,endColumn:e.valueRange.startColumn+t.end+1}},e}(),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),Object.defineProperty(t.prototype,"groupsTerms",{get:function(){return this.settingsGroups.map(function(e){return"@"+e.id})},enumerable:!0,configurable:!0}),t.prototype.doFilterSettings=function(e,t){var n=this;if(!e)return{filteredGroups:t,allGroups:t,matches:[]};var r=this.filterByGroupTerm(e);if(r)return{filteredGroups:[r],allGroups:t,matches:[]};for(var o=[],s=[],a=i.createRegExp(e,!1,{global:!0}),c=0,l=t;c<l.length;c++){for(var u=l[c],d=a.test(u.title),h=[],p=0,g=u.sections;p<g.length;p++){for(var v=g[p],m=[],y=0,b=v.settings;y<b.length;y++){var S=b[y],_=new f(e,S,function(e,t){return n.findValueMatches(e,t)}).matches;(d||_.length>0)&&m.push(S),o.push.apply(o,_)}m.length&&h.push({title:v.title,settings:m,titleRange:v.titleRange})}h.length&&s.push({id:u.id,title:u.title,titleRange:u.titleRange,sections:h,range:u.range})}return{filteredGroups:s,matches:o,allGroups:t}},t.prototype.filterByGroupTerm=function(e){if(-1!==this.groupsTerms.indexOf(e)){var t=e.substring(1);return this.settingsGroups.filter(function(e){return e.id===t})[0]}return null},t.prototype.getPreference=function(e){for(var t=0,n=this.settingsGroups;t<n.length;t++)for(var i=0,r=n[t].sections;i<r.length;i++)for(var o=0,s=r[i].settings;o<s.length;o++){var a=s[o];if(e===a.key)return a}return null},t}(c.EditorModel);t.AbstractSettingsModel=g;var m=function(e){function t(t,n){var i=e.call(this)||this;return i._configurationTarget=n,i.model=t.object.textEditorModel,i._register(i.onDispose(function(){return t.dispose()})),i._register(i.model.onDidChangeContent(function(){i._settingsGroups=null})),i}return h(t,e),Object.defineProperty(t.prototype,"uri",{get:function(){return this.model.uri},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"configurationTarget",{get:function(){return this._configurationTarget},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"settingsGroups",{get:function(){return this._settingsGroups||this.parse(),this._settingsGroups},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this.model.getValue()},enumerable:!0,configurable:!0}),t.prototype.filterSettings=function(e){return this.doFilterSettings(e,this.settingsGroups)},t.prototype.findValueMatches=function(e,t){return this.model.findMatches(e,t.valueRange,!1,!1,null,!1).map(function(e){return e.range})},t.prototype.parse=function(){function e(e,a,l){if(Array.isArray(s)?s.push(e):o&&(s[o]=e),1===c.length||2===c.length&&null!==i){var u=1===c.length?n[n.length-1]:i.overrides[i.overrides.length-1];if(u){var d=t.getPositionAt(a),h=t.getPositionAt(a+l);u.value=e,u.valueRange={startLineNumber:d.lineNumber,startColumn:d.column,endLineNumber:h.lineNumber,endColumn:h.column},u.range=r.assign(u.range,{endLineNumber:h.lineNumber,endColumn:h.column})}}}var t=this.model,n=[],i=null,o=null,s=[],c=[],u={startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0},d={onObjectBegin:function(n,i){if(0===c.length){var r=t.getPositionAt(n);u.startLineNumber=r.lineNumber,u.startColumn=r.column}var a={};e(a,n,i),s=a,o=null,c.push(s)},onObjectProperty:function(e,r,s){if(o=e,1===c.length||2===c.length&&null!==i){var a=t.getPositionAt(r),u={description:[],key:e,keyRange:{startLineNumber:a.lineNumber,startColumn:a.column+1,endLineNumber:a.lineNumber,endColumn:a.column+s},range:{startLineNumber:a.lineNumber,startColumn:a.column,endLineNumber:0,endColumn:0},value:null,valueRange:null,descriptionRanges:null,overrides:[],overrideOf:i};1===c.length?(n.push(u),l.OVERRIDE_PROPERTY_PATTERN.test(e)&&(i=u)):i.overrides.push(u)}},onObjectEnd:function(e,o){if(s=c.pop(),1===c.length||2===c.length&&null!==i){var a=1===c.length?n[n.length-1]:i.overrides[i.overrides.length-1];if(a){var l=t.getPositionAt(e+o);a.valueRange=r.assign(a.valueRange,{endLineNumber:l.lineNumber,endColumn:l.column}),a.range=r.assign(a.range,{endLineNumber:l.lineNumber,endColumn:l.column})}1===c.length&&(i=null)}if(0===c.length){var d=t.getPositionAt(e);u.endLineNumber=d.lineNumber,u.endColumn=d.column}},onArrayBegin:function(t,n){var i=[];e(i,t,n),c.push(s),s=i,o=null},onArrayEnd:function(e,o){if(s=c.pop(),1===c.length||2===c.length&&null!==i){var a=1===c.length?n[n.length-1]:i.overrides[i.overrides.length-1];if(a){var l=t.getPositionAt(e+o);a.valueRange=r.assign(a.valueRange,{endLineNumber:l.lineNumber,endColumn:l.column}),a.range=r.assign(a.range,{endLineNumber:l.lineNumber,endColumn:l.column})}}},onLiteralValue:e,onError:function(e){var t=n[n.length-1];!t||t.range&&t.keyRange&&t.valueRange||n.pop()}};t.isDisposed()||a.visit(t.getValue(),d),this._settingsGroups=n.length>0?[{sections:[{settings:n}],title:null,titleRange:null,range:u}]:[]},t}(g);t.SettingsEditorModel=m;var b=function(e){function t(t,n){var i=e.call(this)||this;return i._uri=t,i._mostCommonlyUsedSettingsKeys=n,i}return h(t,e),Object.defineProperty(t.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this._content||this.parse(),this._content},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"settingsGroups",{get:function(){return this._allSettingsGroups||this.parse(),this._allSettingsGroups},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mostCommonlyUsedSettings",{get:function(){return this.settingsGroups[0]},enumerable:!0,configurable:!0}),t.prototype.filterSettings=function(e){return this.doFilterSettings(e,this.settingsGroups)},t.prototype.getPreference=function(e){for(var t=0,n=this.settingsGroups;t<n.length;t++)for(var i=0,r=n[t].sections;i<r.length;i++)for(var o=0,s=r[i].settings;o<s.length;o++){var a=s[o];if(a.key===e)return a}return null},t.prototype.parse=function(){var e=this,t=s.Registry.as(l.Extensions.Configuration).getConfigurations().slice().sort(this.compareConfigurationNodes).reduce(function(t,n,i,r){return e.parseConfig(n,t,r)},[]),n=this.getMostCommonlyUsedSettings(t);this._allSettingsGroups=[n].concat(t),this._content=this.toContent(n,t)},t.prototype.getMostCommonlyUsedSettings=function(e){for(var t=new Map,i=0,r=e;i<r.length;i++)for(var o=0,s=r[i].sections;o<s.length;o++)for(var a=0,c=s[o].settings;a<c.length;a++){var l=c[a];t.set(l.key,l)}var u=this._mostCommonlyUsedSettingsKeys.map(function(e){var n=t.get(e);return n?{description:n.description,key:n.key,value:n.value,range:null,valueRange:null,overrides:[]}:null}).filter(function(e){return!!e});return{id:"mostCommonlyUsed",range:null,title:n.localize(0,null),titleRange:null,sections:[{settings:u}]}},t.prototype.parseConfig=function(e,t,n,i){var r=this,o=e.title;if(!o){var s=n.filter(function(t){return t.id===e.id&&t.title})[0];s&&(o=s.title)}if(o&&(i?i.sections[i.sections.length-1].title=o:(i=t.filter(function(e){return e.title===o})[0])||(i={sections:[{settings:[]}],id:e.id,title:o,titleRange:null,range:null},t.push(i))),e.properties){i||(i={sections:[{settings:[]}],id:e.id,title:e.id,titleRange:null,range:null},t.push(i));var a=this.parseSettings(e.properties);a.length&&(c=i.sections[i.sections.length-1].settings).push.apply(c,a)}return e.allOf&&e.allOf.forEach(function(e){return r.parseConfig(e,t,n,i)}),t;var c},t.prototype.parseSettings=function(e){var t=[];for(var n in e){var i=e[n];if(!i.deprecationMessage){var r=i.default,o=(i.description||"").split("\n"),s=l.OVERRIDE_PROPERTY_PATTERN.test(n)?this.parseOverrideSettings(i.default):[];t.push({key:n,value:r,description:o,range:null,keyRange:null,valueRange:null,descriptionRanges:[],overrides:s})}}return t},t.prototype.parseOverrideSettings=function(e){return Object.keys(e).map(function(t){return{key:t,value:e[t],description:[],range:null,keyRange:null,valueRange:null,descriptionRanges:[],overrides:[]}})},t.prototype.compareConfigurationNodes=function(e,t){if("number"!=typeof e.order)return 1;if("number"!=typeof t.order)return-1;if(e.order===t.order){var n=e.title||"",i=t.title||"";return n.localeCompare(i)}return e.order-t.order},t.prototype.toContent=function(e,t){return this._contentByLines=[],this._contentByLines.push("["),this.pushGroups([e]),this._contentByLines.push(","),this.pushGroups(t),this._contentByLines.push("]"),this._contentByLines.join("\n")},t.prototype.pushGroups=function(e){var t=null;this._contentByLines.push("{"),this._contentByLines.push("");for(var n=0,i=e;n<i.length;n++){var r=i[n];t=this.pushGroup(r)}if(t){var o=this._contentByLines[t.range.endLineNumber-2];this._contentByLines[t.range.endLineNumber-2]=o.substring(0,o.length-1)}this._contentByLines.push("}")},t.prototype.pushGroup=function(e){var t=null;this._contentByLines.push("");for(var i=this._contentByLines.length+1,r=0,o=e.sections;r<o.length;r++){var s=o[r];if(s.title){var a=this._contentByLines.length+1;this.addDescription([s.title],"  ",this._contentByLines),s.titleRange={startLineNumber:a,startColumn:1,endLineNumber:this._contentByLines.length,endColumn:this._contentByLines[this._contentByLines.length-1].length}}if(s.settings.length)for(var c=0,l=s.settings;c<l.length;c++){var u=l[c];this.pushSetting(u,"  "),t=u}else this._contentByLines.push("// "+n.localize(1,null)),this._contentByLines.push("")}return e.range={startLineNumber:i,startColumn:1,endLineNumber:this._contentByLines.length,endColumn:this._contentByLines[this._contentByLines.length-1].length},t},t.prototype.pushSetting=function(e,t){var n=this._contentByLines.length+1;e.descriptionRanges=[];for(var i=t+"// ",r=0,o=e.description;r<o.length;r++){var s=o[r];this._contentByLines.push(i+s),e.descriptionRanges.push({startLineNumber:this._contentByLines.length,startColumn:this._contentByLines[this._contentByLines.length-1].indexOf(s)+1,endLineNumber:this._contentByLines.length,endColumn:this._contentByLines[this._contentByLines.length-1].length})}var a=t;a+=JSON.stringify(e.key),e.keyRange={startLineNumber:this._contentByLines.length+1,startColumn:a.indexOf(e.key)+1,endLineNumber:this._contentByLines.length+1,endColumn:e.key.length},a+=": ";var c=this._contentByLines.length+1;this.pushValue(e,a,t),e.valueRange={startLineNumber:c,startColumn:a.length+1,endLineNumber:this._contentByLines.length,endColumn:this._contentByLines[this._contentByLines.length-1].length+1},this._contentByLines[this._contentByLines.length-1]+=",",this._contentByLines.push(""),e.range={startLineNumber:n,startColumn:1,endLineNumber:this._contentByLines.length,endColumn:this._contentByLines[this._contentByLines.length-1].length}},t.prototype.pushValue=function(e,t,n){var i=JSON.stringify(e.value,null,n);if(i&&"object"==typeof e.value)if(e.overrides.length){this._contentByLines.push(t+" {");for(var r=0,o=e.overrides;r<o.length;r++){var s=o[r];this.pushSetting(s,n+n),this._contentByLines.pop()}var a=e.overrides[e.overrides.length-1],c=this._contentByLines[a.range.endLineNumber-2];this._contentByLines[a.range.endLineNumber-2]=c.substring(0,c.length-1),this._contentByLines.push(n+"}")}else{var l=i.split("\n");this._contentByLines.push(t+l[0]);for(var u=1;u<l.length;u++)this._contentByLines.push(n+l[u])}else this._contentByLines.push(t+i)},t.prototype.addDescription=function(e,t,n){for(var i=0,r=e;i<r.length;i++){var o=r[i];n.push(t+"// "+o)}},t.prototype.findValueMatches=function(e,t){return[]},t.prototype.dispose=function(){},t}(g);t.DefaultSettingsEditorModel=b,t.defaultKeybindingsContents=p;var S=function(){function e(e,t){this._uri=e,this.keybindingService=t}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){return this._content||(this._content=p(this.keybindingService)),this._content},enumerable:!0,configurable:!0}),e.prototype.getPreference=function(){return null},e.prototype.dispose=function(){},e}();S=v([y(1,u.IKeybindingService)],S),t.DefaultKeybindingsEditorModel=S}),define(u[1018],d([1,0,94,37,14]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.hasOpenBrace=function(e){for(;e.scan()!==n.SyntaxKind.EOF;)if(e.getToken()===n.SyntaxKind.OpenBraceToken)return!0;return!1},e.offsetToPosition=function(e,t){for(var n=0,r=e.getEOL().length,o=e.getLineCount(),s=1;s<=o;s++){var a=n+(e.getLineContent(s).length+r);if(a>t)return new i.Position(s,t-n+1);n=a}return new i.Position(o,e.getLineMaxColumn(o))},e.insertSnippet=function(e,t){var o,s=e.getValueLengthInRange(new r.Range(1,1,t.lineNumber,t.column));!function(e){e[e.INVALID=0]="INVALID",e[e.AFTER_OBJECT=1]="AFTER_OBJECT",e[e.BEFORE_OBJECT=2]="BEFORE_OBJECT"}(o||(o={}));for(var a=o.INVALID,c=-1,l=o.INVALID,u=n.createScanner(e.getValue()),d=0,h=0,p=function(e,t){t!==o.INVALID&&1===d&&0===h?(a=t,c=e,l=t):a!==o.INVALID&&(a=o.INVALID,c=u.getTokenOffset())};u.scan()!==n.SyntaxKind.EOF;){var f=u.getPosition(),g=!1;switch(u.getToken()){case n.SyntaxKind.OpenBracketToken:g=!0,d++,p(f,o.BEFORE_OBJECT);break;case n.SyntaxKind.CloseBracketToken:g=!0,d--,p(f,o.INVALID);break;case n.SyntaxKind.CommaToken:g=!0,p(f,o.BEFORE_OBJECT);break;case n.SyntaxKind.OpenBraceToken:g=!0,h++,p(f,o.INVALID);break;case n.SyntaxKind.CloseBraceToken:g=!0,h--,p(f,o.AFTER_OBJECT);break;case n.SyntaxKind.Trivia:case n.SyntaxKind.LineBreakTrivia:g=!0}if(f>=s&&(a!==o.INVALID||-1!==c)){var v=void 0,m=void 0;return a!==o.INVALID?(v=g?f:u.getTokenOffset(),m=a):(v=c,m=l),m===o.AFTER_OBJECT?{position:this.offsetToPosition(e,v),prepend:",",append:""}:(u.setPosition(v),{position:this.offsetToPosition(e,v),prepend:"",append:this.hasOpenBrace(u)?",":""})}}var y=e.getLineCount();return{position:new i.Position(y,e.getLineMaxColumn(y)),prepend:"\n[",append:"]"}},e}();t.SmartSnippetInserter=o}),define(u[1019],d([1,0,4,654,24,15,115,102,84,54]),function(e,t,n,i,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HELP_PREFIX="?";var u=function(e){function t(t,n,i,r){var o=e.call(this)||this;return o.prefix=t||"…",o.description=n,o.quickOpenService=i,o.openOnPreview=r,o}return h(t,e),t.prototype.getLabel=function(){return this.prefix},t.prototype.getAriaLabel=function(){return i.localize(0,null,this.getLabel())},t.prototype.getDescription=function(){return this.description},t.prototype.run=function(e,t){return(e===s.Mode.OPEN||this.openOnPreview)&&this.quickOpenService.show(this.prefix),!1},t}(a.QuickOpenEntryGroup),d=function(e){function s(t){var n=e.call(this)||this;return n.quickOpenService=t,n}return h(s,e),s.prototype.getResults=function(e){var s=this;e=e.trim();var l=o.Registry.as(c.Extensions.Quickopen),d=l.getQuickOpenHandlers(),h=l.getDefaultQuickOpenHandler();h&&d.push(h);var p,f=[],g=[];return d.sort(function(e,t){return e.prefix.localeCompare(t.prefix)}).forEach(function(n){if(n.prefix!==t.HELP_PREFIX)if(r.isArray(n.helpEntries))for(var i=0;i<n.helpEntries.length;i++){var o=n.helpEntries[i];0===o.prefix.indexOf(e)&&(p=new u(o.prefix,o.description,s.quickOpenService,e.length>0),o.needsEditor?g.push(p):f.push(p))}else 0===n.prefix.indexOf(e)&&(p=new u(n.prefix,n.description,s.quickOpenService,e.length>0),f.push(p))}),f.length>0&&f[0].setGroupLabel(i.localize(1,null)),g.length>0&&(g[0].setGroupLabel(i.localize(2,null)),f.length>0&&g[0].setShowBorder(!0)),n.TPromise.as(new a.QuickOpenModel(f.concat(g)))},s.prototype.getAutoFocus=function(e){return e=e.trim(),{autoFocusFirstEntry:e.length>0,autoFocusPrefixMatch:e}},s}(c.QuickOpenHandler);d=v([y(0,l.IQuickOpenService)],d),t.HelpHandler=d}),define(u[1020],d([1,0,5,85,15,20,126,62,23,657,39,27]),function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function e(e,t,n,i,r,o,s){this.windowsService=e,this.windowService=t,this.configurationService=n,this.preferencesService=i,this.envService=r,this.messageService=o,this.contextService=s,this.toDispose=[],this.rootCount=this.contextService.hasWorkspace()?this.contextService.getWorkspace2().roots.length:0,this.onConfigurationChange(n.getConfiguration(),!1),this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.configurationService.onDidUpdateConfiguration(function(t){return e.onConfigurationChange(e.configurationService.getConfiguration(),!0)})),this.toDispose.push(this.contextService.onDidChangeWorkspaceRoots(function(){return e.onDidChangeWorkspaceRoots()}))},e.prototype.onConfigurationChange=function(e,t){var n=this,i=!1;!e.window||e.window.titleBarStyle===this.titleBarStyle||"native"!==e.window.titleBarStyle&&"custom"!==e.window.titleBarStyle||(this.titleBarStyle=e.window.titleBarStyle,i=!0),e.window&&"boolean"==typeof e.window.nativeTabs&&e.window.nativeTabs!==this.nativeTabs&&(this.nativeTabs=e.window.nativeTabs,i=!0),e.update&&"string"==typeof e.update.channel&&e.update.channel!==this.updateChannel&&(this.updateChannel=e.update.channel,i=!0),e.telemetry&&"boolean"==typeof e.telemetry.enableCrashReporter&&e.telemetry.enableCrashReporter!==this.enableCrashReporter&&(this.enableCrashReporter=e.telemetry.enableCrashReporter,i=!0),t&&i&&this.doConfirm(l.localize(0,null),l.localize(1,null,this.envService.appNameLong),l.localize(2,null),function(){return n.windowsService.relaunch(Object.create(null))})},e.prototype.onDidChangeWorkspaceRoots=function(){var e=this,t=this.contextService.hasWorkspace()?this.contextService.getWorkspace2().roots.length:0,n=!1;0===this.rootCount&&t>0?n=!0:this.rootCount>0&&0===t&&(n=!0),this.rootCount=t,n&&this.doConfirm(l.localize(3,null),l.localize(4,null,this.envService.appNameLong),l.localize(5,null),function(){return e.windowService.reloadWindow()})},e.prototype.doConfirm=function(e,t,n,i){var r=this;this.windowService.isFocused().then(function(o){o&&r.messageService.confirm({type:"info",message:e,detail:t,primaryButton:n})&&i()})},e.prototype.getId=function(){return"workbench.relauncher"},e.prototype.dispose=function(){this.toDispose=n.dispose(this.toDispose)},e}();h=v([y(0,a.IWindowsService),y(1,a.IWindowService),y(2,c.IConfigurationService),y(3,s.IPreferencesService),y(4,u.IEnvironmentService),y(5,o.IMessageService),y(6,d.IWorkspaceContextService)],h),t.SettingsChangeRelauncher=h,r.Registry.as(i.Extensions.Workbench).registerWorkbenchContribution(h)}),define(u[282],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VIEWLET_ID="workbench.view.scm"}),define(u[412],d([1,0]),function(e,t){"use strict";function n(e){return!!e.sourceUri}Object.defineProperty(t,"__esModule",{value:!0}),t.isSCMResource=n,t.getSCMResourceContextKey=function(e){return n(e)?e.resourceGroup.id:e.id}}),define(u[1023],d([1,0,666,9,12,28,131,40,91,145,308,110,8,55]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=function(e){function t(t,i,r,o){void 0===o&&(o=Object.create(null));var s=e.call(this)||this;return s.contextViewProvider=i,s.themeService=r,s._onSubmit=s._register(new p.Emitter),s.onSubmit=s._onSubmit.event,s.onOptionChange=null,s.width=o.width||100,s.placeholder=o.placeholder||"",s.ariaLabel=o.ariaLabel||n.localize(0,null),s.pattern=null,s.domNode=null,s.inputNode=null,s.inputBox=null,s.render(),t.appendChild(s.domNode),s}return h(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this.pattern.dispose(),this.inputFocusTracker&&this.inputFocusTracker.dispose()},t.prototype.on=function(e,n){switch(e){case"keydown":case"keyup":a.$(this.inputBox.inputElement).on(e,n);break;case t.OPTION_CHANGE:this.onOptionChange=n}return this},t.prototype.setWidth=function(e){this.width=e,this.domNode.style.width=this.width+"px",this.contextViewProvider.layout(),this.setInputWidth()},t.prototype.getValue=function(){return this.inputBox.value},t.prototype.setValue=function(e){this.inputBox.value!==e&&(this.inputBox.value=e)},t.prototype.getGlob=function(){var e=this.getValue(),t=this.isGlobPattern();if(!e)return{};var n,i;if(t){o=l.splitGlobAware(e,",").map(function(e){return r.ltrim(e.trim(),"./")}).filter(function(e){return!!e.length});i=(s=this.groupByPathsAndExprSegments(o)).searchPaths,n=s.exprSegments}else{var o=e.split(",").map(function(e){return r.ltrim(e.trim(),"./")}).filter(function(e){return!!e.length}),s=this.groupByPathsAndExprSegments(o);i=s.searchPaths,n=s.exprSegments.map(function(e){return"."===e[0]&&(e="*"+e),r.format("{{0}/**,**/{1}}",e,e)})}return{expression:n.reduce(function(e,t){return e[t]=!0,e},Object.create(null)),searchPaths:i}},t.prototype.groupByPathsAndExprSegments=function(e){var t=function(e){return o.isAbsolute(e)&&!e.match(/[\*\{\}\(\)\[\]\?]/)},n=s.groupBy(e,function(e){return t(e)?"searchPaths":"exprSegments"});return n.searchPaths=n.searchPaths||[],n.exprSegments=(n.exprSegments||[]).map(function(e){return r.trim(e,"/")}),n},t.prototype.select=function(){this.inputBox.select()},t.prototype.focus=function(){this.inputBox.focus()},t.prototype.inputHasFocus=function(){return this.inputBox.hasFocus()},t.prototype.isGlobPattern=function(){return this.pattern.checked},t.prototype.setIsGlobPattern=function(e){this.pattern.checked=e},t.prototype.setInputWidth=function(){this.inputBox.width=this.width-this.getSubcontrolsWidth()},t.prototype.getSubcontrolsWidth=function(){return this.pattern.width()},t.prototype.render=function(){var e=this;this.domNode=document.createElement("div"),this.domNode.style.width=this.width+"px",a.$(this.domNode).addClass("monaco-findInput"),this.inputBox=new d.InputBox(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.ariaLabel||"",validationOptions:{validation:null,showMessage:!0}}),this._register(f.attachInputBoxStyler(this.inputBox,this.themeService)),this.inputFocusTracker=i.trackFocus(this.inputBox.inputElement),this.onkeyup(this.inputBox.inputElement,function(t){return e.onInputKeyUp(t)}),this.pattern=new u.Checkbox({actionClassName:"pattern",title:n.localize(1,null),isChecked:!1,onChange:function(t){e.onOptionChange(null),t||e.inputBox.focus(),e.isGlobPattern()?e.showGlobHelp():e.inputBox.hideMessage()}}),this._register(f.attachCheckboxStyler(this.pattern,this.themeService)),a.$(this.pattern.domNode).on("mouseover",function(){e.isGlobPattern()&&e.showGlobHelp()}),a.$(this.pattern.domNode).on(["mouseleave","mouseout"],function(){e.inputBox.hideMessage()});var t=document.createElement("div");t.className="controls",this.renderSubcontrols(t),this.domNode.appendChild(t),this.setInputWidth()},t.prototype.renderSubcontrols=function(e){e.appendChild(this.pattern.domNode)},t.prototype.showGlobHelp=function(){this.inputBox.showMessage({type:d.MessageType.INFO,formatContent:!0,content:n.localize(2,null)},!0)},t.prototype.onInputKeyUp=function(e){switch(e.keyCode){case 3:return void this._onSubmit.fire();default:return}},t}(c.Widget);g.OPTION_CHANGE="optionChange",t.PatternInputWidget=g;var v=function(e){function t(t,n,i,r,o){void 0===o&&(o=Object.create(null));var s=e.call(this,t,n,i,o)||this;return s.telemetryService=r,s}return h(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this.useIgnoreFilesBox.dispose(),this.useExcludeSettingsBox.dispose()},t.prototype.useExcludeSettings=function(){return this.useExcludeSettingsBox.checked},t.prototype.setUseExcludeSettings=function(e){this.useExcludeSettingsBox.checked=e},t.prototype.useIgnoreFiles=function(){return this.useIgnoreFilesBox.checked},t.prototype.setUseIgnoreFiles=function(e){this.useIgnoreFilesBox.checked=e},t.prototype.getSubcontrolsWidth=function(){return e.prototype.getSubcontrolsWidth.call(this)+this.useIgnoreFilesBox.width()+this.useExcludeSettingsBox.width()},t.prototype.renderSubcontrols=function(t){var i=this;this.useIgnoreFilesBox=new u.Checkbox({actionClassName:"useIgnoreFiles",title:n.localize(3,null),isChecked:!1,onChange:function(e){i.telemetryService.publicLog("search.useIgnoreFiles.toggled"),i.onOptionChange(null),e||i.inputBox.focus()}}),this._register(f.attachCheckboxStyler(this.useIgnoreFilesBox,this.themeService)),this.useExcludeSettingsBox=new u.Checkbox({actionClassName:"useExcludeSettings",title:n.localize(4,null),isChecked:!1,onChange:function(e){i.telemetryService.publicLog("search.useExcludeSettings.toggled"),i.onOptionChange(null),e||i.inputBox.focus()}}),this._register(f.attachCheckboxStyler(this.useExcludeSettingsBox,this.themeService)),t.appendChild(this.useIgnoreFilesBox.domNode),t.appendChild(this.useExcludeSettingsBox.domNode),e.prototype.renderSubcontrols.call(this,t)},t}(g);t.ExcludePatternInputWidget=v}),define(u[197],d([1,0,17]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VIEWLET_ID="workbench.view.search",t.FindInFilesActionId="workbench.action.findInFiles",t.FocusActiveEditorActionId="search.action.focusActiveEditor",t.FocusSearchFromResults="search.action.focusSearchFromResults",t.OpenMatchToSide="search.action.openResultToSide",t.CancelActionId="search.action.cancel",t.RemoveActionId="search.action.remove",t.ReplaceActionId="search.action.replace",t.ReplaceAllInFileActionId="search.action.replaceAllInFile",t.ToggleCaseSensitiveActionId="toggleSearchCaseSensitive",t.ToggleWholeWordActionId="toggleSearchWholeWord",t.ToggleRegexActionId="toggleSearchRegex",t.CloseReplaceWidgetActionId="closeReplaceInFilesWidget",t.SearchViewletVisibleKey=new n.RawContextKey("searchViewletVisible",!0),t.InputBoxFocussedKey=new n.RawContextKey("inputBoxFocus",!1),t.SearchInputBoxFocussedKey=new n.RawContextKey("searchInputBoxFocus",!1),t.ReplaceInputBoxFocussedKey=new n.RawContextKey("replaceInputBoxFocus",!1),t.ReplaceActiveKey=new n.RawContextKey("replaceActive",!1),t.FirstMatchFocusKey=new n.RawContextKey("firstMatchFocus",!1),t.FileMatchOrMatchFocusKey=new n.RawContextKey("fileMatchOrMatchFocus",!1),t.FileFocusKey=new n.RawContextKey("fileMatchFocus",!1),t.MatchFocusKey=new n.RawContextKey("matchFocus",!1)}),define(u[193],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IReplaceService=n.createDecorator("replaceService")}),define(u[247],d([1,0,4,7,25,30]),function(e,t,n,i,r,o){"use strict";function s(e){var t=[],r=a.all().map(function(n){return n.provideWorkspaceSymbols(e).then(function(e){Array.isArray(e)&&t.push([n,e])},i.onUnexpectedError)});return n.TPromise.join(r).then(function(e){return t})}Object.defineProperty(t,"__esModule",{value:!0});var a;!function(e){var t=[];e.register=function(e){return e&&t.push(e),{dispose:function(){if(e){var n=t.indexOf(e);n>=0&&(t.splice(n,1),e=void 0)}}}},e.all=function(){return t.slice(0)}}(a=t.WorkspaceSymbolProviderRegistry||(t.WorkspaceSymbolProviderRegistry={})),t.getWorkspaceSymbols=s,r.CommonEditorRegistry.registerLanguageCommand("_executeWorkspaceSymbolProvider",function(e,t){var n=t.query;if("string"!=typeof n)throw i.illegalArgument();return s(n)}),t.getOutOfWorkspaceEditorResources=function(e,t){var n=[];return e.getStacksModel().groups.forEach(function(e){e.getEditors().forEach(function(e){var i=o.toResource(e,{supportSideBySide:!0,filter:"file"});i&&!t.isInsideWorkspace(i)&&n.push(i)})}),n}}),define(u[407],d([1,0,26,156,23]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.configurationService=e}return e.prototype.text=function(e,t,n){return this.query(i.QueryType.Text,e,t,n)},e.prototype.file=function(e,t){return this.query(i.QueryType.File,null,e,t)},e.prototype.query=function(e,t,n,i){var r=this;void 0===i&&(i={});var o=n&&n.map(function(e){var t=r.configurationService.getConfiguration(void 0,{resource:e});return{folder:e,excludePattern:r.getExcludesForFolder(t,i),fileEncoding:t.files.encoding}}),s=!n||n.every(function(e){return r.configurationService.getConfiguration(void 0,{resource:e}).search.useRipgrep});return{type:e,folderQueries:o,extraFileResources:i.extraFileResources,filePattern:i.filePattern,excludePattern:i.excludePattern,includePattern:i.includePattern,maxResults:i.maxResults,sortByScore:i.sortByScore,cacheKey:i.cacheKey,contentPattern:t,useRipgrep:s,disregardIgnoreFiles:i.disregardIgnoreFiles,disregardExcludeSettings:i.disregardExcludeSettings,searchPaths:i.searchPaths}},e.prototype.getExcludesForFolder=function(e,t){var r=i.getExcludes(e);return t.disregardExcludeSettings?null:t.excludePattern?n.mixin(t.excludePattern,r,!1):r},e}();o=v([y(0,r.IConfigurationService)],o),t.QueryBuilder=o}),define(u[202],d([1,0,676,6,116,189,42,37,12]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ISnippetsService=i.createDecorator("snippetService");var l=function(){function e(e){this._snippets=new Map,o.setSnippetSuggestSupport(new u(e,this))}return e.prototype.registerSnippets=function(e,t,n){this._snippets.has(e)||this._snippets.set(e,new Map),this._snippets.get(e).set(n,t)},e.prototype.visitSnippets=function(e,t){var n=this._snippets.get(e);n&&n.forEach(function(e){e.every(t)})},e.prototype.getSnippets=function(e){var t=this._snippets.get(e),n=[];return t&&t.forEach(function(e){n.push.apply(n,e)}),n},e}();l=v([y(0,s.IModeService)],l),t.SnippetsService=l,r.registerSingleton(t.ISnippetsService,l);var u=function(){function e(e,t){this._modeService=e,this._snippets=t}return e.prototype.provideCompletionItems=function(t,i){for(var r=this._getLanguageIdAtPosition(t,i),o=this._snippets.getSnippets(r),s=[],l=t.getWordUntilPosition(i).word.toLowerCase(),u=t.getLineContent(i.lineNumber).substr(Math.max(0,i.column-100),i.column-1).toLowerCase(),d=0,h=o;d<h.length;d++){var p=h[d],f=p.prefix.toLowerCase(),g=0,v=!0;l.length>0&&c.startsWith(f,l)?(g=l.length,v=!0):u.length>0&&u.match(/[^\s]$/)&&(v=(g=c.overlap(u,p.prefix.toLowerCase()))>0&&!t.getWordAtPosition(new a.Position(i.lineNumber,i.column-g))),v&&s.push({snippet:p,suggestion:{type:"snippet",label:p.prefix,detail:p.extensionName||n.localize(0,null),documentation:p.description,insertText:p.codeSnippet,sortText:p.prefix+"-"+(p.extensionName||""),noAutoAccept:!0,snippetType:"textmate",overwriteBefore:g}})}for(var m,y=[],b=0,S=s.sort(e._compareSuggestionsByLabel);b<S.length;b++){var _=S[b];m&&m.suggestion.label===_.suggestion.label&&(m.suggestion.label=n.localize(1,null,m.suggestion.label,m.snippet.name),_.suggestion.label=n.localize(2,null,_.suggestion.label,_.snippet.name)),m=_,y.push(_.suggestion)}return{suggestions:y}},e.prototype._getLanguageIdAtPosition=function(e,t){e.forceTokenization(t.lineNumber);var n=e.getLanguageIdAtPosition(t.lineNumber,t.column),i=this._modeService.getLanguageIdentifier(n).language;return this._modeService.getLanguageName(i)||(n=e.getLanguageIdentifier().id),n},e._compareSuggestionsByLabel=function(e,t){return c.compare(e.suggestion.label,t.suggestion.label)},e}();u=v([y(0,s.IModeService),y(1,t.ISnippetsService)],u),t.SnippetSuggestProvider=u,t.getNonWhitespacePrefix=function(e,t){for(var n=e.getLineContent(t.lineNumber).substr(0,t.column-1),i=Math.max(0,n.length-100),r=n.length-1;r>=i;r--){var o=n.charAt(r);if(/\s/.test(o))return n.substr(r+1)}return 0===i?n:""}}),define(u[1029],d([1,0,674,4,25,54,42,32,202,165,48]),function(e,t,n,i,r,o,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e,t,n){this.snippet=e,this.name=t,this.langId=n}return e.fromUser=function(t){if(!t||"object"!=typeof t)return e._empty;var n=t.snippet,i=t.name,r=t.langId;return"string"!=typeof n&&(n=void 0),"string"!=typeof i&&(i=void 0),"string"!=typeof r&&(r=void 0),new e(n,i,r)},e}();d._empty=new d(void 0,void 0,void 0);var p=function(e){function t(){return e.call(this,{id:"editor.action.insertSnippet",label:n.localize(0,null),alias:"Insert Snippet",precondition:u.EditorContextKeys.writable})||this}return h(t,e),t.prototype.run=function(e,t,n){var r=e.get(s.IModeService),a=e.get(c.ISnippetsService);if(t.getModel()){var u=e.get(o.IQuickOpenService),h=t.getPosition(),p=h.lineNumber,f=h.column,g=d.fromUser(n),v=g.snippet,m=g.name,y=g.langId;return new i.TPromise(function(e,n){if(v)return e({codeSnippet:v,description:void 0,name:void 0,extensionName:void 0,prefix:void 0});var i;if(y)i=r.getLanguageIdentifier(y).id;else{t.getModel().forceTokenization(p),i=t.getModel().getLanguageIdAtPosition(p,f);var o=r.getLanguageIdentifier(i).language;r.getLanguageName(o)||(i=t.getModel().getLanguageIdentifier().id)}if(!m){var s=[];return a.visitSnippets(i,function(e){return s.push({label:e.prefix,detail:e.description,snippet:e}),!0}),u.pick(s).then(function(t){return e(t&&t.snippet)},n)}a.visitSnippets(i,function(t){return t.name!==m||(e(t),!1)})}).then(function(e){e&&l.SnippetController2.get(t).insert(e.codeSnippet,0,0)})}},t}(r.EditorAction);p=v([r.editorAction],p),a.CommandsRegistry.registerCommand("editor.action.showSnippets",function(e){return e.get(a.ICommandService).executeCommand("editor.action.insertSnippet")})}),define(u[401],d([1,0,677,17,72,202,15,12,25,165,64,48]),function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=f=function(){function e(e,t,n){var i=this;this._currentSnippets=[],this._snippetController=l.SnippetController2.get(e);var r=f.ContextKey.bindTo(t);this._cursorChangeSubscription=e.onDidChangeCursorSelection(function(t){i._currentSnippets.length=0;var s;if(t.selection.isEmpty()){var c=o.getNonWhitespacePrefix(e.getModel(),e.getPosition());s=c&&function(e){return a.endsWith(c,e.prefix)}}else{var l=e.getModel().getValueInRange(t.selection);s=function(e){return l===e.prefix}}s&&n.visitSnippets(e.getModel().getLanguageIdentifier().id,function(e){return s(e)&&i._currentSnippets.push(e),!0}),r.set(1===i._currentSnippets.length)})}return e.get=function(e){return e.getContribution(f.ID)},e.prototype.dispose=function(){this._cursorChangeSubscription.dispose()},e.prototype.performSnippetCompletions=function(){if(1===this._currentSnippets.length){var e=this._currentSnippets[0];this._snippetController.insert(e.codeSnippet,e.prefix.length,0)}},e.prototype.getId=function(){return f.ID},e}();h.ID="editor.tabCompletionController",h.ContextKey=new i.RawContextKey("hasSnippetCompletions",void 0),h=f=v([c.commonEditorContribution,y(1,i.IContextKeyService),y(2,o.ISnippetsService)],h),t.TabCompletionController=h;var p=c.EditorCommand.bindToContribution(h.get);c.CommonEditorRegistry.registerEditorCommand(new p({id:"insertSnippet",precondition:h.ContextKey,handler:function(e){return e.performSnippetCompletions()},kbOpts:{weight:r.KeybindingsRegistry.WEIGHT.editorContrib(),kbExpr:i.ContextKeyExpr.and(d.EditorContextKeys.textFocus,d.EditorContextKeys.tabDoesNotMoveFocus,l.SnippetController2.InSnippetMode.toNegated(),i.ContextKeyExpr.has("config.editor.tabCompletion")),primary:2}})),s.Registry.as(u.Extensions.Configuration).registerConfiguration({id:"editor",order:5,type:"object",properties:{"editor.tabCompletion":{type:"boolean",default:!1,description:n.localize(0,null)}}});var f}),define(u[1031],d([1,0,25,56,320,17,6,32,337,335,350,316,165,401,13]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m=function(e){function t(t,n,i,r,o,s,a){return e.call(this,t,n,i,r,o,s,a)||this}return h(t,e),t.prototype._getContributions=function(){return[c.MenuPreventer,l.SelectionClipboard,u.ContextMenuController,d.SuggestController,p.SnippetController2,f.TabCompletionController]},t.prototype._getActions=function(){return n.CommonEditorRegistry.getEditorActions()},t}(r.CodeEditorWidget);m=v([y(2,s.IInstantiationService),y(3,i.ICodeEditorService),y(4,a.ICommandService),y(5,o.IContextKeyService),y(6,g.IThemeService)],m),t.ReplInputEditor=m}),define(u[1032],d([1,0,678,4,21,11,44,85,15,20,6,19,43,31,136,80]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m=function(){return function(e,t,o,s,a,c,u){var d=e.surveyId+".sessionCount",g=e.surveyId+".lastSessionDate",v=e.surveyId+".skipVersion",m=e.surveyId+".isCandidate",y=e.surveyId+".editedCount",b=e.surveyId+".editedDate";if(!o.get(v,p.StorageScope.GLOBAL,"")){var S=(new Date).toDateString();o.getInteger(y,p.StorageScope.GLOBAL,0)<e.editCount&&c.onFileChanges(function(t){t.getUpdated().forEach(function(t){if(t.type===h.FileChangeType.UPDATED){var n=u.getModel(t.resource);if(n&&n.getModeId()===e.languageId&&S!==o.get(b,p.StorageScope.GLOBAL)){var i=o.getInteger(y,p.StorageScope.GLOBAL,0)+1;o.store(y,i,p.StorageScope.GLOBAL),o.store(b,S,p.StorageScope.GLOBAL)}}})});var _=o.get(g,p.StorageScope.GLOBAL,new Date(0).toDateString());if(S!==_){var E=o.getInteger(d,p.StorageScope.GLOBAL,0)+1;if(o.store(g,S,p.StorageScope.GLOBAL),o.store(d,E,p.StorageScope.GLOBAL),!(E<9||o.getInteger(y,p.StorageScope.GLOBAL,0)<e.editCount)){var C=o.getBoolean(m,p.StorageScope.GLOBAL,!1)||Math.random()<e.userProbability;if(o.store(m,C,p.StorageScope.GLOBAL),C){var w=n.localize(0,null,e.languageId),I=new r.Action("takeSurvey",n.localize(1,null),"",!0,function(){return a.publicLog(e.surveyId+".survey/takeShortSurvey"),a.getTelemetryInfo().then(function(t){window.open(e.surveyUrl+"?o="+encodeURIComponent(process.platform)+"&v="+encodeURIComponent(f.default.version)+"&m="+encodeURIComponent(t.machineId)),o.store(m,!1,p.StorageScope.GLOBAL),o.store(v,f.default.version,p.StorageScope.GLOBAL)})}),T=new r.Action("later",n.localize(2,null),"",!0,function(){return a.publicLog(e.surveyId+".survey/remindMeLater"),o.store(d,E-3,p.StorageScope.GLOBAL),i.TPromise.as(null)}),k=[new r.Action("never",n.localize(3,null),"",!0,function(){return a.publicLog(e.surveyId+".survey/dontShowAgain"),o.store(m,!1,p.StorageScope.GLOBAL),o.store(v,f.default.version,p.StorageScope.GLOBAL),i.TPromise.as(null)}),T,I];a.publicLog(e.surveyId+".survey/userAsked"),s.show(l.Severity.Info,{message:w,actions:k})}else o.store(v,f.default.version,p.StorageScope.GLOBAL)}}}}}(),b=function(){function e(e,t,n,i,r,o){this.surveys=g.default.surveys.filter(function(e){return e.surveyId&&e.editCount&&e.languageId&&e.surveyUrl&&e.userProbability}).map(function(s){return new m(s,e,t,n,i,r,o)})}return e.prototype.getId=function(){return"languagesurveys.contribution"},e}();b=v([y(0,u.IInstantiationService),y(1,p.IStorageService),y(2,l.IMessageService),y(3,d.ITelemetryService),y(4,h.IFileService),y(5,s.IModelService)],b),"en"===o.language&&g.default.surveys&&g.default.surveys.length&&c.Registry.as(a.Extensions.Workbench).registerWorkbenchContribution(b)}),define(u[1033],d([1,0,679,4,21,11,85,15,20,6,19,31,136,80]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=.15,g="nps/sessionCount",m="nps/lastSessionDate",b="nps/skipVersion",S="nps/isCandidate",_=function(){function e(e,t,o,s){if(!t.get(b,d.StorageScope.GLOBAL,"")){var a=(new Date).toDateString();if(a!==t.get(m,d.StorageScope.GLOBAL,new Date(0).toDateString())){var l=t.getInteger(g,d.StorageScope.GLOBAL,0)+1;if(t.store(m,a,d.StorageScope.GLOBAL),t.store(g,l,d.StorageScope.GLOBAL),!(l<9)){var u=t.getBoolean(S,d.StorageScope.GLOBAL,!1)||Math.random()<f;if(t.store(S,u,d.StorageScope.GLOBAL),u){var v=n.localize(0,null),y=new r.Action("nps.takeSurvey",n.localize(1,null),"",!0,function(){return s.getTelemetryInfo().then(function(e){window.open(p.default.npsSurveyUrl+"?o="+encodeURIComponent(process.platform)+"&v="+encodeURIComponent(h.default.version)+"&m="+encodeURIComponent(e.machineId)),t.store(S,!1,d.StorageScope.GLOBAL),t.store(b,h.default.version,d.StorageScope.GLOBAL)})}),_=new r.Action("nps.later",n.localize(2,null),"",!0,function(){return t.store(g,l-3,d.StorageScope.GLOBAL),i.TPromise.as(null)}),E=[new r.Action("nps.never",n.localize(3,null),"",!0,function(){return t.store(S,!1,d.StorageScope.GLOBAL),t.store(b,h.default.version,d.StorageScope.GLOBAL),i.TPromise.as(null)}),_,y];o.show(c.Severity.Info,{message:v,actions:E})}else t.store(b,h.default.version,d.StorageScope.GLOBAL)}}}}return e.prototype.getId=function(){return"nps"},e}();_=v([y(0,l.IInstantiationService),y(1,d.IStorageService),y(2,c.IMessageService),y(3,u.ITelemetryService)],_),"en"===o.language&&p.default.npsSurveyUrl&&a.Registry.as(s.Extensions.Workbench).registerWorkbenchContribution(_)}),define(u[398],d([1,0,81,154]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;!function(e){e.WatchingBeginDetected="watchingBeginDetected",e.WatchingEndDetected="watchingEndDetected"}(r=t.ProblemCollectorEvents||(t.ProblemCollectorEvents={}));var o=function(e){function t(t,n){var r=e.call(this)||this;return r.modelService=n,r.matchers=Object.create(null),r.bufferLength=1,t.map(function(e){return i.createLineMatcher(e)}).forEach(function(e){var t=e.matchLength;t>r.bufferLength&&(r.bufferLength=t);var n=r.matchers[t];n||(n=[],r.matchers[t]=n),n.push(e)}),r.buffer=[],r.activeMatcher=null,r._numberOfMatches=0,r.openModels=Object.create(null),r.modelListeners=[],r.modelService.onModelAdded(function(e){r.openModels[e.uri.toString()]=!0},r,r.modelListeners),r.modelService.onModelRemoved(function(e){delete r.openModels[e.uri.toString()]},r,r.modelListeners),r.modelService.getModels().forEach(function(e){return r.openModels[e.uri.toString()]=!0}),r}return h(t,e),t.prototype.dispose=function(){this.modelListeners.forEach(function(e){return e.dispose()})},Object.defineProperty(t.prototype,"numberOfMatches",{get:function(){return this._numberOfMatches},enumerable:!0,configurable:!0}),t.prototype.tryFindMarker=function(e){var t=null;if(this.activeMatcher){if(t=this.activeMatcher.next(e))return this._numberOfMatches++,t;this.clearBuffer(),this.activeMatcher=null}if(this.buffer.length<this.bufferLength)this.buffer.push(e);else{for(var n=this.buffer.length-1,i=0;i<n;i++)this.buffer[i]=this.buffer[i+1];this.buffer[n]=e}return(t=this.tryMatchers())&&this.clearBuffer(),t},t.prototype.isOpen=function(e){return!!this.openModels[e.toString()]},t.prototype.shouldApplyMatch=function(e){switch(e.description.applyTo){case i.ApplyToKind.allDocuments:return!0;case i.ApplyToKind.openDocuments:return this.openModels[e.resource.toString()];case i.ApplyToKind.closedDocuments:return!this.openModels[e.resource.toString()];default:return!0}},t.prototype.tryMatchers=function(){this.activeMatcher=null;for(var e=this.buffer.length,t=0;t<e;t++){var n=this.matchers[e-t];if(n)for(var i=0;i<n.length;i++){var r=n[i],o=r.handle(this.buffer,t);if(o.match)return this._numberOfMatches++,o.continue&&(this.activeMatcher=r),o.match}}return null},t.prototype.clearBuffer=function(){this.buffer.length>0&&(this.buffer=[])},t}(n.EventEmitter);t.AbstractProblemCollector=o;var s;!function(e){e[e.Clean=0]="Clean"}(s=t.ProblemHandlingStrategy||(t.ProblemHandlingStrategy={}));var a=function(e){function t(t,n,i,r){void 0===r&&(r=s.Clean);var o=e.call(this,t,i)||this;o.currentResource=null,o.currentResourceAsString=null,o.markers=Object.create(null);var a=Object.create(null);return t.forEach(function(e){return a[e.owner]=!0}),o.owners=Object.keys(a),o.markerService=n,o.strategy=r,o.currentResourcesWithMarkers=Object.create(null),o.reportedResourcesWithMarkers=Object.create(null),o.owners.forEach(function(e){o.currentResourcesWithMarkers[e]=o.markerService.read({owner:e}).map(function(e){return e.resource}),o.reportedResourcesWithMarkers[e]=Object.create(null)}),o.currentResource=null,o.currentResourceAsString=null,o.markers=Object.create(null),o}return h(t,e),t.prototype.processLine=function(e){var t=this,n=this.tryFindMarker(e);if(n){var i=n.description.owner,r=n.resource,o=r.toString();if(this.shouldApplyMatch(n)){this.currentResourceAsString!==o&&(this.currentResource&&(Object.keys(this.markers).forEach(function(e){t.markerService.changeOne(e,t.currentResource,t.markers[e])}),this.markers=Object.create(null)),this.reportedResourcesWithMarkers[i][o]=r,this.currentResource=r,this.currentResourceAsString=o);var s=this.markers[i];s||(s=[],this.markers[i]=s),s.push(n.marker)}else this.reportedResourcesWithMarkers[i][o]=r}},t.prototype.done=function(){var e=this;this.currentResource&&Object.keys(this.markers).forEach(function(t){e.markerService.changeOne(t,e.currentResource,e.markers[t])}),this.strategy===s.Clean&&Object.keys(this.currentResourcesWithMarkers).forEach(function(t){var n=[],i=e.reportedResourcesWithMarkers[t];e.currentResourcesWithMarkers[t].forEach(function(e){i[e.toString()]||n.push(e)}),e.markerService.remove(t,n)}),this.currentResource=null,this.currentResourceAsString=null,this.markers=Object.create(null)},t}(o);t.StartStopProblemCollector=a;var c=function(e){function t(t,n,i){var r=e.call(this,t,i)||this;return r.problemMatchers=t,r.markerService=n,r.resetCurrentResource(),r.resourcesToClean=Object.create(null),r.ignoreOpenResourcesByOwner=Object.create(null),r.watchingBeginsPatterns=[],r.watchingEndsPatterns=[],r.problemMatchers.forEach(function(e){e.watching&&(r.watchingBeginsPatterns.push({problemMatcher:e,pattern:e.watching.beginsPattern}),r.watchingEndsPatterns.push({problemMatcher:e,pattern:e.watching.endsPattern}))}),r}return h(t,e),t.prototype.aboutToStart=function(){var e=this;this.problemMatchers.forEach(function(t){t.watching&&t.watching.activeOnStart&&(e.emit(r.WatchingBeginDetected,{}),e.recordResourcesToClean(t.owner));var n=e.ignoreOpenResourcesByOwner[t.owner];if(n){var o=n&&t.applyTo===i.ApplyToKind.closedDocuments;o!==n&&(e.ignoreOpenResourcesByOwner[t.owner]=o)}else e.ignoreOpenResourcesByOwner[t.owner]=t.applyTo===i.ApplyToKind.closedDocuments})},t.prototype.processLine=function(e){if(!this.tryBegin(e)&&!this.tryFinish(e)){var t=this.tryFindMarker(e);if(t){var n=t.resource,i=t.description.owner,r=n.toString();if(this.shouldApplyMatch(t)){this.currentResourceAsString!==r&&(this.removeResourceToClean(i,r),this.currentResource&&this.deliverMarkersForCurrentResource(),this.currentResource=n,this.currentResourceAsString=r);var o=this.markers[i];o||(o=[],this.markers[i]=o),o.push(t.marker)}else this.removeResourceToClean(i,r)}}},t.prototype.forceDelivery=function(){var e=this;this.deliverMarkersForCurrentResource(!1),Object.keys(this.resourcesToClean).forEach(function(t){e.cleanMarkers(t,!1)}),this.resourcesToClean=Object.create(null)},t.prototype.tryBegin=function(e){for(var t=!1,n=0;n<this.watchingBeginsPatterns.length;n++){var o=this.watchingBeginsPatterns[n],s=o.pattern.regexp.exec(e);if(s){this.emit(r.WatchingBeginDetected,{}),t=!0;var a=o.problemMatcher.owner,c=s[o.pattern.file];if(c){var l=i.getResource(c,o.problemMatcher);this.currentResourceAsString&&this.currentResourceAsString===l.toString()&&this.resetCurrentResource(),this.recordResourceToClean(a,l)}else this.recordResourcesToClean(a),this.resetCurrentResource()}}return t},t.prototype.tryFinish=function(e){for(var t=!1,n=0;n<this.watchingEndsPatterns.length;n++){var i=this.watchingEndsPatterns[n];if(i.pattern.regexp.exec(e)){this.emit(r.WatchingEndDetected,{}),t=!0;var o=i.problemMatcher.owner;this.cleanMarkers(o),this.deliverMarkersForCurrentResource()}}return t},t.prototype.recordResourcesToClean=function(e){var t=this.getResourceSetToClean(e);this.markerService.read({owner:e}).forEach(function(e){return t[e.resource.toString()]=e.resource})},t.prototype.recordResourceToClean=function(e,t){this.getResourceSetToClean(e)[t.toString()]=t},t.prototype.removeResourceToClean=function(e,t){var n=this.resourcesToClean[e];n&&delete n[t]},t.prototype.cleanMarkers=function(e,t){var n=this;void 0===t&&(t=!0);var i=this.resourcesToClean[e];if(i){var r=Object.keys(i).map(function(e){return i[e]}).filter(function(t){return!n.ignoreOpenResourcesByOwner[e]||!n.isOpen(t)});this.markerService.remove(e,r),t&&delete this.resourcesToClean[e]}},t.prototype.deliverMarkersForCurrentResource=function(e){var t=this;void 0===e&&(e=!0),this.currentResource&&Object.keys(this.markers).forEach(function(e){t.markerService.changeOne(e,t.currentResource,t.markers[e])}),e&&this.resetCurrentResource()},t.prototype.getResourceSetToClean=function(e){var t=this.resourcesToClean[e];return t||(t=Object.create(null),this.resourcesToClean[e]=t),t},t.prototype.resetCurrentResource=function(){this.currentResource=null,this.currentResourceAsString=null,this.markers=Object.create(null)},t}(o);t.WatchingProblemCollector=c}),define(u[397],d([1,0,682,4,24,26,117]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,c={type:"object",additionalProperties:!1,properties:{type:{type:"string",description:n.localize(0,null)},required:{type:"array",items:{type:"string"}},properties:{type:"object",description:n.localize(1,null),additionalProperties:{$ref:"http://json-schema.org/draft-04/schema#"}}}};!function(e){e.from=function(e,t){if(e){var i=r.isString(e.type)?e.type:void 0;if(i&&0!==i.length){var s=[];if(Array.isArray(e.required))for(var a=0,c=e.required;a<c.length;a++){var l=c[a];r.isString(l)&&s.push(l)}return{taskType:i,required:s.length>=0?s:void 0,properties:e.properties?o.deepClone(e.properties):void 0}}t.error(n.localize(2,null))}}}(a||(a={}));var l=s.ExtensionsRegistry.registerExtensionPoint("taskDefinitions",[],{description:n.localize(3,null),type:"array",items:c}),u=function(){function e(){var e=this;this.taskTypes=Object.create(null),this.readyPromise=new i.TPromise(function(t,n){l.setHandler(function(n){try{n.forEach(function(t){for(var n=0,i=t.value;n<i.length;n++){var r=i[n],o=a.from(r,t.collector);o&&(e.taskTypes[o.taskType]=o)}})}catch(e){}t(void 0)})})}return e.prototype.onReady=function(){return this.readyPromise},e.prototype.get=function(e){return this.taskTypes[e]},e.prototype.exists=function(e){return!!this.taskTypes[e]},e.prototype.all=function(){var e=this;return Object.keys(this.taskTypes).map(function(t){return e.taskTypes[t]})},e}();t.TaskDefinitionRegistry=new u}),define(u[239],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.NotConfigured=0]="NotConfigured",e[e.RunningTask=1]="RunningTask",e[e.NoBuildTask=2]="NoBuildTask",e[e.NoTestTask=3]="NoTestTask",e[e.ConfigValidationError=4]="ConfigValidationError",e[e.TaskNotFound=5]="TaskNotFound",e[e.NoValidTaskRunner=6]="NoValidTaskRunner",e[e.UnknownError=7]="UnknownError"}(t.TaskErrors||(t.TaskErrors={}));var n=function(){return function(e,t,n){this.severity=e,this.message=t,this.code=n}}();t.TaskError=n;!function(e){e.shortcut="shortcut",e.command="command"}(t.Triggers||(t.Triggers={}));!function(e){e[e.Started=1]="Started",e[e.Active=2]="Active"}(t.TaskExecuteKind||(t.TaskExecuteKind={}));!function(e){e.Active="active",e.Inactive="inactive",e.Terminated="terminated"}(t.TaskSystemEvents||(t.TaskSystemEvents={}));!function(e){e[e.SingleRun=0]="SingleRun",e[e.Watching=1]="Watching"}(t.TaskType||(t.TaskType={}))}),define(u[1037],d([1,0,683]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={id:"dotnetCore",label:".NET Core",sort:"NET Core",autoDetect:!1,description:n.localize(0,null),content:["{","\t// See https://go.microsoft.com/fwlink/?LinkId=733558","\t// for the documentation about the tasks.json format",'\t"version": "2.0.0",','\t"tasks": [',"\t\t{",'\t\t\t"taskName": "build",','\t\t\t"command": "dotnet",','\t\t\t"type": "shell",','\t\t\t"group": "build",','\t\t\t"presentation": {','\t\t\t\t"reveal": "silent"',"\t\t\t},",'\t\t\t"problemMatcher": "$msCompile"',"\t\t}","\t]","}"].join("\n")},r={id:"msbuild",label:"MSBuild",autoDetect:!1,description:n.localize(1,null),content:["{","\t// See https://go.microsoft.com/fwlink/?LinkId=733558","\t// for the documentation about the tasks.json format",'\t"version": "2.0.0",','\t"tasks": [',"\t\t{",'\t\t\t"taskName": "build",','\t\t\t"command": "msbuild",','\t\t\t"args": [',"\t\t\t\t// Ask msbuild to generate full paths for file names.",'\t\t\t\t"/property:GenerateFullPaths=true",','\t\t\t\t"/t:build"',"\t\t\t],",'\t\t\t"group": "build",','\t\t\t"presentation": {',"\t\t\t\t// Reveal the output only if unrecognized errors occur.",'\t\t\t\t"reveal": "silent"',"\t\t\t},","\t\t\t// Use the standard MS compiler pattern to detect errors, warnings and infos",'\t\t\t"problemMatcher": "$msCompile"',"\t\t}","\t]","}"].join("\n")},o={id:"externalCommand",label:"Others",autoDetect:!1,description:n.localize(2,null),content:["{","\t// See https://go.microsoft.com/fwlink/?LinkId=733558","\t// for the documentation about the tasks.json format",'\t"version": "2.0.0",','\t"tasks": [',"\t\t{",'\t\t\t"taskName": "echo",','\t\t\t"command": "echo Hello",','\t\t\t"type": "shell"',"\t\t}","\t]","}"].join("\n")},s={id:"maven",label:"maven",sort:"MVN",autoDetect:!1,description:n.localize(3,null),content:["{","\t// See https://go.microsoft.com/fwlink/?LinkId=733558","\t// for the documentation about the tasks.json format",'\t"version": "2.0.0",','\t"tasks": [',"\t\t{",'\t\t\t"taskName": "verify",','\t\t\t"command": "mvn -B verify",','\t\t\t"type": "shell",','\t\t\t"group": "build"',"\t\t},","\t\t{",'\t\t\t"taskName": "test",','\t\t\t"command": "mvn -B test",','\t\t\t"type": "shell",','\t\t\t"group": "test"',"\t\t}","\t]","}"].join("\n")};t.templates=[i,r,s].sort(function(e,t){return(e.sort||e.label).localeCompare(t.sort||t.label)}),t.templates.push(o)}),define(u[170],d([1,0,24]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.is=function(e){var t=e;return t&&n.isString(t.executable)&&(void 0===t.args||n.isStringArray(t.args))}}(t.ShellConfiguration||(t.ShellConfiguration={}));!function(e){e[e.Always=1]="Always",e[e.Silent=2]="Silent",e[e.Never=3]="Never"}(t.RevealKind||(t.RevealKind={})),function(e){e.fromString=function(t){switch(t.toLowerCase()){case"always":return e.Always;case"silent":return e.Silent;case"never":return e.Never;default:return e.Always}}}(t.RevealKind||(t.RevealKind={}));!function(e){e[e.Shared=1]="Shared",e[e.Dedicated=2]="Dedicated",e[e.New=3]="New"}(t.PanelKind||(t.PanelKind={})),function(e){e.fromString=function(t){switch(t.toLowerCase()){case"shared":return e.Shared;case"dedicated":return e.Dedicated;case"new":return e.New;default:return e.Shared}}}(t.PanelKind||(t.PanelKind={}));!function(e){e[e.Shell=1]="Shell",e[e.Process=2]="Process"}(t.RuntimeType||(t.RuntimeType={})),function(e){e.fromString=function(t){switch(t.toLowerCase()){case"shell":return e.Shell;case"process":default:return e.Process}}}(t.RuntimeType||(t.RuntimeType={}));!function(e){e.Clean="clean",e.Build="build",e.Rebuild="rebuild",e.Test="test",e.is=function(t){return t===e.Clean||t===e.Build||t===e.Rebuild||t===e.Test}}(t.TaskGroup||(t.TaskGroup={}));!function(e){e[e.Workspace=1]="Workspace",e[e.Extension=2]="Extension",e[e.Generic=3]="Generic"}(t.TaskSourceKind||(t.TaskSourceKind={}));var i;!function(e){e.is=function(e){var t=e;return t&&"custom"===t.type}}(i=t.CustomTask||(t.CustomTask={}));!function(e){e.is=function(e){var t=e;return t&&t.configures&&n.isString(t.configures.type)&&void 0===e.command}}(t.ConfiguringTask||(t.ConfiguringTask={}));!function(e){e.is=function(e){var t=e;return t&&t.defines&&n.isString(t.defines.type)&&void 0!==t.command}}(t.ContributedTask||(t.ContributedTask={}));!function(e){e.getKey=function(e){return i.is(e)?e.identifier:e.defines._key}}(t.Task||(t.Task={}));!function(e){e[e.Process=1]="Process",e[e.Terminal=2]="Terminal"}(t.ExecutionEngine||(t.ExecutionEngine={})),function(e){e._default=e.Terminal}(t.ExecutionEngine||(t.ExecutionEngine={}));!function(e){e[e.V0_1_0=1]="V0_1_0",e[e.V2_0_0=2]="V2_0_0"}(t.JsonSchemaVersion||(t.JsonSchemaVersion={}))}),define(u[213],d([1,0,6,170,239]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Task=i.Task,t.TaskType=r.TaskType,t.ITaskService=n.createDecorator("taskService");!function(e){e.Active="active",e.Inactive="inactive",e.ConfigChanged="configChanged",e.Terminated="terminated"}(t.TaskServiceEvents||(t.TaskServiceEvents={}))}),define(u[393],d([1,0,680,122,21,84,102,54,170,213,88]),function(e,t,n,i,r,o,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(e){function t(t,n,i,r){void 0===r&&(r=[]);var o=e.call(this,r)||this;return o.taskService=t,o.quickOpenService=n,o._task=i,o}return h(t,e),t.prototype.getLabel=function(){return this.task._label},t.prototype.getAriaLabel=function(){return n.localize(0,null,this.getLabel())},Object.defineProperty(t.prototype,"task",{get:function(){return this._task},enumerable:!0,configurable:!0}),t.prototype.doRun=function(e,t){return this.taskService.run(e,t),!e.command.presentation.focus||(this.quickOpenService.close(),!1)},t}(s.QuickOpenEntry);t.TaskEntry=d;var p=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}return h(t,e),t}(s.QuickOpenEntryGroup);t.TaskGroupEntry=p;var f=function(e){function t(t,n){var i=e.call(this)||this;return i.quickOpenService=t,i.taskService=n,i.quickOpenService=t,i.taskService=n,i}return h(t,e),t.prototype.onOpen=function(){this.tasks=this.getTasks()},t.prototype.onClose=function(e){this.tasks=void 0},t.prototype.getResults=function(e){var t=this;return this.tasks.then(function(i){var r=[];if(0===i.length)return new s.QuickOpenModel(r);var o=t.taskService.getRecentlyUsedTasks(),a=[],l=[],d=[],h=Object.create(null);i.forEach(function(e){return h[c.Task.getKey(e)]=e}),o.keys().forEach(function(e){var t=h[e];t&&a.push(t)});for(var p=0,f=i;p<f.length;p++){var g=f[p];o.has(c.Task.getKey(g))||(g._source.kind===c.TaskSourceKind.Workspace?l.push(g):d.push(g))}var v=a.length>0;t.fillEntries(r,e,a,n.localize(1,null));var m=(l=l.sort(function(e,t){return e._label.localeCompare(t._label)})).length>0;return t.fillEntries(r,e,l,n.localize(2,null),v),d=d.sort(function(e,t){return e._label.localeCompare(t._label)}),t.fillEntries(r,e,d,n.localize(3,null),v||m),new s.QuickOpenModel(r,new u.ContributableActionProvider)})},t.prototype.fillEntries=function(e,t,n,r,o){void 0===o&&(o=!1);for(var s=!0,a=0,c=n;a<c.length;a++){var l=c[a],u=i.matchesContiguousSubString(t,l._label);u&&(s?(s=!1,e.push(new p(this.createEntry(l,u),r,o))):e.push(this.createEntry(l,u)))}},t.prototype.getAutoFocus=function(e){return{autoFocusFirstEntry:!!e}},t}(o.QuickOpenHandler);t.QuickOpenHandler=f;var g=function(e){function t(n,i,r){var o=e.call(this,t.ID,t.LABEL)||this;return o.taskService=n,o.quickOpenService=i,o.task=r,o.updateClass(),o}return h(t,e),t.prototype.updateClass=function(){this.class="quick-open-task-configure"},t.prototype.run=function(e){var t=this;return this.taskService.customize(this.task,void 0,!0).then(function(){t.quickOpenService.close()})},t}(r.Action);g.ID="workbench.action.tasks.customizeTask",g.LABEL=n.localize(4,null);var m=function(e){function t(t,n){var i=e.call(this)||this;return i.taskService=t,i.quickOpenService=n,i}return h(t,e),t.prototype.hasActions=function(e){return!!this.getTask(e)},t.prototype.getActions=function(e){var t=[],n=this.getTask(e);return n&&n._source.kind===c.TaskSourceKind.Extension&&t.push(new g(this.taskService,this.quickOpenService,n)),t},t.prototype.getTask=function(e){if(e){var t=e.element;return t instanceof d?t.task:t instanceof p?t.getEntry().task:void 0}},t}(u.ActionBarContributor);m=v([y(0,l.ITaskService),y(1,a.IQuickOpenService)],m),t.QuickOpenActionContributor=m}),define(u[1041],d([1,0,681,115,54,213,59,393]),function(e,t,n,i,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(t,n,i,r){return void 0===r&&(r=[]),e.call(this,t,n,i,r)||this}return h(t,e),t.prototype.run=function(e,t){if(e===i.Mode.PREVIEW)return!1;var n=this._task;return this.doRun(n,{attachProblemMatcher:!0})},t}(a.TaskEntry),l=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.activationPromise=i.activateByEvent("onCommand:workbench.action.tasks.runTask"),r}return h(t,e),t.prototype.getAriaLabel=function(){return n.localize(0,null)},t.prototype.getTasks=function(){var e=this;return this.activationPromise.then(function(){return e.taskService.tasks()})},t.prototype.createEntry=function(e,t){return new c(this.taskService,this.quickOpenService,e,t)},t.prototype.getEmptyLabel=function(e){return e.length>0?n.localize(1,null):n.localize(2,null)},t}(a.QuickOpenHandler);l=v([y(0,r.IQuickOpenService),y(1,o.ITaskService),y(2,s.IExtensionService)],l),t.QuickOpenHandler=l}),define(u[392],d([1,0,684,154]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={definitions:{showOutputType:{type:"string",enum:["always","silent","never"]},options:{type:"object",description:n.localize(0,null),properties:{cwd:{type:"string",description:n.localize(1,null)},env:{type:"object",additionalProperties:{type:"string"},description:n.localize(2,null)}},additionalProperties:{type:["string","array","object"]}},problemMatcherType:{oneOf:[{type:"string"},i.Schemas.LegacyProblemMatcher,{type:"array",items:{anyOf:[i.Schemas.LegacyProblemMatcher,{type:"string"}]}}]},shellConfiguration:{type:"object",additionalProperties:!1,description:n.localize(3,null),properties:{executable:{type:"string",description:n.localize(4,null)},args:{type:"array",description:n.localize(5,null),items:{type:"string"}}}},commandConfiguration:{type:"object",additionalProperties:!1,properties:{command:{type:"string",description:n.localize(6,null)},args:{type:"array",description:n.localize(7,null),items:{type:"string"}},options:{$ref:"#/definitions/options"}}},taskDescription:{type:"object",required:["taskName"],additionalProperties:!1,properties:{taskName:{type:"string",description:n.localize(8,null)},command:{type:"string",description:n.localize(9,null)},args:{type:"array",description:n.localize(10,null),items:{type:"string"}},options:{$ref:"#/definitions/options"},windows:{$ref:"#/definitions/commandConfiguration",description:n.localize(11,null)},osx:{$ref:"#/definitions/commandConfiguration",description:n.localize(12,null)},linux:{$ref:"#/definitions/commandConfiguration",description:n.localize(13,null)},suppressTaskName:{type:"boolean",description:n.localize(14,null),default:!0},showOutput:{$ref:"#/definitions/showOutputType",description:n.localize(15,null)},echoCommand:{type:"boolean",description:n.localize(16,null),default:!0},isWatching:{type:"boolean",deprecationMessage:n.localize(17,null),description:n.localize(18,null),default:!0},isBackground:{type:"boolean",description:n.localize(19,null),default:!0},promptOnClose:{type:"boolean",description:n.localize(20,null),default:!1},isBuildCommand:{type:"boolean",description:n.localize(21,null),default:!0},isTestCommand:{type:"boolean",description:n.localize(22,null),default:!0},problemMatcher:{$ref:"#/definitions/problemMatcherType",description:n.localize(23,null)}}},taskRunnerConfiguration:{type:"object",properties:{command:{type:"string",description:n.localize(24,null)},args:{type:"array",description:n.localize(25,null),items:{type:"string"}},options:{$ref:"#/definitions/options"},showOutput:{$ref:"#/definitions/showOutputType",description:n.localize(26,null)},isWatching:{type:"boolean",deprecationMessage:n.localize(27,null),description:n.localize(28,null),default:!0},isBackground:{type:"boolean",description:n.localize(29,null),default:!0},promptOnClose:{type:"boolean",description:n.localize(30,null),default:!1},echoCommand:{type:"boolean",description:n.localize(31,null),default:!0},suppressTaskName:{type:"boolean",description:n.localize(32,null),default:!0},taskSelector:{type:"string",description:n.localize(33,null)},problemMatcher:{$ref:"#/definitions/problemMatcherType",description:n.localize(34,null)},tasks:{type:"array",description:n.localize(35,null),items:{type:"object",$ref:"#/definitions/taskDescription"}}}}}};t.default=r}),define(u[1043],d([1,0,685,26,154,392]),function(e,t,n,i,r,o){"use strict";function s(e){Array.isArray(e)?e.forEach(s):"object"==typeof e&&(e.$ref&&(e.$ref=e.$ref+"1"),Object.getOwnPropertyNames(e).forEach(function(t){var n=e[t];(Array.isArray(n)||"object"==typeof n)&&s(n)}))}Object.defineProperty(t,"__esModule",{value:!0});var a={oneOf:[{allOf:[{type:"object",required:["version"],properties:{version:{type:"string",enum:["0.1.0"],description:n.localize(0,null)},_runner:{deprecationMessage:n.localize(1,null)},runner:{type:"string",enum:["process","terminal"],default:"process",description:n.localize(2,null)},windows:{$ref:"#/definitions/taskRunnerConfiguration",description:n.localize(3,null)},osx:{$ref:"#/definitions/taskRunnerConfiguration",description:n.localize(4,null)},linux:{$ref:"#/definitions/taskRunnerConfiguration",description:n.localize(5,null)}}},{$ref:"#/definitions/taskRunnerConfiguration"}]}]},c={type:"boolean",default:!0,description:n.localize(6,null)};a.definitions=i.deepClone(o.default.definitions);var l=a.definitions;l.commandConfiguration.properties.isShellCommand=i.deepClone(c),l.taskDescription.properties.isShellCommand=i.deepClone(c),l.taskRunnerConfiguration.properties.isShellCommand=i.deepClone(c),Object.getOwnPropertyNames(l).forEach(function(e){l[e+"1"]=l[e],delete l[e]}),s(a),r.ProblemMatcherRegistry.onReady().then(function(){try{var e=r.ProblemMatcherRegistry.keys().map(function(e){return"$"+e});l.problemMatcherType1.oneOf[0].enum=e,l.problemMatcherType1.oneOf[2].items.anyOf[1].enum=e}catch(e){console.log("Installing problem matcher ids failed")}}),t.default=a}),define(u[1044],d([1,0,686,26,392,154,397]),function(e,t,n,i,r,o,s){"use strict";function a(e){Array.isArray(e)?e.forEach(a):"object"==typeof e&&(e.$ref&&(e.$ref=e.$ref+"2"),Object.getOwnPropertyNames(e).forEach(function(t){var n=e[t];(Array.isArray(n)||"object"==typeof n)&&a(n)}))}Object.defineProperty(t,"__esModule",{value:!0});var c={anyOf:[{type:"boolean",default:!0,description:n.localize(0,null)},{$ref:"#definitions/shellConfiguration"}],deprecationMessage:n.localize(1,null)},l={anyOf:[{type:"string",default:!0,description:n.localize(2,null)},{type:"array",description:n.localize(3,null),items:{type:"string"}}]},u={type:"object",default:{echo:!0,reveal:"always",focus:!1,panel:"shared"},description:n.localize(4,null),additionalProperties:!1,properties:{echo:{type:"boolean",default:!0,description:n.localize(5,null)},focus:{type:"boolean",default:!1,description:n.localize(6,null)},reveal:{type:"string",enum:["always","silent","never"],default:"always",description:n.localize(7,null)},panel:{type:"string",enum:["shared","dedicated","new"],default:"shared",description:n.localize(8,null)}}},d=i.deepClone(u);d.deprecationMessage=n.localize(9,null);var h={oneOf:[{type:"string"},{type:"object",properties:{kind:{type:"string",default:"none",description:n.localize(10,null)},isDefault:{type:"boolean",default:!1,description:n.localize(11,null)}}}],enum:[{kind:"build",isDefault:!0},{kind:"test",isDefault:!0},"build","test","none"],enumDescriptions:[n.localize(12,null),n.localize(13,null),n.localize(14,null),n.localize(15,null),n.localize(16,null)],description:n.localize(17,null)},p={type:"string",enum:["shell","process"],default:"process",description:n.localize(18,null)},f={type:"string",enum:["2.0.0"],description:n.localize(19,null)},g={type:"string",description:n.localize(20,null)},v={type:"object",additionalProperties:!1,properties:{label:{type:"string",description:n.localize(21,null)},taskName:{type:"string",description:n.localize(22,null),deprecationMessage:n.localize(23,null)},identifier:i.deepClone(g),group:i.deepClone(h),isBackground:{type:"boolean",description:n.localize(24,null),default:!0},promptOnClose:{type:"boolean",description:n.localize(25,null),default:!1},presentation:i.deepClone(u),problemMatcher:{$ref:"#/definitions/problemMatcherType",description:n.localize(26,null)}}},m=[];s.TaskDefinitionRegistry.onReady().then(function(){for(var e=0,t=s.TaskDefinitionRegistry.all();e<t.length;e++){var r=t[e],o=i.deepClone(v);o.properties.type={type:"string",description:n.localize(27,null),enum:[r.taskType]},r.required&&(o.required=r.required.slice());for(var c=0,l=Object.keys(r.properties);c<l.length;c++){var u=l[c],d=r.properties[u];o.properties[u]=i.deepClone(d)}a(o),m.push(o)}});var y=i.deepClone(v);y.properties.customize={type:"string",deprecationMessage:n.localize(28,null)},m.push(y);var b=i.deepClone(r.default.definitions),S=b.taskDescription;S.properties.isShellCommand=i.deepClone(c),S.properties.dependsOn=l,S.properties.identifier=i.deepClone(g),b.showOutputType.deprecationMessage=n.localize(29,null),b.taskDescription.properties.echoCommand.deprecationMessage=n.localize(30,null),b.taskDescription.properties.isBuildCommand.deprecationMessage=n.localize(31,null),b.taskDescription.properties.isTestCommand.deprecationMessage=n.localize(32,null),S.properties.type=i.deepClone(p),S.properties.presentation=i.deepClone(u),S.properties.terminal=d,S.properties.group=i.deepClone(h),m.push({$ref:"#/definitions/taskDescription"}),b.taskRunnerConfiguration.properties.tasks.items={oneOf:m},b.commandConfiguration.properties.isShellCommand=i.deepClone(c),b.options.properties.shell={$ref:"#/definitions/shellConfiguration"},b.taskRunnerConfiguration.properties.isShellCommand=i.deepClone(c),b.taskRunnerConfiguration.properties.type=i.deepClone(p),b.taskRunnerConfiguration.properties.group=i.deepClone(h),b.taskRunnerConfiguration.properties.presentation=i.deepClone(u);var _=i.deepClone(b.taskRunnerConfiguration);delete _.properties.tasks,_.additionalProperties=!1,b.osSpecificTaskRunnerConfiguration=_,b.taskRunnerConfiguration.properties.version=i.deepClone(f);var E={oneOf:[{allOf:[{type:"object",required:["version"],properties:{version:i.deepClone(f),windows:{$ref:"#/definitions/osSpecificTaskRunnerConfiguration",description:n.localize(33,null)},osx:{$ref:"#/definitions/osSpecificTaskRunnerConfiguration",description:n.localize(34,null)},linux:{$ref:"#/definitions/osSpecificTaskRunnerConfiguration",description:n.localize(35,null)}}},{$ref:"#/definitions/taskRunnerConfiguration"}]}]};E.definitions=b,Object.getOwnPropertyNames(b).forEach(function(e){b[e+"2"]=b[e],delete b[e]}),a(E),o.ProblemMatcherRegistry.onReady().then(function(){try{var e=o.ProblemMatcherRegistry.keys().map(function(e){return"$"+e});b.problemMatcherType2.oneOf[0].enum=e,b.problemMatcherType2.oneOf[2].items.anyOf[1].enum=e}catch(e){console.log("Installing problem matcher ids failed")}}),t.default=E}),define(u[1045],d([1,0,130,52,688,26,24,11,18,4,70,36,81,5,28,154,398,170,239]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,v,m,y,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var S=function(){function e(){}return e.prototype.write=function(t){var n=[];t=(t=t.replace(e.ANSI_CONTROL_SEQUENCE,"")).replace(e.OPERATING_SYSTEM_COMMAND_SEQUENCE,"");var i=this.remaining?this.remaining+t:t;if(i.length<1)return n;for(var r,o=0;o<i.length&&(13===(r=i.charCodeAt(o))||10===r);)o++;for(var s=o;s<i.length;)if(13===(r=i.charCodeAt(s))||10===r){for(n.push(i.substring(o,s)),s++;s<i.length&&(13===(r=i.charCodeAt(s))||10===r);)s++;o=s}else s++;return this.remaining=o<i.length?i.substr(o):void 0,n},e.prototype.end=function(){return this.remaining},e}();S.ANSI_CONTROL_SEQUENCE=/\x1b[[()#;?]*(?:\d{1,4}(?:;\d{0,4})*)?[0-9A-ORZcf-nqry=><]/g,S.OPERATING_SYSTEM_COMMAND_SEQUENCE=/\x1b[\]](?:.*)(?:\x07|\x1b\\)/g;var _=function(e){function t(t,n,i,r,o,s,a,c){var l=e.call(this)||this;return l.terminalService=t,l.outputService=n,l.markerService=i,l.modelService=r,l.configurationResolverService=o,l.telemetryService=s,l.workbenchEditorService=a,l.outputChannel=l.outputService.getChannel(c),l.activeTasks=Object.create(null),l.terminals=Object.create(null),l.idleTaskTerminals=new u.LinkedMap,l.sameTaskTerminals=Object.create(null),l}return h(t,e),t.prototype.log=function(e){this.outputChannel.append(e+"\n")},t.prototype.showOutput=function(){this.outputChannel.show(!0)},t.prototype.run=function(e,t,n){void 0===n&&(n=b.Triggers.command);var i=this.activeTasks[e._id];if(i&&i.promise){var o=e.command.presentation.reveal,s=e.command.presentation.focus;return(o===y.RevealKind.Always||s)&&(this.terminalService.setActiveInstance(i.terminal),this.terminalService.showPanel(s)),{kind:b.TaskExecuteKind.Active,active:{same:!0,background:e.isBackground},promise:i.promise}}try{return{kind:b.TaskExecuteKind.Started,started:{},promise:this.executeTask(Object.create(null),e,t,n)}}catch(e){throw e instanceof b.TaskError?e:e instanceof Error?(this.log(e.message),new b.TaskError(d.default.Error,e.message,b.TaskErrors.UnknownError)):(this.log(e.toString()),new b.TaskError(d.default.Error,r.localize(0,null),b.TaskErrors.UnknownError))}},t.prototype.isActive=function(){return l.TPromise.as(this.isActiveSync())},t.prototype.isActiveSync=function(){return Object.keys(this.activeTasks).length>0},t.prototype.canAutoTerminate=function(){var e=this;return Object.keys(this.activeTasks).every(function(t){return!e.activeTasks[t].task.promptOnClose})},t.prototype.getActiveTasks=function(){var e=this;return Object.keys(this.activeTasks).map(function(t){return e.activeTasks[t].task})},t.prototype.terminate=function(e){var t=this,n=this.activeTasks[e];return n?new l.TPromise(function(e,i){var r=n.terminal,o=r.onExit(function(){var i=n.task;try{o.dispose();var r={taskId:i._id,taskName:i.name,type:b.TaskType.SingleRun,group:i.group};t.emit(b.TaskSystemEvents.Terminated,r)}catch(e){}e({success:!0,task:i})});r.dispose()}):l.TPromise.as({success:!1,task:void 0})},t.prototype.terminateAll=function(){var e=this,t=[];return Object.keys(this.activeTasks).forEach(function(n){var i=e.activeTasks[n],r=i.terminal;t.push(new l.TPromise(function(t,n){var o=r.onExit(function(){var n=i.task;try{o.dispose();var r={taskId:n._id,taskName:n.name,type:b.TaskType.SingleRun,group:n.group};e.emit(b.TaskSystemEvents.Terminated,r)}catch(e){}t({success:!0,task:i.task})})})),r.dispose()}),this.activeTasks=Object.create(null),l.TPromise.join(t)},t.prototype.executeTask=function(e,t,n,i){var r=this,o=[];return t.dependsOn&&t.dependsOn.forEach(function(t){var s=n.resolve(t);if(s){var a=e[s._id];a||(a=r.executeTask(e,s,n,i),e[s._id]=a),o.push(a)}}),t.command?l.TPromise.join(o).then(function(e){for(var n=0,o=e;n<o.length;n++){var s=o[n];if(0!==s.exitCode)return{exitCode:s.exitCode}}return r.executeCommand(t,i)}):l.TPromise.join(o).then(function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];if(0!==i.exitCode)return{exitCode:i.exitCode}}return{exitCode:0}})},t.prototype.executeCommand=function(e,n){var i=this,r=void 0,o=void 0,s=void 0;return s=e.isBackground?new l.TPromise(function(t,n){var s=i.resolveMatchers(e.problemMatchers),a=new m.WatchingProblemCollector(s,i.markerService,i.modelService),l=[],d={taskId:e._id,taskName:e.name,type:b.TaskType.Watching,group:e.group},h=0;l.push(a.addListener(m.ProblemCollectorEvents.WatchingBeginDetected,function(){h++,i.emit(b.TaskSystemEvents.Active,d)})),l.push(a.addListener(m.ProblemCollectorEvents.WatchingEndDetected,function(){h--,i.emit(b.TaskSystemEvents.Inactive,d)})),a.aboutToStart();var p=null,g=new S;v=i.createTerminal(e),r=v[0],o=v[1];var v,_=i.registerLinkMatchers(r,s),E=r.onData(function(e){g.write(e).forEach(function(e){a.processLine(e),null===p&&(p=new c.Delayer(3e3)),p.trigger(function(){a.forceDelivery(),p=null})})}),C=r.onExit(function(n){switch(E.dispose(),C.dispose(),delete i.activeTasks[e._id],e.command.presentation.panel){case y.PanelKind.Dedicated:i.sameTaskTerminals[e._id]=r.id.toString();break;case y.PanelKind.Shared:i.idleTaskTerminals.set(e._id,r.id.toString(),u.Touch.First)}var o=g.end();o&&a.processLine(o),a.dispose(),_.forEach(function(e){return r.deregisterLinkMatcher(e)}),l=f.dispose(l),l=null;for(var s=0;s<h;s++)i.emit(b.TaskSystemEvents.Inactive,d);h=0;var c=e.command.presentation.reveal;n&&1===n&&0===a.numberOfMatches&&c!==y.RevealKind.Never&&(i.terminalService.setActiveInstance(r),i.terminalService.showPanel(!1)),t({exitCode:n})})}):new l.TPromise(function(t,n){a=i.createTerminal(e),r=a[0],o=a[1];var s={taskId:e._id,taskName:e.name,type:b.TaskType.SingleRun,group:e.group};i.emit(b.TaskSystemEvents.Active,s);var a,c=new S,l=i.resolveMatchers(e.problemMatchers),d=new m.StartStopProblemCollector(l,i.markerService,i.modelService),h=i.registerLinkMatchers(r,l),p=r.onData(function(e){c.write(e).forEach(function(e){d.processLine(e)})}),f=r.onExit(function(n){switch(p.dispose(),f.dispose(),delete i.activeTasks[e._id],e.command.presentation.panel){case y.PanelKind.Dedicated:i.sameTaskTerminals[e._id]=r.id.toString();break;case y.PanelKind.Shared:i.idleTaskTerminals.set(e._id,r.id.toString(),u.Touch.First)}var o=c.end();o&&d.processLine(o),d.done(),d.dispose(),h.forEach(function(e){return r.deregisterLinkMatcher(e)}),i.emit(b.TaskSystemEvents.Inactive,s),t({exitCode:n})})}),this.terminalService.setActiveInstance(r),(e.command.presentation.reveal===y.RevealKind.Always||e.command.presentation.reveal===y.RevealKind.Silent&&0===e.problemMatchers.length)&&this.terminalService.showPanel(e.command.presentation.focus),this.activeTasks[e._id]={terminal:r,task:e,promise:s},s.then(function(e){try{var r={trigger:n,runner:"terminal",command:i.getSanitizedCommand(o),success:!0,exitCode:e.exitCode};i.telemetryService.publicLog(t.TelemetryEventName,r)}catch(e){}return e},function(e){try{var r={trigger:n,runner:"terminal",command:i.getSanitizedCommand(o),success:!1};i.telemetryService.publicLog(t.TelemetryEventName,r)}catch(e){}return l.TPromise.wrapError(e)})},t.prototype.createTerminal=function(e){var t=this,n=this.resolveOptions(e.command.options),o=this.resolveCommandAndArgs(e),c=o.command,l=o.args,u=r.localize(1,null,e.name),h=!1;e.command.presentation.reveal===y.RevealKind.Never&&e.isBackground||(h=r.localize(2,null));var p=void 0,f=e.command.runtime===y.RuntimeType.Shell;if(f){if(a.isWindows&&(n.cwd&&g.isUNC(n.cwd)||!n.cwd&&g.isUNC(process.cwd())))throw new b.TaskError(d.default.Error,r.localize(3,null),b.TaskErrors.UnknownError);p={name:u,executable:null,args:null,waitOnExit:h};var v=!1,m=e.command.options&&e.command.options.shell;m&&m.executable?(p.executable=m.executable,v=!0,m.args?p.args=m.args.slice():p.args=[]):this.terminalService.configHelper.mergeDefaultShellPathAndArgs(p);var S=p.args.slice(0),_=[],E=l&&l.length>0?c+" "+l.join(" "):""+c,C=void 0;a.isWindows?"powershell.exe"===(C=i.basename(p.executable).toLowerCase())?v||_.push("-Command"):"bash.exe"===C?v||_.push("-c"):v||_.push("/d","/c"):v||_.push("-c"),_.forEach(function(e){S.some(function(t){return t.toLowerCase()===e})||S.push(e)}),S.push(E),p.args=a.isWindows?S.join(" "):S,e.command.presentation.echo&&(p.initialText="[1m> Executing task: "+E+" <[0m\n")}else{var w=n&&n.cwd?n.cwd:process.cwd();if(p={name:u,executable:a.isWindows&&!f?this.findExecutable(c,w):c,args:l,waitOnExit:h},e.command.presentation.echo){var I=function(e){return e&&0!==e.length?s.isString(e)?e:e.join(" "):""};p.initialText="[1m> Executing task: "+p.executable+" "+I(p.args)+" <[0m\n"}}if(n.cwd&&(p.cwd=n.cwd),n.env){var T=Object.create(null);Object.keys(process.env).forEach(function(e){T[e]=process.env[e]}),Object.keys(n.env).forEach(function(e){T[e]=n.env[e]}),p.env=T}var k,x=e.command.presentation.panel===y.PanelKind.Dedicated,A=e.command.presentation.panel===y.PanelKind.Shared;if(x)(L=this.sameTaskTerminals[e._id])&&(k=this.terminals[L],delete this.sameTaskTerminals[e._id]);else if(A){var L=this.idleTaskTerminals.remove(e._id)||this.idleTaskTerminals.shift();L&&(k=this.terminals[L])}if(k)return k.terminal.reuseTerminal(p),[k.terminal,c];var P=this.terminalService.createInstance(p),D=P.id.toString();return P.onDisposed(function(e){var n=t.terminals[D];n&&(delete t.terminals[D],delete t.sameTaskTerminals[n.lastTask],t.idleTaskTerminals.delete(n.lastTask))}),this.terminals[D]={terminal:P,lastTask:e._id},[P,c]},t.prototype.resolveCommandAndArgs=function(e){var t=e.command.args?e.command.args.slice():[];return t=this.resolveVariables(t),{command:this.resolveVariable(e.command.name),args:t}},t.prototype.findExecutable=function(e,t){if(i.isAbsolute(e))return e;if("."!==i.dirname(e))return e;if(!process.env.PATH)return e;for(var r=0,o=process.env.PATH.split(i.delimiter);r<o.length;r++){var s=o[r],a=void 0;if(a=i.isAbsolute(s)?i.join(s,e):i.join(t,s,e),n.existsSync(a))return a;var c=a+".com";if(n.existsSync(c))return c;if(c=a+".exe",n.existsSync(c))return c}return e},t.prototype.resolveVariables=function(e){var t=this;return e.map(function(e){return t.resolveVariable(e)})},t.prototype.resolveMatchers=function(e){var t=this;if(void 0===e||null===e||0===e.length)return[];var n=[];return e.forEach(function(e){var i;if(i=s.isString(e)?"$"===e[0]?v.ProblemMatcherRegistry.get(e.substring(1)):v.ProblemMatcherRegistry.get(e):e)if(i.filePrefix){var a=o.clone(i);a.filePrefix=t.resolveVariable(a.filePrefix),n.push(a)}else n.push(i);else t.outputChannel.append(r.localize(4,null))}),n},t.prototype.resolveVariable=function(e){return this.configurationResolverService.resolve(e)},t.prototype.resolveOptions=function(e){var t=this;if(void 0===e||null===e)return{cwd:this.resolveVariable("${cwd}")};var n=s.isString(e.cwd)?{cwd:this.resolveVariable(e.cwd)}:{cwd:this.resolveVariable("${cwd}")};return e.env&&(n.env=Object.create(null),Object.keys(e.env).forEach(function(i){var r=e.env[i];s.isString(r)?n.env[i]=t.resolveVariable(r):n.env[i]=r.toString()})),n},t.prototype.registerLinkMatchers=function(e,t){return[]},t.prototype.ensureDoubleQuotes=function(e){return t.doubleQuotes.test(e)?{value:'"'+e+'"',quoted:!0}:{value:e,quoted:e.length>0&&'"'===e[0]&&'"'===e[e.length-1]}},t.prototype.getSanitizedCommand=function(e){var n=e.toLowerCase(),r=n.lastIndexOf(i.sep);return-1!==r&&(n=n.substring(r+1)),t.WellKnowCommands[n]?n:"other"},t}(p.EventEmitter);_.TelemetryEventName="taskService",_.doubleQuotes=/^[^"].* .*[^"]$/,_.WellKnowCommands={ant:!0,cmake:!0,eslint:!0,gradle:!0,grunt:!0,gulp:!0,jake:!0,jenkins:!0,jshint:!0,make:!0,maven:!0,msbuild:!0,msc:!0,nmake:!0,npm:!0,rake:!0,tsc:!0,xbuild:!0},t.TerminalTaskSystem=_}),define(u[1046],d([1,0,689,26,28,12,278,198,170]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e){this.regexp=e}return e.prototype.init=function(){},e.prototype.match=function(e,t){var n=this.regexp.exec(t);n&&n.length>0&&e.push(n[1])},e}(),u=function(){function e(){}return e.prototype.init=function(){this.tasksStart=!1,this.tasksEnd=!1,this.descriptionOffset=null},e.prototype.match=function(e,t){if(this.tasksStart||this.tasksEnd){if(this.tasksStart&&!this.tasksEnd)if(0===t.indexOf("Tasks run in the order specified"))this.tasksEnd=!0;else{null===this.descriptionOffset&&(this.descriptionOffset=t.match(/\S  \S/).index+1);var n=t.substr(0,this.descriptionOffset).trim();n.length>0&&e.push(n)}}else 0===t.indexOf("Available tasks")&&(this.tasksStart=!0)},e}(),d=function(){function e(e,t,n,i){void 0===i&&(i=null),this.fileService=e,this.contextService=t,this.configurationResolverService=n,this.taskConfiguration=i,this._stderr=[],this._stdout=[],this._cwd=this.contextService.hasWorkspace()?r.normalize(this.contextService.getWorkspace().resource.fsPath,!0):""}return e.supports=function(t){return e.SupportedRunners[t]},e.detectorConfig=function(t){return e.TaskMatchers[t]},Object.defineProperty(e.prototype,"stderr",{get:function(){return this._stderr},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stdout",{get:function(){return this._stdout},enumerable:!0,configurable:!0}),e.prototype.detect=function(t,n){var i=this;if(void 0===t&&(t=!1),this.taskConfiguration&&this.taskConfiguration.command&&e.supports(this.taskConfiguration.command)){var r=e.detectorConfig(this.taskConfiguration.command),o=(this.taskConfiguration.args||[]).concat(r.arg),s=this.taskConfiguration.options?this.resolveCommandOptions(this.taskConfiguration.options):{cwd:this._cwd},c=!!this.taskConfiguration.isShellCommand;return this.runDetection(new a.LineProcess(this.taskConfiguration.command,this.configurationResolverService.resolve(o),c,s),this.taskConfiguration.command,c,r.matcher,e.DefaultProblemMatchers,t)}if(n){var l=void 0;return"gulp"===n?l=this.tryDetectGulp(t):"jake"===n?l=this.tryDetectJake(t):"grunt"===n&&(l=this.tryDetectGrunt(t)),l.then(function(e){return e||{config:null,stdout:i.stdout,stderr:i.stderr}})}return this.tryDetectGulp(t).then(function(e){return e||i.tryDetectJake(t).then(function(e){return e||i.tryDetectGrunt(t).then(function(e){return e||{config:null,stdout:i.stdout,stderr:i.stderr}})})})},e.prototype.resolveCommandOptions=function(e){var t=i.clone(e);return t.cwd&&(t.cwd=this.configurationResolverService.resolve(t.cwd)),t.env&&(t.env=this.configurationResolverService.resolve(t.env)),t},e.prototype.tryDetectGulp=function(t){var n=this;return this.fileService.resolveFile(this.contextService.toResource("gulpfile.js")).then(function(i){var r=e.detectorConfig("gulp"),o=new a.LineProcess("gulp",[r.arg,"--no-color"],!0,{cwd:n._cwd});return n.runDetection(o,"gulp",!0,r.matcher,e.DefaultProblemMatchers,t)},function(e){return null})},e.prototype.tryDetectGrunt=function(t){var n=this;return this.fileService.resolveFile(this.contextService.toResource("Gruntfile.js")).then(function(i){var r=e.detectorConfig("grunt"),o=new a.LineProcess("grunt",[r.arg,"--no-color"],!0,{cwd:n._cwd});return n.runDetection(o,"grunt",!0,r.matcher,e.DefaultProblemMatchers,t)},function(e){return null})},e.prototype.tryDetectJake=function(t){var n=this,i=function(){var i=e.detectorConfig("jake"),r=new a.LineProcess("jake",[i.arg],!0,{cwd:n._cwd});return n.runDetection(r,"jake",!0,i.matcher,e.DefaultProblemMatchers,t)};return this.fileService.resolveFile(this.contextService.toResource("Jakefile")).then(function(e){return i()},function(e){return n.fileService.resolveFile(n.contextService.toResource("Jakefile.js")).then(function(e){return i()},function(e){return null})})},e.prototype.runDetection=function(t,i,r,a,c,l){var u=this,d=[];return a.init(),t.start().then(function(t){if(0===d.length)return 0!==t.cmdCode&&("gulp"===i?u._stderr.push(n.localize(0,null)):"jake"===i&&u._stderr.push(n.localize(1,null))),{config:null,stdout:u._stdout,stderr:u._stderr};var o={version:e.Version,command:i,isShellCommand:r};return"gulp"===i&&(o.args=["--no-color"]),o.tasks=u.createTaskDescriptions(d,c,l),{config:o,stdout:u._stdout,stderr:u._stderr}},function(e){var t=e.error;return"ENOENT"===t.code?"gulp"===i?u._stderr.push(n.localize(2,null)):"jake"===i?u._stderr.push(n.localize(3,null)):"grunt"===i&&u._stderr.push(n.localize(4,null)):u._stderr.push(n.localize(5,null,i,t.message)),{config:null,stdout:u._stdout,stderr:u._stderr}},function(e){if(e.source!==s.Source.stderr){var t=o.removeAnsiEscapeCodes(e.line),n=a.match(d,t);n&&n.length>0&&d.push(n[1])}else u._stderr.push(e.line)})},e.prototype.createTaskDescriptions=function(e,t,i){var r=this,o=[];if(i)e.forEach(function(e){o.push({taskName:e,args:[]})});else{var s={build:{index:-1,exact:-1},test:{index:-1,exact:-1}};if(e.forEach(function(e,t){r.testBuild(s.build,e,t),r.testTest(s.test,e,t)}),-1!==s.build.index){var a=e[s.build.index];this._stdout.push(n.localize(6,null,a)),o.push({taskName:a,args:[],group:c.TaskGroup.Build,problemMatcher:t})}if(-1!==s.test.index){var l=e[s.test.index];this._stdout.push(n.localize(7,null,l)),o.push({taskName:l,args:[],group:c.TaskGroup.Test})}}return o},e.prototype.testBuild=function(e,t,n){"build"===t?(e.index=n,e.exact=4):(o.startsWith(t,"build")||o.endsWith(t,"build"))&&e.exact<4?(e.index=n,e.exact=3):-1!==t.indexOf("build")&&e.exact<3?(e.index=n,e.exact=2):"default"===t&&e.exact<2&&(e.index=n,e.exact=1)},e.prototype.testTest=function(e,t,n){"test"===t?(e.index=n,e.exact=3):(o.startsWith(t,"test")||o.endsWith(t,"test"))&&e.exact<3?(e.index=n,e.exact=2):-1!==t.indexOf("test")&&e.exact<2&&(e.index=n,e.exact=1)},e}();d.Version="0.1.0",d.SupportedRunners={gulp:!0,jake:!0,grunt:!0},d.TaskMatchers={gulp:{matcher:new l(/^(.*)$/),arg:"--tasks-simple"},jake:{matcher:new l(/^jake\s+([^\s]+)\s/),arg:"--tasks"},grunt:{matcher:new u,arg:"--help"}},d.DefaultProblemMatchers=["$lessCompile","$tsc","$jshint"],t.ProcessRunnerDetector=d}),define(u[1047],d([1,0,690,26,24,11,4,18,36,12,81,198,154,398,239,170,5]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,v,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var y=function(e){function t(t,n,i,r,o,s){var a=e.call(this)||this;return a.markerService=t,a.modelService=n,a.outputService=r,a.telemetryService=i,a.configurationResolverService=o,a.childProcess=null,a.activeTask=null,a.activeTaskPromise=null,a.outputChannel=a.outputService.getChannel(s),a.errorsShown=!0,a}return h(t,e),t.prototype.isActive=function(){return s.TPromise.as(!!this.childProcess)},t.prototype.isActiveSync=function(){return!!this.childProcess},t.prototype.getActiveTasks=function(){var e=[];return this.activeTask&&e.push(this.activeTask),e},t.prototype.run=function(e){return this.activeTask?{kind:g.TaskExecuteKind.Active,active:{same:this.activeTask._id===e._id,background:this.activeTask.isBackground},promise:this.activeTaskPromise}:this.executeTask(e)},t.prototype.hasErrors=function(e){this.errorsShown=!e},t.prototype.canAutoTerminate=function(){return!this.childProcess||!!this.activeTask&&!this.activeTask.promptOnClose},t.prototype.terminate=function(e){return this.activeTask&&this.activeTask._id===e?this.terminateAll()[0]:s.TPromise.as({success:!1,task:void 0})},t.prototype.terminateAll=function(){var e=this;if(this.childProcess){var t=this.activeTask;return this.childProcess.terminate().then(function(n){var r=i.assign({task:t},n),o={taskId:t._id,taskName:t.name,type:g.TaskType.SingleRun,group:t.group};return e.emit(g.TaskSystemEvents.Terminated,o),[r]})}return s.TPromise.as([{success:!0,task:void 0}])},t.prototype.executeTask=function(e,i){var r=this;void 0===i&&(i=g.Triggers.command);var o={trigger:i,runner:"output",command:"other",success:!0};try{var a=this.doExecuteTask(e,o);return a.promise=a.promise.then(function(e){return r.telemetryService.publicLog(t.TelemetryEventName,o),e},function(e){return o.success=!1,r.telemetryService.publicLog(t.TelemetryEventName,o),s.TPromise.wrapError(e)}),a}catch(e){if(o.success=!1,this.telemetryService.publicLog(t.TelemetryEventName,o),e instanceof g.TaskError)throw e;if(e instanceof Error){var l=e;throw this.outputChannel.append(l.message),new g.TaskError(c.default.Error,l.message,g.TaskErrors.UnknownError)}throw this.outputChannel.append(e.toString()),new g.TaskError(c.default.Error,n.localize(0,null),g.TaskErrors.UnknownError)}},t.prototype.doExecuteTask=function(e,t){var i=this,r={},s=e.command;this.errorsShown?this.clearOutput():(this.showOutput(),this.errorsShown=!0);var c=s.args?s.args.slice():[];c=this.resolveVariables(c);var u=this.resolveVariable(s.name);this.childProcess=new d.LineProcess(u,c,s.runtime===v.RuntimeType.Shell,this.resolveOptions(s.options)),t.command=this.childProcess.getSanitizedCommand();var h=e.command.presentation.reveal;if((h===v.RevealKind.Always||h===v.RevealKind.Silent&&0===e.problemMatchers.length)&&this.showOutput(),s.presentation.echo){var p=o.isWindows?">":"$";this.log("running command"+p+" "+u+" "+c.join(" "))}if(e.isBackground){var y=new f.WatchingProblemCollector(this.resolveMatchers(e.problemMatchers),this.markerService,this.modelService),b=[],S={taskId:e._id,taskName:e.name,type:g.TaskType.Watching,group:e.group},_=0;b.push(y.addListener(f.ProblemCollectorEvents.WatchingBeginDetected,function(){_++,i.emit(g.TaskSystemEvents.Active,S)})),b.push(y.addListener(f.ProblemCollectorEvents.WatchingEndDetected,function(){_--,i.emit(g.TaskSystemEvents.Inactive,S)})),y.aboutToStart();var E=null;return this.activeTask=e,this.activeTaskPromise=this.childProcess.start().then(function(t){i.childProcessEnded(),y.dispose(),b=m.dispose(b),b=null;for(var o=0;o<_;o++)i.emit(g.TaskSystemEvents.Inactive,S);return _=0,i.checkTerminated(e,t)||i.log(n.localize(1,null)),t.cmdCode&&1===t.cmdCode&&0===y.numberOfMatches&&h!==v.RevealKind.Never&&i.showOutput(),r.exitCode=t.cmdCode,r},function(t){i.childProcessEnded(),y.dispose(),b=m.dispose(b),b=null;for(var n=0;n<_;n++)i.emit(g.TaskSystemEvents.Inactive,S);return _=0,i.handleError(e,t)},function(e){var t=l.removeAnsiEscapeCodes(e.line);i.outputChannel.append(t+"\n"),y.processLine(t),null===E&&(E=new a.Delayer(3e3)),E.trigger(function(){return y.forceDelivery(),null}).then(function(){E=null})}),e.tscWatch?{kind:g.TaskExecuteKind.Started,started:{restartOnFileChanges:"**/*.ts"},promise:this.activeTaskPromise}:{kind:g.TaskExecuteKind.Started,started:{},promise:this.activeTaskPromise}}var C={taskId:e._id,taskName:e.name,type:g.TaskType.SingleRun,group:e.group};this.emit(g.TaskSystemEvents.Active,C);var w=new f.StartStopProblemCollector(this.resolveMatchers(e.problemMatchers),this.markerService,this.modelService);return this.activeTask=e,this.activeTaskPromise=this.childProcess.start().then(function(t){return i.childProcessEnded(),w.done(),w.dispose(),i.checkTerminated(e,t),i.emit(g.TaskSystemEvents.Inactive,C),t.cmdCode&&1===t.cmdCode&&0===w.numberOfMatches&&h!==v.RevealKind.Never&&i.showOutput(),r.exitCode=t.cmdCode,r},function(t){return i.childProcessEnded(),w.dispose(),i.emit(g.TaskSystemEvents.Inactive,C),i.handleError(e,t)},function(e){var t=l.removeAnsiEscapeCodes(e.line);i.outputChannel.append(t+"\n"),w.processLine(t)}),{kind:g.TaskExecuteKind.Started,started:{},promise:this.activeTaskPromise}},t.prototype.childProcessEnded=function(){this.childProcess=null,this.activeTask=null,this.activeTaskPromise=null},t.prototype.handleError=function(e,t){var i=!1;if(t.error&&!t.terminated){var r=e.command.args?e.command.args.join(" "):"";this.log(n.localize(2,null,e.command.name,r)),this.outputChannel.append(t.error.message),i=!0}t.stdout&&(this.outputChannel.append(t.stdout),i=!0),t.stderr&&(this.outputChannel.append(t.stderr),i=!0),(i=this.checkTerminated(e,t)||i)&&this.showOutput();var o=t.error||new Error;return o.stderr=t.stderr,o.stdout=t.stdout,o.terminated=t.terminated,s.Promise.wrapError(o)},t.prototype.checkTerminated=function(e,t){return!!t.terminated&&(this.log(n.localize(3,null,e.name)),!0)},t.prototype.resolveOptions=function(e){var t=this,n={cwd:this.resolveVariable(e.cwd)};return e.env&&(n.env=Object.create(null),Object.keys(e.env).forEach(function(i){var o=e.env[i];r.isString(o)?n.env[i]=t.resolveVariable(o):n.env[i]=o.toString()})),n},t.prototype.resolveVariables=function(e){var t=this;return e.map(function(e){return t.resolveVariable(e)})},t.prototype.resolveMatchers=function(e){var t=this;if(void 0===e||null===e||0===e.length)return[];var o=[];return e.forEach(function(e){var s;if(s=r.isString(e)?"$"===e[0]?p.ProblemMatcherRegistry.get(e.substring(1)):p.ProblemMatcherRegistry.get(e):e)if(s.filePrefix){var a=i.clone(s);a.filePrefix=t.resolveVariable(a.filePrefix),o.push(a)}else o.push(s);else t.outputChannel.append(n.localize(4,null))}),o},t.prototype.resolveVariable=function(e){return this.configurationResolverService.resolve(e)},t.prototype.log=function(e){this.outputChannel.append(e+"\n")},t.prototype.showOutput=function(){this.outputChannel.show(!0)},t.prototype.clearOutput=function(){this.outputChannel.clear()},t}(u.EventEmitter);y.TelemetryEventName="taskService",t.ProcessTaskSystem=y}),define(u[1048],d([1,0,143,691,26,11,24,135,240,154,170,397]),function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";function p(e,t,n){void 0!==t[n]&&(e[n]=t[n])}function f(e,t,n){void 0===e[n]&&void 0!==t[n]&&(e[n]=t[n])}function g(e,t){if(void 0===e||null===e)return!0;for(var n=0,i=t;n<i.length;n++){var r=i[n],o=e[r.property];if(void 0!==o&&null!==o){if(void 0!==r.type&&!r.type.isEmpty(o))return!1;if(!Array.isArray(o)||o.length>0)return!1}}return!0}function v(e,t,n){if(g(t,n))return e;if(g(e,n))return t;for(var i=0,r=n;i<r.length;i++){var o=r[i],s=o.property,a=void 0;void 0!==(a=void 0!==o.type?o.type.assignProperties(e[s],t[s]):t[s])&&null!==a&&(e[s]=a)}return e}function m(e,t,n){if(g(t,n))return e;if(g(e,n))return t;for(var i=0,r=n;i<r.length;i++){var o=r[i],s=o.property,a=void 0;o.type?a=o.type.fillProperties(e[s],t[s]):void 0===e[s]&&(a=t[s]),void 0!==a&&null!==a&&(e[s]=a)}return e}function y(e,t,n,i){if(e&&Object.isFrozen(e))return e;if(void 0===e||null===e)return void 0!==t&&null!==t?r.deepClone(t):void 0;for(var o=0,s=n;o<s.length;o++){var a=s[o],c=a.property;if(void 0===e[c]){var l=void 0;void 0!==(l=a.type?a.type.fillDefaults(e[c],i):t[c])&&null!==l&&(e[c]=l)}}return e}function b(e,t){if(void 0!==e&&null!==e){if(Object.isFrozen(e))return e;for(var n=0,i=t;n<i.length;n++){var r=i[n];if(r.type){var o=e[r.property];o&&r.type.freeze(o)}}return Object.freeze(e),e}}Object.defineProperty(t,"__esModule",{value:!0});var S=function(){return function(){}}();S.clean="cleanMatcherMatchers",t.ProblemHandling=S;var _;!function(e){e[e.Unknown=0]="Unknown",e[e.String=1]="String",e[e.ProblemMatcher=2]="ProblemMatcher",e[e.Array=3]="Array"}(_||(_={}));var E=[];Object.freeze(E);var C;!function(e){function t(e){var t=e;return t&&s.isString(t.executable)&&(void 0===t.args||s.isStringArray(t.args))}var n=[{property:"executable"},{property:"args"}];e.is=t,e.from=function(e,n){if(t(e)){var i={executable:e.executable};return void 0!==e.args&&(i.args=e.args.slice()),i}},e.isEmpty=function(e){return g(e,n)},e.assignProperties=function(e,t){return v(e,t,n)},e.fillProperties=function(e,t){return m(e,t,n)},e.fillDefaults=function(e,t){return e},e.freeze=function(e){if(e)return Object.freeze(e)}}(C||(C={}));var w;!function(e){function t(e){return g(e,n)}var n=[{property:"cwd"},{property:"env"},{property:"shell",type:C}],o={cwd:"${workspaceRoot}"};e.from=function(e,n){var o={};return void 0!==e.cwd&&(s.isString(e.cwd)?o.cwd=e.cwd:n.problemReporter.warn(i.localize(0,null,e.cwd))),void 0!==e.env&&(o.env=r.clone(e.env)),o.shell=C.from(e.shell,n),t(o)?void 0:o},e.isEmpty=t,e.assignProperties=function(e,n){if(t(n))return e;if(t(e))return n;if(p(e,n,"cwd"),void 0===e.env)e.env=n.env;else if(void 0!==n.env){var i=Object.create(null);Object.keys(e.env).forEach(function(t){return i[t]=e.env[t]}),Object.keys(n.env).forEach(function(e){return i[e]=n.env[e]}),e.env=i}return e.shell=C.assignProperties(e.shell,n.shell),e},e.fillProperties=function(e,t){return m(e,t,n)},e.fillDefaults=function(e,t){return y(e,o,n,t)},e.freeze=function(e){return b(e,n)}}(w||(w={}));var I;!function(e){function t(e,t){var r={name:void 0,runtime:void 0,presentation:void 0};s.isString(e.command)&&(r.name=e.command),s.isString(e.type)&&("shell"!==e.type&&"process"!==e.type||(r.runtime=u.RuntimeType.fromString(e.type)));var o=C.is(e.isShellCommand);s.isBoolean(e.isShellCommand)||o?r.runtime=u.RuntimeType.Shell:void 0!==e.isShellCommand&&(r.runtime=e.isShellCommand?u.RuntimeType.Shell:u.RuntimeType.Process),s.isString(e.runtime)&&(r.runtime=u.RuntimeType.fromString(e.runtime)),void 0!==e.args&&(s.isStringArray(e.args)?r.args=e.args.slice(0):t.problemReporter.fatal(i.localize(1,null,e.args?JSON.stringify(e.args,void 0,4):"undefined"))),void 0!==e.options&&(r.options=w.from(e.options,t),r.options&&void 0===r.options.shell&&o&&(r.options.shell=C.from(e.isShellCommand,t),t.engine!==u.ExecutionEngine.Terminal&&t.problemReporter.warn(i.localize(2,null))));var c=a.from(e,t);return c&&(r.presentation=c),s.isString(e.taskSelector)&&(r.taskSelector=e.taskSelector),s.isBoolean(e.suppressTaskName)&&(r.suppressTaskName=e.suppressTaskName),n(r)?void 0:r}function n(e){return g(e,c)}function r(e,t){return n(t)?e:n(e)?t:(p(e,t,"name"),p(e,t,"runtime"),p(e,t,"taskSelector"),p(e,t,"suppressTaskName"),void 0!==t.args&&(void 0===e.args?e.args=t.args:e.args=e.args.concat(t.args)),e.presentation=a.assignProperties(e.presentation,t.presentation),e.options=w.assignProperties(e.options,t.options),e)}var a;!function(e){var t=[{property:"echo"},{property:"reveal"},{property:"focus"},{property:"panel"}];e.from=function(e,t){var n,i,r,o;s.isBoolean(e.echoCommand)&&(n=e.echoCommand),s.isString(e.showOutput)&&(i=u.RevealKind.fromString(e.showOutput));var a=e.presentation||e.terminal;if(a&&(s.isBoolean(a.echo)&&(n=a.echo),s.isString(a.reveal)&&(i=u.RevealKind.fromString(a.reveal)),s.isBoolean(a.focus)&&(r=a.focus),s.isString(a.panel)&&(o=u.PanelKind.fromString(a.panel))),void 0!==n||void 0!==i||void 0!==r||void 0!==o)return{echo:n,reveal:i,focus:r,panel:o}},e.assignProperties=function(e,n){return v(e,n,t)},e.fillProperties=function(e,n){return m(e,n,t)},e.fillDefaults=function(e,n){return y(e,{echo:n.engine===u.ExecutionEngine.Terminal,reveal:u.RevealKind.Always,focus:!1,panel:u.PanelKind.Shared},t,n)},e.freeze=function(e){return b(e,t)},e.isEmpty=function(e){return g(e,t)}}(a=e.PresentationOptions||(e.PresentationOptions={}));var c=[{property:"runtime"},{property:"name"},{property:"options",type:w},{property:"args"},{property:"taskSelector"},{property:"suppressTaskName"},{property:"presentation",type:a}];e.from=function(e,i){var s=t(e,i),a=void 0;return e.windows&&o.platform===o.Platform.Windows?a=t(e.windows,i):e.osx&&o.platform===o.Platform.Mac?a=t(e.osx,i):e.linux&&o.platform===o.Platform.Linux&&(a=t(e.linux,i)),a&&(s=r(s,a)),n(s)?void 0:s},e.isEmpty=n,e.onlyTerminalBehaviour=function(e){return e&&e.presentation&&(void 0!==e.presentation.echo||void 0!==e.presentation.reveal)&&void 0===e.name&&void 0===e.runtime&&void 0===e.args&&w.isEmpty(e.options)},e.assignProperties=r,e.fillProperties=function(e,t){return m(e,t,c)},e.fillGlobals=function(e,t,i){if(n(t))return e;if(void 0===(e=e||{name:void 0,runtime:void 0,presentation:void 0}).name){f(e,t,"name"),f(e,t,"taskSelector"),f(e,t,"suppressTaskName");var r=t.args?t.args.slice():[];e.suppressTaskName||(void 0!==e.taskSelector?r.push(e.taskSelector+i):r.push(i)),e.args&&(r=r.concat(e.args)),e.args=r}return f(e,t,"runtime"),e.presentation=a.fillProperties(e.presentation,t.presentation),e.options=w.fillProperties(e.options,t.options),e},e.fillDefaults=function(e,t){e&&!Object.isFrozen(e)&&(void 0!==e.name&&void 0===e.runtime&&(e.runtime=u.RuntimeType.Process),e.presentation=a.fillDefaults(e.presentation,t),n(e)||(e.options=w.fillDefaults(e.options,t)),void 0===e.args&&(e.args=E),void 0===e.suppressTaskName&&(e.suppressTaskName=!1))},e.freeze=function(e){return b(e,c)}}(I||(I={}));var T;!function(e){function t(e){return s.isString(e)?_.String:s.isArray(e)?_.Array:s.isUndefined(e)?_.Unknown:_.ProblemMatcher}function n(e,t){if(!s.isString(e)){var n=e;return new l.ProblemMatcherParser(t.problemReporter).parse(n)}var o=e;if(o.length>1&&"$"===o[0]){o=o.substring(1);var a=l.ProblemMatcherRegistry.get(o);if(a)return r.clone(a);var c=t.namedProblemMatchers[o];if(c)return c=r.clone(c),delete c.name,c}t.problemReporter.error(i.localize(5,null,e))}e.namedFrom=function(e,t){var n=Object.create(null);return s.isArray(e)?(e.forEach(function(e){var r=new l.ProblemMatcherParser(t.problemReporter).parse(e);l.isNamedProblemMatcher(r)?n[r.name]=r:t.problemReporter.error(i.localize(3,null,JSON.stringify(e,void 0,4)))}),n):n},e.from=function(e,r){var o=[];if(void 0===e)return o;var s=t(e);if(s===_.Unknown)return r.problemReporter.warn(i.localize(4,null,JSON.stringify(e,null,4))),o;if(s===_.String||s===_.ProblemMatcher){var a=n(e,r);a&&o.push(a)}else s===_.Array&&e.forEach(function(e){var t=n(e,r);t&&o.push(t)});return o}}(T||(T={}));var k;!function(e){e.from=function(e){if(e&&s.isString(e.type)){var t=n.createHash("md5");t.update(JSON.stringify(e));var i={_key:t.digest("hex"),type:e.type};return i=r.assign(i,e)}}}(k||(k={}));var x,A={kind:u.TaskSourceKind.Workspace,label:"Workspace",detail:".settins\\tasks.json"};!function(e){e.from=function(e){if(void 0!==e){if(s.isString(e))return u.TaskGroup.is(e)?[e,!1]:void 0;if(s.isString(e.kind)&&u.TaskGroup.is(e.kind))return[e.kind,!!e.isDefault]}}}(x||(x={}));var L;!function(e){function t(e){return g(e,n)}var n=[{property:"name"},{property:"identifier"},{property:"group"},{property:"isBackground"},{property:"promptOnClose"},{property:"dependsOn"},{property:"presentation",type:I.PresentationOptions},{property:"problemMatchers"}];e.from=function(e,n,i){if(e){var r={};if(s.isString(e.taskName)&&(r.name=e.taskName),s.isString(e.label)&&n.schemaVersion===u.JsonSchemaVersion.V2_0_0&&(r.name=e.label),s.isString(e.identifier)&&(r.identifier=e.identifier),void 0!==e.isBackground&&(r.isBackground=!!e.isBackground),void 0!==e.promptOnClose&&(r.promptOnClose=!!e.promptOnClose),void 0!==e.group)if(s.isString(e.group)&&u.TaskGroup.is(e.group))r.group=e.group,r.isDefaultGroupEntry=!1;else{var o=x.from(e.group);o&&(r.group=o[0],r.isDefaultGroupEntry=o[1])}return void 0!==e.dependsOn&&(s.isString(e.dependsOn)?r.dependsOn=[e.dependsOn]:s.isStringArray(e.dependsOn)&&(r.dependsOn=e.dependsOn.slice())),!i||void 0===e.presentation&&void 0===e.terminal||(r.presentation=I.PresentationOptions.from(e,n)),e.problemMatcher&&(r.problemMatchers=T.from(e.problemMatcher,n)),t(r)?void 0:r}},e.isEmpty=t}(L||(L={}));var P;!function(e){var t="grunt.",n="jake.",o="gulp.",a="vscode.npm.",c="vscode.typescript.";e.from=function(e,l,u){if(e){var h=e.type,p=e.customize;if(h||p){var f,g=d.TaskDefinitionRegistry.get(h);s.isString(p)?0===p.indexOf(t)?f={type:"grunt",task:p.substring(t.length)}:0===p.indexOf(n)?f={type:"jake",task:p.substring(n.length)}:0===p.indexOf(o)?f={type:"gulp",task:p.substring(o.length)}:0===p.indexOf(a)?f={type:"npm",script:p.substring(a.length+4)}:0===p.indexOf(c)&&(f={type:"typescript",tsconfig:p.substring(c.length+6)}):(f={type:h},Object.keys(g.properties).forEach(function(t){var n=e[t];void 0!==n&&null!==n&&(f[t]=n)}));var v=k.from(f),m={type:h,configures:v,_id:v._key,_source:r.assign({},A,{config:{index:u,element:e}}),_label:void 0},y=L.from(e,l,!0);if(y){if((m=r.assign(m,y)).name)m._label=m.name;else{var b=m.configures.type;if(g.required&&g.required.length>0)for(var S=0,_=g.required;S<_.length;S++){var E=_[S],C=m.configures[E];if(C){b=b+" "+C;break}}m._label=b}m.identifier||(m.identifier=v._key)}return m}l.problemReporter.fatal(i.localize(6,null,JSON.stringify(e,null,4)))}}}(P||(P={}));var D;!function(e){e.from=function(e,t,n){if(e){var o=e.type;if(void 0!==o&&null!==o||(o="custom"),"custom"===o||"shell"===o||"process"===o){var s=e.taskName;if(s){var a={type:"custom",_id:t.uuidMap.getUUID(s),_source:r.assign({},A,{config:{index:n,element:e}}),_label:s,name:s,identifier:s,command:void 0},c=L.from(e,t,!1);c&&(a=r.assign(a,c));var l=e;void 0===a.isBackground&&void 0!==l.isWatching&&(a.isBackground=!!l.isWatching),void 0===a.group&&(!0===l.isBuildCommand?a.group=u.TaskGroup.Build:!0===l.isTestCommand&&(a.group=u.TaskGroup.Test));var d=I.from(e,t);return d&&(a.command=d),void 0!==e.command&&(d.suppressTaskName=!0),a}t.problemReporter.fatal(i.localize(8,null,JSON.stringify(e,null,4)))}else t.problemReporter.fatal(i.localize(7,null,JSON.stringify(e,null,4)))}},e.fillGlobals=function(e,t){void 0===e.dependsOn&&(e.command=I.fillGlobals(e.command,t.command,e.name)),void 0===e.promptOnClose&&void 0===e.isBackground&&void 0!==t.promptOnClose&&(e.promptOnClose=t.promptOnClose)},e.fillDefaults=function(e,t){I.fillDefaults(e.command,t),void 0===e.promptOnClose&&(e.promptOnClose=void 0===e.isBackground||!e.isBackground),void 0===e.isBackground&&(e.isBackground=!1),void 0===e.problemMatchers&&(e.problemMatchers=E),void 0!==e.group&&void 0===e.isDefaultGroupEntry&&(e.isDefaultGroupEntry=!1)},e.createCustomTask=function(e,t){var n={_id:t._id,_source:t._source,_label:t.name||e._label,type:"custom",command:e.command,name:t.name||e.name,identifier:t.identifier||e.identifier},i=n;p(i,t,"group"),p(i,t,"isDefaultGroupEntry"),p(i,t,"isBackground"),p(i,t,"dependsOn"),p(i,t,"problemMatchers"),p(i,t,"promptOnClose"),n.command.presentation=I.PresentationOptions.assignProperties(n.command.presentation,t.presentation);var r=e;return f(i,r,"group"),f(i,r,"isDefaultGroupEntry"),f(i,r,"isBackground"),f(i,r,"dependsOn"),f(i,r,"problemMatchers"),f(i,r,"promptOnClose"),n.command.presentation=I.PresentationOptions.fillProperties(n.command.presentation,r.presentation),n}}(D||(D={}));var O;!function(e){function t(e){var t=e.type;return void 0===e.customize&&(void 0===t||null===t||"custom"===t||"shell"===t||"process"===t)}function n(e){if(o.isWindows)return!(e.length>=2&&'"'===e.charAt(0)&&'"'===e.charAt(e.length-1))&&-1!==e.indexOf(" ");if(e.length>=2&&('"'===e.charAt(0)&&'"'===e.charAt(e.length-1)||"'"===e.charAt(0)&&"'"===e.charAt(e.length-1)))return!1;for(var t=0;t<e.length;t++)if(" "===e.charAt(t)&&(0===t||"\\"!==e.charAt(t-1)))return!0;return!1}e.from=function(e,r,o){var s={custom:[],configured:[]};if(!e)return s;for(var a={task:void 0,rank:-1},c={task:void 0,rank:-1},l=o.schemaVersion===u.JsonSchemaVersion.V2_0_0,d=0;d<e.length;d++){var h=e[d];if(t(h)){var p=D.from(h,o,d);if(p){if(D.fillGlobals(p,r),D.fillDefaults(p,o),o.engine===u.ExecutionEngine.Terminal&&p.command&&p.command.name&&p.command.runtime===u.RuntimeType.Shell&&p.command.args&&p.command.args.length>0&&(n(p.command.name)||p.command.args.some(n))&&o.problemReporter.warn(i.localize(9,null,p.name)),l){if(!(void 0!==p.command&&void 0!==p.command.name||void 0!==p.dependsOn&&0!==p.dependsOn.length)){o.problemReporter.error(i.localize(10,null,p.name,JSON.stringify(h,void 0,4)));continue}}else if(void 0===p.command||void 0===p.command.name){o.problemReporter.warn(i.localize(11,null,p.name,JSON.stringify(h,void 0,4)));continue}p.group===u.TaskGroup.Build&&a.rank<2?(a.task=p,a.rank=2):p.group===u.TaskGroup.Test&&c.rank<2?(c.task=p,c.rank=2):"build"===p.name&&a.rank<1?(a.task=p,a.rank=1):"test"===p.name&&c.rank<1&&(c.task=p,c.rank=1),s.custom.push(p)}}else{var f=P.from(h,o,d);f&&s.configured.push(f)}}return a.rank>-1&&a.rank<2?(a.task.group=u.TaskGroup.Build,a.task.isDefaultGroupEntry=!1):c.rank>-1&&c.rank<2&&(c.task.group=u.TaskGroup.Test,c.task.isDefaultGroupEntry=!1),s},e.assignTasks=function(e,t){if(void 0===t||0===t.length)return e;if(void 0===e||0===e.length)return t;if(t){var n=Object.create(null);e.forEach(function(e){n[e.name]=e}),t.forEach(function(e){n[e.name]=e});var i=[];e.forEach(function(e){i.push(n[e.name]),delete n[e.name]}),Object.keys(n).forEach(function(e){return i.push(n[e])}),e=i}return e},e.quickParse=function(e,n){if(e){for(var i=[],r=0;r<e.length;r++){var o=e[r];t(o)?i.push(D.from(o,n,r)):i.push(P.from(o,n,r))}return i}}}(O||(O={}));var R;!function(e){function t(e,t){var n={};return void 0!==e.suppressTaskName&&(n.suppressTaskName=!!e.suppressTaskName),void 0!==e.promptOnClose&&(n.promptOnClose=!!e.promptOnClose),n}function n(e){return!e||void 0===e.command&&void 0===e.promptOnClose&&void 0===e.suppressTaskName}e.from=function(n,i){var r=t(n),s=void 0;n.windows&&o.platform===o.Platform.Windows?s=t(n.windows):n.osx&&o.platform===o.Platform.Mac?s=t(n.osx):n.linux&&o.platform===o.Platform.Linux&&(s=t(n.linux)),s&&(r=e.assignProperties(r,s));var a=I.from(n,i);return a&&(r.command=a),e.fillDefaults(r,i),e.freeze(r),r},e.fromBase=t,e.isEmpty=n,e.assignProperties=function(e,t){return n(t)?e:n(e)?t:(p(e,t,"promptOnClose"),p(e,t,"suppressTaskName"),e)},e.fillDefaults=function(e,t){e&&(I.fillDefaults(e.command,t),void 0===e.suppressTaskName&&(e.suppressTaskName=!1),void 0===e.promptOnClose&&(e.promptOnClose=!0))},e.freeze=function(e){Object.freeze(e),e.command&&I.freeze(e.command)}}(R||(R={}));var M;!function(e){e.from=function(e){var t,n=e.runner||e._runner;if(n)switch(n){case"terminal":t=u.ExecutionEngine.Terminal;break;case"process":t=u.ExecutionEngine.Process}var i=N.from(e);if(i===u.JsonSchemaVersion.V0_1_0)return t||u.ExecutionEngine.Process;if(i===u.JsonSchemaVersion.V2_0_0)return u.ExecutionEngine.Terminal;throw new Error("Shouldn't happen.")}}(M=t.ExecutionEngine||(t.ExecutionEngine={}));var N;!function(e){var t=u.JsonSchemaVersion.V2_0_0;e.from=function(e){var n=e.version;if(!n)return t;switch(n){case"0.1.0":return u.JsonSchemaVersion.V0_1_0;case"2.0.0":return u.JsonSchemaVersion.V2_0_0;default:return t}}}(N=t.JsonSchemaVersion||(t.JsonSchemaVersion={}));!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}h(t,e),t.prototype.clearOutput=function(){}}(c.NullProblemReporter);var F=function(){function e(e){if(this.current=Object.create(null),e)for(var t=0,n=Object.keys(e.current);t<n.length;t++){var i=n[t],r=e.current[i];Array.isArray(r)?this.current[i]=r.slice():this.current[i]=r}}return e.prototype.start=function(){this.last=this.current,this.current=Object.create(null)},e.prototype.getUUID=function(e){var t,n=this.last[e];void 0!==n&&(Array.isArray(n)?(t=n.shift(),0===n.length&&delete this.last[e]):(t=n,delete this.last[e])),void 0===t&&(t=a.generateUuid());var i=this.current[e];if(void 0===i)this.current[e]=t;else if(Array.isArray(i))i.push(t);else{var r=[i];r.push(t),this.current[e]=r}return t},e.prototype.finish=function(){this.last=void 0},e}(),W=function(){function e(e,t){this.problemReporter=e,this.uuidMap=t}return e.prototype.run=function(e){var t=M.from(e),n=N.from(e);t===u.ExecutionEngine.Terminal&&this.problemReporter.clearOutput();var i={problemReporter:this.problemReporter,uuidMap:this.uuidMap,namedProblemMatchers:void 0,engine:t,schemaVersion:n},r=this.createTaskRunnerConfiguration(e,i);return{validationStatus:this.problemReporter.status,custom:r.custom,configured:r.configured,engine:t}},e.prototype.createTaskRunnerConfiguration=function(e,t){var n=R.from(e,t);if(this.problemReporter.status.isFatal())return{custom:[],configured:[]};t.namedProblemMatchers=T.namedFrom(e.declares,t);var s,a;if(e.windows&&o.platform===o.Platform.Windows?(s=O.from(e.windows.tasks,n,t).custom,a=e.windows.tasks):e.osx&&o.platform===o.Platform.Mac?(s=O.from(e.osx.tasks,n,t).custom,a=e.osx.tasks):e.linux&&o.platform===o.Platform.Linux&&(s=O.from(e.linux.tasks,n,t).custom,a=e.linux.tasks),t.schemaVersion===u.JsonSchemaVersion.V2_0_0&&s&&s.length>0&&a&&a.length>0){for(var c=[],l=0,d=a;l<d.length;l++){g=d[l];c.push(JSON.stringify(g,null,4))}t.problemReporter.error(i.localize(12,null,c.join("\n")))}var h={custom:void 0,configured:void 0};if(e.tasks&&(h=O.from(e.tasks,n,t)),s&&(h.custom=O.assignTasks(h.custom,s)),(!h.custom||0===h.custom.length)&&n.command&&n.command.name){var p=T.from(e.problemMatcher,t),f=e.isBackground?!!e.isBackground:e.isWatching?!!e.isWatching:void 0,g={_id:t.uuidMap.getUUID(n.command.name),_source:r.assign({},A,{config:{index:-1,element:e}}),_label:n.command.name,type:"custom",name:n.command.name,identifier:n.command.name,group:u.TaskGroup.Build,command:{name:void 0,runtime:void 0,presentation:void 0,suppressTaskName:!0},isBackground:f,problemMatchers:p},v=x.from(e.group);v?(g.group=v[0],g.isDefaultGroupEntry=v[1]):"none"===e.group&&(g.group=void 0),D.fillGlobals(g,n),D.fillDefaults(g,t),h.custom=[g]}return h.custom=h.custom||[],h.configured=h.configured||[],h},e}(),B=new F;t.parse=function(e,t){try{return B.start(),new W(t,B).run(e)}finally{B.finish()}},t.createCustomTask=function(e,t){return D.createCustomTask(e,t)},t.getTaskIdentifier=function(e){return k.from(e)},t.findTaskIndex=function(e,t){if(e&&e.tasks){if(0===e.tasks.length)return-1;var n=new F(B),i={problemReporter:this.problemReporter,uuidMap:n,namedProblemMatchers:void 0,engine:M.from(e),schemaVersion:N.from(e)};try{n.start();for(var r=O.quickParse(e.tasks,i),o=0;o<r.length;o++)if(t._id===r[o]._id)return o;return-1}finally{n.finish()}}}}),define(u[1049],d([1,0,5]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this._configHelper=e,this._messageListeners=[],this._container=document.createElement("div"),this._container.classList.add("terminal-widget-overlay"),t.appendChild(this._container),this._initTerminalHeightWatcher(t)}return e.prototype._initTerminalHeightWatcher=function(e){var t=this;this._xtermViewport=e.querySelector(".xterm-viewport"),new MutationObserver(function(){return t._refreshHeight()}).observe(this._xtermViewport,{attributes:!0,attributeFilter:["style"]})},e.prototype.showMessage=function(e,t,i){n.dispose(this._messageWidget),this._messageListeners=n.dispose(this._messageListeners),this._messageWidget=new r(this._container,e,t,i)},e.prototype.closeMessage=function(){this._messageListeners=n.dispose(this._messageListeners),this._messageWidget&&this._messageListeners.push(r.fadeOut(this._messageWidget))},e.prototype._refreshHeight=function(){this._container.style.height=this._xtermViewport.style.height},e}();t.TerminalWidgetManager=i;var r=function(){function e(e,t,n,i){this._container=e,this._left=t,this._top=n,this._text=i,this._domNode=document.createElement("div"),this._domNode.style.position="absolute",this._domNode.style.left=t+"px",this._domNode.style.bottom=e.offsetHeight-n+"px",this._domNode.classList.add("terminal-message-widget","fadeIn"),this._domNode.textContent=i,this._container.appendChild(this._domNode)}return Object.defineProperty(e.prototype,"left",{get:function(){return this._left},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this._top},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),e.fadeOut=function(e){var t,n=function(){e.dispose(),clearTimeout(t),e.domNode.removeEventListener("animationend",n)};return t=setTimeout(n,110),e.domNode.addEventListener("animationend",n),e.domNode.classList.add("fadeOut"),{dispose:n}},e.prototype.dispose=function(){this.domNode.parentElement===this._container&&this._container.removeChild(this.domNode)},e}()}),define(u[120],d([1,0,11,17,6]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TERMINAL_PANEL_ID="workbench.panel.terminal",t.TERMINAL_SERVICE_ID="terminalService",t.TERMINAL_DEFAULT_RIGHT_CLICK_COPY_PASTE=n.isWindows,t.KEYBINDING_CONTEXT_TERMINAL_FOCUS=new i.RawContextKey("terminalFocus",void 0),t.KEYBINDING_CONTEXT_TERMINAL_NOT_FOCUSED=t.KEYBINDING_CONTEXT_TERMINAL_FOCUS.toNegated(),t.KEYBINDING_CONTEXT_TERMINAL_TEXT_SELECTED=new i.RawContextKey("terminalTextSelected",void 0),t.KEYBINDING_CONTEXT_TERMINAL_TEXT_NOT_SELECTED=t.KEYBINDING_CONTEXT_TERMINAL_TEXT_SELECTED.toNegated(),t.KEYBINDING_CONTEXT_TERMINAL_FIND_WIDGET_VISIBLE=new i.RawContextKey("terminalFindWidgetVisible",void 0),t.KEYBINDING_CONTEXT_TERMINAL_FIND_WIDGET_NOT_VISIBLE=t.KEYBINDING_CONTEXT_TERMINAL_FIND_WIDGET_VISIBLE.toNegated(),t.IS_WORKSPACE_SHELL_ALLOWED_STORAGE_KEY="terminal.integrated.isWorkspaceShellAllowed",t.NEVER_SUGGEST_SELECT_WINDOWS_SHELL_STORAGE_KEY="terminal.integrated.neverSuggestSelectWindowsShell",t.ITerminalService=r.createDecorator(t.TERMINAL_SERVICE_ID),t.TerminalCursorStyle={BLOCK:"block",LINE:"line",UNDERLINE:"underline"}}),define(u[1051],d([1,0,577,157,223,8,11,26,21,7,4,36,377,20,19,120,306,67,980,125,87,979,23]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var T=function(t){function g(e,n,i,r,s,a,c,l,u,d){var h=t.call(this,e)||this;return h.debugServerPort=n,h.adapter=i,h.customTelemetryService=r,h.messageService=s,h.telemetryService=a,h.outputService=c,h.terminalService=l,h.nativeTerminalService=u,h.configurationService=d,h.socket=null,h.emittedStopped=!1,h.readyForBreakpoints=!1,h.allThreadsContinued=!0,h.sentPromises=[],h._onDidInitialize=new o.Emitter,h._onDidStop=new o.Emitter,h._onDidContinued=new o.Emitter,h._onDidTerminateDebugee=new o.Emitter,h._onDidExitAdapter=new o.Emitter,h._onDidThread=new o.Emitter,h._onDidOutput=new o.Emitter,h._onDidBreakpoint=new o.Emitter,h._onDidEvent=new o.Emitter,h}return h(g,t),Object.defineProperty(g.prototype,"onDidInitialize",{get:function(){return this._onDidInitialize.event},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"onDidStop",{get:function(){return this._onDidStop.event},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"onDidContinued",{get:function(){return this._onDidContinued.event},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"onDidTerminateDebugee",{get:function(){return this._onDidTerminateDebugee.event},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"onDidExitAdapter",{get:function(){return this._onDidExitAdapter.event},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"onDidThread",{get:function(){return this._onDidThread.event},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"onDidOutput",{get:function(){return this._onDidOutput.event},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"onDidBreakpoint",{get:function(){return this._onDidBreakpoint.event},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"onDidEvent",{get:function(){return this._onDidEvent.event},enumerable:!0,configurable:!0}),g.prototype.initServer=function(){var e=this;if(this.cachedInitServer)return this.cachedInitServer;var t=this.debugServerPort?this.connectServer(this.debugServerPort):this.startServer();return this.cachedInitServer=t.then(function(){e.startTime=(new Date).getTime()},function(t){return e.cachedInitServer=null,u.TPromise.wrapError(t)}),this.cachedInitServer},g.prototype.custom=function(e,t){return this.send(e,t)},g.prototype.send=function(e,i,r){var o=this;return void 0===r&&(r=!0),this.initServer().then(function(){var s=t.prototype.send.call(o,e,i).then(function(e){return e},function(e){var t=e&&e.body?e.body.error:null,i=e?e.message:"",r=t?S.formatPII(t.format,!0,t.variables):i;t&&t.sendTelemetry&&(o.telemetryService.publicLog("debugProtocolErrorResponse",{error:r}),o.customTelemetryService&&o.customTelemetryService.publicLog("debugProtocolErrorResponse",{error:r}));var s=t?S.formatPII(t.format,!1,t.variables):i;if(t&&t.url){var a=t.urlLabel?t.urlLabel:n.localize(0,null);return u.TPromise.wrapError(l.create(s,{actions:[f.CloseAction,new c.Action("debug.moreInfo",a,null,!0,function(){return window.open(t.url),u.TPromise.as(null)})]}))}return l.isPromiseCanceledError(e)?void 0:u.TPromise.wrapError(new Error(s))});return r&&o.sentPromises.push(s),s})},g.prototype.onEvent=function(e){e.body?e.body.sessionId=this.getId():e.body={sessionId:this.getId()},"initialized"===e.event?(this.readyForBreakpoints=!0,this._onDidInitialize.fire(e)):"stopped"===e.event?(this.emittedStopped=!0,this._onDidStop.fire(e)):"continued"===e.event?(this.allThreadsContinued=!1!==e.body.allThreadsContinued,this._onDidContinued.fire(e)):"thread"===e.event?this._onDidThread.fire(e):"output"===e.event?this._onDidOutput.fire(e):"breakpoint"===e.event?this._onDidBreakpoint.fire(e):"terminated"===e.event?this._onDidTerminateDebugee.fire(e):"exit"===e.event&&this._onDidExitAdapter.fire(e),this._onDidEvent.fire(e)},Object.defineProperty(g.prototype,"capabilities",{get:function(){return this._capabilities||{}},enumerable:!0,configurable:!0}),g.prototype.initialize=function(e){var t=this;return this.send("initialize",e).then(function(e){return t.readCapabilities(e)})},g.prototype.readCapabilities=function(e){return e&&(this._capabilities=a.mixin(this._capabilities,e.body)),e},g.prototype.launch=function(e){var t=this;return this.send("launch",e).then(function(e){return t.readCapabilities(e)})},g.prototype.attach=function(e){var t=this;return this.send("attach",e).then(function(e){return t.readCapabilities(e)})},g.prototype.next=function(e){var t=this;return this.send("next",e).then(function(n){return t.fireFakeContinued(e.threadId),n})},g.prototype.stepIn=function(e){var t=this;return this.send("stepIn",e).then(function(n){return t.fireFakeContinued(e.threadId),n})},g.prototype.stepOut=function(e){var t=this;return this.send("stepOut",e).then(function(n){return t.fireFakeContinued(e.threadId),n})},g.prototype.continue=function(e){var t=this;return this.send("continue",e).then(function(n){return t.fireFakeContinued(e.threadId,t.allThreadsContinued),n})},g.prototype.pause=function(e){return this.send("pause",e)},g.prototype.setVariable=function(e){return this.send("setVariable",e)},g.prototype.restartFrame=function(e,t){var n=this;return this.send("restartFrame",e).then(function(e){return n.fireFakeContinued(t),e})},g.prototype.completions=function(e){return this.send("completions",e)},g.prototype.disconnect=function(e,t){var n=this;return void 0===e&&(e=!1),void 0===t&&(t=!1),this.disconnected&&t?this.stopServer():(setTimeout(function(){n.sentPromises.forEach(function(e){return e&&e.cancel()}),n.sentPromises=[]},1e3),!this.serverProcess&&!this.socket||this.disconnected?u.TPromise.as(null):(this.disconnected=!0,this.send("disconnect",{restart:e},!1).then(function(){return n.stopServer()},function(){return n.stopServer()})))},g.prototype.setBreakpoints=function(e){return this.send("setBreakpoints",e)},g.prototype.setFunctionBreakpoints=function(e){return this.send("setFunctionBreakpoints",e)},g.prototype.setExceptionBreakpoints=function(e){return this.send("setExceptionBreakpoints",e)},g.prototype.configurationDone=function(){return this.send("configurationDone",null)},g.prototype.stackTrace=function(e){return this.send("stackTrace",e)},g.prototype.exceptionInfo=function(e){return this.send("exceptionInfo",e)},g.prototype.scopes=function(e){return this.send("scopes",e)},g.prototype.variables=function(e){return this.send("variables",e)},g.prototype.source=function(e){return this.send("source",e)},g.prototype.threads=function(){return this.send("threads",null)},g.prototype.evaluate=function(e){return this.send("evaluate",e)},g.prototype.stepBack=function(e){var t=this;return this.send("stepBack",e).then(function(n){return t.fireFakeContinued(e.threadId),n})},g.prototype.reverseContinue=function(e){var t=this;return this.send("reverseContinue",e).then(function(n){return t.fireFakeContinued(e.threadId),n})},g.prototype.getLengthInSeconds=function(){return((new Date).getTime()-this.startTime)/1e3},g.prototype.dispatchRequest=function(t,n){var i=this;if("runInTerminal"===t.command)w.TerminalSupport.runInTerminal(this.terminalService,this.nativeTerminalService,this.configurationService,t.arguments,n).then(function(){i.sendResponse(n)},function(e){n.success=!1,n.message=e.message,i.sendResponse(n)});else if("handshake"===t.command)try{var r=(new(e.__$__nodeRequire("vsda").signer)).sign(t.arguments.value);n.body={signature:r},this.sendResponse(n)}catch(e){n.success=!1,n.message=e.message,this.sendResponse(n)}else n.success=!1,n.message="unknown request '"+t.command+"'",this.sendResponse(n)},g.prototype.fireFakeContinued=function(e,t){void 0===t&&(t=!1),this._onDidContinued.fire({type:"event",event:"continued",body:{threadId:e,allThreadsContinued:t},seq:void 0})},g.prototype.connectServer=function(e){var t=this;return new u.TPromise(function(n,i){t.socket=r.createConnection(e,"127.0.0.1",function(){t.connect(t.socket,t.socket),n(null)}),t.socket.on("error",function(e){i(e)}),t.socket.on("close",function(){return t.onServerExit()})})},g.prototype.startServer=function(){var e=this;return this.adapter.getAdapterExecutable().then(function(t){return e.launchServer(t).then(function(){e.serverProcess.on("error",function(t){return e.onServerError(t)}),e.serverProcess.on("exit",function(t,n){return e.onServerExit()});var t=function(e){return e.toString().replace(/\r?\n$/gm,"")};e.serverProcess.stderr.on("data",function(n){e.outputService.getChannel(C.ExtensionsChannelId).append(t(n))}),e.connect(e.serverProcess.stdout,e.serverProcess.stdin)})})},g.prototype.launchServer=function(e){var t=this;return new u.TPromise(function(r,o){"node"===e.command?Array.isArray(e.args)&&e.args.length>0?p.fork(e.args[0],e.args.slice(1),{},function(i,s){i&&o(new Error(n.localize(1,null,e.args[0]))),t.serverProcess=s,r(null)}):o(new Error(n.localize(2,null))):(t.serverProcess=i.spawn(e.command,e.args,{stdio:["pipe","pipe","pipe"]}),r(null))})},g.prototype.stopServer=function(){var e=this;if(null!==this.socket&&(this.socket.end(),this.cachedInitServer=null),this.onEvent({event:"exit",type:"event",seq:0}),!this.serverProcess)return u.TPromise.as(null);this.disconnected=!0;var t;return s.isWindows?t=new u.TPromise(function(t,n){var r=i.exec("taskkill /F /T /PID "+e.serverProcess.pid,function(e,t,i){if(e)return n(e)});r.on("exit",t),r.on("error",n)}):(this.serverProcess.kill("SIGTERM"),t=u.TPromise.as(null)),t},g.prototype.onServerError=function(e){this.messageService.show(d.default.Error,n.localize(3,null,e.message)),this.stopServer().done(null,l.onUnexpectedError)},g.prototype.onServerExit=function(){this.serverProcess=null,this.cachedInitServer=null,this.disconnected||this.messageService.show(d.default.Error,n.localize(4,null)),this.onEvent({event:"exit",type:"event",seq:0})},g.prototype.dispose=function(){this.disconnect().done(null,l.onUnexpectedError)},g}(_.V8Protocol);T=v([y(4,f.IMessageService),y(5,g.ITelemetryService),y(6,E.IOutputService),y(7,m.ITerminalService),y(8,b.ITerminalService),y(9,I.IConfigurationService)],T),t.RawDebugSession=T}),define(u[388],d([1,0,96,11,198]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TERMINAL_DEFAULT_SHELL_LINUX=i.isWindows?"sh":process.env.SHELL||"sh",t.TERMINAL_DEFAULT_SHELL_OSX=i.isWindows?"sh":process.env.SHELL||"sh";var o=i.isWindows&&parseFloat(n.release())>=10,s=process.env.hasOwnProperty("PROCESSOR_ARCHITEW6432"),a=process.env.windir+"\\"+(s?"Sysnative":"System32")+"\\WindowsPowerShell\\v1.0\\powershell.exe";t.TERMINAL_DEFAULT_SHELL_WINDOWS=o?a:r.getWindowsShell()}),define(u[321],d([1,0,694,29]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ansiColorIdentifiers=[],t.TERMINAL_BACKGROUND_COLOR=i.registerColor("terminal.background",null,n.localize(0,null)),t.TERMINAL_FOREGROUND_COLOR=i.registerColor("terminal.foreground",{light:"#333333",dark:"#CCCCCC",hc:"#FFFFFF"},n.localize(1,null)),t.TERMINAL_CURSOR_FOREGROUND_COLOR=i.registerColor("terminalCursor.foreground",null,n.localize(2,null)),t.TERMINAL_CURSOR_BACKGROUND_COLOR=i.registerColor("terminalCursor.background",null,n.localize(3,null));var r={"terminal.ansiBlack":{index:0,defaults:{light:"#000000",dark:"#000000",hc:"#000000"}},"terminal.ansiRed":{index:1,defaults:{light:"#cd3131",dark:"#cd3131",hc:"#cd0000"}},"terminal.ansiGreen":{index:2,defaults:{light:"#00BC00",dark:"#0DBC79",hc:"#00cd00"}},"terminal.ansiYellow":{index:3,defaults:{light:"#949800",dark:"#e5e510",hc:"#cdcd00"}},"terminal.ansiBlue":{index:4,defaults:{light:"#0451a5",dark:"#2472c8",hc:"#0000ee"}},"terminal.ansiMagenta":{index:5,defaults:{light:"#bc05bc",dark:"#bc3fbc",hc:"#cd00cd"}},"terminal.ansiCyan":{index:6,defaults:{light:"#0598bc",dark:"#11a8cd",hc:"#00cdcd"}},"terminal.ansiWhite":{index:7,defaults:{light:"#555555",dark:"#e5e5e5",hc:"#e5e5e5"}},"terminal.ansiBrightBlack":{index:8,defaults:{light:"#666666",dark:"#666666",hc:"#7f7f7f"}},"terminal.ansiBrightRed":{index:9,defaults:{light:"#cd3131",dark:"#f14c4c",hc:"#ff0000"}},"terminal.ansiBrightGreen":{index:10,defaults:{light:"#14CE14",dark:"#23d18b",hc:"#00ff00"}},"terminal.ansiBrightYellow":{index:11,defaults:{light:"#b5ba00",dark:"#f5f543",hc:"#ffff00"}},"terminal.ansiBrightBlue":{index:12,defaults:{light:"#0451a5",dark:"#3b8eea",hc:"#5c5cff"}},"terminal.ansiBrightMagenta":{index:13,defaults:{light:"#bc05bc",dark:"#d670d6",hc:"#ff00ff"}},"terminal.ansiBrightCyan":{index:14,defaults:{light:"#0598bc",dark:"#29b8db",hc:"#00ffff"}},"terminal.ansiBrightWhite":{index:15,defaults:{light:"#a5a5a5",dark:"#e5e5e5",hc:"#ffffff"}}};t.registerColors=function(){for(var e in r){var o=r[e],s=e.substring(13);t.ansiColorIdentifiers[o.index]=i.registerColor(e,o.defaults,n.localize(4,null,s))}}}),define(u[1054],d([1,0,696,91,9,220,41,120,13,29]),function(e,t,n,i,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){function t(t){var n=e.call(this)||this;return n._opts=t,n._domNode=document.createElement("div"),n._domNode.title=n._opts.label,n._domNode.tabIndex=0,n._domNode.className="button "+n._opts.className,n._domNode.setAttribute("role","button"),n._domNode.setAttribute("aria-label",n._opts.label),n.onclick(n._domNode,function(e){n._opts.onTrigger(),e.preventDefault()}),n.onkeydown(n._domNode,function(e){if(e.equals(10)||e.equals(3))return n._opts.onTrigger(),void e.preventDefault();n._opts.onKeyDown(e)}),n}return h(t,e),Object.defineProperty(t.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),t.prototype.isEnabled=function(){return this._domNode.tabIndex>=0},t.prototype.focus=function(){this._domNode.focus()},t.prototype.setEnabled=function(e){r.toggleClass(this._domNode,"disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1},t.prototype.toggleClass=function(e,t){r.toggleClass(this._domNode,e,t)},t}(i.Widget),d=n.localize(0,null),p=n.localize(1,null),f=n.localize(2,null),g=n.localize(3,null),m=n.localize(4,null),b=function(e){function t(t,n){var i=e.call(this)||this;i._contextViewService=t,i._terminalService=n,i._findInput=i._register(new o.FindInput(null,i._contextViewService,{width:155,label:d,placeholder:p})),i._focusTracker=i._register(r.trackFocus(i._findInput.inputBox.inputElement)),i._register(i._focusTracker.addFocusListener(function(){return i._terminalService.getActiveInstance().notifyFindWidgetFocusChanged(!0)})),i._register(i._focusTracker.addBlurListener(function(){return i._terminalService.getActiveInstance().notifyFindWidgetFocusChanged(!1)}));var s=function(e){var t=i._findInput.getValue(),n=i._terminalService.getActiveInstance();null!==n&&(e?n.findPrevious(t):n.findNext(t))};i._register(i._findInput.onKeyDown(function(e){return e.equals(3)?(s(!1),void e.preventDefault()):e.equals(1027)?(s(!0),void e.preventDefault()):void 0}));var a=new u({label:f,className:"previous",onTrigger:function(){s(!0)},onKeyDown:function(e){}}),c=new u({label:g,className:"next",onTrigger:function(){s(!1)},onKeyDown:function(e){}}),l=new u({label:m,className:"close-fw",onTrigger:function(){i.hide(),i._terminalService.getActiveInstance().focus()},onKeyDown:function(e){}});return i._domNode=document.createElement("div"),i._domNode.className="find-part",i._domNode.appendChild(i._findInput.domNode),i._domNode.appendChild(a.domNode),i._domNode.appendChild(c.domNode),i._domNode.appendChild(l.domNode),i._register(r.addDisposableListener(i._domNode,"click",function(e){e.stopPropagation()})),i}return h(t,e),t.prototype.updateTheme=function(e){var t={inputActiveOptionBorder:e.getColor(l.inputActiveOptionBorder),inputBackground:e.getColor(l.inputBackground),inputForeground:e.getColor(l.inputForeground),inputBorder:e.getColor(l.inputBorder),inputValidationInfoBackground:e.getColor(l.inputValidationInfoBackground),inputValidationInfoBorder:e.getColor(l.inputValidationInfoBorder),inputValidationWarningBackground:e.getColor(l.inputValidationWarningBackground),inputValidationWarningBorder:e.getColor(l.inputValidationWarningBorder),inputValidationErrorBackground:e.getColor(l.inputValidationErrorBackground),inputValidationErrorBorder:e.getColor(l.inputValidationErrorBorder)};this._findInput.style(t)},t.prototype.getDomNode=function(){return this._domNode},t.prototype.reveal=function(){var e=this;this._isVisible?this._findInput.select():(this._isVisible=!0,setTimeout(function(){r.addClass(e._domNode,"visible"),e._domNode.setAttribute("aria-hidden","false"),r.addClass(e._domNode,"noanimation"),setTimeout(function(){r.removeClass(e._domNode,"noanimation"),e._findInput.select()},200)},0))},t.prototype.hide=function(){this._isVisible&&(this._isVisible=!1,r.removeClass(this._domNode,"visible"),this._domNode.setAttribute("aria-hidden","true"))},t}(i.Widget);b=v([y(0,s.IContextViewService),y(1,a.ITerminalService)],b),t.TerminalFindWidget=b,c.registerThemingParticipant(function(e,t){var n=e.getColor(l.editorWidgetBackground);n&&t.addRule(".monaco-workbench .panel.integrated-terminal .find-part { background-color: "+n+" !important; }");var i=e.getColor(l.widgetShadow);i&&t.addRule(".monaco-workbench .panel.integrated-terminal .find-part { box-shadow: 0 2px 8px "+i+"; }")})}),define(u[318],d([1,0,703,4,30]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){var i=e.call(this)||this;return i._version=t,i._text=n,i}return h(t,e),Object.defineProperty(t,"ID",{get:function(){return"workbench.releaseNotes.input"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0}),t.prototype.getTypeId=function(){return t.ID},t.prototype.getName=function(){return n.localize(0,null,this.version)},t.prototype.matches=function(e){if(!(e instanceof t))return!1;var n=e;return this.version===n.version},t.prototype.resolve=function(e){return i.TPromise.as(null)},t.prototype.supportsSplitEditor=function(){return!1},t}(r.EditorInput);t.ReleaseNotesInput=o}),define(u[166],d([1,0,8]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this._id=e}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),e.getContributedViewLocation=function(t){switch(t){case e.Explorer.id:return e.Explorer}},e}();i.Explorer=new i("explorer"),i.Debug=new i("debug"),i.Extensions=new i("extensions"),t.ViewLocation=i,t.ViewsRegistry=new(function(){function e(){this._onViewsRegistered=new n.Emitter,this.onViewsRegistered=this._onViewsRegistered.event,this._onViewsDeregistered=new n.Emitter,this.onViewsDeregistered=this._onViewsDeregistered.event,this._onTreeViewDataProviderRegistered=new n.Emitter,this.onTreeViewDataProviderRegistered=this._onTreeViewDataProviderRegistered.event,this._views=new Map,this._treeViewDataPoviders=new Map}return e.prototype.registerViews=function(e){if(e.length){for(var t=0,n=e;t<n.length;t++){var i=n[t],r=this._views.get(i.location);r||(r=[],this._views.set(i.location,r)),r.push(i)}this._onViewsRegistered.fire(e)}},e.prototype.deregisterViews=function(e,t){var n=this._views.get(t).filter(function(t){return-1!==e.indexOf(t.id)});n.length&&this._views.set(t,this._views.get(t).filter(function(t){return-1===e.indexOf(t.id)})),this._onViewsDeregistered.fire(n)},e.prototype.registerTreeViewDataProvider=function(e,t){this.isViewRegistered(e),this._treeViewDataPoviders.set(e,t),this._onTreeViewDataProviderRegistered.fire(e)},e.prototype.getViews=function(e){return this._views.get(e)||[]},e.prototype.getTreeViewDataProvider=function(e){return this._treeViewDataPoviders.get(e)},e.prototype.isViewRegistered=function(e){var t=!1;return this._views.forEach(function(n){return t=t||n.some(function(t){return t.id===e})}),t},e}())}),define(u[383],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.None=0]="None",e[e.Collapsed=1]="Collapsed",e[e.Expanded=2]="Expanded"}(t.TreeItemCollapsibleState||(t.TreeItemCollapsibleState={}))}),define(u[1058],d([1,0,31,19,39,11,80]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t,n){this.storageService=e,this.telemetryService=n,this.appName=s.default.nameLong,s.default.welcomePage&&!t.isExtensionDevelopment&&(this.welcomePageURL=s.default.welcomePage,this.handleWelcome())}return e.prototype.handleWelcome=function(){var t=this;!this.storageService.get(e.hideWelcomeSettingskey)&&this.welcomePageURL&&this.telemetryService.getTelemetryInfo().then(function(n){var i=t.getUrl(n);t.openExternal(i),t.storageService.store(e.hideWelcomeSettingskey,!0)})},e.prototype.getUrl=function(e){return this.welcomePageURL+"&&from="+this.appName+"&&id="+e.machineId},e.prototype.openExternal=function(e){throw new Error("implement me")},e.prototype.getId=function(){return"vs.gettingstarted"},e}();a.hideWelcomeSettingskey="workbench.hide.welcome",a=v([y(0,n.IStorageService),y(1,r.IEnvironmentService),y(2,i.ITelemetryService)],a);var c=function(){function e(e,t,n){this.storageService=e,this.telemetryService=n,this.appName=s.default.nameLong,!s.default.welcomePage||t.isExtensionDevelopment||t.skipGettingStarted||(this.welcomePageURL=s.default.welcomePage,this.handleWelcome())}return e.prototype.getId=function(){return"vs.gettingstarted"},e.prototype.getUrl=function(e){return this.welcomePageURL+"&&from="+this.appName+"&&id="+e.machineId},e.prototype.openExternal=function(e){o.isLinux&&o.isRootUser||window.open(e)},e.prototype.handleWelcome=function(){var t=this;navigator.onLine&&!this.storageService.get(e.hideWelcomeSettingskey)&&this.welcomePageURL&&this.telemetryService.getTelemetryInfo().then(function(n){var i=t.getUrl(n);t.openExternal(i),t.storageService.store(e.hideWelcomeSettingskey,!0)})},e}();c.hideWelcomeSettingskey="workbench.hide.welcome",c=v([y(0,n.IStorageService),y(1,r.IEnvironmentService),y(2,i.ITelemetryService)],c),t.GettingStarted=c}),define(u[1059],d([1,0,15,1058,85]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.Registry.as(r.Extensions.Workbench).registerWorkbenchContribution(i.GettingStarted)}),define(u[1060],d([1,0,12,710]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.used=function(){},t.default=function(){return'\n<div class="welcomePageContainer">\n\t<div class="welcomePage">\n\t\t<div class="title">\n\t\t\t<h1 class="caption">'+n.escape(i.localize(0,null))+'</h1>\n\t\t\t<p class="subtitle detail">'+n.escape(i.localize(1,null))+'</p>\n\t\t</div>\n\t\t<div class="row">\n\t\t\t<div class="splash">\n\t\t\t\t<div class="section start">\n\t\t\t\t\t<h2 class="caption">'+n.escape(i.localize(2,null))+'</h2>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li><a href="command:workbench.action.files.newUntitledFile">'+n.escape(i.localize(3,null))+'</a></li>\n\t\t\t\t\t\t<li class="mac-only"><a href="command:workbench.action.files.openFileFolder">'+n.escape(i.localize(4,null))+'</a></li>\n\t\t\t\t\t\t<li class="windows-only linux-only"><a href="command:workbench.action.files.openFolder">'+n.escape(i.localize(5,null))+'</a></li>\n\t\t\t\t\t\t<li><a href="command:git.clone">'+n.escape(i.localize(6,null))+'</a></li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t<div class="section recent">\n\t\t\t\t\t<h2 class="caption">'+n.escape(i.localize(7,null))+'</h2>\n\t\t\t\t\t<ul class="list">\n\t\t\t\t\t\t\x3c!-- Filled programmatically --\x3e\n\t\t\t\t\t\t<li class="moreRecent"><a href="command:workbench.action.openRecent">'+n.escape(i.localize(8,null))+'</a><span class="path detail if_shortcut" data-command="workbench.action.openRecent">(<span class="shortcut" data-command="workbench.action.openRecent"></span>)</span></li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<p class="none detail">'+n.escape(i.localize(9,null))+'</p>\n\t\t\t\t</div>\n\t\t\t\t<div class="section help">\n\t\t\t\t\t<h2 class="caption">'+n.escape(i.localize(10,null))+'</h2>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li class="keybindingsReferenceLink"><a href="command:workbench.action.keybindingsReference">'+n.escape(i.localize(11,null))+'</a></li>\n\t\t\t\t\t\t<li><a href="command:workbench.action.openIntroductoryVideosUrl">'+n.escape(i.localize(12,null))+'</a></li>\n\t\t\t\t\t\t<li><a href="command:workbench.action.openTipsAndTricksUrl">'+n.escape(i.localize(13,null))+'</a></li>\n\t\t\t\t\t\t<li><a href="command:workbench.action.openDocumentationUrl">'+n.escape(i.localize(14,null))+'</a></li>\n\t\t\t\t\t\t<li><a href="https://github.com/Microsoft/vscode">'+n.escape(i.localize(15,null))+'</a></li>\n\t\t\t\t\t\t<li><a href="http://stackoverflow.com/questions/tagged/vscode?sort=votes&pageSize=50">'+n.escape(i.localize(16,null))+'</a></li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t<p class="showOnStartup"><input type="checkbox" id="showOnStartup"> <label class="caption" for="showOnStartup">'+n.escape(i.localize(17,null))+'</label></p>\n\t\t\t</div>\n\t\t\t<div class="commands">\n\t\t\t\t<div class="section customize">\n\t\t\t\t\t<h2 class="caption">'+n.escape(i.localize(18,null))+'</h2>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li class="showLanguageExtensions"><button role="group" data-href="command:workbench.extensions.action.showLanguageExtensions"><h3 class="caption">'+n.escape(i.localize(19,null))+'</h3> <span class="detail">'+n.escape(i.localize(20,null)).replace("{0}",'<span class="extensionPackList"></span>').replace("{1}",'<a href="command:workbench.extensions.action.showLanguageExtensions">'+n.escape(i.localize(21,null))+"</a>")+'\n\t\t\t\t\t\t</span></button></li>\n\t\t\t\t\t\t<li class="showRecommendedKeymapExtensions"><button role="group" data-href="command:workbench.extensions.action.showRecommendedKeymapExtensions"><h3 class="caption">'+n.escape(i.localize(22,null))+'</h3> <span class="detail">'+n.escape(i.localize(23,null)).replace("{0}",'<span class="keymapList"></span>').replace("{1}",'<a href="command:workbench.extensions.action.showRecommendedKeymapExtensions">'+n.escape(i.localize(24,null))+"</a>")+'\n\t\t\t\t\t\t</span></button></li>\n\t\t\t\t\t\t<li class="selectTheme"><button data-href="command:workbench.action.selectTheme"><h3 class="caption">'+n.escape(i.localize(25,null))+'</h3> <span class="detail">'+n.escape(i.localize(26,null))+'</span></button></li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t<div class="section learn">\n\t\t\t\t\t<h2 class="caption">'+n.escape(i.localize(27,null))+'</h2>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li class="showCommands"><button data-href="command:workbench.action.showCommands"><h3 class="caption">'+n.escape(i.localize(28,null))+'</h3> <span class="detail">'+n.escape(i.localize(29,null)).replace("{0}",'<span class="shortcut" data-command="workbench.action.showCommands"></span>')+'</span></button></li>\n\t\t\t\t\t\t<li class="showInterfaceOverview"><button data-href="command:workbench.action.showInterfaceOverview"><h3 class="caption">'+n.escape(i.localize(30,null))+'</h3> <span class="detail">'+n.escape(i.localize(31,null))+'</span></button></li>\n\t\t\t\t\t\t<li class="showInteractivePlayground"><button data-href="command:workbench.action.showInteractivePlayground"><h3 class="caption">'+n.escape(i.localize(32,null))+'</h3> <span class="detail">'+n.escape(i.localize(33,null))+'</span></button></li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t<div class="section quickLinks">\n\t\t\t\t\t<h2 class="caption">'+n.escape(i.localize(34,null))+'</h2>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li class="keybindingsReference"><button data-href="command:workbench.action.keybindingsReference"><h3 class="caption">'+n.escape(i.localize(35,null))+'</h3> <span class="detail">'+n.escape(i.localize(36,null))+'</span></button></li>\n\t\t\t\t\t\t<li class="openGlobalSettings"><button data-href="command:workbench.action.openGlobalSettings"><h3 class="caption">'+n.escape(i.localize(37,null))+'</h3> <span class="detail">'+n.escape(i.localize(38,null))+"</span></button></li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n"}}),define(u[230],d([1,0,12,4,30,5,164,71,183,79,19,69]),function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(e){function t(t,n){var i=e.call(this)||this;return i.mainRef=t,i.snippetRefs=n,i}return h(t,e),Object.defineProperty(t.prototype,"main",{get:function(){return this.mainRef.object},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"snippets",{get:function(){return this.snippetRefs.map(function(e){return e.object})},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.snippetRefs.forEach(function(e){return e.dispose()}),this.mainRef.dispose(),e.prototype.dispose.call(this)},t}(r.EditorModel);t.WalkThroughModel=p;var f=function(e){function t(t,n,i,r,o,s,a,c){var l=e.call(this)||this;return l.name=t,l.description=n,l.resource=i,l.telemetryFrom=r,l.onReady=o,l.telemetryService=s,l.textModelResolverService=c,l.disposables=[],l.maxTopScroll=0,l.maxBottomScroll=0,l.disposables.push(a.onShutdown(function(e){return l.disposeTelemetry(e)})),l}return h(t,e),t.prototype.getResource=function(){return this.resource},t.prototype.getTypeId=function(){return t.ID},t.prototype.getName=function(){return this.name},t.prototype.getDescription=function(){return this.description},t.prototype.getTelemetryFrom=function(){return this.telemetryFrom||"walkThrough"},t.prototype.getTelemetryDescriptor=function(){var t=e.prototype.getTelemetryDescriptor.call(this);return t.target=this.getTelemetryFrom(),t.resource=s.telemetryURIDescriptor(this.resource),t},t.prototype.resolve=function(e){var t=this;return this.promise||(this.resolveTelemetry(),this.promise=this.textModelResolverService.createModelReference(this.resource).then(function(e){if(n.endsWith(t.getResource().path,".html"))return new p(e,[]);var r=[],o=0,s=new c.marked.Renderer;s.code=function(e,n){var i=t.resource.with({scheme:l.Schemas.walkThroughSnippet,fragment:o+++"."+n});return r.push(t.textModelResolverService.createModelReference(i)),""};var a=e.object.textEditorModel.getLinesContent().join("\n");return c.marked(a,{renderer:s}),i.TPromise.join(r).then(function(t){return new p(e,t)})})),this.promise},t.prototype.matches=function(n){return!0===e.prototype.matches.call(this,n)||n instanceof t&&n.resource.toString()===this.resource.toString()},t.prototype.dispose=function(){this.disposables=o.dispose(this.disposables),this.promise&&(this.promise.then(function(e){return e.dispose()}),this.promise=null),this.disposeTelemetry(),e.prototype.dispose.call(this)},t.prototype.relativeScrollPosition=function(e,t){this.maxTopScroll=Math.max(this.maxTopScroll,e),this.maxBottomScroll=Math.max(this.maxBottomScroll,t)},t.prototype.resolveTelemetry=function(){this.resolveTime||(this.resolveTime=Date.now(),this.telemetryService.publicLog("resolvingInput",{target:this.getTelemetryFrom()}))},t.prototype.disposeTelemetry=function(e){this.resolveTime&&(this.telemetryService.publicLog("disposingInput",{target:this.getTelemetryFrom(),timeSpent:(Date.now()-this.resolveTime)/60,reason:e?d.ShutdownReason[e]:"DISPOSE",maxTopScroll:this.maxTopScroll,maxBottomScroll:this.maxBottomScroll}),this.resolveTime=null)},t}(r.EditorInput);f.ID="workbench.editors.walkThroughInput",f=v([y(5,u.ITelemetryService),y(6,d.ILifecycleService),y(7,a.ITextModelService)],f),t.WalkThroughInput=f}),define(u[381],d([1,0,29]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getExtraColor=function(e,t,i){var r=e.getColor(t);if(r)return r;if("dark"===e.type){var o=e.getColor(n.editorBackground);if(o&&o.getLuminosity()<.004)return i.extra_dark}return i[e.type]}}),define(u[175],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.descriptorFn=e}return e.prototype.getDescription=function(){return this.descriptorFn(null)},e}();t.BaseBadge=i;var r=function(e){function t(t,n){var i=e.call(this,n)||this;return i.number=t,i}return h(t,e),t.prototype.getDescription=function(){return this.descriptorFn(this.number)},t}(i);t.NumberBadge=r;var o=function(e){function t(t,n){var i=e.call(this,n)||this;return i.text=t,i}return h(t,e),t}(i);t.TextBadge=o;var s=function(e){function t(t){return e.call(this,t)||this}return h(t,e),t}(i);t.IconBadge=s;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t}(i);t.ProgressBadge=a,t.IActivityBarService=n.createDecorator("activityBarService")}),define(u[139],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IBackupFileService=n.createDecorator("backupFileService"),t.BACKUP_FILE_RESOLVE_OPTIONS={acceptTextOnly:!0,encoding:"utf-8"},t.BACKUP_FILE_UPDATE_OPTIONS={encoding:"utf-8"}}),define(u[1065],d([1,0,52,143,11,76,16,18,139,43,4,276,214,33]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(){this.cache=Object.create(null)}return e.prototype.resolve=function(e){var t=this;return o.readDirsInDir(e).then(function(i){return u.TPromise.join(i.map(function(i){var r=n.join(e,i);return o.readdir(r).then(function(e){e.forEach(function(e){var i=s.default.file(n.join(r,e));t.add(i)})})}))}).then(function(){return t},function(e){return t})},e.prototype.add=function(e,t){void 0===t&&(t=0),this.cache[e.toString()]=t},e.prototype.count=function(){return Object.keys(this.cache).length},e.prototype.has=function(e,t){var n=this.cache[e.toString()];return"number"==typeof n&&("number"!=typeof t||t===n)},e.prototype.get=function(){return Object.keys(this.cache).map(function(e){return s.default.parse(e)})},e.prototype.remove=function(e){delete this.cache[e.toString()]},e.prototype.clear=function(){this.cache=Object.create(null)},e}();t.BackupFilesModel=f;var g=function(){function e(e,t){this.backupWorkspacePath=e,this.fileService=t,this.isShuttingDown=!1,this.ioOperationQueues={},this.ready=this.init()}return Object.defineProperty(e.prototype,"backupEnabled",{get:function(){return!!this.backupWorkspacePath},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=new f;return this.backupEnabled?e.resolve(this.backupWorkspacePath):u.TPromise.as(e)},e.prototype.hasBackups=function(){return this.ready.then(function(e){return e.count()>0})},e.prototype.loadBackupResource=function(e){var t=this;return this.ready.then(function(n){var i=t.getBackupResource(e);if(i){if(n.has(i))return i;if(r.isWindows||r.isMacintosh){var o=t.getBackupResource(e,!0);if(n.has(o))return o}}})},e.prototype.backupResource=function(t,n,i){var r=this;return this.isShuttingDown?u.TPromise.as(void 0):this.ready.then(function(o){var s=r.getBackupResource(t);if(s&&!o.has(s,i))return n=""+t.toString()+e.META_MARKER+n,r.getResourceIOQueue(s).queue(function(){return r.fileService.updateContent(s,n,c.BACKUP_FILE_UPDATE_OPTIONS).then(function(){return o.add(s,i)})})})},e.prototype.discardResourceBackup=function(e){var t=this;return this.ready.then(function(n){var i=t.getBackupResource(e);if(i)return t.getResourceIOQueue(i).queue(function(){return o.del(i.fsPath).then(function(){return n.remove(i)})}).then(function(){if(r.isWindows||r.isMacintosh){var i=t.getBackupResource(e,!0);if(n.has(i))return t.getResourceIOQueue(i).queue(function(){return o.del(i.fsPath).then(function(){return n.remove(i)})})}return u.TPromise.as(void 0)})})},e.prototype.getResourceIOQueue=function(e){var t=this,n=e.toString();if(!this.ioOperationQueues[n]){var i=new a.Queue;i.onFinished(function(){i.dispose(),delete t.ioOperationQueues[n]}),this.ioOperationQueues[n]=i}return this.ioOperationQueues[n]},e.prototype.discardAllWorkspaceBackups=function(){var e=this;return this.isShuttingDown=!0,this.ready.then(function(t){if(e.backupEnabled)return o.del(e.backupWorkspacePath).then(function(){return t.clear()})})},e.prototype.getWorkspaceFileBackups=function(){return this.ready.then(function(t){var n=[];return t.get().forEach(function(t){n.push(d.readToMatchingString(t.fsPath,e.META_MARKER,2e3,1e4).then(s.default.parse))}),u.TPromise.join(n)})},e.prototype.parseBackupContent=function(e){var t=h.TextSource.fromRawTextSource(e,p.DefaultEndOfLine.LF);return t.lines.slice(1).join(t.EOL)},e.prototype.getBackupResource=function(e,t){return this.backupEnabled?s.default.file(n.join(this.backupWorkspacePath,e.scheme,this.hashPath(e,t))):null},e.prototype.hashPath=function(e,t){var n=t?e.fsPath.toLowerCase():e.fsPath;return i.createHash("md5").update(n).digest("hex")},e}();g.META_MARKER="\n",g=v([y(1,l.IFileService)],g),t.BackupFileService=g}),define(u[104],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONFIG_DEFAULT_NAME="settings",t.WORKSPACE_CONFIG_FOLDER_DEFAULT_NAME=".vscode",t.WORKSPACE_CONFIG_DEFAULT_PATH=t.WORKSPACE_CONFIG_FOLDER_DEFAULT_NAME+"/"+t.CONFIG_DEFAULT_NAME+".json",t.IWorkspaceConfigurationService=n.createDecorator("configurationService"),t.WORKSPACE_STANDALONE_CONFIGURATIONS={tasks:t.WORKSPACE_CONFIG_FOLDER_DEFAULT_NAME+"/tasks.json",launch:t.WORKSPACE_CONFIG_FOLDER_DEFAULT_NAME+"/launch.json"}}),define(u[1067],d([1,0,695,11,124,23,104,20,31,120,4,36]),function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function e(e,t,n,i,r){this._platform=e,this._configurationService=t,this._workspaceConfigurationService=n,this._choiceService=i,this._storageService=r}return Object.defineProperty(e.prototype,"config",{get:function(){return this._configurationService.getConfiguration().terminal.integrated},enumerable:!0,configurable:!0}),e.prototype._measureFont=function(e,t,n){this._charMeasureElement&&this._charMeasureElement.parentElement||(this._charMeasureElement=document.createElement("div"),this.panelContainer.appendChild(this._charMeasureElement));var i=this._charMeasureElement.style;i.display="block",i.fontFamily=e,i.fontSize=t+"px",i.lineHeight=n.toString(10),this._charMeasureElement.innerText="X";var r=this._charMeasureElement.getBoundingClientRect();return i.display="none",!this._lastFontMeasurement||r.width||r.height?(this._lastFontMeasurement={fontFamily:e,fontSize:t+"px",lineHeight:n,charWidth:r.width,charHeight:r.height},this._lastFontMeasurement):this._lastFontMeasurement},e.prototype.getFont=function(){var e=this._configurationService.getConfiguration().editor,t=this.config,n=t.fontFamily||e.fontFamily,i=this._toInteger(t.fontSize,0);i<=0&&(i=r.EDITOR_FONT_DEFAULTS.fontSize);var o=t.lineHeight<=0?1.2:t.lineHeight;return o||(o=1.2),this._measureFont(n,i,o)},e.prototype.setWorkspaceShellAllowed=function(e){this._storageService.store(l.IS_WORKSPACE_SHELL_ALLOWED_STORAGE_KEY,e,c.StorageScope.WORKSPACE)},e.prototype.mergeDefaultShellPathAndArgs=function(e){var t=this,r=i.isWindows?"windows":i.isMacintosh?"osx":"linux",o=this._workspaceConfigurationService.lookup("terminal.integrated.shell."+r),s=this._workspaceConfigurationService.lookup("terminal.integrated.shellArgs."+r),a=!1;if(void 0===o.workspace&&void 0===s.workspace||(a=this._storageService.getBoolean(l.IS_WORKSPACE_SHELL_ALLOWED_STORAGE_KEY,c.StorageScope.WORKSPACE,void 0)),void 0===a){var h=void 0;o.workspace&&(h='"'+o.workspace+'"');var p=void 0;s.workspace&&(p="["+s.workspace.map(function(e){return'"'+e+'"'}).join(", ")+"]");var f=void 0;f=void 0!==o.workspace?void 0!==s.workspace?"shell: "+h+", shellArgs: "+p:"shell: "+h:"shellArgs: "+p;var g=n.localize(0,null,f),v=[n.localize(1,null),n.localize(2,null)];this._choiceService.choose(d.default.Info,g,v,1).then(function(e){return 0===e?t._storageService.store(l.IS_WORKSPACE_SHELL_ALLOWED_STORAGE_KEY,!0,c.StorageScope.WORKSPACE):t._storageService.store(l.IS_WORKSPACE_SHELL_ALLOWED_STORAGE_KEY,!1,c.StorageScope.WORKSPACE),u.TPromise.as(null)})}e.executable=(a?o.value:o.user)||o.default,e.args=(a?s.value:s.user)||s.default},e.prototype._toInteger=function(e,t){var n=parseInt(e,10);return isNaN(n)&&(n=0),"number"==typeof t&&(n=Math.max(t,n)),n},e}();h=v([y(1,o.IConfigurationService),y(2,s.IWorkspaceConfigurationService),y(3,a.IChoiceService),y(4,c.IStorageService)],h),t.TerminalConfigHelper=h}),define(u[1068],d([1,0,702,5,4,21,85,15,69,20,126,104,19,31]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t,n,i,r,o){var s=this;this.workspaceConfigurationService=t,this.preferencesService=n,this.messageService=i,this.telemetryService=r,this.storageService=o,this.toDispose=[],this.isUntrusted=!1,e.onShutdown(this.dispose,this),this.toDispose.push(this.workspaceConfigurationService.onDidUpdateConfiguration(function(e){return s.checkWorkspaceSettings()}))}return e.prototype.getId=function(){return"unsupportedWorkspaceSettings"},e.prototype.dispose=function(){this.toDispose=i.dispose(this.toDispose)},e.prototype.checkWorkspaceSettings=function(){if(!this.isUntrusted){var e=this.workspaceConfigurationService.getUnsupportedWorkspaceKeys();this.isUntrusted=e.length>0,this.isUntrusted&&!this.hasShownWarning()&&this.showWarning(e)}},e.prototype.hasShownWarning=function(){return this.storageService.getBoolean(e.storageKey,p.StorageScope.WORKSPACE,!1)},e.prototype.rememberWarningWasShown=function(){this.storageService.store(e.storageKey,!0,p.StorageScope.WORKSPACE)},e.prototype.showWarning=function(e){var t=this,i=n.localize(0,null,e.join(", ")),s=[new o.Action("unsupportedWorkspaceSettings.openWorkspaceSettings",n.localize(1,null),"",!0,function(){return t.telemetryService.publicLog("workspace.settings.unsupported.review"),t.rememberWarningWasShown(),t.preferencesService.openWorkspaceSettings()}),new o.Action("unsupportedWorkspaceSettings.openDocumentation",n.localize(2,null),"",!0,function(){return t.telemetryService.publicLog("workspace.settings.unsupported.documentation"),t.rememberWarningWasShown(),window.open("https://go.microsoft.com/fwlink/?linkid=839878"),r.TPromise.as(!0)}),new o.Action("unsupportedWorkspaceSettings.Ignore",n.localize(3,null),"",!0,function(){return t.telemetryService.publicLog("workspace.settings.unsupported.ignore"),t.rememberWarningWasShown(),r.TPromise.as(!0)})];this.messageService.show(l.Severity.Warning,{message:i,actions:s}),this.telemetryService.publicLog("workspace.settings.unsupported.warning")},e}();f.storageKey="workspace.settings.unsupported.warning",f=v([y(0,c.ILifecycleService),y(1,d.IWorkspaceConfigurationService),y(2,u.IPreferencesService),y(3,l.IMessageService),y(4,h.ITelemetryService),y(5,p.IStorageService)],f),a.Registry.as(s.Extensions.Workbench).registerWorkbenchContribution(f)}),define(u[65],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IConfigurationEditingService=n.createDecorator("configurationEditingService");!function(e){e[e.ERROR_UNKNOWN_KEY=0]="ERROR_UNKNOWN_KEY",e[e.ERROR_INVALID_TARGET=1]="ERROR_INVALID_TARGET",e[e.ERROR_NO_WORKSPACE_OPENED=2]="ERROR_NO_WORKSPACE_OPENED",e[e.ERROR_CONFIGURATION_FILE_DIRTY=3]="ERROR_CONFIGURATION_FILE_DIRTY",e[e.ERROR_INVALID_CONFIGURATION=4]="ERROR_INVALID_CONFIGURATION"}(t.ConfigurationEditingErrorCode||(t.ConfigurationEditingErrorCode={}));var i=function(e){function t(t,n){var i=e.call(this,t)||this;return i.code=n,i}return h(t,e),t}(Error);t.ConfigurationEditingError=i;!function(e){e[e.USER=0]="USER",e[e.WORKSPACE=1]="WORKSPACE"}(t.ConfigurationTarget||(t.ConfigurationTarget={}))}),define(u[1070],d([1,0,546,5,12,9,194,75,91,6,38,17,48,25,68,302,13,29,23,11,65,114,119,16,994]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var k=new d.RawContextKey("accessibilityHelpWidgetVisible",!1),x=D=function(e){function t(t,n){var i=e.call(this)||this;return i._editor=t,i._widget=i._register(n.createInstance(A,i._editor)),i}return h(t,e),t.get=function(e){return e.getContribution(D.ID)},t.prototype.getId=function(){return D.ID},t.prototype.show=function(){this._widget.show()},t.prototype.hide=function(){this._widget.hide()},t}(i.Disposable);x.ID="editor.contrib.accessibilityHelpController",x=D=v([g.editorContribution,y(1,l.IInstantiationService)],x);var A=function(e){function t(i,r,s,c,l,u){var d=e.call(this)||this;return d._contextKeyService=r,d._keybindingService=s,d._configurationService=c,d._configurationEditingService=l,d._openerService=u,d._editor=i,d._isVisibleKey=k.bindTo(d._contextKeyService),d._domNode=a.createFastDomNode(document.createElement("div")),d._domNode.setClassName("accessibilityHelpWidget"),d._domNode.setWidth(t.WIDTH),d._domNode.setHeight(t.HEIGHT),d._domNode.setDisplay("none"),d._domNode.setAttribute("role","dialog"),d._domNode.setAttribute("aria-hidden","true"),d._contentDomNode=a.createFastDomNode(document.createElement("div")),d._contentDomNode.setAttribute("role","document"),d._domNode.appendChild(d._contentDomNode),d._isVisible=!1,d._register(d._editor.onDidLayoutChange(function(){d._isVisible&&d._layout()})),d._register(o.addStandardDisposableListener(d._contentDomNode.domNode,"keydown",function(e){d._isVisible&&(e.equals(2083)&&(w.alert(n.localize(0,null)),d._configurationEditingService.writeConfiguration(C.ConfigurationTarget.USER,{key:"editor.accessibilitySupport",value:"on"}),e.preventDefault(),e.stopPropagation()),e.equals(2086)&&(w.alert(n.localize(1,null)),d._openerService.open(T.default.parse("https://go.microsoft.com/fwlink/?linkid=851010")),e.preventDefault(),e.stopPropagation()))})),d.onblur(d._contentDomNode.domNode,function(){d.hide()}),d._editor.addOverlayWidget(d),d}return h(t,e),t.prototype.dispose=function(){this._editor.removeOverlayWidget(this),e.prototype.dispose.call(this)},t.prototype.getId=function(){return t.ID},t.prototype.getDomNode=function(){return this._domNode.domNode},t.prototype.getPosition=function(){return{preference:null}},t.prototype.show=function(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())},t.prototype._descriptionForCommand=function(e,t,n){var i=this._keybindingService.lookupKeybinding(e);return i?r.format(t,i.getAriaLabel()):r.format(n,e)},t.prototype._buildContent=function(){var e=this._editor.getConfiguration(),t=n.localize(2,null);t+="\n\n"+n.localize(3,null);var i=this._configurationService.getConfiguration("editor").accessibilitySupport,r=e.accessibilitySupport,o=E.isMacintosh?n.localize(4,null):n.localize(5,null);switch(i){case"auto":switch(r){case 0:t+="\n\n - "+n.localize(6,null);break;case 2:t+="\n\n - "+n.localize(7,null);break;case 1:t+="\n\n - "+n.localize(8,null),t+=" "+o}break;case"on":t+="\n\n - "+n.localize(9,null);break;case"off":t+="\n\n - "+n.localize(10,null),t+=" "+o}var a=n.localize(11,null),c=n.localize(12,null),l=n.localize(13,null),u=n.localize(14,null);e.tabFocusMode?t+="\n\n - "+this._descriptionForCommand(m.ToggleTabFocusModeAction.ID,a,c):t+="\n\n - "+this._descriptionForCommand(m.ToggleTabFocusModeAction.ID,l,u),t+="\n\n"+(E.isMacintosh?n.localize(15,null):n.localize(16,null)),t+="\n\n"+n.localize(17,null),this._contentDomNode.domNode.appendChild(s.renderFormattedText(t))},t.prototype.hide=function(){this._isVisible&&(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,o.clearNode(this._contentDomNode.domNode),this._editor.focus())},t.prototype._layout=function(){var e=this._editor.getLayoutInfo(),n=Math.round((e.height-t.HEIGHT)/2);this._domNode.setTop(n);var i=Math.round((e.width-t.WIDTH)/2);this._domNode.setLeft(i)},t}(c.Widget);A.ID="editor.contrib.accessibilityHelpWidget",A.WIDTH=500,A.HEIGHT=300,A=v([y(1,d.IContextKeyService),y(2,u.IKeybindingService),y(3,_.IConfigurationService),y(4,C.IConfigurationEditingService),y(5,I.IOpenerService)],A);var L=function(e){function t(){return e.call(this,{id:"editor.action.showAccessibilityHelp",label:n.localize(18,null),alias:"Show Accessibility Help",precondition:null,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:571}})||this}return h(t,e),t.prototype.run=function(e,t){var n=x.get(t);n&&n.show()},t}(f.EditorAction);L=v([f.editorAction],L);var P=f.EditorCommand.bindToContribution(x.get);f.CommonEditorRegistry.registerEditorCommand(new P({id:"closeAccessibilityHelp",precondition:k,handler:function(e){return e.hide()},kbOpts:{weight:f.CommonEditorRegistry.commandWeight(100),kbExpr:p.EditorContextKeys.focus,primary:9,secondary:[1033]}})),b.registerThemingParticipant(function(e,t){var n=e.getColor(S.editorWidgetBackground);n&&t.addRule(".monaco-editor .accessibilityHelpWidget { background-color: "+n+"; }");var i=e.getColor(S.widgetShadow);i&&t.addRule(".monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px "+i+"; }");var r=e.getColor(S.contrastBorder);r&&t.addRule(".monaco-editor .accessibilityHelpWidget { border: 2px solid "+r+"; }")});var D}),define(u[1071],d([1,0,551,25,65]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return e.call(this,{id:"editor.action.toggleRenderControlCharacter",label:n.localize(0,null),alias:"Toggle Control Characters",precondition:null})||this}return h(t,e),t.prototype.run=function(e,t){var n=e.get(r.IConfigurationEditingService),i=!t.getConfiguration().viewInfo.renderControlCharacters;n.writeConfiguration(r.ConfigurationTarget.USER,{key:"editor.renderControlCharacters",value:i})},t}(i.EditorAction);o=v([i.editorAction],o),t.ToggleRenderControlCharacterAction=o}),define(u[1072],d([1,0,552,25,65]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return e.call(this,{id:"editor.action.toggleRenderWhitespace",label:n.localize(0,null),alias:"Toggle Render Whitespace",precondition:null})||this}return h(t,e),t.prototype.run=function(e,t){var n,i=e.get(r.IConfigurationEditingService);n="none"===t.getConfiguration().viewInfo.renderWhitespace?"all":"none",i.writeConfiguration(r.ConfigurationTarget.USER,{key:"editor.renderWhitespace",value:n})},t}(i.EditorAction);o=v([i.editorAction],o),t.ToggleRenderWhitespaceAction=o}),define(u[207],d([1,0,648,9,4,5,91,8,73,33,110,6,41,38,27,65,49,21,55,13,29]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var w=function(e){function t(t,n){var i=e.call(this)||this;return i.editor=t,i.title=n,i.create(),i._register(i.editor.onDidChangeConfiguration(function(){return i.layout()})),i._register(i.editor.onDidLayoutChange(function(){return i.layout()})),i}return h(t,e),Object.defineProperty(t.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"heightInLines",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"afterLineNumber",{get:function(){return 0},enumerable:!0,configurable:!0}),t.prototype.create=function(){var e=this;this._domNode=i.$(".settings-header-widget"),this.titleContainer=i.append(this._domNode,i.$(".title-container")),i.append(this.titleContainer,i.$(".title")).textContent=this.title,this.messageElement=i.append(this.titleContainer,i.$(".message")),this.editor.changeViewZones(function(t){e.id=t.addZone(e),e.layout()})},t.prototype.setMessage=function(e){this.messageElement.textContent=e},t.prototype.layout=function(){var e=this.editor.getConfiguration();this.titleContainer.style.fontSize=e.fontInfo.fontSize+"px"},t.prototype.dispose=function(){var t=this;this.editor.changeViewZones(function(e){e.removeZone(t.id)}),e.prototype.dispose.call(this)},t}(s.Widget);t.SettingsHeaderWidget=w;var I=function(e){function t(t,n){var i=e.call(this)||this;return i.editor=t,i.settingsGroup=n,i._onToggled=i._register(new a.Emitter),i.onToggled=i._onToggled.event,i.create(),i._register(i.editor.onDidChangeConfiguration(function(){return i.layout()})),i._register(i.editor.onDidLayoutChange(function(){return i.layout()})),i._register(i.editor.onDidChangeCursorPosition(function(e){return i.onCursorChange(e)})),i}return h(t,e),Object.defineProperty(t.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"heightInLines",{get:function(){return 1.5},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"afterLineNumber",{get:function(){return this._afterLineNumber},enumerable:!0,configurable:!0}),t.prototype.create=function(){var e=this;this._domNode=i.$(".settings-group-title-widget"),this.titleContainer=i.append(this._domNode,i.$(".title-container")),this.titleContainer.tabIndex=0,this.onclick(this.titleContainer,function(){return e.toggle()}),this.onkeydown(this.titleContainer,function(t){return e.onKeyDown(t)});var t=this._register(i.trackFocus(this.titleContainer));t.addFocusListener(function(){return e.toggleFocus(!0)}),t.addBlurListener(function(){return e.toggleFocus(!1)}),this.icon=i.append(this.titleContainer,i.$(".expand-collapse-icon")),this.title=i.append(this.titleContainer,i.$(".title")),this.title.textContent=this.settingsGroup.title+" ("+this.settingsGroup.sections.reduce(function(e,t){return e+t.settings.length},0)+")",this.layout()},t.prototype.render=function(){var e=this;this._afterLineNumber=this.settingsGroup.range.startLineNumber-2,this.editor.changeViewZones(function(t){e.id=t.addZone(e),e.layout()})},t.prototype.toggleCollapse=function(e){i.toggleClass(this.titleContainer,"collapsed",e)},t.prototype.toggleFocus=function(e){i.toggleClass(this.titleContainer,"focused",e)},t.prototype.isCollapsed=function(){return i.hasClass(this.titleContainer,"collapsed")},t.prototype.layout=function(){var e=this.editor.getConfiguration(),t=this.editor.getLayoutInfo();this._domNode.style.width=t.contentWidth-t.verticalScrollbarWidth+"px",this.titleContainer.style.lineHeight=e.lineHeight+3+"px",this.titleContainer.style.height=e.lineHeight+3+"px",this.titleContainer.style.fontSize=e.fontInfo.fontSize+"px",this.icon.style.minWidth=this.getIconSize(16)+"px"},t.prototype.getIconSize=function(e){var t=this.editor.getConfiguration().fontInfo.fontSize;return t>8?Math.max(t,e):12},t.prototype.onKeyDown=function(e){switch(e.keyCode){case 3:case 10:this.toggle();break;case 15:this.collapse(!0);break;case 17:this.collapse(!1);break;case 16:if(this.settingsGroup.range.startLineNumber-3!=1){this.editor.focus();var t=this.settingsGroup.range.startLineNumber-2;this.editor.setPosition({lineNumber:t,column:this.editor.getModel().getLineMinColumn(t)})}break;case 18:var n=this.isCollapsed()?this.settingsGroup.range.startLineNumber:this.settingsGroup.range.startLineNumber-1;this.editor.focus(),this.editor.setPosition({lineNumber:n,column:this.editor.getModel().getLineMinColumn(n)})}},t.prototype.toggle=function(){this.collapse(!this.isCollapsed())},t.prototype.collapse=function(e){e!==this.isCollapsed()&&(i.toggleClass(this.titleContainer,"collapsed",e),this._onToggled.fire(e))},t.prototype.onCursorChange=function(e){"mouse"!==e.source&&this.focusTitle(e.position)&&this.titleContainer.focus()},t.prototype.focusTitle=function(e){var t=this.previousPosition;return this.previousPosition=e,!!t&&(t.lineNumber!==e.lineNumber&&(e.lineNumber===this.settingsGroup.range.startLineNumber-1||e.lineNumber===this.settingsGroup.range.startLineNumber-2||!(!this.isCollapsed()||e.lineNumber!==this.settingsGroup.range.endLineNumber)))},t.prototype.dispose=function(){var t=this;this.editor.changeViewZones(function(e){e.removeZone(t.id)}),e.prototype.dispose.call(this)},t}(s.Widget);t.SettingsGroupTitleWidget=I;var T=function(e){function t(t,n){var i=e.call(this)||this;return i.contextService=n,i._onSwitch=new a.Emitter,i.onSwitch=i._onSwitch.event,i.create(t),i}return h(t,e),t.prototype.create=function(e){var t=this,r=i.append(e,i.$(".settings-tabs-widget"));this.settingsSwitcherBar=this._register(new b.ActionBar(r,{orientation:b.ActionsOrientation.HORIZONTAL,ariaLabel:n.localize(0,null),animated:!1})),this.userSettings=new S.Action("userSettings",n.localize(1,null),".settings-tab",!0,function(){return t.onClick(t.userSettings)}),this.userSettings.tooltip=this.userSettings.label,this.workspaceSettings=new S.Action("workspaceSettings",n.localize(2,null),".settings-tab",this.contextService.hasWorkspace(),function(){return t.onClick(t.workspaceSettings)}),this.workspaceSettings.tooltip=this.workspaceSettings.label,this.settingsSwitcherBar.push([this.userSettings,this.workspaceSettings])},t.prototype.show=function(e){this.userSettings.checked=m.ConfigurationTarget.USER===e,this.workspaceSettings.checked=m.ConfigurationTarget.WORKSPACE===e},t.prototype.onClick=function(e){return e.checked||this._onSwitch.fire(),r.TPromise.as(null)},t}(s.Widget);T=v([y(1,g.IWorkspaceContextService)],T),t.SettingsTabsWidget=T;var k=function(e){function t(t,n,i,r,o,s){var c=e.call(this)||this;return c.options=n,c.contextViewService=i,c.contextMenuService=r,c.instantiationService=o,c.themeService=s,c._onDidChange=c._register(new a.Emitter),c.onDidChange=c._onDidChange.event,c._onNavigate=c._register(new a.Emitter),c.onNavigate=c._onNavigate.event,c.create(t),c}return h(t,e),t.prototype.create=function(e){var t=this;if(this.domNode=i.append(e,i.$("div.settings-header-widget")),this.createSearchContainer(i.append(this.domNode,i.$("div.settings-search-container"))),this.countElement=i.append(this.domNode,i.$(".settings-count-widget")),this._register(_.attachStylerCallback(this.themeService,{badgeBackground:C.badgeBackground,contrastBorder:C.contrastBorder},function(e){var n=e.badgeBackground?e.badgeBackground.toString():null,i=e.contrastBorder?e.contrastBorder.toString():null;t.countElement.style.backgroundColor=n,t.countElement.style.borderWidth=i?"1px":null,t.countElement.style.borderStyle=i?"solid":null,t.countElement.style.borderColor=i,t.styleCountElementForeground()})),this.inputBox.inputElement.setAttribute("aria-live","assertive"),this.options.focusKey){var n=this._register(i.trackFocus(this.inputBox.inputElement));this._register(n.addFocusListener(function(){return t.options.focusKey.set(!0)})),this._register(n.addBlurListener(function(){return t.options.focusKey.set(!1)}))}},t.prototype.createSearchContainer=function(e){var t=this;this.searchContainer=e;var n=i.append(this.searchContainer,i.$("div.settings-search-input"));this.inputBox=this._register(this.createInputBox(n)),this._register(this.inputBox.onDidChange(function(e){return t._onDidChange.fire(e)})),this.onkeydown(this.inputBox.inputElement,function(e){return t._onKeyDown(e)})},t.prototype.createInputBox=function(e){var t=this._register(new u.InputBox(e,this.contextViewService,this.options));return this._register(_.attachInputBoxStyler(t,this.themeService)),t},t.prototype.showMessage=function(e,t){this.countElement.textContent=e,this.inputBox.inputElement.setAttribute("aria-label",e),i.toggleClass(this.countElement,"no-results",0===t),this.inputBox.inputElement.style.paddingRight=i.getTotalWidth(this.countElement)+20+"px",this.styleCountElementForeground()},t.prototype.styleCountElementForeground=function(){var e=i.hasClass(this.countElement,"no-results")?C.errorForeground:C.badgeForeground,t=this.themeService.getTheme().getColor(e);this.countElement.style.color=t?t.toString():null},t.prototype.layout=function(e){e.width<400?(i.addClass(this.countElement,"hide"),this.inputBox.inputElement.style.paddingRight="0px"):(i.removeClass(this.countElement,"hide"),this.inputBox.inputElement.style.paddingRight=i.getTotalWidth(this.countElement)+20+"px")},t.prototype.focus=function(){this.inputBox.focus(),this.getValue()&&this.inputBox.select()},t.prototype.hasFocus=function(){return this.inputBox.hasFocus()},t.prototype.clear=function(){this.inputBox.value=""},t.prototype.getValue=function(){return this.inputBox.value},t.prototype.setValue=function(e){return this.inputBox.value=e},t.prototype._onKeyDown=function(e){var t=!1;switch(e.keyCode){case 3:this.options.navigateByEnter&&(this._onNavigate.fire(e.shiftKey),t=!0);break;case 9:this.clear(),t=!0}t&&(e.preventDefault(),e.stopPropagation())},t.prototype.dispose=function(){this.options.focusKey&&this.options.focusKey.set(!1),e.prototype.dispose.call(this)},t}(s.Widget);k=v([y(2,p.IContextViewService),y(3,p.IContextMenuService),y(4,d.IInstantiationService),y(5,E.IThemeService)],k),t.SearchWidget=k;var x=function(e){function t(t,n,i,r,o){var s=e.call(this)||this;if(s.editor=t,s.label=n,s.keyBindingAction=i,s.themeService=o,s._onClick=s._register(new a.Emitter),s.onClick=s._onClick.event,i){var c=r.lookupKeybinding(i);c&&(s.label+=" ("+c.getLabel()+")")}return s}return h(t,e),t.prototype.render=function(){var e=this;this._domNode=i.$(".floating-click-widget"),this._register(_.attachStylerCallback(this.themeService,{buttonBackground:C.buttonBackground,buttonForeground:C.buttonForeground},function(t){e._domNode.style.backgroundColor=t.buttonBackground,e._domNode.style.color=t.buttonForeground})),i.append(this._domNode,i.$("")).textContent=this.label,this.onclick(this._domNode,function(t){return e._onClick.fire()}),this.editor.addOverlayWidget(this)},t.prototype.dispose=function(){this.editor.removeOverlayWidget(this),e.prototype.dispose.call(this)},t.prototype.getId=function(){return"editor.overlayWidget.floatingClickWidget"},t.prototype.getDomNode=function(){return this._domNode},t.prototype.getPosition=function(){return{preference:c.OverlayWidgetPositionPreference.BOTTOM_RIGHT_CORNER}},t}(s.Widget);x=v([y(3,f.IKeybindingService),y(4,E.IThemeService)],x),t.FloatingClickWidget=x;var A=function(e){function t(t){var n=e.call(this)||this;return n.editor=t,n._onClick=new a.Emitter,n._editPreferenceDecoration=[],n._register(n.editor.onMouseDown(function(e){e.target.type===c.MouseTargetType.GUTTER_GLYPH_MARGIN&&!e.target.detail&&n.isVisible()&&n._onClick.fire(e)})),n}return h(t,e),Object.defineProperty(t.prototype,"onClick",{get:function(){return this._onClick.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preferences",{get:function(){return this._preferences},enumerable:!0,configurable:!0}),t.prototype.getLine=function(){return this._line},t.prototype.show=function(e,n,i){this._preferences=i;var r=[];this._line=e,r.push({options:{glyphMarginClassName:t.GLYPH_MARGIN_CLASS_NAME,glyphMarginHoverMessage:n,stickiness:l.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},range:{startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1}}),this._editPreferenceDecoration=this.editor.deltaDecorations(this._editPreferenceDecoration,r)},t.prototype.hide=function(){this._editPreferenceDecoration=this.editor.deltaDecorations(this._editPreferenceDecoration,[])},t.prototype.isVisible=function(){return this._editPreferenceDecoration.length>0},t.prototype.dispose=function(){this.hide(),e.prototype.dispose.call(this)},t}(o.Disposable);A.GLYPH_MARGIN_CLASS_NAME="edit-preferences-widget",t.EditPreferenceWidget=A}),define(u[1074],d([1,0,26,205,23,15,64,104]),function(e,t,n,i,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(t,n,i){var r=e.call(this,null,n)||this;return r.scope=i,r.update(t),r}return h(t,e),t.prototype.update=function(t){e.prototype.update.call(this,t);var n=Object.create(null);n[this.scope]=this.contents,this._contents=n},t}(i.CustomConfigurationModel);t.ScopedConfigurationModel=c;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.processRaw=function(t){this._raw=t;var n={};this._unsupportedKeys=[];var i=o.Registry.as(s.Extensions.Configuration).getConfigurationProperties();for(var r in t)this.isNotExecutable(r,i)?n[r]=t[r]:this._unsupportedKeys.push(r);return e.prototype.processRaw.call(this,n)},t.prototype.reprocess=function(){this.processRaw(this._raw)},Object.defineProperty(t.prototype,"unsupportedKeys",{get:function(){return this._unsupportedKeys||[]},enumerable:!0,configurable:!0}),t.prototype.isNotExecutable=function(e,t){var n=t[e];return!n||!n.isExecutable},t.prototype.createWorkspaceConfigurationModel=function(){return this.createScopedConfigurationModel(s.ConfigurationScope.WORKSPACE)},t.prototype.createFolderScopedConfigurationModel=function(){return this.createScopedConfigurationModel(s.ConfigurationScope.FOLDER)},t.prototype.createScopedConfigurationModel=function(e){var t={},a=o.Registry.as(s.Extensions.Configuration).getConfigurationProperties();for(var c in this._raw)this.getScope(c,a)===e&&(t[c]=this._raw[c]);var l=i.toValuesTree(t,function(e){return console.error("Conflict in workspace settings file: "+e)}),u=Object.keys(t);return new r.ConfigurationModel(l,u,n.clone(this._overrides))},t.prototype.getScope=function(e,t){var n=t[e];return n?n.scope:s.ConfigurationScope.WORKSPACE},t}(i.CustomConfigurationModel);t.FolderSettingsModel=l;var u=function(e){function t(t,n,i){var r=e.call(this)||this;return r.workspaceSettingsConfig=t,r.scopedConfigs=n,r.scope=i,r.consolidate(),r}return h(t,e),t.prototype.consolidate=function(){this._contents={},this._overrides=[],this.doMerge(this,s.ConfigurationScope.WORKSPACE===this.scope?this.workspaceSettingsConfig:this.workspaceSettingsConfig.createFolderScopedConfigurationModel());for(var e=0,t=this.scopedConfigs;e<t.length;e++){var n=t[e];this.doMerge(this,n)}},Object.defineProperty(t.prototype,"keys",{get:function(){var e=this.workspaceSettingsConfig.keys.slice();return this.scopedConfigs.forEach(function(t){Object.keys(a.WORKSPACE_STANDALONE_CONFIGURATIONS).forEach(function(n){t.scope===n&&e.push.apply(e,t.keys.map(function(e){return n+"."+e}))})}),e},enumerable:!0,configurable:!0}),t.prototype.update=function(){this.workspaceSettingsConfig.reprocess(),this.consolidate()},t}(i.CustomConfigurationModel);t.FolderConfigurationModel=u}),define(u[1075],d([1,0,16,28,4,8,70,34,26,7,131,5,79,18,76,292,27,43,11,205,1074,23,104,811,52,717,15,117,64]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,v,m,y,b,S,_,E,C,w,I,T,k,x,A){"use strict";function L(e,t){var n=e.properties;if(n){"object"!=typeof n&&(t.error(T.localize(6,null)),e.properties={});for(var i in n){var r=A.validateProperty(i);r&&(t.warn(r),delete n[i])}}var o=e.allOf;if(o)for(var s=0,a=o;s<a.length;s++)L(a[s],t)}function P(e){var t=[];return r.TPromise.join(e.map(function(e){return D(e).then(function(e){t.push(e)})})).then(function(){return t})}function D(e){return g.readFile(e.fsPath).then(function(t){return{resource:e,value:t.toString()}})}function O(e){return new r.TPromise(function(t,r){v.readdir(e.fsPath,function(o,s){o?"ENOTDIR"===o.code?t({resource:e}):r(o):t({resource:e,isDirectory:!0,children:s.map(function(t){return{resource:n.default.file(i.join(e.fsPath,t))}})})})})}Object.defineProperty(t,"__esModule",{value:!0});var R=k.Registry.as(A.Extensions.Configuration);x.ExtensionsRegistry.registerExtensionPoint("configuration",[],{description:T.localize(0,null),type:"object",defaultSnippets:[{body:{title:"",properties:{}}}],properties:{title:{description:T.localize(1,null),type:"string"},properties:{description:T.localize(2,null),type:"object",additionalProperties:{anyOf:[{$ref:"http://json-schema.org/draft-04/schema#"},{type:"object",properties:{isExecutable:{type:"boolean"}}}]}}}}).setHandler(function(e){for(var t=[],n=0;n<e.length;n++){var i=c.clone(e[n].value),r=e[n].collector;i.type&&"object"!==i.type?r.warn(T.localize(3,null)):i.type="object",i.title&&"string"!=typeof i.title&&r.error(T.localize(4,null)),L(i,r),i.id=e[n].description.id,t.push(i)}R.registerConfigurations(t,!1)}),x.ExtensionsRegistry.registerExtensionPoint("configurationDefaults",[],{description:T.localize(5,null),type:"object",defaultSnippets:[{body:{}}],patternProperties:{"\\[.*\\]$":{type:"object",default:{},$ref:A.editorConfigurationSchemaId}}}).setHandler(function(e){var t=e.map(function(e){return{id:e.description.id,name:e.description.name,defaults:c.clone(e.value)}});R.registerDefaultConfigurations(t)});var M=function(e){function t(t,n,i){void 0===i&&(i=C.WORKSPACE_CONFIG_FOLDER_DEFAULT_NAME);var r=e.call(this)||this;return r.environmentService=t,r.workspace=n,r.workspaceSettingsRootFolder=i,r._onDidChangeWorkspaceRoots=r._register(new o.Emitter),r.onDidChangeWorkspaceRoots=r._onDidChangeWorkspaceRoots.event,r._onDidUpdateConfiguration=r._register(new o.Emitter),r.onDidUpdateConfiguration=r._onDidUpdateConfiguration.event,r.legacyWorkspace=r.workspace&&r.workspace.roots.length?new m.LegacyWorkspace(r.workspace.roots[0]):null,r._register(r.onDidUpdateConfiguration(function(e){return r.resolveAdditionalFolders()})),r.baseConfigurationService=r._register(new w.ConfigurationService(t)),r._register(r.baseConfigurationService.onDidUpdateConfiguration(function(e){return r.onBaseConfigurationChanged(e)})),r._register(r.onDidChangeWorkspaceRoots(function(e){return r.onRootsChanged()})),r.initCaches(),r}return h(t,e),t.prototype.resolveAdditionalFolders=function(){if(this.workspace&&"stable"!==this.environmentService.appQuality){var e=this.workspace.roots[0],t=[e],i=this.getConfiguration("workspace");if(i){var r=i[e.toString(!0)];if(r){var o=r.folders.map(function(e){return n.default.parse(e)}).filter(function(e){return e.scheme===p.Schemas.file});t.push.apply(t,o)}}t=a.distinct(t,function(e){return e.toString()}),!a.equals(this.workspace.roots,t,function(e,t){return e.toString()===t.toString()})&&(this.workspace.roots=t,this.workspace.name=t.map(function(e){return I.basename(e.fsPath)||e.fsPath}).join(", "),this._onDidChangeWorkspaceRoots.fire())}},t.prototype.getWorkspace=function(){return this.legacyWorkspace},t.prototype.getWorkspace2=function(){return this.workspace},t.prototype.hasWorkspace=function(){return!!this.workspace},t.prototype.getRoot=function(e){return this.workspace?this.workspace.getRoot(e):null},Object.defineProperty(t.prototype,"workspaceUri",{get:function(){return this.workspace?this.workspace.roots[0]:null},enumerable:!0,configurable:!0}),t.prototype.isInsideWorkspace=function(e){return!!this.getRoot(e)},t.prototype.toWorkspaceRelativePath=function(e,t){return this.workspace?this.legacyWorkspace.toWorkspaceRelativePath(e,t):null},t.prototype.toResource=function(e){return this.workspace?this.legacyWorkspace.toResource(e):null},t.prototype.getConfigurationData=function(){return this._configuration.toData()},Object.defineProperty(t.prototype,"configuration",{get:function(){return this._configuration},enumerable:!0,configurable:!0}),t.prototype.getConfiguration=function(e,t){return this._configuration.getValue(e,t)},t.prototype.lookup=function(e,t){return this._configuration.lookup(e,t)},t.prototype.keys=function(){return this._configuration.keys()},t.prototype.values=function(){return this._configuration.values()},t.prototype.getUnsupportedWorkspaceKeys=function(){return this.workspace?this._configuration.getFolderConfigurationModel(this.workspace.roots[0]).workspaceSettingsConfig.unsupportedKeys:[]},t.prototype.reloadConfiguration=function(e){var t=this,n=this._configuration;return this.baseConfigurationService.reloadConfiguration().then(function(){return t.initialize(!1)}).then(function(){return!t._configuration.equals(n)}).then(function(e){return e?t.trigger(E.ConfigurationSource.Workspace):void 0}).then(function(){return t.getConfiguration(e)})},t.prototype.handleWorkspaceFileEvents=function(e){var t=this;this.workspace&&r.TPromise.join(this.workspace.roots.map(function(n){return t.cachedFolderConfigs.get(n).handleWorkspaceFileEvents(e)})).then(function(e){return e.map(function(e,n){return{configuration:e,folder:t.workspace.roots[n]}}).filter(function(e){return!!e.configuration}).map(function(e){return t.updateFolderConfiguration(e.folder,e.configuration,!0)}).reduce(function(e,t){return e||t},!1)}).then(function(e){return e?t.trigger(E.ConfigurationSource.Workspace):void 0})},t.prototype.initialize=function(e){var t=this;return void 0===e&&(e=!0),this.initCaches(),this.doInitialize(this.workspace?this.workspace.roots:[]).then(function(){e&&t.trigger(t.workspace?E.ConfigurationSource.Workspace:E.ConfigurationSource.User)})},t.prototype.onRootsChanged=function(){var e=this;if(this.workspace){for(var t=!1,n=this,i=0,r=this.cachedFolderConfigs.keys();i<r.length;i++)!function(e){n.workspace.roots.filter(function(t){return t.toString()===e.toString()})[0]||(n.cachedFolderConfigs.delete(e),n._configuration.deleteFolderConfiguration(e)&&(t=!0))}(r[i]);var o=this.workspace.roots.filter(function(t){return!e.cachedFolderConfigs.has(t)});o.length&&(this.initCachesForFolders(o),this.doInitialize(o).then(function(e){return t||e}).then(function(t){return t?e.trigger(E.ConfigurationSource.Workspace):void 0}))}},t.prototype.initCaches=function(){this.cachedFolderConfigs=new s.StrictResourceMap,this._configuration=new F(this.baseConfigurationService.configuration(),new E.ConfigurationModel,new s.StrictResourceMap,this.workspace),this.initCachesForFolders(this.workspace?this.workspace.roots:[])},t.prototype.initCachesForFolders=function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];this.cachedFolderConfigs.set(i,this._register(new N(i,this.workspaceSettingsRootFolder,this.workspace))),this.updateFolderConfiguration(i,new _.FolderConfigurationModel(new _.FolderSettingsModel(null),[],A.ConfigurationScope.FOLDER),!1)}},t.prototype.doInitialize=function(e){var t=this;return r.TPromise.join(e.map(function(e){return t.cachedFolderConfigs.get(e).loadConfiguration().then(function(n){return t.updateFolderConfiguration(e,n,!0)})})).then(function(e){return e.reduce(function(e,t){return e||t},!1)}).then(function(e){return t.updateWorkspaceConfiguration(!0)||e})},t.prototype.onBaseConfigurationChanged=function(e){var t=this;e.source===E.ConfigurationSource.Default&&this.workspace&&this.workspace.roots.forEach(function(e){return t._configuration.getFolderConfigurationModel(e).update()}),this._configuration.updateBaseConfiguration(this.baseConfigurationService.configuration())&&this.trigger(e.source,e.sourceConfig)},t.prototype.trigger=function(e,t){t||(t=this.workspace?this._configuration.getFolderConfigurationModel(this.workspace.roots[0]).contents:this._configuration.user.contents),this._onDidUpdateConfiguration.fire({source:e,sourceConfig:t})},t.prototype.updateFolderConfiguration=function(e,t,n){var i=!1;return this.workspace&&(i=this._configuration.updateFolderConfiguration(e,t,n),this.workspace.roots[0].fsPath===e.fsPath&&(i=this.updateWorkspaceConfiguration(n)||i)),i},t.prototype.updateWorkspaceConfiguration=function(e){if(this.workspace){var t=this._configuration.getFolderConfigurationModel(this.workspace.roots[0]);return this._configuration.updateWorkspaceConfiguration(1===this.workspace.roots.length?t:t.workspaceSettingsConfig.createWorkspaceConfigurationModel(),e)}return!1},t}(d.Disposable);t.WorkspaceConfigurationService=M;var N=function(e){function t(n,i,r){var s=e.call(this)||this;return s.folder=n,s.configFolderRelativePath=i,s.workspace=r,s.reloadConfigurationEventEmitter=new o.Emitter,s.workspaceFilePathToConfiguration=Object.create(null),s.reloadConfigurationScheduler=s._register(new f.RunOnceScheduler(function(){return s.loadConfiguration().then(function(e){return s.reloadConfigurationEventEmitter.fire(e)},l.onUnexpectedError)},t.RELOAD_CONFIGURATION_DELAY)),s}return h(t,e),t.prototype.loadConfiguration=function(){var e=this;return this.workspace?this.loadWorkspaceConfigFiles().then(function(t){var n=t[C.WORKSPACE_CONFIG_DEFAULT_PATH]||new _.FolderSettingsModel(null),i=Object.keys(t).filter(function(e){return e!==C.WORKSPACE_CONFIG_DEFAULT_PATH}).map(function(e){return t[e]});return new _.FolderConfigurationModel(n,i,1===e.workspace.roots.length?A.ConfigurationScope.WORKSPACE:A.ConfigurationScope.FOLDER)}):r.TPromise.wrap(new _.FolderConfigurationModel(new _.FolderSettingsModel(null),[],A.ConfigurationScope.FOLDER))},t.prototype.loadWorkspaceConfigFiles=function(){var e=this;return this.bulkFetchFromWorkspacePromise||(this.bulkFetchFromWorkspacePromise=O(this.toResource(this.configFolderRelativePath)).then(function(t){return t.isDirectory?P(t.children.filter(function(t){return!(".json"!==i.extname(t.resource.fsPath))&&e.isWorkspaceConfigurationFile(e.toFolderRelativePath(t.resource))}).map(function(e){return e.resource})):r.TPromise.as([])},function(e){return[]}).then(function(t){t.forEach(function(t){return e.workspaceFilePathToConfiguration[e.toFolderRelativePath(t.resource)]=r.TPromise.as(e.createConfigModel(t))})},l.onUnexpectedError)),this.bulkFetchFromWorkspacePromise.then(function(){return r.TPromise.join(e.workspaceFilePathToConfiguration)})},t.prototype.handleWorkspaceFileEvents=function(e){var t=this;if(!this.workspace)return r.TPromise.wrap(null);for(var n=e.changes,o=!1,s=0,a=n.length;s<a;s++){var c=n[s].resource,d=".json"===i.extname(c.fsPath),h=n[s].type===y.FileChangeType.DELETED&&i.isEqual(i.basename(c.fsPath),this.configFolderRelativePath);if(d||h){var p=this.toFolderRelativePath(c);if(p&&(p===this.configFolderRelativePath&&n[s].type===y.FileChangeType.DELETED&&(this.workspaceFilePathToConfiguration=Object.create(null),o=!0),this.isWorkspaceConfigurationFile(p)))switch(n[s].type){case y.FileChangeType.DELETED:o=u.remove(this.workspaceFilePathToConfiguration,p);break;case y.FileChangeType.UPDATED:case y.FileChangeType.ADDED:this.workspaceFilePathToConfiguration[p]=D(c).then(function(e){return t.createConfigModel(e)},l.onUnexpectedError),o=!0}}}return o?new r.TPromise(function(e,n){var i=t.reloadConfigurationEventEmitter.event(function(t){i.dispose(),e(t)});t.reloadConfigurationScheduler.isScheduled()||t.reloadConfigurationScheduler.schedule()}):r.TPromise.as(null)},t.prototype.createConfigModel=function(e){var t=this.toFolderRelativePath(e.resource);if(t===C.WORKSPACE_CONFIG_DEFAULT_PATH)return new _.FolderSettingsModel(e.value,e.resource.toString());var n=/\/([^\.]*)*\.json/.exec(t);return n&&n[1]?new _.ScopedConfigurationModel(e.value,e.resource.toString(),n[1]):new S.CustomConfigurationModel(null)},t.prototype.isWorkspaceConfigurationFile=function(e){return[C.WORKSPACE_CONFIG_DEFAULT_PATH,C.WORKSPACE_STANDALONE_CONFIGURATIONS.launch,C.WORKSPACE_STANDALONE_CONFIGURATIONS.tasks].some(function(t){return t===e})},t.prototype.toResource=function(e){return"string"==typeof e?n.default.file(i.join(this.folder.fsPath,e)):null},t.prototype.toFolderRelativePath=function(e,t){return this.contains(e)?i.normalize(i.relative(this.folder.fsPath,e.fsPath),t):null},t.prototype.contains=function(e){return!!e&&i.isEqualOrParent(e.fsPath,this.folder.fsPath,!b.isLinux)},t}(d.Disposable);N.RELOAD_CONFIGURATION_DELAY=50;var F=function(e){function t(t,n,i,r){var o=e.call(this,t.defaults,t.user,n,i,r)||this;return o._baseConfiguration=t,o.folders=i,o}return h(t,e),t.prototype.updateBaseConfiguration=function(e){var n=new t(this._baseConfiguration,this._workspaceConfiguration,this.folders,this._workspace);return this._defaults=e.defaults,this._user=e.user,this.merge(),!this.equals(n)},t.prototype.updateWorkspaceConfiguration=function(e,n){void 0===n&&(n=!0);var i=new t(this._baseConfiguration,this._workspaceConfiguration,this.folders,this._workspace);return this._workspaceConfiguration=e,this.merge(),n&&!this.equals(i)},t.prototype.updateFolderConfiguration=function(e,t,n){var i=this.getValue(null,{resource:e});return this.folders.set(e,t),this.mergeFolder(e),n&&!c.equals(i,this.getValue(null,{resource:e}))},t.prototype.deleteFolderConfiguration=function(e){return(!this._workspace||this._workspace.roots[0].fsPath!==e.fsPath)&&(this.folders.delete(e),this._foldersConsolidatedConfigurations.delete(e))},t.prototype.getFolderConfigurationModel=function(e){return this.folders.get(e)},t.prototype.equals=function(e){if(!(e&&e instanceof t))return!1;if(!c.equals(this.getValue(),e.getValue()))return!1;if(this._foldersConsolidatedConfigurations.size!==e._foldersConsolidatedConfigurations.size)return!1;for(var n=0,i=this._foldersConsolidatedConfigurations.keys();n<i.length;n++){var r=i[n];if(!c.equals(this.getValue(null,{resource:r}),e.getValue(null,{resource:r})))return!1}return!0},t}(E.Configuration)}),define(u[226],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IConfigurationResolverService=n.createDecorator("configurationResolverService")}),define(u[1077],d([1,0,130,52,582,4,12,26,28,11,67,226,23,32]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t,n,i,r){this.rawAdapter=e,this.extensionDescription=t,this.configurationResolverService=n,this.configurationService=i,this.commandService=r,e.windows&&(e.win=e.windows)}return e.prototype.getAdapterExecutable=function(e){var t=this;if(void 0===e&&(e=!0),this.rawAdapter.adapterExecutableCommand)return this.commandService.executeCommand(this.rawAdapter.adapterExecutableCommand).then(function(n){return t.verifyAdapterDetails(n,e)});var n={command:this.getProgram(),args:this.getAttributeBasedOnPlatform("args")},i=this.getRuntime();if(i){var r=this.getAttributeBasedOnPlatform("runtimeArgs");n.args=(r||[]).concat([n.command]).concat(n.args||[]),n.command=i}return this.verifyAdapterDetails(n,e)},e.prototype.verifyAdapterDetails=function(e,t){if(e.command){if(!t)return o.TPromise.as(e);if(i.isAbsolute(e.command))return new o.TPromise(function(t,i){n.exists(e.command,function(n){n?t(e):i(new Error(r.localize(0,null,e.command)))})});if(e.command.indexOf("/")<0&&e.command.indexOf("\\")<0)return o.TPromise.as(e)}return o.TPromise.wrapError(new Error(r.localize(1,null,e.command)))},e.prototype.getRuntime=function(){var e=this.getAttributeBasedOnPlatform("runtime");return e&&0===e.indexOf("./")&&(e=this.configurationResolverService?this.configurationResolverService.resolve(e):e,e=c.join(this.extensionDescription.extensionFolderPath,e)),e},e.prototype.getProgram=function(){var e=this.getAttributeBasedOnPlatform("program");return e&&(e=this.configurationResolverService?this.configurationResolverService.resolve(e):e,e=c.join(this.extensionDescription.extensionFolderPath,e)),e},Object.defineProperty(e.prototype,"aiKey",{get:function(){return this.rawAdapter.aiKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this.rawAdapter.label||this.rawAdapter.type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this.rawAdapter.type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"variables",{get:function(){return this.rawAdapter.variables},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"configurationSnippets",{get:function(){return this.rawAdapter.configurationSnippets},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"languages",{get:function(){return this.rawAdapter.languages},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startSessionCommand",{get:function(){return this.rawAdapter.startSessionCommand},enumerable:!0,configurable:!0}),e.prototype.merge=function(e,t){t.isBuiltin&&(this.extensionDescription=t),a.mixin(this.rawAdapter,e,t.isBuiltin)},e.prototype.hasInitialConfiguration=function(){return!!this.rawAdapter.initialConfigurations},e.prototype.getInitialConfigurationContent=function(){var e=this.configurationService.getConfiguration();return"string"==typeof this.rawAdapter.initialConfigurations?this.commandService.executeCommand(this.rawAdapter.initialConfigurations).then(function(t){return e.editor.insertSpaces&&(t=t.replace(new RegExp("\t","g"),s.repeat(" ",e.editor.tabSize))),t}):o.TPromise.as(JSON.stringify({version:"0.2.0",configurations:this.rawAdapter.initialConfigurations||[]},null,e.editor&&e.editor.insertSpaces?s.repeat(" ",e.editor.tabSize):"\t"))},e.prototype.getSchemaAttributes=function(){var e=this;return this.rawAdapter.configurationAttributes?Object.keys(this.rawAdapter.configurationAttributes).map(function(t){var n=e.rawAdapter.configurationAttributes[t],i=["name","type","request"];n.required=n.required&&n.required.length?i.concat(n.required):i,n.additionalProperties=!1,n.type="object",n.properties||(n.properties={});var o=n.properties;o.type={enum:[e.type],description:r.localize(2,null),pattern:"^(?!node2)",errorMessage:r.localize(3,null),patternErrorMessage:r.localize(4,null)},o.name={type:"string",description:r.localize(5,null),default:"Launch"},o.request={enum:[t],description:r.localize(6,null)},o.debugServer={type:"number",description:r.localize(7,null),default:4711},o.preLaunchTask={type:["string","null"],default:null,description:r.localize(8,null)},o.internalConsoleOptions=u.INTERNAL_CONSOLE_OPTIONS_SCHEMA;var s=a.deepClone(o);return o.windows={type:"object",description:r.localize(9,null),properties:s},o.osx={type:"object",description:r.localize(10,null),properties:s},o.linux={type:"object",description:r.localize(11,null),properties:s},Object.keys(n.properties).forEach(function(e){n.properties[e].pattern=n.properties[e].pattern||"^(?!.*\\$\\{(env|config|command)\\.)",n.properties[e].patternErrorMessage=n.properties[e].patternErrorMessage||r.localize(12,null)}),n}):null},e.prototype.getAttributeBasedOnPlatform=function(e){var t;return l.isWindows&&!process.env.hasOwnProperty("PROCESSOR_ARCHITEW6432")&&this.rawAdapter.winx86?t=this.rawAdapter.winx86[e]:l.isWindows&&this.rawAdapter.win?t=this.rawAdapter.win[e]:l.isMacintosh&&this.rawAdapter.osx?t=this.rawAdapter.osx[e]:l.isLinux&&this.rawAdapter.linux&&(t=this.rawAdapter.linux[e]),t||this.rawAdapter[e]},e}();f=v([y(2,d.IConfigurationResolverService),y(3,h.IConfigurationService),y(4,p.ICommandService)],f),t.Adapter=f}),define(u[1078],d([1,0,4,36,21,49,9,41,19,20,38,97]),function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function e(e,t,n){this.messageService=e,this.telemetryService=t,this.keybindingService=n}return e.prototype.showContextMenu=function(e){var t=this;e.getActions().then(function(i){return i.length?n.TPromise.timeout(0).then(function(){var n,r,o=t.createMenu(e,i),a=e.getAnchor();if(s.isHTMLElement(a)){var c=s.getDomNodePagePosition(a);n=c.left,r=c.top+c.height}else{var l=a;n=l.x,r=l.y}var u=d.webFrame.getZoomFactor();n*=u,r*=u,o.popup(d.remote.getCurrentWindow(),Math.floor(n),Math.floor(r)),e.onHide&&e.onHide(void 0)}):n.TPromise.as(null)})},e.prototype.createMenu=function(e,t){var n=this,i=new d.remote.Menu,s=e.actionRunner||new r.ActionRunner;return t.forEach(function(t){if(t instanceof o.Separator)i.append(new d.remote.MenuItem({type:"separator"}));else if(t instanceof a.ContextSubMenu){var r=new d.remote.MenuItem({submenu:n.createMenu(e,t.entries),label:t.label});i.append(r)}else{var c={label:t.label,checked:!!t.checked||!!t.radio,type:t.checked?"checkbox":t.radio?"radio":void 0,enabled:!!t.enabled,click:function(i,r,o){n.runAction(s,t,e,o)}},l=e.getKeyBinding?e.getKeyBinding(t):n.keybindingService.lookupKeybinding(t.id);if(l){var u=l.getElectronAccelerator();if(u)c.accelerator=u;else{var h=l.getLabel();h&&(c.label=c.label+" ["+h+"]")}}var p=new d.remote.MenuItem(c);i.append(p)}}),i},e.prototype.runAction=function(e,t,r,o){var s=this;this.telemetryService.publicLog("workbenchActionExecuted",{id:t.id,from:"contextMenu"});var a=r.getActionsContext?r.getActionsContext(o):o;(e.run(t,a)||n.TPromise.as(null)).done(null,function(e){return s.messageService.show(i.default.Error,e)})},e}();h=v([y(0,l.IMessageService),y(1,c.ITelemetryService),y(2,u.IKeybindingService)],h),t.ContextMenuService=h}),define(u[301],d([1,0,719,64,15,6]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ICrashReporterService=o.createDecorator("crashReporterService"),t.TELEMETRY_SECTION_ID="telemetry",r.Registry.as(i.Extensions.Configuration).registerConfiguration({id:t.TELEMETRY_SECTION_ID,order:110,title:n.localize(0,null),type:"object",properties:{"telemetry.enableCrashReporter":{type:"boolean",description:n.localize(1,null),default:!0}}}),t.NullCrashReporterService={_serviceBrand:void 0,getChildProcessStartOptions:function(e){}}}),define(u[1080],d([1,0,7,26,23,62,19,97,80,136,96,301,11]),function(e,t,n,i,r,o,s,a,c,l,u,d,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(e,t,n){this.telemetryService=e,this.windowsService=t;var i=n.getConfiguration(d.TELEMETRY_SECTION_ID);this.isEnabled=!!i.enableCrashReporter,this.isEnabled&&this.startCrashReporter()}return e.prototype.startCrashReporter=function(){var e=this;this.options={companyName:c.default.crashReporter.companyName,productName:c.default.crashReporter.productName,submitURL:this.getSubmitURL(),extra:{vscode_version:l.default.version,vscode_commit:c.default.commit}},this.telemetryService.getTelemetryInfo().then(function(t){return i.assign(e.options.extra,{vscode_sessionId:t.sessionId,vscode_machineId:t.machineId}),a.crashReporter.start(i.clone(e.options)),e.windowsService.startCrashReporter(e.options)}).done(null,n.onUnexpectedError)},e.prototype.getSubmitURL=function(){var e;return h.isWindows?e=c.default.hockeyApp["win32-"+process.arch]:h.isMacintosh?e=c.default.hockeyApp.darwin:h.isLinux&&(e=c.default.hockeyApp["linux-"+process.arch]),e},e.prototype.getChildProcessStartOptions=function(e){if(this.isEnabled&&h.isMacintosh){var t=i.clone(this.options);return t.extra.processName=e,t.crashesDirectory=u.tmpdir(),t}},e}();p=v([y(0,s.ITelemetryService),y(1,o.IWindowsService),y(2,r.IConfigurationService)],p),t.CrashReporterService=p}),define(u[22],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWorkbenchEditorService=n.createDecorator("editorService")}),define(u[296],d([1,0,8,33,22,30,28,147,77]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e){this.editorService=e,this.rangeHighlightDecorationId=null,this.editor=null,this.editorDisposables=[],this._onHighlightRemoved=new n.Emitter,this.onHighlghtRemoved=this._onHighlightRemoved.event}return e.prototype.removeHighlightRange=function(){this.editor&&this.editor.getModel()&&this.rangeHighlightDecorationId&&(this.editor.deltaDecorations([this.rangeHighlightDecorationId],[]),this._onHighlightRemoved.fire()),this.rangeHighlightDecorationId=null},e.prototype.highlightRange=function(e,t){(t=t||this.getEditor(e))&&this.doHighlightRange(t,e)},e.prototype.doHighlightRange=function(e,t){var n=this;this.removeHighlightRange(),e.changeDecorations(function(e){n.rangeHighlightDecorationId=e.addDecoration(t.range,n.createRangeHighlightDecoration(t.isWholeLine))}),this.setEditor(e)},e.prototype.getEditor=function(e){var t=o.toResource(this.editorService.getActiveEditorInput(),{filter:"file"});return t&&s.isEqual(t.fsPath,e.resource.fsPath)?this.editorService.getActiveEditor().getControl():null},e.prototype.setEditor=function(e){var t=this;this.editor!==e&&(this.disposeEditorListeners(),this.editor=e,this.editorDisposables.push(this.editor.onDidChangeCursorPosition(function(e){e.reason!==a.CursorChangeReason.NotSet&&e.reason!==a.CursorChangeReason.Explicit&&e.reason!==a.CursorChangeReason.Undo&&e.reason!==a.CursorChangeReason.Redo||t.removeHighlightRange()})),this.editorDisposables.push(this.editor.onDidChangeModel(function(){t.removeHighlightRange()})),this.editorDisposables.push(this.editor.onDidDispose(function(){t.removeHighlightRange(),t.editor=null})))},e.prototype.disposeEditorListeners=function(){this.editorDisposables.forEach(function(e){return e.dispose()}),this.editorDisposables=[]},e.prototype.createRangeHighlightDecoration=function(t){return void 0===t&&(t=!0),t?e._WHOLE_LINE_RANGE_HIGHLIGHT:e._RANGE_HIGHLIGHT},e.prototype.dispose=function(){this.editor&&this.editor.getModel()&&(this.removeHighlightRange(),this.disposeEditorListeners(),this.editor=null)},e}();l._WHOLE_LINE_RANGE_HIGHLIGHT=c.ModelDecorationOptions.register({stickiness:i.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"rangeHighlight",isWholeLine:!0}),l._RANGE_HIGHLIGHT=c.ModelDecorationOptions.register({stickiness:i.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"rangeHighlight"}),l=v([y(0,r.IWorkbenchEditorService)],l),t.RangeHighlightDecorations=l}),define(u[366],d([1,0,12,16,11,7,86,564,22,27]),function(e,t,n,i,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){this.editorService=e,this.contextService=t}return e.prototype.handleLinks=function(t){for(var o,c=this,l=0,u=e.FILE_LOCATION_PATTERNS;l<u.length;l++){var d=u[l];d.lastIndex=0;for(var h=0,p=d.exec(t),f=function(){var e=null;try{e=p&&!n.startsWith(p[0],"http")&&(p[2]||n.startsWith(p[1],"/")?i.default.file(p[1]):g.contextService.toResource(p[1]))}catch(e){}if(!e)return p=d.exec(t),"continue";o||(o=document.createElement("span"));var l=t.substring(h,p.index);l&&((b=document.createElement("span")).textContent=l,o.appendChild(b));var u=document.createElement("a");u.textContent=t.substr(p.index,p[0].length),u.title=r.isMacintosh?a.localize(0,null):a.localize(1,null),o.appendChild(u);var f=Number(p[3]),v=p[4]?Number(p[4]):void 0;u.onclick=function(t){return c.onLinkClick(new s.StandardMouseEvent(t),e,f,v)},h=d.lastIndex;var m=p;if(!(p=d.exec(t))){var y=t.substr(m.index+m[0].length);if(y){var b=document.createElement("span");b.textContent=y,o.appendChild(b)}}},g=this;null!==p;)f()}return o||t},e.prototype.onLinkClick=function(e,t,n,i){void 0===i&&(i=0),"Range"!==window.getSelection().type&&(e.preventDefault(),this.editorService.openEditor({resource:t,options:{selection:{startLineNumber:n,startColumn:i}}},e.ctrlKey||e.metaKey).done(null,o.onUnexpectedError))},e}();u.FILE_LOCATION_PATTERNS=[/(?![\(])(?:file:\/\/)?((?:([a-zA-Z]+:)|[^\(\)<>\'\"\[\]:\s]+)(?:[\\/][^\(\)<>\'\"\[\]:]*)?\.[a-zA-Z]+[0-9]*):(\d+)(?::(\d+))?/g],u=v([y(0,c.IWorkbenchEditorService),y(1,l.IWorkspaceContextService)],u),t.LinkDetector=u}),define(u[1084],d([1,0,563,9,260,41,67,18,13,58,29,6,366,978]),function(e,t,n,i,r,o,s,a,c,l,u,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=i.$;t.debugExceptionWidgetBorder=u.registerColor("debugExceptionWidget.border",{dark:"#a31515",light:"#a31515",hc:"#a31515"},n.localize(0,null)),t.debugExceptionWidgetBackground=u.registerColor("debugExceptionWidget.background",{dark:"#a3151540",light:"#a315150d",hc:"#a3151573"},n.localize(1,null));var g=function(e){function r(t,n,i,r,o,s,c){var u=e.call(this,t,{showFrame:!0,showArrow:!0,frameWidth:1,className:"exception-widget-container"})||this;u.exceptionInfo=n,u.lineNumber=i,u.contextViewService=r,u.debugService=o,u.instantiationService=c,u._backgroundColor=l.Color.white,u._applyTheme(s.getTheme()),u._disposables.push(s.onThemeChange(u._applyTheme.bind(u))),u.create();var d=new a.RunOnceScheduler(function(){return u._doLayout(void 0,void 0)},50);return u._disposables.push(u.editor.onDidLayoutChange(function(){return d.schedule()})),u._disposables.push(d),u}return h(r,e),r.prototype._applyTheme=function(e){this._backgroundColor=e.getColor(t.debugExceptionWidgetBackground);var n=e.getColor(t.debugExceptionWidgetBorder);this.style({arrowColor:n,frameColor:n})},r.prototype._applyStyles=function(){this.container&&(this.container.style.backgroundColor=this._backgroundColor.toString()),e.prototype._applyStyles.call(this)},r.prototype._fillContainer=function(e){this.setCssClass("exception-widget");var t=this.editor.getConfiguration().fontInfo;this.container.style.fontSize=t.fontSize+"px",this.container.style.lineHeight=t.lineHeight+"px";var r=f(".title");if(r.textContent=this.exceptionInfo.id?n.localize(2,null,this.exceptionInfo.id):n.localize(3,null),i.append(e,r),this.exceptionInfo.description){var o=f(".description");o.textContent=this.exceptionInfo.description,i.append(e,o)}if(this.exceptionInfo.details&&this.exceptionInfo.details.stackTrace){var s=f(".stack-trace"),a=this.instantiationService.createInstance(p.LinkDetector).handleLinks(this.exceptionInfo.details.stackTrace);"string"==typeof a?s.textContent=a:s.appendChild(a),i.append(e,s)}},r.prototype._doLayout=function(e,t){this.container.style.height="initial";var n=this.editor.getConfiguration().lineHeight,i=Math.round(n/3),r=Math.ceil((this.container.offsetHeight+i)/n);this._relayout(r)},r}(r.ZoneWidget);g=v([y(3,o.IContextViewService),y(4,s.IDebugService),y(5,c.IThemeService),y(6,d.IInstantiationService)],g),t.ExceptionWidget=g}),define(u[1085],d([1,0,570,4,12,11,26,16,79,28,33,117,15,123,23,43,19,27,6,32,67,1077,22,54,226]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,m,b,S,_,E,C,w,I,T){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debuggersExtPoint=d.ExtensionsRegistry.registerExtensionPoint("debuggers",[],{description:n.localize(0,null),type:"array",defaultSnippets:[{body:[{type:"",extensions:[]}]}],items:{type:"object",defaultSnippets:[{body:{type:"",program:"",runtime:"",enableBreakpointsFor:{languageIds:[""]}}}],properties:{type:{description:n.localize(1,null),type:"string"},label:{description:n.localize(2,null),type:"string"},program:{description:n.localize(3,null),type:"string"},args:{description:n.localize(4,null),type:"array"},runtime:{description:n.localize(5,null),type:"string"},runtimeArgs:{description:n.localize(6,null),type:"array"},variables:{description:n.localize(7,null),type:"object"},initialConfigurations:{description:n.localize(8,null),type:["array","string"]},languages:{description:n.localize(9,null),type:"array"},adapterExecutableCommand:{description:n.localize(10,null),type:"string"},startSessionCommand:{description:n.localize(11,null),type:"string"},configurationSnippets:{description:n.localize(12,null),type:"array"},configurationAttributes:{description:n.localize(13,null),type:"object"},windows:{description:n.localize(14,null),type:"object",properties:{runtime:{description:n.localize(15,null),type:"string"}}},osx:{description:n.localize(16,null),type:"object",properties:{runtime:{description:n.localize(17,null),type:"string"}}},linux:{description:n.localize(18,null),type:"object",properties:{runtime:{description:n.localize(19,null),type:"string"}}}}}});var k=d.ExtensionsRegistry.registerExtensionPoint("breakpoints",[],{description:n.localize(20,null),type:"array",defaultSnippets:[{body:[{language:""}]}],items:{type:"object",defaultSnippets:[{body:{language:""}}],properties:{language:{description:n.localize(21,null),type:"string"}}}});t.schemaId="vscode://schemas/launch";var x={name:"Compound",configurations:[]},A={id:t.schemaId,type:"object",title:n.localize(22,null),required:["version","configurations"],default:{version:"0.2.0",configurations:[],compounds:[]},properties:{version:{type:"string",description:n.localize(23,null),default:"0.2.0"},configurations:{type:"array",description:n.localize(24,null),items:{defaultSnippets:[],type:"object",oneOf:[]}},compounds:{type:"array",description:n.localize(25,null),items:{type:"object",required:["name","configurations"],properties:{name:{type:"string",description:n.localize(26,null)},configurations:{type:"array",default:[],items:{type:"string"},description:n.localize(27,null)}},default:x},default:[x]}}};h.Registry.as(p.Extensions.JSONContribution).registerSchema(t.schemaId,A);var L=function(){function e(e,t,n,i,r,o,s,a,c){this.contextService=e,this.fileService=t,this.telemetryService=n,this.editorService=i,this.configurationService=r,this.quickOpenService=o,this.configurationResolverService=s,this.instantiationService=a,this.commandService=c,this.adapters=[],this.registerListeners(),this.breakpointModeIdsSet=new Set}return e.prototype.registerListeners=function(){var e=this;t.debuggersExtPoint.setHandler(function(t){t.forEach(function(t){t.value.forEach(function(i){i.type&&"string"==typeof i.type||t.collector.error(n.localize(28,null)),i.enableBreakpointsFor&&i.enableBreakpointsFor.languageIds.forEach(function(t){e.breakpointModeIdsSet.add(t)});var r=e.adapters.filter(function(e){return e.type===i.type}).pop();r?r.merge(i,t.description):e.adapters.push(e.instantiationService.createInstance(C.Adapter,i,t.description))})}),e.adapters.forEach(function(e){var t=A.properties.configurations.items,n=e.getSchemaAttributes();n&&(r=t.oneOf).push.apply(r,n);var i=e.configurationSnippets;i&&(o=t.defaultSnippets).push.apply(o,i);var r,o})}),k.setHandler(function(t){t.forEach(function(t){t.value.forEach(function(t){e.breakpointModeIdsSet.add(t.language)})})})},e.prototype.getAdapter=function(e){return this.adapters.filter(function(t){return r.equalsIgnoreCase(t.type,e)}).pop()},e.prototype.getCompound=function(e){if(!this.contextService.hasWorkspace())return null;var t=this.configurationService.getConfiguration("launch",{resource:this.contextService.getWorkspace().resource});return t&&t.compounds?t.compounds.filter(function(t){return t.name===e}).pop():null},e.prototype.getConfigurationNames=function(){var e=this.contextService.hasWorkspace()?this.configurationService.getConfiguration("launch",{resource:this.contextService.getWorkspace().resource}):null;if(e&&e.configurations){var t=e.configurations.filter(function(e){return e&&"string"==typeof e.name}).map(function(e){return e.name});return t.length>0&&e.compounds&&e.compounds&&t.push.apply(t,e.compounds.filter(function(e){return"string"==typeof e.name&&e.configurations&&e.configurations.length}).map(function(e){return e.name})),t}return[]},e.prototype.getConfiguration=function(e){if(!this.contextService.hasWorkspace())return null;var t=this.configurationService.getConfiguration("launch",{resource:this.contextService.getWorkspace().resource});return t&&t.configurations?t.configurations.filter(function(t){return t&&t.name===e}).shift():null},e.prototype.resloveConfiguration=function(e){var t=this;if(!this.contextService.hasWorkspace())return i.TPromise.as(e);var n=s.deepClone(e),r=function(e,t){e&&t&&Object.keys(t).forEach(function(e){n[e]=t[e]})};r(o.isWindows,n.windows),r(o.isMacintosh,n.osx),r(o.isLinux,n.linux),Object.keys(n).forEach(function(e){n[e]=t.configurationResolverService.resolveAny(n[e])});var a=this.getAdapter(n.type);return this.configurationResolverService.resolveInteractiveVariables(n,a?a.variables:null)},Object.defineProperty(e.prototype,"configFileUri",{get:function(){return a.default.file(l.join(this.contextService.getWorkspace().resource.fsPath,"/.vscode/launch.json"))},enumerable:!0,configurable:!0}),e.prototype.openConfigFile=function(e,t){var i=this,r=this.configFileUri,o=!1;return this.fileService.resolveContent(r).then(function(e){return!0},function(e){return i.guessAdapter(t).then(function(e){return e?e.getInitialConfigurationContent():void 0}).then(function(e){return!!e&&(o=!0,i.fileService.updateContent(r,e).then(function(){return!0}))})}).then(function(t){if(t)return i.telemetryService.publicLog("debugConfigure"),i.editorService.openEditor({resource:r,options:{forceOpen:!0,pinned:o,revealIfVisible:!0}},e)},function(e){throw new Error(n.localize(29,null,e))})},e.prototype.getStartSessionCommand=function(e){return this.guessAdapter(e).then(function(e){if(e)return{command:e.startSessionCommand,type:e.type}})},e.prototype.guessAdapter=function(e){var t=this;if(e){var r=this.getAdapter(e);return i.TPromise.as(r)}var o=this.editorService.getActiveEditor();if(o){var s=o.getControl();if(u.isCommonCodeEditor(s)){var a=s.getModel(),c=a?a.getLanguageIdentifier().language:void 0,l=this.adapters.filter(function(e){return e.languages&&e.languages.indexOf(c)>=0});if(1===l.length)return i.TPromise.as(l[0])}}return this.quickOpenService.pick(this.adapters.filter(function(e){return e.hasInitialConfiguration()}).concat([{label:"More...",separator:{border:!0}}]),{placeHolder:n.localize(30,null)}).then(function(e){if(e instanceof C.Adapter)return e;e&&t.commandService.executeCommand("debug.installAdditionalDebuggers")})},e.prototype.canSetBreakpointsIn=function(e){if(e.uri.scheme!==c.Schemas.file&&e.uri.scheme!==E.DEBUG_SCHEME)return!1;if(this.configurationService.getConfiguration("debug").allowBreakpointsEverywhere)return!0;var t=e?e.getLanguageIdentifier().language:null;return this.breakpointModeIdsSet.has(t)},e}();L=v([y(0,b.IWorkspaceContextService),y(1,g.IFileService),y(2,m.ITelemetryService),y(3,w.IWorkbenchEditorService),y(4,f.IConfigurationService),y(5,I.IQuickOpenService),y(6,T.IConfigurationResolverService),y(7,S.IInstantiationService),y(8,_.ICommandService)],L),t.ConfigurationManager=L}),define(u[1086],d([1,0,614,76,324,52,8,34,26,18,7,4,5,352,19,87,141,6,23,65,20,36,16,92,22,416,303,27,80]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A,L){"use strict";function P(e){switch(e){case D.Installing:return"extensionGallery:install";case D.Updating:return"extensionGallery:update";case D.Uninstalling:return"extensionGallery:uninstall"}return""}Object.defineProperty(t,"__esModule",{value:!0});var D,O=function(){function t(e,t,n,i){void 0===i&&(i=null),this.galleryService=e,this.stateProvider=t,this.local=n,this.gallery=i,this.disabledGlobally=!1,this.disabledForWorkspace=!1}return Object.defineProperty(t.prototype,"type",{get:function(){return this.local?this.local.type:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.gallery?this.gallery.name:this.local.manifest.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayName",{get:function(){return this.gallery?this.gallery.displayName||this.gallery.name:this.local.manifest.displayName||this.local.manifest.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.gallery?this.gallery.id:m.getGalleryExtensionIdFromLocal(this.local)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"publisher",{get:function(){return this.gallery?this.gallery.publisher:this.local.manifest.publisher},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"publisherDisplayName",{get:function(){return this.gallery?this.gallery.publisherDisplayName||this.gallery.publisher:this.local.metadata&&this.local.metadata.publisherDisplayName?this.local.metadata.publisherDisplayName:this.local.manifest.publisher},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this.local?this.local.manifest.version:this.gallery.version},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"latestVersion",{get:function(){return this.gallery?this.gallery.version:this.local.manifest.version},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"description",{get:function(){return this.gallery?this.gallery.description:this.local.manifest.description},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return L.default.extensionsGallery?L.default.extensionsGallery.itemUrl+"?itemName="+this.publisher+"."+this.name:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconUrl",{get:function(){return this.galleryIconUrl||this.localIconUrl||this.defaultIconUrl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconUrlFallback",{get:function(){return this.galleryIconUrlFallback||this.localIconUrl||this.defaultIconUrl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"localIconUrl",{get:function(){return this.local&&this.local.manifest.icon&&w.default.file(o.join(this.local.path,this.local.manifest.icon)).toString()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"galleryIconUrl",{get:function(){return this.gallery&&this.gallery.assets.icon.uri},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"galleryIconUrlFallback",{get:function(){return this.gallery&&this.gallery.assets.icon.fallbackUri},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultIconUrl",{get:function(){return e.toUrl("../browser/media/defaultIcon.png")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"licenseUrl",{get:function(){return this.gallery&&this.gallery.assets.license&&this.gallery.assets.license.uri},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this.stateProvider(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"installCount",{get:function(){return this.gallery?this.gallery.installCount:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rating",{get:function(){return this.gallery?this.gallery.rating:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ratingCount",{get:function(){return this.gallery?this.gallery.ratingCount:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outdated",{get:function(){return!!this.gallery&&this.type===g.LocalExtensionType.User&&r.gt(this.latestVersion,this.version)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"telemetryData",{get:function(){var e=this,t=e.local,n=e.gallery;return n?m.getGalleryExtensionTelemetryData(n):m.getLocalExtensionTelemetryData(t)},enumerable:!0,configurable:!0}),t.prototype.getManifest=function(){return this.gallery?this.galleryService.getManifest(this.gallery):d.TPromise.as(this.local.manifest)},t.prototype.getReadme=function(){if(this.gallery)return this.galleryService.getReadme(this.gallery);if(this.local&&this.local.readmeUrl){var e=w.default.parse(this.local.readmeUrl);return i.readFile(e.fsPath,"utf8")}return d.TPromise.wrapError(new Error("not available"))},t.prototype.getChangelog=function(){if(this.gallery&&this.gallery.assets.changelog)return this.galleryService.getChangelog(this.gallery);var e=this.local&&this.local.changelogUrl;if(!e)return d.TPromise.wrapError(new Error("not available"));var t=w.default.parse(e);return"file"===t.scheme?i.readFile(t.fsPath,"utf8"):d.TPromise.wrapError(new Error("not available"))},Object.defineProperty(t.prototype,"dependencies",{get:function(){var e=this,t=e.local,n=e.gallery;return t&&t.manifest.extensionDependencies?t.manifest.extensionDependencies:n?n.properties.dependencies:[]},enumerable:!0,configurable:!0}),t}(),R=function(){function e(e,t,n,i){void 0===i&&(i=null),this._extension=e,this._identifier=t,this._map=n,this._dependent=i,this._hasDependencies=null}return Object.defineProperty(e.prototype,"hasDependencies",{get:function(){return null===this._hasDependencies&&(this._hasDependencies=this.computeHasDependencies()),this._hasDependencies},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extension",{get:function(){return this._extension},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this._identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dependent",{get:function(){return this._dependent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dependencies",{get:function(){var t=this;return this.hasDependencies?this._extension.dependencies.map(function(n){return new e(t._map.get(n),n,t._map,t)}):[]},enumerable:!0,configurable:!0}),e.prototype.computeHasDependencies=function(){if(this._extension&&this._extension.dependencies.length>0){for(var e=this._dependent;null!==e;){if(e.identifier===this.identifier)return!1;e=e.dependent}return!0}return!1},e}();!function(e){e[e.Installing=0]="Installing",e[e.Updating=1]="Updating",e[e.Uninstalling=2]="Uninstalling"}(D||(D={}));var M=function(){function e(t,n,i,r,o,a,c,u,d,h,p,f,g){var v=this;this.instantiationService=t,this.editorService=n,this.extensionService=i,this.galleryService=r,this.configurationService=o,this.configurationEditingService=a,this.telemetryService=c,this.messageService=u,this.choiceService=d,this.extensionEnablementService=p,this.tipsService=f,this.workspaceContextService=g,this.installing=[],this.uninstalling=[],this.installed=[],this.disposables=[],this._onChange=new s.Emitter,this.stateProvider=function(e){return v.getExtensionState(e)},i.onInstallExtension(this.onInstallExtension,this,this.disposables),i.onDidInstallExtension(this.onDidInstallExtension,this,this.disposables),i.onUninstallExtension(this.onUninstallExtension,this,this.disposables),i.onDidUninstallExtension(this.onDidUninstallExtension,this,this.disposables),p.onEnablementChanged(this.onEnablementChanged,this,this.disposables),this.syncDelayer=new l.ThrottledDelayer(e.SyncPeriod),this.autoUpdateDelayer=new l.ThrottledDelayer(1e3),s.chain(h.onOpenURL).filter(function(e){return/^extension/.test(e.path)}).on(this.onOpenExtensionUrl,this,this.disposables),this._isAutoUpdateEnabled=this.configurationService.getConfiguration(I.ConfigurationKey).autoUpdate,this.configurationService.onDidUpdateConfiguration(function(){var e=v.configurationService.getConfiguration(I.ConfigurationKey).autoUpdate;v._isAutoUpdateEnabled!==e&&(v._isAutoUpdateEnabled=e,v._isAutoUpdateEnabled&&v.checkForUpdates())},this,this.disposables),this.queryLocal().done(function(){return v.eventuallySyncWithGallery(!0)})}return Object.defineProperty(e.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"local",{get:function(){var e=this,t=this.installing.filter(function(t){return!e.installed.some(function(e){return e.id===t.extension.id})}).map(function(e){return e.extension});return this.installed.concat(t)},enumerable:!0,configurable:!0}),e.prototype.queryLocal=function(){var e=this;return this.extensionService.getInstalled().then(function(t){var n=a.index(e.installed,function(e){return e.local.id}),i=e.extensionEnablementService.getGloballyDisabledExtensions(),r=e.extensionEnablementService.getWorkspaceDisabledExtensions();return e.installed=t.map(function(t){var o=n[t.id]||new O(e.galleryService,e.stateProvider,t);return o.local=t,o.disabledGlobally=-1!==i.indexOf(o.id),o.disabledForWorkspace=-1!==r.indexOf(o.id),o}),e._onChange.fire(),e.local})},e.prototype.queryGallery=function(e){var t=this;return void 0===e&&(e={}),this.galleryService.query(e).then(function(e){return p.mapPager(e,function(e){return t.fromGallery(e)})}).then(null,function(e){return/No extension gallery service configured/.test(e.message)?d.TPromise.as(p.singlePagePager([])):d.TPromise.wrapError(e)})},e.prototype.loadDependencies=function(e){var t=this;return e.dependencies.length?this.galleryService.getAllDependencies(e.gallery).then(function(e){return e.map(function(e){return t.fromGallery(e)})}).then(function(e){return t.local.concat(e)}).then(function(t){for(var n=new Map,i=0,r=t;i<r.length;i++){var o=r[i];n.set(o.id,o)}return new R(e,e.id,n)}):d.TPromise.wrap(null)},e.prototype.open=function(e,t){return void 0===t&&(t=!1),this.editorService.openEditor(this.instantiationService.createInstance(x.ExtensionsInput,e),null,t)},e.prototype.fromGallery=function(e){var t=this,n=this.installed.filter(function(t){return t.id===e.id})[0];return n?(e.properties.engine?this.galleryService.loadCompatibleVersion(e).then(function(e){return t.syncLocalWithGalleryExtension(n,e)}):this.syncLocalWithGalleryExtension(n,e),n):new O(this.galleryService,this.stateProvider,null,e)},e.prototype.syncLocalWithGalleryExtension=function(e,t){e.gallery=t,this._onChange.fire(),this.eventuallyAutoUpdateExtensions()},e.prototype.checkForUpdates=function(){var e=this;return this.syncDelayer.trigger(function(){return e.syncWithGallery()},0)},Object.defineProperty(e.prototype,"isAutoUpdateEnabled",{get:function(){return this._isAutoUpdateEnabled},enumerable:!0,configurable:!0}),e.prototype.setAutoUpdate=function(e){return this.isAutoUpdateEnabled===e?d.TPromise.as(null):this.configurationEditingService.writeConfiguration(_.ConfigurationTarget.USER,{key:"extensions.autoUpdate",value:e})},e.prototype.eventuallySyncWithGallery=function(t){var n=this;void 0===t&&(t=!1);var i=t?0:e.SyncPeriod;this.syncDelayer.trigger(function(){return n.syncWithGallery().then(function(){return n.eventuallySyncWithGallery()})},i).done(null,function(e){return null})},e.prototype.syncWithGallery=function(){var e=this.installed.filter(function(e){return e.type===g.LocalExtensionType.User}).map(function(e){return e.id});return 0===e.length?d.TPromise.as(null):this.queryGallery({names:e,pageSize:e.length})},e.prototype.eventuallyAutoUpdateExtensions=function(){var e=this;this.autoUpdateDelayer.trigger(function(){return e.autoUpdateExtensions()}).done(null,function(e){return null})},e.prototype.autoUpdateExtensions=function(){var e=this;if(!this.isAutoUpdateEnabled)return d.TPromise.as(null);var t=this.local.filter(function(e){return e.outdated&&e.state!==I.ExtensionState.Installing});return d.TPromise.join(t.map(function(t){return e.install(t,!1)}))},e.prototype.canInstall=function(e){return e instanceof O&&!!e.gallery},e.prototype.install=function(e,t){if(void 0===t&&(t=!0),"string"==typeof e)return this.extensionService.install(e);if(e instanceof O){var n=e.gallery;return n?this.extensionService.installFromGallery(n,t):d.TPromise.wrapError(new Error("Missing gallery"))}},e.prototype.setEnablement=function(e,t,n){var i=this;return void 0===n&&(n=!1),e.type===g.LocalExtensionType.System?d.TPromise.wrap(void 0):this.promptAndSetEnablement(e,t,n).then(function(n){i.telemetryService.publicLog(t?"extension:enable":"extension:disable",e.telemetryData)})},e.prototype.uninstall=function(e){if(e instanceof O){var t=e.local||this.installed.filter(function(t){return t.id===e.id})[0].local;return t?this.extensionService.uninstall(t):d.TPromise.wrapError(new Error("Missing local"))}},e.prototype.promptAndSetEnablement=function(e,t,n){var i=this.getDependenciesRecursively(e,this.local,t,n,[]);return i.length>0?t?this.promptForDependenciesAndEnable(e,i,n):this.promptForDependenciesAndDisable(e,i,n):this.checkAndSetEnablement(e,[],t,n)},e.prototype.promptForDependenciesAndEnable=function(e,t,i){var r=this,o=n.localize(0,null,e.displayName),s=[n.localize(1,null),n.localize(2,null)];return this.choiceService.choose(C.default.Info,o,s,1,!0).then(function(n){return 0===n?r.checkAndSetEnablement(e,t,!0,i):d.TPromise.as(null)})},e.prototype.promptForDependenciesAndDisable=function(e,t,i){var r=this,o=n.localize(3,null,e.displayName),s=[n.localize(4,null),n.localize(5,null),n.localize(6,null)];return this.choiceService.choose(C.default.Info,o,s,2,!0).then(function(n){return 0===n?r.checkAndSetEnablement(e,[],!1,i):1===n?r.checkAndSetEnablement(e,t,!1,i):d.TPromise.as(null)})},e.prototype.checkAndSetEnablement=function(e,t,n,i){var r=this;if(!n){var o=this.getDependentsAfterDisablement(e,t,this.local,i);if(o.length)return d.TPromise.wrapError(new Error(this.getDependentsErrorMessage(e,o)))}return d.TPromise.join([e].concat(t).map(function(e){return r.doSetEnablement(e,n,i)}))},e.prototype.getDependenciesRecursively=function(e,t,n,i,r){if(-1!==r.indexOf(e))return[];if(r.push(e),!e.dependencies||0===e.dependencies.length)return[];for(var o=t.filter(function(t){return!(!n&&(i?t.disabledForWorkspace:t.disabledGlobally))&&(t.type===g.LocalExtensionType.User&&-1!==e.dependencies.indexOf(t.id))}),s=[],a=0,c=o;a<c.length;a++){var l=c[a];s.push.apply(s,this.getDependenciesRecursively(l,t,n,i,r))}return o.concat(s)},e.prototype.getDependentsAfterDisablement=function(e,t,n,i){return n.filter(function(n){return 0!==n.dependencies.length&&(n!==e&&(!(i?n.disabledForWorkspace:n.disabledGlobally)&&(-1===t.indexOf(n)&&n.dependencies.some(function(n){return e.id===n||t.some(function(e){return e.id===n})}))))})},e.prototype.getDependentsErrorMessage=function(e,t){return 1===t.length?n.localize(7,null,e.displayName,t[0].displayName):2===t.length?n.localize(8,null,e.displayName,t[0].displayName,t[1].displayName):n.localize(9,null,e.displayName,t[0].displayName,t[1].displayName)},e.prototype.doSetEnablement=function(e,t,n){if(n)return this.extensionEnablementService.setEnablement(e.id,t,n);var i=this.extensionEnablementService.setEnablement(e.id,t,!1);if(t&&this.workspaceContextService.hasWorkspace()){var r=this.extensionEnablementService.setEnablement(e.id,t,!0);return d.TPromise.join([i,r]).then(function(e){return e[0]||e[1]})}return i},Object.defineProperty(e.prototype,"allowedBadgeProviders",{get:function(){return this._extensionAllowedBadgeProviders||(this._extensionAllowedBadgeProviders=(L.default.extensionAllowedBadgeProviders||[]).map(function(e){return e.toLowerCase()})),this._extensionAllowedBadgeProviders},enumerable:!0,configurable:!0}),e.prototype.onInstallExtension=function(e){var t=e.gallery;if(t){var n=this.installed.filter(function(e){return e.id===t.id})[0];n||(n=new O(this.galleryService,this.stateProvider,null,t)),n.gallery=t;var i=new Date,r=D.Installing;this.installing.push({operation:r,extension:n,start:i}),this._onChange.fire()}},e.prototype.onDidInstallExtension=function(e){var t=e.local,n=e.zipPath,i=e.error,r=e.gallery,o=r?this.installing.filter(function(e){return e.extension.id===r.id})[0]:null,s=o?o.extension:n?new O(this.galleryService,this.stateProvider,null):null;if(s){if(this.installing=o?this.installing.filter(function(e){return e!==o}):this.installing,!i){s.local=t;var a=this.installed.filter(function(e){return e.id===s.id})[0];a?(o&&(o.operation=D.Updating),a.local=t):this.installed.push(s)}s.gallery&&this.reportTelemetry(o,!i)}this._onChange.fire()},e.prototype.onUninstallExtension=function(e){var t=this.installed.filter(function(t){return t.local.id===e})[0];if(this.installed.filter(function(t){return t.local.id!==e}).length!==this.installed.length){var n=new Date,i=D.Uninstalling,r=this.uninstalling.filter(function(t){return t.extension.local.id===e})[0]||{id:e,operation:i,extension:t,start:n};this.uninstalling=[r].concat(this.uninstalling.filter(function(t){return t.extension.local.id!==e})),this._onChange.fire()}},e.prototype.onDidUninstallExtension=function(e){var t=e.id,n=e.error;n||(this.installed=this.installed.filter(function(e){return e.local.id!==t}));var i=this.uninstalling.filter(function(e){return e.extension.local.id===t})[0];this.uninstalling=this.uninstalling.filter(function(e){return e.extension.local.id!==t}),i&&(n||this.reportTelemetry(i,!0),this._onChange.fire())},e.prototype.onEnablementChanged=function(e){var t=this.local.filter(function(t){return t.id===e})[0];if(t){var n=this.extensionEnablementService.getGloballyDisabledExtensions(),i=this.extensionEnablementService.getWorkspaceDisabledExtensions();t.disabledGlobally=-1!==n.indexOf(t.id),t.disabledForWorkspace=-1!==i.indexOf(t.id),this._onChange.fire()}},e.prototype.getExtensionState=function(e){return e.gallery&&this.installing.some(function(t){return t.extension.gallery&&t.extension.gallery.id===e.gallery.id})?I.ExtensionState.Installing:this.uninstalling.some(function(t){return t.extension.id===e.id})?I.ExtensionState.Uninstalling:this.installed.filter(function(t){return t===e||t.gallery&&e.gallery&&t.gallery.id===e.gallery.id})[0]?I.ExtensionState.Installed:I.ExtensionState.Uninstalled},e.prototype.reportTelemetry=function(e,t){var n=e.extension.telemetryData,i=(new Date).getTime()-e.start.getTime(),r=P(e.operation);this.telemetryService.publicLog(r,c.assign(n,{success:t,duration:i}))},e.prototype.onError=function(e){if(!u.isPromiseCanceledError(e)){var t=e&&e.message||"";/getaddrinfo ENOTFOUND|getaddrinfo ENOENT|connect EACCES|connect ECONNREFUSED/.test(t)||this.messageService.show(C.default.Error,e)}},e.prototype.onOpenExtensionUrl=function(e){var t=this,i=/^extension\/([^/]+)$/.exec(e.path);if(i){var r=i[1];this.queryGallery({names:[r]}).then(function(e){if(e.total<1)return d.TPromise.as(null);var i=e.firstPage[0];return t.open(i).then(function(){var e=n.localize(10,null,i.displayName,i.publisher),r=[n.localize(11,null),n.localize(12,null)];return t.choiceService.choose(C.default.Info,e,r,2,!1).then(function(e){if(0===e){var n=[];return t.local.every(function(e){return e.id!==i.id})&&n.push(t.install(i)),d.TPromise.join(n)}return d.TPromise.as(null)})})}).done(void 0,function(e){return t.onError(e)})}},e.prototype.dispose=function(){this.syncDelayer.cancel(),this.disposables=h.dispose(this.disposables)},e}();M.SyncPeriod=432e5,M=v([y(0,b.IInstantiationService),y(1,T.IWorkbenchEditorService),y(2,g.IExtensionManagementService),y(3,g.IExtensionGalleryService),y(4,S.IConfigurationService),y(5,_.IConfigurationEditingService),y(6,f.ITelemetryService),y(7,E.IMessageService),y(8,E.IChoiceService),y(9,k.IURLService),y(10,g.IExtensionEnablementService),y(11,g.IExtensionTipsService),y(12,A.IWorkspaceContextService)],M),t.ExtensionsWorkbenchService=M}),define(u[1087],d([1,0,4,652,24,7,115,102,84,33,22,54,56]),function(e,t,n,i,r,o,s,a,c,l,u,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GOTO_LINE_PREFIX=":";var f=function(e){function n(n,i,r){return e.call(this,n,i,t.GOTO_LINE_PREFIX,r)||this}return h(n,e),n}(c.QuickOpenAction);f.ID="workbench.action.gotoLine",f.LABEL=i.localize(0,null),f=v([y(2,d.IQuickOpenService)],f),t.GotoLineAction=f;var g=function(e){function t(t,n,i){var r=e.call(this,n)||this;return r.parseInput(t),r.handler=i,r}return h(t,e),t.prototype.parseInput=function(e){var t=e.split(/,|:|#/).map(function(e){return parseInt(e,10)}).filter(function(e){return!isNaN(e)});this.line=t[0],this.column=t[1]},t.prototype.getLabel=function(){var e=this.getMaxLineNumber();return this.invalidRange(e)?e>0?i.localize(1,null,e):i.localize(2,null):this.column?i.localize(3,null,this.line,this.column):i.localize(4,null,this.line)},t.prototype.invalidRange=function(e){return void 0===e&&(e=this.getMaxLineNumber()),!this.line||!r.isNumber(this.line)||e>0&&r.isNumber(this.line)&&this.line>e},t.prototype.getMaxLineNumber=function(){var e=this.editorService.getActiveEditor().getControl().getModel();return e&&e.modified&&e.original&&(e=e.modified),e&&r.isFunction(e.getLineCount)?e.getLineCount():-1},t.prototype.run=function(e,t){return e===s.Mode.OPEN?this.runOpen(t):this.runPreview()},t.prototype.getInput=function(){return this.editorService.getActiveEditorInput()},t.prototype.getOptions=function(){return{selection:this.toSelection()}},t.prototype.runOpen=function(e){if(this.invalidRange())return!1;e.keymods.indexOf(2048)>=0&&this.editorService.openEditor(this.getInput(),this.getOptions(),!0).done(null,o.onUnexpectedError);var t=this.toSelection(),n=this.editorService.getActiveEditor();if(n){var i=n.getControl();i.setSelection(t),i.revealRangeInCenter(t)}return!0},t.prototype.runPreview=function(){if(this.invalidRange())return this.handler.clearDecorations(),!1;var e=this.toSelection(),t=this.editorService.getActiveEditor();if(t){var n=t.getControl();n.revealRangeInCenter(e),r.isFunction(n.changeDecorations)&&this.handler.decorateOutline(e,n,t.position)}return!1},t.prototype.toSelection=function(){return{startLineNumber:this.line,startColumn:this.column||1,endLineNumber:this.line,endColumn:this.column||1}},t}(c.EditorQuickOpenEntry),m=function(e){function t(t){var n=e.call(this)||this;return n.editorService=t,n}return h(t,e),t.prototype.getAriaLabel=function(){return i.localize(5,null)},t.prototype.getResults=function(e){if(e=e.trim(),!this.lastKnownEditorViewState){var t=this.editorService.getActiveEditor();this.lastKnownEditorViewState=t.getControl().saveViewState()}return n.TPromise.as(new a.QuickOpenModel([new g(e,this.editorService,this)]))},t.prototype.canRun=function(){return!!(null!==p.getCodeEditor(this.editorService.getActiveEditor()))||i.localize(6,null)},t.prototype.decorateOutline=function(e,t,n){var i=this;t.changeDecorations(function(t){var r=[];i.rangeHighlightDecorationId&&(r.push(i.rangeHighlightDecorationId.lineDecorationId),r.push(i.rangeHighlightDecorationId.rangeHighlightId),i.rangeHighlightDecorationId=null);var o=[{range:e,options:{className:"rangeHighlight",isWholeLine:!0}},{range:e,options:{overviewRuler:{color:"rgba(0, 122, 204, 0.6)",darkColor:"rgba(0, 122, 204, 0.6)",position:l.OverviewRulerLane.Full}}}],s=t.deltaDecorations(r,o),a=s[0],c=s[1];i.rangeHighlightDecorationId={rangeHighlightId:a,lineDecorationId:c,position:n}})},t.prototype.clearDecorations=function(){var e=this;this.rangeHighlightDecorationId&&(this.editorService.getVisibleEditors().forEach(function(t){t.position===e.rangeHighlightDecorationId.position&&t.getControl().changeDecorations(function(t){t.deltaDecorations([e.rangeHighlightDecorationId.lineDecorationId,e.rangeHighlightDecorationId.rangeHighlightId],[])})}),this.rangeHighlightDecorationId=null)},t.prototype.onClose=function(e){if(this.clearDecorations(),e&&this.lastKnownEditorViewState){var t=this.editorService.getActiveEditor();t&&t.getControl().restoreViewState(this.lastKnownEditorViewState)}this.lastKnownEditorViewState=null},t.prototype.getAutoFocus=function(e){return{autoFocusFirstEntry:e.trim().length>0}},t}(c.QuickOpenHandler);m=v([y(0,u.IWorkbenchEditorService)],m),t.GotoLineHandler=m}),define(u[1088],d([1,0,4,653,7,24,12,115,102,84,122,33,22,54,856,46,56,954]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GOTO_SYMBOL_PREFIX="@",t.SCOPE_PREFIX=":";var S=function(e){function n(n,i,r){return e.call(this,n,i,t.GOTO_SYMBOL_PREFIX,r)||this}return h(n,e),n}(l.QuickOpenAction);S.ID="workbench.action.gotoSymbol",S.LABEL=i.localize(0,null),S=v([y(2,f.IQuickOpenService)],S),t.GotoSymbolAction=S;var _=function(e){function n(t,n){var i=e.call(this,n)||this;return i.outline=t,i}return h(n,e),n.prototype.applyFilter=function(e){var n=e;0===e.indexOf(t.SCOPE_PREFIX)&&(n=n.substr(t.SCOPE_PREFIX.length)),this.entries.forEach(function(e){if(e.setGroupLabel(null),e.setShowBorder(!1),e.setHighlights(null),e.setHidden(!1),n){var t=u.matchesFuzzy(n,e.getLabel());t?(e.setHighlights(t),e.setHidden(!1)):e.isHidden()||e.setHidden(!0)}}),e?0===e.indexOf(t.SCOPE_PREFIX)?this.entries.sort(this.sortScoped.bind(this,e.toLowerCase())):this.entries.sort(this.sortNormal.bind(this,e.toLowerCase())):this.entries.sort(function(e,t){return e.getIndex()-t.getIndex()});var r=this.getEntries(!0);if(r.length>0&&0===e.indexOf(t.SCOPE_PREFIX)){for(var o=null,s=null,a=0,c=0;c<r.length;c++){var l=r[c];o!==l.getType()?(s&&s.setGroupLabel(this.renderGroupLabel(o,a,this.outline)),o=l.getType(),s=l,a=1,l.setShowBorder(c>0)):a++}s&&s.setGroupLabel(this.renderGroupLabel(o,a,this.outline))}else r.length>0&&r[0].setGroupLabel(i.localize(1,null,r.length))},n.prototype.sortNormal=function(e,t,n){if(t.isHidden()&&n.isHidden())return 0;if(t.isHidden())return 1;if(n.isHidden())return-1;var i=t.getLabel().toLowerCase(),r=n.getLabel().toLowerCase(),o=i.localeCompare(r);if(0!==o)return o;var s=t.getRange(),a=n.getRange();return s.startLineNumber-a.startLineNumber},n.prototype.sortScoped=function(e,n,i){if(n.isHidden()&&i.isHidden())return 0;if(n.isHidden())return 1;if(i.isHidden())return-1;e=e.substr(t.SCOPE_PREFIX.length);var r=n.getType(),o=i.getType(),s=r.localeCompare(o);if(0!==s)return s;if(e){var a=n.getLabel().toLowerCase(),c=i.getLabel().toLowerCase();if(0!==(s=a.localeCompare(c)))return s}var l=n.getRange(),u=i.getRange();return l.startLineNumber-u.startLineNumber},n.prototype.renderGroupLabel=function(e,t,i){var r=n.getDefaultGroupLabelPatterns()[e];return r?s.format(r,t):e},n.getDefaultGroupLabelPatterns=function(){var e=Object.create(null);return e.method=i.localize(2,null),e.function=i.localize(3,null),e.constructor=i.localize(4,null),e.variable=i.localize(5,null),e.class=i.localize(6,null),e.interface=i.localize(7,null),e.namespace=i.localize(8,null),e.package=i.localize(9,null),e.module=i.localize(10,null),e.property=i.localize(11,null),e.enum=i.localize(12,null),e.string=i.localize(13,null),e.rule=i.localize(14,null),e.file=i.localize(15,null),e.array=i.localize(16,null),e.number=i.localize(17,null),e.boolean=i.localize(18,null),e.object=i.localize(19,null),e.key=i.localize(20,null),e},n}(c.QuickOpenModel),E=function(e){function t(t,n,i,r,o,s,a,c,l){var u=e.call(this)||this;return u.index=t,u.name=n,u.type=i,u.icon=o,u.description=r,u.range=s,u.setHighlights(a),u.editorService=c,u.handler=l,u}return h(t,e),t.prototype.getIndex=function(){return this.index},t.prototype.getLabel=function(){return this.name},t.prototype.getAriaLabel=function(){return i.localize(21,null,this.getLabel())},t.prototype.getIcon=function(){return this.icon},t.prototype.getDescription=function(){return this.description},t.prototype.getType=function(){return this.type},t.prototype.getRange=function(){return this.range},t.prototype.getInput=function(){return this.editorService.getActiveEditorInput()},t.prototype.getOptions=function(){return{selection:this.toSelection()}},t.prototype.run=function(e,t){return e===a.Mode.OPEN?this.runOpen(t):this.runPreview()},t.prototype.runOpen=function(e){if(e.keymods.indexOf(2048)>=0)this.editorService.openEditor(this.getInput(),this.getOptions(),!0).done(null,r.onUnexpectedError);else{var t=this.toSelection(),n=this.editorService.getActiveEditor();if(n){var i=n.getControl();i.setSelection(t),i.revealRangeInCenter(t)}}return!0},t.prototype.runPreview=function(){var e=this.toSelection(),t=this.editorService.getActiveEditor();if(t){var n=t.getControl();n.revealRangeInCenter(e),o.isFunction(n.changeDecorations)&&this.handler.decorateOutline(this.range,e,n,t.position)}return!1},t.prototype.toSelection=function(){return{startLineNumber:this.range.startLineNumber,startColumn:this.range.startColumn||1,endLineNumber:this.range.startLineNumber,endColumn:this.range.startColumn||1}},t}(l.EditorQuickOpenEntryGroup),C=function(e){function r(t){var n=e.call(this)||this;return n.editorService=t,n.outlineToModelCache={},n}return h(r,e),r.prototype.getResults=function(e){if(e=e.trim(),!this.lastKnownEditorViewState){var t=this.editorService.getActiveEditor();this.lastKnownEditorViewState=t.getControl().saveViewState()}return this.getActiveOutline().then(function(t){return t.applyFilter(e),t})},r.prototype.getEmptyLabel=function(e){return e.length>0?i.localize(22,null):i.localize(23,null)},r.prototype.getAriaLabel=function(){return i.localize(24,null)},r.prototype.canRun=function(){var e=!1,t=b.getCodeEditor(this.editorService.getActiveEditor());if(t){var n=t.getModel();n&&n.modified&&n.original&&(n=n.modified),n&&o.isFunction(n.getLanguageIdentifier)&&(e=m.DocumentSymbolProviderRegistry.has(n))}return!!e||(null!==t?i.localize(25,null):i.localize(26,null))},r.prototype.getAutoFocus=function(e){return 0===(e=e.trim()).indexOf(t.SCOPE_PREFIX)&&(e=e.substr(t.SCOPE_PREFIX.length)),{autoFocusPrefixMatch:e,autoFocusFirstEntry:!!e}},r.prototype.toQuickOpenEntries=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],r=s.trim(i.name),o=i.containerName,a=m.symbolKindToCssClass(i.kind);t.push(new E(n,r,a,o,a,i.location.range,null,this.editorService,this))}return t},r.prototype.getActiveOutline=function(){return this.activeOutlineRequest||(this.activeOutlineRequest=this.doGetActiveOutline()),this.activeOutlineRequest},r.prototype.doGetActiveOutline=function(){var e=this,t=b.getCodeEditor(this.editorService.getActiveEditor());if(t){var i=t.getModel();if(i&&i.modified&&i.original&&(i=i.modified),i&&o.isFunction(i.getLanguageIdentifier)){var r=i.id;return this.outlineToModelCache[r]?n.TPromise.as(this.outlineToModelCache[r]):g.getDocumentSymbols(i).then(function(t){var n=new _(t,e.toQuickOpenEntries(t.entries));return e.outlineToModelCache={},e.outlineToModelCache[r]=n,n})}}return n.TPromise.as(null)},r.prototype.decorateOutline=function(e,t,n,i){var r=this;n.changeDecorations(function(n){var o=[];r.rangeHighlightDecorationId&&(o.push(r.rangeHighlightDecorationId.lineDecorationId),o.push(r.rangeHighlightDecorationId.rangeHighlightId),r.rangeHighlightDecorationId=null);var s=[{range:e,options:{className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{overviewRuler:{color:"rgba(0, 122, 204, 0.6)",darkColor:"rgba(0, 122, 204, 0.6)",position:d.OverviewRulerLane.Full}}}],a=n.deltaDecorations(o,s),c=a[0],l=a[1];r.rangeHighlightDecorationId={rangeHighlightId:c,lineDecorationId:l,position:i}})},r.prototype.clearDecorations=function(){var e=this;this.rangeHighlightDecorationId&&(this.editorService.getVisibleEditors().forEach(function(t){t.position===e.rangeHighlightDecorationId.position&&t.getControl().changeDecorations(function(t){t.deltaDecorations([e.rangeHighlightDecorationId.lineDecorationId,e.rangeHighlightDecorationId.rangeHighlightId],[])})}),this.rangeHighlightDecorationId=null)},r.prototype.onClose=function(e){if(this.outlineToModelCache={},this.clearDecorations(),e&&this.lastKnownEditorViewState){var t=this.editorService.getActiveEditor();t&&t.getControl().restoreViewState(this.lastKnownEditorViewState)}this.lastKnownEditorViewState=null,this.activeOutlineRequest=null},r}(l.QuickOpenHandler);C=v([y(0,p.IWorkbenchEditorService)],C),t.GotoSymbolHandler=C}),define(u[1089],d([1,0,665,4,7,18,84,102,115,122,12,14,82,46,22,6,27,23,247,39,28]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var w=function(e){function t(t,n,i,r,o,s){var a=e.call(this,o)||this;return a._bearing=t,a._provider=n,a._configurationService=i,a._contextService=r,a._environmentService=s,a}return h(t,e),t.prototype.getLabel=function(){return this._bearing.name},t.prototype.getAriaLabel=function(){return n.localize(0,null,this.getLabel())},t.prototype.getDescription=function(){var e=this._bearing.containerName;return this._bearing.location.uri?e?e+" — "+C.basename(this._bearing.location.uri.fsPath):p.getPathLabel(this._bearing.location.uri,this._contextService,this._environmentService):e},t.prototype.getIcon=function(){return f.symbolKindToCssClass(this._bearing.kind)},t.prototype.getResource=function(){return this._bearing.location.uri},t.prototype.run=function(t,n){var o=this;return this._bearingResolve||"function"!=typeof this._provider.resolveWorkspaceSymbol||this._bearing.location.range||(this._bearingResolve=this._provider.resolveWorkspaceSymbol(this._bearing).then(function(e){return o._bearing=e||o._bearing,o},r.onUnexpectedError)),i.TPromise.as(this._bearingResolve).then(function(i){return e.prototype.run.call(o,t,n)}).done(void 0,r.onUnexpectedError),t===c.Mode.OPEN},t.prototype.getInput=function(){var e={resource:this._bearing.location.uri,options:{pinned:!this._configurationService.getConfiguration().workbench.editor.enablePreviewFromQuickOpen}};return this._bearing.location.range&&(e.options.selection=d.Range.collapseToStart(this._bearing.location.range)),e},t.compare=function(e,t,n){if(e.getLabel().toLowerCase()===t.getLabel().toLowerCase()){var i=f.symbolKindToCssClass(e._bearing.kind),r=f.symbolKindToCssClass(t._bearing.kind);return i.localeCompare(r)}return a.QuickOpenEntry.compare(e,t,n)},t}(s.EditorQuickOpenEntry);w=v([y(2,S.IConfigurationService),y(3,b.IWorkspaceContextService),y(4,g.IWorkbenchEditorService),y(5,E.IEnvironmentService)],w);var I=function(e){function t(n){var i=e.call(this)||this;return i.instantiationService=n,i.delayer=new o.ThrottledDelayer(t.SEARCH_DELAY),i.options=Object.create(null),i}return h(t,e),t.prototype.setOptions=function(e){this.options=e},t.prototype.canRun=function(){return!0},t.prototype.getResults=function(e){var t=this;e=e.trim();return(this.options.skipDelay?this.doGetResults(e):this.delayer.trigger(function(){return t.doGetResults(e)})).then(function(e){return new a.QuickOpenModel(e)})},t.prototype.doGetResults=function(e){var t=this;return _.getWorkspaceSymbols(e).then(function(n){for(var i=[],r=0,o=n;r<o.length;r++){var s=o[r],a=s[0],c=s[1];t.fillInSymbolEntries(i,a,c,e)}return t.options.skipSorting?i:(e=e?u.stripWildcards(e.toLowerCase()):e,i.sort(function(t,n){return w.compare(t,n,e)}))})},t.prototype.fillInSymbolEntries=function(e,t,n,i){for(var r=0,o=n;r<o.length;r++){var s=o[r];if(!this.options.skipLocalSymbols||!s.containerName){var a=this.instantiationService.createInstance(w,s,t);a.setHighlights(l.matchesFuzzy(i,a.getLabel())),e.push(a)}}},t.prototype.getGroupLabel=function(){return n.localize(1,null)},t.prototype.getEmptyLabel=function(e){return e.length>0?n.localize(2,null):n.localize(3,null)},t.prototype.getAutoFocus=function(e){return{autoFocusFirstEntry:!0,autoFocusPrefixMatch:e.trim()}},t}(s.QuickOpenHandler);I.SEARCH_DELAY=500,I=v([y(0,m.IInstantiationService)],I),t.OpenSymbolHandler=I}),define(u[211],d([1,0,28,26,12,7,18,5,70,8,156,818,19,14,33,6,44,193,296,77]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var C=function(){function e(e,t,n,i,r){this._parent=e,this._lineText=t,this._range=new f.Range(1+n,1+i,1+n,1+i+r),this._id=this._parent.id()+">"+n+">"+i+this.getMatchString()}return e.prototype.id=function(){return this._id},e.prototype.parent=function(){return this._parent},e.prototype.text=function(){return this._lineText},e.prototype.range=function(){return this._range},e.prototype.preview=function(){var e=this._lineText.substring(0,this._range.startColumn-1),t=this.getMatchString(),n=this._lineText.substring(this._range.endColumn-1,Math.min(this._range.endColumn+150,this._lineText.length));return e=r.lcut(e,26),{before:e,inside:t,after:n}},Object.defineProperty(e.prototype,"replaceString",{get:function(){var e=this.parent().parent().searchModel,t=this.getMatchString(),n=e.replacePattern.getReplaceString(t);return null===n&&(n=e.replacePattern.getReplaceString(t+this._lineText.substring(this._range.endColumn-1))),null===n&&(n=e.replacePattern.pattern),n},enumerable:!0,configurable:!0}),e.prototype.getMatchString=function(){return this._lineText.substring(this._range.startColumn-1,this._range.endColumn-1)},e}();t.Match=C;var w=function(e){function t(t,n,i,r,o,a){var c=e.call(this)||this;return c._query=t,c._maxResults=n,c._parent=i,c.rawMatch=r,c.modelService=o,c.replaceService=a,c._onChange=c._register(new l.Emitter),c.onChange=c._onChange.event,c._onDispose=c._register(new l.Emitter),c.onDispose=c._onDispose.event,c._modelDecorations=[],c._resource=c.rawMatch.resource,c._matches=new Map,c._removedMatches=new Set,c._updateScheduler=new s.RunOnceScheduler(c.updateMatchesForModel.bind(c),250),c.createMatches(),c.registerListeners(),c}return h(t,e),t.getDecorationOption=function(e){return e?t._CURRENT_FIND_MATCH:t._FIND_MATCH},t.prototype.createMatches=function(){var e=this,t=this.modelService.getModel(this._resource);t?(this.bindModel(t),this.updateMatchesForModel()):this.rawMatch.lineMatches.forEach(function(t){t.offsetAndLengths.forEach(function(n){var i=new C(e,t.preview,t.lineNumber,n[0],n[1]);e.add(i)})})},t.prototype.registerListeners=function(){var e=this;this._register(this.modelService.onModelAdded(function(t){t.uri.toString()===e._resource.toString()&&e.bindModel(t)}))},t.prototype.bindModel=function(e){var t=this;this._model=e,this._modelListener=this._model.onDidChangeContent(function(e){t._updateScheduler.schedule()}),this._model.onWillDispose(function(){return t.onModelWillDispose()}),this.updateHighlights()},t.prototype.onModelWillDispose=function(){this.updateMatchesForModel(),this.unbindModel()},t.prototype.unbindModel=function(){this._model&&(this._updateScheduler.cancel(),this._model.deltaDecorations(this._modelDecorations,[]),this._model=null,this._modelListener.dispose())},t.prototype.updateMatchesForModel=function(){if(this._model){this._matches=new Map;var e=this._model.findMatches(this._query.pattern,this._model.getFullModelRange(),this._query.isRegExp,this._query.isCaseSensitive,this._query.isWordMatch?this._query.wordSeparators:null,!1,this._maxResults);this.updateMatches(e,!0)}},t.prototype.updatesMatchesForLineAfterReplace=function(e,t){var n=this,i={startLineNumber:e,startColumn:this._model.getLineMinColumn(e),endLineNumber:e,endColumn:this._model.getLineMaxColumn(e)};c.values(this._matches).filter(function(t){return t.range().startLineNumber===e}).forEach(function(e){return n._matches.delete(e.id())});var r=this._model.findMatches(this._query.pattern,i,this._query.isRegExp,this._query.isCaseSensitive,this._query.isWordMatch?this._query.wordSeparators:null,!1,this._maxResults);this.updateMatches(r,t)},t.prototype.updateMatches=function(e,t){var n=this;e.forEach(function(e){var t=new C(n,n._model.getLineContent(e.range.startLineNumber),e.range.startLineNumber-1,e.range.startColumn-1,e.range.endColumn-e.range.startColumn);n._removedMatches.has(t.id())||(n.add(t),n.isMatchSelected(t)&&(n._selectedMatch=t))}),this._onChange.fire(t),this.updateHighlights()},t.prototype.updateHighlights=function(){var e=this;this._model&&(this.parent().showHighlights?this._modelDecorations=this._model.deltaDecorations(this._modelDecorations,this.matches().map(function(n){return{range:n.range(),options:t.getDecorationOption(e.isMatchSelected(n))}})):this._modelDecorations=this._model.deltaDecorations(this._modelDecorations,[]))},t.prototype.id=function(){return this.resource().toString()},t.prototype.parent=function(){return this._parent},t.prototype.matches=function(){return c.values(this._matches)},t.prototype.remove=function(e){this.removeMatch(e),this._removedMatches.add(e.id()),this._onChange.fire(!1)},t.prototype.replace=function(e){var t=this;return this.replaceService.replace(e).then(function(){return t.updatesMatchesForLineAfterReplace(e.range().startLineNumber,!1)})},t.prototype.setSelectedMatch=function(e){if(e){if(!this._matches.has(e.id()))return;if(this.isMatchSelected(e))return}this._selectedMatch=e,this.updateHighlights()},t.prototype.getSelectedMatch=function(){return this._selectedMatch},t.prototype.isMatchSelected=function(e){return this._selectedMatch&&this._selectedMatch.id()===e.id()},t.prototype.count=function(){return this.matches().length},t.prototype.resource=function(){return this._resource},t.prototype.name=function(){return n.basename(this.resource().fsPath)},t.prototype.add=function(e,t){this._matches.set(e.id(),e),t&&this._onChange.fire(!0)},t.prototype.removeMatch=function(e){this._matches.delete(e.id()),this.isMatchSelected(e)?this.setSelectedMatch(null):this.updateHighlights()},t.prototype.dispose=function(){this.setSelectedMatch(null),this.unbindModel(),this._onDispose.fire(),e.prototype.dispose.call(this)},t}(a.Disposable);w._CURRENT_FIND_MATCH=E.ModelDecorationOptions.register({stickiness:g.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"currentFindMatch",overviewRuler:{color:"rgba(246, 185, 77, 0.7)",darkColor:"rgba(246, 185, 77, 0.7)",position:g.OverviewRulerLane.Center}}),w._FIND_MATCH=E.ModelDecorationOptions.register({stickiness:g.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"findMatch",overviewRuler:{color:"rgba(246, 185, 77, 0.7)",darkColor:"rgba(246, 185, 77, 0.7)",position:g.OverviewRulerLane.Center}}),w=v([y(4,b.IModelService),y(5,S.IReplaceService)],w),t.FileMatch=w;var I=function(e){function t(t,n,i,r){var o=e.call(this)||this;return o._searchModel=t,o.replaceService=n,o.telemetryService=i,o.instantiationService=r,o._onChange=o._register(new l.Emitter),o.onChange=o._onChange.event,o._query=null,o._replacingAll=!1,o._fileMatches=new c.ResourceMap,o._unDisposedFileMatches=new c.ResourceMap,o._rangeHighlightDecorations=o.instantiationService.createInstance(_.RangeHighlightDecorations),o}return h(t,e),Object.defineProperty(t.prototype,"query",{set:function(e){this._query=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxResults",{set:function(e){this._maxResults=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"searchModel",{get:function(){return this._searchModel},enumerable:!0,configurable:!0}),t.prototype.add=function(e,t){var n=this;void 0===t&&(t=!1);var i=[];e.forEach(function(e){if(!n._fileMatches.has(e.resource)){var t=n.instantiationService.createInstance(w,n._query,n._maxResults,n,e);n.doAdd(t),i.push(t);var r=t.onChange(function(){return n.onFileChange(t)});t.onDispose(function(){return r.dispose()})}}),!t&&i.length&&this._onChange.fire({elements:i,added:!0})},t.prototype.clear=function(){var e=this.matches();this.disposeMatches(),this._onChange.fire({elements:e,removed:!0})},t.prototype.remove=function(e){this.doRemove(e)},t.prototype.replace=function(e){var t=this;return this.replaceService.replace([e]).then(function(){t.doRemove(e,!1,!0)})},t.prototype.replaceAll=function(e){var t=this;this._replacingAll=!0;var n=this.replaceService.replace(this.matches(),e);return l.stopwatch(l.fromPromise(n))(function(e){return t.telemetryService.publicLog("replaceAll.started",{duration:e})}),n.then(function(){t._replacingAll=!1,t.clear()},function(){t._replacingAll=!1})},t.prototype.matches=function(){return this._fileMatches.values()},t.prototype.isEmpty=function(){return 0===this.fileCount()},t.prototype.fileCount=function(){return this._fileMatches.size},t.prototype.count=function(){return this.matches().reduce(function(e,t){return e+t.count()},0)},Object.defineProperty(t.prototype,"showHighlights",{get:function(){return this._showHighlights},enumerable:!0,configurable:!0}),t.prototype.toggleHighlights=function(e){if(this._showHighlights!==e){this._showHighlights=e;var t=null;this.matches().forEach(function(e){e.updateHighlights(),t||(t=e.getSelectedMatch())}),this._showHighlights&&t?this._rangeHighlightDecorations.highlightRange({resource:t.parent().resource(),range:t.range()}):this._rangeHighlightDecorations.removeHighlightRange()}},Object.defineProperty(t.prototype,"rangeHighlightDecorations",{get:function(){return this._rangeHighlightDecorations},enumerable:!0,configurable:!0}),t.prototype.onFileChange=function(e){var t=!1,n=!1;this._fileMatches.has(e.resource())||(this.doAdd(e),t=!0),0===e.count()&&(this.doRemove(e,!1,!1),t=!1,n=!0),this._replacingAll||this._onChange.fire({elements:[e],added:t,removed:n})},t.prototype.doAdd=function(e){this._fileMatches.set(e.resource(),e),this._unDisposedFileMatches.has(e.resource())&&this._unDisposedFileMatches.delete(e.resource())},t.prototype.doRemove=function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!0),this._fileMatches.delete(e.resource()),t?e.dispose():this._unDisposedFileMatches.set(e.resource(),e),n&&this._onChange.fire({elements:[e],removed:!0})},t.prototype.disposeMatches=function(){this._fileMatches.values().forEach(function(e){return e.dispose()}),this._unDisposedFileMatches.values().forEach(function(e){return e.dispose()}),this._fileMatches.clear(),this._unDisposedFileMatches.clear(),this._rangeHighlightDecorations.removeHighlightRange()},t.prototype.dispose=function(){this.disposeMatches(),this._rangeHighlightDecorations.dispose(),e.prototype.dispose.call(this)},t}(a.Disposable);I=v([y(1,S.IReplaceService),y(2,p.ITelemetryService),y(3,m.IInstantiationService)],I),t.SearchResult=I;var T=function(e){function t(t,n,i){var r=e.call(this)||this;return r.searchService=t,r.telemetryService=n,r.instantiationService=i,r._searchQuery=null,r._replaceActive=!1,r._replaceString=null,r._replacePattern=null,r._onReplaceTermChanged=r._register(new l.Emitter),r.onReplaceTermChanged=r._onReplaceTermChanged.event,r._searchResult=r.instantiationService.createInstance(I,r),r}return h(t,e),t.prototype.isReplaceActive=function(){return this._replaceActive},Object.defineProperty(t.prototype,"replaceActive",{set:function(e){this._replaceActive=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"replacePattern",{get:function(){return this._replacePattern},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"replaceString",{get:function(){return this._replaceString},set:function(e){this._replaceString=e,this._searchQuery&&(this._replacePattern=new d.ReplacePattern(e,this._searchQuery.contentPattern)),this._onReplaceTermChanged.fire()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"searchResult",{get:function(){return this._searchResult},enumerable:!0,configurable:!0}),t.prototype.search=function(e){var t=this;this.cancelSearch(),this._searchQuery=e,this.currentRequest=this.searchService.search(this._searchQuery),this.searchResult.clear(),this._searchResult.query=this._searchQuery.contentPattern,this._searchResult.maxResults=this._searchQuery.maxResults,this._replacePattern=new d.ReplacePattern(this._replaceString,this._searchQuery.contentPattern);var n=l.fromPromise(this.currentRequest),i=new l.Emitter,r=l.any(n,i.event);l.stopwatch(r)(function(e){return t.telemetryService.publicLog("searchResultsFirstRender",{duration:e})});var o=l.stopwatch(n),s=Date.now();o(function(e){return t.telemetryService.publicLog("searchResultsFinished",{duration:e})});var a=this.currentRequest;return this.currentRequest.then(function(e){return t.onSearchCompleted(e,Date.now()-s)},function(e){return t.onSearchError(e,Date.now()-s)},function(e){i.fire(),t.onSearchProgress(e)}),a},t.prototype.onSearchCompleted=function(e,t){this.currentRequest=null,e&&this._searchResult.add(e.results,!1);var n=i.assign({},this._searchQuery.contentPattern);return delete n.pattern,this.telemetryService.publicLog("searchResultsShown",{count:this._searchResult.count(),fileCount:this._searchResult.fileCount(),options:n,duration:t}),e},t.prototype.onSearchError=function(e,t){o.isPromiseCanceledError(e)&&this.onSearchCompleted(null,t)},t.prototype.onSearchProgress=function(e){e.resource&&this._searchResult.add([e],!0)},t.prototype.cancelSearch=function(){return!!this.currentRequest&&(this.currentRequest.cancel(),this.currentRequest=null,!0)},t.prototype.dispose=function(){this.cancelSearch(),this.searchResult.dispose(),e.prototype.dispose.call(this)},t}(a.Disposable);T=v([y(0,u.ISearchService),y(1,p.ITelemetryService),y(2,m.IInstantiationService)],T),t.SearchModel=T;var k=function(){function e(e){this.instantiationService=e}return Object.defineProperty(e.prototype,"searchModel",{get:function(){return this._searchModel||(this._searchModel=this.instantiationService.createInstance(T)),this._searchModel},enumerable:!0,configurable:!0}),e}();k=v([y(0,m.IInstantiationService)],k),t.SearchWorkbenchService=k,t.ISearchWorkbenchService=m.createDecorator("searchWorkbenchService")}),define(u[1091],d([1,0,667,7,4,79,5,193,63,44,42,211,319,19,71,6,43]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var S=function(e){return e.with({scheme:o.Schemas.internal,fragment:"replacePreview",query:JSON.stringify({scheme:e.scheme})})},_=function(e){return e.with({scheme:JSON.parse(e.query).scheme,fragment:"",query:""})},E=function(){function e(e,t){this.instantiationService=e,this.textModelResolverService=t,this.textModelResolverService.registerTextModelContentProvider(o.Schemas.internal,this)}return e.prototype.getId=function(){return"replace.preview.contentprovider"},e.prototype.provideTextContent=function(e){return"replacePreview"===e.fragment?this.instantiationService.createInstance(C).resolve(e):null},e}();E=v([y(0,m.IInstantiationService),y(1,g.ITextModelService)],E),t.ReplacePreviewContentProvider=E;var C=function(e){function t(t,n,i,r,o){var s=e.call(this)||this;return s.modelService=t,s.modeService=n,s.textModelResolverService=i,s.replaceService=r,s.searchWorkbenchService=o,s}return h(t,e),t.prototype.resolve=function(e){var t=this,n=_(e),i=this.searchWorkbenchService.searchModel.searchResult.matches().filter(function(e){return e.resource().toString()===n.toString()})[0];return this.textModelResolverService.createModelReference(n).then(function(n){var r=(n=t._register(n)).object.textEditorModel,o=r.getLanguageIdentifier().language,s=t.modelService.createModel(r.getValue(),t.modeService.getOrCreateMode(o),e);return t._register(i.onChange(function(e){return t.update(r,s,i,e)})),t._register(t.searchWorkbenchService.searchModel.onReplaceTermChanged(function(){return t.update(r,s,i)})),t._register(i.onDispose(function(){return s.dispose()})),t._register(s.onWillDispose(function(){return t.dispose()})),t._register(r.onWillDispose(function(){return t.dispose()})),s})},t.prototype.update=function(e,t,n,i){void 0===i&&(i=!1),e.isDisposed()||t.isDisposed()||this.replaceService.updateReplacePreview(n,i)},t}(s.Disposable);C=v([y(0,l.IModelService),y(1,u.IModeService),y(2,g.ITextModelService),y(3,a.IReplaceService),y(4,d.ISearchWorkbenchService)],C);var w=function(){function e(e,t,n,i,r,o){this.telemetryService=e,this.fileService=t,this.editorService=n,this.instantiationService=i,this.textModelResolverService=r,this.searchWorkbenchService=o}return e.prototype.replace=function(e,t,n){var i=this;void 0===t&&(t=null),void 0===n&&(n=null);var r=p.createBulkEdit(this.textModelResolverService,null,this.fileService);if(r.progress(t),e instanceof d.Match){var o=e;r.add([this.createEdit(o,o.replaceString,n)])}return e instanceof d.FileMatch&&(e=[e]),e instanceof Array&&e.forEach(function(e){var t=e;t.count()>0&&t.matches().forEach(function(e){r.add([i.createEdit(e,e.replaceString,n)])})}),r.finish()},e.prototype.openReplacePreview=function(e,t,r,o){var s=this;this.telemetryService.publicLog("replace.open.previewEditor");var a=e instanceof d.Match?e.parent():e;return this.editorService.openEditor({leftResource:a.resource(),rightResource:S(a.resource()),label:n.localize(0,null,a.name(),a.name()),options:{preserveFocus:t,pinned:o,revealIfVisible:!0}}).then(function(t){s.updateReplacePreview(a).then(function(){var n=t.getControl();e instanceof d.Match&&n.revealLineInCenter(e.range().startLineNumber)})},i.onUnexpectedError)},e.prototype.updateReplacePreview=function(e,t){var n=this;void 0===t&&(t=!1);var i=S(e.resource());return r.TPromise.join([this.textModelResolverService.createModelReference(e.resource()),this.textModelResolverService.createModelReference(i)]).then(function(o){var s=o[0],a=o[1],c=s.object.textEditorModel,l=a.object.textEditorModel,u=r.TPromise.wrap(null);return c&&l&&(t?l.setValue(c.getValue()):l.undo(),u=n.replace(e,null,i)),u.then(function(){s.dispose(),a.dispose()})})},e.prototype.createEdit=function(e,t,n){void 0===n&&(n=null);var i=e.parent();return{resource:null!==n?n:i.resource(),range:e.range(),newText:t}},e}();w=v([y(0,f.ITelemetryService),y(1,b.IFileService),y(2,c.IEditorService),y(3,m.IInstantiationService),y(4,g.ITextModelService),y(5,d.ISearchWorkbenchService)],w),t.ReplaceService=w}),define(u[1092],d([1,0,116,193,1091,15,85]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerContributions=function(){n.registerSingleton(i.IReplaceService,r.ReplaceService),o.Registry.as(s.Extensions.Workbench).registerWorkbenchContribution(r.ReplacePreviewContentProvider)}}),define(u[1093],d([1,0,9,698,52,11,76,16,5,22,27,119,4,23]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f="(((\\.\\.?|\\~)|([^\\0\\s!$`&*()\\[\\]+'\":;]|(\\\\s|\\\\!|\\\\$|\\\\`|\\\\&|\\\\*|(|)|\\+))+)?(\\/([^\\0\\s!$`&*()\\[\\]+'\":;]|(\\\\s|\\\\!|\\\\$|\\\\`|\\\\&|\\\\*|(|)|\\+))+)+)",g="((([a-zA-Z]:|\\.\\.?|\\~)|([^\\0<>\\?\\|\\/\\s!$`&*()\\[\\]+'\":;])+)?((\\\\|\\/)([^\\0<>\\?\\|\\/\\s!$`&*()\\[\\]+'\":;])+)+)",m=["((\\S*) on line ((\\d+)(, column (\\d+))?))","((\\S*):line ((\\d+)(, column (\\d+))?))","(([^\\s\\(\\)]*)(\\s?[\\(\\[](\\d+)(,\\s?(\\d+))?)[\\)\\]])","(([^:\\s\\(\\)<>'\"\\[\\]]*)(:(\\d+))?(:(\\d+))?)"].join("|").replace(/ /g,"[  ]"),b=function(){function e(e,t,n,i,r,s){var a=this;this._xterm=e,this._platform=t,this._openerService=n,this._editorService=i,this._contextService=r,this._configurationService=s,this._hoverDisposables=[];var c=t===o.Platform.Windows?g:f;this._localLinkPattern=new RegExp(c+"("+m+")"),this._xterm.setHypertextLinkHandler(this._wrapLinkHandler(function(){return!0})),this._xterm.setHypertextValidationCallback(function(e,t,n){a._validateWebLink(e,t,n)})}return e.prototype.setWidgetManager=function(e){this._widgetManager=e},e.prototype.registerCustomLinkHandler=function(e,t,n,i){var r=this;return this._xterm.registerLinkMatcher(e,this._wrapLinkHandler(t),{matchIndex:n,validationCallback:function(e,t,n){r._addTooltipEventListeners(t),i?i(e,t,n):n(!0)},priority:-1})},e.prototype.registerLocalLinkHandler=function(){var e=this,t=this._wrapLinkHandler(function(t){e._handleLocalLink(t)});return this._xterm.registerLinkMatcher(this._localLinkRegex,t,{validationCallback:function(t,n,i){return e._validateLocalLink(t,n,i)},priority:-2})},e.prototype.dispose=function(){this._hoverDisposables=c.dispose(this._hoverDisposables),this._mouseMoveDisposable=c.dispose(this._mouseMoveDisposable)},e.prototype._wrapLinkHandler=function(e){var t=this;return function(n,i){return t._isLinkActivationModifierDown(n)?e(i):(n.preventDefault(),!1)}},Object.defineProperty(e.prototype,"_localLinkRegex",{get:function(){return this._localLinkPattern},enumerable:!0,configurable:!0}),e.prototype._handleLocalLink=function(e){var t=this;return this._resolvePath(e).then(function(e){if(e){var n=r.normalize(r.resolve(e)),i=t.extractLinkUrl(n);n=t._formatLocalLinkPath(n);var o=a.default.file(i);return o=o.with({fragment:a.default.parse(n).fragment}),t._openerService.open(o)}})},e.prototype._validateLocalLink=function(e,t,n){var i=this;this._resolvePath(e).then(function(e){e&&i._addTooltipEventListeners(t),n(!!e)})},e.prototype._validateWebLink=function(e,t,n){this._addTooltipEventListeners(t),n(!0)},e.prototype._isLinkActivationModifierDown=function(e){return"ctrlCmd"===this._configurationService.getConfiguration("editor").multiCursorModifier?!!e.altKey:o.isMacintosh?e.metaKey:e.ctrlKey},e.prototype._getLinkHoverString=function(){return"ctrlCmd"===this._configurationService.getConfiguration("editor").multiCursorModifier?i.localize(0,null):o.isMacintosh?i.localize(1,null):i.localize(2,null)},e.prototype._addTooltipEventListeners=function(e){var t=this,i=null,r=!1;this._hoverDisposables.push(n.addDisposableListener(e,n.EventType.MOUSE_OVER,function(o){e.classList.toggle("active",t._isLinkActivationModifierDown(o)),t._mouseMoveDisposable=n.addDisposableListener(e,n.EventType.MOUSE_MOVE,function(n){e.classList.toggle("active",t._isLinkActivationModifierDown(n))}),i=setTimeout(function(){t._widgetManager.showMessage(e.offsetLeft,e.offsetTop,t._getLinkHoverString()),r=!0},500)})),this._hoverDisposables.push(n.addDisposableListener(e,n.EventType.MOUSE_OUT,function(){e.classList.remove("active"),t._mouseMoveDisposable&&t._mouseMoveDisposable.dispose(),clearTimeout(i),t._widgetManager.closeMessage(),r=!1}))},e.prototype._preprocessPath=function(e){if(this._platform===o.Platform.Windows){if("~"===e.charAt(0)){if(!process.env.HOMEDRIVE||!process.env.HOMEPATH)return null;e=process.env.HOMEDRIVE+"\\"+(process.env.HOMEPATH+e.substring(1))}if(!e.match("^[a-zA-Z]:")){if(!this._contextService.hasWorkspace())return null;e=r.join(this._contextService.getWorkspace().resource.fsPath,e)}}else if("/"!==e.charAt(0)&&"~"!==e.charAt(0)){if(!this._contextService.hasWorkspace())return null;e=r.join(this._contextService.getWorkspace().resource.fsPath,e)}return e},e.prototype._resolvePath=function(e){if(!(e=this._preprocessPath(e)))return h.TPromise.as(void 0);var t=this.extractLinkUrl(e);return t?s.fileExists(t).then(function(t){return t?e:null}):h.TPromise.as(void 0)},e.prototype._formatLocalLinkPath=function(e){var t=this.extractLineColumnInfo(e);return t.lineNumber&&(e+="#"+t.lineNumber,t.columnNumber&&(e+=","+t.columnNumber)),e},e.prototype.extractLineColumnInfo=function(e){for(var t=this._localLinkRegex.exec(e),n={},i=this._platform===o.Platform.Windows?12:15,r=0;r<m.length;r++){var s=i+6*r,a=t[s];if(a){n.lineNumber=a;var c=t[s+2];c&&(n.columnNumber=c);break}}return n},e.prototype.extractLinkUrl=function(e){var t=this._localLinkRegex.exec(e);return t?t[1]:null},e}();b=v([y(2,d.IOpenerService),y(3,l.IWorkbenchEditorService),y(4,u.IWorkspaceContextService),y(5,p.IConfigurationService)],b),t.TerminalLinkHandler=b}),define(u[1094],d([1,0,713,22,63,21,6,16,230,79]),function(e,t,n,i,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(t){function i(e,n,i,r){var o=t.call(this,e,n)||this;return o.editorService=i,o.instantiationService=r,o}return h(i,t),i.prototype.run=function(){var t=a.default.parse(e.toUrl("./vs_code_editor_walkthrough.md")).with({scheme:l.Schemas.walkThrough}),i=this.instantiationService.createInstance(c.WalkThroughInput,n.localize(1,null),"",t,null,null);return this.editorService.openEditor(i,{pinned:!0},r.Position.ONE).then(function(){})},i}(o.Action);u.ID="workbench.action.showInteractivePlayground",u.LABEL=n.localize(0,null),u=v([y(2,i.IWorkbenchEditorService),y(3,s.IInstantiationService)],u),t.EditorWalkThroughAction=u}),define(u[1095],d([1,0,28,24,4,18,39,23,32,22,30,27]),function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function e(e,t,i,r,o,s){var a=this;this.editorService=t,this.configurationService=r,this.commandService=o,this.contextService=s,this._workspaceRoot=n.normalize(s.hasWorkspace()?s.getWorkspace().resource.fsPath:"",!0),this._execPath=i.execPath,Object.keys(e).forEach(function(t){a["env:"+t]=e[t]})}return Object.defineProperty(e.prototype,"execPath",{get:function(){return this._execPath},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cwd",{get:function(){return this.workspaceRoot},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"workspaceRoot",{get:function(){return this._workspaceRoot},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"workspaceRootFolderName",{get:function(){return this.workspaceRoot?n.basename(this.workspaceRoot):""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"file",{get:function(){return this.getFilePath()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeFile",{get:function(){return this.workspaceRoot?n.relative(this.workspaceRoot,this.file):this.file},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fileBasename",{get:function(){return n.basename(this.getFilePath())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fileBasenameNoExtension",{get:function(){var e=this.fileBasename;return e.slice(0,e.length-n.extname(e).length)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fileDirname",{get:function(){return n.dirname(this.getFilePath())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fileExtname",{get:function(){return n.extname(this.getFilePath())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineNumber",{get:function(){var e=this.editorService.getActiveEditor();if(e){var t=e.getControl();if(t){var n=t.getSelection().positionLineNumber;return String(n)}}return""},enumerable:!0,configurable:!0}),e.prototype.getFilePath=function(){var e=this.editorService.getActiveEditorInput();if(!e)return"";var t=u.toResource(e,{filter:"file"});return t?n.normalize(t.fsPath,!0):""},e.prototype.resolve=function(e){return i.isString(e)?this.resolveString(e):i.isArray(e)?this.resolveArray(e):i.isObject(e)?this.resolveLiteral(e):e},e.prototype.resolveAny=function(e){return i.isString(e)?this.resolveString(e):i.isArray(e)?this.resolveAnyArray(e):i.isObject(e)?this.resolveAnyLiteral(e):e},e.prototype.resolveString=function(e){var t=this,n=/\$\{(.*?)\}/g,r=e,o=e.replace(n,function(e,n){var r=t[n];return i.isString(r)?r:e&&e.indexOf("env:")>0?"":e});return this.resolveConfigVariable(o,r)},e.prototype.resolveConfigVariable=function(e,t){var n=this;return e.replace(/\$\{config:(.+?)\}/g,function(e,r){var o,s=n.configurationService.getConfiguration();try{var a=r.split(".");if(!a||a.length<=0)return"";for(;a.length>1;){var c=a.shift();if(!s||!s.hasOwnProperty(c))return"";s=s[c]}o=s&&s.hasOwnProperty(a[0])?s[a[0]]:""}catch(e){return""}return i.isString(o)?o===t?"":n.resolveString(o):n.resolve(o)+""})},e.prototype.resolveLiteral=function(e){var t=this,n=Object.create(null);return Object.keys(e).forEach(function(i){var r=e[i];n[i]=t.resolve(r)}),n},e.prototype.resolveAnyLiteral=function(e){var t=this,n=Object.create(null);return Object.keys(e).forEach(function(i){var r=e[i];n[i]=t.resolveAny(r)}),n},e.prototype.resolveArray=function(e){var t=this;return e.map(function(e){return t.resolveString(e)})},e.prototype.resolveAnyArray=function(e){var t=this;return e.map(function(e){return t.resolveAny(e)})},e.prototype.resolveInteractiveVariables=function(e,t){var n=this;if(!e)return r.TPromise.as(null);var i={},s=function(e){Object.keys(e).forEach(function(t){if(e[t]&&"object"==typeof e[t])s(e[t]);else if("string"==typeof e[t]){var n=/\${command:(.+)}/.exec(e[t]);if(n&&2===n.length){var r=n[1];i[r]||(i[r]=[]),i[r].push({object:e,key:t})}}})};s(e);var a=!1,c=Object.keys(i).map(function(r){return function(){var o=null;return(o=t?t[r]:null)||(o=r),n.commandService.executeCommand(o,e).then(function(e){e?i[r].forEach(function(t){t.object[t.key].indexOf("${command:"+r+"}")>=0&&(t.object[t.key]=t.object[t.key].replace("${command:"+r+"}",e))}):a=!0})}});return o.sequence(c).then(function(){return a?null:e})},e}();h=v([y(1,l.IWorkbenchEditorService),y(2,s.IEnvironmentService),y(3,a.IConfigurationService),y(4,c.ICommandService),y(5,d.IWorkspaceContextService)],h),t.ConfigurationResolverService=h}),define(u[224],d([1,0,16,43,11]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toFileChangesEvent=function(e){return new i.FileChangesEvent(e.map(function(e){return{type:e.type,resource:n.default.file(e.path)}}))},t.normalize=function(e){for(var t=new o,n=0;n<e.length;n++){var i=e[n];t.processEvent(i)}return t.normalize()};var o=function(){function e(){this.normalized=[],this.mapPathToChange=Object.create(null)}return e.prototype.processEvent=function(e){var t=this.mapPathToChange[e.path];if(t){var n=t.type,r=e.type;n===i.FileChangeType.ADDED&&r===i.FileChangeType.DELETED?(delete this.mapPathToChange[e.path],this.normalized.splice(this.normalized.indexOf(t),1)):n===i.FileChangeType.DELETED&&r===i.FileChangeType.ADDED?t.type=i.FileChangeType.UPDATED:n===i.FileChangeType.ADDED&&r===i.FileChangeType.UPDATED||(t.type=r)}else this.normalized.push(e),this.mapPathToChange[e.path]=e},e.prototype.normalize=function(){var e=[],t=[];return this.normalized.filter(function(t){return 2===t.type||(e.push(t),!1)}).sort(function(e,t){return e.path.length-t.path.length}).filter(function(e){return!t.some(function(t){return i.isParent(e.path,t,!r.isLinux)})&&(t.push(e.path),!0)}).concat(e)},e}()}),define(u[1097],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.service=e}return e.prototype.call=function(e,t){switch(e){case"initialize":return this.service.initialize(t);case"setRoots":return this.service.setRoots(t)}},e}();t.WatcherChannel=n;var i=function(){function e(e){this.channel=e}return e.prototype.initialize=function(e){return this.channel.call("initialize",e)},e.prototype.setRoots=function(e){return this.channel.call("setRoots",e)},e}();t.WatcherChannelClient=i}),define(u[1098],d([1,0,4,132,232,16,224,1097,5]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function t(e,t,n,i,r){this.contextService=e,this.configurationService=t,this.onFileChanges=n,this.errorLogger=i,this.verboseLogging=r,this.isDisposed=!1,this.restartCounter=0,this.toDispose=[]}return t.prototype.startWatching=function(){var s=this,c=["--type=watcherService"],l=new r.Client(o.default.parse(e.toUrl("bootstrap")).fsPath,{serverName:"Watcher",args:c,env:{AMD_ENTRYPOINT:"vs/workbench/services/files/node/watcher/nsfw/watcherApp",PIPE_LOGGING:"true",VERBOSE_LOGGING:this.verboseLogging}});this.toDispose.push(l);var u=i.getNextTickChannel(l.getChannel("watcher"));return this.service=new a.WatcherChannelClient(u),this.service.initialize(this.verboseLogging).then(null,function(e){if(!(s.isDisposed||e instanceof Error&&"Canceled"===e.name&&"Canceled"===e.message))return n.TPromise.wrapError(e)},function(e){return s.onRawFileEvents(e)}).done(function(){s.isDisposed||(s.restartCounter<=t.MAX_RESTARTS?(s.errorLogger("[FileWatcher] terminated unexpectedly and is restarted again..."),s.restartCounter++,s.startWatching()):s.errorLogger("[FileWatcher] failed to start after retrying for some time, giving up. Please report this as a bug report!"))},function(e){s.isDisposed||s.errorLogger(e)}),this.updateRoots(),this.toDispose.push(this.contextService.onDidChangeWorkspaceRoots(function(){return s.updateRoots()})),this.toDispose.push(this.configurationService.onDidUpdateConfiguration(function(){return s.updateRoots()})),function(){return s.dispose()}},t.prototype.updateRoots=function(){var e=this;if(!this.isDisposed){var t=this.contextService.getWorkspace2().roots;this.service.setRoots(t.map(function(t){var n=e.configurationService.getConfiguration(void 0,{resource:t}),i=[];return n.files&&n.files.watcherExclude&&(i=Object.keys(n.files.watcherExclude).filter(function(e){return!!n.files.watcherExclude[e]})),{basePath:t.fsPath,ignored:i}}))}},t.prototype.onRawFileEvents=function(e){this.isDisposed||e.length>0&&this.onFileChanges(s.toFileChangesEvent(e))},t.prototype.dispose=function(){this.isDisposed=!0,this.toDispose=c.dispose(this.toDispose)},t}();l.MAX_RESTARTS=5,t.FileWatcher=l}),define(u[1099],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.service=e}return e.prototype.call=function(e,t){switch(e){case"watch":return this.service.watch(t)}},e}();t.WatcherChannel=n;var i=function(){function e(e){this.channel=e}return e.prototype.watch=function(e){return this.channel.call("watch",e)},e}();t.WatcherChannelClient=i}),define(u[1100],d([1,0,4,132,232,16,224,1099,52]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function t(e,t,n,i,r){this.contextService=e,this.ignored=t,this.onFileChanges=n,this.errorLogger=i,this.verboseLogging=r,this.isDisposed=!1,this.restartCounter=0}return t.prototype.startWatching=function(){var s=this,l=["--type=watcherService"],u=new r.Client(o.default.parse(e.toUrl("bootstrap")).fsPath,{serverName:"Watcher",args:l,env:{AMD_ENTRYPOINT:"vs/workbench/services/files/node/watcher/unix/watcherApp",PIPE_LOGGING:"true",VERBOSE_LOGGING:this.verboseLogging}}),d=i.getNextTickChannel(u.getChannel("watcher")),h=new a.WatcherChannelClient(d),p=c.normalize(this.contextService.getWorkspace2().roots[0].fsPath);return h.watch({basePath:p,ignored:this.ignored,verboseLogging:this.verboseLogging}).then(null,function(e){if(!(s.isDisposed||e instanceof Error&&"Canceled"===e.name&&"Canceled"===e.message))return n.TPromise.wrapError(e)},function(e){return s.onRawFileEvents(e)}).done(function(){s.isDisposed||(s.restartCounter<=t.MAX_RESTARTS?(s.errorLogger("[FileWatcher] terminated unexpectedly and is restarted again..."),s.restartCounter++,s.startWatching()):s.errorLogger("[FileWatcher] failed to start after retrying for some time, giving up. Please report this as a bug report!"))},function(e){s.isDisposed||s.errorLogger(e)}),function(){s.isDisposed=!0,u.dispose()}},t.prototype.onRawFileEvents=function(e){this.isDisposed||e.length>0&&this.onFileChanges(s.toFileChangesEvent(e))},t}();l.MAX_RESTARTS=5,t.FileWatcher=l}),define(u[1101],d([1,0,157,43,408,145,16]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function t(e,t,n,i,r){this.watchedFolder=e,this.ignored=t,this.eventCallback=n,this.errorCallback=i,this.verboseLogging=r,this.restartCounter=0,this.startWatcher()}return t.prototype.startWatcher=function(){var i=this,a=[this.watchedFolder];this.verboseLogging&&a.push("-verbose"),this.handle=n.spawn(s.default.parse(e.toUrl("vs/workbench/services/files/node/watcher/win32/CodeHelper.exe")).fsPath,a);var c=new r.LineDecoder;this.handle.stdout.on("data",function(e){var n=[];c.write(e).forEach(function(e){var r=e.split("|");if(2===r.length){var s=Number(r[0]),a=r[1];if(s>=0&&s<3){if(i.ignored&&i.ignored.some(function(e){return o.match(e,a)}))return;n.push({type:t.changeTypeMap[s],path:a})}else console.log("%c[File Watcher]","color: darkgreen",r[1])}}),n.length>0&&i.eventCallback(n)}),this.handle.on("error",function(e){return i.onError(e)}),this.handle.stderr.on("data",function(e){return i.onError(e)}),this.handle.on("exit",function(e,t){return i.onExit(e,t)})},t.prototype.onError=function(e){this.errorCallback("[FileWatcher] process error: "+e.toString())},t.prototype.onExit=function(e,n){this.handle&&(this.errorCallback("[FileWatcher] terminated unexpectedly (code: "+e+", signal: "+n+")"),this.restartCounter<=t.MAX_RESTARTS?(this.errorCallback("[FileWatcher] is restarted again..."),this.restartCounter++,this.startWatcher()):this.errorCallback("[FileWatcher] Watcher failed to start after retrying for some time, giving up. Please report this as a bug report!"))},t.prototype.dispose=function(){this.handle&&(this.handle.kill(),this.handle=null)},t}();a.MAX_RESTARTS=5,a.changeTypeMap=[i.FileChangeType.UPDATED,i.FileChangeType.ADDED,i.FileChangeType.DELETED],t.OutOfProcessWin32FolderWatcher=a}),define(u[1102],d([1,0,224,1101,52,12,28]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t,n,i,r){this.contextService=e,this.ignored=t,this.onFileChanges=n,this.errorLogger=i,this.verboseLogging=r}return e.prototype.startWatching=function(){var e=this,t=r.normalize(this.contextService.getWorkspace2().roots[0].fsPath);t&&0===t.indexOf("\\\\")&&o.endsWith(t,s.sep)&&(t=o.rtrim(t,s.sep));var n=new i.OutOfProcessWin32FolderWatcher(t,this.ignored,function(t){return e.onRawFileEvents(t)},function(t){return e.onError(t)},this.verboseLogging);return function(){e.isDisposed=!0,n.dispose()}},e.prototype.onRawFileEvents=function(e){this.isDisposed||e.length>0&&this.onFileChanges(n.toFileChangesEvent(e))},e.prototype.onError=function(e){this.isDisposed||this.errorLogger(e)},e}();t.FileWatcher=a}),define(u[1103],d([1,0,52,130,96,143,1300,43,28,70,34,133,4,24,26,292,18,16,722,11,5,76,253,1246,425,1100,1102,224,8,1098]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,v,m,y,b,S,_,E,C,w,I,T,k,x,A){"use strict";function L(e,t){var n,i;return"number"==typeof t?(n=e,i=t):(n=e.size,i=e.mtime.getTime()),'"'+o.createHash("sha1").update(String(n)+String(i)).digest("hex")+'"'}Object.defineProperty(t,"__esModule",{value:!0});var P=function(){function e(t,n,i){this.contextService=t,this.configurationService=n,this.toDispose=[],this.options=i||Object.create(null),this.tmpPath=this.options.tmpDir||r.tmpdir(),this.currentWorkspaceRootsCount=t.hasWorkspace()?t.getWorkspace2().roots.length:0,this._onFileChanges=new x.Emitter,this.toDispose.push(this._onFileChanges),this._onAfterOperation=new x.Emitter,this.toDispose.push(this._onAfterOperation),this.options.errorLogger||(this.options.errorLogger=console.error),this.currentWorkspaceRootsCount>0&&!this.options.disableWatcher&&this.setupWorkspaceWatching(),this.activeFileChangesWatchers=new l.ResourceMap,this.fileChangesWatchDelayer=new v.ThrottledDelayer(e.FS_EVENT_DELAY),this.undeliveredRawFileChangesEvents=[],this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.contextService.onDidChangeWorkspaceRoots(function(){return e.onDidChangeWorkspaceRoots()}))},e.prototype.onDidChangeWorkspaceRoots=function(){var e=this.contextService.hasWorkspace()?this.contextService.getWorkspace2().roots.length:0,t=!1;this.currentWorkspaceRootsCount<=1&&e>1?t=!0:this.currentWorkspaceRootsCount>1&&e<=1&&(t=!0),t&&this.setupWorkspaceWatching(),this.currentWorkspaceRootsCount=e},Object.defineProperty(e.prototype,"onFileChanges",{get:function(){return this._onFileChanges.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onAfterOperation",{get:function(){return this._onAfterOperation.event},enumerable:!0,configurable:!0}),e.prototype.updateOptions=function(e){e&&f.mixin(this.options,e)},e.prototype.setupWorkspaceWatching=function(){this.activeWorkspaceChangeWatcher&&this.activeWorkspaceChangeWatcher.dispose(),this.options.useExperimentalFileWatcher||this.contextService.getWorkspace2().roots.length>1?this.activeWorkspaceChangeWatcher=S.toDisposable(this.setupNsfwWorkspaceWatching().startWatching()):b.isWindows?this.activeWorkspaceChangeWatcher=S.toDisposable(this.setupWin32WorkspaceWatching().startWatching()):this.activeWorkspaceChangeWatcher=S.toDisposable(this.setupUnixWorkspaceWatching().startWatching())},e.prototype.setupWin32WorkspaceWatching=function(){var e=this;return new T.FileWatcher(this.contextService,this.options.watcherIgnoredPatterns,function(t){return e._onFileChanges.fire(t)},this.options.errorLogger,this.options.verboseLogging)},e.prototype.setupUnixWorkspaceWatching=function(){var e=this;return new I.FileWatcher(this.contextService,this.options.watcherIgnoredPatterns,function(t){return e._onFileChanges.fire(t)},this.options.errorLogger,this.options.verboseLogging)},e.prototype.setupNsfwWorkspaceWatching=function(){var e=this;return new A.FileWatcher(this.contextService,this.configurationService,function(t){return e._onFileChanges.fire(t)},this.options.errorLogger,this.options.verboseLogging)},e.prototype.resolveFile=function(e,t){return this.resolve(e,t)},e.prototype.resolveFiles=function(e){var t=this;return h.TPromise.join(e.map(function(e){return t.resolve(e.resource,e.options).then(function(e){return{stat:e,success:!0}},function(e){return{stat:void 0,success:!1}})}))},e.prototype.existsFile=function(e){return this.resolveFile(e).then(function(){return!0},function(){return!1})},e.prototype.resolveContent=function(e,t){var n=this;return this.doResolveContent(e,t,function(e,t){return n.resolveFileContent(e,t)})},e.prototype.resolveStreamContent=function(e,t){var n=this;return this.doResolveContent(e,t,function(e,t){return n.resolveFileStreamContent(e,t)})},e.prototype.doResolveContent=function(e,t,n){var i=this,r=this.toAbsolutePath(e);return"file"===e.scheme&&e.fsPath?this.resolve(e).then(function(o){if(o.isDirectory)return h.TPromise.wrapError(new a.FileOperationError(y.localize(1,null,r),a.FileOperationResult.FILE_IS_DIRECTORY));if(t&&t.etag&&t.etag===o.etag)return h.TPromise.wrapError(new a.FileOperationError(y.localize(2,null),a.FileOperationResult.FILE_NOT_MODIFIED_SINCE));if(p.isNumber(o.size)&&o.size>a.MAX_FILE_SIZE)return h.TPromise.wrapError(new a.FileOperationError(y.localize(3,null),a.FileOperationResult.FILE_TOO_LARGE));var s=t&&t.autoGuessEncoding||i.configuredAutoGuessEncoding(e);return C.detectMimesFromFile(r,{autoGuessEncoding:s}).then(function(r){var s=-1===r.mimes.indexOf(d.MIME_BINARY);if(t&&t.acceptTextOnly&&!s)return h.TPromise.wrapError(new a.FileOperationError(y.localize(4,null),a.FileOperationResult.FILE_IS_BINARY));var c;return t&&t.encoding?c=r.encoding===E.UTF8&&t.encoding===E.UTF8?E.UTF8_with_bom:t.encoding:r.encoding?c=r.encoding===E.UTF8?E.UTF8_with_bom:r.encoding:i.configuredEncoding(e)===E.UTF8_with_bom&&(c=E.UTF8),n(o,c)})},function(e){return p.isUndefinedOrNull(e.fileOperationResult)?_.exists(r).then(function(t){return t?h.TPromise.wrapError(e):h.TPromise.wrapError(new a.FileOperationError(y.localize(5,null,r),a.FileOperationResult.FILE_NOT_FOUND))}):h.TPromise.wrapError(e)}):h.TPromise.wrapError(new a.FileOperationError(y.localize(0,null,e.toString()),a.FileOperationResult.FILE_INVALID_PATH))},e.prototype.resolveContents=function(t){var n=this,i=new v.Limiter(e.MAX_DEGREE_OF_PARALLEL_FS_OPS),r=[];return t.forEach(function(e){r.push(i.queue(function(){return n.resolve(e).then(function(e){return n.resolveFileContent(e)}).then(function(e){return e},function(e){return h.TPromise.as(null)})}))}),h.TPromise.join(r).then(function(e){return u.coalesce(e)})},e.prototype.updateContent=function(e,t,i){var r=this;void 0===i&&(i=Object.create(null));var o=this.toAbsolutePath(e);return this.checkFile(o,i).then(function(s){return(s?h.TPromise.as(null):_.mkdirp(n.dirname(o))).then(function(){var n=r.getEncoding(e,i.encoding),a=h.TPromise.as(!1);return n===E.UTF16be||n===E.UTF16le||n===E.UTF8_with_bom?a=h.TPromise.as(!0):s&&n===E.UTF8&&(a=i.overwriteEncoding?h.TPromise.as(!1):E.detectEncodingByBOM(o).then(function(e){return e===E.UTF8})),a.then(function(i){var s;if(i||n!==E.UTF8){var a=E.encode(t,n,{addBOM:i});s=_.writeFile(o,a)}else s=_.writeFile(o,t,E.UTF8);return s.then(function(){return r.resolve(e)})})})})},e.prototype.createFile=function(e,t){var n=this;return void 0===t&&(t=""),this.updateContent(e,t).then(function(t){return n._onAfterOperation.fire(new a.FileOperationEvent(e,a.FileOperation.CREATE,t)),t})},e.prototype.createFolder=function(e){var t=this,n=this.toAbsolutePath(e);return _.mkdirp(n).then(function(){return t.resolve(e).then(function(n){return t._onAfterOperation.fire(new a.FileOperationEvent(e,a.FileOperation.CREATE,n)),n})})},e.prototype.touchFile=function(e){var t=this,n=this.toAbsolutePath(e);return this.checkFile(n).then(function(i){return(i?h.TPromise.as(null):t.createFile(e)).then(function(){return _.touch(n).then(function(){return t.resolve(e)})})})},e.prototype.rename=function(e,t){var i=n.join(n.dirname(e.fsPath),t);return this.moveFile(e,m.default.file(i))},e.prototype.moveFile=function(e,t,n){return this.moveOrCopyFile(e,t,!1,n)},e.prototype.copyFile=function(e,t,n){return this.moveOrCopyFile(e,t,!0,n)},e.prototype.moveOrCopyFile=function(e,t,n,i){var r=this,o=this.toAbsolutePath(e),s=this.toAbsolutePath(t);return this.doMoveOrCopyFile(o,s,n,i).then(function(){return r.resolve(t).then(function(t){return r._onAfterOperation.fire(new a.FileOperationEvent(e,n?a.FileOperation.COPY:a.FileOperation.MOVE,t)),t})})},e.prototype.doMoveOrCopyFile=function(e,t,i,r){var o=this;return _.exists(t).then(function(s){var l=e.toLowerCase()===t.toLowerCase(),u=e===t;if(s&&!l&&!r)return h.TPromise.wrapError(new a.FileOperationError(y.localize(6,null),a.FileOperationResult.FILE_MOVE_CONFLICT));var d=h.TPromise.as(void 0);if(s&&!l){if(c.isEqualOrParent(e,t,!b.isLinux))return h.TPromise.wrapError(new Error(y.localize(7,null)));d=o.del(m.default.file(t))}return d.then(function(){return _.mkdirp(n.dirname(t)).then(function(){return u?h.TPromise.as(null):i?v.nfcall(g.copy,e,t):v.nfcall(g.mv,e,t)}).then(function(){return s})})})},e.prototype.importFile=function(e,t){var i=this,r=this.toAbsolutePath(e),o=m.default.file(n.join(t.fsPath,n.basename(e.fsPath))),s=this.toAbsolutePath(o);return _.stat(r).then(function(t){return t.isDirectory()?h.TPromise.wrapError(new Error(y.localize(8,null))):i.doMoveOrCopyFile(r,s,!0,!0).then(function(t){return i.resolve(o).then(function(n){return i._onAfterOperation.fire(new a.FileOperationEvent(e,a.FileOperation.IMPORT,n)),{isNew:!t,stat:n}})})})},e.prototype.del=function(e){var t=this,n=this.toAbsolutePath(e);return _.del(n,this.tmpPath).then(function(){t._onAfterOperation.fire(new a.FileOperationEvent(e,a.FileOperation.DELETE))})},e.prototype.toAbsolutePath=function(e){var t;return t=e instanceof m.default?e:e.resource,s.ok(t&&"file"===t.scheme,"Invalid resource: "+t),n.normalize(t.fsPath)},e.prototype.resolve=function(e,t){return void 0===t&&(t=Object.create(null)),this.toStatResolver(e).then(function(e){return e.resolve(t)})},e.prototype.toStatResolver=function(e){var t=this,n=this.toAbsolutePath(e);return _.stat(n).then(function(n){return new D(e,n.isDirectory(),n.mtime.getTime(),n.size,t.options.verboseLogging)})},e.prototype.resolveFileStreamContent=function(e,t){if(p.isNumber(e.size)&&e.size>a.MAX_FILE_SIZE)return h.TPromise.wrapError(new a.FileOperationError(y.localize(9,null),a.FileOperationResult.FILE_TOO_LARGE));var n=this.toAbsolutePath(e),r=this.getEncoding(e.resource,t),o=i.createReadStream(n).pipe(E.decodeStream(r)),s=e;return s.value=o,s.encoding=r,h.TPromise.as(s)},e.prototype.resolveFileContent=function(e,t){return this.resolveFileStreamContent(e,t).then(function(e){return new h.TPromise(function(t,n){var i=!1,r=[];e.value.on("data",function(e){r.push(e)}),e.value.on("error",function(e){i||(i=!0,n(e))}),e.value.on("end",function(){var n=e;n.value=r.join(""),i||(i=!0,t(n))})})})},e.prototype.getEncoding=function(e,t){var n,i=this.getEncodingOverride(e);return(n=i||(t||this.configuredEncoding(e)))&&E.encodingExists(n)||(n=E.UTF8),n},e.prototype.configuredAutoGuessEncoding=function(e){var t=this.configurationService.getConfiguration(void 0,{resource:e});return t&&t.files&&!0===t.files.autoGuessEncoding},e.prototype.configuredEncoding=function(e){var t=this.configurationService.getConfiguration(void 0,{resource:e});return t&&t.files&&t.files.encoding},e.prototype.getEncodingOverride=function(e){if(e&&this.options.encodingOverride&&this.options.encodingOverride.length)for(var t=0;t<this.options.encodingOverride.length;t++){var n=this.options.encodingOverride[t];if(a.isParent(e.fsPath,n.resource.fsPath,!b.isLinux))return n.encoding}return null},e.prototype.checkFile=function(e,t){return void 0===t&&(t=Object.create(null)),_.exists(e).then(function(n){return n?_.stat(e).then(function(i){if(i.isDirectory())return h.TPromise.wrapError(new Error("Expected file is actually a directory"));if("number"==typeof t.mtime&&"string"==typeof t.etag&&t.mtime<i.mtime.getTime()&&t.etag!==L(i.size,t.mtime))return h.TPromise.wrapError(new a.FileOperationError(y.localize(10,null),a.FileOperationResult.FILE_MODIFIED_SINCE));var r=i.mode,o=!(128&r);return o&&!t.overwriteReadonly?h.TPromise.wrapError(new a.FileOperationError(y.localize(11,null),a.FileOperationResult.FILE_READ_ONLY)):o?(r|=128,_.chmod(e,r).then(function(){return n})):h.TPromise.as(n)}):h.TPromise.as(n)})},e.prototype.watchFileChanges=function(t){var r=this;s.ok(t&&"file"===t.scheme,"Invalid resource for watching: "+t);var o=this.activeFileChangesWatchers.get(t);if(!o){var c=t.fsPath;try{o=i.watch(c)}catch(e){return}this.activeFileChangesWatchers.set(t,o);var l=n.basename(t.fsPath);o.on("change",function(n,i){(i&&i!==l||"rename"===n)&&(r.unwatchFileChanges(t),setTimeout(function(){r.existsFile(t).done(function(e){e?r.watchFileChanges(t):r.onRawFileChange({type:a.FileChangeType.DELETED,path:c})})},e.FS_REWATCH_DELAY)),r.onRawFileChange({type:a.FileChangeType.UPDATED,path:c})}),o.on("error",function(e){r.options.errorLogger(e)})}},e.prototype.onRawFileChange=function(e){var t=this;this.undeliveredRawFileChangesEvents.push(e),this.options.verboseLogging&&console.log("%c[node.js Watcher]%c","color: green","color: black",e.type===a.FileChangeType.ADDED?"[ADDED]":e.type===a.FileChangeType.DELETED?"[DELETED]":"[CHANGED]",e.path),this.fileChangesWatchDelayer.trigger(function(){var e=t.undeliveredRawFileChangesEvents;t.undeliveredRawFileChangesEvents=[];var n=k.normalize(e);return t.options.verboseLogging&&n.forEach(function(e){console.log("%c[node.js Watcher]%c >> normalized","color: green","color: black",e.type===a.FileChangeType.ADDED?"[ADDED]":e.type===a.FileChangeType.DELETED?"[DELETED]":"[CHANGED]",e.path)}),t._onFileChanges.fire(k.toFileChangesEvent(n)),h.TPromise.as(null)})},e.prototype.unwatchFileChanges=function(e){var t="string"==typeof e?m.default.parse(e):e,n=this.activeFileChangesWatchers.get(t);n&&(n.close(),this.activeFileChangesWatchers.delete(t))},e.prototype.dispose=function(){this.toDispose=S.dispose(this.toDispose),this.activeWorkspaceChangeWatcher&&(this.activeWorkspaceChangeWatcher.dispose(),this.activeWorkspaceChangeWatcher=null),this.activeFileChangesWatchers.forEach(function(e){return e.close()}),this.activeFileChangesWatchers.clear()},e}();P.FS_EVENT_DELAY=50,P.FS_REWATCH_DELAY=300,P.MAX_DEGREE_OF_PARALLEL_FS_OPS=10,t.FileService=P;var D=function(){function e(e,t,i,r,o){s.ok(e&&"file"===e.scheme,"Invalid resource: "+e),this.resource=e,this.isDirectory=t,this.mtime=i,this.name=n.basename(e.fsPath),this.etag=L(r,i),this.size=r,this.verboseLogging=o}return e.prototype.resolve=function(e){var t=this,n={resource:this.resource,isDirectory:this.isDirectory,hasChildren:void 0,name:this.name,etag:this.etag,size:this.size,mtime:this.mtime};if(this.isDirectory){var i=null;return e&&e.resolveTo&&(i=[],e.resolveTo.forEach(function(e){i.push(e.fsPath)})),new h.TPromise(function(r,o){t.resolveChildren(t.resource.fsPath,i,e&&e.resolveSingleChildDescendants,function(e){e=u.coalesce(e),n.hasChildren=e&&e.length>0,n.children=e||[],r(n)})})}return h.TPromise.as(n)},e.prototype.resolveChildren=function(e,t,r,o){var s=this;g.readdir(e,function(a,l){if(a)return s.verboseLogging&&console.error(a),o(null);w.parallel(l,function(o,a){var d,h=m.default.file(n.resolve(e,o)),p=s;w.sequence(function(e){p.verboseLogging&&console.error(e),a(null,null)},function(){i.stat(h.fsPath,this)},function(e){var t=this;(d=e).isDirectory()?g.readdir(h.fsPath,function(e,n){t(null,n?n.length:0)}):this(null,0)},function(e){var n={resource:h,isDirectory:d.isDirectory(),hasChildren:e>0,name:o,mtime:d.mtime.getTime(),etag:L(d),size:d.size};if(!d.isDirectory())return a(null,n);var i=!1;1===l.length&&r?i=!0:e>0&&t&&t.some(function(e){return c.isEqualOrParent(e,h.fsPath,!b.isLinux)})&&(i=!0),i?p.resolveChildren(h.fsPath,t,r,function(e){e=u.coalesce(e),n.hasChildren=e&&e.length>0,n.children=e||[],a(null,n)}):a(null,n)})},function(e,t){o(t)})})},e}();t.StatResolver=D}),define(u[45],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.MINIMIZE_OTHERS=0]="MINIMIZE_OTHERS",e[e.EVEN=1]="EVEN"}(t.GroupArrangement||(t.GroupArrangement={})),t.IEditorGroupService=n.createDecorator("editorGroupService")}),define(u[1105],d([1,0,4,519,82,7,12,115,102,244,42,138,44,84,63,45,22,6,27,30,1017]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var C=function(e){function t(t,n,i,r,o,s){var a=e.call(this)||this;return a.editor=t,a._group=n,a.editorService=i,a.modeService=r,a.modelService=o,a.stacks=s.getStacksModel(),a}return h(t,e),t.prototype.getLabelOptions=function(){return{extraClasses:d.getIconClasses(this.modelService,this.modeService,this.getResource()),italic:this._group.isPreview(this.editor)}},t.prototype.getLabel=function(){return this.editor.getName()},t.prototype.getIcon=function(){return this.editor.isDirty()?"dirty":""},Object.defineProperty(t.prototype,"group",{get:function(){return this._group},enumerable:!0,configurable:!0}),t.prototype.getResource=function(){return E.toResource(this.editor,{supportSideBySide:!0})},t.prototype.getAriaLabel=function(){return i.localize(0,null,this.getLabel())},t.prototype.getDescription=function(){return this.editor.getDescription()},t.prototype.run=function(t,n){return t===a.Mode.OPEN?this.runOpen(n):e.prototype.run.call(this,t,n)},t.prototype.runOpen=function(e){return this.editorService.openEditor(this.editor,null,this.stacks.positionOfGroup(this.group)).done(null,o.onUnexpectedError),!0},t}(c.QuickOpenEntryGroup);C=v([y(2,b.IWorkbenchEditorService),y(3,u.IModeService),y(4,p.IModelService),y(5,m.IEditorGroupService)],C),t.EditorPickerEntry=C;var w=function(e){function t(t,n,i,r){var o=e.call(this)||this;return o.instantiationService=t,o.contextService=n,o.editorService=i,o.editorGroupService=r,o.scorerCache=Object.create(null),o}return h(t,e),t.prototype.getResults=function(e){var t=this;e=e.trim();var o=s.stripWildcards(e).toLowerCase(),a=this.getEditorEntries();if(!a.length)return n.TPromise.as(null);var u=this.editorGroupService.getStacksModel(),d=a.filter(function(n){if(!e)return!0;var i=n.getResource()?r.getPathLabel(n.getResource(),t.contextService):n.getLabel();if(!l.matches(i,o))return!1;var s=c.QuickOpenEntry.highlight(n,e,!0),a=s.labelHighlights,u=s.descriptionHighlights;return n.setHighlights(a,u),!0});if(e&&d.sort(function(n,i){return n.group!==i.group?u.positionOfGroup(n.group)-u.positionOfGroup(i.group):c.QuickOpenEntry.compareByScore(n,i,e,o,t.scorerCache)}),u.groups.length>1){var h;d.forEach(function(e){h&&h===e.group||(e.setGroupLabel(i.localize(1,null,e.group.label)),e.setShowBorder(!!h),h=e.group)})}return n.TPromise.as(new c.QuickOpenModel(d))},t.prototype.onClose=function(e){this.scorerCache=Object.create(null)},t}(f.QuickOpenHandler);w=v([y(0,S.IInstantiationService),y(1,_.IWorkspaceContextService),y(2,b.IWorkbenchEditorService),y(3,m.IEditorGroupService)],w),t.BaseEditorPicker=w;var I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.getEditorEntries=function(){var e=this,t=this.editorGroupService.getStacksModel().groupAt(this.getPosition());return t?t.getEditors(!0).map(function(n,i){return e.instantiationService.createInstance(C,n,t)}):[]},t.prototype.getEmptyLabel=function(e){return e?i.localize(2,null):i.localize(3,null)},t.prototype.getAutoFocus=function(t,n){if(t||!n.quickNavigateConfiguration)return{autoFocusFirstEntry:!0};var i=this.editorGroupService.getStacksModel().groupAt(this.getPosition());return i?n.quickNavigateConfiguration&&n.quickNavigateConfiguration.keybindings.some(function(e){var t=e.getParts(),n=t[0];return!t[1]&&n.shiftKey})?{autoFocusLastEntry:!0}:{autoFocusFirstEntry:1===i.count,autoFocusSecondEntry:i.count>1}:e.prototype.getAutoFocus.call(this,t,n)},t}(w);t.EditorGroupPicker=I;var T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.getPosition=function(){return g.Position.ONE},t}(I);t.GroupOnePicker=T;var k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.getPosition=function(){return g.Position.TWO},t}(I);t.GroupTwoPicker=k;var x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.getPosition=function(){return g.Position.THREE},t}(I);t.GroupThreePicker=x;var A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.getEditorEntries=function(){var e=this,t=[];return this.editorGroupService.getStacksModel().groups.forEach(function(n,i){n.getEditors().forEach(function(i,r){t.push(e.instantiationService.createInstance(C,i,n))})}),t},t.prototype.getEmptyLabel=function(e){return e?i.localize(4,null):i.localize(5,null)},t.prototype.getAutoFocus=function(t,n){return t?{autoFocusFirstEntry:!0}:e.prototype.getAutoFocus.call(this,t,n)},t}(w);t.AllEditorsPicker=A}),define(u[1106],d([1,0,4,40,9,28,212,66,62,7,41,86,21,23,238,22,45,5,532,82,30,39,27,63,13,74,1e3]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var A=function(e){function t(t,n,i,r,o,s,a,c,l,u,d){var h=e.call(this,t,{hasTitle:!1},d)||this;return h.contextMenuService=n,h.windowService=i,h.configurationService=r,h.windowsService=o,h.editorService=s,h.editorGroupService=a,h.integrityService=c,h.environmentService=l,h.contextService=u,h.isPure=!0,h.activeEditorListeners=[],h.init(),h.registerListeners(),h}return h(t,e),t.prototype.init=function(){var e=this;this.onConfigurationChanged(),this.setTitle(this.getWindowTitle()),this.integrityService.isPure().then(function(t){t.isPure||(e.isPure=!1,e.setTitle(e.getWindowTitle()))})},t.prototype.registerListeners=function(){var e=this;this.toUnbind.push(r.addDisposableListener(window,r.EventType.BLUR,function(){return e.onBlur()})),this.toUnbind.push(r.addDisposableListener(window,r.EventType.FOCUS,function(){return e.onFocus()})),this.toUnbind.push(this.configurationService.onDidUpdateConfiguration(function(){return e.onConfigurationChanged(!0)})),this.toUnbind.push(this.editorGroupService.onEditorsChanged(function(){return e.onEditorsChanged()})),this.toUnbind.push(this.contextService.onDidChangeWorkspaceRoots(function(){return e.onDidChangeWorkspaceRoots()}))},t.prototype.onBlur=function(){this.isInactive=!0,this.updateStyles()},t.prototype.onFocus=function(){this.isInactive=!1,this.updateStyles()},t.prototype.onDidChangeWorkspaceRoots=function(){this.setTitle(this.getWindowTitle())},t.prototype.onConfigurationChanged=function(e){var t=this.titleTemplate;this.titleTemplate=this.configurationService.lookup("window.title").value,e&&t!==this.titleTemplate&&this.setTitle(this.getWindowTitle())},t.prototype.onEditorsChanged=function(){var e=this;S.dispose(this.activeEditorListeners),this.activeEditorListeners=[];var t=this.editorService.getActiveEditor(),n=t?t.input:void 0;this.setTitle(this.getWindowTitle()),n instanceof C.EditorInput&&(this.activeEditorListeners.push(n.onDidChangeDirty(function(){e.setTitle(e.getWindowTitle())})),this.activeEditorListeners.push(n.onDidChangeLabel(function(){e.setTitle(e.getWindowTitle())})))},t.prototype.getWindowTitle=function(){var e=this.doGetWindowTitle();return e||(e=this.environmentService.appNameLong),this.isPure||(e=e+" "+t.NLS_UNSUPPORTED),this.environmentService.isExtensionDevelopment&&(e=t.NLS_EXTENSION_HOST+" - "+e),e},t.prototype.doGetWindowTitle=function(){var e,n=this.editorService.getActiveEditorInput(),i=this.contextService.getWorkspace2();i&&1===i.roots.length&&(e=i.roots[0]);var r;i&&(r=1===i.roots.length?i.roots[0]:this.contextService.getRoot(C.toResource(n,{supportSideBySide:!0,filter:"file"})));var s=n?n.getTitle(T.Verbosity.SHORT):"",a=n?n.getTitle(T.Verbosity.MEDIUM):s,c=n?n.getTitle(T.Verbosity.LONG):a,l=i?i.name:"",u=i?E.getPathLabel(e,void 0,this.environmentService):"",d=r?o.basename(r.fsPath)||r.fsPath:"",h=r?E.getPathLabel(r,void 0,this.environmentService):"",p=n&&n.isDirty()?t.TITLE_DIRTY:"",f=this.environmentService.appNameLong,g=t.TITLE_SEPARATOR;return E.template(this.titleTemplate,{activeEditorShort:s,activeEditorLong:c,activeEditorMedium:a,rootName:l,rootPath:u,folderName:d,folderPath:h,dirty:p,appName:f,separator:{label:g}})},t.prototype.createContentArea=function(e){var t=this;return this.titleContainer=i.$(e),this.title=i.$(this.titleContainer).div({class:"window-title"}),this.pendingTitle&&this.title.text(this.pendingTitle),this.titleContainer.on(r.EventType.DBLCLICK,function(e){r.EventHelper.stop(e),t.onTitleDoubleclick()}),this.title.on([r.EventType.CONTEXT_MENU,r.EventType.MOUSE_DOWN],function(e){(e.type===r.EventType.CONTEXT_MENU||e.metaKey)&&(r.EventHelper.stop(e),t.onContextMenu(e))}),this.titleContainer},t.prototype.updateStyles=function(){e.prototype.updateStyles.call(this);var t=this.getContainer();t&&(t.style("color",this.getColor(this.isInactive?x.TITLE_BAR_INACTIVE_FOREGROUND:x.TITLE_BAR_ACTIVE_FOREGROUND)),t.style("background-color",this.getColor(this.isInactive?x.TITLE_BAR_INACTIVE_BACKGROUND:x.TITLE_BAR_ACTIVE_BACKGROUND)))},t.prototype.onTitleDoubleclick=function(){this.windowService.onWindowTitleDoubleClick().then(null,l.onUnexpectedError)},t.prototype.onContextMenu=function(e){var t=new d.StandardMouseEvent(e),i={x:t.posx,y:t.posy},r=this.getContextMenuActions();r.length&&this.contextMenuService.showContextMenu({getAnchor:function(){return i},getActions:function(){return n.TPromise.as(r)},onHide:function(){return r.forEach(function(e){return e.dispose()})}})},t.prototype.getContextMenuActions=function(){var e=[];if(this.representedFileName)for(var t=this.representedFileName.split(o.sep),n=t.length;n>0;n--){var i=n===t.length,r=n;i||r++;var s=t.slice(0,r).join(o.sep),a=o.basename(s);i||(a=o.basename(o.dirname(s))),e.push(new L(s,a||o.sep,this.windowsService))}return e},t.prototype.setTitle=function(e){window.document.title=e,this.title?this.title.text(e):this.pendingTitle=e},t.prototype.setRepresentedFilename=function(e){this.windowService.setRepresentedFilename(e),this.representedFileName=e},t.prototype.layout=function(t){return"number"!=typeof this.initialTitleFontSize&&(this.initialTitleFontSize=parseInt(this.titleContainer.getComputedStyle().fontSize,10)),this.titleContainer.style({fontSize:this.initialTitleFontSize/a.getZoomFactor()+"px"}),e.prototype.layout.call(this,t)},t}(s.Part);A.NLS_UNSUPPORTED=_.localize(0,null),A.NLS_EXTENSION_HOST=_.localize(1,null),A.TITLE_DIRTY="● ",A.TITLE_SEPARATOR=" — ",A=v([y(1,u.IContextMenuService),y(2,c.IWindowService),y(3,f.IConfigurationService),y(4,c.IWindowsService),y(5,m.IWorkbenchEditorService),y(6,b.IEditorGroupService),y(7,g.IIntegrityService),y(8,w.IEnvironmentService),y(9,I.IWorkspaceContextService),y(10,k.IThemeService)],A),t.TitlebarPart=A;var L=function(e){function t(t,n,i){var r=e.call(this,"showItemInFolder.action.id",n)||this;return r.path=t,r.windowsService=i,r}return h(t,e),t.prototype.run=function(){return this.windowsService.showItemInFolder(this.path)},t}(p.Action)}),define(u[1107],d([1,0,721,4,5,28,253,7,16,30,43,1103,23,27,21,70,22,20,39,45,69,31,8,97]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,m,b,S,_,E,C,w,I){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var T=function(){function e(e,t,n,i,r,o,s,a){var c=this;this.configurationService=e,this.contextService=t,this.editorService=n,this.environmentService=i,this.editorGroupService=r,this.lifecycleService=o,this.messageService=s,this.storageService=a,this.toUnbind=[],this.activeOutOfWorkspaceWatchers=new g.ResourceMap,this._onFileChanges=new w.Emitter,this.toUnbind.push(this._onFileChanges),this._onAfterOperation=new w.Emitter,this.toUnbind.push(this._onAfterOperation);var l=this.configurationService.getConfiguration(),u=[];l.files&&l.files.watcherExclude&&(u=Object.keys(l.files.watcherExclude).filter(function(e){return!!l.files.watcherExclude[e]}));var h={errorLogger:function(e){return c.onFileServiceError(e)},encodingOverride:this.getEncodingOverrides(),watcherIgnoredPatterns:u,verboseLogging:i.verbose,useExperimentalFileWatcher:l.files.useExperimentalFileWatcher};this.raw=new d.FileService(t,e,h),this.registerListeners()}return Object.defineProperty(e.prototype,"onFileChanges",{get:function(){return this._onFileChanges.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onAfterOperation",{get:function(){return this._onAfterOperation.event},enumerable:!0,configurable:!0}),e.prototype.onFileServiceError=function(t){var r=this;a.onUnexpectedError(t),"string"==typeof t&&t.indexOf(e.NET_VERSION_ERROR)>=0&&!this.storageService.getBoolean(e.NET_VERSION_ERROR_IGNORE_KEY,C.StorageScope.WORKSPACE)&&this.messageService.show(b.Severity.Warning,{message:n.localize(0,null),actions:[new f.Action("install.net",n.localize(1,null),null,!0,function(){return window.open("https://go.microsoft.com/fwlink/?LinkId=786533"),i.TPromise.as(!0)}),new f.Action("net.error.ignore",n.localize(2,null),"",!0,function(){return r.storageService.store(e.NET_VERSION_ERROR_IGNORE_KEY,!0,C.StorageScope.WORKSPACE),i.TPromise.as(null)}),b.CloseAction]})},e.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.raw.onFileChanges(function(t){return e._onFileChanges.fire(t)})),this.toUnbind.push(this.raw.onAfterOperation(function(t){return e._onAfterOperation.fire(t)})),this.toUnbind.push(this.configurationService.onDidUpdateConfiguration(function(t){return e.onConfigurationChange(e.configurationService.getConfiguration())})),this.toUnbind.push(this.editorGroupService.onEditorsChanged(function(){return e.onEditorsChanged()})),this.toUnbind.push(this.contextService.onDidChangeWorkspaceRoots(function(){return e.onDidChangeWorkspaceRoots()})),this.lifecycleService.onShutdown(this.dispose,this)},e.prototype.onDidChangeWorkspaceRoots=function(){this.updateOptions({encodingOverride:this.getEncodingOverrides()})},e.prototype.getEncodingOverrides=function(){var e=[];return e.push({resource:c.default.file(this.environmentService.appSettingsHome),encoding:s.UTF8}),this.contextService.hasWorkspace()&&this.contextService.getWorkspace2().roots.forEach(function(t){e.push({resource:c.default.file(o.join(t.fsPath,".vscode")),encoding:s.UTF8})}),e},e.prototype.onEditorsChanged=function(){this.handleOutOfWorkspaceWatchers()},e.prototype.handleOutOfWorkspaceWatchers=function(){var e=this,t=new g.ResourceMap;this.editorService.getVisibleEditors().map(function(e){return l.toResource(e.input,{supportSideBySide:!0,filter:"file"})}).filter(function(t){return!!t&&!e.contextService.isInsideWorkspace(t)}).forEach(function(e){t.set(e,e)}),this.activeOutOfWorkspaceWatchers.forEach(function(n){t.get(n)||(e.unwatchFileChanges(n),e.activeOutOfWorkspaceWatchers.delete(n))}),t.forEach(function(t){e.activeOutOfWorkspaceWatchers.get(t)||(e.watchFileChanges(t),e.activeOutOfWorkspaceWatchers.set(t,t))})},e.prototype.onConfigurationChange=function(e){this.updateOptions(e.files)},e.prototype.updateOptions=function(e){this.raw.updateOptions(e)},e.prototype.resolveFile=function(e,t){return this.raw.resolveFile(e,t)},e.prototype.resolveFiles=function(e){return this.raw.resolveFiles(e)},e.prototype.existsFile=function(e){return this.raw.existsFile(e)},e.prototype.resolveContent=function(e,t){return this.raw.resolveContent(e,t)},e.prototype.resolveStreamContent=function(e,t){return this.raw.resolveStreamContent(e,t)},e.prototype.resolveContents=function(e){return this.raw.resolveContents(e)},e.prototype.updateContent=function(e,t,n){return this.raw.updateContent(e,t,n)},e.prototype.moveFile=function(e,t,n){return this.raw.moveFile(e,t,n)},e.prototype.copyFile=function(e,t,n){return this.raw.copyFile(e,t,n)},e.prototype.createFile=function(e,t){return this.raw.createFile(e,t)},e.prototype.createFolder=function(e){return this.raw.createFolder(e)},e.prototype.touchFile=function(e){return this.raw.touchFile(e)},e.prototype.rename=function(e,t){return this.raw.rename(e,t)},e.prototype.del=function(e,t){return t?this.doMoveItemToTrash(e):this.raw.del(e)},e.prototype.doMoveItemToTrash=function(e){var t=e.fsPath;return I.shell.moveItemToTrash(t)?(this._onAfterOperation.fire(new u.FileOperationEvent(e,u.FileOperation.DELETE)),i.TPromise.as(null)):i.TPromise.wrapError(new Error(n.localize(3,null,o.basename(t))))},e.prototype.importFile=function(e,t){return this.raw.importFile(e,t).then(function(e){return{isNew:e&&e.isNew,stat:e&&e.stat}})},e.prototype.watchFileChanges=function(e){e&&"file"===e.scheme&&(this.contextService.isInsideWorkspace(e)||this.raw.watchFileChanges(e))},e.prototype.unwatchFileChanges=function(e){this.raw.unwatchFileChanges(e)},e.prototype.getEncoding=function(e,t){return this.raw.getEncoding(e,t)},e.prototype.dispose=function(){var e=this;this.toUnbind=r.dispose(this.toUnbind),this.activeOutOfWorkspaceWatchers.forEach(function(t){return e.unwatchFileChanges(t)}),this.activeOutOfWorkspaceWatchers.clear(),this.raw.dispose()},e}();T.NET_VERSION_ERROR="System.MissingMethodException",T.NET_VERSION_ERROR_IGNORE_KEY="ignoreNetVersionError",T=v([y(0,h.IConfigurationService),y(1,p.IWorkspaceContextService),y(2,m.IWorkbenchEditorService),y(3,S.IEnvironmentService),y(4,_.IEditorGroupService),y(5,E.ILifecycleService),y(6,b.IMessageService),y(7,C.IStorageService)],T),t.FileService=T}),define(u[1108],d([1,0,7,16,30,22,43,53,27,5,31,69,15,8,23,45,62,56,156,145,6,317]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var I=function(){function e(e,t){this._editorInput=e,this._selection=t}return Object.defineProperty(e.prototype,"editorInput",{get:function(){return this._editorInput},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selection",{get:function(){return this._selection},enumerable:!0,configurable:!0}),e.prototype.justifiesNewPushState=function(t,n){if(!this._editorInput.matches(t._editorInput))return!0;if(!a.Selection.isISelection(this._selection)||!a.Selection.isISelection(t._selection))return!0;if(n&&"api"===n.source)return!0;var i=Math.min(this._selection.selectionStartLineNumber,this._selection.positionLineNumber),r=Math.min(t._selection.selectionStartLineNumber,t._selection.positionLineNumber);return!(Math.abs(i-r)<e.EDITOR_SELECTION_THRESHOLD)},e}();I.EDITOR_SELECTION_THRESHOLD=5,t.EditorState=I;var T=function(){function e(e,t){var n=this;this.editorGroupService=e,this.editorService=t,this.toUnbind=[],this.activeEditorListeners=[],this.toUnbind.push(this.editorGroupService.onEditorsChanged(function(){return n.onEditorsChanged()}))}return e.prototype.onEditorsChanged=function(){var e=this;l.dispose(this.activeEditorListeners),this.activeEditorListeners=[];var t=this.editorService.getActiveEditor();this.handleActiveEditorChange(t);var n=S.getCodeEditor(t);n&&this.activeEditorListeners.push(n.onDidChangeCursorPosition(function(n){e.handleEditorSelectionChangeEvent(t,n)}))},e.prototype.dispose=function(){this.toUnbind=l.dispose(this.toUnbind)},e}();t.BaseHistoryService=T;var k=function(e){function t(t,n,i,o,s,a,c,l,u){var d=e.call(this,n,t)||this;return d.contextService=i,d.storageService=o,d.configurationService=s,d.lifecycleService=a,d.fileService=c,d.windowService=l,d.instantiationService=u,d.index=-1,d.stack=[],d.recentlyClosedFiles=[],d.loaded=!1,d.registry=p.Registry.as(r.Extensions.Editors),d.resourceFilter=u.createInstance(w.ResourceGlobMatcher,function(e){return d.getExcludes(e)},function(e){return E.parse(e)}),d.registerListeners(),d}return h(t,e),t.prototype.getExcludes=function(e){var t=e?{resource:e}:void 0;return _.getExcludes(this.configurationService.getConfiguration(void 0,t))},t.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.lifecycleService.onShutdown(function(t){return e.save()})),this.toUnbind.push(this.editorGroupService.onEditorOpenFail(function(t){return e.remove(t)})),this.toUnbind.push(this.editorGroupService.getStacksModel().onEditorClosed(function(t){return e.onEditorClosed(t)})),this.toUnbind.push(this.fileService.onFileChanges(function(t){return e.onFileChanges(t)})),this.toUnbind.push(this.resourceFilter.onExpressionChange(function(){return e.handleExcludesChange()}))},t.prototype.onFileChanges=function(e){e.gotDeleted()&&this.remove(e)},t.prototype.onEditorClosed=function(e){if(e.pinned){var n=r.toResource(e.editor,{filter:"file"});n&&(this.removeFromRecentlyClosedFiles(e.editor),this.recentlyClosedFiles.push({resource:n,index:e.index}),this.recentlyClosedFiles.length>t.MAX_RECENTLY_CLOSED_EDITORS&&this.recentlyClosedFiles.shift())}},t.prototype.reopenLastClosedEditor=function(){this.ensureHistoryLoaded();for(var e=this.editorGroupService.getStacksModel(),t=this.recentlyClosedFiles.pop();t&&this.isFileOpened(t.resource,e.activeGroup);)t=this.recentlyClosedFiles.pop();t&&this.editorService.openEditor({resource:t.resource,options:{pinned:!0,index:t.index}})},t.prototype.forward=function(e){this.stack.length>this.index+1&&(e?this.doForwardAcrossEditors():this.doForwardInEditors())},t.prototype.doForwardInEditors=function(){this.index++,this.navigate()},t.prototype.doForwardAcrossEditors=function(){for(var e=this.index,t=this.stack[this.index];this.stack.length>e+1;){e++;var n=this.stack[e];if(!this.matches(t.input,n.input)){this.index=e,this.navigate(!0);break}}},t.prototype.back=function(e){this.index>0&&(e?this.doBackAcrossEditors():this.doBackInEditors())},t.prototype.doBackInEditors=function(){this.index--,this.navigate()},t.prototype.doBackAcrossEditors=function(){for(var e=this.index,t=this.stack[this.index];e>0;){e--;var n=this.stack[e];if(!this.matches(t.input,n.input)){this.index=e,this.navigate(!0);break}}},t.prototype.clear=function(){this.ensureHistoryLoaded(),this.index=-1,this.stack.splice(0),this.history=[],this.recentlyClosedFiles=[]},t.prototype.navigate=function(e){var t=this,i=this.stack[this.index],o=i.options;o&&!e?o.revealIfOpened=!0:o={revealIfOpened:!0},this.navigatingInStack=!0;(i.input instanceof r.EditorInput?this.editorService.openEditor(i.input,o):this.editorService.openEditor({resource:i.input.resource,options:o})).done(function(){t.navigatingInStack=!1},function(e){t.navigatingInStack=!1,n.onUnexpectedError(e)})},t.prototype.handleEditorSelectionChangeEvent=function(e,t){this.handleEditorEventInStack(e,t)},t.prototype.handleActiveEditorChange=function(e){this.handleEditorEventInHistory(e),this.handleEditorEventInStack(e)},t.prototype.handleEditorEventInHistory=function(e){var n=this,i=e?e.input:void 0;if(i&&i.getName()&&this.include(i)){this.ensureHistoryLoaded();var o=this.preferResourceInput(i);this.removeFromHistory(i),this.history.unshift(o),this.history.length>t.MAX_HISTORY_ITEMS&&this.history.pop(),o instanceof r.EditorInput&&f.once(o.onDispose)(function(){n.removeFromHistory(i)})}},t.prototype.include=function(e){if(e instanceof r.EditorInput)return!0;var t=e;return!this.resourceFilter.matches(t.resource)},t.prototype.handleExcludesChange=function(){this.removeExcludedFromHistory()},t.prototype.remove=function(e){this.removeFromHistory(e),this.removeFromStack(e),this.removeFromRecentlyClosedFiles(e),this.removeFromRecentlyOpen(e)},t.prototype.removeExcludedFromHistory=function(){var e=this;this.ensureHistoryLoaded(),this.history=this.history.filter(function(t){return e.include(t)})},t.prototype.removeFromHistory=function(e){var t=this;this.ensureHistoryLoaded(),this.history=this.history.filter(function(n){return!t.matches(e,n)})},t.prototype.handleEditorEventInStack=function(e,t){var n=S.getCodeEditor(e);this.navigatingInStack?n&&e.input?this.currentFileEditorState=new I(e.input,n.getSelection()):this.currentFileEditorState=null:n&&e.input?this.handleTextEditorEvent(e,n,t):(this.currentFileEditorState=null,e&&e.input&&this.handleNonTextEditorEvent(e))},t.prototype.handleTextEditorEvent=function(e,t,n){var i=new I(e.input,t.getSelection());if(!this.currentFileEditorState||this.currentFileEditorState.justifiesNewPushState(i,n)){this.currentFileEditorState=i;var r=void 0,o=t.getSelection();o&&(r={selection:{startLineNumber:o.startLineNumber,startColumn:o.startColumn}}),this.add(e.input,r,!0)}},t.prototype.handleNonTextEditorEvent=function(e){var t=this.stack[this.index];t&&this.matches(e.input,t.input)||this.add(e.input,void 0,!0)},t.prototype.add=function(e,t,n){this.navigatingInStack||this.addToStack(e,t,n)},t.prototype.addToStack=function(e,n,i){var o=this,s=!1;if(this.stack[this.index]){var a=this.stack[this.index];this.matches(e,a.input)&&(this.sameOptions(a.options,n)||i&&Date.now()-a.timestamp<t.MERGE_EVENT_CHANGES_THRESHOLD)&&(s=!0)}var c=this.preferResourceInput(e),l={input:c,options:n,timestamp:i?Date.now():void 0};this.stack.length>this.index+1&&(this.stack=this.stack.slice(0,this.index+1)),s?this.stack[this.index]=l:(this.index++,this.stack.splice(this.index,0,l),this.stack.length>t.MAX_STACK_ITEMS&&(this.stack.shift(),this.index>0&&this.index--)),c instanceof r.EditorInput&&f.once(c.onDispose)(function(){o.removeFromStack(e)})},t.prototype.preferResourceInput=function(e){var t=r.toResource(e,{filter:"file"});return t?{resource:t}:e},t.prototype.sameOptions=function(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;var n=e.selection,i=t.selection;return!n&&!i||!(!n&&i||n&&!i)&&n.startLineNumber===i.startLineNumber},t.prototype.removeFromStack=function(e){var t=this;this.stack=this.stack.filter(function(n){return!t.matches(e,n.input)}),this.index=this.stack.length-1},t.prototype.removeFromRecentlyClosedFiles=function(e){var t=this;this.recentlyClosedFiles=this.recentlyClosedFiles.filter(function(n){return!t.matchesFile(n.resource,e)})},t.prototype.removeFromRecentlyOpen=function(e){if(!(e instanceof r.EditorInput||e instanceof s.FileChangesEvent)){var t=e;this.windowService.removeFromRecentlyOpen([t.resource.fsPath])}},t.prototype.isFileOpened=function(e,t){var n=this;return!!t&&(!!t.contains(e)&&t.getEditors().some(function(t){return n.matchesFile(e,t)}))},t.prototype.matches=function(e,t){if(e instanceof s.FileChangesEvent){if(t instanceof r.EditorInput)return!1;var n=t;return e.contains(n.resource,s.FileChangeType.DELETED)}if(e instanceof r.EditorInput&&t instanceof r.EditorInput)return e.matches(t);if(e instanceof r.EditorInput)return this.matchesFile(t.resource,e);if(t instanceof r.EditorInput)return this.matchesFile(e.resource,t);var i=e,o=t;return i&&o&&i.resource.toString()===o.resource.toString()},t.prototype.matchesFile=function(e,t){if(t instanceof s.FileChangesEvent)return t.contains(e,s.FileChangeType.DELETED);if(t instanceof r.EditorInput){var n=r.toResource(t,{filter:"file"});return n&&n.toString()===e.toString()}var i=t;return i&&i.resource.toString()===e.toString()},t.prototype.getHistory=function(){return this.ensureHistoryLoaded(),this.history.slice(0)},t.prototype.ensureHistoryLoaded=function(){this.loaded||this.loadHistory(),this.loaded=!0},t.prototype.save=function(){if(this.history){var e=this.history.map(function(e){if(!(e instanceof r.EditorInput))return{resourceJSON:e.resource.toJSON()}}).filter(function(e){return!!e});this.storageService.store(t.STORAGE_KEY,JSON.stringify(e),u.StorageScope.WORKSPACE)}},t.prototype.loadHistory=function(){var e=[],n=this.storageService.get(t.STORAGE_KEY,u.StorageScope.WORKSPACE);n&&(e=JSON.parse(n)),this.history=e.map(function(e){var t=e;if(t.resource||t.resourceJSON)return{resource:t.resourceJSON?i.default.revive(t.resourceJSON):i.default.parse(t.resource)}}).filter(function(e){return!!e})},t.prototype.getLastActiveWorkspaceRoot=function(){if(this.contextService.hasWorkspace()){for(var e=this.getHistory(),t=0;t<e.length;t++){var n=e[t];if(!(n instanceof r.EditorInput)){var i=n,o=this.contextService.getRoot(i.resource);if(o)return o}}return this.contextService.getWorkspace2().roots[0]}},t}(T);k.STORAGE_KEY="history.entries",k.MAX_HISTORY_ITEMS=200,k.MAX_STACK_ITEMS=20,k.MAX_RECENTLY_CLOSED_EDITORS=20,k.MERGE_EVENT_CHANGES_THRESHOLD=100,k=v([y(0,o.IWorkbenchEditorService),y(1,m.IEditorGroupService),y(2,c.IWorkspaceContextService),y(3,u.IStorageService),y(4,g.IConfigurationService),y(5,d.ILifecycleService),y(6,s.IFileService),y(7,b.IWindowService),y(8,C.IInstantiationService)],k),t.HistoryService=k}),define(u[160],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IHistoryService=n.createDecorator("historyService")}),define(u[216],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.None=0]="None",e[e.Hyper=1]="Hyper",e[e.Super=2]="Super",e[e.Fn=3]="Fn",e[e.FnLock=4]="FnLock",e[e.Suspend=5]="Suspend",e[e.Resume=6]="Resume",e[e.Turbo=7]="Turbo",e[e.Sleep=8]="Sleep",e[e.WakeUp=9]="WakeUp",e[e.KeyA=10]="KeyA",e[e.KeyB=11]="KeyB",e[e.KeyC=12]="KeyC",e[e.KeyD=13]="KeyD",e[e.KeyE=14]="KeyE",e[e.KeyF=15]="KeyF",e[e.KeyG=16]="KeyG",e[e.KeyH=17]="KeyH",e[e.KeyI=18]="KeyI",e[e.KeyJ=19]="KeyJ",e[e.KeyK=20]="KeyK",e[e.KeyL=21]="KeyL",e[e.KeyM=22]="KeyM",e[e.KeyN=23]="KeyN",e[e.KeyO=24]="KeyO",e[e.KeyP=25]="KeyP",e[e.KeyQ=26]="KeyQ",e[e.KeyR=27]="KeyR",e[e.KeyS=28]="KeyS",e[e.KeyT=29]="KeyT",e[e.KeyU=30]="KeyU",e[e.KeyV=31]="KeyV",e[e.KeyW=32]="KeyW",e[e.KeyX=33]="KeyX",e[e.KeyY=34]="KeyY",e[e.KeyZ=35]="KeyZ",e[e.Digit1=36]="Digit1",e[e.Digit2=37]="Digit2",e[e.Digit3=38]="Digit3",e[e.Digit4=39]="Digit4",e[e.Digit5=40]="Digit5",e[e.Digit6=41]="Digit6",e[e.Digit7=42]="Digit7",e[e.Digit8=43]="Digit8",e[e.Digit9=44]="Digit9",e[e.Digit0=45]="Digit0",e[e.Enter=46]="Enter",e[e.Escape=47]="Escape",e[e.Backspace=48]="Backspace",e[e.Tab=49]="Tab",e[e.Space=50]="Space",e[e.Minus=51]="Minus",e[e.Equal=52]="Equal",e[e.BracketLeft=53]="BracketLeft",e[e.BracketRight=54]="BracketRight",e[e.Backslash=55]="Backslash",e[e.IntlHash=56]="IntlHash",e[e.Semicolon=57]="Semicolon",e[e.Quote=58]="Quote",e[e.Backquote=59]="Backquote",e[e.Comma=60]="Comma",e[e.Period=61]="Period",e[e.Slash=62]="Slash",e[e.CapsLock=63]="CapsLock",e[e.F1=64]="F1",e[e.F2=65]="F2",e[e.F3=66]="F3",e[e.F4=67]="F4",e[e.F5=68]="F5",e[e.F6=69]="F6",e[e.F7=70]="F7",e[e.F8=71]="F8",e[e.F9=72]="F9",e[e.F10=73]="F10",e[e.F11=74]="F11",e[e.F12=75]="F12",e[e.PrintScreen=76]="PrintScreen",e[e.ScrollLock=77]="ScrollLock",e[e.Pause=78]="Pause",e[e.Insert=79]="Insert",e[e.Home=80]="Home",e[e.PageUp=81]="PageUp",e[e.Delete=82]="Delete",e[e.End=83]="End",e[e.PageDown=84]="PageDown",e[e.ArrowRight=85]="ArrowRight",e[e.ArrowLeft=86]="ArrowLeft",e[e.ArrowDown=87]="ArrowDown",e[e.ArrowUp=88]="ArrowUp",e[e.NumLock=89]="NumLock",e[e.NumpadDivide=90]="NumpadDivide",e[e.NumpadMultiply=91]="NumpadMultiply",e[e.NumpadSubtract=92]="NumpadSubtract",e[e.NumpadAdd=93]="NumpadAdd",e[e.NumpadEnter=94]="NumpadEnter",e[e.Numpad1=95]="Numpad1",e[e.Numpad2=96]="Numpad2",e[e.Numpad3=97]="Numpad3",e[e.Numpad4=98]="Numpad4",e[e.Numpad5=99]="Numpad5",e[e.Numpad6=100]="Numpad6",e[e.Numpad7=101]="Numpad7",e[e.Numpad8=102]="Numpad8",e[e.Numpad9=103]="Numpad9",e[e.Numpad0=104]="Numpad0",e[e.NumpadDecimal=105]="NumpadDecimal",e[e.IntlBackslash=106]="IntlBackslash",e[e.ContextMenu=107]="ContextMenu",e[e.Power=108]="Power",e[e.NumpadEqual=109]="NumpadEqual",e[e.F13=110]="F13",e[e.F14=111]="F14",e[e.F15=112]="F15",e[e.F16=113]="F16",e[e.F17=114]="F17",e[e.F18=115]="F18",e[e.F19=116]="F19",e[e.F20=117]="F20",e[e.F21=118]="F21",e[e.F22=119]="F22",e[e.F23=120]="F23",e[e.F24=121]="F24",e[e.Open=122]="Open",e[e.Help=123]="Help",e[e.Select=124]="Select",e[e.Again=125]="Again",e[e.Undo=126]="Undo",e[e.Cut=127]="Cut",e[e.Copy=128]="Copy",e[e.Paste=129]="Paste",e[e.Find=130]="Find",e[e.AudioVolumeMute=131]="AudioVolumeMute",e[e.AudioVolumeUp=132]="AudioVolumeUp",e[e.AudioVolumeDown=133]="AudioVolumeDown",e[e.NumpadComma=134]="NumpadComma",e[e.IntlRo=135]="IntlRo",e[e.KanaMode=136]="KanaMode",e[e.IntlYen=137]="IntlYen",e[e.Convert=138]="Convert",e[e.NonConvert=139]="NonConvert",e[e.Lang1=140]="Lang1",e[e.Lang2=141]="Lang2",e[e.Lang3=142]="Lang3",e[e.Lang4=143]="Lang4",e[e.Lang5=144]="Lang5",e[e.Abort=145]="Abort",e[e.Props=146]="Props",e[e.NumpadParenLeft=147]="NumpadParenLeft",e[e.NumpadParenRight=148]="NumpadParenRight",e[e.NumpadBackspace=149]="NumpadBackspace",e[e.NumpadMemoryStore=150]="NumpadMemoryStore",e[e.NumpadMemoryRecall=151]="NumpadMemoryRecall",e[e.NumpadMemoryClear=152]="NumpadMemoryClear",e[e.NumpadMemoryAdd=153]="NumpadMemoryAdd",e[e.NumpadMemorySubtract=154]="NumpadMemorySubtract",e[e.NumpadClear=155]="NumpadClear",e[e.NumpadClearEntry=156]="NumpadClearEntry",e[e.ControlLeft=157]="ControlLeft",e[e.ShiftLeft=158]="ShiftLeft",e[e.AltLeft=159]="AltLeft",e[e.MetaLeft=160]="MetaLeft",e[e.ControlRight=161]="ControlRight",e[e.ShiftRight=162]="ShiftRight",e[e.AltRight=163]="AltRight",e[e.MetaRight=164]="MetaRight",e[e.BrightnessUp=165]="BrightnessUp",e[e.BrightnessDown=166]="BrightnessDown",e[e.MediaPlay=167]="MediaPlay",e[e.MediaRecord=168]="MediaRecord",e[e.MediaFastForward=169]="MediaFastForward",e[e.MediaRewind=170]="MediaRewind",e[e.MediaTrackNext=171]="MediaTrackNext",e[e.MediaTrackPrevious=172]="MediaTrackPrevious",e[e.MediaStop=173]="MediaStop",e[e.Eject=174]="Eject",e[e.MediaPlayPause=175]="MediaPlayPause",e[e.MediaSelect=176]="MediaSelect",e[e.LaunchMail=177]="LaunchMail",e[e.LaunchApp2=178]="LaunchApp2",e[e.LaunchApp1=179]="LaunchApp1",e[e.SelectTask=180]="SelectTask",e[e.LaunchScreenSaver=181]="LaunchScreenSaver",e[e.BrowserSearch=182]="BrowserSearch",e[e.BrowserHome=183]="BrowserHome",e[e.BrowserBack=184]="BrowserBack",e[e.BrowserForward=185]="BrowserForward",e[e.BrowserStop=186]="BrowserStop",e[e.BrowserRefresh=187]="BrowserRefresh",e[e.BrowserFavorites=188]="BrowserFavorites",e[e.ZoomToggle=189]="ZoomToggle",e[e.MailReply=190]="MailReply",e[e.MailForward=191]="MailForward",e[e.MailSend=192]="MailSend",e[e.MAX_VALUE=193]="MAX_VALUE"}(t.ScanCode||(t.ScanCode={}));var n=[],i=Object.create(null),r=Object.create(null);t.ScanCodeUtils={lowerCaseToEnum:function(e){return r[e]||0},toEnum:function(e){return i[e]||0},toString:function(e){return n[e]||"None"}},t.IMMUTABLE_CODE_TO_KEY_CODE=[],t.IMMUTABLE_KEY_CODE_TO_CODE=[];var o=function(){function e(e,t,n,i,r){this.ctrlKey=e,this.shiftKey=t,this.altKey=n,this.metaKey=i,this.scanCode=r}return e.prototype.equals=function(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.scanCode===e.scanCode},e.prototype.isDuplicateModifierCase=function(){return this.ctrlKey&&(157===this.scanCode||161===this.scanCode)||this.shiftKey&&(158===this.scanCode||162===this.scanCode)||this.altKey&&(159===this.scanCode||163===this.scanCode)||this.metaKey&&(160===this.scanCode||164===this.scanCode)},e}();t.ScanCodeBinding=o,function(){function e(e,t){n[e]=t,i[t]=e,r[t.toLowerCase()]=e}e(0,"None"),e(1,"Hyper"),e(2,"Super"),e(3,"Fn"),e(4,"FnLock"),e(5,"Suspend"),e(6,"Resume"),e(7,"Turbo"),e(8,"Sleep"),e(9,"WakeUp"),e(10,"KeyA"),e(11,"KeyB"),e(12,"KeyC"),e(13,"KeyD"),e(14,"KeyE"),e(15,"KeyF"),e(16,"KeyG"),e(17,"KeyH"),e(18,"KeyI"),e(19,"KeyJ"),e(20,"KeyK"),e(21,"KeyL"),e(22,"KeyM"),e(23,"KeyN"),e(24,"KeyO"),e(25,"KeyP"),e(26,"KeyQ"),e(27,"KeyR"),e(28,"KeyS"),e(29,"KeyT"),e(30,"KeyU"),e(31,"KeyV"),e(32,"KeyW"),e(33,"KeyX"),e(34,"KeyY"),e(35,"KeyZ"),e(36,"Digit1"),e(37,"Digit2"),e(38,"Digit3"),e(39,"Digit4"),e(40,"Digit5"),e(41,"Digit6"),e(42,"Digit7"),e(43,"Digit8"),e(44,"Digit9"),e(45,"Digit0"),e(46,"Enter"),e(47,"Escape"),e(48,"Backspace"),e(49,"Tab"),e(50,"Space"),e(51,"Minus"),e(52,"Equal"),e(53,"BracketLeft"),e(54,"BracketRight"),e(55,"Backslash"),e(56,"IntlHash"),e(57,"Semicolon"),e(58,"Quote"),e(59,"Backquote"),e(60,"Comma"),e(61,"Period"),e(62,"Slash"),e(63,"CapsLock"),e(64,"F1"),e(65,"F2"),e(66,"F3"),e(67,"F4"),e(68,"F5"),e(69,"F6"),e(70,"F7"),e(71,"F8"),e(72,"F9"),e(73,"F10"),e(74,"F11"),e(75,"F12"),e(76,"PrintScreen"),e(77,"ScrollLock"),e(78,"Pause"),e(79,"Insert"),e(80,"Home"),e(81,"PageUp"),e(82,"Delete"),e(83,"End"),e(84,"PageDown"),e(85,"ArrowRight"),e(86,"ArrowLeft"),e(87,"ArrowDown"),e(88,"ArrowUp"),e(89,"NumLock"),e(90,"NumpadDivide"),e(91,"NumpadMultiply"),e(92,"NumpadSubtract"),e(93,"NumpadAdd"),e(94,"NumpadEnter"),e(95,"Numpad1"),e(96,"Numpad2"),e(97,"Numpad3"),e(98,"Numpad4"),e(99,"Numpad5"),e(100,"Numpad6"),e(101,"Numpad7"),e(102,"Numpad8"),e(103,"Numpad9"),e(104,"Numpad0"),e(105,"NumpadDecimal"),e(106,"IntlBackslash"),e(107,"ContextMenu"),e(108,"Power"),e(109,"NumpadEqual"),e(110,"F13"),e(111,"F14"),e(112,"F15"),e(113,"F16"),e(114,"F17"),e(115,"F18"),e(116,"F19"),e(117,"F20"),e(118,"F21"),e(119,"F22"),e(120,"F23"),e(121,"F24"),e(122,"Open"),e(123,"Help"),e(124,"Select"),e(125,"Again"),e(126,"Undo"),e(127,"Cut"),e(128,"Copy"),e(129,"Paste"),e(130,"Find"),e(131,"AudioVolumeMute"),e(132,"AudioVolumeUp"),e(133,"AudioVolumeDown"),e(134,"NumpadComma"),e(135,"IntlRo"),e(136,"KanaMode"),e(137,"IntlYen"),e(138,"Convert"),e(139,"NonConvert"),e(140,"Lang1"),e(141,"Lang2"),e(142,"Lang3"),e(143,"Lang4"),e(144,"Lang5"),e(145,"Abort"),e(146,"Props"),e(147,"NumpadParenLeft"),e(148,"NumpadParenRight"),e(149,"NumpadBackspace"),e(150,"NumpadMemoryStore"),e(151,"NumpadMemoryRecall"),e(152,"NumpadMemoryClear"),e(153,"NumpadMemoryAdd"),e(154,"NumpadMemorySubtract"),e(155,"NumpadClear"),e(156,"NumpadClearEntry"),e(157,"ControlLeft"),e(158,"ShiftLeft"),e(159,"AltLeft"),e(160,"MetaLeft"),e(161,"ControlRight"),e(162,"ShiftRight"),e(163,"AltRight"),e(164,"MetaRight"),e(165,"BrightnessUp"),e(166,"BrightnessDown"),e(167,"MediaPlay"),e(168,"MediaRecord"),e(169,"MediaFastForward"),e(170,"MediaRewind"),e(171,"MediaTrackNext"),e(172,"MediaTrackPrevious"),e(173,"MediaStop"),e(174,"Eject"),e(175,"MediaPlayPause"),e(176,"MediaSelect"),e(177,"LaunchMail"),e(178,"LaunchApp2"),e(179,"LaunchApp1"),e(180,"SelectTask"),e(181,"LaunchScreenSaver"),e(182,"BrowserSearch"),e(183,"BrowserHome"),e(184,"BrowserBack"),e(185,"BrowserForward"),e(186,"BrowserStop"),e(187,"BrowserRefresh"),e(188,"BrowserFavorites"),e(189,"ZoomToggle"),e(190,"MailReply"),e(191,"MailForward"),e(192,"MailSend")}(),function(){function e(e,n){t.IMMUTABLE_CODE_TO_KEY_CODE[e]=n,0!==n&&3!==n&&5!==n&&4!==n&&6!==n&&57!==n&&(t.IMMUTABLE_KEY_CODE_TO_CODE[n]=e)}for(n=0;n<=193;n++)t.IMMUTABLE_CODE_TO_KEY_CODE[n]=-1;for(var n=0;n<=112;n++)t.IMMUTABLE_KEY_CODE_TO_CODE[n]=-1;t.IMMUTABLE_KEY_CODE_TO_CODE[3]=46,e(0,0),e(1,0),e(2,0),e(3,0),e(4,0),e(5,0),e(6,0),e(7,0),e(8,0),e(9,0),e(46,3),e(47,9),e(48,1),e(49,2),e(50,10),e(63,8),e(64,59),e(65,60),e(66,61),e(67,62),e(68,63),e(69,64),e(70,65),e(71,66),e(72,67),e(73,68),e(74,69),e(75,70),e(76,0),e(77,79),e(78,7),e(79,19),e(80,14),e(81,11),e(82,20),e(83,13),e(84,12),e(85,17),e(86,15),e(87,18),e(88,16),e(89,78),e(90,108),e(91,103),e(92,106),e(93,104),e(94,3),e(95,94),e(96,95),e(97,96),e(98,97),e(99,98),e(100,99),e(101,100),e(102,101),e(103,102),e(104,93),e(105,107),e(107,58),e(108,0),e(109,0),e(110,71),e(111,72),e(112,73),e(113,74),e(114,75),e(115,76),e(116,77),e(117,0),e(118,0),e(119,0),e(120,0),e(121,0),e(122,0),e(123,0),e(124,0),e(125,0),e(126,0),e(127,0),e(128,0),e(129,0),e(130,0),e(131,0),e(132,0),e(133,0),e(134,105),e(136,0),e(138,0),e(139,0),e(140,0),e(141,0),e(142,0),e(143,0),e(144,0),e(145,0),e(146,0),e(147,0),e(148,0),e(149,0),e(150,0),e(151,0),e(152,0),e(153,0),e(154,0),e(155,0),e(156,0),e(157,5),e(158,4),e(159,6),e(160,57),e(161,5),e(162,4),e(163,6),e(164,57),e(165,0),e(166,0),e(167,0),e(168,0),e(169,0),e(170,0),e(171,0),e(172,0),e(173,0),e(174,0),e(175,0),e(176,0),e(177,0),e(178,0),e(179,0),e(180,0),e(181,0),e(182,0),e(183,0),e(184,0),e(185,0),e(186,0),e(187,0),e(188,0),e(189,0),e(190,0),e(191,0),e(192,0)}()}),define(u[243],d([1,0,60,17,216]),function(e,t,n,i,r){"use strict";function o(e,t){return e.length<t?e+new Array(t-e.length).join(" "):e}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(){}return e.writeKeybindingItem=function(e,t,n){var i=JSON.stringify(t.resolvedKeybinding.getUserSettingsLabel());e.write('{ "key": '+o(i+",",25)+' "command": ');var r=t.when?t.when.serialize():"",s=JSON.stringify(t.command);r.length>0?(e.write(s+","),e.writeLine(),e.write('                                     "when": "'+r+'" ')):e.write(s+" "),e.write("}")},e.readUserKeybindingItem=function(e,t){var n="string"==typeof e.key?this._readUserBinding(e.key):[null,null],r=n[0],o=n[1],s="string"==typeof e.when?i.ContextKeyExpr.deserialize(e.when):null;return{firstPart:r,chordPart:o,command:"string"==typeof e.command?e.command:null,commandArgs:void 0!==e.args?e.args:null,when:s}},e._readModifiers=function(e){e=e.toLowerCase().trim();var t,n=!1,i=!1,r=!1,o=!1;do{t=!1,/^ctrl(\+|\-)/.test(e)&&(n=!0,e=e.substr("ctrl-".length),t=!0),/^shift(\+|\-)/.test(e)&&(i=!0,e=e.substr("shift-".length),t=!0),/^alt(\+|\-)/.test(e)&&(r=!0,e=e.substr("alt-".length),t=!0),/^meta(\+|\-)/.test(e)&&(o=!0,e=e.substr("meta-".length),t=!0),/^win(\+|\-)/.test(e)&&(o=!0,e=e.substr("win-".length),t=!0),/^cmd(\+|\-)/.test(e)&&(o=!0,e=e.substr("cmd-".length),t=!0)}while(t);var s,a=e.indexOf(" ");return a>0?(s=e.substring(0,a),e=e.substring(a)):(s=e,e=""),{remains:e,ctrl:n,shift:i,alt:r,meta:o,key:s}},e._readSimpleKeybinding=function(e){var t=this._readModifiers(e),i=n.KeyCodeUtils.fromUserSettings(t.key);return[new n.SimpleKeybinding(t.ctrl,t.shift,t.alt,t.meta,i),t.remains]},e.readKeybinding=function(e,t){if(!e)return null;var i=this._readSimpleKeybinding(e),r=i[0],o=i[1],s=null;return o.length>0&&(s=this._readSimpleKeybinding(o)[0]),s?new n.ChordKeybinding(r,s):r},e._readSimpleUserBinding=function(e){var t=this._readModifiers(e),i=t.key.match(/^\[([^\]]+)\]$/);if(i){var o=i[1],s=r.ScanCodeUtils.lowerCaseToEnum(o);return[new r.ScanCodeBinding(t.ctrl,t.shift,t.alt,t.meta,s),t.remains]}var a=n.KeyCodeUtils.fromUserSettings(t.key);return[new n.SimpleKeybinding(t.ctrl,t.shift,t.alt,t.meta,a),t.remains]},e._readUserBinding=function(e){if(!e)return[null,null];var t=this._readSimpleUserBinding(e),n=t[0],i=t[1],r=null;return i.length>0&&(r=this._readSimpleUserBinding(i)[0]),[n,r]},e}();t.KeybindingIO=s;var a=function(){function e(){this._lines=[],this._currentLine=""}return e.prototype.write=function(e){this._currentLine+=e},e.prototype.writeLine=function(e){void 0===e&&(e=""),this._lines.push(this._currentLine+e),this._currentLine=""},e.prototype.toString=function(){return this.writeLine(),this._lines.join("\n")},e}();t.OutputBuilder=a}),define(u[1112],d([1,0,60,782,216]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this._OS=e}return e.prototype.dumpDebugInfo=function(){return"FallbackKeyboardMapper dispatching on keyCode"},e.prototype.resolveKeybinding=function(e){return[new i.USLayoutResolvedKeybinding(e,this._OS)]},e.prototype.resolveKeyboardEvent=function(e){var t=new n.SimpleKeybinding(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode);return new i.USLayoutResolvedKeybinding(t,this._OS)},e.prototype._scanCodeToKeyCode=function(e){var t=r.IMMUTABLE_CODE_TO_KEY_CODE[e];if(-1!==t)return t;switch(e){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0},e.prototype._resolveSimpleUserBinding=function(e){if(!e)return null;if(e instanceof n.SimpleKeybinding)return e;var t=this._scanCodeToKeyCode(e.scanCode);return 0===t?null:new n.SimpleKeybinding(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,t)},e.prototype.resolveUserBinding=function(e,t){var r=this._resolveSimpleUserBinding(e),o=this._resolveSimpleUserBinding(t);return r&&o?[new i.USLayoutResolvedKeybinding(new n.ChordKeybinding(r,o),this._OS)]:r?[new i.USLayoutResolvedKeybinding(r,this._OS)]:[]},e}();t.MacLinuxFallbackKeyboardMapper=o}),define(u[1113],d([1,0,60,216,181]),function(e,t,n,i,r){"use strict";function o(e,t){return!e&&!t||!(!e||!t)&&(e.value===t.value&&e.withShift===t.withShift&&e.withAltGr===t.withAltGr&&e.withShiftAltGr===t.withShiftAltGr)}Object.defineProperty(t,"__esModule",{value:!0}),t.macLinuxKeyboardMappingEquals=function(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;for(var n=0;n<193;n++){var r=i.ScanCodeUtils.toString(n);if(!o(e[r],t[r]))return!1}return!0};var s=[],a=function(e){function t(t,n,i,r){var o=e.call(this)||this;return o._mapper=t,o._OS=n,o._firstPart=i,o._chordPart=r,o}return h(t,e),t.prototype.getLabel=function(){var e=this._mapper.getUILabelForScanCodeBinding(this._firstPart),t=this._mapper.getUILabelForScanCodeBinding(this._chordPart);return r.UILabelProvider.toLabel(this._firstPart,e,this._chordPart,t,this._OS)},t.prototype.getAriaLabel=function(){var e=this._mapper.getAriaLabelForScanCodeBinding(this._firstPart),t=this._mapper.getAriaLabelForScanCodeBinding(this._chordPart);return r.AriaLabelProvider.toLabel(this._firstPart,e,this._chordPart,t,this._OS)},t.prototype.getElectronAccelerator=function(){if(null!==this._chordPart)return null;var e=this._mapper.getElectronAcceleratorLabelForScanCodeBinding(this._firstPart);return r.ElectronAcceleratorLabelProvider.toLabel(this._firstPart,e,null,null,this._OS)},t.prototype.getUserSettingsLabel=function(){var e=this._mapper.getUserSettingsLabelForScanCodeBinding(this._firstPart),t=this._mapper.getUserSettingsLabelForScanCodeBinding(this._chordPart);return r.UserSettingsLabelProvider.toLabel(this._firstPart,e,this._chordPart,t,this._OS)},t.prototype._isWYSIWYG=function(e){if(!e)return!0;if(-1!==i.IMMUTABLE_CODE_TO_KEY_CODE[e.scanCode])return!0;var t=this._mapper.getAriaLabelForScanCodeBinding(e),n=this._mapper.getUserSettingsLabelForScanCodeBinding(e);return!t&&!n||!(!t||!n)&&t.toLowerCase()===n.toLowerCase()},t.prototype.isWYSIWYG=function(){return this._isWYSIWYG(this._firstPart)&&this._isWYSIWYG(this._chordPart)},t.prototype.isChord=function(){return!!this._chordPart},t.prototype.getParts=function(){return[this._toResolvedKeybindingPart(this._firstPart),this._toResolvedKeybindingPart(this._chordPart)]},t.prototype._toResolvedKeybindingPart=function(e){return e?new n.ResolvedKeybindingPart(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._mapper.getUILabelForScanCodeBinding(e),this._mapper.getAriaLabelForScanCodeBinding(e)):null},t.prototype.getDispatchParts=function(){return[this._firstPart?this._mapper.getDispatchStrForScanCodeBinding(this._firstPart):null,this._chordPart?this._mapper.getDispatchStrForScanCodeBinding(this._chordPart):null]},t}(n.ResolvedKeybinding);t.NativeResolvedKeybinding=a;var c=function(){function e(e,t,n,i){this.ctrlKey=e,this.shiftKey=t,this.altKey=n,this.scanCode=i}return e.prototype.toString=function(){return(this.ctrlKey?"Ctrl+":"")+(this.shiftKey?"Shift+":"")+(this.altKey?"Alt+":"")+i.ScanCodeUtils.toString(this.scanCode)},e.prototype.equals=function(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.scanCode===e.scanCode},e.prototype.getProducedCharCode=function(e){return e?this.ctrlKey&&this.shiftKey&&this.altKey?e.withShiftAltGr:this.ctrlKey&&this.altKey?e.withAltGr:this.shiftKey?e.withShift:e.value:""},e.prototype.getProducedChar=function(e){var t=d.getCharCode(this.getProducedCharCode(e));return 0===t?" --- ":t>=768&&t<=879?"U+"+t.toString(16):"  "+String.fromCharCode(t)+"  "},e}(),l=function(){function e(e,t,n,i){this.ctrlKey=e,this.shiftKey=t,this.altKey=n,this.keyCode=i}return e.prototype.toString=function(){return(this.ctrlKey?"Ctrl+":"")+(this.shiftKey?"Shift+":"")+(this.altKey?"Alt+":"")+n.KeyCodeUtils.toString(this.keyCode)},e}(),u=function(){function e(){this._scanCodeToKeyCode=[],this._keyCodeToScanCode=[],this._scanCodeToKeyCode=[],this._keyCodeToScanCode=[]}return e.prototype.registrationComplete=function(){this._moveToEnd(56),this._moveToEnd(106)},e.prototype._moveToEnd=function(e){for(var t=0;t<8;t++){var n=this._scanCodeToKeyCode[(e<<3)+t];if(n)for(var i=0,r=n.length;i<r;i++){var o=this._keyCodeToScanCode[n[i]];if(1!==o.length)for(var s=0,a=o.length;s<a;s++){var c=o[s];if(c>>>3===e){for(var l=s+1;l<a;l++)o[l-1]=o[l];o[a-1]=c}}}}},e.prototype.registerIfUnknown=function(e,t){if(0!==t.keyCode){var n=this._encodeScanCodeCombo(e),i=this._encodeKeyCodeCombo(t),r=t.keyCode>=21&&t.keyCode<=30,o=t.keyCode>=31&&t.keyCode<=56,s=this._scanCodeToKeyCode[n];if(r||o){if(s)for(var a=0,c=s.length;a<c;a++)if(s[a]===i)return}else if(s&&0!==s.length)return;this._scanCodeToKeyCode[n]=this._scanCodeToKeyCode[n]||[],this._scanCodeToKeyCode[n].unshift(i),this._keyCodeToScanCode[i]=this._keyCodeToScanCode[i]||[],this._keyCodeToScanCode[i].unshift(n)}},e.prototype.lookupKeyCodeCombo=function(e){var t=this._encodeKeyCodeCombo(e),n=this._keyCodeToScanCode[t];if(!n||0===n.length)return[];for(var i=[],r=0,o=n.length;r<o;r++){var s=n[r],a=!!(1&s),l=!!(2&s),u=!!(4&s),d=s>>>3;i[r]=new c(a,l,u,d)}return i},e.prototype.lookupScanCodeCombo=function(e){var t=this._encodeScanCodeCombo(e),n=this._scanCodeToKeyCode[t];if(!n||0===n.length)return[];for(var i=[],r=0,o=n.length;r<o;r++){var s=n[r],a=!!(1&s),c=!!(2&s),u=!!(4&s),d=s>>>3;i[r]=new l(a,c,u,d)}return i},e.prototype.guessStableKeyCode=function(e){if(e>=36&&e<=45)switch(e){case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21}var t=this.lookupScanCodeCombo(new c(!1,!1,!1,e)),n=this.lookupScanCodeCombo(new c(!1,!0,!1,e));if(1===t.length&&1===n.length){var i=t[0].shiftKey,r=t[0].keyCode,o=n[0].shiftKey;if(r===n[0].keyCode&&i!==o)return r}return-1},e.prototype._encodeScanCodeCombo=function(e){return this._encode(e.ctrlKey,e.shiftKey,e.altKey,e.scanCode)},e.prototype._encodeKeyCodeCombo=function(e){return this._encode(e.ctrlKey,e.shiftKey,e.altKey,e.keyCode)},e.prototype._encode=function(e,t,n,i){return((e?1:0)<<0|(t?1:0)<<1|(n?1:0)<<2|i<<3)>>>0},e}(),d=function(){function e(t,r,o,s){var a=this;this._scanCodeToLabel=[],this._scanCodeToDispatch=[],this._isISOKeyboard=t,this._isUSStandard=r,this._OS=s,this._codeInfo=[],this._scanCodeKeyCodeMapper=new u,this._scanCodeToLabel=[],this._scanCodeToDispatch=[];for(var d=function(e,t,n,i,r,o,s,u){a._scanCodeKeyCodeMapper.registerIfUnknown(new c(!!e,!!t,!!n,i),new l(!!r,!!o,!!s,u))},h=function(e,t,n,i,r){for(var o=e;o<=1;o++)for(var s=t;s<=1;s++)for(var a=n;a<=1;a++)d(o,s,a,i,o,s,a,r)},p=0;p<193;p++)this._scanCodeToLabel[p]=null;for(p=0;p<193;p++)this._scanCodeToDispatch[p]=null;for(p=0;p<193;p++)-1!==(T=i.IMMUTABLE_CODE_TO_KEY_CODE[p])&&(h(0,0,0,p,T),this._scanCodeToLabel[p]=n.KeyCodeUtils.toString(T),this._scanCodeToDispatch[p]=0===T||5===T||57===T||6===T||4===T?null:"["+i.ScanCodeUtils.toString(p)+"]");var f={},g=[];for(var v in o)if(o.hasOwnProperty(v)){if(0===(p=i.ScanCodeUtils.toEnum(v)))continue;if(-1!==i.IMMUTABLE_CODE_TO_KEY_CODE[p])continue;S=o[v];(_=e.getCharCode(S.value))>=97&&_<=122&&(g[C=_-97+65]=!0)}var m=function(e,t,n,r){g[e]||(f[i.ScanCodeUtils.toString(t)]={value:n,withShift:r,withAltGr:"",withShiftAltGr:""})};m(65,10,"a","A"),m(66,11,"b","B"),m(67,12,"c","C"),m(68,13,"d","D"),m(69,14,"e","E"),m(70,15,"f","F"),m(71,16,"g","G"),m(72,17,"h","H"),m(73,18,"i","I"),m(74,19,"j","J"),m(75,20,"k","K"),m(76,21,"l","L"),m(77,22,"m","M"),m(78,23,"n","N"),m(79,24,"o","O"),m(80,25,"p","P"),m(81,26,"q","Q"),m(82,27,"r","R"),m(83,28,"s","S"),m(84,29,"t","T"),m(85,30,"u","U"),m(86,31,"v","V"),m(87,32,"w","W"),m(88,33,"x","X"),m(89,34,"y","Y"),m(90,35,"z","Z");var y=[],b=0;for(var v in o)if(o.hasOwnProperty(v)){if(0===(p=i.ScanCodeUtils.toEnum(v)))continue;if(-1!==i.IMMUTABLE_CODE_TO_KEY_CODE[p])continue;this._codeInfo[p]=o[v];var S=f[v]||o[v],_=e.getCharCode(S.value),E={scanCode:p,value:_,withShift:x=e.getCharCode(S.withShift),withAltGr:k=e.getCharCode(S.withAltGr),withShiftAltGr:w=e.getCharCode(S.withShiftAltGr)};if(y[b++]=E,this._scanCodeToDispatch[p]="["+i.ScanCodeUtils.toString(p)+"]",_>=97&&_<=122){var C=_-97+65;this._scanCodeToLabel[p]=String.fromCharCode(C)}else this._scanCodeToLabel[p]=_>=65&&_<=90?String.fromCharCode(_):_?String.fromCharCode(_):null}for(A=y.length-1;A>=0;A--){var p=(E=y[A]).scanCode,w=E.withShiftAltGr;if(w!==E.withAltGr&&w!==E.withShift&&w!==E.value&&(L=e._charCodeToKb(w))){var I=L.shiftKey,T=L.keyCode;I?d(1,1,1,p,0,1,0,T):d(1,1,1,p,0,0,0,T)}}for(A=y.length-1;A>=0;A--){var p=(E=y[A]).scanCode,k=E.withAltGr;if(k!==E.withShift&&k!==E.value&&(L=e._charCodeToKb(k))){var I=L.shiftKey,T=L.keyCode;I?d(1,0,1,p,0,1,0,T):d(1,0,1,p,0,0,0,T)}}for(A=y.length-1;A>=0;A--){var p=(E=y[A]).scanCode,x=E.withShift;if(x!==E.value&&(L=e._charCodeToKb(x))){var I=L.shiftKey,T=L.keyCode;I?(d(0,1,0,p,0,1,0,T),d(0,1,1,p,0,1,1,T),d(1,1,0,p,1,1,0,T),d(1,1,1,p,1,1,1,T)):(d(0,1,0,p,0,0,0,T),d(0,1,0,p,0,1,0,T),d(0,1,1,p,0,0,1,T),d(0,1,1,p,0,1,1,T),d(1,1,0,p,1,0,0,T),d(1,1,0,p,1,1,0,T),d(1,1,1,p,1,0,1,T),d(1,1,1,p,1,1,1,T))}}for(var A=y.length-1;A>=0;A--){var p=(E=y[A]).scanCode,L=e._charCodeToKb(E.value);if(L){var I=L.shiftKey,T=L.keyCode;I?(d(0,0,0,p,0,1,0,T),d(0,0,1,p,0,1,1,T),d(1,0,0,p,1,1,0,T),d(1,0,1,p,1,1,1,T)):(d(0,0,0,p,0,0,0,T),d(0,0,1,p,0,0,1,T),d(0,1,0,p,0,1,0,T),d(0,1,1,p,0,1,1,T),d(1,0,0,p,1,0,0,T),d(1,0,1,p,1,0,1,T),d(1,1,0,p,1,1,0,T),d(1,1,1,p,1,1,1,T))}}h(0,0,0,36,22),h(0,0,0,37,23),h(0,0,0,38,24),h(0,0,0,39,25),h(0,0,0,40,26),h(0,0,0,41,27),h(0,0,0,42,28),h(0,0,0,43,29),h(0,0,0,44,30),h(0,0,0,45,21),this._scanCodeKeyCodeMapper.registrationComplete()}return e.prototype.dumpDebugInfo=function(){var e=[],t=[88,104],n=0;e.push("isUSStandard: "+this._isUSStandard),e.push("----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------");for(var r=0;r<193;r++)if(-1===i.IMMUTABLE_CODE_TO_KEY_CODE[r]||-1!==t.indexOf(r)){n%4==0&&(e.push("|       HW Code combination      |  Key  |    KeyCode combination    | Pri |          UI label         |         User settings          |    Electron accelerator   |       Dispatching string       | WYSIWYG |"),e.push("----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------")),n++;for(var o=this._codeInfo[r],s=0;s<8;s++){var a=new c(!!(1&s),!!(2&s),!!(4&s),r),l=this.resolveKeyboardEvent({ctrlKey:a.ctrlKey,shiftKey:a.shiftKey,altKey:a.altKey,metaKey:!1,keyCode:-1,code:i.ScanCodeUtils.toString(r)}),u=a.toString(),d=a.getProducedChar(o),h=l.getAriaLabel(),p=h?h.replace(/Control\+/,"Ctrl+"):null,f=l.getUserSettingsLabel(),g=l.getElectronAccelerator(),v=l.getDispatchParts()[0],m=!!l&&l.isWYSIWYG()?"       ":"   NO  ",y=this._scanCodeKeyCodeMapper.lookupScanCodeCombo(a);if(0===y.length)e.push("| "+this._leftPad(u,30)+" | "+d+" | "+this._leftPad("",25)+" | "+this._leftPad("",3)+" | "+this._leftPad(p,25)+" | "+this._leftPad(f,30)+" | "+this._leftPad(g,25)+" | "+this._leftPad(v,30)+" | "+m+" |");else for(var b=0,S=y.length;b<S;b++){var _=y[b],E="-",C=this._scanCodeKeyCodeMapper.lookupKeyCodeCombo(_);if(1===C.length)E="";else{for(var w=-1,I=0;I<C.length;I++)if(C[I].equals(a)){w=I+1;break}E=String(w)}var T=_.toString();0===b?e.push("| "+this._leftPad(u,30)+" | "+d+" | "+this._leftPad(T,25)+" | "+this._leftPad(E,3)+" | "+this._leftPad(p,25)+" | "+this._leftPad(f,30)+" | "+this._leftPad(g,25)+" | "+this._leftPad(v,30)+" | "+m+" |"):e.push("| "+this._leftPad("",30)+" |       | "+this._leftPad(T,25)+" | "+this._leftPad(E,3)+" | "+this._leftPad("",25)+" | "+this._leftPad("",30)+" | "+this._leftPad("",25)+" | "+this._leftPad("",30)+" |         |")}}e.push("----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------")}return e.join("\n")},e.prototype._leftPad=function(e,t){for(null===e&&(e="null");e.length<t;)e=" "+e;return e},e.prototype.simpleKeybindingToScanCodeBinding=function(e){if(3===e.keyCode)return[new i.ScanCodeBinding(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,46)];for(var t=this._scanCodeKeyCodeMapper.lookupKeyCodeCombo(new l(e.ctrlKey,e.shiftKey,e.altKey,e.keyCode)),n=[],r=0,o=t.length;r<o;r++){var s=t[r];n[r]=new i.ScanCodeBinding(s.ctrlKey,s.shiftKey,s.altKey,e.metaKey,s.scanCode)}return n},e.prototype.getUILabelForScanCodeBinding=function(e){if(!e)return null;if(e.isDuplicateModifierCase())return"";if(2===this._OS)switch(e.scanCode){case 86:return"←";case 88:return"↑";case 85:return"→";case 87:return"↓"}return this._scanCodeToLabel[e.scanCode]},e.prototype.getAriaLabelForScanCodeBinding=function(e){return e?e.isDuplicateModifierCase()?"":this._scanCodeToLabel[e.scanCode]:null},e.prototype.getDispatchStrForScanCodeBinding=function(e){var t=this._scanCodeToDispatch[e.scanCode];if(!t)return null;var n="";return e.ctrlKey&&(n+="ctrl+"),e.shiftKey&&(n+="shift+"),e.altKey&&(n+="alt+"),e.metaKey&&(n+="meta+"),n+=t},e.prototype.getUserSettingsLabelForScanCodeBinding=function(e){if(!e)return null;if(e.isDuplicateModifierCase())return"";var t=i.IMMUTABLE_CODE_TO_KEY_CODE[e.scanCode];if(-1!==t)return n.KeyCodeUtils.toUserSettingsUS(t).toLowerCase();var r=this._scanCodeKeyCodeMapper.guessStableKeyCode(e.scanCode);if(-1!==r)for(var o=this.simpleKeybindingToScanCodeBinding(new n.SimpleKeybinding(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,r)),s=0,a=o.length;s<a;s++)if(o[s].scanCode===e.scanCode)return n.KeyCodeUtils.toUserSettingsUS(r).toLowerCase();return this._scanCodeToDispatch[e.scanCode]},e.prototype._getElectronLabelForKeyCode=function(e){if(e>=93&&e<=108)return null;switch(e){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return n.KeyCodeUtils.toString(e)},e.prototype.getElectronAcceleratorLabelForScanCodeBinding=function(e){if(!e)return null;if(e.isDuplicateModifierCase())return null;var t=i.IMMUTABLE_CODE_TO_KEY_CODE[e.scanCode];if(-1!==t)return this._getElectronLabelForKeyCode(t);var n=this._scanCodeKeyCodeMapper.guessStableKeyCode(e.scanCode);return(this._isUSStandard||80!==n&&81!==n&&82!==n&&83!==n&&84!==n&&85!==n&&86!==n&&87!==n&&88!==n&&89!==n)&&-1!==n?this._getElectronLabelForKeyCode(n):null},e.prototype.resolveKeybinding=function(e){var t=[],n=0;if(2===e.type)for(var i=this.simpleKeybindingToScanCodeBinding(e.firstPart),r=this.simpleKeybindingToScanCodeBinding(e.chordPart),o=0,s=i.length;o<s;o++)for(var c=i[o],l=0,u=r.length;l<u;l++){var d=r[l];t[n++]=new a(this,this._OS,c,d)}else for(var o=0,s=(i=this.simpleKeybindingToScanCodeBinding(e)).length;o<s;o++){c=i[o];t[n++]=new a(this,this._OS,c,null)}return t},e.prototype.resolveKeyboardEvent=function(e){var t=i.ScanCodeUtils.toEnum(e.code);if(94===t&&(t=46),2===this._OS&&this._isISOKeyboard)switch(t){case 106:t=59;break;case 59:t=106}var n=e.keyCode;if(15===n||16===n||17===n||18===n||20===n||19===n||14===n||13===n||12===n||11===n)-1!==(r=i.IMMUTABLE_KEY_CODE_TO_CODE[n])&&(t=r);else if((95===t||96===t||97===t||98===t||99===t||100===t||101===t||102===t||103===t||104===t||105===t)&&n>=0){var r=i.IMMUTABLE_KEY_CODE_TO_CODE[n];-1!==r&&(t=r)}var o=new i.ScanCodeBinding(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,t);return new a(this,this._OS,o,null)},e.prototype._resolveSimpleUserBinding=function(e){return e?e instanceof i.ScanCodeBinding?[e]:this.simpleKeybindingToScanCodeBinding(e):[]},e.prototype.resolveUserBinding=function(e,t){for(var n=this._resolveSimpleUserBinding(e),i=this._resolveSimpleUserBinding(t),r=[],o=0,s=0,c=n.length;s<c;s++){var l=n[s];if(t)for(var u=0,d=i.length;u<d;u++){var h=i[u];r[o++]=new a(this,this._OS,l,h)}else r[o++]=new a(this,this._OS,l,null)}return r},e._charCodeToKb=function(e){return e<s.length?s[e]:null},e.getCharCode=function(e){if(0===e.length)return 0;var t=e.charCodeAt(0);switch(t){case 768:return 96;case 769:return 180;case 770:return 94;case 771:return 732;case 772:return 175;case 773:return 8254;case 774:return 728;case 775:return 729;case 776:return 168;case 778:return 730;case 779:return 733}return t},e}();t.MacLinuxKeyboardMapper=d,function(){function e(e,t,n){for(var i=s.length;i<e;i++)s[i]=null;s[e]={keyCode:t,shiftKey:n}}for(t=65;t<=90;t++)e(t,t-65+31,!0);for(var t=97;t<=122;t++)e(t,t-97+31,!1);e(59,80,!1),e(58,80,!0),e(61,81,!1),e(43,81,!0),e(44,82,!1),e(60,82,!0),e(45,83,!1),e(95,83,!0),e(46,84,!1),e(62,84,!0),e(47,85,!1),e(63,85,!0),e(96,86,!1),e(126,86,!0),e(91,87,!1),e(123,87,!0),e(92,88,!1),e(124,88,!0),e(93,89,!1),e(125,89,!0),e(39,90,!1),e(34,90,!0)}()}),define(u[351],d([1,0,60,216,181]),function(e,t,n,i,r){"use strict";function o(e,t){return!e&&!t||!(!e||!t)&&(e.vkey===t.vkey&&e.value===t.value&&e.withShift===t.withShift&&e.withAltGr===t.withAltGr&&e.withShiftAltGr===t.withShiftAltGr)}function s(e){a&&console.info(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.windowsKeyboardMappingEquals=function(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;for(var n=0;n<193;n++){var r=i.ScanCodeUtils.toString(n);if(!o(e[r],t[r]))return!1}return!0};var a=!1,c={VK_BACK:1,VK_TAB:2,VK_CLEAR:0,VK_RETURN:3,VK_SHIFT:4,VK_CONTROL:5,VK_MENU:6,VK_PAUSE:7,VK_CAPITAL:8,VK_KANA:0,VK_HANGUL:0,VK_JUNJA:0,VK_FINAL:0,VK_HANJA:0,VK_KANJI:0,VK_ESCAPE:9,VK_CONVERT:0,VK_NONCONVERT:0,VK_ACCEPT:0,VK_MODECHANGE:0,VK_SPACE:10,VK_PRIOR:11,VK_NEXT:12,VK_END:13,VK_HOME:14,VK_LEFT:15,VK_UP:16,VK_RIGHT:17,VK_DOWN:18,VK_SELECT:0,VK_PRINT:0,VK_EXECUTE:0,VK_SNAPSHOT:0,VK_INSERT:19,VK_DELETE:20,VK_HELP:0,VK_0:21,VK_1:22,VK_2:23,VK_3:24,VK_4:25,VK_5:26,VK_6:27,VK_7:28,VK_8:29,VK_9:30,VK_A:31,VK_B:32,VK_C:33,VK_D:34,VK_E:35,VK_F:36,VK_G:37,VK_H:38,VK_I:39,VK_J:40,VK_K:41,VK_L:42,VK_M:43,VK_N:44,VK_O:45,VK_P:46,VK_Q:47,VK_R:48,VK_S:49,VK_T:50,VK_U:51,VK_V:52,VK_W:53,VK_X:54,VK_Y:55,VK_Z:56,VK_LWIN:57,VK_COMMAND:57,VK_RWIN:57,VK_APPS:0,VK_SLEEP:0,VK_NUMPAD0:93,VK_NUMPAD1:94,VK_NUMPAD2:95,VK_NUMPAD3:96,VK_NUMPAD4:97,VK_NUMPAD5:98,VK_NUMPAD6:99,VK_NUMPAD7:100,VK_NUMPAD8:101,VK_NUMPAD9:102,VK_MULTIPLY:103,VK_ADD:104,VK_SEPARATOR:105,VK_SUBTRACT:106,VK_DECIMAL:107,VK_DIVIDE:108,VK_F1:59,VK_F2:60,VK_F3:61,VK_F4:62,VK_F5:63,VK_F6:64,VK_F7:65,VK_F8:66,VK_F9:67,VK_F10:68,VK_F11:69,VK_F12:70,VK_F13:71,VK_F14:72,VK_F15:73,VK_F16:74,VK_F17:75,VK_F18:76,VK_F19:77,VK_F20:0,VK_F21:0,VK_F22:0,VK_F23:0,VK_F24:0,VK_NUMLOCK:78,VK_SCROLL:79,VK_LSHIFT:4,VK_RSHIFT:4,VK_LCONTROL:5,VK_RCONTROL:5,VK_LMENU:0,VK_RMENU:0,VK_BROWSER_BACK:0,VK_BROWSER_FORWARD:0,VK_BROWSER_REFRESH:0,VK_BROWSER_STOP:0,VK_BROWSER_SEARCH:0,VK_BROWSER_FAVORITES:0,VK_BROWSER_HOME:0,VK_VOLUME_MUTE:0,VK_VOLUME_DOWN:0,VK_VOLUME_UP:0,VK_MEDIA_NEXT_TRACK:0,VK_MEDIA_PREV_TRACK:0,VK_MEDIA_STOP:0,VK_MEDIA_PLAY_PAUSE:0,VK_MEDIA_LAUNCH_MAIL:0,VK_MEDIA_LAUNCH_MEDIA_SELECT:0,VK_MEDIA_LAUNCH_APP1:0,VK_MEDIA_LAUNCH_APP2:0,VK_OEM_1:80,VK_OEM_PLUS:81,VK_OEM_COMMA:82,VK_OEM_MINUS:83,VK_OEM_PERIOD:84,VK_OEM_2:85,VK_OEM_3:86,VK_ABNT_C1:110,VK_ABNT_C2:111,VK_OEM_4:87,VK_OEM_5:88,VK_OEM_6:89,VK_OEM_7:90,VK_OEM_8:91,VK_OEM_102:92,VK_PROCESSKEY:0,VK_PACKET:0,VK_DBE_SBCSCHAR:0,VK_DBE_DBCSCHAR:0,VK_ATTN:0,VK_CRSEL:0,VK_EXSEL:0,VK_EREOF:0,VK_PLAY:0,VK_ZOOM:0,VK_NONAME:0,VK_PA1:0,VK_OEM_CLEAR:0,VK_UNKNOWN:0},l=function(e){function t(t,n,i){var r=e.call(this)||this;return r._mapper=t,r._firstPart=n,r._chordPart=i,r}return h(t,e),t.prototype._getUILabelForKeybinding=function(e){return e?e.isDuplicateModifierCase()?"":this._mapper.getUILabelForKeyCode(e.keyCode):null},t.prototype.getLabel=function(){var e=this._getUILabelForKeybinding(this._firstPart),t=this._getUILabelForKeybinding(this._chordPart);return r.UILabelProvider.toLabel(this._firstPart,e,this._chordPart,t,1)},t.prototype._getUSLabelForKeybinding=function(e){return e?e.isDuplicateModifierCase()?"":n.KeyCodeUtils.toString(e.keyCode):null},t.prototype.getUSLabel=function(){var e=this._getUSLabelForKeybinding(this._firstPart),t=this._getUSLabelForKeybinding(this._chordPart);return r.UILabelProvider.toLabel(this._firstPart,e,this._chordPart,t,1)},t.prototype._getAriaLabelForKeybinding=function(e){return e?e.isDuplicateModifierCase()?"":this._mapper.getAriaLabelForKeyCode(e.keyCode):null},t.prototype.getAriaLabel=function(){var e=this._getAriaLabelForKeybinding(this._firstPart),t=this._getAriaLabelForKeybinding(this._chordPart);return r.AriaLabelProvider.toLabel(this._firstPart,e,this._chordPart,t,1)},t.prototype._keyCodeToElectronAccelerator=function(e){if(e>=93&&e<=108)return null;switch(e){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return n.KeyCodeUtils.toString(e)},t.prototype._getElectronAcceleratorLabelForKeybinding=function(e){return e?e.isDuplicateModifierCase()?null:this._keyCodeToElectronAccelerator(e.keyCode):null},t.prototype.getElectronAccelerator=function(){if(null!==this._chordPart)return null;var e=this._getElectronAcceleratorLabelForKeybinding(this._firstPart);return r.ElectronAcceleratorLabelProvider.toLabel(this._firstPart,e,null,null,1)},t.prototype._getUserSettingsLabelForKeybinding=function(e){return e?e.isDuplicateModifierCase()?"":this._mapper.getUserSettingsLabelForKeyCode(e.keyCode):null},t.prototype.getUserSettingsLabel=function(){var e=this._getUserSettingsLabelForKeybinding(this._firstPart),t=this._getUserSettingsLabelForKeybinding(this._chordPart),n=r.UserSettingsLabelProvider.toLabel(this._firstPart,e,this._chordPart,t,1);return n?n.toLowerCase():n},t.prototype.isWYSIWYG=function(){return!(this._firstPart&&!this._isWYSIWYG(this._firstPart.keyCode))&&!(this._chordPart&&!this._isWYSIWYG(this._chordPart.keyCode))},t.prototype._isWYSIWYG=function(e){return 15===e||16===e||17===e||18===e||this._mapper.getAriaLabelForKeyCode(e)===this._mapper.getUserSettingsLabelForKeyCode(e)},t.prototype.isChord=function(){return!!this._chordPart},t.prototype.getParts=function(){return[this._toResolvedKeybindingPart(this._firstPart),this._toResolvedKeybindingPart(this._chordPart)]},t.prototype._toResolvedKeybindingPart=function(e){return e?new n.ResolvedKeybindingPart(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getUILabelForKeybinding(e),this._getAriaLabelForKeybinding(e)):null},t.prototype.getDispatchParts=function(){return[this._firstPart?this._getDispatchStr(this._firstPart):null,this._chordPart?this._getDispatchStr(this._chordPart):null]},t.prototype._getDispatchStr=function(e){if(e.isModifierKey())return null;var t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=n.KeyCodeUtils.toString(e.keyCode)},t.getProducedCharCode=function(e,t){return t?e.ctrlKey&&e.shiftKey&&e.altKey?t.withShiftAltGr:e.ctrlKey&&e.altKey?t.withAltGr:e.shiftKey?t.withShift:t.value:null},t.getProducedChar=function(e,t){var n=this.getProducedCharCode(e,t);return null===n||0===n.length?" --- ":"  "+n+"  "},t}(n.ResolvedKeybinding);t.WindowsNativeResolvedKeybinding=l;var u=function(){function e(e,t){var r=this;this._keyCodeToLabel=[],this.isUSStandard=e,this._scanCodeToKeyCode=[],this._keyCodeToLabel=[],this._keyCodeExists=[],this._keyCodeToLabel[0]=n.KeyCodeUtils.toString(0);for(var o=0;o<193;o++)-1!==(d=i.IMMUTABLE_CODE_TO_KEY_CODE[o])&&(this._scanCodeToKeyCode[o]=d,this._keyCodeToLabel[d]=n.KeyCodeUtils.toString(d),this._keyCodeExists[d]=!0);var a=[];this._codeInfo=[];for(var l in t)if(t.hasOwnProperty(l)){if(0===(o=i.ScanCodeUtils.toEnum(l))){s("Unknown scanCode "+l+" in mapping.");continue}var u=t[l],d=i.IMMUTABLE_CODE_TO_KEY_CODE[o];if(-1!==d){var h=c[u.vkey]||0;if(0===h||d===h)continue;if(134!==o)continue}var p=u.value,f=u.withShift,g=u.withAltGr,v=u.withShiftAltGr,m=c[u.vkey]||0,y={scanCode:o,keyCode:m,value:p,withShift:f,withAltGr:g,withShiftAltGr:v};if(this._codeInfo[o]=y,this._scanCodeToKeyCode[o]=m,0===m)continue;if(this._keyCodeExists[m]=!0,0===p.length)this._keyCodeToLabel[m]=null;else if(p.length>1)this._keyCodeToLabel[m]=p;else{var b=p.charCodeAt(0);b>=97&&b<=122?(a[b-97+65]=!0,this._keyCodeToLabel[m]=String.fromCharCode(b-97+65)):b>=65&&b<=90?(a[b]=!0,this._keyCodeToLabel[m]=p):this._keyCodeToLabel[m]=p}}var S=function(e,t){a[e]||(r._keyCodeToLabel[t]=String.fromCharCode(e))};S(65,31),S(66,32),S(67,33),S(68,34),S(69,35),S(70,36),S(71,37),S(72,38),S(73,39),S(74,40),S(75,41),S(76,42),S(77,43),S(78,44),S(79,45),S(80,46),S(81,47),S(82,48),S(83,49),S(84,50),S(85,51),S(86,52),S(87,53),S(88,54),S(89,55),S(90,56)}return e.prototype.dumpDebugInfo=function(){var e=[],t=[88,104],r=0;e.push("-----------------------------------------------------------------------------------------------------------------------------------------");for(var o=0;o<193;o++)if(-1===i.IMMUTABLE_CODE_TO_KEY_CODE[o]||-1!==t.indexOf(o)){r%6==0&&(e.push("|       HW Code combination      |  Key  |    KeyCode combination    |          UI label         |        User settings       | WYSIWYG |"),e.push("-----------------------------------------------------------------------------------------------------------------------------------------")),r++;for(var s=this._codeInfo[o],a=i.ScanCodeUtils.toString(o),c=[0,2,5,7],u=0;u<c.length;u++){var d=c[u],h=!!(1&d),p=!!(2&d),f=!!(4&d),g=new i.ScanCodeBinding(h,p,f,!1,o),v=this._resolveSimpleUserBinding(g),m=v?n.KeyCodeUtils.toString(v.keyCode):null,y=v?new l(this,v,null):null,b=(h?"Ctrl+":"")+(p?"Shift+":"")+(f?"Alt+":"")+a,S=y?y.getAriaLabel():null,_=S?S.replace(/Control\+/,"Ctrl+"):null,E=y?y.getUserSettingsLabel():null,C=l.getProducedChar(g,s),w=m?(h?"Ctrl+":"")+(p?"Shift+":"")+(f?"Alt+":"")+m:null,I=!!y&&y.isWYSIWYG()?"       ":"   NO  ";e.push("| "+this._leftPad(b,30)+" | "+C+" | "+this._leftPad(w,25)+" | "+this._leftPad(_,25)+" |  "+this._leftPad(E,25)+" | "+I+" |")}e.push("-----------------------------------------------------------------------------------------------------------------------------------------")}return e.join("\n")},e.prototype._leftPad=function(e,t){for(null===e&&(e="null");e.length<t;)e=" "+e;return e},e.prototype.getUILabelForKeyCode=function(e){return this._getLabelForKeyCode(e)},e.prototype.getAriaLabelForKeyCode=function(e){return this._getLabelForKeyCode(e)},e.prototype.getUserSettingsLabelForKeyCode=function(e){return this.isUSStandard?n.KeyCodeUtils.toUserSettingsUS(e):n.KeyCodeUtils.toUserSettingsGeneral(e)},e.prototype._getLabelForKeyCode=function(e){return this._keyCodeToLabel[e]||n.KeyCodeUtils.toString(0)},e.prototype.resolveKeybinding=function(e){if(2===e.type){var t=e.firstPart.keyCode,n=e.chordPart.keyCode;return this._keyCodeExists[t]&&this._keyCodeExists[n]?[new l(this,e.firstPart,e.chordPart)]:[]}return this._keyCodeExists[e.keyCode]?[new l(this,e,null)]:[]},e.prototype.resolveKeyboardEvent=function(e){var t=new n.SimpleKeybinding(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode);return new l(this,t,null)},e.prototype._resolveSimpleUserBinding=function(e){if(!e)return null;if(e instanceof n.SimpleKeybinding)return this._keyCodeExists[e.keyCode]?e:null;var t=this._scanCodeToKeyCode[e.scanCode]||0;return 0!==t&&this._keyCodeExists[t]?new n.SimpleKeybinding(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,t):null},e.prototype.resolveUserBinding=function(e,t){var n=this._resolveSimpleUserBinding(e),i=this._resolveSimpleUserBinding(t);return n&&i?[new l(this,n,i)]:n?[new l(this,n,null)]:[]},e}();t.WindowsKeyboardMapper=u}),define(u[1115],d([1,0,642,18,60,5,38,6,17,14,33,25,68,165,1018,423,207,94,243,216,48,351]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w){"use strict";function I(e){var t=e.getModel();if(!t)return!1;var n=t.uri.toString();return x.test(n)}Object.defineProperty(t,"__esModule",{value:!0});var T=n.localize(0,null),k=n.localize(1,null),x=/keybindings\.json$/,A=O=function(e){function t(t,n){var i=e.call(this)||this;return i._editor=t,i._instantiationService=n,i._keybindingWidgetRenderer=null,i._keybindingDecorationRenderer=null,i._register(i._editor.onDidChangeModel(function(e){return i._update()})),i._update(),i}return h(t,e),t.get=function(e){return e.getContribution(O.ID)},t.prototype.getId=function(){return O.ID},Object.defineProperty(t.prototype,"keybindingWidgetRenderer",{get:function(){return this._keybindingWidgetRenderer},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._disposeKeybindingWidgetRenderer(),this._disposeKeybindingDecorationRenderer(),e.prototype.dispose.call(this)},t.prototype._update=function(){if(!I(this._editor))return this._disposeKeybindingWidgetRenderer(),void this._disposeKeybindingDecorationRenderer();this._createKeybindingDecorationRenderer(),this._editor.getConfiguration().readOnly?this._disposeKeybindingWidgetRenderer():this._createKeybindingWidgetRenderer()},t.prototype._createKeybindingWidgetRenderer=function(){this._keybindingWidgetRenderer||(this._keybindingWidgetRenderer=this._instantiationService.createInstance(L,this._editor))},t.prototype._disposeKeybindingWidgetRenderer=function(){this._keybindingWidgetRenderer&&(this._keybindingWidgetRenderer.dispose(),this._keybindingWidgetRenderer=null)},t.prototype._createKeybindingDecorationRenderer=function(){this._keybindingDecorationRenderer||(this._keybindingDecorationRenderer=this._instantiationService.createInstance(P,this._editor))},t.prototype._disposeKeybindingDecorationRenderer=function(){this._keybindingDecorationRenderer&&(this._keybindingDecorationRenderer.dispose(),this._keybindingDecorationRenderer=null)},t}(o.Disposable);A.ID="editor.contrib.defineKeybinding",A=O=v([p.editorContribution,y(1,a.IInstantiationService)],A),t.DefineKeybindingController=A;var L=function(e){function t(t,n){var i=e.call(this)||this;return i._editor=t,i._instantiationService=n,i._launchWidget=i._register(i._instantiationService.createInstance(b.FloatingClickWidget,i._editor,T,D.ID)),i._register(i._launchWidget.onClick(function(){return i.showDefineKeybindingWidget()})),i._defineWidget=i._register(i._instantiationService.createInstance(m.DefineKeybindingOverlayWidget,i._editor)),i._launchWidget.render(),i}return h(t,e),t.prototype.showDefineKeybindingWidget=function(){var e=this;this._defineWidget.start().then(function(t){return e._onAccepted(t)})},t.prototype._onAccepted=function(e){if(this._editor.focus(),e){new RegExp(/\\/g).test(e)&&(e=e.slice(0,-1)+"\\\\");var t=["{",'\t"key": '+JSON.stringify(e)+",",'\t"command": "${1:commandId}",','\t"when": "${2:editorTextFocus}"',"}$0"].join("\n"),n=g.SmartSnippetInserter.insertSnippet(this._editor.getModel(),this._editor.getPosition());t=n.prepend+t+n.append,this._editor.setPosition(n.position),f.SnippetController2.get(this._editor).insert(t,0,0)}},t}(o.Disposable);L=v([y(1,a.IInstantiationService)],L),t.KeybindingWidgetRenderer=L;var P=function(e){function t(t,n){var r=e.call(this)||this;r._editor=t,r._keybindingService=n,r._dec=[],r._updateDecorations=r._register(new i.RunOnceScheduler(function(){return r._updateDecorationsNow()},500));var o=r._editor.getModel();return r._register(o.onDidChangeContent(function(e){return r._updateDecorations.schedule()})),r._register(r._keybindingService.onDidUpdateKeybindings(function(e){return r._updateDecorations.schedule()})),r._register({dispose:function(){r._dec=r._editor.deltaDecorations(r._dec,[]),r._updateDecorations.cancel()}}),r._updateDecorations.schedule(),r}return h(t,e),t.prototype._updateDecorationsNow=function(){var e=this._editor.getModel(),t=[],n=S.parseTree(e.getValue());if(n&&Array.isArray(n.children))for(var i=0,r=n.children.length;i<r;i++){var o=n.children[i],s=this._getDecorationForEntry(e,o);null!==s&&t.push(s)}this._dec=this._editor.deltaDecorations(this._dec,t)},t.prototype._getDecorationForEntry=function(e,n){if(!Array.isArray(n.children))return null;for(var i=0,r=n.children.length;i<r;i++){var o=n.children[i];if("property"===o.type&&(Array.isArray(o.children)&&2===o.children.length&&"key"===o.children[0].value)){var s=o.children[1];if("string"===s.type){var a=this._keybindingService.resolveUserBinding(s.value);if(0===a.length)return this._createDecoration(!0,null,null,e,s);var c=a[0],l=null;if(c instanceof w.WindowsNativeResolvedKeybinding&&(l=c.getUSLabel()),!c.isWYSIWYG())return this._createDecoration(!1,c.getLabel(),l,e,s);if(/abnt_|oem_/.test(s.value))return this._createDecoration(!1,c.getLabel(),l,e,s);var u=c.getUserSettingsLabel();return t._userSettingsFuzzyEquals(s.value,u)?null:this._createDecoration(!1,c.getLabel(),l,e,s)}}}return null},t._userSettingsFuzzyEquals=function(e,t){if(e=e.trim().toLowerCase(),t=t.trim().toLowerCase(),e===t)return!0;var n=_.KeybindingIO._readUserBinding(e),i=n[0],r=n[1],o=_.KeybindingIO._readUserBinding(t),s=o[0],a=o[1];return this._userBindingEquals(i,s)&&this._userBindingEquals(r,a)},t._userBindingEquals=function(e,t){return null===e&&null===t||!(!e||!t)&&(e instanceof r.SimpleKeybinding&&t instanceof r.SimpleKeybinding?e.equals(t):e instanceof E.ScanCodeBinding&&t instanceof E.ScanCodeBinding&&e.equals(t))},t.prototype._createDecoration=function(e,t,i,r,o){var s,a,c,d;e?(s=[k],a="keybindingError",c="inlineKeybindingError",d="rgba(250, 100, 100, 0.6)"):(s=i&&t!==i?[n.localize(2,null,t,i)]:[n.localize(3,null,t)],a="keybindingInfo",c="inlineKeybindingInfo",d="rgba(100, 100, 250, 0.6)");var h=r.getPositionAt(o.offset),p=r.getPositionAt(o.offset+o.length);return{range:new l.Range(h.lineNumber,h.column,p.lineNumber,p.column),options:{stickiness:u.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:a,beforeContentClassName:c,hoverMessage:s,overviewRuler:{color:d,darkColor:d,position:u.OverviewRulerLane.Right}}}},t}(o.Disposable);P=v([y(1,s.IKeybindingService)],P),t.KeybindingEditorDecorationsRenderer=P;var D=function(e){function t(){return e.call(this,{id:t.ID,precondition:c.ContextKeyExpr.and(C.EditorContextKeys.writable,C.EditorContextKeys.languageId.isEqualTo("json")),kbOpts:{kbExpr:C.EditorContextKeys.textFocus,primary:r.KeyChord(2089,2089)}})||this}return h(t,e),t.prototype.runEditorCommand=function(e,t){if(I(t)&&!t.getConfiguration().readOnly){var n=A.get(t);n&&n.keybindingWidgetRenderer&&n.keybindingWidgetRenderer.showDefineKeybindingWidget()}},t}(d.EditorCommand);D.ID="editor.action.defineKeybinding",d.registerEditorCommand(new D);var O}),define(u[221],d([1,0,724,11,5,117,123,777,199,287,32,38,17,72,15,19,164,20,384,39,9,89,404,243,1373,351,1113,1112,8,64,23]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A,L,P,D,O){"use strict";function R(e){return Array.isArray(e)}function M(e,t){return e?"string"!=typeof e.command?(t.push(n.localize(1,null,"command")),!1):"string"!=typeof e.key?(t.push(n.localize(2,null,"key")),!1):e.when&&"string"!=typeof e.when?(t.push(n.localize(3,null,"when")),!1):e.mac&&"string"!=typeof e.mac?(t.push(n.localize(4,null,"mac")),!1):e.linux&&"string"!=typeof e.linux?(t.push(n.localize(5,null,"linux")),!1):!e.win||"string"==typeof e.win||(t.push(n.localize(6,null,"win")),!1):(t.push(n.localize(0,null)),!1)}function N(e){var t=e.getConfiguration("keyboard");return"keyCode"===(t?t.dispatch:null)?1:0}Object.defineProperty(t,"__esModule",{value:!0});var F=function(){function e(){this._onDidChangeKeyboardMapper=new P.Emitter,this.onDidChangeKeyboardMapper=this._onDidChangeKeyboardMapper.event,this._isISOKeyboard=!1,this._layoutInfo=null,this._rawMapping=null,this._keyboardMapper=null,this._initialized=!1}return e.prototype._onKeyboardLayoutChanged=function(e){e=!!e,this._initialized?this._setKeyboardData(e,k.getCurrentKeyboardLayout(),k.getKeyMap()):this._isISOKeyboard=e},e.prototype.getKeyboardMapper=function(e){return this._initialized||this._setKeyboardData(this._isISOKeyboard,k.getCurrentKeyboardLayout(),k.getKeyMap()),1===e?new L.MacLinuxFallbackKeyboardMapper(i.OS):this._keyboardMapper},e.prototype.getCurrentKeyboardLayout=function(){return this._initialized||this._setKeyboardData(this._isISOKeyboard,k.getCurrentKeyboardLayout(),k.getKeyMap()),this._layoutInfo},e._isUSStandard=function(e){if(3===i.OS)return(t=e)&&"us"===t.layout;if(2===i.OS)return(t=e)&&"com.apple.keylayout.US"===t.id;if(1===i.OS){var t=e;return t&&"00000409"===t.name}return!1},e.prototype.getRawKeyboardMapping=function(){return this._initialized||this._setKeyboardData(this._isISOKeyboard,k.getCurrentKeyboardLayout(),k.getKeyMap()),this._rawMapping},e.prototype._setKeyboardData=function(t,n,i){this._layoutInfo=n,this._initialized&&this._isISOKeyboard===t&&e._equals(this._rawMapping,i)||(this._initialized=!0,this._isISOKeyboard=t,this._rawMapping=i,this._keyboardMapper=e._createKeyboardMapper(this._isISOKeyboard,this._layoutInfo,this._rawMapping),this._onDidChangeKeyboardMapper.fire())},e._createKeyboardMapper=function(t,n,r){var o=e._isUSStandard(n);return 1===i.OS?new x.WindowsKeyboardMapper(o,r):0===Object.keys(r).length?new L.MacLinuxFallbackKeyboardMapper(i.OS):2===i.OS&&"com.apple.keylayout.DVORAK-QWERTYCMD"===n.id?new L.MacLinuxFallbackKeyboardMapper(i.OS):new A.MacLinuxKeyboardMapper(t,o,r,i.OS)},e._equals=function(e,t){return 1===i.OS?x.windowsKeyboardMappingEquals(e,t):A.macLinuxKeyboardMappingEquals(e,t)},e}();F.INSTANCE=new F,t.KeyboardMapperFactory=F;var W={type:"object",default:{command:"",key:""},properties:{command:{description:n.localize(7,null),type:"string"},key:{description:n.localize(8,null),type:"string"},mac:{description:n.localize(9,null),type:"string"},linux:{description:n.localize(10,null),type:"string"},win:{description:n.localize(11,null),type:"string"},when:{description:n.localize(12,null),type:"string"}}},B=o.ExtensionsRegistry.registerExtensionPoint("keybindings",[],{description:n.localize(13,null),oneOf:[W,{type:"array",items:W}]});!function(e){e[e.Code=0]="Code",e[e.KeyCode=1]="KeyCode"}(t.DispatchConfig||(t.DispatchConfig={}));var V=function(e){function t(t,n,i,o,s,a,c,l){var u=e.call(this,n,i,s,c)||this;u.telemetryService=o;var h=N(l);l.onDidUpdateConfiguration(function(e){var t=N(l);h!==t&&(h=t,u._keyboardMapper=F.INSTANCE.getKeyboardMapper(h),u.updateResolver({source:d.KeybindingSource.Default}))}),u._keyboardMapper=F.INSTANCE.getKeyboardMapper(h),F.INSTANCE.onDidChangeKeyboardMapper(function(){u._keyboardMapper=F.INSTANCE.getKeyboardMapper(h),u.updateResolver({source:d.KeybindingSource.Default})}),u._cachedResolver=null,u._firstTimeComputingResolver=!0,u.userKeybindings=new _.ConfigWatcher(a.appKeybindingsPath,{defaultConfig:[]}),u.toDispose.push(r.toDisposable(function(){return u.userKeybindings.dispose()})),B.setHandler(function(e){for(var t=!1,n=0,i=e;n<i.length;n++){var r=i[n];t=u._handleKeybindingsExtensionPointUser(r.description.isBuiltin,r.value,r.collector)||t}t&&u.updateResolver({source:d.KeybindingSource.Default})}),u.toDispose.push(u.userKeybindings.onDidUpdateConfiguration(function(e){return u.updateResolver({source:d.KeybindingSource.User,keybindings:e.config})})),u.toDispose.push(C.addDisposableListener(t,C.EventType.KEY_DOWN,function(e){var t=new w.StandardKeyboardEvent(e);u._dispatch(t,t.target)&&t.preventDefault()})),b.keybindingsTelemetry(o,u);var p=F.INSTANCE.getCurrentKeyboardLayout();return o.publicLog("keyboardLayout",{currentKeyboardLayout:p}),u}return h(t,e),t.prototype.dumpDebugInfo=function(){return"Layout info:\n"+JSON.stringify(F.INSTANCE.getCurrentKeyboardLayout(),null,"\t")+"\n"+this._keyboardMapper.dumpDebugInfo()+"\n\nRaw mapping:\n"+JSON.stringify(F.INSTANCE.getRawKeyboardMapping(),null,"\t")},t.prototype._safeGetConfig=function(){var e=this.userKeybindings.getConfig();return Array.isArray(e)?e:[]},t.prototype.customKeybindingsCount=function(){return this._safeGetConfig().length},t.prototype.updateResolver=function(e){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(e)},t.prototype._getResolver=function(){if(!this._cachedResolver){var e=this._resolveKeybindingItems(f.KeybindingsRegistry.getDefaultKeybindings(),!0),t=this._resolveUserKeybindingItems(this._getExtraKeybindings(this._firstTimeComputingResolver),!1);this._cachedResolver=new l.KeybindingResolver(e,t),this._firstTimeComputingResolver=!1}return this._cachedResolver},t.prototype._resolveKeybindingItems=function(e,t){for(var n=[],i=0,r=0,o=e.length;r<o;r++){var s=e[r],a=s.when?s.when.normalize():null,c=s.keybinding;if(c)for(var l=this.resolveKeybinding(c),u=0;u<l.length;u++)n[i++]=new I.ResolvedKeybindingItem(l[u],s.command,s.commandArgs,a,t);else n[i++]=new I.ResolvedKeybindingItem(null,s.command,s.commandArgs,a,t)}return n},t.prototype._resolveUserKeybindingItems=function(e,t){for(var n=[],i=0,r=0,o=e.length;r<o;r++){var s=e[r],a=s.when?s.when.normalize():null,c=s.firstPart,l=s.chordPart;if(c)for(var u=this._keyboardMapper.resolveUserBinding(c,l),d=0;d<u.length;d++)n[i++]=new I.ResolvedKeybindingItem(u[d],s.command,s.commandArgs,a,t);else n[i++]=new I.ResolvedKeybindingItem(null,s.command,s.commandArgs,a,t)}return n},t.prototype._getExtraKeybindings=function(e){var t=this._safeGetConfig();if(!e){var n=t.length;this.telemetryService.publicLog("customKeybindingsChanged",{keyCount:n})}return t.map(function(e){return T.KeybindingIO.readUserKeybindingItem(e,i.OS)})},t.prototype.resolveKeybinding=function(e){return this._keyboardMapper.resolveKeybinding(e)},t.prototype.resolveKeyboardEvent=function(e){return this._keyboardMapper.resolveKeyboardEvent(e)},t.prototype.resolveUserBinding=function(e){var t=T.KeybindingIO._readUserBinding(e),n=t[0],i=t[1];return this._keyboardMapper.resolveUserBinding(n,i)},t.prototype._handleKeybindingsExtensionPointUser=function(e,t,n){if(R(t)){for(var i=!1,r=0,o=t.length;r<o;r++)i=this._handleKeybinding(e,r+1,t[r],n)||i;return i}return this._handleKeybinding(e,1,t,n)},t.prototype._handleKeybinding=function(e,t,i,r){var o=[],s=!1;if(M(i,o)){var a=this._asCommandRule(e,t++,i);a&&(f.KeybindingsRegistry.registerKeybindingRule2(a),s=!0)}return o.length>0&&r.error(n.localize(14,null,B.name,o.join("\n"))),s},t.prototype._asCommandRule=function(e,t,n){var r,o=n.command,s=n.when,a=n.key,c=n.mac,l=n.linux,u=n.win;r=e?f.KeybindingsRegistry.WEIGHT.builtinExtension(t):f.KeybindingsRegistry.WEIGHT.externalExtension(t);var d={id:o,when:p.ContextKeyExpr.deserialize(s),weight:r,primary:T.KeybindingIO.readKeybinding(a,i.OS),mac:c&&{primary:T.KeybindingIO.readKeybinding(c,i.OS)},linux:l&&{primary:T.KeybindingIO.readKeybinding(l,i.OS)},win:u&&{primary:T.KeybindingIO.readKeybinding(u,i.OS)}};if(d.primary||d.mac||d.linux||d.win)return d},t.prototype.getDefaultKeybindingsContent=function(){var e=this._getResolver(),n=e.getDefaultKeybindings(),i=e.getDefaultBoundCommands();return t._getDefaultKeybindings(n)+"\n\n"+t._getAllCommandsAsComment(i)},t._getDefaultKeybindings=function(e){var t=new T.OutputBuilder;t.writeLine("[");var n=e.length-1;return e.forEach(function(e,r){T.KeybindingIO.writeKeybindingItem(t,e,i.OS),r!==n?t.writeLine(","):t.writeLine()}),t.writeLine("]"),t.toString()},t._getAllCommandsAsComment=function(e){var t=l.KeybindingResolver.getAllUnboundCommands(e).sort().join("\n// - ");return"// "+n.localize(15,null)+"\n// - "+t},t}(a.AbstractKeybindingService);V=v([y(1,p.IContextKeyService),y(2,u.ICommandService),y(3,m.ITelemetryService),y(4,S.IMessageService),y(5,E.IEnvironmentService),y(6,c.IStatusbarService),y(7,O.IConfigurationService)],V),t.WorkbenchKeybindingService=V;var z="vscode://schemas/keybindings",H={id:z,type:"array",title:n.localize(16,null),items:{required:["key"],type:"object",defaultSnippets:[{body:{key:"$1",command:"$2",when:"$3"}}],properties:{key:{type:"string",description:n.localize(17,null)},command:{description:n.localize(18,null)},when:{type:"string",description:n.localize(19,null)},args:{description:n.localize(20,null)}}}};if(g.Registry.as(s.Extensions.JSONContribution).registerSchema(z,H),2===i.OS||3===i.OS){var K=g.Registry.as(D.Extensions.Configuration),U={id:"keyboard",order:15,type:"object",title:n.localize(21,null),overridable:!0,properties:{"keyboard.dispatch":{type:"string",enum:["code","keyCode"],default:"code",description:n.localize(22,null)}}};K.registerConfiguration(U)}}),define(u[1118],d([1,0,547,25,38,221,22]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this,{id:"workbench.action.inspectKeyMappings",label:n.localize(0,null),alias:"Developer: Inspect Key Mappings",precondition:null})||this}return h(t,e),t.prototype.run=function(e,t){var n=e.get(r.IKeybindingService),i=e.get(s.IWorkbenchEditorService);n instanceof o.WorkbenchKeybindingService&&i.openEditor({contents:n.dumpDebugInfo(),options:{pinned:!0}})},t}(i.EditorAction);a=v([i.editorAction],a)}),define(u[1119],d([1,0,725,4,40,9,66,107,114,24,8,21,194,89,74,13,29,5,58,939]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,v,m,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var b;!function(e){e[e.Info=0]="Info",e[e.Warning=1]="Warning",e[e.Error=2]="Error"}(b=t.Severity||(t.Severity={}));var S=function(){return function(){}}();t.IMessageListOptions=S;var _={purgeInterval:1e4,maxMessages:5,maxMessageLength:500},E=function(){function e(e,t,n){void 0===n&&(n=_),this.telemetryService=t,this.background=y.Color.fromHex("#333333"),this.foreground=y.Color.fromHex("#EEEEEE"),this.widgetShadow=y.Color.fromHex("#000000"),this.buttonBackground=y.Color.fromHex("#0E639C"),this.buttonForeground=this.foreground,this.infoBackground=y.Color.fromHex("#007ACC"),this.infoForeground=this.foreground,this.warningBackground=y.Color.fromHex("#B89500"),this.warningForeground=this.foreground,this.errorBackground=y.Color.fromHex("#BE1100"),this.errorForeground=this.foreground,this.toDispose=[],this.messages=[],this.messageListPurger=null,this.container=e,this.options=n,this._onMessagesShowing=new u.Emitter,this._onMessagesCleared=new u.Emitter,this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;this.toDispose.push(s.onDidChangeFullscreen(function(){return e.positionMessageList()})),this.toDispose.push(s.onDidChangeZoomLevel(function(){return e.positionMessageList()})),this.toDispose.push(g.registerThemingParticipant(function(t,n){e.background=t.getColor(f.NOTIFICATIONS_BACKGROUND),e.foreground=t.getColor(f.NOTIFICATIONS_FOREGROUND),e.widgetShadow=t.getColor(v.widgetShadow),e.outlineBorder=t.getColor(v.contrastBorder),e.buttonBackground=t.getColor(f.NOTIFICATIONS_BUTTON_BACKGROUND),e.buttonForeground=t.getColor(f.NOTIFICATIONS_BUTTON_FOREGROUND),e.infoBackground=t.getColor(f.NOTIFICATIONS_INFO_BACKGROUND),e.infoForeground=t.getColor(f.NOTIFICATIONS_INFO_FOREGROUND),e.warningBackground=t.getColor(f.NOTIFICATIONS_WARNING_BACKGROUND),e.warningForeground=t.getColor(f.NOTIFICATIONS_WARNING_FOREGROUND),e.errorBackground=t.getColor(f.NOTIFICATIONS_ERROR_BACKGROUND),e.errorForeground=t.getColor(f.NOTIFICATIONS_ERROR_FOREGROUND);var i=t.getColor(f.NOTIFICATIONS_BUTTON_HOVER_BACKGROUND);i&&n.addRule(".global-message-list li.message-list-entry .actions-container .message-action .action-button:hover { background-color: "+i+" !important; }"),e.updateStyles()}))},Object.defineProperty(e.prototype,"onMessagesShowing",{get:function(){return this._onMessagesShowing.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMessagesCleared",{get:function(){return this._onMessagesCleared.event},enumerable:!0,configurable:!0}),e.prototype.updateStyles=function(){this.messageListContainer&&(this.messageListContainer.style("background-color",this.background?this.background.toString():null),this.messageListContainer.style("color",this.foreground?this.foreground.toString():null),this.messageListContainer.style("outline-color",this.outlineBorder?this.outlineBorder.toString():null),this.messageListContainer.style("box-shadow",this.widgetShadow?"0 5px 8px "+this.widgetShadow:null))},e.prototype.showMessage=function(e,t,n){var i=this;if(Array.isArray(t)){var r=[];return t.forEach(function(t){return r.push(i.showMessage(e,t,n))}),function(){return r.forEach(function(e){return e()})}}var o=this.getMessageText(t);return o&&"string"==typeof o?this.doShowMessage(t,o,e,n):function(){}},e.prototype.getMessageText=function(e){return l.isString(e)?e:e instanceof Error?a.toErrorMessage(e,!1):e&&e.message?e.message:null},e.prototype.doShowMessage=function(e,t,i,r){var o=this;this.purgeMessages(),this.messages.unshift({id:e,text:t,severity:i,time:Date.now(),actions:e.actions,onHide:r}),this.renderMessages(!0,1);var s;return s=i===b.Error?n.localize(0,null,t):i===b.Warning?n.localize(1,null,t):n.localize(2,null,t),c.alert(s),function(){return o.hideMessage(e)}},e.prototype.renderMessages=function(e,t){var n=this,i=r.$(this.container);this.messageListContainer?(r.$(this.messageListContainer).empty(),r.$(this.messageListContainer).removeClass("transition")):this.messageListContainer=r.$(".global-message-list").appendTo(i),e&&r.$(this.messageListContainer).style("top","-35px"),r.$(this.messageListContainer).ul({class:"message-list"},function(i){var o=n.prepareMessages();o.length>0?n._onMessagesShowing.fire():n._onMessagesCleared.fire(),o.forEach(function(e,s){n.renderMessage(e,r.$(i),o.length,t)}),e&&setTimeout(function(){n.positionMessageList(),r.$(n.messageListContainer).addClass("transition")},50)}),this.updateStyles()},e.prototype.positionMessageList=function(e){if(this.messageListContainer){r.$(this.messageListContainer).removeClass("transition");var t=0;!s.isFullscreen()&&o.hasClass(this.container,"titlebar-style-custom")&&(t=22/s.getZoomFactor()),r.$(this.messageListContainer).style("top",t+"px")}},e.prototype.renderMessage=function(e,t,s,a){var c=this;t.li({class:"message-list-entry message-list-entry-with-action"},function(t){var s=c.getMessageActions(e);t.div({class:"actions-container"},function(t){for(var n=0;n<s.length;n++)!function(n){var r=s[n];t.div({class:"message-action"},function(t){t.a({class:"action-button",tabindex:"0",role:"button"}).style("border-color",c.outlineBorder?c.outlineBorder.toString():null).style("background-color",c.buttonBackground?c.buttonBackground.toString():null).style("color",c.buttonForeground?c.buttonForeground.toString():null).text(r.label).on([o.EventType.CLICK,o.EventType.KEY_DOWN],function(t){if(t instanceof KeyboardEvent){var n=new p.StandardKeyboardEvent(t);if(!n.equals(3)&&!n.equals(10))return}o.EventHelper.stop(t,!0),c.telemetryService.publicLog("workbenchActionExecuted",{id:r.id,from:"message"}),(r.run()||i.TPromise.as(null)).then(null,function(e){return c.showMessage(b.Error,e)}).done(function(t){"boolean"==typeof t&&!1===t||c.hideMessage(e.text)})})})}(n)});var a=e.text.substr(0,c.options.maxMessageLength);t.div({class:"message-left-side"},function(t){t.addClass("message-overflow-ellipsis");var i=e.severity,o=i===b.Error?n.localize(3,null):i===b.Warning?n.localize(4,null):n.localize(5,null),s=i===b.Error?c.errorBackground:i===b.Warning?c.warningBackground:c.infoBackground,l=i===b.Error?c.errorForeground:i===b.Warning?c.warningForeground:c.infoForeground,u=r.$().span({class:"message-left-side severity "+(i===b.Error?"app-error":i===b.Warning?"app-warning":"app-info"),text:o});u.style("border-color",c.outlineBorder?c.outlineBorder.toString():null),u.style("background-color",s?s.toString():null),u.style("color",l?l.toString():null),u.appendTo(t);var d=h.renderFormattedText(a,{inline:!0,className:"message-left-side"});r.$(d).title(d.textContent).appendTo(t)})})},e.prototype.getMessageActions=function(e){var t=this;return e.actions&&e.actions.length>0?e.actions:[new d.Action("close.message.action",n.localize(6,null),null,!0,function(){return t.hideMessage(e.text),i.TPromise.as(!0)})]},e.prototype.prepareMessages=function(){for(var e=[],t={},n=0,i=0;i<this.messages.length;i++){var r=this.messages[i];l.isUndefinedOrNull(t[r.text])?(r.count=1,e.push(r),t[r.text]=n++):e[t[r.text]].count++}return e.length>this.options.maxMessages?e.splice(e.length-this.options.maxMessages,e.length):e},e.prototype.disposeMessages=function(e){e.forEach(function(e){e.onHide&&e.onHide(),e.actions&&e.actions.forEach(function(e){e.dispose()})})},e.prototype.hideMessages=function(){this.hideMessage()},e.prototype.show=function(){this.messageListContainer&&this.messageListContainer.isHidden()&&this.messageListContainer.show()},e.prototype.hide=function(){this.messageListContainer&&!this.messageListContainer.isHidden()&&this.messageListContainer.hide()},e.prototype.hideMessage=function(e){for(var t=!1,n=0;n<this.messages.length;n++){var i=this.messages[n];(!e||(l.isString(e)&&i.text===e||i.id===e))&&(this.disposeMessages(this.messages.splice(n,1)),n--,t=!0)}t&&this.renderMessages(!1,-1)},e.prototype.purgeMessages=function(){var e=this;this.messageListPurger&&this.messageListPurger.cancel(),this.messageListPurger=i.TPromise.timeout(this.options.purgeInterval).then(function(){for(var t=!1,n=0,i=0;i<e.messages.length;i++){var r=e.messages[i];r.severity===b.Error||r.actions||(e.disposeMessages(e.messages.splice(i,1)),n--,i--,t=!0)}t&&e.renderMessages(!1,n)})},e.prototype.dispose=function(){this.toDispose=m.dispose(this.toDispose)},e}();t.MessageList=E}),define(u[1120],d([1,0,7,107,24,1119,5,20]),function(e,t,n,i,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){this.handler=new o.MessageList(e,t),this.messageBuffer=[],this.canShowMessages=!0,this.toDispose=[this.handler]}return Object.defineProperty(e.prototype,"onMessagesShowing",{get:function(){return this.handler.onMessagesShowing},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMessagesCleared",{get:function(){return this.handler.onMessagesCleared},enumerable:!0,configurable:!0}),e.prototype.suspend=function(){this.canShowMessages=!1,this.handler.hide()},e.prototype.resume=function(){for(this.canShowMessages=!0,this.handler.show();this.messageBuffer.length;){var e=this.messageBuffer.pop();e.disposeFn=this.show(e.severity,e.message,e.onHide)}},e.prototype.toBaseSeverity=function(e){switch(e){case a.Severity.Info:return o.Severity.Info;case a.Severity.Warning:return o.Severity.Warning}return o.Severity.Error},e.prototype.show=function(e,t,i){var o=this;if(!t)return function(){};if(Array.isArray(t)){var s=[];return t.forEach(function(t){return s.push(o.show(e,t,i))}),function(){return s.forEach(function(e){return e()})}}return n.isPromiseCanceledError(t)?function(){}:(r.isNumber(t.severity)&&(e=t.severity),this.doShow(e,t,i))},e.prototype.doShow=function(e,t,n){var r=this;if(!this.canShowMessages){var o={severity:e,message:t,onHide:n,disposeFn:function(){return r.messageBuffer.splice(r.messageBuffer.indexOf(o),1)}};return this.messageBuffer.push(o),function(){return o.disposeFn()}}return e===a.Severity.Error&&console.error(i.toErrorMessage(t,!0)),this.handler.showMessage(this.toBaseSeverity(e),t,n)},e.prototype.hideAll=function(){this.handler&&this.handler.hideMessages()},e.prototype.confirm=function(e){var t=e.message;return e.detail&&(t=t+"\n\n"+e.detail),window.confirm(t)},e.prototype.dispose=function(){this.toDispose=s.dispose(this.toDispose)},e}();t.WorkbenchMessageService=c}),define(u[275],d([1,0,727,7,28,133,59,117,172,23,809]),function(e,t,n,i,r,o,s,a,c,l,u){"use strict";function d(e){return void 0===e||!!Array.isArray(e)&&e.every(function(e){return"string"==typeof e})}function p(e,i){return e?"string"!=typeof e.id?(i.error(n.localize(11,null,"id")),!1):d(e.extensions)?d(e.filenames)?void 0!==e.firstLine&&"string"!=typeof e.firstLine?(i.error(n.localize(14,null,"firstLine")),!1):void 0!==e.configuration&&"string"!=typeof e.configuration?(i.error(n.localize(15,null,"configuration")),!1):d(e.aliases)?!!d(e.mimetypes)||(i.error(n.localize(17,null,"mimetypes")),!1):(i.error(n.localize(16,null,"aliases")),!1):(i.error(n.localize(13,null,"filenames")),!1):(i.error(n.localize(12,null,"extensions")),!1):(i.error(n.localize(10,null,t.languagesExtPoint.name)),!1)}Object.defineProperty(t,"__esModule",{value:!0}),t.languagesExtPoint=a.ExtensionsRegistry.registerExtensionPoint("languages",[],{description:n.localize(0,null),type:"array",items:{type:"object",defaultSnippets:[{body:{id:"${1:languageId}",aliases:["${2:label}"],extensions:["${3:extension}"],configuration:"./language-configuration.json"}}],properties:{id:{description:n.localize(1,null),type:"string"},aliases:{description:n.localize(2,null),type:"array",items:{type:"string"}},extensions:{description:n.localize(3,null),default:[".foo"],type:"array",items:{type:"string"}},filenames:{description:n.localize(4,null),type:"array",items:{type:"string"}},filenamePatterns:{description:n.localize(5,null),type:"array",items:{type:"string"}},mimetypes:{description:n.localize(6,null),type:"array",items:{type:"string"}},firstLine:{description:n.localize(7,null),type:"string"},configuration:{description:n.localize(8,null),type:"string",default:"./language-configuration.json"}}}});var f=function(e){function s(o,s){var a=e.call(this)||this;return a._configurationService=s,a._extensionService=o,t.languagesExtPoint.setHandler(function(e){for(var i=[],o=0,s=e.length;o<s;o++){var a=e[o];if(Array.isArray(a.value))for(var l=0,u=a.value.length;l<u;l++){var d=a.value[l];if(p(d,a.collector)){var h=d.configuration?r.join(a.description.extensionFolderPath,d.configuration):d.configuration;i.push({id:d.id,extensions:d.extensions,filenames:d.filenames,filenamePatterns:d.filenamePatterns,firstLine:d.firstLine,aliases:d.aliases,mimetypes:d.mimetypes,configuration:h})}}else a.collector.error(n.localize(9,null,t.languagesExtPoint.name))}c.ModesRegistry.registerLanguages(i)}),a._configurationService.onDidUpdateConfiguration(function(e){return a.onConfigurationChange(a._configurationService.getConfiguration())}),a.onDidCreateMode(function(e){a._extensionService.activateByEvent("onLanguage:"+e.getId()).done(null,i.onUnexpectedError)}),a}return h(s,e),s.prototype._onReady=function(){var e=this;if(!this._onReadyPromise){var t=this._configurationService.getConfiguration();this._onReadyPromise=this._extensionService.onReady().then(function(){return e.onConfigurationChange(t),!0})}return this._onReadyPromise},s.prototype.onConfigurationChange=function(e){var t=this;o.clearTextMimes(!0),e.files&&e.files.associations&&Object.keys(e.files.associations).forEach(function(n){var i=e.files.associations[n],r=t.getMimeForMode(i)||"text/x-"+i;o.registerTextMime({id:i,mime:r,filepattern:n,userConfigured:!0})})},s}(u.ModeServiceImpl);f=v([y(0,s.IExtensionService),y(1,l.IConfigurationService)],f),t.WorkbenchModeServiceImpl=f}),define(u[334],d([1,0,673,94,52,76,117,202,42,275,229,369]),function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";function h(e,t,n,i,r){return o.readFile(n).then(function(o){var s=p(o.toString(),i,r);e.registerSnippets(t.id,s,n)},function(i){if(!i||"ENOENT"!==i.code)throw i;e.registerSnippets(t.id,[],n)})}function p(e,t,r){var o=i.parse(e);if(!o||"object"!=typeof o)return[];var s=[],a=function(e,i){var o=e.prefix,a=e.body;Array.isArray(a)&&(a=a.join("\n")),"string"==typeof o&&"string"==typeof a&&(f(e={name:i,extensionName:t,prefix:o,description:e.description||i,codeSnippet:a})&&r&&r.warn(n.localize(6,null,i)),s.push(e))};return Object.keys(o).forEach(function(e){var t=o[e];t.body&&t.prefix?a(t,e):Object.keys(t).forEach(function(e){a(t[e],e)})}),s}function f(e){function t(e){if(e instanceof u.Text)return u.SnippetParser.escape(e.string);if(e instanceof u.Placeholder)return e.children.length>0?"${"+e.index+":"+e.children.map(t).join("")+"}":"$"+e.index;if(e instanceof u.Variable){if(0!==e.children.length||d.EditorSnippetVariableResolver.VariableNames[e.name])return e.children.length>0?"${"+e.name+":"+e.children.map(t).join("")+"}":"$"+e.name;var n=i.has(e.name)?i.get(e.name):++r;return i.set(e.name,n),"${"+n+++":"+e.name+"}"}throw new Error("unexpected marker: "+e)}var n=(new u.SnippetParser).parse(e.codeSnippet,!1),i=new Map,r=0;u.walk(n,function(e){return e instanceof u.Placeholder&&(r=Math.max(r,Number(e.index))),!0});var o=r;return e.codeSnippet=n.map(t).join(""),o!==r}Object.defineProperty(t,"__esModule",{value:!0});var g=s.ExtensionsRegistry.registerExtensionPoint("snippets",[l.languagesExtPoint],{description:n.localize(0,null),type:"array",defaultSnippets:[{body:[{language:"",path:""}]}],items:{type:"object",defaultSnippets:[{body:{language:"${1:id}",path:"./snippets/${2:id}.json."}}],properties:{language:{description:n.localize(1,null),type:"string"},path:{description:n.localize(2,null),type:"string"}}}}),m=function(){function e(e,t){var n=this;this._modeService=e,this._snippetService=t,g.setHandler(function(e){for(var t=0;t<e.length;t++)for(var i=e[t].value,r=0;r<i.length;r++)n._withSnippetContribution(e[t].description.name,e[t].description.extensionFolderPath,i[r],e[t].collector)})}return e.prototype.getId=function(){return"tmSnippetExtension"},e.prototype._withSnippetContribution=function(e,t,i,o){if(i.language&&"string"==typeof i.language&&this._modeService.isRegisteredMode(i.language))if(i.path&&"string"==typeof i.path){var s=r.join(t,i.path);0!==s.indexOf(t)&&o.warn(n.localize(5,null,g.name,s,t));var a=i.language,c=this._modeService.getLanguageIdentifier(a);c&&h(this._snippetService,c,s,e,o)}else o.error(n.localize(4,null,g.name,String(i.path)));else o.error(n.localize(3,null,g.name,String(i.language)))},e}();m=v([y(0,c.IModeService),y(1,a.ISnippetsService)],m),t.MainProcessTextMateSnippet=m,t.readAndRegisterSnippets=h}),define(u[1123],d([1,0,52,76,7,5,334,202,39,59,130,42]),function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function e(e,t,o,a){var c=this;this._snippetFolder=n.join(o.appSettingsHome,"snippets"),this._toDispose=[],this._toDispose.push(e.onDidCreateMode(function(e){var o=n.join(c._snippetFolder,e.getId()+".json");i.fileExists(o).then(function(n){return n&&s.readAndRegisterSnippets(t,e.getLanguageIdentifier(),o)}).done(void 0,r.onUnexpectedError)})),i.mkdirp(this._snippetFolder).then(function(){var i=u.watch(c._snippetFolder);c._toDispose.push({dispose:function(){return i.close()}}),i.on("change",function(i,o){"string"==typeof o&&a.onReady().then(function(){var i=o.replace(/\.json$/,"").toLowerCase(),r=e.getLanguageIdentifier(i);return r&&s.readAndRegisterSnippets(t,r,n.join(c._snippetFolder,o))},r.onUnexpectedError)})})}return e.prototype.getId=function(){return"vs.snippets.snippetsTracker"},e.prototype.dispose=function(){o.dispose(this._toDispose)},e}();h=v([y(0,d.IModeService),y(1,a.ISnippetsService),y(2,c.IEnvironmentService),y(3,l.IExtensionService)],h),t.SnippetsTracker=h}),define(u[78],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IPanelService=n.createDecorator("panelService")}),define(u[1125],d([1,0,4,12,8,34,16,5,6,31,15,30,125,78,44,27,1011,71,42,18,105,37]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,m,b,S,_,E,C){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var w="output.activechannel",I=function(){function e(){this.data=[],this.dataIds=[],this.idPool=0,this.length=0}return e.prototype.append=function(e){this.data.push(e),this.dataIds.push(++this.idPool),this.length+=e.length,this.trim()},e.prototype.clear=function(){this.data.length=0,this.dataIds.length=0,this.length=0},e.prototype.trim=function(){if(!(this.length<1.2*h.MAX_OUTPUT_LENGTH))for(;this.length>h.MAX_OUTPUT_LENGTH;){this.dataIds.shift();var e=this.data.shift();this.length-=e.length}},e.prototype.getDelta=function(e){var t=-1;e&&(t=o.binarySearch(this.dataIds,e.id,function(e,t){return e-t}));var n=this.idPool;if(t>=0)return{value:r=i.removeAnsiEscapeCodes(this.data.slice(t+1).join("")),id:n,append:!0};var r=i.removeAnsiEscapeCodes(this.data.join(""));return{value:r,id:n}},e}();t.BufferedContent=I;var T=function(){function e(e,t,n,i,o,s){this.storageService=e,this.instantiationService=t,this.panelService=n,this.receivedOutput=new Map,this.channels=new Map,this._onOutput=new r.Emitter,this._onOutputChannel=new r.Emitter,this._onActiveOutputChannel=new r.Emitter;var a=this.getChannels();this.activeChannelId=this.storageService.get(w,l.StorageScope.WORKSPACE,a&&a.length>0?a[0].id:null),this._outputLinkDetector=t.createInstance(m.OutputLinkProvider),this._outputContentProvider=t.createInstance(k,this),s.registerTextModelContentProvider(h.OUTPUT_SCHEME,this._outputContentProvider)}return Object.defineProperty(e.prototype,"onOutput",{get:function(){return this._onOutput.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onOutputChannel",{get:function(){return this._onOutputChannel.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onActiveOutputChannel",{get:function(){return this._onActiveOutputChannel.event},enumerable:!0,configurable:!0}),e.prototype.getChannel=function(e){var t=this;if(!this.channels.has(e)){var n=u.Registry.as(h.Extensions.OutputChannels).getChannel(e),i=this;this.channels.set(e,{id:e,label:n?n.label:e,getOutput:function(t){return i.getOutput(e,t)},get scrollLock(){return i._outputContentProvider.scrollLock(e)},set scrollLock(t){i._outputContentProvider.setScrollLock(e,t)},append:function(n){return t.append(e,n)},show:function(n){return t.showOutput(e,n)},clear:function(){return t.clearOutput(e)},dispose:function(){return t.removeOutput(e)}})}return this.channels.get(e)},e.prototype.getChannels=function(){return u.Registry.as(h.Extensions.OutputChannels).getChannels()},e.prototype.append=function(e,t){this.receivedOutput.has(e)||(this.receivedOutput.set(e,new I),this._onOutputChannel.fire(e)),t&&this.receivedOutput.get(e).append(t),this._onOutput.fire({channelId:e,isClear:!1})},e.prototype.getActiveChannel=function(){return this.getChannel(this.activeChannelId)},e.prototype.getOutput=function(e,t){if(this.receivedOutput.has(e))return this.receivedOutput.get(e).getDelta(t)},e.prototype.clearOutput=function(e){this.receivedOutput.has(e)&&(this.receivedOutput.get(e).clear(),this._onOutput.fire({channelId:e,isClear:!0}))},e.prototype.removeOutput=function(e){if(this.receivedOutput.delete(e),u.Registry.as(h.Extensions.OutputChannels).removeChannel(e),this.activeChannelId===e){var t=this.getChannels();this.activeChannelId=t.length?t[0].id:void 0,this._outputPanel&&this.activeChannelId&&this._outputPanel.setInput(h.OutputEditors.getInstance(this.instantiationService,this.getChannel(this.activeChannelId)),d.EditorOptions.create({preserveFocus:!0})),this._onActiveOutputChannel.fire(this.activeChannelId)}this._onOutputChannel.fire(e)},e.prototype.showOutput=function(e,t){var i=this,r=this.panelService.getActivePanel();return this.activeChannelId===e&&r&&r.getId()===h.OUTPUT_PANEL_ID?n.TPromise.as(r):(this.activeChannelId=e,this.storageService.store(w,this.activeChannelId,l.StorageScope.WORKSPACE),this._onActiveOutputChannel.fire(e),this.panelService.openPanel(h.OUTPUT_PANEL_ID,!t).then(function(e){return i._outputPanel=e,e&&e.setInput(h.OutputEditors.getInstance(i.instantiationService,i.getChannel(i.activeChannelId)),d.EditorOptions.create({preserveFocus:t})).then(function(){return e})}))},e}();T=v([y(0,l.IStorageService),y(1,c.IInstantiationService),y(2,p.IPanelService),y(3,g.IWorkspaceContextService),y(4,f.IModelService),y(5,b.ITextModelService)],T),t.OutputService=T;var k=function(){function e(e,t,n,i){this.outputService=e,this.modelService=t,this.modeService=n,this.panelService=i,this.bufferedOutput=new Map,this.channelIdsWithScrollLock=new Set,this.appendOutputScheduler=Object.create(null),this.toDispose=[],this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.outputService.onOutput(function(t){return e.onOutputReceived(t)})),this.toDispose.push(this.outputService.onActiveOutputChannel(function(t){return e.scheduleOutputAppend(t)})),this.toDispose.push(this.panelService.onDidPanelOpen(function(t){t.getId()===h.OUTPUT_PANEL_ID&&e.appendOutput()}))},e.prototype.onOutputReceived=function(e){var t=this.getModel(e.channelId);t&&(e.isClear?t.setValue(""):this.scheduleOutputAppend(e.channelId))},e.prototype.getModel=function(e){return this.modelService.getModel(s.default.from({scheme:h.OUTPUT_SCHEME,path:e}))},e.prototype.scheduleOutputAppend=function(t){var n=this;if(this.isVisible(t)){var i=this.appendOutputScheduler[t];i||(i=new _.RunOnceScheduler(function(){n.isVisible(t)&&n.appendOutput(t)},e.OUTPUT_DELAY),this.appendOutputScheduler[t]=i,this.toDispose.push(i)),i.isScheduled()||i.schedule()}},e.prototype.appendOutput=function(e){if(!e){var t=this.outputService.getActiveChannel();e=t&&t.id}if(e){var n=this.getModel(e);if(n){var i=this.bufferedOutput.get(e),r=this.outputService.getChannel(e).getOutput(i);if(r){if(this.bufferedOutput.set(e,r),r.append){var o=n.getLineCount(),s=n.getLineMaxColumn(o);n.applyEdits([E.EditOperation.insert(new C.Position(o,s),r.value)])}else n.setValue(r.value);this.channelIdsWithScrollLock.has(e)||this.panelService.getActivePanel().revealLastLine()}else n.setValue("")}}},e.prototype.isVisible=function(e){var t=this.panelService.getActivePanel();return t&&t.getId()===h.OUTPUT_PANEL_ID&&this.outputService.getActiveChannel().id===e},e.prototype.scrollLock=function(e){return this.channelIdsWithScrollLock.has(e)},e.prototype.setScrollLock=function(e,t){t?this.channelIdsWithScrollLock.add(e):this.channelIdsWithScrollLock.delete(e)},e.prototype.provideTextContent=function(e){var t=this.outputService.getChannel(e.fsPath).getOutput(),i=t?t.value:"",r=this.modelService.getModel(e);return r||(r=this.modelService.createModel(i,this.modeService.getOrCreateMode(h.OUTPUT_MIME),e)),n.TPromise.as(r)},e.prototype.dispose=function(){this.toDispose=a.dispose(this.toDispose)},e}();k.OUTPUT_DELAY=300,k=v([y(1,f.IModelService),y(2,S.IModeService),y(3,p.IPanelService)],k)}),define(u[47],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.ACTIVITYBAR_PART=0]="ACTIVITYBAR_PART",e[e.SIDEBAR_PART=1]="SIDEBAR_PART",e[e.PANEL_PART=2]="PANEL_PART",e[e.EDITOR_PART=3]="EDITOR_PART",e[e.STATUSBAR_PART=4]="STATUSBAR_PART",e[e.TITLEBAR_PART=5]="TITLEBAR_PART"}(t.Parts||(t.Parts={}));!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(t.Position||(t.Position={})),t.IPartService=n.createDecorator("partService")}),define(u[50],d([1,0,4,131,15,72,47,20,19,6,36]),function(e,t,n,i,r,o,s,a,c,l,u){"use strict";function d(e){var t=e.keybindingContext,n=void 0===e.keybindingWeight?o.KeybindingsRegistry.WEIGHT.workbenchContrib():e.keybindingWeight,i=e.keybindings,r={id:e.id,handler:h(e),weight:n,when:t,primary:i&&i.primary,secondary:i&&i.secondary,win:i&&i.win,mac:i&&i.mac,linux:i&&i.linux};o.KeybindingsRegistry.registerCommandAndKeybindingRule(r)}function h(e){return function(t,i){var r=t.get(a.IMessageService),o=t.get(l.IInstantiationService),d=t.get(c.ITelemetryService),h=t.get(s.IPartService);n.TPromise.as(p(o,d,h,e,i)).done(null,function(e){r.show(u.default.Error,e)})}}function p(e,t,i,r,o){var s=e.createInstance(r.syncDescriptor);s.label=r.label||s.label;if(s.enabled){var a=o&&o.from||"keybinding";return t&&t.publicLog("workbenchActionExecuted",{id:s.id,from:a}),i.joinCreation().then(function(){try{return n.TPromise.as(s.run(void 0,{from:a})).then(function(){s.dispose()},function(e){return s.dispose(),n.TPromise.wrapError(e)})}catch(e){return s.dispose(),n.TPromise.wrapError(e)}})}s.dispose()}Object.defineProperty(t,"__esModule",{value:!0}),t.Extensions={WorkbenchActions:"workbench.contributions.actions"};var f=function(){function e(){this.workbenchActions=Object.create(null),this.mapActionIdToMeta=Object.create(null)}return e.prototype.registerWorkbenchAction=function(e,t,n){if(!this.workbenchActions[e.id]){this.workbenchActions[e.id]=e,d(e);var i={alias:t};"string"==typeof n&&(i.category=n),this.mapActionIdToMeta[e.id]=i}},e.prototype.unregisterWorkbenchAction=function(e){return!!this.workbenchActions[e]&&(delete this.workbenchActions[e],delete this.mapActionIdToMeta[e],!0)},e.prototype.getWorkbenchAction=function(e){return this.workbenchActions[e]||null},e.prototype.getCategory=function(e){return this.mapActionIdToMeta[e]&&this.mapActionIdToMeta[e].category||null},e.prototype.getAlias=function(e){return this.mapActionIdToMeta[e]&&this.mapActionIdToMeta[e].alias||null},e.prototype.getWorkbenchActions=function(){return i.values(this.workbenchActions)},e.prototype.setWorkbenchActions=function(e){var t=this;this.workbenchActions=Object.create(null),this.mapActionIdToMeta=Object.create(null),e.forEach(function(e){return t.registerWorkbenchAction(e,"")},this)},e}();r.Registry.add(t.Extensions.WorkbenchActions,new f),t.createCommandHandler=h,t.triggerAndDisposeAction=p}),define(u[1128],d([1,0,502,28,16,82,11,21,15,50,22,39,27,43,35,123]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var b=function(e){function t(t,n,i,r,o,s){var a=e.call(this,t,n)||this;return a.fileService=i,a.contextService=r,a.environmentService=o,a.editorService=s,a}return h(t,e),t.prototype.run=function(e){var s=this,a=r.default.file(i.join(this.environmentService.appSettingsHome,"locale.json"));return this.fileService.resolveFile(a).then(null,function(e){return s.fileService.createFile(a,t.DEFAULT_CONTENT)}).then(function(e){if(e)return s.editorService.openEditor({resource:e.resource,options:{forceOpen:!0}})},function(e){throw new Error(n.localize(4,null,o.getPathLabel(a,s.contextService),e))})},t}(a.Action);b.ID="workbench.action.configureLocale",b.LABEL=n.localize(0,null),b.DEFAULT_CONTENT=["{","\t// "+n.localize(1,null),"\t// "+n.localize(2,null,"https://go.microsoft.com/fwlink/?LinkId=761051"),"\t// "+n.localize(3,null),'\t"locale":"'+s.language+'"',"}"].join("\n"),b=v([y(2,f.IFileService),y(3,p.IWorkspaceContextService),y(4,d.IEnvironmentService),y(5,u.IWorkbenchEditorService)],b),c.Registry.as(l.Extensions.WorkbenchActions).registerWorkbenchAction(new g.SyncActionDescriptor(b,b.ID,b.LABEL),"Configure Language");var S={id:"vscode://schemas/locale",description:"Locale Definition file",type:"object",default:{locale:"en"},required:["locale"],properties:{locale:{type:"string",enum:["de","en","en-US","es","fr","it","ja","ko","ru","zh-CN","zh-TW"],description:n.localize(5,null)}}};c.Registry.as(m.Extensions.JSONContribution).registerSchema("vscode://schemas/locale",S)}),define(u[444],d([1,0,4,504,15,21,35,50,65,47]),function(e,t,n,i,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.partService=i,o.configurationEditingService=r,o.enabled=!!o.partService,o}return h(t,e),t.prototype.run=function(){var e=!this.partService.isVisible(l.Parts.ACTIVITYBAR_PART);return this.configurationEditingService.writeConfiguration(c.ConfigurationTarget.USER,{key:t.activityBarVisibleKey,value:e}),n.TPromise.as(null)},t}(o.Action);u.ID="workbench.action.toggleActivityBarVisibility",u.LABEL=i.localize(0,null),u.activityBarVisibleKey="workbench.activityBar.visible",u=v([y(2,l.IPartService),y(3,c.IConfigurationEditingService)],u),t.ToggleActivityBarVisibilityAction=u,r.Registry.as(a.Extensions.WorkbenchActions).registerWorkbenchAction(new s.SyncActionDescriptor(u,u.ID,u.LABEL),"View: Toggle Activity Bar Visibility",i.localize(1,null))}),define(u[439],d([1,0,4,505,15,21,35,50,45,5,32,1027]),function(e,t,n,i,r,o,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.editorGroupService=i,r.toDispose=[],r.class="toggle-editor-layout",r.updateEnablement(),r.updateLabel(),r.registerListeners(),r}return h(t,e),t.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.editorGroupService.onEditorsChanged(function(){return e.updateEnablement()})),this.toDispose.push(this.editorGroupService.onGroupOrientationChanged(function(){return e.updateLabel()}))},t.prototype.updateLabel=function(){var e="horizontal"!==this.editorGroupService.getGroupOrientation();this.label=e?i.localize(1,null):i.localize(2,null)},t.prototype.updateEnablement=function(){this.enabled=this.editorGroupService.getStacksModel().groups.length>0},t.prototype.run=function(){var e="vertical"===this.editorGroupService.getGroupOrientation()?"horizontal":"vertical";return this.editorGroupService.setGroupOrientation(e),n.TPromise.as(null)},t.prototype.dispose=function(){this.toDispose=l.dispose(this.toDispose),e.prototype.dispose.call(this)},t}(o.Action);d.ID="workbench.action.toggleEditorGroupLayout",d.LABEL=i.localize(0,null),d=v([y(2,c.IEditorGroupService)],d),t.ToggleEditorLayoutAction=d,u.CommandsRegistry.registerCommand("_workbench.editor.setGroupOrientation",function(e,t){var i=e.get(c.IEditorGroupService),r=t[0];return i.setGroupOrientation(r),n.TPromise.as(null)});var p=r.Registry.as(a.Extensions.WorkbenchActions),f=i.localize(3,null);p.registerWorkbenchAction(new s.SyncActionDescriptor(d,d.ID,d.LABEL,{primary:1558,mac:{primary:2582}}),"View: Toggle Editor Group Vertical/Horizontal Layout",f)}),define(u[1131],d([1,0,4,506,15,21,35,50,65,47]),function(e,t,n,i,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.partService=i,o.configurationEditingService=r,o.enabled=!!o.partService&&!!o.configurationEditingService,o}return h(t,e),t.prototype.run=function(){var e=this.partService.getSideBarPosition()===l.Position.LEFT?"right":"left";return this.configurationEditingService.writeConfiguration(c.ConfigurationTarget.USER,{key:t.sidebarPositionConfigurationKey,value:e}),n.TPromise.as(null)},t}(o.Action);u.ID="workbench.action.toggleSidebarPosition",u.LABEL=i.localize(0,null),u.sidebarPositionConfigurationKey="workbench.sideBar.location",u=v([y(2,l.IPartService),y(3,c.IConfigurationEditingService)],u),t.ToggleSidebarPositionAction=u,r.Registry.as(a.Extensions.WorkbenchActions).registerWorkbenchAction(new s.SyncActionDescriptor(u,u.ID,u.LABEL),"View: Toggle Side Bar Location",i.localize(1,null))}),define(u[1132],d([1,0,507,15,21,35,50,47]),function(e,t,n,i,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.partService=i,r.enabled=!!r.partService,r}return h(t,e),t.prototype.run=function(){var e=this.partService.isVisible(a.Parts.SIDEBAR_PART);return this.partService.setSideBarHidden(e)},t}(r.Action);c.ID="workbench.action.toggleSidebarVisibility",c.LABEL=n.localize(0,null),c=v([y(2,a.IPartService)],c),t.ToggleSidebarVisibilityAction=c,i.Registry.as(s.Extensions.WorkbenchActions).registerWorkbenchAction(new o.SyncActionDescriptor(c,c.ID,c.LABEL,{primary:2080}),"View: Toggle Side Bar Visibility",n.localize(1,null))}),define(u[1133],d([1,0,4,508,15,21,35,50,65,47]),function(e,t,n,i,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.partService=i,o.configurationEditingService=r,o.enabled=!!o.partService,o}return h(t,e),t.prototype.run=function(){var e=!this.partService.isVisible(l.Parts.STATUSBAR_PART);return this.configurationEditingService.writeConfiguration(c.ConfigurationTarget.USER,{key:t.statusbarVisibleKey,value:e}),n.TPromise.as(null)},t}(o.Action);u.ID="workbench.action.toggleStatusbarVisibility",u.LABEL=i.localize(0,null),u.statusbarVisibleKey="workbench.statusBar.visible",u=v([y(2,l.IPartService),y(3,c.IConfigurationEditingService)],u),t.ToggleStatusbarVisibilityAction=u,r.Registry.as(a.Extensions.WorkbenchActions).registerWorkbenchAction(new s.SyncActionDescriptor(u,u.ID,u.LABEL),"View: Toggle Status Bar Visibility",i.localize(1,null))}),define(u[1134],d([1,0,4,509,21,60,15,35,50,47]),function(e,t,n,i,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.partService=i,r.enabled=!!r.partService,r}return h(t,e),t.prototype.run=function(){return this.partService.toggleZenMode(),n.TPromise.as(null)},t}(r.Action);u.ID="workbench.action.toggleZenMode",u.LABEL=i.localize(0,null),u=v([y(2,l.IPartService)],u),s.Registry.as(c.Extensions.WorkbenchActions).registerWorkbenchAction(new a.SyncActionDescriptor(u,u.ID,u.LABEL,{primary:o.KeyChord(2089,56)}),"View: Toggle Zen Mode",i.localize(1,null))}),define(u[1135],d([1,0,526,4,5,21,15,35,50,78,47,38,431]),function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(e){function t(t,i,r){var o=e.call(this,t.id,t.name)||this;return o.panel=t,o.keybindingService=i,o.panelService=r,o.tooltip=n.localize(0,null,t.name,o.getKeybindingLabel(t.commandId)),o}return h(t,e),t.prototype.run=function(e){var t=this;return this.panelService.openPanel(this.panel.id,!0).then(function(){return t.activate()})},t.prototype.activate=function(){this.checked||this._setChecked(!0)},t.prototype.deactivate=function(){this.checked&&this._setChecked(!1)},t.prototype.getKeybindingLabel=function(e){var t=this.keybindingService.lookupKeybinding(e);return t?t.getLabel():""},t}(o.Action);p=v([y(1,d.IKeybindingService),y(2,l.IPanelService)],p),t.PanelAction=p;var f=function(e){function t(t,n,i){var r=e.call(this,t,n,"hide-panel-action")||this;return r.partService=i,r}return h(t,e),t.prototype.run=function(){return this.partService.setPanelHidden(!0)},t}(o.Action);f.ID="workbench.action.closePanel",f.LABEL=n.localize(1,null),f=v([y(2,u.IPartService)],f),t.ClosePanelAction=f;var g=function(e){function t(t,n,i){var r=e.call(this,t,n,i.isVisible(u.Parts.PANEL_PART)?"panel expanded":"panel")||this;return r.partService=i,r}return h(t,e),t.prototype.run=function(){return this.partService.setPanelHidden(this.partService.isVisible(u.Parts.PANEL_PART))},t}(o.Action);g.ID="workbench.action.togglePanel",g.LABEL=n.localize(2,null),g=v([y(2,u.IPartService)],g),t.TogglePanelAction=g;var m=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.panelService=i,o.partService=r,o}return h(t,e),t.prototype.run=function(){if(!this.partService.isVisible(u.Parts.PANEL_PART))return this.partService.setPanelHidden(!1);var e=this.panelService.getActivePanel();return e&&e.focus(),i.TPromise.as(!0)},t}(o.Action);m.ID="workbench.action.focusPanel",m.LABEL=n.localize(3,null),m=v([y(2,l.IPanelService),y(3,u.IPartService)],m);var b=function(e){function t(n,i,r){var o=e.call(this,n,i,r.isPanelMaximized()?"minimize-panel-action":"maximize-panel-action")||this;return o.partService=r,o.toDispose=[],o.toDispose.push(r.onEditorLayout(function(){var e=o.partService.isPanelMaximized();o.class=e?"minimize-panel-action":"maximize-panel-action",o.label=e?t.RESTORE_LABEL:t.MAXIMIZE_LABEL})),o}return h(t,e),t.prototype.run=function(){var e=this;return this.partService.setPanelHidden(!1).then(function(){return e.partService.toggleMaximizedPanel()})},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.toDispose=r.dispose(this.toDispose)},t}(o.Action);b.ID="workbench.action.toggleMaximizedPanel",b.LABEL=n.localize(4,null),b.MAXIMIZE_LABEL=n.localize(5,null),b.RESTORE_LABEL=n.localize(6,null),b=v([y(2,u.IPartService)],b),t.ToggleMaximizedPanelAction=b;var S=s.Registry.as(c.Extensions.WorkbenchActions);S.registerWorkbenchAction(new a.SyncActionDescriptor(g,g.ID,g.LABEL,{primary:2088}),"View: Toggle Panel",n.localize(7,null)),S.registerWorkbenchAction(new a.SyncActionDescriptor(m,m.ID,m.LABEL),"View: Focus into Panel",n.localize(8,null)),S.registerWorkbenchAction(new a.SyncActionDescriptor(b,b.ID,b.LABEL),"View: Toggle Maximized Panel",n.localize(9,null)),S.registerWorkbenchAction(new a.SyncActionDescriptor(f,f.ID,f.LABEL),"View: Close Panel",n.localize(10,null))}),define(u[1136],d([1,0,9,531,107,4,5,40,291,15,32,22,212,50,218,6,19,20,56,41,21,13,74,27,29,33,58,1002]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var L=function(e){function t(t,n,i,r){var o=e.call(this,t,{hasTitle:!1},i)||this;return o.instantiationService=n,o.contextService=r,o.toDispose=[],o}return h(t,e),t.prototype.addEntry=function(e,n,i){void 0===i&&(i=0);for(var r=this.doCreateStatusItem(n,i),o=this.instantiationService.createInstance(D,e).render(r),s=this.statusItemsContainer.getHTMLElement(),c=this.getEntries(n),l=!1,u=0;u<c.length;u++){var d=c[u],h=a.$(d).getProperty(t.PRIORITY_PROP);if(n===g.StatusbarAlignment.LEFT&&h<i||n===g.StatusbarAlignment.RIGHT&&h>i){s.insertBefore(r,d),l=!0;break}}return l||s.appendChild(r),{dispose:function(){a.$(r).destroy(),o&&o.dispose()}}},t.prototype.getEntries=function(e){for(var n=[],i=this.statusItemsContainer.getHTMLElement().children,r=0;r<i.length;r++){var o=i.item(r);a.$(o).getProperty(t.ALIGNMENT_PROP)===e&&n.push(o)}return n},t.prototype.createContentArea=function(e){var t=this;this.statusItemsContainer=a.$(e);var n=l.Registry.as(g.Extensions.Statusbar),i=n.items.filter(function(e){return e.alignment===g.StatusbarAlignment.LEFT}).sort(function(e,t){return t.priority-e.priority}),r=n.items.filter(function(e){return e.alignment===g.StatusbarAlignment.RIGHT}).sort(function(e,t){return e.priority-t.priority}).concat(i);return(o=this.toDispose).push.apply(o,r.map(function(e){var n=t.instantiationService.createInstance(e.syncDescriptor),i=t.doCreateStatusItem(e.alignment,e.priority),r=n.render(i);return t.statusItemsContainer.append(i),r})),this.statusItemsContainer;var o},t.prototype.updateStyles=function(){e.prototype.updateStyles.call(this);var t=this.getContainer();t.style("color",this.getColor(this.contextService.hasWorkspace()?I.STATUS_BAR_FOREGROUND:I.STATUS_BAR_NO_FOLDER_FOREGROUND)),t.style("background-color",this.getColor(this.contextService.hasWorkspace()?I.STATUS_BAR_BACKGROUND:I.STATUS_BAR_NO_FOLDER_BACKGROUND));var n=this.getColor(I.STATUS_BAR_BORDER)||this.getColor(k.contrastBorder);t.style("border-top-width",n?"1px":null),t.style("border-top-style",n?"solid":null),t.style("border-top-color",n)},t.prototype.doCreateStatusItem=function(e,i){void 0===i&&(i=0);var r=document.createElement("div");return n.addClass(r,"statusbar-item"),e===g.StatusbarAlignment.RIGHT?n.addClass(r,"right"):n.addClass(r,"left"),a.$(r).setProperty(t.PRIORITY_PROP,i),a.$(r).setProperty(t.ALIGNMENT_PROP,e),r},t.prototype.setStatusMessage=function(e,t,n){var i=this;void 0===t&&(t=-1),void 0===n&&(n=0),this.statusMsgDispose&&this.statusMsgDispose.dispose();var r,o,s=setTimeout(function(){r=i.addEntry({text:e},g.StatusbarAlignment.LEFT,-Number.MAX_VALUE),s=null},n),a={dispose:function(){s&&clearTimeout(s),o&&clearTimeout(o),r&&r.dispose()}};return this.statusMsgDispose=a,"number"==typeof t&&t>0&&(o=setTimeout(function(){return a.dispose()},t)),a},t.prototype.dispose=function(){this.toDispose=s.dispose(this.toDispose),e.prototype.dispose.call(this)},t}(p.Part);L.PRIORITY_PROP="priority",L.ALIGNMENT_PROP="alignment",L=v([y(1,m.IInstantiationService),y(2,w.IThemeService),y(3,T.IWorkspaceContextService)],L),t.StatusbarPart=L;var P,D=function(){function e(e,t,n,i,r,o,s,a){this.commandService=t,this.instantiationService=n,this.messageService=i,this.telemetryService=r,this.contextMenuService=o,this.editorService=s,this.themeService=a,this.entry=e,P||(P=this.instantiationService.createInstance(O))}return e.prototype.render=function(e){var t=this,i=[];n.addClass(e,"statusbar-entry");var r;this.entry.command?(r=document.createElement("a"),a.$(r).on("click",function(){return t.executeCommand(t.entry.command)},i)):r=document.createElement("span"),new c.OcticonLabel(r).text=this.entry.text,this.entry.tooltip&&a.$(r).title(this.entry.tooltip);var l=this.entry.color;if(l){if(x.isThemeColor(l)){var u=l.id;l=(this.themeService.getTheme().getColor(u)||A.Color.transparent).toString(),i.push(this.themeService.onThemeChange(function(e){var n=(t.themeService.getTheme().getColor(u)||A.Color.transparent).toString();a.$(r).color(n)}))}a.$(r).color(l)}return this.entry.extensionId&&a.$(r).on("contextmenu",function(i){n.EventHelper.stop(i,!0),t.contextMenuService.showContextMenu({getAnchor:function(){return e},getActionsContext:function(){return t.entry.extensionId},getActions:function(){return o.TPromise.as([P])}})},i),e.appendChild(r),{dispose:function(){i=s.dispose(i)}}},e.prototype.executeCommand=function(e){var t=this,n=l.Registry.as(f.Extensions.WorkbenchActions).getWorkbenchAction(e);if(n){var s=this.instantiationService.createInstance(n.syncDescriptor);s.enabled?(this.telemetryService.publicLog("workbenchActionExecuted",{id:s.id,from:"status bar"}),(s.run()||o.TPromise.as(null)).done(function(){s.dispose()},function(e){return t.messageService.show(S.Severity.Error,r.toErrorMessage(e))})):this.messageService.show(S.Severity.Warning,i.localize(0,null,s.label||e))}else{var a=this.editorService.getActiveEditor(),c=_.getCodeEditor(a);c&&c.focus(),this.commandService.executeCommand(e).done(void 0,function(e){return t.messageService.show(S.Severity.Error,r.toErrorMessage(e))})}},e}();D=v([y(1,u.ICommandService),y(2,m.IInstantiationService),y(3,S.IMessageService),y(4,b.ITelemetryService),y(5,E.IContextMenuService),y(6,d.IWorkbenchEditorService),y(7,w.IThemeService)],D);var O=function(e){function t(t){var n=e.call(this,"statusbar.manage.extension",i.localize(1,null))||this;return n.commandService=t,n}return h(t,e),t.prototype.run=function(e){return this.commandService.executeCommand("_extensions.manage",e)},t}(C.Action);O=v([y(0,u.ICommandService)],O),w.registerThemingParticipant(function(e,t){var n=e.getColor(I.STATUS_BAR_ITEM_HOVER_BACKGROUND);n&&t.addRule(".monaco-workbench > .part.statusbar > .statusbar-item a:hover:not([disabled]):not(.disabled) { background-color: "+n+"; }");var i=e.getColor(I.STATUS_BAR_ITEM_ACTIVE_BACKGROUND);i&&t.addRule(".monaco-workbench > .part.statusbar > .statusbar-item a:active:not([disabled]):not(.disabled) { background-color: "+i+"; }");var r=e.getColor(I.STATUS_BAR_PROMINENT_ITEM_BACKGROUND);r&&t.addRule(".monaco-workbench > .part.statusbar > .statusbar-item .status-bar-info { background-color: "+r+"; }");var o=e.getColor(I.STATUS_BAR_PROMINENT_ITEM_HOVER_BACKGROUND);o&&t.addRule(".monaco-workbench > .part.statusbar > .statusbar-item a.status-bar-info:hover:not([disabled]):not(.disabled) { background-color: "+o+"; }")})}),define(u[1137],d([1,0,545,52,157,76,18,4,16,21,50,15,35,20,63,80]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m){"use strict";function b(e,t){return void 0===t&&(t=null),function(n){return n.code===e?a.TPromise.as(t):a.TPromise.wrapError(n)}}function S(){return o.exists(E)}Object.defineProperty(t,"__esModule",{value:!0});var _=c.default.parse(e.toUrl("")).fsPath,E=i.resolve(_,"..","bin","code"),C=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.messageService=i,o.editorService=r,o}return h(t,e),Object.defineProperty(t.prototype,"target",{get:function(){return"/usr/local/bin/"+m.default.applicationName},enumerable:!0,configurable:!0}),t.prototype.run=function(){var e=this;return S().then(function(t){if(t)return e.isInstalled().then(function(n){if(!t||n)return a.TPromise.as(null);var i=function(){return o.unlink(e.target).then(null,b("ENOENT")).then(function(){return o.symlink(E,e.target)})};return i().then(null,function(t){return"EACCES"===t.code||"ENOENT"===t.code?e.createBinFolder().then(function(){return i()}):a.TPromise.wrapError(t)})}).then(function(){return e.messageService.show(f.Severity.Info,n.localize(2,null,m.default.applicationName))});var i=n.localize(1,null);e.messageService.show(f.Severity.Info,i)})},t.prototype.isInstalled=function(){var e=this;return o.lstat(this.target).then(function(e){return e.isSymbolicLink()}).then(function(){return o.readlink(e.target)}).then(function(e){return e===E}).then(null,b("ENOENT",!1))},t.prototype.createBinFolder=function(){var e=this;return new a.TPromise(function(t,i){var o=n.localize(3,null),c=[new l.Action("ok",n.localize(4,null),"",!0,function(){return s.nfcall(r.exec,'osascript -e "do shell script \\"mkdir -p /usr/local/bin && chown \\" & (do shell script (\\"whoami\\")) & \\" /usr/local/bin\\" with administrator privileges"',{}).then(null,function(e){return a.TPromise.wrapError(new Error(n.localize(5,null)))}).done(t,i),null}),new l.Action("cancel2",n.localize(6,null),"",!0,function(){return i(new Error(n.localize(7,null))),null})];e.messageService.show(f.Severity.Info,{message:o,actions:c})})},t}(l.Action);C.ID="workbench.action.installCommandLine",C.LABEL=n.localize(0,null,m.default.applicationName),C=v([y(2,f.IMessageService),y(3,g.IEditorService)],C);var w=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.messageService=i,r}return h(t,e),Object.defineProperty(t.prototype,"target",{get:function(){return"/usr/local/bin/"+m.default.applicationName},enumerable:!0,configurable:!0}),t.prototype.run=function(){var e=this;return S().then(function(t){if(t)return o.unlink(e.target).then(null,b("ENOENT")).then(function(){return e.messageService.show(f.Severity.Info,n.localize(10,null,m.default.applicationName))});var i=n.localize(9,null);e.messageService.show(f.Severity.Info,i)})},t}(l.Action);if(w.ID="workbench.action.uninstallCommandLine",w.LABEL=n.localize(8,null,m.default.applicationName),w=v([y(2,f.IMessageService)],w),"darwin"===process.platform){var I=n.localize(11,null),T=d.Registry.as(u.Extensions.WorkbenchActions);T.registerWorkbenchAction(new p.SyncActionDescriptor(C,C.ID,C.LABEL),"Shell Command: Install 'code' command in PATH",I),T.registerWorkbenchAction(new p.SyncActionDescriptor(w,w.ID,w.LABEL),"Shell Command: Uninstall 'code' command from PATH",I)}}),define(u[1138],d([1,0,4,550,15,21,35,50,65,23]),function(e,t,n,i,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.configurationService=i,o.configurationEditingService=r,o.enabled=!!o.configurationService&&!!o.configurationEditingService,o}return h(t,e),t.prototype.run=function(){var e="ctrlCmd"===this.configurationService.getConfiguration("editor").multiCursorModifier?"alt":"ctrlCmd";return this.configurationEditingService.writeConfiguration(c.ConfigurationTarget.USER,{key:t.multiCursorModifierConfigurationKey,value:e}),n.TPromise.as(null)},t}(o.Action);u.ID="workbench.action.toggleMultiCursorModifier",u.LABEL=i.localize(0,null),u.multiCursorModifierConfigurationKey="editor.multiCursorModifier",u=v([y(2,l.IConfigurationService),y(3,c.IConfigurationEditingService)],u),t.ToggleMultiCursorModifierAction=u,r.Registry.as(a.Extensions.WorkbenchActions).registerWorkbenchAction(new s.SyncActionDescriptor(u,u.ID,u.LABEL),"Toggle Multi-Cursor Modifier")}),define(u[134],d([1,0,557,21,5,36,4,38,32,27,43,20,67,162,47,78,22,106,54]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var E=function(e){function t(t,n,i,r,o,s){var a=e.call(this,t,n,i,!1)||this;return a.debugService=r,a.keybindingService=o,a.weight=s,a.toDispose=[],a.toDispose.push(a.debugService.onDidChangeState(function(e){return a.updateEnablement(e)})),a.updateLabel(n),a.updateEnablement(),a}return h(t,e),t.prototype.run=function(e){throw new Error("implement me")},Object.defineProperty(t.prototype,"tooltip",{get:function(){var e=this.keybindingService.lookupKeybinding(this.id),t=e&&e.getLabel();return t?this.label+" ("+t+")":this.label},enumerable:!0,configurable:!0}),t.prototype.updateLabel=function(e){this.label=e},t.prototype.updateEnablement=function(e){void 0===e&&(e=this.debugService.state),this.enabled=this.isEnabled(e)},t.prototype.isEnabled=function(e){return!0},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.toDispose=r.dispose(this.toDispose)},t}(i.Action);E=v([y(3,p.IDebugService),y(4,a.IKeybindingService)],E),t.AbstractDebugAction=E;var C=function(e){function t(t,n,i,r,o,s){var a=e.call(this,t,n,"debug-action configure",i,r)||this;return a.contextService=o,a.messageService=s,a.toDispose.push(i.getViewModel().onDidSelectConfiguration(function(e){return a.updateClass()})),a.updateClass(),a}return h(t,e),Object.defineProperty(t.prototype,"tooltip",{get:function(){return this.debugService.getViewModel().selectedConfigurationName?t.LABEL:n.localize(1,null)},enumerable:!0,configurable:!0}),t.prototype.updateClass=function(){this.class=this.debugService.getViewModel().selectedConfigurationName?"debug-action configure":"debug-action configure notification"},t.prototype.run=function(e){if(!this.contextService.hasWorkspace())return this.messageService.show(o.default.Info,n.localize(2,null)),s.TPromise.as(null);var t=!(!e||!e.ctrlKey&&!e.metaKey);return this.debugService.getConfigurationManager().openConfigFile(t)},t}(E);C.ID="workbench.action.debug.configure",C.LABEL=n.localize(0,null,"launch.json"),C=v([y(2,p.IDebugService),y(3,a.IKeybindingService),y(4,l.IWorkspaceContextService),y(5,d.IMessageService)],C),t.ConfigureAction=C;var w=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n,"debug-action start",i,r)||this;return s.contextService=o,s.debugService.getViewModel().onDidSelectConfiguration(function(){s.updateEnablement()}),s}return h(t,e),t.prototype.run=function(){return this.debugService.startDebugging(void 0,this.isNoDebug())},t.prototype.isNoDebug=function(){return!1},t.prototype.isEnabled=function(e){var t=this,n=this.debugService.getModel().getProcesses(),i=this.debugService.getConfigurationManager().getCompound(this.debugService.getViewModel().selectedConfigurationName);return e!==p.State.Initializing&&n.every(function(e){return e.name!==t.debugService.getViewModel().selectedConfigurationName})&&(!i||!i.configurations||n.every(function(e){return-1===i.configurations.indexOf(e.name)}))&&(!this.contextService||this.contextService.hasWorkspace()||0===n.length)},t}(E);w.ID="workbench.action.debug.start",w.LABEL=n.localize(3,null),w=v([y(2,p.IDebugService),y(3,a.IKeybindingService),y(4,l.IWorkspaceContextService)],w),t.StartAction=w;var I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.isNoDebug=function(){return!0},t}(w);I.ID="workbench.action.debug.run",I.LABEL=n.localize(4,null),t.RunAction=I;var T=function(e){function t(t,n,i,r,o,s,a,c){var l=e.call(this,t,n,void 0,i,r)||this;return l.quickOpenService=c,l.quickOpenService=c,l}return h(t,e),t.prototype.run=function(){return this.quickOpenService.show("debug ")},t}(E);T.ID="workbench.action.debug.selectandstart",T.LABEL=n.localize(5,null),T=v([y(2,p.IDebugService),y(3,a.IKeybindingService),y(4,c.ICommandService),y(5,l.IWorkspaceContextService),y(6,u.IFileService),y(7,_.IQuickOpenService)],T),t.SelectAndStartAction=T;var k=function(e){function t(t,n,i,r){var o=e.call(this,t,n,"debug-action restart",i,r,70)||this;return o.setLabel(o.debugService.getViewModel().focusedProcess),o.toDispose.push(o.debugService.getViewModel().onDidFocusStackFrame(function(){return o.setLabel(o.debugService.getViewModel().focusedProcess)})),o}return h(t,e),t.prototype.setLabel=function(e){this.updateLabel(e&&e.state===p.ProcessState.ATTACH?t.RECONNECT_LABEL:t.LABEL)},t.prototype.run=function(e){return e instanceof f.Process||(e=this.debugService.getViewModel().focusedProcess),e?(this.debugService.getModel().getProcesses().length<=1&&this.debugService.removeReplExpressions(),this.debugService.restartProcess(e)):s.TPromise.as(null)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t!==p.State.Inactive},t}(E);k.ID="workbench.action.debug.restart",k.LABEL=n.localize(6,null),k.RECONNECT_LABEL=n.localize(7,null),k=v([y(2,p.IDebugService),y(3,a.IKeybindingService)],k),t.RestartAction=k;var x=function(e){function t(t,n,i,r){return e.call(this,t,n,"debug-action step-over",i,r,20)||this}return h(t,e),t.prototype.run=function(e){return e instanceof f.Thread||(e=this.debugService.getViewModel().focusedThread),e?e.next():s.TPromise.as(null)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t===p.State.Stopped},t}(E);x.ID="workbench.action.debug.stepOver",x.LABEL=n.localize(8,null),x=v([y(2,p.IDebugService),y(3,a.IKeybindingService)],x),t.StepOverAction=x;var A=function(e){function t(t,n,i,r){return e.call(this,t,n,"debug-action step-into",i,r,30)||this}return h(t,e),t.prototype.run=function(e){return e instanceof f.Thread||(e=this.debugService.getViewModel().focusedThread),e?e.stepIn():s.TPromise.as(null)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t===p.State.Stopped},t}(E);A.ID="workbench.action.debug.stepInto",A.LABEL=n.localize(9,null),A=v([y(2,p.IDebugService),y(3,a.IKeybindingService)],A),t.StepIntoAction=A;var L=function(e){function t(t,n,i,r){return e.call(this,t,n,"debug-action step-out",i,r,40)||this}return h(t,e),t.prototype.run=function(e){return e instanceof f.Thread||(e=this.debugService.getViewModel().focusedThread),e?e.stepOut():s.TPromise.as(null)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t===p.State.Stopped},t}(E);L.ID="workbench.action.debug.stepOut",L.LABEL=n.localize(10,null),L=v([y(2,p.IDebugService),y(3,a.IKeybindingService)],L),t.StepOutAction=L;var P=function(e){function t(t,n,i,r){return e.call(this,t,n,"debug-action stop",i,r,80)||this}return h(t,e),t.prototype.run=function(e){return e instanceof f.Process||(e=this.debugService.getViewModel().focusedProcess),this.debugService.stopProcess(e)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t!==p.State.Inactive},t}(E);P.ID="workbench.action.debug.stop",P.LABEL=n.localize(11,null),P=v([y(2,p.IDebugService),y(3,a.IKeybindingService)],P),t.StopAction=P;var D=function(e){function t(t,n,i,r){return e.call(this,t,n,"debug-action disconnect",i,r,80)||this}return h(t,e),t.prototype.run=function(){var e=this.debugService.getViewModel().focusedProcess;return this.debugService.stopProcess(e)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t!==p.State.Inactive},t}(E);D.ID="workbench.action.debug.disconnect",D.LABEL=n.localize(12,null),D=v([y(2,p.IDebugService),y(3,a.IKeybindingService)],D),t.DisconnectAction=D;var O=function(e){function t(t,n,i,r){return e.call(this,t,n,"debug-action continue",i,r,10)||this}return h(t,e),t.prototype.run=function(e){return e instanceof f.Thread||(e=this.debugService.getViewModel().focusedThread),e?e.continue():s.TPromise.as(null)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t===p.State.Stopped},t}(E);O.ID="workbench.action.debug.continue",O.LABEL=n.localize(13,null),O=v([y(2,p.IDebugService),y(3,a.IKeybindingService)],O),t.ContinueAction=O;var R=function(e){function t(t,n,i,r){return e.call(this,t,n,"debug-action pause",i,r,10)||this}return h(t,e),t.prototype.run=function(e){return e instanceof f.Thread||(e=this.debugService.getViewModel().focusedThread),e?e.pause():s.TPromise.as(null)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t===p.State.Running},t}(E);R.ID="workbench.action.debug.pause",R.LABEL=n.localize(14,null),R=v([y(2,p.IDebugService),y(3,a.IKeybindingService)],R),t.PauseAction=R;var M=function(e){function t(t,n,i,r){return e.call(this,t,n,void 0,i,r)||this}return h(t,e),t.prototype.run=function(e){return e||(e=this.debugService.getViewModel().focusedStackFrame),e.restart()},t}(E);M.ID="workbench.action.debug.restartFrame",M.LABEL=n.localize(15,null),M=v([y(2,p.IDebugService),y(3,a.IKeybindingService)],M),t.RestartFrameAction=M;var N=function(e){function t(t,n,i,r){return e.call(this,t,n,"debug-action remove",i,r)||this}return h(t,e),t.prototype.run=function(e){return e instanceof f.Breakpoint?this.debugService.removeBreakpoints(e.getId()):this.debugService.removeFunctionBreakpoints(e.getId())},t}(E);N.ID="workbench.debug.viewlet.action.removeBreakpoint",N.LABEL=n.localize(16,null),N=v([y(2,p.IDebugService),y(3,a.IKeybindingService)],N),t.RemoveBreakpointAction=N;var F=function(e){function t(t,n,i,r){var o=e.call(this,t,n,"debug-action remove-all",i,r)||this;return o.toDispose.push(o.debugService.getModel().onDidChangeBreakpoints(function(){return o.updateEnablement()})),o}return h(t,e),t.prototype.run=function(){return s.TPromise.join([this.debugService.removeBreakpoints(),this.debugService.removeFunctionBreakpoints()])},t.prototype.isEnabled=function(t){var n=this.debugService.getModel();return e.prototype.isEnabled.call(this,t)&&(n.getBreakpoints().length>0||n.getFunctionBreakpoints().length>0)},t}(E);F.ID="workbench.debug.viewlet.action.removeAllBreakpoints",F.LABEL=n.localize(17,null),F=v([y(2,p.IDebugService),y(3,a.IKeybindingService)],F),t.RemoveAllBreakpointsAction=F;var W=function(e){function t(t,n,i,r){return e.call(this,t,n,void 0,i,r)||this}return h(t,e),t.prototype.run=function(e){return this.debugService.enableOrDisableBreakpoints(!0,e)},t}(E);W.ID="workbench.debug.viewlet.action.enableBreakpoint",W.LABEL=n.localize(18,null),W=v([y(2,p.IDebugService),y(3,a.IKeybindingService)],W),t.EnableBreakpointAction=W;var B=function(e){function t(t,n,i,r){return e.call(this,t,n,void 0,i,r)||this}return h(t,e),t.prototype.run=function(e){return this.debugService.enableOrDisableBreakpoints(!1,e)},t}(E);B.ID="workbench.debug.viewlet.action.disableBreakpoint",B.LABEL=n.localize(19,null),B=v([y(2,p.IDebugService),y(3,a.IKeybindingService)],B),t.DisableBreakpointAction=B;var V=function(e){function t(t,n,i,r){var o=e.call(this,t,n,"debug-action enable-all-breakpoints",i,r)||this;return o.toDispose.push(o.debugService.getModel().onDidChangeBreakpoints(function(){return o.updateEnablement()})),o}return h(t,e),t.prototype.run=function(){return this.debugService.enableOrDisableBreakpoints(!0)},t.prototype.isEnabled=function(t){var n=this.debugService.getModel();return e.prototype.isEnabled.call(this,t)&&n.getBreakpoints().concat(n.getFunctionBreakpoints()).concat(n.getExceptionBreakpoints()).some(function(e){return!e.enabled})},t}(E);V.ID="workbench.debug.viewlet.action.enableAllBreakpoints",V.LABEL=n.localize(20,null),V=v([y(2,p.IDebugService),y(3,a.IKeybindingService)],V),t.EnableAllBreakpointsAction=V;var z=function(e){function t(t,n,i,r){var o=e.call(this,t,n,"debug-action disable-all-breakpoints",i,r)||this;return o.toDispose.push(o.debugService.getModel().onDidChangeBreakpoints(function(){return o.updateEnablement()})),o}return h(t,e),t.prototype.run=function(){return this.debugService.enableOrDisableBreakpoints(!1)},t.prototype.isEnabled=function(t){var n=this.debugService.getModel();return e.prototype.isEnabled.call(this,t)&&n.getBreakpoints().concat(n.getFunctionBreakpoints()).concat(n.getExceptionBreakpoints()).some(function(e){return e.enabled})},t}(E);z.ID="workbench.debug.viewlet.action.disableAllBreakpoints",z.LABEL=n.localize(21,null),z=v([y(2,p.IDebugService),y(3,a.IKeybindingService)],z),t.DisableAllBreakpointsAction=z;var H=function(e){function t(n,i,r,o){var s=e.call(this,n,i,"debug-action breakpoints-activate",r,o)||this;return s.updateLabel(s.debugService.getModel().areBreakpointsActivated()?t.DEACTIVATE_LABEL:t.ACTIVATE_LABEL),s.toDispose.push(s.debugService.getModel().onDidChangeBreakpoints(function(){s.updateLabel(s.debugService.getModel().areBreakpointsActivated()?t.DEACTIVATE_LABEL:t.ACTIVATE_LABEL),s.updateEnablement()})),s}return h(t,e),t.prototype.run=function(){return this.debugService.setBreakpointsActivated(!this.debugService.getModel().areBreakpointsActivated())},t.prototype.isEnabled=function(e){return this.debugService.getModel().getFunctionBreakpoints().length+this.debugService.getModel().getBreakpoints().length>0},t}(E);H.ID="workbench.debug.viewlet.action.toggleBreakpointsActivatedAction",H.ACTIVATE_LABEL=n.localize(22,null),H.DEACTIVATE_LABEL=n.localize(23,null),H=v([y(2,p.IDebugService),y(3,a.IKeybindingService)],H),t.ToggleBreakpointsActivatedAction=H;var K=function(e){function t(t,n,i,r){var o=e.call(this,t,n,null,i,r)||this;return o.toDispose.push(o.debugService.getModel().onDidChangeBreakpoints(function(){return o.updateEnablement()})),o}return h(t,e),t.prototype.run=function(){return this.debugService.setBreakpointsActivated(!0)},t.prototype.isEnabled=function(t){var n=this.debugService.getModel();return e.prototype.isEnabled.call(this,t)&&t!==p.State.Inactive&&n.getFunctionBreakpoints().length+n.getBreakpoints().length+n.getExceptionBreakpoints().length>0},t}(E);K.ID="workbench.debug.viewlet.action.reapplyBreakpointsAction",K.LABEL=n.localize(24,null),K=v([y(2,p.IDebugService),y(3,a.IKeybindingService)],K),t.ReapplyBreakpointsAction=K;var U=function(e){function t(t,n,i,r){return e.call(this,t,n,"debug-action add-function-breakpoint",i,r)||this}return h(t,e),t.prototype.run=function(){return this.debugService.addFunctionBreakpoint(),s.TPromise.as(null)},t}(E);U.ID="workbench.debug.viewlet.action.addFunctionBreakpointAction",U.LABEL=n.localize(25,null),U=v([y(2,p.IDebugService),y(3,a.IKeybindingService)],U),t.AddFunctionBreakpointAction=U;var j=function(e){function t(t,n,i,r){return e.call(this,t,n,null,i,r)||this}return h(t,e),t.prototype.run=function(e){return this.debugService.getViewModel().setSelectedFunctionBreakpoint(e),s.TPromise.as(null)},t}(E);j.ID="workbench.debug.viewlet.action.renameFunctionBreakpointAction",j.LABEL=n.localize(26,null),j=v([y(2,p.IDebugService),y(3,a.IKeybindingService)],j),t.RenameFunctionBreakpointAction=j;var G=function(e){function t(t,n,i,r,o,s){var a=e.call(this,t,n,null,o,s)||this;return a.editor=i,a.lineNumber=r,a}return h(t,e),t.prototype.run=function(){return this.editor.getContribution(p.EDITOR_CONTRIBUTION_ID).showBreakpointWidget(this.lineNumber,void 0),s.TPromise.as(null)},t}(E);G.ID="workbench.debug.viewlet.action.addConditionalBreakpointAction",G.LABEL=n.localize(27,null),G=v([y(4,p.IDebugService),y(5,a.IKeybindingService)],G),t.AddConditionalBreakpointAction=G;var q=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n,null,r,o)||this;return s.editor=i,s}return h(t,e),t.prototype.run=function(e){return this.editor.getContribution(p.EDITOR_CONTRIBUTION_ID).showBreakpointWidget(e.lineNumber,e.column),s.TPromise.as(null)},t}(E);q.ID="workbench.debug.viewlet.action.editConditionalBreakpointAction",q.LABEL=n.localize(28,null),q=v([y(3,p.IDebugService),y(4,a.IKeybindingService)],q),t.EditConditionalBreakpointAction=q;var $=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n,null,r,o)||this;return s.variable=i,s}return h(t,e),t.prototype.run=function(){return this.variable instanceof f.Variable&&this.debugService.getViewModel().setSelectedExpression(this.variable),s.TPromise.as(null)},t.prototype.isEnabled=function(t){var n=this.debugService.getViewModel().focusedProcess;return e.prototype.isEnabled.call(this,t)&&t===p.State.Stopped&&n&&n.session.capabilities.supportsSetVariable},t}(E);$.ID="workbench.debug.viewlet.action.setValue",$.LABEL=n.localize(29,null),$=v([y(3,p.IDebugService),y(4,a.IKeybindingService)],$),t.SetValueAction=$;var Y=function(e){function t(t,n,i,r){var o=e.call(this,t,n,"debug-action add-watch-expression",i,r)||this;return o.toDispose.push(o.debugService.getModel().onDidChangeWatchExpressions(function(){return o.updateEnablement()})),o}return h(t,e),t.prototype.run=function(){return this.debugService.addWatchExpression()},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&this.debugService.getModel().getWatchExpressions().every(function(e){return!!e.name})},t}(E);Y.ID="workbench.debug.viewlet.action.addWatchExpression",Y.LABEL=n.localize(30,null),Y=v([y(2,p.IDebugService),y(3,a.IKeybindingService)],Y),t.AddWatchExpressionAction=Y;var X=function(e){function t(t,n,i,r){return e.call(this,t,n,void 0,i,r)||this}return h(t,e),t.prototype.run=function(e){return this.debugService.getViewModel().setSelectedExpression(e),s.TPromise.as(null)},t}(E);X.ID="workbench.debug.viewlet.action.editWatchExpression",X.LABEL=n.localize(31,null),X=v([y(2,p.IDebugService),y(3,a.IKeybindingService)],X),t.EditWatchExpressionAction=X;var Q=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n,"debug-action add-to-watch",r,o)||this;return s.expression=i,s}return h(t,e),t.prototype.run=function(){var e=this.expression instanceof f.Variable?this.expression.evaluateName:this.expression.name;return this.debugService.addWatchExpression(e)},t}(E);Q.ID="workbench.debug.viewlet.action.addToWatchExpressions",Q.LABEL=n.localize(32,null),Q=v([y(3,p.IDebugService),y(4,a.IKeybindingService)],Q),t.AddToWatchExpressionsAction=Q;var Z=function(e){function t(t,n,i,r){return e.call(this,t,n,void 0,i,r)||this}return h(t,e),t.prototype.run=function(e){return this.debugService.removeWatchExpressions(e.getId()),s.TPromise.as(null)},t}(E);Z.ID="workbench.debug.viewlet.action.removeWatchExpression",Z.LABEL=n.localize(33,null),Z=v([y(2,p.IDebugService),y(3,a.IKeybindingService)],Z),t.RemoveWatchExpressionAction=Z;var J=function(e){function t(t,n,i,r){var o=e.call(this,t,n,"debug-action remove-all",i,r)||this;return o.toDispose.push(o.debugService.getModel().onDidChangeWatchExpressions(function(){return o.updateEnablement()})),o}return h(t,e),t.prototype.run=function(){return this.debugService.removeWatchExpressions(),s.TPromise.as(null)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&this.debugService.getModel().getWatchExpressions().length>0},t}(E);J.ID="workbench.debug.viewlet.action.removeAllWatchExpressions",J.LABEL=n.localize(34,null),J=v([y(2,p.IDebugService),y(3,a.IKeybindingService)],J),t.RemoveAllWatchExpressionsAction=J;var ee=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n,"debug-action clear-repl",i,r)||this;return s.panelService=o,s}return h(t,e),t.prototype.run=function(){return this.debugService.removeReplExpressions(),this.panelService.openPanel(p.REPL_ID,!0)},t}(E);ee.ID="workbench.debug.panel.action.clearReplAction",ee.LABEL=n.localize(35,null),ee=v([y(2,p.IDebugService),y(3,a.IKeybindingService),y(4,m.IPanelService)],ee),t.ClearReplAction=ee;var te=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n,p.REPL_ID,o,r,"debug-action toggle-repl")||this;return s.debugService=i,s.toDispose=[],s.registerListeners(),s}return h(t,e),t.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.debugService.getModel().onDidChangeReplElements(function(){e.isReplVisible()||(e.class="debug-action toggle-repl notification",e.tooltip=n.localize(37,null))})),this.toDispose.push(this.panelService.onDidPanelOpen(function(n){n.getId()===p.REPL_ID&&(e.class="debug-action toggle-repl",e.tooltip=t.LABEL)}))},t.prototype.isReplVisible=function(){var e=this.panelService.getActivePanel();return e&&e.getId()===p.REPL_ID},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.toDispose=r.dispose(this.toDispose)},t}(S.TogglePanelAction);te.ID="workbench.debug.action.toggleRepl",te.LABEL=n.localize(36,null),te=v([y(2,p.IDebugService),y(3,g.IPartService),y(4,m.IPanelService)],te),t.ToggleReplAction=te;var ne=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.panelService=i,r}return h(t,e),t.prototype.run=function(){return this.panelService.openPanel(p.REPL_ID,!0)},t}(i.Action);ne.ID="workbench.debug.action.focusRepl",ne.LABEL=n.localize(38,null),ne=v([y(2,m.IPanelService)],ne),t.FocusReplAction=ne;var ie=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n,null,i,r,100)||this;return s.editorService=o,s}return h(t,e),t.prototype.run=function(e){var t=this,n=this.debugService.getModel().getProcesses().filter(function(t){return t.name===e}).pop();return this.debugService.focusStackFrameAndEvaluate(null,n).then(function(){var e=t.debugService.getViewModel().focusedStackFrame;if(e)return e.openInEditor(t.editorService,!0)})},t}(E);ie.ID="workbench.action.debug.focusProcess",ie.LABEL=n.localize(39,null),ie=v([y(2,p.IDebugService),y(3,a.IKeybindingService),y(4,b.IWorkbenchEditorService)],ie),t.FocusProcessAction=ie;var re=function(e){function t(t,n,i,r){return e.call(this,t,n,"debug-action step-back",i,r,50)||this}return h(t,e),t.prototype.run=function(e){return e instanceof f.Thread||(e=this.debugService.getViewModel().focusedThread),e?e.stepBack():s.TPromise.as(null)},t.prototype.isEnabled=function(t){var n=this.debugService.getViewModel().focusedProcess;return e.prototype.isEnabled.call(this,t)&&t===p.State.Stopped&&n&&n.session.capabilities.supportsStepBack},t}(E);re.ID="workbench.action.debug.stepBack",re.LABEL=n.localize(40,null),re=v([y(2,p.IDebugService),y(3,a.IKeybindingService)],re),t.StepBackAction=re;var oe=function(e){function t(t,n,i,r){return e.call(this,t,n,"debug-action reverse-continue",i,r,60)||this}return h(t,e),t.prototype.run=function(e){return e instanceof f.Thread||(e=this.debugService.getViewModel().focusedThread),e?e.reverseContinue():s.TPromise.as(null)},t.prototype.isEnabled=function(t){var n=this.debugService.getViewModel().focusedProcess;return e.prototype.isEnabled.call(this,t)&&t===p.State.Stopped&&n&&n.session.capabilities.supportsStepBack},t}(E);oe.ID="workbench.action.debug.reverseContinue",oe.LABEL=n.localize(41,null),oe=v([y(2,p.IDebugService),y(3,a.IKeybindingService)],oe),t.ReverseContinueAction=oe}),define(u[1140],d([1,0,5,7,12,66,36,40,9,34,86,140,49,47,67,134,333,6,23,31,20,19,74,13,29,558,988]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var A=a.$;t.debugToolBarBackground=k.registerColor("debugToolBar.background",{dark:"#333333",light:"#F3F3F3",hc:"#000000"},x.localize(0,null));var L=function(e){function f(t,n,i,r,o,s,a,c){var l=e.call(this,c)||this;l.messageService=t,l.telemetryService=n,l.debugService=i,l.instantiationService=r,l.partService=o,l.storageService=s,l.configurationService=a,l.$el=A().div().addClass("debug-actions-widget").style("top",o.getTitleBarOffset()+"px"),l.dragArea=A().div().addClass("drag-area"),l.$el.append(l.dragArea);var u=A().div().addClass(".action-bar-container");return l.$el.append(u),l.toDispose=[],l.activeActions=[],l.actionBar=new p.ActionBar(u,{orientation:p.ActionsOrientation.HORIZONTAL,actionItemProvider:function(e){return e.id===m.FocusProcessAction.ID?l.instantiationService.createInstance(b.FocusProcessActionItem,e):null}}),l.updateStyles(),l.toDispose.push(l.actionBar),l.registerListeners(),l.hide(),l.isBuilt=!1,l}return h(f,e),f.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.debugService.onDidChangeState(function(t){return e.update(t)})),this.toDispose.push(this.configurationService.onDidUpdateConfiguration(function(){return e.update(e.debugService.state)})),this.toDispose.push(this.actionBar.actionRunner.addListener(d.EventType.RUN,function(t){t.error&&!i.isPromiseCanceledError(t.error)&&e.messageService.show(s.default.Error,t.error),e.telemetryService&&e.telemetryService.publicLog("workbenchActionExecuted",{id:t.action.id,from:"debugActionsWidget"})})),A(window).on(c.EventType.RESIZE,function(){return e.setXCoordinate()},this.toDispose),this.dragArea.on(c.EventType.MOUSE_UP,function(t){if(2===new u.StandardMouseEvent(t).detail){var n=e.$el.getHTMLElement().clientWidth;e.setXCoordinate(.5*window.innerWidth-.5*n),e.storePosition()}}),this.dragArea.on(c.EventType.MOUSE_DOWN,function(t){var n=A(window);e.dragArea.addClass("dragged"),n.on("mousemove",function(t){var n=new u.StandardMouseEvent(t);n.preventDefault(),e.setXCoordinate(n.posx-14)}).once("mouseup",function(t){e.storePosition(),e.dragArea.removeClass("dragged"),n.off("mousemove")})}),this.toDispose.push(this.partService.onTitleBarVisibilityChange(function(){return e.positionDebugWidget()})),this.toDispose.push(o.onDidChangeZoomLevel(function(){return e.positionDebugWidget()}))},f.prototype.storePosition=function(){var e=parseFloat(this.$el.getComputedStyle().left)/window.innerWidth;this.storageService.store("debug.actionswidgetposition",e,E.StorageScope.WORKSPACE),this.telemetryService.publicLog("debug.actionswidgetposition",{position:e})},f.prototype.updateStyles=function(){if(e.prototype.updateStyles.call(this),this.$el){this.$el.style("background-color",this.getColor(t.debugToolBarBackground));var n=this.getColor(k.widgetShadow);this.$el.style("box-shadow",n?"0 5px 8px "+n:null);var i=this.getColor(k.contrastBorder);this.$el.style("border-style",i?"solid":null),this.$el.style("border-width",i?"1px":null),this.$el.style("border-color",i)}},f.prototype.positionDebugWidget=function(){var e=this.partService.getTitleBarOffset();A(this.$el).style("top",e+"px")},f.prototype.setXCoordinate=function(e){if(this.isVisible){var t=this.$el.getHTMLElement().clientWidth;if(void 0===e){var n=this.storageService.get("debug.actionswidgetposition",E.StorageScope.WORKSPACE);e=void 0!==n?parseFloat(n)*window.innerWidth:.5*window.innerWidth-.5*t}e=Math.max(0,Math.min(e,window.innerWidth-t)),this.$el.style("left",e+"px")}},f.prototype.getId=function(){return f.ID},f.prototype.update=function(e){if(e===g.State.Inactive||this.configurationService.getConfiguration("debug").hideActionBar)return this.hide();var t=this.getActions();l.equals(t,this.activeActions,function(e,t){return e.id===t.id})||(this.actionBar.clear(),this.actionBar.push(t,{icon:!0,label:!1}),this.activeActions=t),this.show()},f.prototype.show=function(){this.isVisible||(this.isBuilt||(this.isBuilt=!0,this.$el.build(a.withElementById(this.partService.getWorkbenchElementId()).getHTMLElement())),this.isVisible=!0,this.$el.show(),this.setXCoordinate())},f.prototype.hide=function(){this.isVisible=!1,this.$el.hide()},f.prototype.getActions=function(){var e=this;this.allActions||(this.allActions=[],this.allActions.push(this.instantiationService.createInstance(m.ContinueAction,m.ContinueAction.ID,m.ContinueAction.LABEL)),this.allActions.push(this.instantiationService.createInstance(m.PauseAction,m.PauseAction.ID,m.PauseAction.LABEL)),this.allActions.push(this.instantiationService.createInstance(m.StopAction,m.StopAction.ID,m.StopAction.LABEL)),this.allActions.push(this.instantiationService.createInstance(m.DisconnectAction,m.DisconnectAction.ID,m.DisconnectAction.LABEL)),this.allActions.push(this.instantiationService.createInstance(m.StepOverAction,m.StepOverAction.ID,m.StepOverAction.LABEL)),this.allActions.push(this.instantiationService.createInstance(m.StepIntoAction,m.StepIntoAction.ID,m.StepIntoAction.LABEL)),this.allActions.push(this.instantiationService.createInstance(m.StepOutAction,m.StepOutAction.ID,m.StepOutAction.LABEL)),this.allActions.push(this.instantiationService.createInstance(m.RestartAction,m.RestartAction.ID,m.RestartAction.LABEL)),this.allActions.push(this.instantiationService.createInstance(m.StepBackAction,m.StepBackAction.ID,m.StepBackAction.LABEL)),this.allActions.push(this.instantiationService.createInstance(m.ReverseContinueAction,m.ReverseContinueAction.ID,m.ReverseContinueAction.LABEL)),this.allActions.push(this.instantiationService.createInstance(m.FocusProcessAction,m.FocusProcessAction.ID,m.FocusProcessAction.LABEL)),this.allActions.forEach(function(t){e.toDispose.push(t)}));var t=this.debugService.state,n=this.debugService.getViewModel().focusedProcess,i=n&&"attach"===n.configuration.request&&n.configuration.type&&!r.equalsIgnoreCase(n.configuration.type,"extensionHost");return this.allActions.filter(function(r){return r.id===m.ContinueAction.ID?t!==g.State.Running:r.id===m.PauseAction.ID?t===g.State.Running:r.id===m.StepBackAction.ID?n&&n.session.capabilities.supportsStepBack:r.id===m.ReverseContinueAction.ID?n&&n.session.capabilities.supportsStepBack:r.id===m.DisconnectAction.ID?i:r.id===m.StopAction.ID?!i:r.id!==m.FocusProcessAction.ID||e.debugService.getViewModel().isMultiProcessView()}).sort(function(e,t){return e.weight-t.weight})},f.prototype.dispose=function(){this.toDispose=n.dispose(this.toDispose),this.$el&&(this.$el.destroy(),delete this.$el)},f}(I.Themable);L.ID="debug.actionsWidget",L=v([y(0,C.IMessageService),y(1,w.ITelemetryService),y(2,g.IDebugService),y(3,S.IInstantiationService),y(4,f.IPartService),y(5,E.IStorageService),y(6,_.IConfigurationService),y(7,T.IThemeService)],L),t.DebugActionsWidget=L}),define(u[311],d([1,0,574,4,5,28,7,12,9,82,49,265,110,121,41,6,27,17,35,180,22,67,162,330,134,328,179,55,13,39]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A,L,P,D){"use strict";function O(e){var t={"\n":"\\n","\r":"\\r","\t":"\\t"};return e.replace(/[\n\r\t]/g,function(e){return t[e]})}function R(e,t,n){var i="string"==typeof e?e:e.value;t.className="value",null===i||(e instanceof I.Expression||e instanceof I.Variable)&&!e.available?(c.addClass(t,"unavailable"),i!==I.Expression.DEFAULT_VALUE&&c.addClass(t,"error")):isNaN(+i)?B.test(i)?c.addClass(t,"boolean"):V.test(i)&&c.addClass(t,"string"):c.addClass(t,"number"),n.showChanged&&e.valueChanged&&i!==I.Expression.DEFAULT_VALUE&&(t.className="value changed"),n.maxValueLength&&i.length>n.maxValueLength&&(i=i.substr(0,n.maxValueLength)+"..."),i&&!n.preserveWhitespace?t.textContent=O(i):t.textContent=i,n.showHover&&(t.title=i)}function M(e,t,n,i){t.available&&(n.name.textContent=O(t.name),n.name.title=t.type?t.type:t.name),t.value?(n.name.textContent+=t.name?":":"",R(t,n.value,{showChanged:i,maxValueLength:z,preserveWhitespace:!1,showHover:!0})):(n.value.textContent="",n.value.title="")}function N(e,t,n,i,o,a,l){var u=c.append(a,W(".inputBoxContainer")),d=new p.InputBox(u,t,{validationOptions:l.validationOptions,placeholder:l.placeholder,ariaLabel:l.ariaLabel}),h=L.attachInputBoxStyler(d,n);i.setHighlight(),d.value=l.initialValue?l.initialValue:"",d.focus(),d.select();var f=!1,g=[d,h],v=A.once(function(t){f||(f=!0,o instanceof I.Expression&&t&&d.value?e.renameWatchExpression(o.getId(),d.value).done(null,s.onUnexpectedError):o instanceof I.Expression&&!o.name?e.removeWatchExpressions(o.getId()):o instanceof I.FunctionBreakpoint&&d.value?e.renameFunctionBreakpoint(o.getId(),t?d.value:o.name).done(null,s.onUnexpectedError):o instanceof I.FunctionBreakpoint&&!o.name?e.removeFunctionBreakpoints(o.getId()).done(null,s.onUnexpectedError):o instanceof I.Variable&&(o.errorMessage=null,t&&o.value!==d.value&&o.setVariable(d.value).done(function(){return i.refresh(o,!1)},s.onUnexpectedError)),i.clearHighlight(),i.DOMFocus(),i.setFocus(o),a.removeChild(u),r.dispose(g))});g.push(c.addStandardDisposableListener(d.inputElement,"keydown",function(e){var t=e.equals(9),n=e.equals(3);(t||n)&&(e.preventDefault(),e.stopPropagation(),v(n))})),g.push(c.addDisposableListener(d.inputElement,"blur",function(){v(!0)}))}function F(e,t,n){return e.name?e.name:o.basename(e.uri.fsPath)}Object.defineProperty(t,"__esModule",{value:!0});var W=c.$,B=/^true|false$/i,V=/^(['"]).*\1$/,z=1024;t.renderExpressionValue=R,t.renderVariable=M;var H=function(e){function t(t,n,i,r,o,s,a){var c=e.call(this,{clickBehavior:f.ClickBehavior.ON_MOUSE_UP,keyboardSupport:!1})||this;return c.actionProvider=t,c.debugService=i,c.editorService=r,c.contextMenuService=o,c.contributedContextMenu=a.createMenu(n,s),c}return h(t,e),t.prototype.onContextMenu=function(e,t,n){var i=this;if(n.target&&n.target.tagName&&"input"===n.target.tagName.toLowerCase())return!1;if(n.preventDefault(),n.stopPropagation(),e.setFocus(t),this.actionProvider.hasSecondaryActions(e,t)){var r={x:n.posx+1,y:n.posy};return this.contextMenuService.showContextMenu({getAnchor:function(){return r},getActions:function(){return i.actionProvider.getSecondaryActions(e,t).then(function(e){return E.fillInActions(i.contributedContextMenu,{arg:i.getContext(t)},e),e})},onHide:function(t){t&&e.DOMFocus()},getActionsContext:function(){return t}}),!0}return!1},t.prototype.getContext=function(e){},t}(f.DefaultController);H=v([y(2,w.IDebugService),y(3,C.IWorkbenchEditorService),y(4,g.IContextMenuService),y(5,S.IContextKeyService),y(6,_.IMenuService)],H),t.BaseDebugController=H;var K=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.onLeftClick=function(t,n,i){return n instanceof I.ThreadAndProcessIds?this.showMoreStackFrames(t,n):n instanceof I.StackFrame?(e.prototype.onLeftClick.call(this,t,n,i),this.focusStackFrame(n,i,2!==i.detail),!0):e.prototype.onLeftClick.call(this,t,n,i)},t.prototype.getContext=function(e){if(e instanceof I.StackFrame)return e.source.inMemory?e.source.raw.path||e.source.reference:e.source.uri.toString()},t.prototype.showMoreStackFrames=function(e,t){var n=this.debugService.getModel().getProcesses().filter(function(e){return e.getId()===t.processId}).pop(),i=n&&n.getThread(t.threadId);return i&&i.fetchCallStack().done(function(){return e.refresh()},s.onUnexpectedError),!0},t.prototype.focusStackFrame=function(e,t,n){var i=this;this.debugService.focusStackFrameAndEvaluate(e).then(function(){var r=t&&(t.ctrlKey||t.metaKey);return e.openInEditor(i.editorService,n,r)},s.onUnexpectedError)},t}(H);t.CallStackController=K;var U=function(){function e(e,t){this.instantiationService=e,this.debugService=t}return e.prototype.hasActions=function(e,t){return!1},e.prototype.getActions=function(e,t){return i.TPromise.as([])},e.prototype.hasSecondaryActions=function(e,t){return t!==e.getInput()},e.prototype.getSecondaryActions=function(e,t){var n=[];return t instanceof I.Process?(n.push(this.instantiationService.createInstance(k.RestartAction,k.RestartAction.ID,k.RestartAction.LABEL)),n.push(this.instantiationService.createInstance(k.StopAction,k.StopAction.ID,k.StopAction.LABEL))):t instanceof I.Thread?t.stopped?(n.push(this.instantiationService.createInstance(k.ContinueAction,k.ContinueAction.ID,k.ContinueAction.LABEL)),n.push(this.instantiationService.createInstance(k.StepOverAction,k.StepOverAction.ID,k.StepOverAction.LABEL)),n.push(this.instantiationService.createInstance(k.StepIntoAction,k.StepIntoAction.ID,k.StepIntoAction.LABEL)),n.push(this.instantiationService.createInstance(k.StepOutAction,k.StepOutAction.ID,k.StepOutAction.LABEL))):n.push(this.instantiationService.createInstance(k.PauseAction,k.PauseAction.ID,k.PauseAction.LABEL)):t instanceof I.StackFrame&&(t.thread.process.session.capabilities.supportsRestartFrame&&n.push(this.instantiationService.createInstance(k.RestartFrameAction,k.RestartFrameAction.ID,k.RestartFrameAction.LABEL)),n.push(new x.CopyStackTraceAction(x.CopyStackTraceAction.ID,x.CopyStackTraceAction.LABEL))),i.TPromise.as(n)},e.prototype.getActionItem=function(e,t,n){return null},e}();U=v([y(0,m.IInstantiationService),y(1,w.IDebugService)],U),t.CallStackActionProvider=U;var j=function(){function e(){}return e.prototype.getId=function(e,t){return"string"==typeof t?t:t.getId()},e.prototype.hasChildren=function(e,t){return t instanceof I.Model||t instanceof I.Process||t instanceof I.Thread&&t.stopped},e.prototype.getChildren=function(e,t){if(t instanceof I.Thread)return this.getThreadChildren(t);if(t instanceof I.Model)return i.TPromise.as(t.getProcesses());var n=t;return i.TPromise.as(n.getAllThreads())},e.prototype.getThreadChildren=function(e){var t=e.getCallStack(),n=i.TPromise.as(null);return t&&t.length||(n=e.fetchCallStack().then(function(){return t=e.getCallStack()})),n.then(function(){return 1===t.length?t.concat(e.getStaleCallStack().slice(1)):e.stoppedDetails&&e.stoppedDetails.framesErrorMessage?t.concat([e.stoppedDetails.framesErrorMessage]):e.stoppedDetails&&e.stoppedDetails.totalFrames>t.length&&t.length>1?t.concat([new I.ThreadAndProcessIds(e.process.getId(),e.threadId)]):t})},e.prototype.getParent=function(e,t){return i.TPromise.as(null)},e}();t.CallStackDataSource=j;var G=function(){function e(e,t){this.contextService=e,this.environmentService=t}return e.prototype.getHeight=function(e,t){return 22},e.prototype.getTemplateId=function(t,n){return n instanceof I.Process?e.PROCESS_TEMPLATE_ID:n instanceof I.Thread?e.THREAD_TEMPLATE_ID:n instanceof I.StackFrame?e.STACK_FRAME_TEMPLATE_ID:"string"==typeof n?e.ERROR_TEMPLATE_ID:e.LOAD_MORE_TEMPLATE_ID},e.prototype.renderTemplate=function(t,n,i){if(n===e.PROCESS_TEMPLATE_ID){var r=Object.create(null);return r.process=c.append(i,W(".process")),r.name=c.append(r.process,W(".name")),r.state=c.append(r.process,W(".state")),r.stateLabel=c.append(r.state,W("span.label")),r}if(n===e.LOAD_MORE_TEMPLATE_ID){var o=Object.create(null);return o.label=c.append(i,W(".load-more")),o}if(n===e.ERROR_TEMPLATE_ID){var s=Object.create(null);return s.label=c.append(i,W(".error")),s}if(n===e.THREAD_TEMPLATE_ID){var a=Object.create(null);return a.thread=c.append(i,W(".thread")),a.name=c.append(a.thread,W(".name")),a.state=c.append(a.thread,W(".state")),a.stateLabel=c.append(a.state,W("span.label")),a}var l=Object.create(null);return l.stackFrame=c.append(i,W(".stack-frame")),l.label=c.append(l.stackFrame,W("span.label.expression")),l.file=c.append(l.stackFrame,W(".file")),l.fileName=c.append(l.file,W("span.file-name")),l.lineNumber=c.append(l.file,W("span.line-number")),l},e.prototype.renderElement=function(t,n,i,r){i===e.PROCESS_TEMPLATE_ID?this.renderProcess(n,r):i===e.THREAD_TEMPLATE_ID?this.renderThread(n,r):i===e.STACK_FRAME_TEMPLATE_ID?this.renderStackFrame(n,r):i===e.ERROR_TEMPLATE_ID?this.renderError(n,r):i===e.LOAD_MORE_TEMPLATE_ID&&this.renderLoadMore(n,r)},e.prototype.renderProcess=function(e,t){t.process.title=n.localize(0,null),t.name.textContent=e.name;var i=e.getAllThreads().filter(function(e){return e.stopped}).pop();t.stateLabel.textContent=i?n.localize(1,null):n.localize(2,null)},e.prototype.renderThread=function(e,t){t.thread.title=n.localize(3,null),t.name.textContent=e.name,e.stopped?t.stateLabel.textContent=e.stoppedDetails.description||n.localize(4,null,e.stoppedDetails.reason):t.stateLabel.textContent=n.localize(5,null)},e.prototype.renderError=function(e,t){t.label.textContent=e,t.label.title=e},e.prototype.renderLoadMore=function(e,t){t.label.textContent=n.localize(6,null)},e.prototype.renderStackFrame=function(e,t){c.toggleClass(t.stackFrame,"disabled",!e.source.available||"deemphasize"===e.source.presentationHint),c.toggleClass(t.stackFrame,"label","label"===e.presentationHint),c.toggleClass(t.stackFrame,"subtle","subtle"===e.presentationHint),t.file.title=e.source.raw.path||e.source.name,e.source.raw.origin&&(t.file.title+="\n"+e.source.raw.origin),t.label.textContent=e.name,t.label.title=e.name,t.fileName.textContent=F(e.source,this.contextService,this.environmentService),void 0!==e.range.startLineNumber?(t.lineNumber.textContent=""+e.range.startLineNumber,e.range.startColumn&&(t.lineNumber.textContent+=":"+e.range.startColumn),c.removeClass(t.lineNumber,"unavailable")):c.addClass(t.lineNumber,"unavailable")},e.prototype.disposeTemplate=function(e,t,n){},e}();G.THREAD_TEMPLATE_ID="thread",G.STACK_FRAME_TEMPLATE_ID="stackFrame",G.ERROR_TEMPLATE_ID="error",G.LOAD_MORE_TEMPLATE_ID="loadMore",G.PROCESS_TEMPLATE_ID="process",G=v([y(0,b.IWorkspaceContextService),y(1,D.IEnvironmentService)],G),t.CallStackRenderer=G;var q=function(){function e(e){this.contextService=e}return e.prototype.getAriaLabel=function(e,t){return t instanceof I.Thread?n.localize(7,null,t.name):t instanceof I.StackFrame?n.localize(8,null,t.name,t.range.startLineNumber,F(t.source,this.contextService)):null},e}();q=v([y(0,b.IWorkspaceContextService)],q),t.CallstackAccessibilityProvider=q;var $=function(){function e(e){this.instantiationService=e}return e.prototype.hasActions=function(e,t){return!1},e.prototype.getActions=function(e,t){return i.TPromise.as([])},e.prototype.hasSecondaryActions=function(e,t){return t instanceof I.Variable&&!!t.value},e.prototype.getSecondaryActions=function(e,t){var n=[],r=t;return n.push(this.instantiationService.createInstance(k.SetValueAction,k.SetValueAction.ID,k.SetValueAction.LABEL,r)),n.push(this.instantiationService.createInstance(x.CopyValueAction,x.CopyValueAction.ID,x.CopyValueAction.LABEL,r)),n.push(new u.Separator),n.push(this.instantiationService.createInstance(k.AddToWatchExpressionsAction,k.AddToWatchExpressionsAction.ID,k.AddToWatchExpressionsAction.LABEL,r)),i.TPromise.as(n)},e.prototype.getActionItem=function(e,t,n){return null},e}();t.VariablesActionProvider=$;var Y=function(){function e(){}return e.prototype.getId=function(e,t){return t.getId()},e.prototype.hasChildren=function(e,t){if(t instanceof T.ViewModel||t instanceof I.Scope)return!0;var n=t;return n.hasChildren&&!a.equalsIgnoreCase(n.value,"null")},e.prototype.getChildren=function(e,t){if(t instanceof T.ViewModel){var n=t.focusedStackFrame;return n?n.getScopes():i.TPromise.as([])}return t.getChildren()},e.prototype.getParent=function(e,t){return i.TPromise.as(null)},e}();t.VariablesDataSource=Y;var X=function(){function e(e,t,n){this.debugService=e,this.contextViewService=t,this.themeService=n}return e.prototype.getHeight=function(e,t){return 22},e.prototype.getTemplateId=function(t,n){return n instanceof I.Scope?e.SCOPE_TEMPLATE_ID:n instanceof I.Variable?e.VARIABLE_TEMPLATE_ID:null},e.prototype.renderTemplate=function(t,n,i){if(n===e.SCOPE_TEMPLATE_ID){var r=Object.create(null);return r.name=c.append(i,W(".scope")),r}var o=Object.create(null);return o.expression=c.append(i,W(".expression")),o.name=c.append(o.expression,W("span.name")),o.value=c.append(o.expression,W("span.value")),o},e.prototype.renderElement=function(t,i,r,o){if(r===e.SCOPE_TEMPLATE_ID)this.renderScope(i,o);else{var s=i;s===this.debugService.getViewModel().getSelectedExpression()||s.errorMessage?N(this.debugService,this.contextViewService,this.themeService,t,s,o.expression,{initialValue:s.value,ariaLabel:n.localize(9,null),validationOptions:{validation:function(e){return s.errorMessage?{content:s.errorMessage}:null}}}):M(0,s,o,!0)}},e.prototype.renderScope=function(e,t){t.name.textContent=e.name},e.prototype.disposeTemplate=function(e,t,n){},e}();X.SCOPE_TEMPLATE_ID="scope",X.VARIABLE_TEMPLATE_ID="variable",X=v([y(0,w.IDebugService),y(1,g.IContextViewService),y(2,P.IThemeService)],X),t.VariablesRenderer=X;var Q=function(){function e(){}return e.prototype.getAriaLabel=function(e,t){return t instanceof I.Scope?n.localize(10,null,t.name):t instanceof I.Variable?n.localize(11,null,t.name,t.value):null},e}();t.VariablesAccessibilityProvider=Q;var Z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.onLeftClick=function(t,n,i){if(n instanceof I.Variable&&2===i.detail){var r=n;return this.debugService.getViewModel().setSelectedExpression(r),!0}return e.prototype.onLeftClick.call(this,t,n,i)},t}(H);t.VariablesController=Z;var J=function(){function e(e){this.instantiationService=e}return e.prototype.hasActions=function(e,t){return t instanceof I.Expression&&!!t.name},e.prototype.hasSecondaryActions=function(e,t){return!0},e.prototype.getActions=function(e,t){return i.TPromise.as([])},e.prototype.getSecondaryActions=function(e,t){var n=[];if(t instanceof I.Expression){var r=t;n.push(this.instantiationService.createInstance(k.AddWatchExpressionAction,k.AddWatchExpressionAction.ID,k.AddWatchExpressionAction.LABEL)),n.push(this.instantiationService.createInstance(k.EditWatchExpressionAction,k.EditWatchExpressionAction.ID,k.EditWatchExpressionAction.LABEL)),r.hasChildren||n.push(this.instantiationService.createInstance(x.CopyValueAction,x.CopyValueAction.ID,x.CopyValueAction.LABEL,r.value)),n.push(new u.Separator),n.push(this.instantiationService.createInstance(k.RemoveWatchExpressionAction,k.RemoveWatchExpressionAction.ID,k.RemoveWatchExpressionAction.LABEL)),n.push(this.instantiationService.createInstance(k.RemoveAllWatchExpressionsAction,k.RemoveAllWatchExpressionsAction.ID,k.RemoveAllWatchExpressionsAction.LABEL))}else{if(n.push(this.instantiationService.createInstance(k.AddWatchExpressionAction,k.AddWatchExpressionAction.ID,k.AddWatchExpressionAction.LABEL)),t instanceof I.Variable){var o=t;o.hasChildren||n.push(this.instantiationService.createInstance(x.CopyValueAction,x.CopyValueAction.ID,x.CopyValueAction.LABEL,o.value)),n.push(new u.Separator)}n.push(this.instantiationService.createInstance(k.RemoveAllWatchExpressionsAction,k.RemoveAllWatchExpressionsAction.ID,k.RemoveAllWatchExpressionsAction.LABEL))}return i.TPromise.as(n)},e.prototype.getActionItem=function(e,t,n){return null},e}();t.WatchExpressionsActionProvider=J;var ee=function(){function e(){}return e.prototype.getId=function(e,t){return t.getId()},e.prototype.hasChildren=function(e,t){if(t instanceof I.Model)return!0;var n=t;return n.hasChildren&&!a.equalsIgnoreCase(n.value,"null")},e.prototype.getChildren=function(e,t){return t instanceof I.Model?i.TPromise.as(t.getWatchExpressions()):t.getChildren()},e.prototype.getParent=function(e,t){return i.TPromise.as(null)},e}();t.WatchExpressionsDataSource=ee;var te=function(){function e(e,t,n,i,r){this.actionRunner=t,this.debugService=n,this.contextViewService=i,this.themeService=r,this.toDispose=[],this.actionProvider=e}return e.prototype.getHeight=function(e,t){return 22},e.prototype.getTemplateId=function(t,n){return n instanceof I.Expression?e.WATCH_EXPRESSION_TEMPLATE_ID:e.VARIABLE_TEMPLATE_ID},e.prototype.renderTemplate=function(t,n,i){var r=function(e,t){e.expression=c.append(t,W(".expression")),e.name=c.append(e.expression,W("span.name")),e.value=c.append(e.expression,W("span.value"))};if(n===e.WATCH_EXPRESSION_TEMPLATE_ID){var o=Object.create(null);return o.watchExpression=c.append(i,W(".watch-expression")),r(o,o.watchExpression),o}var s=Object.create(null);return r(s,i),s},e.prototype.renderElement=function(t,n,i,r){i===e.WATCH_EXPRESSION_TEMPLATE_ID?this.renderWatchExpression(t,n,r):M(0,n,r,!0)},e.prototype.renderWatchExpression=function(e,t,i){var r=this.debugService.getViewModel().getSelectedExpression();(r instanceof I.Expression&&r.getId()===t.getId()||t instanceof I.Expression&&!t.name)&&N(this.debugService,this.contextViewService,this.themeService,e,t,i.expression,{initialValue:t.name,placeholder:n.localize(12,null),ariaLabel:n.localize(13,null)}),i.name.textContent=t.name,t.value&&(i.name.textContent+=":",R(t,i.value,{showChanged:!0,maxValueLength:z,preserveWhitespace:!1,showHover:!0}),i.name.title=t.type?t.type:t.value)},e.prototype.disposeTemplate=function(e,t,n){},e.prototype.dispose=function(){this.toDispose=r.dispose(this.toDispose)},e}();te.WATCH_EXPRESSION_TEMPLATE_ID="watchExpression",te.VARIABLE_TEMPLATE_ID="variables",te=v([y(2,w.IDebugService),y(3,g.IContextViewService),y(4,P.IThemeService)],te),t.WatchExpressionsRenderer=te;var ne=function(){function e(){}return e.prototype.getAriaLabel=function(e,t){return t instanceof I.Expression?n.localize(14,null,t.name,t.value):t instanceof I.Variable?n.localize(15,null,t.name,t.value):null},e}();t.WatchExpressionsAccessibilityProvider=ne;var ie=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.onLeftClick=function(t,n,i){if(n instanceof I.Expression&&2===i.detail){var r=n;return this.debugService.getViewModel().setSelectedExpression(r),!0}return e.prototype.onLeftClick.call(this,t,n,i)},t}(H);t.WatchExpressionsController=ie;var re=function(e){function t(t){var n=e.call(this)||this;return n.debugService=t,n}return h(t,e),t.prototype.getDragURI=function(e,t){return t instanceof I.Expression?t.getId():null},t.prototype.getDragLabel=function(e,t){return t.length>1?String(t.length):t[0].name},t.prototype.onDragOver=function(e,t,n,i){return n instanceof I.Expression||n instanceof I.Model?{accept:!0,autoExpand:!1}:d.DRAG_OVER_REJECT},t.prototype.drop=function(e,t,n,i){var r=t.getData();if(Array.isArray(r)){var o=r[0],s=this.debugService.getModel().getWatchExpressions(),a=n instanceof I.Model?s.length-1:s.indexOf(n);this.debugService.moveWatchExpression(o.getId(),a)}},t}(f.DefaultDragAndDrop);re=v([y(0,w.IDebugService)],re),t.WatchExpressionsDragAndDrop=re;var oe=function(){function e(e,t){this.instantiationService=e,this.debugService=t}return e.prototype.hasActions=function(e,t){return!1},e.prototype.hasSecondaryActions=function(e,t){return t instanceof I.Breakpoint||t instanceof I.ExceptionBreakpoint||t instanceof I.FunctionBreakpoint},e.prototype.getActions=function(e,t){return i.TPromise.as([])},e.prototype.getSecondaryActions=function(e,t){var n=[];return(t instanceof I.Breakpoint||t instanceof I.FunctionBreakpoint)&&n.push(this.instantiationService.createInstance(k.RemoveBreakpointAction,k.RemoveBreakpointAction.ID,k.RemoveBreakpointAction.LABEL)),this.debugService.getModel().getBreakpoints().length+this.debugService.getModel().getFunctionBreakpoints().length>1&&(n.push(this.instantiationService.createInstance(k.RemoveAllBreakpointsAction,k.RemoveAllBreakpointsAction.ID,k.RemoveAllBreakpointsAction.LABEL)),n.push(new u.Separator),n.push(this.instantiationService.createInstance(k.EnableAllBreakpointsAction,k.EnableAllBreakpointsAction.ID,k.EnableAllBreakpointsAction.LABEL)),n.push(this.instantiationService.createInstance(k.DisableAllBreakpointsAction,k.DisableAllBreakpointsAction.ID,k.DisableAllBreakpointsAction.LABEL))),n.push(new u.Separator),n.push(this.instantiationService.createInstance(k.ReapplyBreakpointsAction,k.ReapplyBreakpointsAction.ID,k.ReapplyBreakpointsAction.LABEL)),i.TPromise.as(n)},e.prototype.getActionItem=function(e,t,n){return null},e}();t.BreakpointsActionProvider=oe;var se=function(){function e(){}return e.prototype.getId=function(e,t){return t.getId()},e.prototype.hasChildren=function(e,t){return t instanceof I.Model},e.prototype.getChildren=function(e,t){var n=t,r=n.getExceptionBreakpoints();return i.TPromise.as(r.concat(n.getFunctionBreakpoints()).concat(n.getBreakpoints()))},e.prototype.getParent=function(e,t){return i.TPromise.as(null)},e}();t.BreakpointsDataSource=se;var ae=function(){function e(e,t,n,i,r,o,s){this.actionProvider=e,this.actionRunner=t,this.contextService=n,this.debugService=i,this.contextViewService=r,this.themeService=o,this.environmentService=s}return e.prototype.getHeight=function(e,t){return 22},e.prototype.getTemplateId=function(t,n){return n instanceof I.Breakpoint?e.BREAKPOINT_TEMPLATE_ID:n instanceof I.FunctionBreakpoint?e.FUNCTION_BREAKPOINT_TEMPLATE_ID:n instanceof I.ExceptionBreakpoint?e.EXCEPTION_BREAKPOINT_TEMPLATE_ID:null},e.prototype.renderTemplate=function(t,n,i){var r=this,o=Object.create(null);if(o.breakpoint=c.append(i,W(".breakpoint")),o.checkbox=W("input"),o.checkbox.type="checkbox",o.toDispose=[],o.toDispose.push(c.addStandardDisposableListener(o.checkbox,"change",function(e){r.debugService.enableOrDisableBreakpoints(!o.context.enabled,o.context)})),c.append(o.breakpoint,o.checkbox),o.name=c.append(o.breakpoint,W("span.name")),n===e.BREAKPOINT_TEMPLATE_ID){o.filePath=c.append(o.breakpoint,W("span.file-path"));var s=c.append(o.breakpoint,W(".line-number-container"));o.lineNumber=c.append(s,W("span.line-number"))}return n===e.EXCEPTION_BREAKPOINT_TEMPLATE_ID&&c.addClass(o.breakpoint,"exception"),o},e.prototype.renderElement=function(t,n,i,r){r.context=n,i===e.EXCEPTION_BREAKPOINT_TEMPLATE_ID?this.renderExceptionBreakpoint(n,r):i===e.FUNCTION_BREAKPOINT_TEMPLATE_ID?this.renderFunctionBreakpoint(t,n,r):this.renderBreakpoint(t,n,r)},e.prototype.renderExceptionBreakpoint=function(e,t){t.name.textContent=e.label||e.filter+" exceptions",t.breakpoint.title=t.name.textContent,t.checkbox.checked=e.enabled},e.prototype.renderFunctionBreakpoint=function(e,t,i){var r=this.debugService.getViewModel().getSelectedFunctionBreakpoint();if(!t.name||r&&r.getId()===t.getId())i.name.textContent="",N(this.debugService,this.contextViewService,this.themeService,e,t,i.breakpoint,{initialValue:t.name,placeholder:n.localize(16,null),ariaLabel:n.localize(17,null)});else{i.name.textContent=t.name,i.checkbox.checked=t.enabled,i.breakpoint.title=t.name;var o=this.debugService.getViewModel().focusedProcess;o&&!o.session.capabilities.supportsFunctionBreakpoints||!this.debugService.getModel().areBreakpointsActivated()?(e.addTraits("disabled",[t]),o&&!o.session.capabilities.supportsFunctionBreakpoints&&(i.breakpoint.title=n.localize(18,null))):e.removeTraits("disabled",[t])}},e.prototype.renderBreakpoint=function(e,t,n){this.debugService.getModel().areBreakpointsActivated()?e.removeTraits("disabled",[t]):e.addTraits("disabled",[t]),n.name.textContent=o.basename(l.getPathLabel(t.uri,this.contextService)),n.lineNumber.textContent=t.lineNumber.toString(),t.column&&(n.lineNumber.textContent+=":"+t.column),n.filePath.textContent=l.getPathLabel(o.dirname(t.uri.fsPath),this.contextService,this.environmentService),n.checkbox.checked=t.enabled,(this.debugService.state===w.State.Running||this.debugService.state===w.State.Stopped||this.debugService.state===w.State.Initializing)&&!t.verified?(e.addTraits("disabled",[t]),t.message&&(n.breakpoint.title=t.message)):(t.condition||t.hitCondition)&&(n.breakpoint.title=t.condition?t.condition:t.hitCondition)},e.prototype.disposeTemplate=function(e,t,n){r.dispose(n.toDispose)},e}();ae.EXCEPTION_BREAKPOINT_TEMPLATE_ID="exceptionBreakpoint",ae.FUNCTION_BREAKPOINT_TEMPLATE_ID="functionBreakpoint",ae.BREAKPOINT_TEMPLATE_ID="breakpoint",ae=v([y(2,b.IWorkspaceContextService),y(3,w.IDebugService),y(4,g.IContextViewService),y(5,P.IThemeService),y(6,D.IEnvironmentService)],ae),t.BreakpointsRenderer=ae;var ce=function(){function e(e){this.contextService=e}return e.prototype.getAriaLabel=function(e,t){return t instanceof I.Breakpoint?n.localize(19,null,t.lineNumber,l.getPathLabel(o.basename(t.uri.fsPath),this.contextService),this.contextService):t instanceof I.FunctionBreakpoint?n.localize(20,null,t.name):t instanceof I.ExceptionBreakpoint?n.localize(21,null,t.filter):null},e}();ce=v([y(0,b.IWorkspaceContextService)],ce),t.BreakpointsAccessibilityProvider=ce;var le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.onLeftClick=function(t,n,i){return n instanceof I.FunctionBreakpoint&&2===i.detail?(this.debugService.getViewModel().setSelectedFunctionBreakpoint(n),!0):n instanceof I.Breakpoint?(e.prototype.onLeftClick.call(this,t,n,i),this.openBreakpointSource(n,i,2!==i.detail),!0):e.prototype.onLeftClick.call(this,t,n,i)},t.prototype.openBreakpointSource=function(e,t,n){var i=t&&(t.ctrlKey||t.metaKey),r=e.endLineNumber?{startLineNumber:e.lineNumber,endLineNumber:e.endLineNumber,startColumn:e.column,endColumn:e.endColumn}:{startLineNumber:e.lineNumber,startColumn:e.column||1,endLineNumber:e.lineNumber,endColumn:e.column||1073741824};this.editorService.openEditor({resource:e.uri,options:{preserveFocus:n,selection:r,revealIfVisible:!0,revealInCenterIfOutsideViewport:!0,pinned:!n}},i).done(void 0,s.onUnexpectedError)},t}(H);t.BreakpointsController=le}),define(u[1142],d([1,0,572,5,4,113,9,128,121,14,73,162,311,127,55,29]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m=s.$,y=function(){function e(e,t,n,i,r){this.editor=e,this.debugService=t,this.listService=n,this.themeService=r,this.allowEditorOverflow=!0,this.toDispose=[],this.create(i),this.registerListeners(),this.valueContainer=m(".value"),this.valueContainer.tabIndex=0,this.valueContainer.setAttribute("role","tooltip"),this.scrollbar=new f.DomScrollableElement(this.valueContainer,{horizontal:o.ScrollbarVisibility.Hidden}),this.domNode.appendChild(this.scrollbar.getDomNode()),this.toDispose.push(this.scrollbar),this._isVisible=!1,this.showAtPosition=null,this.highlightDecorations=[],this.editor.addContentWidget(this),this.editor.applyFontInfo(this.domNode)}return e.prototype.create=function(e){var t=this;this.domNode=m(".debug-hover-widget"),this.complexValueContainer=s.append(this.domNode,m(".complex-value")),this.complexValueTitle=s.append(this.complexValueContainer,m(".title")),this.treeContainer=s.append(this.complexValueContainer,m(".debug-hover-tree")),this.treeContainer.setAttribute("role","tree"),this.tree=new a.Tree(this.treeContainer,{dataSource:new p.VariablesDataSource,renderer:e.createInstance(S),controller:new b(this.editor)},{indentPixels:6,twistiePixels:15,ariaLabel:n.localize(0,null),keyboardSupport:!1}),this.toDispose.push(g.attachListStyler(this.tree,this.themeService)),this.toDispose.push(this.listService.register(this.tree)),this.toDispose.push(g.attachStylerCallback(this.themeService,{editorHoverBackground:v.editorHoverBackground,editorHoverBorder:v.editorHoverBorder},function(e){t.domNode.style.backgroundColor=e.editorHoverBackground,e.editorHoverBorder?t.domNode.style.border="1px solid "+e.editorHoverBorder:t.domNode.style.border=null}))},e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.tree.addListener("item:expanded",function(){e.layoutTree()})),this.toDispose.push(this.tree.addListener("item:collapsed",function(){e.layoutTree()})),this.toDispose.push(s.addStandardDisposableListener(this.domNode,"keydown",function(t){t.equals(9)&&e.hide()})),this.toDispose.push(this.editor.onDidChangeConfiguration(function(t){t.fontInfo&&e.editor.applyFontInfo(e.domNode)}))},e.prototype.isVisible=function(){return this._isVisible},e.prototype.getId=function(){return e.ID},e.prototype.getDomNode=function(){return this.domNode},e.prototype.getExactExpressionRange=function(e,t){for(var n=void 0,i=0,r=/([^()\[\]{}<>\s+\-/%~#^;=|,`!]|\->)+/g,o=void 0;o=r.exec(e);){var s=o.index+1,a=s+o[0].length;if(s<=t.startColumn&&a>=t.endColumn){n=o[0],i=s;break}}if(n){for(var c=/\w+/g,u=void 0;(u=c.exec(n))&&!(u.index+1+i+u[0].length>=t.endColumn););u&&(n=n.substring(0,c.lastIndex))}return n?new l.Range(t.startLineNumber,i,t.endLineNumber,i+n.length-1):new l.Range(t.startLineNumber,0,t.endLineNumber,0)},e.prototype.showAt=function(e,t){var n=this,i=e.getStartPosition(),o=this.debugService.getViewModel().focusedProcess,s=this.editor.getModel().getLineContent(i.lineNumber),a=this.getExactExpressionRange(s,e),c=s.substring(a.startColumn-1,a.endColumn);if(!c)return r.TPromise.as(this.hide());var u;if(o.session.capabilities.supportsEvaluateForHovers){var h=new d.Expression(c);u=h.evaluate(o,this.debugService.getViewModel().focusedStackFrame,"hover").then(function(){return h})}else u=this.findExpressionInStackFrame(c.split(".").map(function(e){return e.trim()}).filter(function(e){return!!e}),a);return u.then(function(e){if(!(!e||e instanceof d.Expression&&!e.available))return n.highlightDecorations=n.editor.deltaDecorations(n.highlightDecorations,[{range:new l.Range(i.lineNumber,a.startColumn,i.lineNumber,a.startColumn+c.length),options:{className:"hoverHighlight"}}]),n.doShow(i,e,t);n.hide()})},e.prototype.doFindExpression=function(e,t){var n=this;return e?e.getChildren().then(function(e){var i=e.filter(function(e){return t[0]===e.name});return 1!==i.length?null:1===t.length?i[0]:n.doFindExpression(i[0],t.slice(1))}):r.TPromise.as(null)},e.prototype.findExpressionInStackFrame=function(e,t){var n=this;return this.debugService.getViewModel().focusedStackFrame.getMostSpecificScopes(t).then(function(t){return r.TPromise.join(t.map(function(t){return n.doFindExpression(t,e)}))}).then(function(e){return e.filter(function(e){return!!e})}).then(function(e){return e.length>0&&e.every(function(t){return t.value===e[0].value})?e[0]:null})},e.prototype.doShow=function(e,t,n,i){var o=this;return void 0===i&&(i=!1),this.showAtPosition=e,this._isVisible=!0,this.stoleFocus=n,!t.hasChildren||i?(this.complexValueContainer.hidden=!0,this.valueContainer.hidden=!1,p.renderExpressionValue(t,this.valueContainer,{showChanged:!1,preserveWhitespace:!0}),this.scrollbar.scanDomNode(),this.valueContainer.title="",this.editor.layoutContentWidget(this),n&&(this.editor.render(),this.valueContainer.focus()),r.TPromise.as(null)):(this.valueContainer.hidden=!0,this.complexValueContainer.hidden=!1,this.scrollbar.scanDomNode(),this.tree.setInput(t).then(function(){o.complexValueTitle.textContent=t.value,o.complexValueTitle.title=t.value,o.layoutTree(),o.editor.layoutContentWidget(o),n&&(o.editor.render(),o.tree.DOMFocus())}))},e.prototype.layoutTree=function(){for(var e=this.tree.getNavigator(),t=0;e.next();)t++;if(0===t)this.doShow(this.showAtPosition,this.tree.getInput(),!1,!0);else{var n=18*Math.min(t,18);this.treeContainer.clientHeight!==n&&(this.treeContainer.style.height=n+"px",this.tree.layout())}},e.prototype.hide=function(){this._isVisible&&(this._isVisible=!1,this.editor.deltaDecorations(this.highlightDecorations,[]),this.highlightDecorations=[],this.editor.layoutContentWidget(this),this.stoleFocus&&this.editor.focus())},e.prototype.getPosition=function(){return this._isVisible?{position:this.showAtPosition,preference:[u.ContentWidgetPositionPreference.ABOVE,u.ContentWidgetPositionPreference.BELOW]}:null},e.prototype.dispose=function(){this.toDispose=i.dispose(this.toDispose)},e}();y.ID="debug.hoverWidget",t.DebugHoverWidget=y;var b=function(e){function t(t){var n=e.call(this,{clickBehavior:c.ClickBehavior.ON_MOUSE_UP,keyboardSupport:!1})||this;return n.editor=t,n}return h(t,e),t.prototype.onLeftClick=function(t,n,i,r){return void 0===r&&(r="mouse"),n.reference>0&&(e.prototype.onLeftClick.call(this,t,n,i,r),t.clearFocus(),t.deselect(n),this.editor.focus()),!0},t}(c.DefaultController),S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.getHeight=function(e,t){return 18},t}(p.VariablesRenderer)}),define(u[1143],d([1,0,571,7,4,18,5,11,94,21,188,73,68,33,56,14,6,19,23,32,17,41,1142,134,67,969,1084,207,90,13,37,184,34]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A,L,P,D,O,R){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var M=300,N=/launch\.json$/,F=100,W="inlinevaluedecoration",B=V=function(){function e(e,t,n,i,r,s,a,c,l,u,d){var h=this;this.editor=e,this.debugService=t,this.contextMenuService=n,this.instantiationService=i,this.commandService=s,this.codeEditorService=a,this.telemetryService=c,this.configurationService=u,this.breakpointHintDecoration=[],this.hoverWidget=new w.DebugHoverWidget(this.editor,this.debugService,l,this.instantiationService,d),this.toDispose=[],this.showHoverScheduler=new o.RunOnceScheduler(function(){return h.showHover(h.hoverRange,!1)},M),this.hideHoverScheduler=new o.RunOnceScheduler(function(){return h.hoverWidget.hide()},M),this.removeInlineValuesScheduler=new o.RunOnceScheduler(function(){return h.editor.removeDecorations(W)},F),this.registerListeners(),this.breakpointWidgetVisible=T.CONTEXT_BREAKPOINT_WIDGET_VISIBLE.bindTo(r),this.updateConfigurationWidgetVisibility(),this.codeEditorService.registerDecorationType(W,{}),this.toggleExceptionWidget()}return e.prototype.getContextMenuActions=function(e,t,i){var o=this,s=[];if(1===e.length)s.push(this.instantiationService.createInstance(I.RemoveBreakpointAction,I.RemoveBreakpointAction.ID,I.RemoveBreakpointAction.LABEL)),s.push(this.instantiationService.createInstance(I.EditConditionalBreakpointAction,I.EditConditionalBreakpointAction.ID,I.EditConditionalBreakpointAction.LABEL,this.editor)),e[0].enabled?s.push(this.instantiationService.createInstance(I.DisableBreakpointAction,I.DisableBreakpointAction.ID,I.DisableBreakpointAction.LABEL)):s.push(this.instantiationService.createInstance(I.EnableBreakpointAction,I.EnableBreakpointAction.ID,I.EnableBreakpointAction.LABEL));else if(e.length>1){var a=e.sort(function(e,t){return e.column-t.column});s.push(new C.ContextSubMenu(n.localize(0,null),a.map(function(e){return new l.Action("removeColumnBreakpoint",e.column?n.localize(1,null,e.column):n.localize(2,null),null,!0,function(){return o.debugService.removeBreakpoints(e.getId())})}))),s.push(new C.ContextSubMenu(n.localize(3,null),a.map(function(e){return new l.Action("editBreakpoint",e.column?n.localize(4,null,e.column):n.localize(5,null),null,!0,function(){return r.TPromise.as(o.editor.getContribution(T.EDITOR_CONTRIBUTION_ID).showBreakpointWidget(e.lineNumber,e.column))})}))),s.push(new C.ContextSubMenu(n.localize(6,null),a.map(function(e){return new l.Action(e.enabled?"disableColumnBreakpoint":"enableColumnBreakpoint",e.enabled?e.column?n.localize(7,null,e.column):n.localize(8,null):e.column?n.localize(9,null,e.column):n.localize(10,null),null,!0,function(){return o.debugService.enableOrDisableBreakpoints(!e.enabled,e)})})))}else s.push(new l.Action("addBreakpoint",n.localize(11,null),null,!0,function(){return o.debugService.addBreakpoints(t,[{lineNumber:i}])})),s.push(this.instantiationService.createInstance(I.AddConditionalBreakpointAction,I.AddConditionalBreakpointAction.ID,I.AddConditionalBreakpointAction.LABEL,this.editor,i));return r.TPromise.as(s)},e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.editor.onMouseDown(function(t){if(t.target.type===d.MouseTargetType.GUTTER_GLYPH_MARGIN&&!t.target.detail&&e.marginFreeFromNonDebugDecorations(t.target.position.lineNumber)){var n=e.debugService.getConfigurationManager().canSetBreakpointsIn(e.editor.getModel()),i=t.target.position.lineNumber,r=e.editor.getModel().uri;if(t.event.rightButton||a.isMacintosh&&t.event.leftButton&&t.event.ctrlKey){if(!n)return;var o={x:t.event.posx+1,y:t.event.posy},s=e.debugService.getModel().getBreakpoints().filter(function(e){return e.lineNumber===i&&e.uri.toString()===r.toString()});e.contextMenuService.showContextMenu({getAnchor:function(){return o},getActions:function(){return e.getContextMenuActions(s,r,i)},getActionsContext:function(){return s.length?s[0]:void 0}})}else{var c=e.debugService.getModel().getBreakpoints().filter(function(e){return e.uri.toString()===r.toString()&&e.lineNumber===i});c.length?c.forEach(function(t){return e.debugService.removeBreakpoints(t.getId())}):n&&e.debugService.addBreakpoints(r,[{lineNumber:i}])}}})),this.toDispose.push(this.editor.onMouseMove(function(t){var n=-1;t.target.type===d.MouseTargetType.GUTTER_GLYPH_MARGIN&&e.debugService.getConfigurationManager().canSetBreakpointsIn(e.editor.getModel())&&e.marginFreeFromNonDebugDecorations(t.target.position.lineNumber)&&(t.target.detail||(n=t.target.position.lineNumber)),e.ensureBreakpointHintDecoration(n)})),this.toDispose.push(this.editor.onMouseLeave(function(t){e.ensureBreakpointHintDecoration(-1)})),this.toDispose.push(this.debugService.getViewModel().onDidFocusStackFrame(function(t){return e.onFocusStackFrame(t)})),this.toDispose.push(this.editor.onMouseDown(function(t){return e.onEditorMouseDown(t)})),this.toDispose.push(this.editor.onMouseMove(function(t){return e.onEditorMouseMove(t)})),this.toDispose.push(this.editor.onMouseLeave(function(t){var n=e.hoverWidget.getDomNode().getBoundingClientRect();(t.event.posx<n.left||t.event.posx>n.right||t.event.posy<n.top||t.event.posy>n.bottom)&&e.hideHoverWidget()})),this.toDispose.push(this.editor.onKeyDown(function(t){return e.onKeyDown(t)})),this.toDispose.push(this.editor.onDidChangeModelContent(function(){e.wordToLineNumbersMap=null})),this.toDispose.push(this.editor.onDidChangeModel(function(){var t=e.debugService.getViewModel().focusedStackFrame,n=e.editor.getModel();e.editor.updateOptions({hover:!t||!n||n.uri.toString()!==t.source.uri.toString()}),e.closeBreakpointWidget(),e.toggleExceptionWidget(),e.hideHoverWidget(),e.updateConfigurationWidgetVisibility(),e.wordToLineNumbersMap=null,e.updateInlineDecorations(t)})),this.toDispose.push(this.editor.onDidScrollChange(function(){return e.hideHoverWidget})),this.toDispose.push(this.debugService.onDidChangeState(function(t){t!==T.State.Stopped&&e.toggleExceptionWidget()}))},e.prototype.getId=function(){return T.EDITOR_CONTRIBUTION_ID},e.prototype.showHover=function(e,t){var n=this.debugService.getViewModel().focusedStackFrame,i=this.editor.getModel();if(n&&i&&n.source.uri.toString()===i.uri.toString())return this.hoverWidget.showAt(e,t)},e.prototype.marginFreeFromNonDebugDecorations=function(e){var t=this.editor.getLineDecorations(e);if(t)for(var n=0,i=t;n<i.length;n++){var r=i[n].options;if(r.glyphMarginClassName&&-1===r.glyphMarginClassName.indexOf("debug"))return!1}return!0},e.prototype.ensureBreakpointHintDecoration=function(e){var t=[];-1!==e&&t.push({options:V.BREAKPOINT_HELPER_DECORATION,range:{startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1}}),this.breakpointHintDecoration=this.editor.deltaDecorations(this.breakpointHintDecoration,t)},e.prototype.onFocusStackFrame=function(e){var t=this.editor.getModel();t&&e&&e.source.uri.toString()===t.uri.toString()?(this.editor.updateOptions({hover:!1}),this.toggleExceptionWidget()):(this.editor.updateOptions({hover:!0}),this.hideHoverWidget()),this.updateInlineDecorations(e)},e.prototype.hideHoverWidget=function(){!this.hideHoverScheduler.isScheduled()&&this.hoverWidget.isVisible()&&this.hideHoverScheduler.schedule(),this.showHoverScheduler.cancel()},e.prototype.onEditorMouseDown=function(e){e.target.type===d.MouseTargetType.CONTENT_WIDGET&&e.target.detail===w.DebugHoverWidget.ID||this.hideHoverWidget()},e.prototype.onEditorMouseMove=function(e){if(this.debugService.state===T.State.Stopped){var t=e.target.type,n=a.isMacintosh?"metaKey":"ctrlKey";(t!==d.MouseTargetType.CONTENT_WIDGET||e.target.detail!==w.DebugHoverWidget.ID||e.event[n])&&(t===d.MouseTargetType.CONTENT_TEXT?e.target.range.equalsRange(this.hoverRange)||(this.hoverRange=e.target.range,this.showHoverScheduler.schedule()):this.hideHoverWidget())}},e.prototype.onKeyDown=function(e){var t=a.isMacintosh?57:5;e.keyCode!==t&&this.hideHoverWidget()},e.prototype.showBreakpointWidget=function(e,t){this.breakpointWidget&&this.breakpointWidget.dispose(),this.breakpointWidget=this.instantiationService.createInstance(k.BreakpointWidget,this.editor,e,t),this.breakpointWidget.show({lineNumber:e,column:1},2),this.breakpointWidgetVisible.set(!0)},e.prototype.closeBreakpointWidget=function(){this.breakpointWidget&&(this.breakpointWidget.dispose(),this.breakpointWidget=null,this.breakpointWidgetVisible.reset(),this.editor.focus())},e.prototype.toggleExceptionWidget=function(){var e=this,t=this.editor.getModel(),n=this.debugService.getViewModel().focusedStackFrame,i=n?n.thread.getCallStack():null;if(t&&n&&i&&0!==i.length){var r=R.first(i,function(e){return e.source&&e.source.available},void 0);if(r){var o=r.source.uri.toString()===t.uri.toString();this.exceptionWidget&&!o?this.closeExceptionWidget():o&&n.thread.exceptionInfo.then(function(t){t&&r.range.startLineNumber&&r.range.startColumn&&e.showExceptionWidget(t,r.range.startLineNumber,r.range.startColumn)})}else this.closeExceptionWidget()}else this.closeExceptionWidget()},e.prototype.showExceptionWidget=function(e,t,n){this.exceptionWidget&&this.exceptionWidget.dispose(),this.exceptionWidget=this.instantiationService.createInstance(x.ExceptionWidget,this.editor,e,t),this.exceptionWidget.show({lineNumber:t,column:n},0)},e.prototype.closeExceptionWidget=function(){this.exceptionWidget&&(this.exceptionWidget.dispose(),this.exceptionWidget=null)},e.prototype.updateConfigurationWidgetVisibility=function(){var e=this,t=this.editor.getModel();t&&N.test(t.uri.toString())?(this.configurationWidget=this.instantiationService.createInstance(A.FloatingClickWidget,this.editor,n.localize(12,null),null),this.configurationWidget.render(),this.toDispose.push(this.configurationWidget.onClick(function(){return e.addLaunchConfiguration().done(void 0,i.onUnexpectedError)}))):this.configurationWidget&&this.configurationWidget.dispose()},e.prototype.addLaunchConfiguration=function(){var e=this;this.telemetryService.publicLog("debug/addLaunchConfiguration");var t,n,i=this.editor.getModel(),o=0;if(c.visit(i.getValue(),{onObjectProperty:function(e,t,i){n=e},onArrayBegin:function(e,r){"configurations"===n&&0===o&&(t=i.getPositionAt(e+1)),o++},onArrayEnd:function(){o--}}),this.editor.focus(),!t)return this.commandService.executeCommand("editor.action.triggerSuggest");return function(t){return e.editor.getModel().getLineLastNonWhitespaceColumn(t.lineNumber)>t.column&&(e.editor.setPosition(t),O.CoreEditingCommands.LineBreakInsert.runEditorCommand(null,e.editor,null)),0===e.editor.getModel().getLineLastNonWhitespaceColumn(t.lineNumber+1)?(e.editor.setPosition({lineNumber:t.lineNumber+1,column:1073741824}),r.TPromise.as(null)):(e.editor.setPosition(t),e.commandService.executeCommand("editor.action.insertLineAfter"))}(t).then(function(){return e.commandService.executeCommand("editor.action.triggerSuggest")})},e.prototype.updateInlineDecorations=function(e){var t=this,n=this.editor.getModel();this.configurationService.getConfiguration("debug").inlineValues&&n&&e&&n.uri.toString()===e.source.uri.toString()?(this.removeInlineValuesScheduler.cancel(),e.getMostSpecificScopes(e.range).then(function(n){return r.TPromise.join(n.map(function(n){return n.getChildren().then(function(i){var r=new g.Range(0,0,e.range.startLineNumber,e.range.startColumn);return n.range&&(r=r.setStartPosition(n.range.startLineNumber,n.range.startColumn)),t.createInlineValueDecorationsInsideRange(i,r)})})).then(function(e){var n=e.reduce(function(e,t){return e.concat(t)},[]);t.editor.setDecorations(W,n)})})):this.removeInlineValuesScheduler.isScheduled()||this.removeInlineValuesScheduler.schedule()},e.prototype.createInlineValueDecorationsInsideRange=function(e,t){for(var n=this,i=new Map,r=0,o=e;r<o.length;r++){var s=o[r];if(i.set(s.name,s.value),i.size>=100)break}var a=new Map,c=this.getWordToPositionsMap();i.forEach(function(e,n){if(c.has(n))for(var i=0,r=c.get(n);i<r.length;i++){var o=r[i];t.containsPosition(o)&&(a.has(o.lineNumber)||a.set(o.lineNumber,[]),-1===a.get(o.lineNumber).indexOf(n)&&a.get(o.lineNumber).push(n))}});var l=[];return a.forEach(function(e,t){var r=e.sort(function(e,i){var r=n.editor.getModel().getLineContent(t);return r.indexOf(e)-r.indexOf(i)}).map(function(e){return e+" = "+i.get(e)}).join(", ");l.push(n.createInlineValueDecoration(t,r))}),l},e.prototype.createInlineValueDecoration=function(e,t){return t.length>150&&(t=t.substr(0,150)+"..."),{range:{startLineNumber:e,endLineNumber:e,startColumn:1073741824,endColumn:1073741824},renderOptions:{after:{contentText:t,backgroundColor:"rgba(255, 200, 0, 0.2)",margin:"10px"},dark:{after:{color:"rgba(255, 255, 255, 0.5)"}},light:{after:{color:"rgba(0, 0, 0, 0.5)"}}}}},e.prototype.getWordToPositionsMap=function(){if(!this.wordToLineNumbersMap){this.wordToLineNumbersMap=new Map;for(var e=this.editor.getModel(),t=1,n=e.getLineCount();t<=n;++t){var i=e.getLineContent(t);if(!(i.length>500)){e.forceTokenization(t);for(var r=e.getLineTokens(t).firstToken();r;r=r.next()){var o=i.substring(r.startOffset,r.endOffset);if(0===r.tokenType){u.DEFAULT_WORD_REGEXP.lastIndex=0;var s=u.DEFAULT_WORD_REGEXP.exec(o);if(s){var a=s[0];this.wordToLineNumbersMap.has(a)||this.wordToLineNumbersMap.set(a,[]),this.wordToLineNumbersMap.get(a).push(new D.Position(t,r.startOffset))}}}}}}return this.wordToLineNumbersMap},e.prototype.dispose=function(){this.breakpointWidget&&this.breakpointWidget.dispose(),this.hoverWidget&&this.hoverWidget.dispose(),this.configurationWidget&&this.configurationWidget.dispose(),this.toDispose=s.dispose(this.toDispose)},e}();B.BREAKPOINT_HELPER_DECORATION={glyphMarginClassName:"debug-breakpoint-hint-glyph",stickiness:p.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},B=V=v([h.editorContribution,y(1,T.IDebugService),y(2,C.IContextMenuService),y(3,m.IInstantiationService),y(4,E.IContextKeyService),y(5,_.ICommandService),y(6,f.ICodeEditorService),y(7,b.ITelemetryService),y(8,L.IListService),y(9,S.IConfigurationService),y(10,P.IThemeService)],B),t.DebugEditorContribution=B;var V}),define(u[1144],d([1,0,579,4,12,9,36,162,311,134,328,6,22,366]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=o.$,m=function(){function e(){}return e.prototype.getId=function(e,t){return t.getId()},e.prototype.hasChildren=function(e,t){return t instanceof a.Model||t.hasChildren},e.prototype.getChildren=function(e,t){return t instanceof a.Model?i.TPromise.as(t.getReplElements()):t instanceof a.OutputNameValueElement?i.TPromise.as(t.getChildren()):t instanceof a.OutputElement?i.TPromise.as(null):t.getChildren()},e.prototype.getParent=function(e,t){return i.TPromise.as(null)},e}();t.ReplExpressionsDataSource=m;var b=function(){function e(e,t){this.editorService=e,this.instantiationService=t,this.linkDetector=this.instantiationService.createInstance(f.LinkDetector)}return e.prototype.getHeight=function(t,n){return n instanceof a.Variable&&(n.hasChildren||null!==n.name)?e.LINE_HEIGHT_PX:n instanceof a.Expression&&n.hasChildren?2*e.LINE_HEIGHT_PX:this.getHeightForString(n.value)+(n instanceof a.Expression?this.getHeightForString(n.name):0)},e.prototype.getHeightForString=function(t){var n=this;if(!t||!t.length||!this.width||this.width<=0||!this.characterWidth||this.characterWidth<=0)return e.LINE_HEIGHT_PX;r.endsWith(t,"\n")&&(t=t.substr(0,t.length-1));var i=r.removeAnsiEscapeCodes(t).split("\n"),o=i.reduce(function(e,t){for(var i=0,o=0;o<t.length;o++)i+=r.isFullWidthCharacter(t.charCodeAt(o))?2:1;return e+Math.floor(i*n.characterWidth/n.width)},i.length);return e.LINE_HEIGHT_PX*o},e.prototype.setWidth=function(e,t){this.width=e,this.characterWidth=t},e.prototype.getTemplateId=function(t,n){return n instanceof a.Variable&&n.name?e.VARIABLE_TEMPLATE_ID:n instanceof a.Expression?e.EXPRESSION_TEMPLATE_ID:n instanceof a.OutputElement||n instanceof a.Variable&&!n.name?e.VALUE_OUTPUT_TEMPLATE_ID:n instanceof a.OutputNameValueElement?e.NAME_VALUE_OUTPUT_TEMPLATE_ID:null},e.prototype.renderTemplate=function(t,n,i){if(n===e.VARIABLE_TEMPLATE_ID)return(s=Object.create(null)).expression=o.append(i,g(".expression")),s.name=o.append(s.expression,g("span.name")),s.value=o.append(s.expression,g("span.value")),s;if(n===e.EXPRESSION_TEMPLATE_ID){s=Object.create(null);return o.addClass(i,"input-output-pair"),s.input=o.append(i,g(".input.expression")),s.output=o.append(i,g(".output.expression")),s.value=o.append(s.output,g("span.value")),s.annotation=o.append(s.output,g("span")),s}if(n===e.VALUE_OUTPUT_TEMPLATE_ID){s=Object.create(null);o.addClass(i,"output");var r=o.append(i,g(".output.expression"));return s.container=i,s.value=o.append(r,g("span.value")),s}if(n===e.NAME_VALUE_OUTPUT_TEMPLATE_ID){var s=Object.create(null);return o.addClass(i,"output"),s.container=i,s.expression=o.append(i,g(".output.expression")),s.name=o.append(s.expression,g("span.name")),s.value=o.append(s.expression,g("span.value")),s.annotation=o.append(s.expression,g("span")),s}},e.prototype.renderElement=function(t,n,i,r){i===e.VARIABLE_TEMPLATE_ID?c.renderVariable(t,n,r,!1):i===e.EXPRESSION_TEMPLATE_ID?this.renderExpression(t,n,r):i===e.VALUE_OUTPUT_TEMPLATE_ID?this.renderOutputValue(n,r):i===e.NAME_VALUE_OUTPUT_TEMPLATE_ID&&this.renderOutputNameValue(t,n,r)},e.prototype.renderExpression=function(e,t,i){i.input.textContent=t.name,c.renderExpressionValue(t,i.value,{preserveWhitespace:!t.hasChildren,showHover:!1}),t.hasChildren&&(i.annotation.className="annotation octicon octicon-info",i.annotation.title=n.localize(0,null))},e.prototype.renderOutputValue=function(e,t){o.clearNode(t.value),t.value.className="";var n=this.handleANSIOutput(e.value);"string"==typeof n?c.renderExpressionValue(n,t.value,{preserveWhitespace:!0,showHover:!1}):t.value.appendChild(n),o.addClass(t.value,e.severity===s.default.Warning?"warn":e.severity===s.default.Error?"error":"info")},e.prototype.renderOutputNameValue=function(e,t,n){t.name?n.name.textContent=t.name+":":n.name.textContent="",c.renderExpressionValue(t.value,n.value,{preserveWhitespace:!0,showHover:!1}),t.annotation?(n.annotation.className="annotation octicon octicon-info",n.annotation.title=t.annotation):(n.annotation.className="",n.annotation.title="")},e.prototype.handleANSIOutput=function(e){for(var t,n,i="",r=0,o=e.length;r<o;r++)if(27===e.charCodeAt(r)){var s=r,a=++s<o?e.charAt(s):null;if(a&&"["===a){var c=null;if((a=++s<o?e.charAt(s):null)&&a>="0"&&a<="9"&&(c=a,a=++s<o?e.charAt(s):null),a&&a>="0"&&a<="9"&&(c+=a,a=++s<o?e.charAt(s):null),null===c&&(c="0"),"m"===a){var l=parseInt(c,10),u=document.createElement("span");l>=30&&l<=37||l>=90&&l<=97?u.className="code"+l:1===l&&(u.className="code-bold"),t||(t=document.createElement("span")),i&&(this.insert(this.linkDetector.handleLinks(i),n||t),i=""),n=u,t.appendChild(u),r=s}}}else i+=e[r];if(i){var d=this.linkDetector.handleLinks(i);("string"!=typeof d||n)&&(t||(t=document.createElement("span")),this.insert(d,n||t))}return t||i},e.prototype.insert=function(e,t){"string"==typeof e?t.textContent=e:t.appendChild(e)},e.prototype.disposeTemplate=function(e,t,n){},e}();b.VARIABLE_TEMPLATE_ID="variable",b.EXPRESSION_TEMPLATE_ID="inputOutputPair",b.VALUE_OUTPUT_TEMPLATE_ID="outputValue",b.NAME_VALUE_OUTPUT_TEMPLATE_ID="outputNameValue",b.LINE_HEIGHT_PX=18,b=v([y(0,p.IWorkbenchEditorService),y(1,d.IInstantiationService)],b),t.ReplExpressionsRenderer=b;var S=function(){function e(){}return e.prototype.getAriaLabel=function(e,t){return t instanceof a.Variable?n.localize(1,null,t.name,t.value):t instanceof a.Expression?n.localize(2,null,t.name,t.value):t instanceof a.OutputElement?n.localize(3,null,t.value):t instanceof a.OutputNameValueElement?n.localize(4,null,t.name,t.value):null},e}();t.ReplExpressionsAccessibilityProvider=S;var _=function(){function e(e){this.instantiationService=e}return e.prototype.hasActions=function(e,t){return!1},e.prototype.getActions=function(e,t){return i.TPromise.as([])},e.prototype.hasSecondaryActions=function(e,t){return!0},e.prototype.getSecondaryActions=function(e,t){var n=[];return n.push(new u.CopyAction(u.CopyAction.ID,u.CopyAction.LABEL)),n.push(new u.CopyAllAction(u.CopyAllAction.ID,u.CopyAllAction.LABEL,e)),n.push(this.instantiationService.createInstance(l.ClearReplAction,l.ClearReplAction.ID,l.ClearReplAction.LABEL)),i.TPromise.as(n)},e.prototype.getActionItem=function(e,t,n){return null},e}();t.ReplExpressionsActionProvider=_;var E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastSelectedString=null,t}return h(t,e),t.prototype.onLeftClick=function(t,n,i,r){void 0===r&&(r="mouse");var o=i;(n.reference>0||n instanceof a.OutputNameValueElement&&n.hasChildren)&&-1===o.target.className.indexOf("input expression")&&(e.prototype.onLeftClick.call(this,t,n,i,r),t.clearFocus(),t.deselect(n));var s=window.getSelection();return"Range"===s.type&&this.lastSelectedString!==s.toString()||this.toFocusOnClick.focus(),this.lastSelectedString=s.toString(),!0},t}(c.BaseDebugController);t.ReplExpressionsController=E}),define(u[1145],d([1,0,578,16,18,4,7,5,9,11,128,189,316,48,46,25,44,35,118,17,19,6,31,1144,1031,67,134,977,106,78,90,55,13,97,976]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A,L,P,D,O,R,M,N){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var F=c.$,W={twistiePixels:20,ariaLabel:n.localize(0,null),keyboardSupport:!1},B=w.createDecorator("privateReplService"),V=function(e){function t(n,i,r,o,s,a,c,l,u){var d=e.call(this,x.REPL_ID,i,a)||this;return d.debugService=n,d.instantiationService=r,d.storageService=o,d.panelService=s,d.themeService=a,d.modelService=c,d.contextKeyService=l,d.listService=u,d.replInputHeight=t.REPL_INPUT_INITIAL_HEIGHT,d.toDispose=[],d.registerListeners(),d}return h(t,e),t.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.debugService.getModel().onDidChangeReplElements(function(){e.refreshReplElements(0===e.debugService.getModel().getReplElements().length)})),this.toDispose.push(this.panelService.onDidPanelOpen(function(t){return e.refreshReplElements(!0)}))},t.prototype.refreshReplElements=function(e){var n=this;if(this.tree&&this.isVisible()){if(this.refreshTimeoutHandle)return;var i=e?0:t.REFRESH_DELAY;this.refreshTimeoutHandle=setTimeout(function(){n.refreshTimeoutHandle=null;var e=n.tree.getScrollPosition();n.tree.refresh().then(function(){1!==e&&0!==e||n.tree.setScrollPosition(1)},s.onUnexpectedError)},i)}},t.prototype.create=function(n){e.prototype.create.call(this,n);var i=c.append(n.getHTMLElement(),F(".repl"));this.treeContainer=c.append(i,F(".repl-tree")),this.createReplInput(i),this.characterWidthSurveyor=c.append(i,F(".surveyor")),this.characterWidthSurveyor.textContent=t.HALF_WIDTH_TYPICAL;for(var r=0;r<10;r++)this.characterWidthSurveyor.textContent+=this.characterWidthSurveyor.textContent;this.characterWidthSurveyor.style.fontSize=l.isMacintosh?"12px":"14px",this.renderer=this.instantiationService.createInstance(T.ReplExpressionsRenderer);var o=this.instantiationService.createInstance(T.ReplExpressionsController,new T.ReplExpressionsActionProvider(this.instantiationService),S.MenuId.DebugConsoleContext);return o.toFocusOnClick=this.replInput,this.tree=new u.Tree(this.treeContainer,{dataSource:new T.ReplExpressionsDataSource,renderer:this.renderer,accessibilityProvider:new T.ReplExpressionsAccessibilityProvider,controller:o},W),this.toDispose.push(R.attachListStyler(this.tree,this.themeService)),this.toDispose.push(this.listService.register(this.tree)),t.HISTORY||(t.HISTORY=new L.ReplHistory(JSON.parse(this.storageService.get("debug.repl.history",I.StorageScope.WORKSPACE,"[]")))),this.tree.setInput(this.debugService.getModel())},t.prototype.createReplInput=function(e){var n=this;this.replInputContainer=c.append(e,F(".repl-input-wrapper"));var s=this.contextKeyService.createScoped(this.replInputContainer);this.toDispose.push(s),x.CONTEXT_IN_DEBUG_REPL.bindTo(s).set(!0);var a=x.CONTEXT_ON_FIRST_DEBUG_REPL_LINE.bindTo(s);a.set(!0);var l=x.CONTEXT_ON_LAST_DEBUG_REPL_LINE.bindTo(s);l.set(!0);var u=this.instantiationService.createChild(new _.ServiceCollection([E.IContextKeyService,s],[B,this]));this.replInput=u.createInstance(k.ReplInputEditor,this.replInputContainer,this.getReplInputOptions());var d=this.modelService.createModel("",null,i.default.parse(x.DEBUG_SCHEME+":input"));this.replInput.setModel(d),g.SuggestRegistry.register({scheme:x.DEBUG_SCHEME},{triggerCharacters:["."],provideCompletionItems:function(e,t,i){var s=n.replInput.getModel().getWordAtPosition(t),a=s?s.word.length:0,c=n.replInput.getModel().getLineContent(t.lineNumber),l=n.debugService.getViewModel().focusedStackFrame,u=l?l.frameId:void 0,d=n.debugService.getViewModel().focusedProcess,h=d?d.completions(u,c,t,a):o.TPromise.as([]);return r.wireCancellationToken(i,h.then(function(e){return{suggestions:e}}))}}),this.toDispose.push(this.replInput.onDidScrollChange(function(e){e.scrollHeightChanged&&(n.replInputHeight=Math.max(t.REPL_INPUT_INITIAL_HEIGHT,Math.min(t.REPL_INPUT_MAX_HEIGHT,e.scrollHeight,n.dimension.height)),n.layout(n.dimension))})),this.toDispose.push(this.replInput.onDidChangeCursorPosition(function(e){a.set(1===e.position.lineNumber),l.set(e.position.lineNumber===n.replInput.getModel().getLineCount())})),this.toDispose.push(c.addStandardDisposableListener(this.replInputContainer,c.EventType.FOCUS,function(){return c.addClass(n.replInputContainer,"synthetic-focus")})),this.toDispose.push(c.addStandardDisposableListener(this.replInputContainer,c.EventType.BLUR,function(){return c.removeClass(n.replInputContainer,"synthetic-focus")}))},t.prototype.navigateHistory=function(e){var n=e?t.HISTORY.previous():t.HISTORY.next();n&&(t.HISTORY.remember(this.replInput.getValue(),e),this.replInput.setValue(n),this.replInput.setPosition({lineNumber:1,column:n.length+1}))},t.prototype.acceptReplInput=function(){this.debugService.addReplExpression(this.replInput.getValue()),t.HISTORY.evaluated(this.replInput.getValue()),this.replInput.setValue(""),this.replInputHeight=t.REPL_INPUT_INITIAL_HEIGHT,this.layout(this.dimension)},t.prototype.getVisibleContent=function(){for(var e="",t=this.tree.getNavigator();t.next();)e&&(e+="\n"),e+=t.current().toString();return e},t.prototype.layout=function(e){if(this.dimension=e,this.tree){this.renderer.setWidth(e.width-25,this.characterWidthSurveyor.clientWidth/this.characterWidthSurveyor.textContent.length);var t=e.height-this.replInputHeight;this.treeContainer.style.height=t+"px",this.tree.layout(t)}this.replInputContainer.style.height=this.replInputHeight+"px",this.replInput.layout({width:e.width-20,height:this.replInputHeight})},t.prototype.focus=function(){this.replInput.focus()},t.prototype.getActions=function(){var e=this;return this.actions||(this.actions=[this.instantiationService.createInstance(A.ClearReplAction,A.ClearReplAction.ID,A.ClearReplAction.LABEL)],this.actions.forEach(function(t){e.toDispose.push(t)})),this.actions},t.prototype.shutdown=function(){var e=t.HISTORY.save();e.length?this.storageService.store("debug.repl.history",JSON.stringify(e),I.StorageScope.WORKSPACE):this.storageService.remove("debug.repl.history",I.StorageScope.WORKSPACE)},t.prototype.getReplInputOptions=function(){return{wordWrap:"on",overviewRulerLanes:0,glyphMargin:!1,lineNumbers:"off",folding:!1,selectOnLineNumbers:!1,selectionHighlight:!1,scrollbar:{horizontal:"hidden"},lineDecorationsWidth:0,scrollBeyondLastLine:!1,renderLineHighlight:"none",fixedOverflowWidgets:!0,acceptSuggestionOnEnter:"smart",minimap:{enabled:!1}}},t.prototype.dispose=function(){this.replInput.dispose(),this.toDispose=a.dispose(this.toDispose),e.prototype.dispose.call(this)},t}(P.Panel);V.HALF_WIDTH_TYPICAL="n",V.REFRESH_DELAY=500,V.REPL_INPUT_INITIAL_HEIGHT=19,V.REPL_INPUT_MAX_HEIGHT=170,V=v([y(0,x.IDebugService),y(1,C.ITelemetryService),y(2,w.IInstantiationService),y(3,I.IStorageService),y(4,D.IPanelService),y(5,M.IThemeService),y(6,b.IModelService),y(7,E.IContextKeyService),y(8,O.IListService)],V),t.Repl=V;var z=function(e){function t(){return e.call(this,{id:"repl.action.historyPrevious",label:n.localize(1,null),alias:"History Previous",precondition:x.CONTEXT_IN_DEBUG_REPL,kbOpts:{kbExpr:E.ContextKeyExpr.and(f.EditorContextKeys.textFocus,x.CONTEXT_ON_FIRST_DEBUG_REPL_LINE),primary:16,weight:50},menuOpts:{group:"debug"}})||this}return h(t,e),t.prototype.run=function(e,t){e.get(B).navigateHistory(!0)},t}(m.EditorAction);z=v([m.editorAction],z);var H=function(e){function t(){return e.call(this,{id:"repl.action.historyNext",label:n.localize(2,null),alias:"History Next",precondition:x.CONTEXT_IN_DEBUG_REPL,kbOpts:{kbExpr:E.ContextKeyExpr.and(f.EditorContextKeys.textFocus,x.CONTEXT_ON_LAST_DEBUG_REPL_LINE),primary:18,weight:50},menuOpts:{group:"debug"}})||this}return h(t,e),t.prototype.run=function(e,t){e.get(B).navigateHistory(!1)},t}(m.EditorAction);H=v([m.editorAction],H);var K=function(e){function t(){return e.call(this,{id:"repl.action.acceptInput",label:n.localize(3,null),alias:"REPL Accept Input",precondition:x.CONTEXT_IN_DEBUG_REPL,kbOpts:{kbExpr:f.EditorContextKeys.textFocus,primary:3}})||this}return h(t,e),t.prototype.run=function(e,t){p.SuggestController.get(t).acceptSelectedSuggestion(),e.get(B).acceptReplInput()},t}(m.EditorAction);K=v([m.editorAction],K);var U=m.EditorCommand.bindToContribution(p.SuggestController.get);m.CommonEditorRegistry.registerEditorCommand(new U({id:"repl.action.acceptSuggestion",precondition:E.ContextKeyExpr.and(x.CONTEXT_IN_DEBUG_REPL,d.Context.Visible),handler:function(e){return e.acceptSelectedSuggestion()},kbOpts:{weight:50,kbExpr:f.EditorContextKeys.textFocus,primary:17}}));var j=function(e){function t(){return e.call(this,{id:"repl.action.copyAll",label:n.localize(4,null),alias:"Debug Console Copy All",precondition:x.CONTEXT_IN_DEBUG_REPL})||this}return h(t,e),t.prototype.run=function(e,t){N.clipboard.writeText(e.get(B).getVisibleContent())},t}(m.EditorAction);j=v([m.editorAction],j),t.ReplCopyAllAction=j}),define(u[1146],d([1,0,13,580,29,47,67,27,74,9]),function(e,t,n,i,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STATUS_BAR_DEBUGGING_BACKGROUND=r.registerColor("statusBar.debuggingBackground",{dark:"#CC6633",light:"#CC6633",hc:"#CC6633"},i.localize(0,null)),t.STATUS_BAR_DEBUGGING_FOREGROUND=r.registerColor("statusBar.debuggingForeground",{dark:c.STATUS_BAR_FOREGROUND,light:c.STATUS_BAR_FOREGROUND,hc:c.STATUS_BAR_FOREGROUND},i.localize(1,null));var u=function(e){function n(t,n,i,r){var o=e.call(this,t)||this;return o.debugService=n,o.contextService=i,o.partService=r,o.registerListeners(),o}return h(n,e),n.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.debugService.onDidChangeState(function(t){return e.onDidChangeState(t)}))},n.prototype.onDidChangeState=function(e){this.updateStyles()},n.prototype.updateStyles=function(){e.prototype.updateStyles.call(this);var n=this.partService.getContainer(o.Parts.STATUSBAR_PART);this.isDebugging()?l.addClass(n,"debugging"):l.removeClass(n,"debugging"),n.style.backgroundColor=this.getColor(this.getColorKey(c.STATUS_BAR_NO_FOLDER_BACKGROUND,t.STATUS_BAR_DEBUGGING_BACKGROUND,c.STATUS_BAR_BACKGROUND)),n.style.color=this.getColor(this.getColorKey(c.STATUS_BAR_NO_FOLDER_FOREGROUND,t.STATUS_BAR_DEBUGGING_FOREGROUND,c.STATUS_BAR_FOREGROUND))},n.prototype.getColorKey=function(e,t,n){return this.isDebugging()?t:this.contextService.hasWorkspace()?n:e},n.prototype.isDebugging=function(){return this.debugService.state!==s.State.Inactive&&!this.isRunningWithoutDebug()},n.prototype.isRunningWithoutDebug=function(){var e=this.debugService.getViewModel().focusedProcess;return e&&e.configuration&&e.configuration.noDebug},n.prototype.getId=function(){return n.ID},n}(c.Themable);u.ID="debug.statusbarColorProvider",u=v([y(0,n.IThemeService),y(1,s.IDebugService),y(2,a.IWorkspaceContextService),y(3,o.IPartService)],u),t.StatusBarColorProvider=u,n.registerThemingParticipant(function(e,n){var i=e.getColor(t.STATUS_BAR_DEBUGGING_FOREGROUND);i&&n.addRule(".monaco-workbench > .part.statusbar.debugging > .statusbar-item .mask-icon { background-color: "+i+" !important; }")})}),define(u[1147],d([1,0,600,4,15,11,21,50,28,88,16,93,27,306,35,6,22,30,64,120,326,160]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),C.DEFAULT_TERMINAL_LINUX_READY.then(function(e){r.Registry.as(_.Extensions.Configuration).registerConfiguration({id:"externalTerminal",order:100,title:n.localize(0,null),type:"object",properties:{"terminal.external.windowsExec":{type:"string",description:n.localize(1,null),default:C.DEFAULT_TERMINAL_WINDOWS,isExecutable:!0},"terminal.external.osxExec":{type:"string",description:n.localize(2,null),default:C.DEFAULT_TERMINAL_OSX,isExecutable:!0},"terminal.external.linuxExec":{type:"string",description:n.localize(3,null),default:e,isExecutable:!0}}})});var I=function(e){function t(t,n,i,r,o,s){var a=e.call(this,t,n)||this;return a.terminalService=i,a.editorService=r,a.contextService=o,a.historyService=s,a.order=49,a}return h(t,e),t.prototype.setResource=function(e){this.resource=e,this.enabled=!c.isUNC(this.resource.fsPath)},t.prototype.run=function(e){var t,n=this.historyService.getLastActiveWorkspaceRoot();if(!(t=this.resource?this.resource.fsPath:n&&n.fsPath)){var r=S.toResource(this.editorService.getActiveEditorInput(),{supportSideBySide:!0,filter:"file"});r&&(t=c.dirname(r.fsPath))}return this.terminalService.openTerminal(t),i.TPromise.as(null)},t}(s.Action);I.ID="workbench.action.terminal.openNativeConsole",I.Label=o.isWindows?n.localize(4,null):n.localize(5,null),I.ScopedLabel=o.isWindows?n.localize(6,null):n.localize(7,null),I=v([y(2,f.ITerminalService),y(3,b.IWorkbenchEditorService),y(4,p.IWorkspaceContextService),y(5,w.IHistoryService)],I),t.OpenConsoleAction=I;var T=function(e){function t(t){var n=e.call(this)||this;return n.instantiationService=t,n}return h(t,e),t.prototype.hasSecondaryActions=function(e){return!!d.explorerItemToFileResource(e.element)},t.prototype.getSecondaryActions=function(e){var t=d.explorerItemToFileResource(e.element),n=t.resource;t.isDirectory||(n=u.default.file(c.dirname(n.fsPath)));var i=this.instantiationService.createInstance(I,I.ID,I.ScopedLabel);return i.setResource(n),[i]},t}(l.ActionBarContributor);T=v([y(0,m.IInstantiationService)],T),r.Registry.as(l.Extensions.Actionbar).registerActionBarContributor(l.Scope.VIEWER,T),r.Registry.as(a.Extensions.WorkbenchActions).registerWorkbenchAction(new g.SyncActionDescriptor(I,I.ID,I.Label,{primary:3105},E.KEYBINDING_CONTEXT_TERMINAL_NOT_FOCUSED),o.isWindows?"Open New Command Prompt":"Open New Terminal")}),define(u[1148],d([1,0,631,4,5,19,185,435,13,119,71,47,264,31,338]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m=function(e){function t(n,i,o,s,a,c){var l=e.call(this,t.ID,n,o,c)||this;return l.textModelResolverService=i,l.openerService=s,l.partService=a,l._modelChangeSubscription=r.empty,l._themeChangeSubscription=r.empty,l.scrollYPercentage=0,l}return h(t,e),Object.defineProperty(t.prototype,"model",{get:function(){return this._modelRef&&this._modelRef.object.textEditorModel},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._webviewDisposables=r.dispose(this._webviewDisposables),this._themeChangeSubscription.dispose(),this._modelChangeSubscription.dispose(),r.dispose(this._modelRef),e.prototype.dispose.call(this)},t.prototype.createEditor=function(e){this._container=document.createElement("div"),this._container.style.position="absolute",e.getHTMLElement().appendChild(this._container)},Object.defineProperty(t.prototype,"webview",{get:function(){var e=this;if(!this._webview){var t={};if(this.input&&this.input instanceof a.HtmlInput&&(t=this.input.options),this._webview=new p.default(this._container,this.partService.getContainer(d.Parts.EDITOR_PART),t),this.input&&this.input instanceof a.HtmlInput){var n=this.loadViewState(this.input.getResource());this.scrollYPercentage=n?n.scrollYPercentage:0,this.webview.initialScrollProgress=this.scrollYPercentage;var i=this.input.getResource();this.webview.baseUrl=i.toString(!0)}this._webview.style(this.themeService.getTheme()),this._webviewDisposables=[this._webview,this._webview.onDidClickLink(function(t){return e.openerService.open(t)}),this._webview.onDidLoadContent(function(t){return e.telemetryService.publicLog("previewHtml",t.stats)}),this._webview.onDidScroll(function(t){e.scrollYPercentage=t.scrollYPercentage})]}return this._webview},enumerable:!0,configurable:!0}),t.prototype.changePosition=function(t){this._doSetVisible(!1),this._doSetVisible(!0),e.prototype.changePosition.call(this,t)},t.prototype.setEditorVisible=function(t,n){this._doSetVisible(t),e.prototype.setEditorVisible.call(this,t,n)},t.prototype._doSetVisible=function(e){var t=this;e?(this._themeChangeSubscription=this.themeService.onThemeChange(function(e){t._webview&&t._webview.style(e)}),this._hasValidModel()&&(this._modelChangeSubscription=this.model.onDidChangeContent(function(){return t.webview.contents=t.model.getLinesContent()}),this.webview.contents=this.model.getLinesContent())):(this._themeChangeSubscription.dispose(),this._modelChangeSubscription.dispose(),this._webviewDisposables=r.dispose(this._webviewDisposables),this._webview=void 0)},t.prototype._hasValidModel=function(){return this._modelRef&&this.model&&!this.model.isDisposed()},t.prototype.layout=function(e){var t=e.width,n=e.height;this._container.style.width=t+"px",this._container.style.height=n+"px",this._webview&&this._webview.layout()},t.prototype.focus=function(){this.webview.focus()},t.prototype.clearInput=function(){this.input instanceof a.HtmlInput&&this.saveViewState(this.input.getResource(),{scrollYPercentage:this.scrollYPercentage}),r.dispose(this._modelRef),this._modelRef=void 0,e.prototype.clearInput.call(this)},t.prototype.shutdown=function(){this.input instanceof a.HtmlInput&&this.saveViewState(this.input.getResource(),{scrollYPercentage:this.scrollYPercentage}),e.prototype.shutdown.call(this)},t.prototype.sendMessage=function(e){this.webview.sendMessage(e)},t.prototype.setInput=function(t,r){var o=this;return this.input&&this.input.matches(t)&&this._hasValidModel()?i.TPromise.as(void 0):(this.input instanceof a.HtmlInput&&this.saveViewState(this.input.getResource(),{scrollYPercentage:this.scrollYPercentage}),this._modelRef&&this._modelRef.dispose(),this._modelChangeSubscription.dispose(),t instanceof a.HtmlInput?e.prototype.setInput.call(this,t,r).then(function(){var e=t.getResource();return o.textModelResolverService.createModelReference(e).then(function(r){if(r.object instanceof s.BaseTextEditorModel&&(o._modelRef=r),!o.model)return i.TPromise.wrapError(new Error(n.localize(0,null)));o._modelChangeSubscription=o.model.onDidChangeContent(function(){o.model&&(o.scrollYPercentage=0,o.webview.contents=o.model.getLinesContent())});var a=o.loadViewState(e);o.scrollYPercentage=a?a.scrollYPercentage:0,o.webview.baseUrl=e.toString(!0),o.webview.options=t.options,o.webview.contents=o.model.getLinesContent(),o.webview.initialScrollProgress=o.scrollYPercentage})}):i.TPromise.wrapError(new Error("Invalid input")))},t}(g.WebviewEditor);m.ID="workbench.editor.htmlPreviewPart",m=v([y(0,o.ITelemetryService),y(1,u.ITextModelService),y(2,c.IThemeService),y(3,l.IOpenerService),y(4,d.IPartService),y(5,f.IStorageService)],m),t.HtmlPreviewPart=m}),define(u[1149],d([1,0,16,630,32,6,22,435,1148,15,98,30,95,45,33,1003,71]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),l.Registry.as(d.Extensions.Editors).registerEditor(new u.EditorDescriptor(c.HtmlPreviewPart.ID,i.localize(0,null),"vs/workbench/parts/html/browser/htmlPreviewPart","HtmlPreviewPart"),[new h.SyncDescriptor(a.HtmlInput)]);var m=!0;r.CommandsRegistry.registerCommand("_workbench.htmlZone",function(e,t){m&&(console.warn("'_workbench.htmlZone' is an EXPERIMENTAL feature and therefore subject to CHANGE and REMOVAL without notice."),m=!1);for(var n,i=0,r=e.get(s.IWorkbenchEditorService).getVisibleEditors();i<r.length;i++){var o=r[i];if(o.position===t.editorPosition){var a=o.getControl();f.isCommonCodeEditor(a)&&(n=a)}}if(n)return e.get(v.ITextModelService).createModelReference(t.resource).then(function(e){var i=e.object.textEditorModel.getValue();e.dispose(),g.HtmlZoneController.getInstance(n).addZone(t.lineNumber,i)});console.warn("NO matching editor found")});var y={allowScripts:!0,allowSvgs:!0};r.CommandsRegistry.registerCommand("_workbench.previewHtml",function(e,t,i,r,c){var l=t instanceof n.default?t:n.default.parse(t);r=r||l.fsPath;var u,d=e.get(p.IEditorGroupService).getStacksModel(),h=d.groupAt(i)||d.activeGroup;if(h){var f=h.getEditor(l);f instanceof a.HtmlInput&&(u=f)}return u?u.setName(r):u=e.get(o.IInstantiationService).createInstance(a.HtmlInput,r,"",l,c||y),e.get(s.IWorkbenchEditorService).openEditor(u,{pinned:!0},i).then(function(e){return!0})}),r.CommandsRegistry.registerCommand("_workbench.htmlPreview.postMessage",function(e,t,i){for(var r=t instanceof n.default?t:n.default.parse(t),o=e.get(s.IWorkbenchEditorService).getVisibleEditors().filter(function(e){return e instanceof c.HtmlPreviewPart&&e.model}).map(function(e){return e}).filter(function(e){return e.model.uri.scheme===r.scheme&&e.model.uri.fsPath===r.fsPath}),a=0,l=o;a<l.length;a++)l[a].sendMessage(i);return o.length>0})}),define(u[310],d([1,0,18,9,5,21,49,110,41,106,196,209,47,78,19,121,13,55]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var _=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n,d.default.MARKERS_PANEL_ID,r,i)||this;return s.telemetryService=o,s}return h(t,e),t.prototype.run=function(){var t=e.prototype.run.call(this);return this.isPanelFocussed()&&this.telemetryService.publicLog("problems.used"),t},t}(l.TogglePanelAction);_.ID="workbench.actions.view.problems",_.LABEL=u.default.MARKERS_PANEL_TOGGLE_LABEL,_=v([y(2,p.IPartService),y(3,f.IPanelService),y(4,g.ITelemetryService)],_),t.ToggleMarkersPanelAction=_;var E=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n,d.default.MARKERS_PANEL_ID,r,i)||this;return s.telemetryService=o,s}return h(t,e),t.prototype.run=function(){var t=e.prototype.run.call(this);return this.isPanelFocussed()&&this.telemetryService.publicLog("problems.used"),t},t}(l.TogglePanelAction);E.ID="workbench.action.showErrorsWarnings",E.LABEL=u.default.SHOW_ERRORS_WARNINGS_ACTION_LABEL,E=v([y(2,p.IPartService),y(3,f.IPanelService),y(4,g.ITelemetryService)],E),t.ToggleErrorsAndWarningsAction=E;var C=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.telemetryService=i,r}return h(t,e),t.prototype.run=function(t){return this.telemetryService.publicLog("problems.collapseAll.used"),e.prototype.run.call(this,t)},t}(m.CollapseAllAction);C=v([y(2,g.ITelemetryService)],C),t.CollapseAllAction=C;var w=function(e){function t(n){var i=e.call(this,t.ID,u.default.MARKERS_PANEL_ACTION_TOOLTIP_FILTER,"markers-panel-action-filter",!0)||this;return i.markersPanel=n,i}return h(t,e),t}(o.Action);w.ID="workbench.actions.problems.filter",t.FilterAction=w;var I=function(e){function t(t,i,r,o,s){var a=e.call(this,t,i)||this;return a.markersPanel=t,a.contextViewService=r,a.themeService=o,a.telemetryService=s,a.toDispose=[],a.delayedFilterUpdate=new n.Delayer(500),a}return h(t,e),t.prototype.render=function(e){var t=this;i.addClass(e,"markers-panel-action-filter");var n=new a.InputBox(e,this.contextViewService,{placeholder:u.default.MARKERS_PANEL_FILTER_PLACEHOLDER,ariaLabel:u.default.MARKERS_PANEL_FILTER_PLACEHOLDER});this.toDispose.push(S.attachInputBoxStyler(n,this.themeService)),n.value=this.markersPanel.markersModel.filterOptions.completeFilter,this.toDispose.push(n.onDidChange(function(e){return t.delayedFilterUpdate.trigger(function(){return t.updateFilter(e)})})),this.toDispose.push(i.addStandardDisposableListener(n.inputElement,"keyup",function(e){return t.onInputKeyUp(e,n)})),this.toDispose.push(i.addStandardDisposableListener(e,"keydown",this.handleKeyboardEvent)),this.toDispose.push(i.addStandardDisposableListener(e,"keyup",this.handleKeyboardEvent))},t.prototype.updateFilter=function(e){this.markersPanel.updateFilter(e),this.reportFilteringUsed()},t.prototype.reportFilteringUsed=function(){var e={};e.errors=this.markersPanel.markersModel.filterOptions.filterErrors,e.warnings=this.markersPanel.markersModel.filterOptions.filterWarnings,e.infos=this.markersPanel.markersModel.filterOptions.filterInfos,this.telemetryService.publicLog("problems.filter",e)},t.prototype.dispose=function(){this.toDispose=r.dispose(this.toDispose),e.prototype.dispose.call(this)},t.prototype.handleKeyboardEvent=function(e){switch(e.keyCode){case 10:case 15:case 17:case 9:e.stopPropagation()}},t.prototype.onInputKeyUp=function(e,t){switch(e.keyCode){case 9:return void(t.value="");default:return}},t}(s.BaseActionItem);I=v([y(2,c.IContextViewService),y(3,b.IThemeService),y(4,g.ITelemetryService)],I),t.FilterInputBoxActionItem=I}),define(u[420],d([1,0,7,4,18,9,5,142,19,45,30,106,22,209,256,1008,128,1009,6,310,23,196,296,88,17,90,13,441,8,55,959]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A,L,P,D){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var O=function(e){function t(t,n,i,o,s,a,c,l,u){var d=e.call(this,f.default.MARKERS_PANEL_ID,c,u)||this;return d.instantiationService=t,d.markerService=n,d.editorGroupService=i,d.editorService=o,d.configurationService=s,d.contextKeyService=a,d.listService=l,d.lastSelectedRelativeTop=0,d.currentActiveFile=null,d.currentFileGotAddedToMarkersData=!1,d.toDispose=[],d.delayedRefresh=new r.Delayer(500),d.autoExpanded=new Set,d.markerFocusContextKey=f.default.MarkerFocusContextKey.bindTo(a),d}return h(t,e),t.prototype.create=function(t){e.prototype.create.call(this,t),this.markersModel=new g.MarkersModel,this.rangeHighlightDecorations=this.instantiationService.createInstance(I.RangeHighlightDecorations),this.toDispose.push(this.rangeHighlightDecorations),o.addClass(t.getHTMLElement(),"markers-panel");var n=this.configurationService.getConfiguration();this.onConfigurationsUpdated(n);var r=o.append(t.getHTMLElement(),o.$(".markers-panel-container"));return this.createMessageBox(r),this.createTree(r),this.createActions(),this.createListeners(),this.render(),i.TPromise.as(null)},t.prototype.getTitle=function(){return w.default.MARKERS_PANEL_TITLE_PROBLEMS},t.prototype.layout=function(e){this.tree.layout(e.height)},t.prototype.focus=function(){this.tree.isDOMFocused()||(this.markersModel.hasFilteredResources()?(this.tree.DOMFocus(),0===this.tree.getSelection().length&&this.tree.focusFirst(),this.highlightCurrentSelectedMarkerRange(),this.autoReveal(!0)):this.messageBox.focus())},t.prototype.setVisible=function(t){var n=e.prototype.setVisible.call(this,t);return t||this.rangeHighlightDecorations.removeHighlightRange(),n},t.prototype.getActions=function(){return this.collapseAllAction.enabled=this.markersModel.hasFilteredResources(),this.actions},t.prototype.openFileAtElement=function(e,t,i,r){var o=this;if(e instanceof g.Marker){var s=e;return this.telemetryService.publicLog("problems.marker.opened",{source:s.marker.source}),this.editorService.openEditor({resource:s.resource,options:{selection:s.range,preserveFocus:t,pinned:r,revealIfVisible:!0}},i).done(function(e){e&&t?o.rangeHighlightDecorations.highlightRange(s,e.getControl()):o.rangeHighlightDecorations.removeHighlightRange()},n.onUnexpectedError),!0}return this.rangeHighlightDecorations.removeHighlightRange(),!1},t.prototype.refreshPanel=function(){var e=this;return this.collapseAllAction.enabled=this.markersModel.hasFilteredResources(),o.toggleClass(this.treeContainer,"hidden",!this.markersModel.hasFilteredResources()),this.renderMessage(),this.markersModel.hasFilteredResources()?this.tree.refresh().then(function(){e.autoExpand()}):i.TPromise.as(null)},t.prototype.updateFilter=function(e){this.markersModel.update(new g.FilterOptions(e)),this.autoExpanded=new Set,this.refreshPanel(),this.autoReveal()},t.prototype.createMessageBox=function(e){this.messageBoxContainer=o.append(e,o.$(".message-box-container")),this.messageBox=o.append(this.messageBoxContainer,o.$("span")),this.messageBox.setAttribute("tabindex","0")},t.prototype.createTree=function(e){var t=this;this.treeContainer=o.append(e,o.$(".tree-container")),o.addClass(this.treeContainer,"show-file-icons");var n=this.instantiationService.createInstance(T.ContributableActionProvider),i=this.instantiationService.createInstance(S.Renderer,this.getActionRunner(),n),r=this.instantiationService.createInstance(m.Controller);this.tree=new b.Tree(this.treeContainer,{dataSource:new S.DataSource,renderer:i,controller:r,sorter:new S.Sorter,accessibilityProvider:new S.MarkersTreeAccessibilityProvider},{indentPixels:0,twistiePixels:20,ariaLabel:w.default.MARKERS_PANEL_ARIA_LABEL_PROBLEMS_TREE,keyboardSupport:!1}),this._register(D.attachListStyler(this.tree,this.themeService)),this._register(this.tree.addListener("focus",function(e){t.markerFocusContextKey.set(e.focus instanceof g.Marker)}));var s=this._register(new L.default(this.tree));this._register(P.debounceEvent(s.openFile,function(e,t){return t},75,!0)(function(e){t.openFileAtElement(e.element,e.editorOptions.preserveFocus,e.editorOptions.pinned,e.sideBySide)})),this._register(o.trackFocus(this.tree.getHTMLElement())).addBlurListener(function(){t.markerFocusContextKey.set(!1)}),this.toDispose.push(this.listService.register(this.tree))},t.prototype.createActions=function(){var e=this;this.collapseAllAction=this.instantiationService.createInstance(E.CollapseAllAction,this.tree,!0),this.filterAction=new E.FilterAction(this),this.actions=[this.filterAction,this.collapseAllAction],this.actions.forEach(function(t){e.toDispose.push(t)})},t.prototype.createListeners=function(){var e=this;this.toDispose.push(this.configurationService.onDidUpdateConfiguration(function(t){return e.onConfigurationsUpdated(e.configurationService.getConfiguration())})),this.toDispose.push(this.markerService.onMarkerChanged(this.onMarkerChanged,this)),this.toDispose.push(this.editorGroupService.onEditorsChanged(this.onEditorsChanged,this)),this.toDispose.push(this.tree.addListener("selection",function(){return e.onSelected()}))},t.prototype.onMarkerChanged=function(e){var t=this;this.currentFileGotAddedToMarkersData=this.currentFileGotAddedToMarkersData||this.isCurrentFileGotAddedToMarkersData(e),this.updateResources(e),this.delayedRefresh.trigger(function(){t.refreshPanel(),t.updateRangeHighlights(),t.currentFileGotAddedToMarkersData&&(t.autoReveal(),t.currentFileGotAddedToMarkersData=!1)})},t.prototype.isCurrentFileGotAddedToMarkersData=function(e){var t=this;return!!this.currentActiveFile&&(!this.getResourceForCurrentActiveFile()&&e.some(function(e){return e.toString()===t.currentActiveFile.toString()}))},t.prototype.onEditorsChanged=function(){this.currentActiveFile=u.toResource(this.editorService.getActiveEditorInput(),{filter:"file"}),this.autoReveal()},t.prototype.onConfigurationsUpdated=function(e){this.hasToAutoReveal=e&&e.problems&&e.problems.autoReveal},t.prototype.onSelected=function(){var e=this.tree.getSelection();e&&e.length>0&&(this.lastSelectedRelativeTop=this.tree.getRelativeTop(e[0]))},t.prototype.updateResources=function(e){for(var t=this.markersModel.getBulkUpdater(),n=0,i=e;n<i.length;n++){s=i[n];t.add(s,this.markerService.read({resource:s}))}t.done();for(var r=0,o=e;r<o.length;r++){var s=o[r];this.markersModel.hasResource(s)||this.autoExpanded.delete(s.toString())}},t.prototype.render=function(){var e=this.markerService.read();this.markersModel.update(e),this.tree.setInput(this.markersModel).then(this.autoExpand.bind(this)),o.toggleClass(this.treeContainer,"hidden",!this.markersModel.hasFilteredResources()),this.renderMessage()},t.prototype.renderMessage=function(){var e=this.markersModel.getMessage();this.messageBox.textContent=e,o.toggleClass(this.messageBoxContainer,"hidden",this.markersModel.hasFilteredResources())},t.prototype.autoExpand=function(){for(var e=0,t=this.markersModel.filteredResources;e<t.length;e++){var i=t[e],r=i.uri.toString();this.autoExpanded.has(r)||(this.tree.expand(i).done(null,n.onUnexpectedError),this.autoExpanded.add(r))}},t.prototype.autoReveal=function(e){void 0===e&&(e=!1);var t=this.configurationService.getConfiguration();t&&t.problems&&t.problems.autoReveal&&this.revealMarkersForCurrentActiveEditor(e)},t.prototype.revealMarkersForCurrentActiveEditor=function(e){void 0===e&&(e=!1);var t=this.getResourceForCurrentActiveFile();t?this.tree.isExpanded(t)&&this.hasSelectedMarkerFor(t)?(this.tree.reveal(this.tree.getSelection()[0],this.lastSelectedRelativeTop),e&&this.tree.setFocus(this.tree.getSelection()[0])):(this.tree.reveal(t,0),e&&(this.tree.setFocus(t),this.tree.setSelection([t]))):e&&(this.tree.setSelection([]),this.tree.focusFirst())},t.prototype.getResourceForCurrentActiveFile=function(){var e=this;if(this.currentActiveFile){var t=this.markersModel.filteredResources.filter(function(t){return e.currentActiveFile.toString()===t.uri.toString()});return t.length>0?t[0]:null}return null},t.prototype.hasSelectedMarkerFor=function(e){var t=this.tree.getSelection();return!!(t&&t.length>0&&t[0]instanceof g.Marker&&e.uri.toString()===t[0].marker.resource.toString())},t.prototype.updateRangeHighlights=function(){this.rangeHighlightDecorations.removeHighlightRange(),this.tree.isDOMFocused()&&this.highlightCurrentSelectedMarkerRange()},t.prototype.highlightCurrentSelectedMarkerRange=function(){var e=this.tree.getSelection();if(e&&1===e.length&&e[0]instanceof g.Marker){var t=e[0];this.rangeHighlightDecorations.highlightRange(t)}},t.prototype.getActionItem=function(t){return t.id===E.FilterAction.ID?this.instantiationService.createInstance(E.FilterInputBoxActionItem,this,t):e.prototype.getActionItem.call(this,t)},t.prototype.getFocusElement=function(){return this.tree.getFocus()},t.prototype.dispose=function(){this.delayedRefresh.cancel(),this.toDispose=s.dispose(this.toDispose),this.tree.dispose(),this.markersModel.dispose(),e.prototype.dispose.call(this)},t}(d.Panel);O=v([y(0,_.IInstantiationService),y(1,a.IMarkerService),y(2,l.IEditorGroupService),y(3,p.IWorkbenchEditorService),y(4,C.IConfigurationService),y(5,k.IContextKeyService),y(6,c.ITelemetryService),y(7,x.IListService),y(8,A.IThemeService)],O),t.MarkersPanel=O}),define(u[1152],d([1,0,196,209,15,35,72,50,106,64,310,17,78]),function(e,t,n,i,r,o,s,a,c,l,u,d,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerContributions=function(){s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:i.default.MARKER_OPEN_SIDE_ACTION_ID,weight:s.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:d.ContextKeyExpr.and(i.default.MarkerFocusContextKey),primary:2051,mac:{primary:259},handler:function(e,t){var n=e.get(h.IPanelService).getActivePanel();n.openFileAtElement(n.getFocusElement(),!1,!0,!0)}}),r.Registry.as(l.Extensions.Configuration).registerConfiguration({id:"problems",order:101,title:n.default.PROBLEMS_PANEL_CONFIGURATION_TITLE,type:"object",properties:{"problems.autoReveal":{description:n.default.PROBLEMS_PANEL_CONFIGURATION_AUTO_REVEAL,type:"boolean",default:!0}}}),r.Registry.as(c.Extensions.Panels).registerPanel(new c.PanelDescriptor("vs/workbench/parts/markers/browser/markersPanel","MarkersPanel",i.default.MARKERS_PANEL_ID,n.default.MARKERS_PANEL_TITLE_PROBLEMS,"markersPanel",10,u.ToggleMarkersPanelAction.ID));var e=r.Registry.as(a.Extensions.WorkbenchActions);e.registerWorkbenchAction(new o.SyncActionDescriptor(u.ToggleMarkersPanelAction,u.ToggleMarkersPanelAction.ID,u.ToggleMarkersPanelAction.LABEL,{primary:3115}),"View: Show Problems",n.default.MARKERS_PANEL_VIEW_CATEGORY),e.registerWorkbenchAction(new o.SyncActionDescriptor(u.ToggleErrorsAndWarningsAction,u.ToggleErrorsAndWarningsAction.ID,u.ToggleErrorsAndWarningsAction.LABEL),"Show Errors and Warnings")}}),define(u[1153],d([1,0,634,97,256,209,32,35,72,78,420]),function(e,t,n,i,r,o,s,a,c,l,u){"use strict";function d(e){var t=e.getActivePanel();if(t instanceof u.MarkersPanel){var n=t.getFocusElement();n instanceof r.Marker&&i.clipboard.writeText(""+n)}}function h(e){var t=e.id,n=e.handler,i=e.title,r=e.category,o=e.iconClass,l=e.menu,u=e.keybinding;s.CommandsRegistry.registerCommand(t,n);var d={id:t,title:i,iconClass:o,category:r};if(l){var h=l.menuId,p=l.when,f=l.group;a.MenuRegistry.appendMenuItem(h,{command:d,when:p,group:f})}if(u){var p=u.when,g=u.weight,v=u.keys;c.KeybindingsRegistry.registerKeybindingRule({id:t,when:p,weight:g,primary:v.primary,secondary:v.secondary,linux:v.linux,mac:v.mac,win:v.win})}}Object.defineProperty(t,"__esModule",{value:!0}),t.registerContributions=function(){h({id:o.default.MARKER_COPY_ACTION_ID,title:n.localize(0,null),handler:function(e){d(e.get(l.IPanelService))},menu:{menuId:a.MenuId.ProblemsPanelContext,when:o.default.MarkerFocusContextKey},keybinding:{keys:{primary:2081},when:o.default.MarkerFocusContextKey}})}}),define(u[1154],d([1,0,1152,1153]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.registerContributions(),i.registerContributions()}),define(u[415],d([1,0,4,636,21,125,49,47,78,106,5,55,13]),function(e,t,n,i,r,o,s,a,c,l,u,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(e){function t(t,n,i,r){return e.call(this,t,n,o.OUTPUT_PANEL_ID,r,i)||this}return h(t,e),t}(l.TogglePanelAction);f.ID="workbench.action.output.toggleOutput",f.LABEL=i.localize(0,null),f=v([y(2,a.IPartService),y(3,c.IPanelService)],f),t.ToggleOutputAction=f;var g=function(e){function t(t,n,i,r){var o=e.call(this,t,n,"output-action clear-output")||this;return o.outputService=i,o.panelService=r,o}return h(t,e),t.prototype.run=function(){return this.outputService.getActiveChannel().clear(),this.panelService.getActivePanel().focus(),n.TPromise.as(!0)},t}(r.Action);g.ID="workbench.output.action.clearOutput",g.LABEL=i.localize(1,null),g=v([y(2,o.IOutputService),y(3,c.IPanelService)],g),t.ClearOutputAction=g;var m=function(e){function t(t,n,i){var r=e.call(this,t,n,"output-action output-scroll-unlock")||this;return r.outputService=i,r.toDispose=[],r.toDispose.push(r.outputService.onActiveOutputChannel(function(e){return r.setClass(r.outputService.getActiveChannel().scrollLock)})),r}return h(t,e),t.prototype.run=function(){var e=this.outputService.getActiveChannel();return e&&(e.scrollLock=!e.scrollLock,this.setClass(e.scrollLock)),n.TPromise.as(!0)},t.prototype.setClass=function(e){this.class=e?"output-action output-scroll-lock":"output-action output-scroll-unlock"},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.toDispose=u.dispose(this.toDispose)},t}(r.Action);m.ID="workbench.output.action.toggleOutputScrollLock",m.LABEL=i.localize(2,null),m=v([y(2,o.IOutputService)],m),t.ToggleOutputScrollLockAction=m;var b=function(e){function t(n){var r=e.call(this,t.ID,i.localize(3,null))||this;return r.outputService=n,r.class="output-action switch-to-output",r}return h(t,e),t.prototype.run=function(e){return this.outputService.getChannel(e).show()},t}(r.Action);b.ID="workbench.output.action.switchBetweenOutputs",b=v([y(0,o.IOutputService)],b),t.SwitchOutputAction=b;var S=function(e){function t(t,n,i){var r=e.call(this,null,t,[],0)||this;return r.outputService=n,r.toDispose.push(r.outputService.onOutputChannel(function(){var e=r.getSelected(r.outputService.getActiveChannel().id);r.setOptions(r.getOptions(),e)})),r.toDispose.push(r.outputService.onActiveOutputChannel(function(e){return r.setOptions(r.getOptions(),r.getSelected(e))})),r.toDispose.push(d.attachSelectBoxStyler(r.selectBox,i)),r.setOptions(r.getOptions(),r.getSelected(r.outputService.getActiveChannel().id)),r}return h(t,e),t.prototype.getActionContext=function(e){var t=this.outputService.getChannels().filter(function(t){return t.label===e}).pop();return t?t.id:e},t.prototype.getOptions=function(){return this.outputService.getChannels().map(function(e){return e.label})},t.prototype.getSelected=function(e){if(e)return Math.max(0,this.outputService.getChannels().map(function(e){return e.id}).indexOf(e))},t}(s.SelectActionItem);S=v([y(1,o.IOutputService),y(2,p.IThemeService)],S),t.SwitchOutputActionItem=S}),define(u[1156],d([1,0,635,60,172,15,35,72,116,50,1125,415,125,106,32]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),c.registerSingleton(h.IOutputService,u.OutputService),r.ModesRegistry.registerLanguage({id:h.OUTPUT_MODE_ID,extensions:[],aliases:[null],mimetypes:[h.OUTPUT_MIME]}),o.Registry.as(p.Extensions.Panels).registerPanel(new p.PanelDescriptor("vs/workbench/parts/output/browser/outputPanel","OutputPanel",h.OUTPUT_PANEL_ID,n.localize(0,null),"output",20,d.ToggleOutputAction.ID));var g=o.Registry.as(l.Extensions.WorkbenchActions);g.registerWorkbenchAction(new s.SyncActionDescriptor(d.ToggleOutputAction,d.ToggleOutputAction.ID,d.ToggleOutputAction.LABEL,{primary:3123,linux:{primary:i.KeyChord(2089,2086)}}),"View: Toggle Output",n.localize(1,null)),g.registerWorkbenchAction(new s.SyncActionDescriptor(d.ClearOutputAction,d.ClearOutputAction.ID,d.ClearOutputAction.LABEL),"View: Clear Output",n.localize(2,null)),function(e){var t=e.id,n=e.handler,i=e.title,r=e.category,o=e.iconClass,c=e.f1,l=e.menu,u=e.keybinding;f.CommandsRegistry.registerCommand(t,n);var d={id:t,title:i,iconClass:o,category:r};if(c&&s.MenuRegistry.addCommand(d),l){var h=l.menuId,p=l.when,g=l.group;s.MenuRegistry.appendMenuItem(h,{command:d,when:p,group:g})}if(u){var p=u.when,v=u.weight,m=u.keys;a.KeybindingsRegistry.registerKeybindingRule({id:t,when:p,weight:v,primary:m.primary,secondary:m.secondary,linux:m.linux,mac:m.mac,win:m.win})}}({id:"editor.action.clearoutput",title:n.localize(3,null),menu:{menuId:s.MenuId.EditorContext,when:h.CONTEXT_IN_OUTPUT},handler:function(e){e.get(h.IOutputService).getActiveChannel().clear()}})}),define(u[1157],d([1,0,649,34,12,11,122,15,181,25,35,50,30,59,38,404,287]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KEYBINDING_ENTRY_TEMPLATE_ID="keybinding.entry.template",t.KEYBINDING_HEADER_TEMPLATE_ID="keybinding.header.template";var S=s.or(s.matchesPrefix,s.matchesWords,s.matchesContiguousSubString),_=function(e){function i(t,n,i){var r=e.call(this)||this;return r.os=t,r.keybindingsService=n,r.extensionService=i,r.modifierLabels={ui:c.UILabelProvider.modifierLabels[t],aria:c.AriaLabelProvider.modifierLabels[t],user:c.UserSettingsLabelProvider.modifierLabels[t]},r}return h(i,e),i.prototype.fetch=function(e,t){void 0===t&&(t=!1);var n='"'===(e=e.trim()).charAt(0),i='"'===e.charAt(e.length-1);return n&&(e=e.substring(1)),i&&(e=e.substring(0,e.length-1)),e=e.trim(),this.fetchKeybindingItems(t?this._keybindingItemsSortedByPrecedence:this._keybindingItems,e,n&&i)},i.prototype.fetchKeybindingItems=function(e,n,r){if(!n)return e.map(function(e){return{id:i.getId(e),keybindingItem:e,templateId:t.KEYBINDING_ENTRY_TEMPLATE_ID}});for(var o=[],s=n.split(" "),a=this.splitKeybindingWords(s),c=0,l=e;c<l.length;c++){var u=l[c],d=new E(this.modifierLabels,u,n,s,a,r);(d.commandIdMatches||d.commandLabelMatches||d.commandDefaultLabelMatches||d.sourceMatches||d.whenMatches||d.keybindingMatches)&&o.push({id:i.getId(u),templateId:t.KEYBINDING_ENTRY_TEMPLATE_ID,commandLabelMatches:d.commandLabelMatches,commandDefaultLabelMatches:d.commandDefaultLabelMatches,keybindingItem:u,keybindingMatches:d.keybindingMatches,commandIdMatches:d.commandIdMatches,sourceMatches:d.sourceMatches,whenMatches:d.whenMatches})}return o},i.prototype.splitKeybindingWords=function(e){for(var t=[],n=0,i=e;n<i.length;n++){var r=i[n];t.push.apply(t,r.split("+"))}return t},i.prototype.resolve=function(){var e=this;return this.extensionService.onReady().then(function(){var t=a.Registry.as(d.Extensions.WorkbenchActions),n=l.CommonEditorRegistry.getEditorActions().reduce(function(e,t){return e[t.id]=t,e},{});e._keybindingItemsSortedByPrecedence=[];for(var r=new Map,o=0,s=e.keybindingsService.getKeybindings();o<s.length;o++){var c=s[o];c.command&&(e._keybindingItemsSortedByPrecedence.push(i.toKeybindingEntry(c.command,c,t,n)),r.set(c.command,!0))}for(var u=e.keybindingsService.getDefaultKeybindings().map(function(e){return e.command}),h=0,p=b.KeybindingResolver.getAllUnboundCommands(r);h<p.length;h++){var f=p[h],g=new m.ResolvedKeybindingItem(null,f,null,null,-1===u.indexOf(f));e._keybindingItemsSortedByPrecedence.push(i.toKeybindingEntry(f,g,t,n))}return e._keybindingItems=e._keybindingItemsSortedByPrecedence.slice(0).sort(function(e,t){return i.compareKeybindingData(e,t)}),e})},i.getId=function(e){return e.command+(e.keybinding?e.keybinding.getAriaLabel():"")+e.source+e.when},i.compareKeybindingData=function(e,t){return e.keybinding&&!t.keybinding?-1:t.keybinding&&!e.keybinding?1:e.commandLabel&&!t.commandLabel?-1:t.commandLabel&&!e.commandLabel?1:e.commandLabel&&t.commandLabel&&e.commandLabel!==t.commandLabel?e.commandLabel.localeCompare(t.commandLabel):e.command===t.command?e.keybindingItem.isDefault?1:-1:e.command.localeCompare(t.command)},i.toKeybindingEntry=function(e,t,r,o){var s=r.getWorkbenchAction(e),a=u.MenuRegistry.getCommand(e),c=o[e];return{keybinding:t.resolvedKeybinding,keybindingItem:t,command:e,commandLabel:i.getCommandLabel(s,a,c),commandDefaultLabel:i.getCommandDefaultLabel(s,a,r),when:t.when?t.when.serialize():"",source:t.isDefault?n.localize(0,null):n.localize(1,null)}},i.getCommandDefaultLabel=function(e,t,n){if(o.language!==o.LANGUAGE_DEFAULT){if(e)return n.getAlias(e.id);if(t&&t.title&&t.title.original)return t.title.original}return null},i.getCommandLabel=function(e,t,n){return e?e.label:t?"string"==typeof t.title?t.title:t.title.value:n?n.label:""},i}(p.EditorModel);_=v([y(1,g.IKeybindingService),y(2,f.IExtensionService)],_),t.KeybindingsEditorModel=_;var E=function(){function e(e,t,n,i,r,o){this.modifierLabels=e,this.searchValue=n,this.words=i,this.keybindingWords=r,this.completeMatch=o,this.commandIdMatches=null,this.commandLabelMatches=null,this.commandDefaultLabelMatches=null,this.sourceMatches=null,this.whenMatches=null,this.keybindingMatches=null,this.commandIdMatches=this.matches(n,t.command,s.or(s.matchesWords,s.matchesCamelCase),i),this.commandLabelMatches=t.commandLabel?this.matches(n,t.commandLabel,function(e,n){return s.matchesWords(e,t.commandLabel,!0)},i):null,this.commandDefaultLabelMatches=t.commandDefaultLabel?this.matches(n,t.commandDefaultLabel,function(e,n){return s.matchesWords(e,t.commandDefaultLabel,!0)},i):null,this.sourceMatches=this.matches(n,t.source,function(e,n){return s.matchesWords(e,t.source,!0)},i),this.whenMatches=t.when?this.matches(n,t.when,s.or(s.matchesWords,s.matchesCamelCase),i):null,this.keybindingMatches=t.keybinding?this.matchesKeybinding(t.keybinding,n,r):null}return e.prototype.matches=function(e,t,n,i){var r=S(e,t);return r||(r=this.matchesWords(i,t,n)),r&&(r=this.filterAndSort(r)),r},e.prototype.matchesWords=function(e,t,n){for(var i=[],r=0,o=e;r<o.length;r++){var s=n(o[r],t);if(!s){i=null;break}i=(i||[]).concat(s)}return i},e.prototype.filterAndSort=function(e){return i.distinct(e,function(e){return e.start+"."+e.end}).filter(function(t){return!e.some(function(e){return!(e.start===t.start&&e.end===t.end)&&e.start<=t.start&&e.end>=t.end})}).sort(function(e,t){return e.start-t.start})},e.prototype.matchesKeybinding=function(e,t,n){var i=e.getParts(),o=i[0],s=i[1];if(0===r.compareIgnoreCase(t,e.getAriaLabel())||0===r.compareIgnoreCase(t,e.getLabel()))return{firstPart:this.createCompleteMatch(o),chordPart:this.createCompleteMatch(s)};for(var a={},c={},l=[],u=[],d=[],h=!0,p=0;p<n.length;p++){var f=n[p],g=!1,v=!1;h=h&&!a.keyCode;var m=!c.keyCode;if(h&&(g=this.matchPart(o,a,f),a.keyCode)){for(var y=0,b=d;y<b.length;y++){var S=b[y];-1===u.indexOf(S)&&l.splice(l.indexOf(S),1)}c={},d=[],m=!1}m&&(v=this.matchPart(s,c,f)),g&&u.push(p),v&&d.push(p),(g||v)&&l.push(p),h=h&&this.isModifier(f)}return l.length!==n.length?null:(!this.completeMatch||this.isCompleteMatch(o,a)&&this.isCompleteMatch(s,c))&&(this.hasAnyMatch(a)||this.hasAnyMatch(c))?{firstPart:a,chordPart:c}:null},e.prototype.matchPart=function(e,t,n){var i=!1;return this.matchesMetaModifier(e,n)&&(i=!0,t.metaKey=!0),this.matchesCtrlModifier(e,n)&&(i=!0,t.ctrlKey=!0),this.matchesShiftModifier(e,n)&&(i=!0,t.shiftKey=!0),this.matchesAltModifier(e,n)&&(i=!0,t.altKey=!0),this.matchesKeyCode(e,n)&&(t.keyCode=!0,i=!0),i},e.prototype.matchesKeyCode=function(e,t){if(!e)return!1;var n=e.keyAriaLabel;if(1===n.length||1===t.length){if(0===r.compareIgnoreCase(n,t))return!0}else if(s.matchesContiguousSubString(t,n))return!0;return!1},e.prototype.matchesMetaModifier=function(e,t){return!!e&&(!!e.metaKey&&this.wordMatchesMetaModifier(t))},e.prototype.wordMatchesMetaModifier=function(e){return!!s.matchesPrefix(this.modifierLabels.ui.metaKey,e)||(!!s.matchesPrefix(this.modifierLabels.aria.metaKey,e)||(!!s.matchesPrefix(this.modifierLabels.user.metaKey,e)||!!s.matchesPrefix(n.localize(2,null),e)))},e.prototype.matchesCtrlModifier=function(e,t){return!!e&&(!!e.ctrlKey&&this.wordMatchesCtrlModifier(t))},e.prototype.wordMatchesCtrlModifier=function(e){return!!s.matchesPrefix(this.modifierLabels.ui.ctrlKey,e)||(!!s.matchesPrefix(this.modifierLabels.aria.ctrlKey,e)||!!s.matchesPrefix(this.modifierLabels.user.ctrlKey,e))},e.prototype.matchesShiftModifier=function(e,t){return!!e&&(!!e.shiftKey&&this.wordMatchesShiftModifier(t))},e.prototype.wordMatchesShiftModifier=function(e){return!!s.matchesPrefix(this.modifierLabels.ui.shiftKey,e)||(!!s.matchesPrefix(this.modifierLabels.aria.shiftKey,e)||!!s.matchesPrefix(this.modifierLabels.user.shiftKey,e))},e.prototype.matchesAltModifier=function(e,t){return!!e&&(!!e.altKey&&this.wordMatchesAltModifier(t))},e.prototype.wordMatchesAltModifier=function(e){return!!s.matchesPrefix(this.modifierLabels.ui.altKey,e)||(!!s.matchesPrefix(this.modifierLabels.aria.altKey,e)||(!!s.matchesPrefix(this.modifierLabels.user.altKey,e)||!!s.matchesPrefix(n.localize(3,null),e)))},e.prototype.hasAnyMatch=function(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||e.keyCode},e.prototype.isCompleteMatch=function(e,t){return!e||!!t.keyCode&&(!(e.metaKey&&!t.metaKey)&&(!(e.altKey&&!t.altKey)&&(!(e.ctrlKey&&!t.ctrlKey)&&!(e.shiftKey&&!t.shiftKey))))},e.prototype.createCompleteMatch=function(e){var t={};return e&&(t.keyCode=!0,e.metaKey&&(t.metaKey=!0),e.altKey&&(t.altKey=!0),e.ctrlKey&&(t.ctrlKey=!0),e.shiftKey&&(t.shiftKey=!0)),t},e.prototype.isModifier=function(e){return!!this.wordMatchesAltModifier(e)||(!!this.wordMatchesCtrlModifier(e)||(!!this.wordMatchesMetaModifier(e)||!!this.wordMatchesShiftModifier(e)))},e}()}),define(u[234],d([1,0,4,651,34,24,11,21,107,115,102,35,17,50,15,84,33,122,22,6,20,19,38,54,25,31,69,8,70,23]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A,L,P,D){"use strict";function O(e){var t=e.getConfiguration(),n=t.workbench&&t.workbench.commandPalette&&t.workbench.commandPalette.history;return"number"!=typeof n&&(n=F.DEFAULT_COMMANDS_HISTORY_LENGTH),n}Object.defineProperty(t,"__esModule",{value:!0}),t.ALL_COMMANDS_PREFIX=">";var R,M,N=1,F=function(){function e(e,t,n){this.storageService=e,this.lifecycleService=t,this.configurationService=n,this.updateConfiguration(),this.load(),this.registerListeners()}return e.prototype.updateConfiguration=function(){this.commandHistoryLength=O(this.configurationService),M&&M.setLimit(this.commandHistoryLength)},e.prototype.load=function(){var t,n=this.storageService.get(e.PREF_KEY_CACHE);if(n)try{t=JSON.parse(n)}catch(e){}M=new P.BoundedMap(this.commandHistoryLength,1,t),N=this.storageService.getInteger(e.PREF_KEY_COUNTER,void 0,N)},e.prototype.registerListeners=function(){var e=this;this.configurationService.onDidUpdateConfiguration(function(t){return e.updateConfiguration()}),L.once(this.lifecycleService.onShutdown)(function(t){return e.save()})},e.prototype.save=function(){this.storageService.store(e.PREF_KEY_CACHE,JSON.stringify(M.serialize())),this.storageService.store(e.PREF_KEY_COUNTER,N)},e.prototype.push=function(e){M.delete(e),M.set(e,N++)},e.prototype.get=function(e){return M.get(e)},e}();F.DEFAULT_COMMANDS_HISTORY_LENGTH=50,F.PREF_KEY_CACHE="commandPalette.mru.cache",F.PREF_KEY_COUNTER="commandPalette.mru.counter",F=v([y(0,x.IStorageService),y(1,A.ILifecycleService),y(2,D.IConfigurationService)],F);var W=function(e){function i(t,n,i,r){var o=e.call(this,t,n)||this;return o.quickOpenService=i,o.configurationService=r,o}return h(i,e),i.prototype.run=function(e){var i=this.configurationService.getConfiguration(),r=i.workbench&&i.workbench.commandPalette&&!0===i.workbench.commandPalette.preserveInput,o=t.ALL_COMMANDS_PREFIX;return r&&R&&(o=""+o+R),this.quickOpenService.show(o,{inputSelection:R?{start:1,end:o.length}:void 0}),n.TPromise.as(null)},i}(a.Action);W.ID="workbench.action.showCommands",W.LABEL=i.localize(0,null),W=v([y(2,T.IQuickOpenService),y(3,D.IConfigurationService)],W),t.ShowAllCommandsAction=W;var B=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.storageService=i,o.configurationService=r,o}return h(t,e),t.prototype.run=function(e){var t=O(this.configurationService);return t>0&&(M=new P.BoundedMap(t),N=1),n.TPromise.as(null)},t}(a.Action);B.ID="workbench.action.clearCommandHistory",B.LABEL=i.localize(1,null),B=v([y(2,x.IStorageService),y(3,D.IConfigurationService)],B),t.ClearCommandHistoryAction=B;var V=function(e){function r(){return e.call(this,{id:W.ID,label:i.localize(2,null),alias:"Command Palette",precondition:null,menuOpts:{}})||this}return h(r,e),r.prototype.run=function(e,i){return e.get(T.IQuickOpenService).show(t.ALL_COMMANDS_PREFIX),n.TPromise.as(null)},r}(k.EditorAction);V=v([k.editorAction],V);var z=function(e){function t(t,n,i,r,o,s,a,c){var l=e.call(this)||this;return l.commandId=t,l.keybinding=n,l.label=i,l.onBeforeRun=s,l.messageService=a,l.telemetryService=c,l.labelLowercase=l.label.toLowerCase(),l.keybindingAriaLabel=n?n.getAriaLabel():void 0,l.label!==r?l.alias=r:o.alias=null,l.setHighlights(o.label,null,o.alias),l}return h(t,e),t.prototype.getCommandId=function(){return this.commandId},t.prototype.getLabel=function(){return this.label},t.prototype.getSortLabel=function(){return this.labelLowercase},t.prototype.getDescription=function(){return this.description},t.prototype.setDescription=function(e){this.description=e},t.prototype.getKeybinding=function(){return this.keybinding},t.prototype.getDetail=function(){return this.alias},t.prototype.getAriaLabel=function(){return this.keybindingAriaLabel?i.localize(3,null,this.getLabel(),this.keybindingAriaLabel):i.localize(4,null,this.getLabel())},t.prototype.onError=function(e){var t=e;t&&"string"==typeof t.message&&Array.isArray(t.actions)?this.messageService.show(C.Severity.Error,t):this.messageService.show(C.Severity.Error,e?c.toErrorMessage(e):i.localize(5,null,this.label))},t.prototype.run=function(e,t){return e===l.Mode.OPEN&&(this.runAction(this.getAction()),!0)},t.prototype.runAction=function(e){var t=this;this.onBeforeRun(this.commandId),n.TPromise.timeout(50).done(function(){if(!e||e instanceof a.Action&&!e.enabled)t.messageService.show(C.Severity.Info,i.localize(6,null,t.getLabel()));else try{t.telemetryService.publicLog("workbenchActionExecuted",{id:e.id,from:"quick open"}),(e.run()||n.TPromise.as(null)).done(function(){e instanceof a.Action&&e.dispose()},function(e){return t.onError(e)})}catch(e){t.onError(e)}},function(e){return t.onError(e)})},t}(u.QuickOpenEntryGroup),H=function(e){function t(t,n,i,r,o,s,a,c,l,u){var d=e.call(this,t,n,i,r,o,a,l,u)||this;return d.actionDescriptor=s,d.instantiationService=c,d}return h(t,e),t.prototype.getAction=function(){return this.instantiationService.createInstance(this.actionDescriptor.syncDescriptor)},t}(z=v([y(6,C.IMessageService),y(7,w.ITelemetryService)],z));H=v([y(7,E.IInstantiationService),y(8,C.IMessageService),y(9,w.ITelemetryService)],H);var K=function(e){function t(t,n,i,r,o,s,a,c,l){var u=e.call(this,t,n,i,r,o,a,c,l)||this;return u.action=s,u}return h(t,e),t.prototype.getAction=function(){return this.action},t}(z);K=v([y(7,C.IMessageService),y(8,w.ITelemetryService)],K);var U=function(e){function t(t,n,i,r,o,s,a,c,l){var u=e.call(this,t,n,i,r,o,a,c,l)||this;return u.action=s,u}return h(t,e),t.prototype.getAction=function(){return this.action},t}(z);U=v([y(7,C.IMessageService),y(8,w.ITelemetryService)],U);var j=S.or(S.matchesPrefix,S.matchesWords,S.matchesContiguousSubString),G=function(e){function t(t,n,i,r,o,s){var a=e.call(this)||this;return a.editorService=t,a.instantiationService=n,a.keybindingService=i,a.menuService=r,a.contextKeyService=o,a.configurationService=s,a.commandsHistory=a.instantiationService.createInstance(F),a.configurationService.onDidUpdateConfiguration(function(e){return a.updateConfiguration()}),a.updateConfiguration(),a}return h(t,e),t.prototype.updateConfiguration=function(){this.commandHistoryEnabled=O(this.configurationService)>0},t.prototype.getResults=function(e){var t=this;e=e.trim(),this.lastSearchValue=e;var s=[],a=g.Registry.as(f.Extensions.WorkbenchActions).getWorkbenchActions();s=this.actionDescriptorsToEntries(a,e);var c=this.editorService.getActiveEditor(),l=c?c.getControl():null,h=[];if(l){var v=l;o.isFunction(v.getSupportedActions)&&(h=v.getSupportedActions())}var m=this.editorActionsToEntries(h,e),y=(b.isCommonCodeEditor(l)?l.invokeWithinContext(function(e){return t.menuService.createMenu(d.MenuId.CommandPalette,e.get(p.IContextKeyService))}):this.menuService.createMenu(d.MenuId.CommandPalette,this.contextKeyService)).getActions().reduce(function(e,t){var n=t[1];return e.concat(n)},[]),S=this.menuItemActionsToEntries(y,e),_=s.concat(m,S);_=r.distinct(_,function(e){return""+e.getLabel()+e.getGroupLabel()+e.getCommandId()});var E=new Set;_.forEach(function(e){var t=""+e.getLabel()+e.getGroupLabel();E.has(t)?e.setDescription(e.getCommandId()):E.add(t)});var C=(_=_.sort(function(e,n){var i=t.commandsHistory.get(e.getCommandId()),r=t.commandsHistory.get(n.getCommandId());return i&&r?i>r?-1:1:i?-1:r?1:e.getSortLabel().localeCompare(n.getSortLabel())}))[0];if(C&&this.commandsHistory.get(C.getCommandId())){C.setGroupLabel(i.localize(7,null));for(var w=1;w<_.length;w++){var I=_[w];if(!this.commandsHistory.get(I.getCommandId())){I.setShowBorder(!0),I.setGroupLabel(i.localize(8,null));break}}}return n.TPromise.as(new u.QuickOpenModel(_))},t.prototype.actionDescriptorsToEntries=function(e,t){for(var n=this,r=[],o=g.Registry.as(f.Extensions.WorkbenchActions),a=0;a<e.length;a++){var c=e[a];if(c.label){var l=c.label,u=o.getCategory(c.id);u&&(l=i.localize(9,null,u,l));var d=s.language!==s.LANGUAGE_DEFAULT?o.getAlias(c.id):null,h=j(t,l),p=d?j(t,d):null;(h||p)&&r.push(this.instantiationService.createInstance(H,c.id,this.keybindingService.lookupKeybinding(c.id),l,d,{label:h,alias:p},c,function(e){return n.onBeforeRunCommand(e)}))}}return r},t.prototype.editorActionsToEntries=function(e,t){for(var n=this,i=[],r=0;r<e.length;r++){var o=e[r];if(o.id!==W.ID){var a=o.label;if(a){var c=s.language!==s.LANGUAGE_DEFAULT?o.alias:null,l=j(t,a),u=c?j(t,c):null;(l||u)&&i.push(this.instantiationService.createInstance(K,o.id,this.keybindingService.lookupKeybinding(o.id),a,c,{label:l,alias:u},o,function(e){return n.onBeforeRunCommand(e)}))}}}return i},t.prototype.onBeforeRunCommand=function(e){R=this.lastSearchValue,this.commandsHistory.push(e)},t.prototype.menuItemActionsToEntries=function(e,t){for(var n=this,r=[],o=0,a=e;o<a.length;o++){var c=a[o],l="string"==typeof c.item.title?c.item.title:c.item.title.value,u=void 0,d=l;if(c.item.category&&(u="string"==typeof c.item.category?c.item.category:c.item.category.value,d=i.localize(10,null,u,l)),d){var h=j(t,d),p=s.language!==s.LANGUAGE_DEFAULT&&"string"!=typeof c.item.title?c.item.title.original:null,f=s.language!==s.LANGUAGE_DEFAULT&&u&&"string"!=typeof c.item.category?c.item.category.original:null,g=void 0;p&&u?g=f?f+": "+p:u+": "+p:p&&(g=p);var v=g?j(t,g):null;(h||v)&&r.push(this.instantiationService.createInstance(U,c.id,this.keybindingService.lookupKeybinding(c.item.id),d,g,{label:h,alias:v},c,function(e){return n.onBeforeRunCommand(e)}))}}return r},t.prototype.getAutoFocus=function(e,t){var n=e.trim();if(n&&this.commandHistoryEnabled){var i=t.model&&t.model.entries[0];i instanceof z&&this.commandsHistory.get(i.getCommandId())&&(n=void 0)}return{autoFocusFirstEntry:!0,autoFocusPrefixMatch:n}},t.prototype.getEmptyLabel=function(e){return i.localize(11,null)},t.prototype.onClose=function(e){e&&(R=void 0)},t}(m.QuickOpenHandler);G=v([y(0,_.IWorkbenchEditorService),y(1,E.IInstantiationService),y(2,I.IKeybindingService),y(3,d.IMenuService),y(4,p.IContextKeyService),y(5,D.IConfigurationService)],G),t.CommandsHandler=G}),define(u[1159],d([1,0,675,4,52,21,35,15,50,85,1123,334,76,7,54,39,123,42,62,130,202,1029,401]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E){"use strict";function C(e){return new i.TPromise(function(t,n,i){E.stat(e,function(e,n){return e?t(!1):n.isFile()?t(!0):void t(!1)})})}Object.defineProperty(t,"__esModule",{value:!0});var w=function(e){function t(t,n,i,r,o,s){var a=e.call(this,t,n)||this;return a.environmentService=i,a.quickOpenService=r,a.modeService=o,a.windowsService=s,a}return h(t,e),t.prototype.openFile=function(e){return this.windowsService.openWindow([e],{forceReuseWindow:!0})},t.prototype.run=function(){var e=this,t=[];return this.modeService.getRegisteredModes().forEach(function(n){var i=e.modeService.getLanguageName(n);i&&t.push({label:i,id:n})}),t=t.sort(function(e,t){return e.label.localeCompare(t.label)}),this.quickOpenService.pick(t,{placeHolder:n.localize(1,null)}).then(function(t){if(t){var o=r.join(e.environmentService.appSettingsHome,"snippets",t.id+".json");return C(o).then(function(i){if(i)return e.openFile(o);var r=["{","/*","\t// Place your snippets for "+t.label+" here. Each snippet is defined under a snippet name and has a prefix, body and ","\t// description. The prefix is what is used to trigger the snippet and the body will be expanded and inserted. Possible variables are:","\t// $1, $2 for tab stops, $0 for the final cursor position, and ${1:label}, ${2:another} for placeholders. Placeholders with the ","\t// same ids are connected.","\t// Example:",'\t"Print to console": {','\t\t"prefix": "log",','\t\t"body": [',"\t\t\t\"console.log('$1');\",",'\t\t\t"$2"',"\t\t],",'\t\t"description": "Log output to console"',"\t}","*/","}"].join("\n");return p.writeFile(o,r).then(function(){return e.openFile(o)},function(e){f.onUnexpectedError(n.localize(2,null,o))})})}return i.TPromise.as(null)})},t}(o.Action);w.ID="workbench.action.openSnippets",w.LABEL=n.localize(0,null),w=v([y(2,m.IEnvironmentService),y(3,g.IQuickOpenService),y(4,S.IModeService),y(5,_.IWindowsService)],w);var I=n.localize(3,null);a.Registry.as(c.Extensions.WorkbenchActions).registerWorkbenchAction(new s.SyncActionDescriptor(w,w.ID,w.LABEL),"Preferences: Open User Snippets",I),a.Registry.as(l.Extensions.Workbench).registerWorkbenchContribution(u.SnippetsTracker),a.Registry.as(l.Extensions.Workbench).registerWorkbenchContribution(d.MainProcessTextMateSnippet);var T="vscode://schemas/snippets",k={id:T,defaultSnippets:[{label:n.localize(4,null),body:{"${1:snippetName}":{prefix:"${2:prefix}",body:"${3:snippet}",description:"${4:description}"}}}],type:"object",description:n.localize(5,null),additionalProperties:{type:"object",required:["prefix","body"],properties:{prefix:{description:n.localize(6,null),type:"string"},body:{description:n.localize(7,null),type:["string","array"],items:{type:"string"}},description:{description:n.localize(8,null),type:"string"}},additionalProperties:!1}};a.Registry.as(b.Extensions.JSONContribution).registerSchema(T,k)}),define(u[1160],d([1,0,7,8,17,69,78,47,23,120,4]),function(e,t,n,i,r,o,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e,t,n,r,o){var s=this;this._contextKeyService=e,this._configurationService=t,this._panelService=n,this._partService=r,this._terminalInstances=[],this._activeTerminalInstanceIndex=0,this._isShuttingDown=!1,this._onActiveInstanceChanged=new i.Emitter,this._onInstanceDisposed=new i.Emitter,this._onInstanceProcessIdReady=new i.Emitter,this._onInstanceData=new i.Emitter,this._onInstanceTitleChanged=new i.Emitter,this._onInstancesChanged=new i.Emitter,this._configurationService.onDidUpdateConfiguration(function(){return s.updateConfig()}),o.onWillShutdown(function(e){return e.veto(s._onWillShutdown())}),this._terminalFocusContextKey=l.KEYBINDING_CONTEXT_TERMINAL_FOCUS.bindTo(this._contextKeyService),this._findWidgetVisible=l.KEYBINDING_CONTEXT_TERMINAL_FIND_WIDGET_VISIBLE.bindTo(this._contextKeyService),this.onInstanceDisposed(function(e){s._removeInstance(e)})}return Object.defineProperty(e.prototype,"activeTerminalInstanceIndex",{get:function(){return this._activeTerminalInstanceIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onActiveInstanceChanged",{get:function(){return this._onActiveInstanceChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onInstanceDisposed",{get:function(){return this._onInstanceDisposed.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onInstanceProcessIdReady",{get:function(){return this._onInstanceProcessIdReady.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onInstanceData",{get:function(){return this._onInstanceData.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onInstanceTitleChanged",{get:function(){return this._onInstanceTitleChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onInstancesChanged",{get:function(){return this._onInstancesChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"terminalInstances",{get:function(){return this._terminalInstances},enumerable:!0,configurable:!0}),e.prototype._onWillShutdown=function(){return 0!==this.terminalInstances.length&&(!(!this.configHelper.config.confirmOnExit||!this._showTerminalCloseConfirmation())||(this._isShuttingDown=!0,this.terminalInstances.forEach(function(e){e.dispose()}),!1))},e.prototype.getInstanceLabels=function(){return this._terminalInstances.map(function(e,t){return t+1+": "+e.title})},e.prototype._removeInstance=function(e){var t=this.terminalInstances.indexOf(e),n=e===this.getActiveInstance();if(-1!==t&&this.terminalInstances.splice(t,1),n&&this.terminalInstances.length>0){var i=t<this.terminalInstances.length?t:this.terminalInstances.length-1;this.setActiveInstanceByIndex(i),e.hadFocusOnExit&&this.getActiveInstance().focus(!0)}0!==this.terminalInstances.length||this._isShuttingDown||this.hidePanel(),this._onInstancesChanged.fire(),n&&this._onActiveInstanceChanged.fire()},e.prototype.getActiveInstance=function(){return this.activeTerminalInstanceIndex<0||this.activeTerminalInstanceIndex>=this.terminalInstances.length?null:this.terminalInstances[this.activeTerminalInstanceIndex]},e.prototype.getInstanceFromId=function(e){return this.terminalInstances[this._getIndexFromId(e)]},e.prototype.setActiveInstance=function(e){this.setActiveInstanceByIndex(this._getIndexFromId(e.id))},e.prototype.setActiveInstanceByIndex=function(e){if(!(e>=this._terminalInstances.length)){var t=this._activeTerminalInstanceIndex!==e;this._activeTerminalInstanceIndex=e,this._terminalInstances.forEach(function(t,n){t.setVisible(n===e)}),t&&this._onActiveInstanceChanged.fire()}},e.prototype.setActiveInstanceToNext=function(){if(!(this.terminalInstances.length<=1)){var e=this._activeTerminalInstanceIndex+1;e>=this.terminalInstances.length&&(e=0),this.setActiveInstanceByIndex(e)}},e.prototype.setActiveInstanceToPrevious=function(){if(!(this.terminalInstances.length<=1)){var e=this._activeTerminalInstanceIndex-1;e<0&&(e=this.terminalInstances.length-1),this.setActiveInstanceByIndex(e)}},e.prototype.showPanel=function(e){var t=this;return new u.TPromise(function(n){var i=t._panelService.getActivePanel();if(!i||i.getId()!==l.TERMINAL_PANEL_ID)return t._panelService.openPanel(l.TERMINAL_PANEL_ID,e).then(function(){e&&t.getActiveInstance().focus(!0),n(void 0)});e&&t.getActiveInstance().focus(!0),n(void 0)})},e.prototype.hidePanel=function(){var e=this._panelService.getActivePanel();e&&e.getId()===l.TERMINAL_PANEL_ID&&this._partService.setPanelHidden(!0).done(void 0,n.onUnexpectedError)},e.prototype._getIndexFromId=function(e){var t=-1;if(this.terminalInstances.forEach(function(n,i){n.id===e&&(t=i)}),-1===t)throw new Error("Terminal with ID "+e+" does not exist (has it already been disposed?)");return t},e.prototype.updateConfig=function(){this.terminalInstances.forEach(function(e){return e.updateConfig()})},e.prototype.setWorkspaceShellAllowed=function(e){this.configHelper.setWorkspaceShellAllowed(e)},e}();d=v([y(0,r.IContextKeyService),y(1,c.IConfigurationService),y(2,s.IPanelService),y(3,a.IPartService),y(4,o.ILifecycleService)],d),t.TerminalService=d}),define(u[299],d([1,0,693,96,21,33,56,120,49,4,106,47,78,20,55,13,54]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var S=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n,a.TERMINAL_PANEL_ID,i,r)||this;return s.terminalService=o,s}return h(t,e),t.prototype.run=function(t){return 0===this.terminalService.terminalInstances.length&&this.terminalService.createInstance(void 0,!0),e.prototype.run.call(this)},t}(u.TogglePanelAction);S.ID="workbench.action.terminal.toggleTerminal",S.LABEL=n.localize(0,null),S=v([y(2,p.IPanelService),y(3,d.IPartService),y(4,a.ITerminalService)],S),t.ToggleTerminalAction=S;var _=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.terminalService=i,r.class="terminal-action kill",r}return h(t,e),t.prototype.run=function(e){return this.terminalService.getActiveInstance()&&(this.terminalService.getActiveInstance().dispose(),this.terminalService.terminalInstances.length>0&&this.terminalService.showPanel(!0)),l.TPromise.as(void 0)},t}(r.Action);_.ID="workbench.action.terminal.kill",_.LABEL=n.localize(1,null),_.PANEL_LABEL=n.localize(2,null),_=v([y(2,a.ITerminalService)],_),t.KillTerminalAction=_;var E=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.terminalService=i,r}return h(t,e),t.prototype.run=function(e){var t=this.terminalService.getActiveInstance();return t&&t.copySelection(),l.TPromise.as(void 0)},t}(r.Action);E.ID="workbench.action.terminal.copySelection",E.LABEL=n.localize(3,null),E=v([y(2,a.ITerminalService)],E),t.CopyTerminalSelectionAction=E;var C=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.terminalService=i,r}return h(t,e),t.prototype.run=function(e){var t=this.terminalService.getActiveInstance();return t&&t.selectAll(),l.TPromise.as(void 0)},t}(r.Action);C.ID="workbench.action.terminal.selectAll",C.LABEL=n.localize(4,null),C=v([y(2,a.ITerminalService)],C),t.SelectAllTerminalAction=C;var w=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.terminalService=i,r.class="terminal-action new",r}return h(t,e),t.prototype.run=function(e){var t=this.terminalService.createInstance(void 0,!0);return t?(this.terminalService.setActiveInstance(t),this.terminalService.showPanel(!0)):l.TPromise.as(void 0)},t}(r.Action);w.ID="workbench.action.terminal.new",w.LABEL=n.localize(5,null),w.PANEL_LABEL=n.localize(6,null),w=v([y(2,a.ITerminalService)],w),t.CreateNewTerminalAction=w;var I=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.terminalService=i,r}return h(t,e),t.prototype.run=function(e){var t=this.terminalService.getActiveOrCreateInstance(!0);return t?(this.terminalService.setActiveInstance(t),this.terminalService.showPanel(!0)):l.TPromise.as(void 0)},t}(r.Action);I.ID="workbench.action.terminal.focus",I.LABEL=n.localize(7,null),I=v([y(2,a.ITerminalService)],I),t.FocusActiveTerminalAction=I;var T=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.terminalService=i,r}return h(t,e),t.prototype.run=function(e){return this.terminalService.setActiveInstanceToNext(),this.terminalService.showPanel(!0)},t}(r.Action);T.ID="workbench.action.terminal.focusNext",T.LABEL=n.localize(8,null),T=v([y(2,a.ITerminalService)],T),t.FocusNextTerminalAction=T;var k=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.terminalService=i,r}return h(t,e),t.prototype.run=function(e){return this.terminalService.setActiveInstanceByIndex(this.getTerminalNumber()-1),this.terminalService.showPanel(!0)},t.getId=function(e){return t.ID_PREFIX+e},t.getLabel=function(e){return n.localize(9,null,e)},t.prototype.getTerminalNumber=function(){return parseInt(this.id.substr(t.ID_PREFIX.length))},t}(r.Action);k.ID_PREFIX="workbench.action.terminal.focusAtIndex",k=v([y(2,a.ITerminalService)],k),t.FocusTerminalAtIndexAction=k;var x=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.terminalService=i,r}return h(t,e),t.prototype.run=function(e){return this.terminalService.setActiveInstanceToPrevious(),this.terminalService.showPanel(!0)},t}(r.Action);x.ID="workbench.action.terminal.focusPrevious",x.LABEL=n.localize(10,null),x=v([y(2,a.ITerminalService)],x),t.FocusPreviousTerminalAction=x;var A=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.terminalService=i,r}return h(t,e),t.prototype.run=function(e){var t=this.terminalService.getActiveOrCreateInstance();return t&&t.paste(),l.TPromise.as(void 0)},t}(r.Action);A.ID="workbench.action.terminal.paste",A.LABEL=n.localize(11,null),A=v([y(2,a.ITerminalService)],A),t.TerminalPasteAction=A;var L=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.terminalService=i,r}return h(t,e),t.prototype.run=function(e){return this.terminalService.selectDefaultWindowsShell()},t}(r.Action);L.ID="workbench.action.terminal.selectDefaultShell",L.LABEL=n.localize(12,null),L=v([y(2,a.ITerminalService)],L),t.SelectDefaultShellWindowsTerminalAction=L;var P=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.codeEditorService=i,o.terminalService=r,o}return h(t,e),t.prototype.run=function(e){var t=this.terminalService.getActiveOrCreateInstance();if(!t)return l.TPromise.as(void 0);var n=this.codeEditorService.getFocusedCodeEditor();if(!n)return l.TPromise.as(void 0);var r,s=n.getSelection();if(s.isEmpty())r=n.getModel().getLineContent(s.selectionStartLineNumber).trim();else{var a="\n"===i.EOL?o.EndOfLinePreference.LF:o.EndOfLinePreference.CRLF;r=n.getModel().getValueInRange(s,a)}return t.sendText(r,!0),this.terminalService.showPanel()},t}(r.Action);P.ID="workbench.action.terminal.runSelectedText",P.LABEL=n.localize(13,null),P=v([y(2,s.ICodeEditorService),y(3,a.ITerminalService)],P),t.RunSelectedTextInTerminalAction=P;var D=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n)||this;return s.codeEditorService=i,s.terminalService=r,s.messageService=o,s}return h(t,e),t.prototype.run=function(e){var t=this.terminalService.getActiveOrCreateInstance();if(!t)return l.TPromise.as(void 0);var i=this.codeEditorService.getFocusedCodeEditor();if(!i)return l.TPromise.as(void 0);var r=i.getModel().uri;return"file"!==r.scheme?(this.messageService.show(f.Severity.Warning,n.localize(15,null)),l.TPromise.as(void 0)):(t.sendText(r.fsPath,!0),this.terminalService.showPanel())},t}(r.Action);D.ID="workbench.action.terminal.runActiveFile",D.LABEL=n.localize(14,null),D=v([y(2,s.ICodeEditorService),y(3,a.ITerminalService),y(4,f.IMessageService)],D),t.RunActiveFileInTerminalAction=D;var O=function(e){function t(n,i,r){var o=e.call(this,t.ID,t.LABEL)||this;return o.terminalService=r,o.class="terminal-action switch-terminal-instance",o}return h(t,e),t.prototype.run=function(e){if(!e||!e.split)return l.TPromise.as(null);var t=parseInt(e.split(":")[0],10)-1;return this.terminalService.setActiveInstanceByIndex(t),this.terminalService.showPanel(!0)},t}(r.Action);O.ID="workbench.action.terminal.switchTerminalInstance",O.LABEL=n.localize(16,null),O=v([y(2,a.ITerminalService)],O),t.SwitchTerminalInstanceAction=O;var R=function(e){function t(t,n,i){var r=e.call(this,null,t,n.getInstanceLabels(),n.activeTerminalInstanceIndex)||this;return r.terminalService=n,r.toDispose.push(n.onInstancesChanged(r._updateItems,r)),r.toDispose.push(n.onActiveInstanceChanged(r._updateItems,r)),r.toDispose.push(n.onInstanceTitleChanged(r._updateItems,r)),r.toDispose.push(g.attachSelectBoxStyler(r.selectBox,i)),r}return h(t,e),t.prototype._updateItems=function(){this.setOptions(this.terminalService.getInstanceLabels(),this.terminalService.activeTerminalInstanceIndex)},t}(c.SelectActionItem);R=v([y(1,a.ITerminalService),y(2,m.IThemeService)],R),t.SwitchTerminalInstanceActionItem=R;var M=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.terminalService=i,r}return h(t,e),t.prototype.run=function(e){var t=this.terminalService.getActiveInstance();return t&&t.scrollDownLine(),l.TPromise.as(void 0)},t}(r.Action);M.ID="workbench.action.terminal.scrollDown",M.LABEL=n.localize(17,null),M=v([y(2,a.ITerminalService)],M),t.ScrollDownTerminalAction=M;var N=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.terminalService=i,r}return h(t,e),t.prototype.run=function(e){var t=this.terminalService.getActiveInstance();return t&&t.scrollDownPage(),l.TPromise.as(void 0)},t}(r.Action);N.ID="workbench.action.terminal.scrollDownPage",N.LABEL=n.localize(18,null),N=v([y(2,a.ITerminalService)],N),t.ScrollDownPageTerminalAction=N;var F=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.terminalService=i,r}return h(t,e),t.prototype.run=function(e){var t=this.terminalService.getActiveInstance();return t&&t.scrollToBottom(),l.TPromise.as(void 0)},t}(r.Action);F.ID="workbench.action.terminal.scrollToBottom",F.LABEL=n.localize(19,null),F=v([y(2,a.ITerminalService)],F),t.ScrollToBottomTerminalAction=F;var W=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.terminalService=i,r}return h(t,e),t.prototype.run=function(e){var t=this.terminalService.getActiveInstance();return t&&t.scrollUpLine(),l.TPromise.as(void 0)},t}(r.Action);W.ID="workbench.action.terminal.scrollUp",W.LABEL=n.localize(20,null),W=v([y(2,a.ITerminalService)],W),t.ScrollUpTerminalAction=W;var B=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.terminalService=i,r}return h(t,e),t.prototype.run=function(e){var t=this.terminalService.getActiveInstance();return t&&t.scrollUpPage(),l.TPromise.as(void 0)},t}(r.Action);B.ID="workbench.action.terminal.scrollUpPage",B.LABEL=n.localize(21,null),B=v([y(2,a.ITerminalService)],B),t.ScrollUpPageTerminalAction=B;var V=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.terminalService=i,r}return h(t,e),t.prototype.run=function(e){var t=this.terminalService.getActiveInstance();return t&&t.scrollToTop(),l.TPromise.as(void 0)},t}(r.Action);V.ID="workbench.action.terminal.scrollToTop",V.LABEL=n.localize(22,null),V=v([y(2,a.ITerminalService)],V),t.ScrollToTopTerminalAction=V;var z=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.terminalService=i,r}return h(t,e),t.prototype.run=function(e){var t=this.terminalService.getActiveInstance();return t&&t.clear(),l.TPromise.as(void 0)},t}(r.Action);z.ID="workbench.action.terminal.clear",z.LABEL=n.localize(23,null),z=v([y(2,a.ITerminalService)],z),t.ClearTerminalAction=z;var H=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.terminalService=i,r}return h(t,e),t.prototype.run=function(e){return this.terminalService.setWorkspaceShellAllowed(!0),l.TPromise.as(void 0)},t}(r.Action);H.ID="workbench.action.terminal.allowWorkspaceShell",H.LABEL=n.localize(24,null),H=v([y(2,a.ITerminalService)],H),t.AllowWorkspaceShellTerminalCommand=H;var K=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.terminalService=i,r}return h(t,e),t.prototype.run=function(e){return this.terminalService.setWorkspaceShellAllowed(!1),l.TPromise.as(void 0)},t}(r.Action);K.ID="workbench.action.terminal.disallowWorkspaceShell",K.LABEL=n.localize(25,null),K=v([y(2,a.ITerminalService)],K),t.DisallowWorkspaceShellTerminalCommand=K;var U=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.quickOpenService=i,o.terminalService=r,o}return h(t,e),t.prototype.run=function(){var e=this.terminalService.getActiveInstance();return e?this.quickOpenService.input({prompt:n.localize(27,null)}).then(function(t){t&&e.setTitle(t)}):l.TPromise.as(void 0)},t}(r.Action);U.ID="workbench.action.terminal.rename",U.LABEL=n.localize(26,null),U=v([y(2,b.IQuickOpenService),y(3,a.ITerminalService)],U),t.RenameTerminalAction=U;var j=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.terminalService=i,r}return h(t,e),t.prototype.run=function(){return this.terminalService.focusFindWidget()},t}(r.Action);j.ID="workbench.action.terminal.focusFindWidget",j.LABEL=n.localize(28,null),j=v([y(2,a.ITerminalService)],j),t.FocusTerminalFindWidgetAction=j;var G=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.terminalService=i,r}return h(t,e),t.prototype.run=function(){return l.TPromise.as(this.terminalService.hideFindWidget())},t}(r.Action);G.ID="workbench.action.terminal.hideFindWidget",G.LABEL=n.localize(29,null),G=v([y(2,a.ITerminalService)],G),t.HideTerminalFindWidgetAction=G}),define(u[1162],d([1,0,9,699,11,40,49,23,41,6,19,120,13,1054,321,29,74,299,106,86,4,16]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var I=function(e){function t(t,n,i,r,o,s,a){var c=e.call(this,d.TERMINAL_PANEL_ID,a,s)||this;return c._configurationService=t,c._contextMenuService=n,c._contextViewService=i,c._instantiationService=r,c._terminalService=o,c.themeService=s,c._cancelContextMenu=!1,c}return h(t,e),t.prototype.create=function(t){var i=this;return e.prototype.create.call(this,t),this._parentDomElement=t.getHTMLElement(),n.addClass(this._parentDomElement,"integrated-terminal"),this._themeStyleElement=document.createElement("style"),this._fontStyleElement=document.createElement("style"),this._terminalContainer=document.createElement("div"),n.addClass(this._terminalContainer,"terminal-outer-container"),this._findWidget=new f.TerminalFindWidget(this._contextViewService,this._terminalService),this._parentDomElement.appendChild(this._themeStyleElement),this._parentDomElement.appendChild(this._fontStyleElement),this._parentDomElement.appendChild(this._terminalContainer),this._parentDomElement.appendChild(this._findWidget.getDomNode()),this._attachEventListeners(),this._terminalService.setContainers(this.getContainer().getHTMLElement(),this._terminalContainer),this._register(this.themeService.onThemeChange(function(e){return i._updateTheme(e)})),this._register(this._configurationService.onDidUpdateConfiguration(function(){return i._updateFont()})),this._updateFont(),this._updateTheme(),this.layout(new o.Dimension(this._terminalContainer.offsetWidth,this._terminalContainer.offsetHeight)),C.TPromise.as(void 0)},t.prototype.layout=function(e){e&&this._terminalService.terminalInstances.forEach(function(t){t.layout(e)})},t.prototype.setVisible=function(t){var n=this;if(t){if(!(this._terminalService.terminalInstances.length>0))return e.prototype.setVisible.call(this,t).then(function(){return n._terminalService.createInstance()&&(n._updateFont(),n._updateTheme()),C.TPromise.as(void 0)});this._updateFont(),this._updateTheme()}return e.prototype.setVisible.call(this,t)},t.prototype.getActions=function(){var e=this;return this._actions||(this._actions=[this._instantiationService.createInstance(S.SwitchTerminalInstanceAction,S.SwitchTerminalInstanceAction.ID,S.SwitchTerminalInstanceAction.LABEL),this._instantiationService.createInstance(S.CreateNewTerminalAction,S.CreateNewTerminalAction.ID,S.CreateNewTerminalAction.PANEL_LABEL),this._instantiationService.createInstance(S.KillTerminalAction,S.KillTerminalAction.ID,S.KillTerminalAction.PANEL_LABEL)],this._actions.forEach(function(t){e._register(t)})),this._actions},t.prototype._getContextMenuActions=function(){var e=this;this._contextMenuActions||(this._copyContextMenuAction=this._instantiationService.createInstance(S.CopyTerminalSelectionAction,S.CopyTerminalSelectionAction.ID,i.localize(0,null)),this._contextMenuActions=[this._instantiationService.createInstance(S.CreateNewTerminalAction,S.CreateNewTerminalAction.ID,i.localize(1,null)),new s.Separator,this._copyContextMenuAction,this._instantiationService.createInstance(S.TerminalPasteAction,S.TerminalPasteAction.ID,i.localize(2,null)),this._instantiationService.createInstance(S.SelectAllTerminalAction,S.SelectAllTerminalAction.ID,i.localize(3,null)),new s.Separator,this._instantiationService.createInstance(S.ClearTerminalAction,S.ClearTerminalAction.ID,i.localize(4,null))],this._contextMenuActions.forEach(function(t){e._register(t)}));var t=this._terminalService.getActiveInstance();return this._copyContextMenuAction.enabled=t&&t.hasSelection(),this._contextMenuActions},t.prototype.getActionItem=function(t){return t.id===S.SwitchTerminalInstanceAction.ID?this._instantiationService.createInstance(S.SwitchTerminalInstanceActionItem,t):e.prototype.getActionItem.call(this,t)},t.prototype.focus=function(){var e=this._terminalService.getActiveInstance();e&&e.focus(!0)},t.prototype.focusFindWidget=function(){this._findWidget.reveal()},t.prototype.hideFindWidget=function(){this._findWidget.hide()},t.prototype._attachEventListeners=function(){var e=this;this._register(n.addDisposableListener(this._parentDomElement,"mousedown",function(t){if(0!==e._terminalService.terminalInstances.length)if(2===t.which&&r.isLinux)e._terminalService.getActiveInstance().focus();else if(3===t.which&&e._terminalService.configHelper.config.rightClickCopyPaste){var n=e._terminalService.getActiveInstance();n.hasSelection()?(n.copySelection(),n.clearSelection()):n.paste(),r.isMacintosh&&setTimeout(function(){n.clearSelection()},0),e._cancelContextMenu=!0}})),this._register(n.addDisposableListener(this._parentDomElement,"contextmenu",function(t){if(!e._cancelContextMenu){var n=new E.StandardMouseEvent(t),i={x:n.posx,y:n.posy};e._contextMenuService.showContextMenu({getAnchor:function(){return i},getActions:function(){return C.TPromise.as(e._getContextMenuActions())},getActionsContext:function(){return e._parentDomElement}})}e._cancelContextMenu=!1})),this._register(n.addDisposableListener(this._parentDomElement,"click",function(t){3!==t.which&&e._terminalService.getActiveInstance()&&e._terminalService.getActiveInstance().focus()})),this._register(n.addDisposableListener(this._parentDomElement,"keyup",function(e){27===e.keyCode&&e.stopPropagation()})),this._register(n.addDisposableListener(this._parentDomElement,n.EventType.DROP,function(t){if(t.target===e._parentDomElement||n.isAncestor(t.target,e._parentDomElement)){if(!t.dataTransfer)return;var i=t.dataTransfer.getData("URL");if(i?i=w.default.parse(i).path:t.dataTransfer.files.length>0&&(i=w.default.file(t.dataTransfer.files[0].path).path),!i)return;e._terminalService.getActiveInstance().sendText(e._preparePathForTerminal(i),!1)}}))},t.prototype._updateTheme=function(e){e||(e=this.themeService.getTheme());var t="";g.ansiColorIdentifiers.forEach(function(n,i){if(n){var r=e.getColor(n);t+=".monaco-workbench .panel.integrated-terminal .xterm .xterm-color-"+i+" { color: "+r+"; }.monaco-workbench .panel.integrated-terminal .xterm .xterm-bg-color-"+i+" { background-color: "+r+"; }"}});var n=e.getColor(g.TERMINAL_BACKGROUND_COLOR);n&&(t+=".monaco-workbench .panel.integrated-terminal .terminal-outer-container { background-color: "+n+"; }");var i=e.getColor(g.TERMINAL_FOREGROUND_COLOR);i&&(t+=".monaco-workbench .panel.integrated-terminal .xterm { color: "+i+"; }");var r=e.getColor(g.TERMINAL_CURSOR_FOREGROUND_COLOR)||i;r&&(t+=".monaco-workbench .panel.integrated-terminal .xterm:not(.xterm-cursor-style-underline):not(.xterm-cursor-style-bar).focus .terminal-cursor,.monaco-workbench .panel.integrated-terminal .xterm:not(.xterm-cursor-style-underline):not(.xterm-cursor-style-bar):focus .terminal-cursor { background-color: "+r+" }.monaco-workbench .panel.integrated-terminal .xterm:not(.focus):not(:focus) .terminal-cursor { outline-color: "+r+"; }.monaco-workbench .panel.integrated-terminal .xterm.xterm-cursor-style-bar .terminal-cursor::before,.monaco-workbench .panel.integrated-terminal .xterm.xterm-cursor-style-underline .terminal-cursor::before { background-color: "+r+"; }.monaco-workbench .panel.integrated-terminal .xterm.xterm-cursor-style-bar.focus.xterm-cursor-blink .terminal-cursor::before,.monaco-workbench .panel.integrated-terminal .xterm.xterm-cursor-style-underline.focus.xterm-cursor-blink .terminal-cursor::before { background-color: "+r+"; }");var o=e.getColor(g.TERMINAL_CURSOR_BACKGROUND_COLOR)||n||e.getColor(b.PANEL_BACKGROUND);o&&(t+=".monaco-workbench .panel.integrated-terminal .xterm:not(.xterm-cursor-style-underline):not(.xterm-cursor-style-bar).focus .terminal-cursor,.monaco-workbench .panel.integrated-terminal .xterm:not(.xterm-cursor-style-underline):not(.xterm-cursor-style-bar):focus .terminal-cursor { color: "+o+" }");var s=e.getColor(m.editorHoverBackground);s&&(t+=".monaco-workbench .panel.integrated-terminal .terminal-message-widget { background-color: "+s+"; }");var a=e.getColor(m.editorHoverBorder);a&&(t+=".monaco-workbench .panel.integrated-terminal .terminal-message-widget { border: 1px solid "+a+"; }"),this._themeStyleElement.innerHTML=t,this._findWidget.updateTheme(e)},t.prototype._updateFont=function(){if(0!==this._terminalService.terminalInstances.length){var e=this._terminalService.configHelper.getFont();n.toggleClass(this._parentDomElement,"enable-ligatures",this._terminalService.configHelper.config.fontLigatures),n.toggleClass(this._parentDomElement,"disable-bold",!this._terminalService.configHelper.config.enableBold),this._font&&!this._fontsDiffer(this._font,e)||(this._fontStyleElement.innerHTML=".monaco-workbench .panel.integrated-terminal .xterm {font-family: "+e.fontFamily+";font-size: "+e.fontSize+";line-height: "+e.lineHeight+";}",this._font=e),this.layout(new o.Dimension(this._parentDomElement.offsetWidth,this._parentDomElement.offsetHeight))}},t.prototype._fontsDiffer=function(e,t){return e.charHeight!==t.charHeight||e.charWidth!==t.charWidth||e.fontFamily!==t.fontFamily||e.fontSize!==t.fontSize||e.lineHeight!==t.lineHeight},t.prototype._preparePathForTerminal=function(e){if(r.isWindows)return/\s+/.test(e)?'"'+e+'"':e;e=e.replace(/(%5C|\\)/g,"\\\\");for(var t=[" ","'",'"',"?",":",";","!","*","(",")","{","}","[","]"],n=0;n<e.length;n++)t.indexOf(e.charAt(n))>=0&&(e=e.substring(0,n)+"\\"+e.charAt(n)+e.substring(n+1),n++);return e},t}(_.Panel);I=v([y(0,a.IConfigurationService),y(1,c.IContextMenuService),y(2,c.IContextViewService),y(3,l.IInstantiationService),y(4,d.ITerminalService),y(5,p.IThemeService),y(6,u.ITelemetryService)],I),t.TerminalPanel=I}),define(u[1163],d([1,0,4,183,5,9,19,13,318,264,119,42,242,47,338,31]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m){"use strict";function b(t){return'<!DOCTYPE html>\n\t\t<html>\n\t\t\t<head>\n\t\t\t\t<base href="https://code.visualstudio.com/raw/">\n\t\t\t\t<meta http-equiv="Content-type" content="text/html;charset=UTF-8">\n\t\t\t\t<meta http-equiv="Content-Security-Policy" content="default-src \'none\'; img-src https: data:; media-src https:; script-src \'none\'; style-src file: https: \'unsafe-inline\'; child-src \'none\'; frame-src \'none\';">\n\t\t\t\t<link rel="stylesheet" type="text/css" href="'+e.toUrl("./media/markdown.css")+'">\n\t\t\t</head>\n\t\t\t<body>'+t+"</body>\n\t\t</html>"}Object.defineProperty(t,"__esModule",{value:!0});var S=function(e){function t(n,i,r,o,s,a){var c=e.call(this,t.ID,n,i,a)||this;return c.themeService=i,c.openerService=r,c.modeService=o,c.partService=s,c.contentDisposables=[],c.scrollYPercentage=0,c}return h(t,e),t.prototype.createEditor=function(e){var t=e.getHTMLElement();this.content=o.append(t,o.$(".release-notes",{style:"height: 100%"}))},t.prototype.setInput=function(t,o){var s=this;if(this.input&&this.input.matches(t))return n.TPromise.as(void 0);var a=t.text;return this.contentDisposables=r.dispose(this.contentDisposables),this.content.innerHTML="",e.prototype.setInput.call(this,t,o).then(function(){var e=[],t=new i.marked.Renderer;return t.code=function(t,n){var i=s.modeService.getModeIdForLanguageName(n);return e.push(s.modeService.getOrCreateMode(i)),""},i.marked(a,{renderer:t}),n.TPromise.join(e)}).then(function(){var e=new i.marked.Renderer;return e.code=function(e,t){var n=s.modeService.getModeIdForLanguageName(t);return"<code>"+p.tokenizeToString(e,n)+"</code>"},i.marked(a,{renderer:e})}).then(b).then(function(e){if(s.webview=new l.default(s.content,s.partService.getContainer(f.Parts.EDITOR_PART)),s.input&&s.input instanceof c.ReleaseNotesInput){var t=s.loadViewState(s.input.version);t&&(s.webview.initialScrollProgress=t.scrollYPercentage)}s.webview.style(s.themeService.getTheme()),s.webview.contents=[e],s.webview.onDidClickLink(function(e){return s.openerService.open(e)},null,s.contentDisposables),s.webview.onDidScroll(function(e){s.scrollYPercentage=e.scrollYPercentage},null,s.contentDisposables),s.themeService.onThemeChange(function(e){return s.webview.style(e)},null,s.contentDisposables),s.contentDisposables.push(s.webview),s.contentDisposables.push(r.toDisposable(function(){return s.webview=null}))})},t.prototype.layout=function(){this.webview&&this.webview.layout()},t.prototype.focus=function(){this.webview&&this.webview.focus()},t.prototype.dispose=function(){this.contentDisposables=r.dispose(this.contentDisposables),e.prototype.dispose.call(this)},t.prototype.getViewState=function(){return{scrollYPercentage:this.scrollYPercentage}},t.prototype.clearInput=function(){this.input instanceof c.ReleaseNotesInput&&this.saveViewState(this.input.version,{scrollYPercentage:this.scrollYPercentage}),e.prototype.clearInput.call(this)},t.prototype.shutdown=function(){this.input instanceof c.ReleaseNotesInput&&this.saveViewState(this.input.version,{scrollYPercentage:this.scrollYPercentage}),e.prototype.shutdown.call(this)},t}(g.WebviewEditor);S.ID="workbench.editor.releaseNotes",S=v([y(0,s.ITelemetryService),y(1,a.IThemeService),y(2,u.IOpenerService),y(3,d.IModeService),y(4,f.IPartService),y(5,m.IStorageService)],S),t.ReleaseNotesEditor=S}),define(u[1164],d([1,0,40,9,15,38,234,22,47,709,21,50,35,32,5,17,6,13,29,58,942]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var C,w=[{id:"explorer",arrow:"&larr;",label:l.localize(0,null),command:"workbench.view.explorer"},{id:"search",arrow:"&larr;",label:l.localize(1,null),command:"workbench.view.search"},{id:"git",arrow:"&larr;",label:l.localize(2,null),command:"workbench.view.scm"},{id:"debug",arrow:"&larr;",label:l.localize(3,null),command:"workbench.view.debug"},{id:"extensions",arrow:"&larr;",label:l.localize(4,null),command:"workbench.view.extensions"},{id:"problems",arrow:"&larrpl;",label:l.localize(5,null),command:"workbench.actions.view.problems"},{id:"commandPalette",arrow:"&nwarr;",label:l.localize(6,null),command:s.ShowAllCommandsAction.ID}],I=new m.RawContextKey("interfaceOverviewVisible",!1),T=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.instantiationService=i,r}return h(t,e),t.prototype.run=function(){return C||(C=this.instantiationService.createInstance(x)),C.show(),null},t}(u.Action);T.ID="workbench.action.showInterfaceOverview",T.LABEL=l.localize(7,null),T=v([y(2,b.IInstantiationService)],T),t.WelcomeOverlayAction=T;var k=function(e){function t(t,n){return e.call(this,t,n)||this}return h(t,e),t.prototype.run=function(){return C&&C.hide(),null},t}(u.Action);k.ID="workbench.action.hideInterfaceOverview",k.LABEL=l.localize(8,null),t.HideWelcomeOverlayAction=k;var x=function(){function e(e,t,n,i,r){this.partService=e,this.editorService=t,this.commandService=n,this._contextKeyService=i,this.keybindingService=r,this._toDispose=[],this._overlayVisible=I.bindTo(this._contextKeyService),this.create()}return e.prototype.create=function(){var e=this,t=this.partService.getContainer(c.Parts.EDITOR_PART),i=this.partService.getTitleBarOffset();this._overlay=n.$(t.parentElement).div({class:"welcomeOverlay"}).style({top:i+"px"}).style({height:"calc(100% - "+i+"px)"}).display("none"),this._overlay.on("click",function(){return e.hide()},this._toDispose),this.commandService.onWillExecuteCommand(function(){return e.hide()}),n.$(this._overlay).div({class:"commandPalettePlaceholder"});var r=!!this.editorService.getVisibleEditors().length;w.filter(function(e){return!("withEditor"in e)||e.withEditor===r}).forEach(function(t){var i=t.id,r=t.arrow,o=t.label,s=t.command,a=t.arrowLast,c=n.$(e._overlay).div({class:["key",i]});if(a||n.$(c).span({class:"arrow"}).innerHtml(r),n.$(c).span({class:"label"}).text(o),s){var l=e.keybindingService.lookupKeybinding(s);l&&n.$(c).span({class:"shortcut"}).text(l.getLabel())}a&&n.$(c).span({class:"arrow"}).innerHtml(r)})},e.prototype.show=function(){if("block"!==this._overlay.style("display")){this._overlay.display("block");var e=document.querySelector(".monaco-workbench");i.addClass(e,"blur-background"),this._overlayVisible.set(!0),this.updateProblemsKey()}},e.prototype.updateProblemsKey=function(){var e=document.querySelector(".task-statusbar-item"),t=this._overlay.getHTMLElement().querySelector(".key.problems");if(e instanceof HTMLElement){var n=e.getBoundingClientRect(),i=this._overlay.getHTMLElement().getBoundingClientRect(),r=i.bottom-n.top+3,o=(n.left+n.right)/2-i.left;t.style.bottom=r+"px",t.style.left=o+"px"}else t.style.bottom=null,t.style.left=null},e.prototype.hide=function(){if("none"!==this._overlay.style("display")){this._overlay.display("none");var e=document.querySelector(".monaco-workbench");i.removeClass(e,"blur-background"),this._overlayVisible.reset()}},e.prototype.dispose=function(){this._toDispose=g.dispose(this._toDispose)},e}();x=v([y(0,c.IPartService),y(1,a.IWorkbenchEditorService),y(2,f.ICommandService),y(3,m.IContextKeyService),y(4,o.IKeybindingService)],x),r.Registry.as(d.Extensions.WorkbenchActions).registerWorkbenchAction(new p.SyncActionDescriptor(T,T.ID,T.LABEL),"Help: User Interface Overview",l.localize(9,null)),r.Registry.as(d.Extensions.WorkbenchActions).registerWorkbenchAction(new p.SyncActionDescriptor(k,k.ID,k.LABEL,{primary:9},I),"Help: Hide Interface Overview",l.localize(10,null)),S.registerThemingParticipant(function(e,t){var n=e.getColor(_.foreground);n&&t.addRule(".monaco-workbench > .welcomeOverlay > .key { color: "+n+"; }");var i=E.Color.fromHex("light"===e.type?"#FFFFFF85":"#00000085");i&&t.addRule(".monaco-workbench > .welcomeOverlay { background: "+i+"; }");var r=e.getColor(_.textPreformatForeground);r&&t.addRule(".monaco-workbench > .welcomeOverlay > .key > .shortcut { color: "+r+"; }")})}),define(u[1165],d([1,0,16,52,34,230,47,6,22,63,7,62,4,27,23,65,711,21,19,39,79,139,20,443,87,1060,69,5,82,11,13,29,381,92,31,941]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A,L,P,D,O,R,M,N,F){"use strict";function W(e){var t=e.lookup(B);if(!t.user&&!t.workspace){var n=e.lookup(V);if(void 0!==n.value&&null!==n.value)return n.value}return"welcomePage"===t.value}Object.defineProperty(t,"__esModule",{value:!0}),x.used();var B="workbench.startupEditor",V="workbench.welcome.enabled",z=function(){function e(e,t,n,i,r,o,s){W(n)&&p.TPromise.join([r.hasBackups(),e.joinCreation()]).then(function(e){var n=e[0];i.getActiveEditorInput()||n||t.createInstance($)}).then(null,u.onUnexpectedError)}return e.prototype.getId=function(){return"vs.welcomePage"},e}();z=v([y(0,s.IPartService),y(1,a.IInstantiationService),y(2,g.IConfigurationService),y(3,c.IWorkbenchEditorService),y(4,w.IBackupFileService),y(5,_.ITelemetryService),y(6,F.IStorageService)],z),t.WelcomePageContribution=z;var H=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.instantiationService=i,r}return h(t,e),t.prototype.run=function(){return this.instantiationService.createInstance($),null},t}(S.Action);H.ID="workbench.action.showWelcomePage",H.LABEL=b.localize(0,null),H=v([y(2,a.IInstantiationService)],H),t.WelcomePageAction=H;var K=["showInterfaceOverview","selectTheme","showRecommendedKeymapExtensions","showCommands","keybindingsReference","openGlobalSettings","showInteractivePlayground"],U=[{name:b.localize(1,null),id:"dbaeumer.vscode-eslint"},{name:b.localize(2,null),id:"eg2.tslint"},{name:b.localize(3,null),id:"donjayamanne.python"},{name:b.localize(4,null),id:"felixfbecker.php-pack"},{name:b.localize(5,null),id:"PeterJausovec.vscode-docker"}],j=[{name:b.localize(6,null),id:"vscodevim.vim",isKeymap:!0},{name:b.localize(7,null),id:"ms-vscode.sublime-keybindings",isKeymap:!0},{name:b.localize(8,null),id:"ms-vscode.atom-keybindings",isKeymap:!0}],G={installEvent:"installExtension",installedEvent:"installedExtension",detailsEvent:"detailsExtension",alreadyInstalled:b.localize(9,null),reloadAfterInstall:b.localize(10,null),installing:b.localize(11,null),extensionNotFound:b.localize(12,null)},q={installEvent:"installKeymap",installedEvent:"installedKeymap",detailsEvent:"detailsKeymap",alreadyInstalled:b.localize(13,null),reloadAfterInstall:b.localize(14,null),installing:b.localize(15,null),extensionNotFound:b.localize(16,null)},$=function(){function t(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,v){var m=this;this.editorService=e,this.instantiationService=t,this.windowService=n,this.windowsService=i,this.contextService=r,this.configurationService=o,this.configurationEditingService=s,this.environmentService=a,this.messageService=c,this.extensionEnablementService=l,this.extensionGalleryService=u,this.extensionManagementService=d,this.tipsService=h,this.extensionsWorkbenchService=p,this.themeService=g,this.telemetryService=v,this.disposables=[],this.disposables.push(f.onShutdown(function(){return m.dispose()})),this.create()}return t.prototype.create=function(){var t=this,i=this.windowService.getRecentlyOpen(),r=this.instantiationService.invokeFunction(T.getInstalledExtensions),s=n.default.parse(e.toUrl("./vs_code_welcome_page")).with({scheme:C.Schemas.walkThrough,query:JSON.stringify({moduleId:"vs/workbench/parts/welcome/page/electron-browser/vs_code_welcome_page"})}),a=this.instantiationService.createInstance(o.WalkThroughInput,b.localize(17,null),"",s,"welcomePage",function(e){return t.onReady(e,i,r)});this.editorService.openEditor(a,{pinned:!0},l.Position.ONE).then(null,u.onUnexpectedError)},t.prototype.onReady=function(e,t,n){var r=this,o=W(this.configurationService),s=e.querySelector("#showOnStartup");o&&s.setAttribute("checked","checked"),s.addEventListener("click",function(e){r.configurationEditingService.writeConfiguration(m.ConfigurationTarget.USER,{key:B,value:s.checked?"welcomePage":"newUntitledFile"})}),t.then(function(t){var n=t.folders;if(r.contextService.hasWorkspace()){var o=r.contextService.getWorkspace2().roots;n=n.filter(function(e){return!o.some(function(t){return r.pathEquals(e,t.fsPath)})})}if(n.length){var s=e.querySelector(".recent ul"),a=s.firstElementChild;n.slice(0,5).forEach(function(e){var t=document.createElement("li"),n=document.createElement("a"),o=i.basename(e),c=i.dirname(e);if(!o&&c){var l=o;o=c,c=l}var u=P.tildify(c,r.environmentService.userHome);n.innerText=o,n.title=e,n.setAttribute("aria-label",b.localize(18,null,o,u)),n.href="javascript:void(0)",n.addEventListener("click",function(t){r.telemetryService.publicLog("workbenchActionExecuted",{id:"openRecentFolder",from:"welcomePage"}),r.windowsService.openWindow([e],{forceNewWindow:t.ctrlKey||t.metaKey}),t.preventDefault(),t.stopPropagation()}),t.appendChild(n);var d=document.createElement("span");d.classList.add("path"),d.classList.add("detail"),d.innerText=u,d.title=e,t.appendChild(d),s.insertBefore(t,a)})}else e.querySelector(".welcomePage").classList.add("emptyRecent")}).then(null,u.onUnexpectedError);var a=e.querySelector(".commands .section.customize"),c=e.querySelector(".commands .section.learn"),l=e.querySelector(".commands .section.quickLinks");if(this.telemetryService.getExperiments().mergeQuickLinks){var d=l.querySelector("ul");K.forEach(function(t){var n=e.querySelector(".commands ."+t);n&&d.appendChild(n)}),a.remove(),c.remove(),e.querySelector(".keybindingsReferenceLink").remove()}else l.remove();this.addExtensionList(e,".extensionPackList",U,G),this.addExtensionList(e,".keymapList",j,q),this.updateInstalledExtensions(e,n),this.disposables.push(this.instantiationService.invokeFunction(T.onExtensionChanged)(function(t){for(var n=0,i=t;n<i.length;n++){var o=i[n];if(e.querySelector('.installExtension[data-extension="'+o+'"], .enabledExtension[data-extension="'+o+'"]')){var s=r.instantiationService.invokeFunction(T.getInstalledExtensions);r.updateInstalledExtensions(e,s);break}}}))},t.prototype.addExtensionList=function(e,t,n,i){var r=this,o=e.querySelector(t);o&&n.forEach(function(e,t){t&&o.appendChild(document.createTextNode(b.localize(19,null)));var n=document.createElement("a");n.innerText=e.name,n.title=e.isKeymap?b.localize(20,null,e.name):b.localize(21,null,e.name),n.classList.add("installExtension"),n.setAttribute("data-extension",e.id),n.href="javascript:void(0)",n.addEventListener("click",function(t){r.installExtension(e,i),t.preventDefault(),t.stopPropagation()}),o.appendChild(n);var s=document.createElement("span");s.innerText=e.name,s.title=e.isKeymap?b.localize(22,null,e.name):b.localize(23,null,e.name),s.classList.add("enabledExtension"),s.setAttribute("data-extension",e.id),o.appendChild(s)})},t.prototype.pathEquals=function(e,t){return D.isLinux||(e=e.toLowerCase(),t=t.toLowerCase()),e===t},t.prototype.installExtension=function(e,t){var n=this;this.telemetryService.publicLog(t.installEvent,{from:"welcomePage",extensionId:e.id}),this.instantiationService.invokeFunction(T.getInstalledExtensions).then(function(i){var o=r.first(i,function(t){return t.identifier===e.id});if(o&&o.globallyEnabled)return n.telemetryService.publicLog(t.installedEvent,{from:"welcomePage",extensionId:e.id,outcome:"already_enabled"}),void n.messageService.show(I.Severity.Info,t.alreadyInstalled.replace("{0}",e.name));var s=o?p.TPromise.as(!0):n.extensionGalleryService.query({names:[e.id]}).then(function(t){var i=t.firstPage[0];return!!i&&n.extensionManagementService.installFromGallery(i,!1).then(function(){return n.extensionEnablementService.setEnablement(e.id,!1)}).then(function(){return!0})});n.messageService.show(I.Severity.Info,{message:t.reloadAfterInstall.replace("{0}",e.name),actions:[new S.Action("ok",b.localize(24,null),null,!0,function(){var r=p.TPromise.timeout(300);return r.then(function(){n.messageService.show(I.Severity.Info,{message:t.installing.replace("{0}",e.name),actions:[I.CloseAction]})}),p.TPromise.join(e.isKeymap?i.filter(function(e){return T.isKeymapExtension(n.tipsService,e)&&e.globallyEnabled}).map(function(e){return n.extensionEnablementService.setEnablement(e.identifier,!1)}):[]).then(function(){return s.then(function(i){return r.cancel(),i?n.extensionEnablementService.setEnablement(e.id,!0).then(function(){return n.telemetryService.publicLog(t.installedEvent,{from:"welcomePage",extensionId:e.id,outcome:o?"enabled":"installed"}),n.windowService.reloadWindow()}):(n.telemetryService.publicLog(t.installedEvent,{from:"welcomePage",extensionId:e.id,outcome:"not_found"}),void n.messageService.show(I.Severity.Error,t.extensionNotFound.replace("{0}",e.name).replace("{1}",e.id)))})}).then(null,function(i){n.telemetryService.publicLog(t.installedEvent,{from:"welcomePage",extensionId:e.id,outcome:u.isPromiseCanceledError(i)?"canceled":"error",error:String(i)}),n.messageService.show(I.Severity.Error,i)}),p.TPromise.as(!0)}),new S.Action("details",b.localize(25,null),null,!0,function(){return n.telemetryService.publicLog(t.detailsEvent,{from:"welcomePage",extensionId:e.id}),n.extensionsWorkbenchService.queryGallery({names:[e.id]}).then(function(e){return n.extensionsWorkbenchService.open(e.firstPage[0])}).then(null,u.onUnexpectedError),p.TPromise.as(!1)}),new S.Action("cancel",b.localize(26,null),null,!0,function(){return n.telemetryService.publicLog(t.installedEvent,{from:"welcomePage",extensionId:e.id,outcome:"user_canceled"}),p.TPromise.as(!0)})]})}).then(null,function(i){n.telemetryService.publicLog(t.installedEvent,{from:"welcomePage",extensionId:e.id,outcome:u.isPromiseCanceledError(i)?"canceled":"error",error:String(i)}),n.messageService.show(I.Severity.Error,i)})},t.prototype.updateInstalledExtensions=function(e,t){t.then(function(t){for(var n=e.querySelectorAll(".installExtension, .enabledExtension"),i=0;i<n.length;i++)n[i].classList.remove("installed");t.filter(function(e){return e.globallyEnabled}).map(function(e){return e.identifier}).forEach(function(t){for(var n=e.querySelectorAll('.installExtension[data-extension="'+t+'"]'),i=0;i<n.length;i++)n[i].classList.add("installed");for(var r=e.querySelectorAll('.enabledExtension[data-extension="'+t+'"]'),i=0;i<r.length;i++)r[i].classList.add("installed")})}).then(null,u.onUnexpectedError)},t.prototype.dispose=function(){this.disposables=L.dispose(this.disposables)},t}();$=v([y(0,c.IWorkbenchEditorService),y(1,a.IInstantiationService),y(2,d.IWindowService),y(3,d.IWindowsService),y(4,f.IWorkspaceContextService),y(5,g.IConfigurationService),y(6,m.IConfigurationEditingService),y(7,E.IEnvironmentService),y(8,I.IMessageService),y(9,k.IExtensionEnablementService),y(10,k.IExtensionGalleryService),y(11,k.IExtensionManagementService),y(12,k.IExtensionTipsService),y(13,N.IExtensionsWorkbenchService),y(14,A.ILifecycleService),y(15,O.IThemeService),y(16,_.ITelemetryService)],$);var Y=R.registerColor("welcomePage.buttonBackground",{dark:null,light:null,hc:null},b.localize(27,null)),X=R.registerColor("welcomePage.buttonHoverBackground",{dark:null,light:null,hc:null},b.localize(28,null));O.registerThemingParticipant(function(e,t){var n=e.getColor(R.foreground);n&&t.addRule(".monaco-workbench > .part.editor > .content .welcomePage .caption { color: "+n+"; }");var i=e.getColor(R.descriptionForeground);i&&t.addRule(".monaco-workbench > .part.editor > .content .welcomePage .detail { color: "+i+"; }");var r=M.getExtraColor(e,Y,{dark:"rgba(0, 0, 0, .2)",extra_dark:"rgba(200, 235, 255, .042)",light:"rgba(0,0,0,.04)",hc:"black"});r&&t.addRule(".monaco-workbench > .part.editor > .content .welcomePage .commands li button { background: "+r+"; }");var o=M.getExtraColor(e,X,{dark:"rgba(200, 235, 255, .072)",extra_dark:"rgba(200, 235, 255, .072)",light:"rgba(0,0,0,.10)",hc:null});o&&t.addRule(".monaco-workbench > .part.editor > .content .welcomePage .commands li button:hover { background: "+o+"; }");var s=e.getColor(R.textLinkForeground);s&&t.addRule(".monaco-workbench > .part.editor > .content .welcomePage a { color: "+s+"; }");var a=e.getColor(R.textLinkActiveForeground);a&&t.addRule(".monaco-workbench > .part.editor > .content .welcomePage a:hover,\n\t\t\t.monaco-workbench > .part.editor > .content .welcomePage a:active { color: "+a+"; }");var c=e.getColor(R.focusBorder);c&&t.addRule(".monaco-workbench > .part.editor > .content .welcomePage a:focus { outline-color: "+c+"; }");var l=e.getColor(R.contrastBorder);l&&t.addRule(".monaco-workbench > .part.editor > .content .welcomePage .commands li button { border-color: "+l+"; }");var u=e.getColor(R.activeContrastBorder);u&&t.addRule(".monaco-workbench > .part.editor > .content .welcomePage .commands li button:hover { outline-color: "+u+"; }")})}),define(u[1166],d([1,0,712,85,15,1165,50,35,64]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.Registry.as(c.Extensions.Configuration).registerConfiguration({id:"workbench",order:7,title:n.localize(0,null),properties:{"workbench.startupEditor":{type:"string",enum:["none","welcomePage","newUntitledFile"],enumDescriptions:[n.localize(1,null),n.localize(2,null),n.localize(3,null)],default:"welcomePage",description:n.localize(4,null)}}}),r.Registry.as(i.Extensions.Workbench).registerWorkbenchContribution(o.WelcomePageContribution),r.Registry.as(s.Extensions.WorkbenchActions).registerWorkbenchAction(new a.SyncActionDescriptor(o.WelcomePageAction,o.WelcomePageAction.ID,o.WelcomePageAction.LABEL),"Help: Welcome",n.localize(5,null))}),define(u[406],d([1,0,127,113,12,16,4,40,5,98,19,230,119,183,42,43,44,182,6,38,716,31,161,17,23,8,24,32,56,47,20,13,29,381,181,11,940]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,b,S,_,E,C,w,I,T,k,x,A,L,P,D,O,R,M,N,F,W,B){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WALK_THROUGH_FOCUS=new k.RawContextKey("interactivePlaygroundFocus",!1);var V=w.localize(0,null),z=function(e){function t(t,n,i,r,o,s,a,c){var l=e.call(this,t,n,r,o,s,a,c)||this;return l.telemetryData=i,l}return h(t,e),t.prototype.getTelemetryData=function(){return this.telemetryData},t}(_.CodeEditor);z=v([y(3,E.IInstantiationService),y(4,D.ICodeEditorService),y(5,P.ICommandService),y(6,k.IContextKeyService),y(7,M.IThemeService)],z);var H=function(e){function l(n,i,r,o,s,a,c,u,d,h,p,f,g){var v=e.call(this,l.ID,n,r)||this;return v.instantiationService=i,v.themeService=r,v.openerService=o,v.fileService=s,v.modelService=a,v.keybindingService=c,v.storageService=u,v.contextKeyService=d,v.configurationService=h,v.modeService=p,v.messageService=f,v.partService=g,v.disposables=[],v.contentDisposables=[],v.editorFocus=t.WALK_THROUGH_FOCUS.bindTo(v.contextKeyService),v}return h(l,e),l.prototype.createEditor=function(e){var t=this,r=e.getHTMLElement();this.content=document.createElement("div"),this.content.tabIndex=0,this.content.style.outlineStyle="none",this.scrollbar=new n.DomScrollableElement(this.content,{horizontal:i.ScrollbarVisibility.Auto,vertical:i.ScrollbarVisibility.Auto}),this.disposables.push(this.scrollbar),r.appendChild(this.scrollbar.getDomNode()),this.registerFocusHandlers(),this.registerClickHandler(),this.disposables.push(this.scrollbar.onScroll(function(e){return t.updatedScrollPosition()}))},l.prototype.updatedScrollPosition=function(){var e=this.scrollbar.getScrollState(),t=e.scrollHeight;if(t&&this.input instanceof d.WalkThroughInput){var n=e.scrollTop,i=e.height;this.input.relativeScrollPosition(n/t,(n+i)/t)}},l.prototype.addEventListener=function(e,t,n,i){return e.addEventListener(t,n,i),{dispose:function(){e.removeEventListener(t,n,i)}}},l.prototype.registerFocusHandlers=function(){var e=this;this.disposables.push(this.addEventListener(this.content,"mousedown",function(t){e.focus()})),this.disposables.push(this.addEventListener(this.content,"focus",function(t){e.editorFocus.set(!0)})),this.disposables.push(this.addEventListener(this.content,"blur",function(t){e.editorFocus.reset()})),this.disposables.push(this.addEventListener(this.content,"focusin",function(t){if(t.target instanceof HTMLElement&&t.target.classList.contains("zone-widget-container")){var n=e.scrollbar.getScrollState();e.content.scrollTop=n.scrollTop,e.content.scrollLeft=n.scrollLeft}}))},l.prototype.registerClickHandler=function(){var e=this;this.content.addEventListener("click",function(t){for(var n=t.target;n;n=n.parentNode){if(n instanceof HTMLAnchorElement&&n.href){var i=window.document.getElementsByTagName("base")[0]||window.location;if(i&&n.href.indexOf(i.href)>=0&&n.hash){var r=e.content.querySelector(n.hash);e.telemetryService.publicLog("revealInDocument",{hash:n.hash,broken:!r,from:e.input instanceof d.WalkThroughInput?e.input.getTelemetryFrom():void 0});var s=e.content.firstElementChild;if(r&&s){var a=r.getBoundingClientRect().top-20,c=s.getBoundingClientRect().top;e.scrollbar.updateState({scrollTop:a-c})}}else e.open(o.default.parse(n.href));t.preventDefault();break}if(n instanceof HTMLButtonElement){var l=n.getAttribute("data-href");l&&e.open(o.default.parse(l));break}if(n===t.currentTarget)break}})},l.prototype.open=function(e){"http"!==e.scheme&&"https"!==e.scheme||this.telemetryService.publicLog("openExternal",{uri:e.toString(!0),from:this.input instanceof d.WalkThroughInput?this.input.getTelemetryFrom():void 0}),"command"!==e.scheme||"git.clone"!==e.path||P.CommandsRegistry.getCommand("git.clone")?this.openerService.open(this.addFrom(e)):this.messageService.show(R.Severity.Info,w.localize(1,null))},l.prototype.addFrom=function(e){if("command"!==e.scheme||!(this.input instanceof d.WalkThroughInput))return e;var t=e.query?JSON.parse(e.query):{};return t.from=this.input.getTelemetryFrom(),e.with({query:JSON.stringify(t)})},l.prototype.layout=function(e){this.size=e,a.$(this.content).style({height:e.height+"px",width:e.width+"px"}),this.updateSizeClasses(),this.contentDisposables.forEach(function(e){e instanceof _.CodeEditor&&e.layout()}),this.scrollbar.scanDomNode()},l.prototype.updateSizeClasses=function(){var e=this.content.firstElementChild;this.size&&e&&e.classList[this.size.height<=685?"add":"remove"]("max-height-685px")},l.prototype.focus=function(){for(var e=document.activeElement;e&&e!==this.content;)e=e.parentElement;e||this.content.focus(),this.editorFocus.set(!0)},l.prototype.arrowUp=function(){var e=this.scrollbar.getScrollState();this.scrollbar.updateState({scrollTop:e.scrollTop-this.getArrowScrollHeight()})},l.prototype.arrowDown=function(){var e=this.scrollbar.getScrollState();this.scrollbar.updateState({scrollTop:e.scrollTop+this.getArrowScrollHeight()})},l.prototype.getArrowScrollHeight=function(){var e=this.configurationService.lookup("editor.fontSize").value;return("number"!=typeof e||e<1)&&(e=12),3*e},l.prototype.pageUp=function(){var e=this.scrollbar.getScrollState();this.scrollbar.updateState({scrollTop:e.scrollTop-e.height})},l.prototype.pageDown=function(){var e=this.scrollbar.getScrollState();this.scrollbar.updateState({scrollTop:e.scrollTop+e.height})},l.prototype.setInput=function(t,n){var i=this;return this.input instanceof d.WalkThroughInput&&this.input.matches(t)?s.TPromise.as(void 0):(this.input instanceof d.WalkThroughInput&&this.saveTextEditorViewState(this.input.getResource()),this.contentDisposables=c.dispose(this.contentDisposables),this.content.innerHTML="",e.prototype.setInput.call(this,t,n).then(function(){return t.resolve(!0)}).then(function(e){var n=e.main.textEditorModel.getLinesContent().join("\n");if(!r.endsWith(t.getResource().path,".md"))return i.content.innerHTML=n,i.updateSizeClasses(),i.decorateContent(),i.contentDisposables.push(i.keybindingService.onDidUpdateKeybindings(function(){return i.decorateContent()})),t.onReady&&t.onReady(i.content.firstElementChild),i.scrollbar.scanDomNode(),i.loadTextEditorViewState(t.getResource()),void i.updatedScrollPosition();var o=0,s=new f.marked.Renderer;s.code=function(t,n){return'<div id="'+("snippet-"+e.snippets[o++].textEditorModel.uri.fragment)+'" class="walkThroughEditorContainer" ></div>'};var a=document.createElement("div");a.classList.add("walkThroughContent");var c=i.expandMacros(n);a.innerHTML=f.marked(c,{renderer:s}),i.content.appendChild(a),e.snippets.forEach(function(e,t){var n=e.textEditorModel,r="snippet-"+n.uri.fragment,o=a.querySelector("#"+r.replace(/\./g,"\\.")),s=i.getEditorOptions(e.textEditorModel.getModeId()),c={target:i.input instanceof d.WalkThroughInput?i.input.getTelemetryFrom():void 0,snippet:t},l=i.instantiationService.createInstance(z,o,s,c);l.setModel(n),i.contentDisposables.push(l);var u=function(e){var t=l.getConfiguration().lineHeight,r=Math.max(n.getLineCount()+1,4)*t+"px";o.style.height!==r&&(o.style.height=r,l.layout(),e||i.scrollbar.scanDomNode())};u(!0),i.contentDisposables.push(l.onDidChangeModelContent(function(){return u(!1)})),i.contentDisposables.push(l.onDidChangeCursorPosition(function(e){var t=i.content.firstElementChild;if(t){var n=o.getBoundingClientRect().top,r=t.getBoundingClientRect().top,s=l.getConfiguration().lineHeight,a=n+(e.position.lineNumber-1)*s-r,c=a+s,u=i.scrollbar.getScrollState(),d=u.scrollTop,h=u.height;d>a?i.scrollbar.updateState({scrollTop:a}):d<c-h&&i.scrollbar.updateState({scrollTop:c-h})}})),i.contentDisposables.push(i.configurationService.onDidUpdateConfiguration(function(){e.textEditorModel&&l.updateOptions(i.getEditorOptions(e.textEditorModel.getModeId()))})),i.contentDisposables.push(A.once(l.onMouseDown)(function(){i.telemetryService.publicLog("walkThroughSnippetInteraction",{from:i.input instanceof d.WalkThroughInput?i.input.getTelemetryFrom():void 0,type:"mouseDown",snippet:t})})),i.contentDisposables.push(A.once(l.onKeyDown)(function(){i.telemetryService.publicLog("walkThroughSnippetInteraction",{from:i.input instanceof d.WalkThroughInput?i.input.getTelemetryFrom():void 0,type:"keyDown",snippet:t})})),i.contentDisposables.push(A.once(l.onDidChangeModelContent)(function(){i.telemetryService.publicLog("walkThroughSnippetInteraction",{from:i.input instanceof d.WalkThroughInput?i.input.getTelemetryFrom():void 0,type:"changeModelContent",snippet:t})}))}),i.updateSizeClasses(),i.multiCursorModifier(),i.contentDisposables.push(i.configurationService.onDidUpdateConfiguration(function(){return i.multiCursorModifier()})),t.onReady&&t.onReady(a),i.scrollbar.scanDomNode(),i.loadTextEditorViewState(t.getResource()),i.updatedScrollPosition()}))},l.prototype.getEditorOptions=function(e){var t=this.configurationService.getConfiguration("editor",{overrideIdentifier:e});return m({},L.isObject(t)?t:Object.create(null),{scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1},overviewRulerLanes:3,fixedOverflowWidgets:!0,lineNumbersMinChars:1,minimap:{enabled:!1}})},l.prototype.expandMacros=function(e){var t=this;return e.replace(/kb\(([a-z.\d\-]+)\)/gi,function(e,n){var i=t.keybindingService.lookupKeybinding(n),o=i?i.getLabel():V;return'<span class="shortcut">'+r.escape(o)+"</span>"})},l.prototype.decorateContent=function(){var e=this,t=this.content.querySelectorAll(".shortcut[data-command]");Array.prototype.forEach.call(t,function(t){for(var n=t.getAttribute("data-command"),i=n&&e.keybindingService.lookupKeybinding(n),r=i?i.getLabel():V;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))});var n=this.content.querySelectorAll(".if_shortcut[data-command]");Array.prototype.forEach.call(n,function(t){var n=t.getAttribute("data-command"),i=n&&e.keybindingService.lookupKeybinding(n);t.style.display=i?"":"none"})},l.prototype.multiCursorModifier=function(){var e=W.UILabelProvider.modifierLabels[B.OS]["ctrlCmd"===this.configurationService.lookup("editor.multiCursorModifier").value?2===B.OS?"metaKey":"ctrlKey":"altKey"],t=this.content.querySelectorAll(".multi-cursor-modifier");Array.prototype.forEach.call(t,function(t){for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))})},l.prototype.saveTextEditorViewState=function(e){var t=this.getMemento(this.storageService,T.Scope.WORKSPACE),n=t.walkThroughEditorViewState;n||(n=Object.create(null),t.walkThroughEditorViewState=n);var i=this.scrollbar.getScrollState(),r={viewState:{scrollTop:i.scrollTop,scrollLeft:i.scrollLeft}},o=n[e.toString()];o||(o=Object.create(null),n[e.toString()]=o),"number"==typeof this.position&&(o[this.position]=r)},l.prototype.loadTextEditorViewState=function(e){var t=this.getMemento(this.storageService,T.Scope.WORKSPACE).walkThroughEditorViewState;if(t){var n=t[e.toString()];if(n){var i=n[this.position];i&&this.scrollbar.updateState(i.viewState)}}},l.prototype.clearInput=function(){this.input instanceof d.WalkThroughInput&&this.saveTextEditorViewState(this.input.getResource()),e.prototype.clearInput.call(this)},l.prototype.shutdown=function(){this.input instanceof d.WalkThroughInput&&this.saveTextEditorViewState(this.input.getResource()),e.prototype.shutdown.call(this)},l.prototype.dispose=function(){this.editorFocus.reset(),this.contentDisposables=c.dispose(this.contentDisposables),this.disposables=c.dispose(this.disposables),e.prototype.dispose.call(this)},l}(l.BaseEditor);H.ID="workbench.editor.walkThroughPart",H=v([y(0,u.ITelemetryService),y(1,E.IInstantiationService),y(2,M.IThemeService),y(3,p.IOpenerService),y(4,b.IFileService),y(5,S.IModelService),y(6,C.IKeybindingService),y(7,I.IStorageService),y(8,k.IContextKeyService),y(9,x.IConfigurationService),y(10,g.IModeService),y(11,R.IMessageService),y(12,O.IPartService)],H),t.WalkThroughPart=H;var K=N.registerColor("walkThrough.embeddedEditorBackground",{dark:null,light:null,hc:null},w.localize(2,null));M.registerThemingParticipant(function(e,t){var n=F.getExtraColor(e,K,{dark:"rgba(0, 0, 0, .4)",extra_dark:"rgba(200, 235, 255, .064)",light:"rgba(0,0,0,.08)",hc:null});n&&t.addRule(".monaco-workbench > .part.editor > .content .walkThroughContent .monaco-editor-background,\n\t\t\t.monaco-workbench > .part.editor > .content .walkThroughContent .margin-view-overlays { background: "+n+"; }");var i=e.getColor(N.textLinkForeground);i&&t.addRule(".monaco-workbench > .part.editor > .content .walkThroughContent a { color: "+i+"; }");var r=e.getColor(N.textLinkActiveForeground);r&&t.addRule(".monaco-workbench > .part.editor > .content .walkThroughContent a:hover,\n\t\t\t.monaco-workbench > .part.editor > .content .walkThroughContent a:active { color: "+r+"; }");var o=e.getColor(N.focusBorder);o&&t.addRule(".monaco-workbench > .part.editor > .content .walkThroughContent a:focus { outline-color: "+o+"; }");var s=e.getColor(N.textPreformatForeground);s&&t.addRule(".monaco-workbench > .part.editor > .content .walkThroughContent code,\n\t\t\t.monaco-workbench > .part.editor > .content .walkThroughContent .shortcut { color: "+s+"; }");var a=e.getColor(N.contrastBorder);a&&t.addRule(".monaco-workbench > .part.editor > .content .walkThroughContent .monaco-editor { border-color: "+a+"; }");var c=e.getColor(N.textBlockQuoteBackground);c&&t.addRule(".monaco-workbench > .part.editor > .content .walkThroughContent blockquote { background: "+c+"; }");var l=e.getColor(N.textBlockQuoteBorder);l&&t.addRule(".monaco-workbench > .part.editor > .content .walkThroughContent blockquote { border-color: "+l+"; }")})}),define(u[1168],d([1,0,715,22,21,406]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.editorService=i,r}return h(t,e),t.prototype.run=function(){var e=this.editorService.getActiveEditor();return e instanceof o.WalkThroughPart&&e.arrowUp(),null},t}(r.Action);s.ID="workbench.action.interactivePlayground.arrowUp",s.LABEL=n.localize(0,null),s=v([y(2,i.IWorkbenchEditorService)],s),t.WalkThroughArrowUpAction=s;var a=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.editorService=i,r}return h(t,e),t.prototype.run=function(){var e=this.editorService.getActiveEditor();return e instanceof o.WalkThroughPart&&e.arrowDown(),null},t}(r.Action);a.ID="workbench.action.interactivePlayground.arrowDown",a.LABEL=n.localize(1,null),a=v([y(2,i.IWorkbenchEditorService)],a),t.WalkThroughArrowDownAction=a;var c=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.editorService=i,r}return h(t,e),t.prototype.run=function(){var e=this.editorService.getActiveEditor();return e instanceof o.WalkThroughPart&&e.pageUp(),null},t}(r.Action);c.ID="workbench.action.interactivePlayground.pageUp",c.LABEL=n.localize(2,null),c=v([y(2,i.IWorkbenchEditorService)],c),t.WalkThroughPageUpAction=c;var l=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.editorService=i,r}return h(t,e),t.prototype.run=function(){var e=this.editorService.getActiveEditor();return e instanceof o.WalkThroughPart&&e.pageDown(),null},t}(r.Action);l.ID="workbench.action.interactivePlayground.pageDown",l.LABEL=n.localize(3,null),l=v([y(2,i.IWorkbenchEditorService)],l),t.WalkThroughPageDownAction=l}),define(u[163],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ISCMService=n.createDecorator("scm"),t.DefaultSCMProviderIdStorageKey="settings.workspace.scm.defaultProviderId"}),define(u[1170],d([1,0,18,5,4,33,182,6,20,27,71,22,44,186,45,163,77,13,29,658,58,953]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,m,b,S,_,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var C=function(){function e(e,t,i,r,o,s,a,c){var l=this;this.model=e,this.uri=t,this.scmService=i,this.modelService=r,this.editorWorkerService=o,this.editorService=s,this.contextService=a,this.textModelResolverService=c,this.decorations=[],this.diffDelayer=new n.ThrottledDelayer(200),this.toDispose=[],this.triggerDiff(),this.toDispose.push(e.onDidChangeContent(function(){return l.triggerDiff()})),this.toDispose.push(i.onDidChangeProvider(function(){return l.triggerDiff()}))}return e.prototype.triggerDiff=function(){var t=this;return this.diffDelayer?this.diffDelayer.trigger(function(){return t.diff()}).then(function(n){if(t.model&&!t.model.isDisposed()&&t.baselineModel&&!t.baselineModel.isDisposed())return 0===t.baselineModel.getValueLength()&&(n=[]),t.decorations=t.model.deltaDecorations(t.decorations,e.changesToDecorations(n||[]))}):r.TPromise.as(null)},e.prototype.diff=function(){var e=this;return this.getOriginalURIPromise().then(function(t){return e.model&&!e.model.isDisposed()&&t?e.editorWorkerService.computeDirtyDiff(t,e.model.uri,!0):r.TPromise.as([])})},e.prototype.getOriginalURIPromise=function(){var e=this;if(this._originalURIPromise)return this._originalURIPromise;var t=this.scmService.activeProvider;return t?(this._originalURIPromise=t.getOriginalResource(this.uri).then(function(t){return t?e.textModelResolverService.createModelReference(t).then(function(n){return e.baselineModel=n.object.textEditorModel,e.toDispose.push(n),e.toDispose.push(n.object.textEditorModel.onDidChangeContent(function(){return e.triggerDiff()})),t}):null}),n.always(this._originalURIPromise,function(){e._originalURIPromise=null})):r.TPromise.as(null)},e.changesToDecorations=function(t){return t.map(function(t){var n=t.modifiedStartLineNumber,i=t.modifiedEndLineNumber||n;return 0===t.originalEndLineNumber?{range:{startLineNumber:n,startColumn:1,endLineNumber:i,endColumn:1},options:e.ADDED_DECORATION_OPTIONS}:0===t.modifiedEndLineNumber?{range:{startLineNumber:n,startColumn:1,endLineNumber:n,endColumn:1},options:e.DELETED_DECORATION_OPTIONS}:{range:{startLineNumber:n,startColumn:1,endLineNumber:i,endColumn:1},options:e.MODIFIED_DECORATION_OPTIONS}})},e.prototype.dispose=function(){this.toDispose=i.dispose(this.toDispose),this.model&&!this.model.isDisposed()&&this.model.deltaDecorations(this.decorations,[]),this.model=null,this.baselineModel=null,this.decorations=null,this.diffDelayer&&(this.diffDelayer.cancel(),this.diffDelayer=null)},e}();C.MODIFIED_DECORATION_OPTIONS=m.ModelDecorationOptions.register({linesDecorationsClassName:"dirty-diff-modified-glyph",isWholeLine:!0,overviewRuler:{color:"rgba(0, 122, 204, 0.6)",darkColor:"rgba(0, 122, 204, 0.6)",position:o.OverviewRulerLane.Left}}),C.ADDED_DECORATION_OPTIONS=m.ModelDecorationOptions.register({linesDecorationsClassName:"dirty-diff-added-glyph",isWholeLine:!0,overviewRuler:{color:"rgba(0, 122, 204, 0.6)",darkColor:"rgba(0, 122, 204, 0.6)",position:o.OverviewRulerLane.Left}}),C.DELETED_DECORATION_OPTIONS=m.ModelDecorationOptions.register({linesDecorationsClassName:"dirty-diff-deleted-glyph",isWholeLine:!0,overviewRuler:{color:"rgba(0, 122, 204, 0.6)",darkColor:"rgba(0, 122, 204, 0.6)",position:o.OverviewRulerLane.Left}}),C=v([y(2,g.ISCMService),y(3,h.IModelService),y(4,p.IEditorWorkerService),y(5,d.IWorkbenchEditorService),y(6,l.IWorkspaceContextService),y(7,u.ITextModelService)],C);var w=function(){function e(e,t,n,i,r){var o=this;this.messageService=e,this.editorService=t,this.contextService=i,this.instantiationService=r,this.models=[],this.decorators=Object.create(null),this.toDispose=[],this.toDispose.push(n.onEditorsChanged(function(){return o.onEditorsChanged()}))}return e.prototype.getId=function(){return"git.DirtyDiffModelDecorator"},e.prototype.onEditorsChanged=function(){var e=this,t=this.editorService.getVisibleEditors().map(function(e){return e.getControl()}).filter(function(e){return e instanceof s.CodeEditor}).map(function(e){return e.getModel()}).filter(function(e,t,n){return!!e&&!!e.uri&&-1===n.indexOf(e,t+1)}).map(function(e){return{model:e,uri:e.uri}}),n=t.filter(function(t){return e.models.every(function(e){return t.model!==e})}),i=this.models.filter(function(e){return t.every(function(t){return t.model!==e})});n.forEach(function(t){var n=t.model,i=t.uri;return e.onModelVisible(n,i)}),i.forEach(function(t){return e.onModelInvisible(t)}),this.models=t.map(function(e){return e.model})},e.prototype.onModelVisible=function(e,t){this.decorators[e.id]=this.instantiationService.createInstance(C,e,t)},e.prototype.onModelInvisible=function(e){this.decorators[e.id].dispose(),delete this.decorators[e.id]},e.prototype.dispose=function(){var e=this;this.toDispose=i.dispose(this.toDispose),this.models.forEach(function(t){return e.decorators[t.id].dispose()}),this.models=null,this.decorators=null},e}();w=v([y(0,c.IMessageService),y(1,d.IWorkbenchEditorService),y(2,f.IEditorGroupService),y(3,l.IWorkspaceContextService),y(4,a.IInstantiationService)],w),t.DirtyDiffDecorator=w,t.editorGutterModifiedBackground=S.registerColor("editorGutter.modifiedBackground",{dark:E.Color.fromHex("#00bcf2").transparent(.6),light:E.Color.fromHex("#007acc").transparent(.6),hc:E.Color.fromHex("#007acc").transparent(.6)},_.localize(0,null)),t.editorGutterAddedBackground=S.registerColor("editorGutter.addedBackground",{dark:E.Color.fromHex("#7fba00").transparent(.6),light:E.Color.fromHex("#2d883e").transparent(.6),hc:E.Color.fromHex("#2d883e").transparent(.6)},_.localize(1,null)),t.editorGutteDeletedBackground=S.registerColor("editorGutter.deletedBackground",{dark:E.Color.fromHex("#b9131a").transparent(.76),light:E.Color.fromHex("#b9131a").transparent(.76),hc:E.Color.fromHex("#b9131a").transparent(.76)},_.localize(2,null)),b.registerThemingParticipant(function(e,n){var i=e.getColor(t.editorGutterModifiedBackground);i&&n.addRule(".monaco-editor .dirty-diff-modified-glyph { border-left: 3px solid "+i+"; }");var r=e.getColor(t.editorGutterAddedBackground);r&&n.addRule(".monaco-editor .dirty-diff-added-glyph { border-left: 3px solid "+r+"; }");var o=e.getColor(t.editorGutteDeletedBackground);o&&n.addRule("\n\t\t\t.monaco-editor .dirty-diff-deleted-glyph:after {\n\t\t\t\tborder-top: 4px solid transparent;\n\t\t\t\tborder-bottom: 4px solid transparent;\n\t\t\t\tborder-left: 4px solid "+o+";\n\t\t\t}\n\t\t")})}),define(u[1171],d([1,0,660,5,282,163,175]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){this.scmService=e,this.activityBarService=t,this.providerChangeDisposable=i.empty,this.badgeHandle=new i.OneDisposable,this.disposables=[],this.scmService.onDidChangeProvider(this.setActiveProvider,this,this.disposables),this.setActiveProvider(this.scmService.activeProvider),this.disposables.push(this.badgeHandle)}return e.prototype.getId=function(){return e.ID},e.prototype.setActiveProvider=function(e){this.providerChangeDisposable.dispose(),this.providerChangeDisposable=e?e.onDidChange(this.update,this):i.empty,this.update()},e.prototype.update=function(){var e=this.scmService.activeProvider,t=0;if(e&&(t="number"==typeof e.count?e.count:e.resources.reduce(function(e,t){return e+t.resources.length},0)),t>0){var i=new s.NumberBadge(t,function(e){return n.localize(0,null,e)});this.badgeHandle.value=this.activityBarService.showActivity(r.VIEWLET_ID,i,"scm-viewlet-label")}else this.badgeHandle.value=null},e.prototype.dispose=function(){this.disposables=i.dispose(this.disposables)},e}();a.ID="vs.scm.statusUpdater",a=v([y(0,o.ISCMService),y(1,s.IActivityBarService)],a),t.StatusUpdater=a}),define(u[1172],d([1,0,5,8,261,17,199,31,163]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(){this._value="",this._onDidChange=new i.Emitter}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e,this._onDidChange.fire(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),e}(),u=function(){function e(e,t,r){this.storageService=t,this.statusbarService=r,this.activeProviderDisposable=n.empty,this.statusBarDisposable=n.empty,this._providers=[],this._onDidChangeProvider=new i.Emitter,this.activeProviderContextKey=e.createKey("scmProvider",void 0)}return Object.defineProperty(e.prototype,"activeProvider",{get:function(){return this._activeProvider},set:function(e){this.setActiveSCMProdiver(e),this.storageService.store(c.DefaultSCMProviderIdStorageKey,e.id,a.StorageScope.WORKSPACE)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"providers",{get:function(){return this._providers.slice()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChangeProvider",{get:function(){return this._onDidChangeProvider.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"input",{get:function(){return new l},enumerable:!0,configurable:!0}),e.prototype.setActiveSCMProdiver=function(e){var t=this;if(this.activeProviderDisposable.dispose(),!e)throw new Error("invalid provider");if(e&&-1===this._providers.indexOf(e))throw new Error("Provider not registered");this._activeProvider=e,this.activeProviderDisposable=e.onDidChange(function(){return t.onDidProviderChange(e)}),this.onDidProviderChange(e),this.activeProviderContextKey.set(e?e.id:void 0),this._onDidChangeProvider.fire(e)},e.prototype.registerSCMProvider=function(e){var t=this;this._providers.push(e);var i=this.storageService.get(c.DefaultSCMProviderIdStorageKey,a.StorageScope.WORKSPACE);return 1!==this._providers.length&&i!==e.id||this.setActiveSCMProdiver(e),n.toDisposable(function(){var n=t._providers.indexOf(e);n<0||(t._providers.splice(n,1),t.activeProvider===e&&(t.activeProvider=t._providers[0]))})},e.prototype.onDidProviderChange=function(e){var t=this;this.statusBarDisposable.dispose();var i=(e.statusBarCommands||[]).map(function(e){return t.statusbarService.addEntry({text:e.title,tooltip:e.tooltip,command:e.id},s.StatusbarAlignment.LEFT,1e4)});this.statusBarDisposable=n.combinedDisposable(i)},e}();v([r.memoize],u.prototype,"input",null),u=v([y(0,o.IContextKeyService),y(1,a.IStorageService),y(2,s.IStatusbarService)],u),t.SCMService=u}),define(u[1173],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.service=e}return e.prototype.call=function(e,t){switch(e){case"fileSearch":return this.service.fileSearch(t);case"textSearch":return this.service.textSearch(t);case"clearCache":return this.service.clearCache(t)}},e}();t.SearchChannel=n;var i=function(){function e(e){this.channel=e}return e.prototype.fileSearch=function(e){return this.channel.call("fileSearch",e)},e.prototype.textSearch=function(e){return this.channel.call("textSearch",e)},e.prototype.clearCache=function(e){return this.channel.call("clearCache",e)},e}();t.SearchChannelClient=i}),define(u[1174],d([1,0,143,4,7,16,43,19,27,39]),function(e,t,n,i,r,o,s,a,c,l){"use strict";function u(e){var t=e.match(C);return t?t[1]:null}function d(e){if(-1===e.indexOf("://")){var t=e.match(S);if(t)return u(t[2])}try{var n=o.default.parse(e);if(n.authority)return u(n.authority)}catch(e){}return null}function h(e,t){for(var n,i=new Set;n=w.exec(e);){var r=d(n[1]);r&&i.add(r)}var o=t.reduce(function(e,t){return e[t]=!0,e},Object.create(null)),s=[];return i.forEach(function(e){return s.push(e)}),s.map(function(e){return o[e]?e:e.replace(I,"a")})}function p(e){var t=e.match(E);return t?t[2]:null}function f(e,t){return e&&t?0===t.indexOf("/")?""+e+t:e+"/"+t:null}function g(e){if(-1===e.indexOf("://")){var t=e.match(_);if(t)return f(t[2],t[3])}try{var n=o.default.parse(e);if(n.authority)return f(p(n.authority),n.path)}catch(e){}return null}function m(e){for(var t,n=[];t=w.exec(e);){var i=g(t[1]);i&&n.push(i)}return n}function b(e){return m(e).map(function(e){return n.createHash("sha1").update(e).digest("hex")})}Object.defineProperty(t,"__esModule",{value:!0});var S=/^([^@:]+@)?([^:]+):/,_=/^([^@:]+@)?([^:]+):(.+)$/,E=/^([^@]+@)?([^:]+)(:\d+)?$/,C=/([^@:.]+\.[^@:.]+)(:\d+)?$/,w=/^\s*url\s*=\s*(.+\S)\s*$/gm,I=/[^.]/g,T=["github.com","bitbucket.org","visualstudio.com","gitlab.com","heroku.com","azurewebsites.net","ibm.com","amazon.com","amazonaws.com","cloudapp.net","rhcloud.com","google.com"];t.getDomainsOfRemotes=h,t.getRemotes=m,t.getHashedRemotes=b;var k=function(){function e(e,t,n,i){this.fileService=e,this.contextService=t,this.telemetryService=n,this.environmentService=i}return e.prototype.searchArray=function(e,t){return e.some(function(e){return e.search(t)>-1})||void 0},e.prototype.getWorkspaceTags=function(e){var t=this,n=Object.create(null),o=e.filesToOpen,s=e.filesToCreate,a=e.filesToDiff;n["workbench.filesToOpen"]=o&&o.length||void 0,n["workbench.filesToCreate"]=s&&s.length||void 0,n["workbench.filesToDiff"]=a&&a.length||void 0;var c=this.contextService.getWorkspace2();n["workspace.roots"]=c?c.roots.length:0,n["workspace.empty"]=!c;var l=c?c.roots:"stable"!==this.environmentService.appQuality&&this.findFolders(e);return l&&l.length&&this.fileService?this.fileService.resolveFiles(l.map(function(e){return{resource:e}})).then(function(e){var i=(p=[]).concat.apply(p,e.map(function(e){return e.success?e.stat.children||[]:[]})).map(function(e){return e.name});n["workspace.language.cs"]=t.searchArray(i,/^.+\.cs$/i),n["workspace.language.js"]=t.searchArray(i,/^.+\.js$/i),n["workspace.language.ts"]=t.searchArray(i,/^.+\.ts$/i),n["workspace.language.php"]=t.searchArray(i,/^.+\.php$/i),n["workspace.language.python"]=t.searchArray(i,/^.+\.py$/i),n["workspace.language.vb"]=t.searchArray(i,/^.+\.vb$/i),n["workspace.language.aspx"]=t.searchArray(i,/^.+\.aspx$/i),n["workspace.grunt"]=t.searchArray(i,/^gruntfile\.js$/i),n["workspace.gulp"]=t.searchArray(i,/^gulpfile\.js$/i),n["workspace.jake"]=t.searchArray(i,/^jakefile\.js$/i),n["workspace.tsconfig"]=t.searchArray(i,/^tsconfig\.json$/i),n["workspace.jsconfig"]=t.searchArray(i,/^jsconfig\.json$/i),n["workspace.config.xml"]=t.searchArray(i,/^config\.xml/i),n["workspace.vsc.extension"]=t.searchArray(i,/^vsc-extension-quickstart\.md/i),n["workspace.ASP5"]=t.searchArray(i,/^project\.json$/i)&&n["workspace.language.cs"],n["workspace.sln"]=t.searchArray(i,/^.+\.sln$|^.+\.csproj$/i),n["workspace.unity"]=t.searchArray(i,/^Assets$/i)&&t.searchArray(i,/^Library$/i)&&t.searchArray(i,/^ProjectSettings/i),n["workspace.npm"]=t.searchArray(i,/^package\.json$|^node_modules$/i),n["workspace.bower"]=t.searchArray(i,/^bower\.json$|^bower_components$/i),n["workspace.yeoman.code"]=t.searchArray(i,/^vscodequickstart\.md$/i),n["workspace.yeoman.code.ext"]=t.searchArray(i,/^vsc-extension-quickstart\.md$/i);var r=t.searchArray(i,/^MainActivity\.cs$/i)||t.searchArray(i,/^MainActivity\.fs$/i),o=t.searchArray(i,/^AppDelegate\.cs$/i)||t.searchArray(i,/^AppDelegate\.fs$/i),s=t.searchArray(i,/^AndroidManifest\.xml$/i),a=t.searchArray(i,/^platforms$/i),c=t.searchArray(i,/^plugins$/i),l=t.searchArray(i,/^www$/i),u=t.searchArray(i,/^Properties/i),d=t.searchArray(i,/^Resources/i),h=t.searchArray(i,/^JNI/i);return!n["workspace.config.xml"]||n["workspace.language.cs"]||n["workspace.language.vb"]||n["workspace.language.aspx"]||(a&&c&&l?n["workspace.cordova.high"]=!0:n["workspace.cordova.low"]=!0),r&&u&&d&&(n["workspace.xamarin.android"]=!0),o&&d&&(n["workspace.xamarin.ios"]=!0),s&&h&&(n["workspace.android.cpp"]=!0),n["workspace.reactNative"]=t.searchArray(i,/^android$/i)&&t.searchArray(i,/^ios$/i)&&t.searchArray(i,/^index\.android\.js$/i)&&t.searchArray(i,/^index\.ios\.js$/i),n;var p},function(e){return r.onUnexpectedError(e),null}):i.TPromise.as(n)},e.prototype.findFolders=function(e){var t=this.findFolder(e);return t&&[t]},e.prototype.findFolder=function(e){var t=e.filesToOpen,n=e.filesToCreate,i=e.filesToDiff;return t&&t.length?this.parentURI(t[0].resource):n&&n.length?this.parentURI(n[0].resource):i&&i.length?this.parentURI(i[0].resource):void 0},e.prototype.parentURI=function(e){var t=e.path,n=t.lastIndexOf("/");return-1!==n?e.with({path:t.substr(0,n)}):void 0},e.prototype.reportWorkspaceTags=function(e){var t=this;this.getWorkspaceTags(e).then(function(e){t.telemetryService.publicLog("workspce.tags",e)},function(e){return r.onUnexpectedError(e)})},e.prototype.reportRemoteDomains=function(e){var t=this;i.TPromise.join(e.map(function(e){var n=e.path,i=e.with({path:("/"!==n?n:"")+"/.git/config"});return t.fileService.resolveContent(i,{acceptTextOnly:!0}).then(function(e){return h(e.value,T)},function(e){return[]})})).then(function(e){var n=e.reduce(function(e,t){return t.reduce(function(e,t){return e.add(t)},e)},new Set),i=[];n.forEach(function(e){return i.push(e)}),t.telemetryService.publicLog("workspace.remotes",{domains:i.sort()})},r.onUnexpectedError)},e.prototype.reportRemotes=function(e){var t=this;i.TPromise.join(e.map(function(e){var n=e.path,i=e.with({path:("/"!==n?n:"")+"/.git/config"});return t.fileService.resolveContent(i,{acceptTextOnly:!0}).then(function(e){return b(e.value)},function(e){return[]})})).then(function(e){return t.telemetryService.publicLog("workspace.hashedRemotes",{remotes:e})},r.onUnexpectedError)},e.prototype.reportAzureNode=function(e,t){var n=this,i=e.map(function(e){var t=e.path;return e.with({path:("/"!==t?t:"")+"/node_modules"})});return this.fileService.resolveFiles(i.map(function(e){return{resource:e}})).then(function(e){var i=(r=[]).concat.apply(r,e.map(function(e){return e.success?e.stat.children||[]:[]})).map(function(e){return e.name});return n.searchArray(i,/azure/i)&&(t.node=!0),t;var r},function(e){return t})},e.prototype.reportAzureJava=function(e,t){var n=this;return i.TPromise.join(e.map(function(e){var t=e.path,i=e.with({path:("/"!==t?t:"")+"/pom.xml"});return n.fileService.resolveContent(i,{acceptTextOnly:!0}).then(function(e){return!!e.value.match(/azure/i)},function(e){return!1})})).then(function(e){return-1!==e.indexOf(!0)&&(t.java=!0),t})},e.prototype.reportAzure=function(e){var t=this,n=Object.create(null);this.reportAzureNode(e,n).then(function(n){return t.reportAzureJava(e,n)}).then(function(e){Object.keys(e).length&&t.telemetryService.publicLog("workspace.azure",e)}).then(null,r.onUnexpectedError)},e.prototype.reportCloudStats=function(){var e=this.contextService.getWorkspace2(),t=e&&e.roots;t&&t.length&&this.fileService&&(this.reportRemoteDomains(t),this.reportRemotes(t),this.reportAzure(t))},e}();k=v([y(0,s.IFileService),y(1,c.IWorkspaceContextService),y(2,a.ITelemetryService),y(3,l.IEnvironmentService)],k),t.WorkspaceStats=k}),define(u[387],d([1,0,729,117,275]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.grammarsExtPoint=i.ExtensionsRegistry.registerExtensionPoint("grammars",[r.languagesExtPoint],{description:n.localize(0,null),type:"array",defaultSnippets:[{body:[{language:"${1:id}",scopeName:"source.${2:id}",path:"./syntaxes/${3:id}.tmLanguage."}]}],items:{type:"object",defaultSnippets:[{body:{language:"${1:id}",scopeName:"source.${2:id}",path:"./syntaxes/${3:id}.tmLanguage."}}],properties:{language:{description:n.localize(1,null),type:"string"},scopeName:{description:n.localize(2,null),type:"string"},path:{description:n.localize(3,null),type:"string"},embeddedLanguages:{description:n.localize(4,null),type:"object"},injectTo:{description:n.localize(5,null),type:"array",items:{type:"string"}}},required:["scopeName","path"]}})}),define(u[100],d([1,0,4,25,6,387,42,27,983,23,59,20,52,76,36,19,48,32]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,v,y,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var S=function(){function e(t){null===e._grammars&&this.fillModeScopeMap(t)}return e.prototype.fillModeScopeMap=function(t){e._grammars={},t.forEach(function(t){t.value.forEach(function(t){t.language&&t.scopeName&&(e._grammars[t.language]=t.scopeName)})})},e.prototype.getGrammar=function(t){return e._grammars[t]},e}();S._grammars=null;var _=function(){function t(){this._emmetPromise=null}return t.withConfiguredEmmet=function(e,n,i,r,o,s){return t.workspaceRoot=o,t.emmetSupportedModes=r,t._INSTANCE.withEmmetPreferences(e,n,i,s)},t.prototype.withEmmetPreferences=function(e,t,n,i){var r=this;return this._loadEmmet().then(function(o){r._messageService=t,r._withEmmetPreferences(e,n,o,i)},function(e){i(null)})},t.prototype._loadEmmet=function(){return this._emmetPromise||(this._emmetPromise=new n.TPromise(function(t,n){e(["emmet"],t,n)})),this._emmetPromise},t.prototype.updateEmmetPreferences=function(e,n,i){var r=e.getConfiguration().emmet,o=function(){var e=m({},t.syntaxProfilesFromFile,r.syntaxProfiles),o=m({},t.preferencesFromFile,r.preferences),s=t.snippetsFromFile,a=[],c=!1;for(var l in r.syntaxProfiles)-1===t.emmetSupportedModes.indexOf(l)?a.push(l):c=!0;try{i.loadPreferences(o),i.loadProfiles(e),i.loadSnippets(s);var u={emmetPreferencesFromFile:Object.keys(t.preferencesFromFile).length>0,emmetSyntaxProfilesFromFile:Object.keys(t.syntaxProfilesFromFile).length>0,emmetSnippetsFromFile:Object.keys(t.snippetsFromFile).length>0,emmetPreferencesFromSettings:Object.keys(r.preferences).length>0,emmetSyntaxProfilesFromSettings:c,emmetMappedModes:a};n.publicLog("emmetCustomizations",u)}catch(e){}};return this.updateFromExtensionsPath(r.extensionsPath).then(o,function(e){console.log(e),o()})},t.prototype.updateFromExtensionsPath=function(e){var i=this;if(e!==t.extensionsPath&&(t.extensionsPath=e,t.snippetsFromFile={},t.preferencesFromFile={},t.syntaxProfilesFromFile={},e&&e.trim())){var r=p.isAbsolute(e)?e:p.join(t.workspaceRoot,e),o=p.join(r,"snippets.json"),s=p.join(r,"syntaxProfiles.json"),a=p.join(r,"preferences.json");return f.dirExists(r).then(function(e){if(e){var r=i.getEmmetCustomization(o).then(function(e){return t.snippetsFromFile=e}),c=i.getEmmetCustomization(s).then(function(e){return t.syntaxProfilesFromFile=e}),l=i.getEmmetCustomization(a).then(function(e){return t.preferencesFromFile=e});return n.TPromise.join([r,c,l])}i._messageService.show(g.default.Error,'The path set in emmet.extensionsPath "'+t.extensionsPath+'" does not exist.')})}return n.TPromise.as(void 0)},t.prototype.getEmmetCustomization=function(e){var t=this;return f.fileExists(e).then(function(n){return n?f.readFile(e).then(function(n){var i={};try{i=JSON.parse(n.toString())}catch(n){t._messageService.show(g.default.Error,'Error while parsing "'+e+'": '+n)}return i}):{}})},t.prototype._withEmmetPreferences=function(e,t,n,i){this.updateEmmetPreferences(e,t,n).then(function(){try{i(n)}finally{n.resetUserData()}})},t}();_._INSTANCE=new _,_.extensionsPath="",_.snippetsFromFile={},_.syntaxProfilesFromFile={},_.preferencesFromFile={},_.workspaceRoot="";var E=function(){return function(e,t,n){this.editor=e,this.emmet=t,this.editorAccessor=n}}();t.EmmetActionContext=E;var C=function(e){function t(t){var n=e.call(this,t)||this;return n.actionMap={"editor.emmet.action.removeTag":"emmet.removeTag","editor.emmet.action.updateTag":"emmet.updateTag","editor.emmet.action.matchingPair":"emmet.matchTag","editor.emmet.action.wrapWithAbbreviation":"emmet.wrapWithAbbreviation","editor.emmet.action.expandAbbreviation":"emmet.expandAbbreviation","editor.emmet.action.balanceInward":"emmet.balanceIn","editor.emmet.action.balanceOutward":"emmet.balanceOut","editor.emmet.action.previousEditPoint":"emmet.prevEditPoint","editor.emmet.action.nextEditPoint":"emmet.nextEditPoint","editor.emmet.action.mergeLines":"emmet.mergeLines","editor.emmet.action.selectPreviousItem":"emmet.selectPrevItem","editor.emmet.action.selectNextItem":"emmet.selectNextItem","editor.emmet.action.splitJoinTag":"emmet.splitJoinTag","editor.emmet.action.toggleComment":"emmet.toggleComment","editor.emmet.action.evaluateMath":"emmet.evaluateMathExpression","editor.emmet.action.incrementNumberByOneTenth":"emmet.incrementNumberByOneTenth","editor.emmet.action.incrementNumberByOne":"emmet.incrementNumberByOne","editor.emmet.action.incrementNumberByTen":"emmet.incrementNumberByTen","editor.emmet.action.decrementNumberByOneTenth":"emmet.decrementNumberByOneTenth","editor.emmet.action.decrementNumberByOne":"emmet.decrementNumberByOne","editor.emmet.action.decrementNumberByTen":"emmet.decrementNumberByTen"},n._lastGrammarContributions=null,n._lastExtensionService=null,n.emmetActionName=t.actionName,n}return h(t,e),t.prototype.noExpansionOccurred=function(e){},t.prototype._withGrammarContributions=function(e){return this._lastExtensionService!==e&&(this._lastExtensionService=e,this._lastGrammarContributions=e.readExtensionPointContributions(o.grammarsExtPoint).then(function(e){return new S(e)})),this._lastGrammarContributions},t.prototype.run=function(e,t){var n=this,i=e.get(l.IConfigurationService),o=e.get(r.IInstantiationService),h=e.get(u.IExtensionService),p=e.get(s.IModeService),f=e.get(d.IMessageService),g=e.get(a.IWorkspaceContextService),m=g.hasWorkspace()?g.getWorkspace().resource.fsPath:"",y=e.get(v.ITelemetryService),S=e.get(b.ICommandService),C=i.getConfiguration().emmet.useNewEmmet?this.actionMap[this.id]:void 0;return C&&"emmet.expandAbbreviation"!==C&&"emmet.wrapWithAbbreviation"!==C?S.executeCommand(C):this._withGrammarContributions(h).then(function(e){var r=new c.EditorAccessor(p,t,i.getConfiguration().emmet.syntaxProfiles,i.getConfiguration().emmet.excludeLanguages,e,n.emmetActionName);if("emmet.expandAbbreviation"===C||"emmet.wrapWithAbbreviation"===C)return S.executeCommand(C,r.getLanguage());if(r.isEmmetEnabledMode())return _.withConfiguredEmmet(i,f,y,r.getEmmetSupportedModes(),m,function(e){e?(r.onBeforeEmmetAction(),o.invokeFunction(function(i){n.runEmmetAction(i,new E(t,e,r))}),r.onAfterEmmetAction()):n.noExpansionOccurred(t)});n.noExpansionOccurred(t)})},t}(i.EditorAction);t.EmmetEditorAction=C;var w=function(e){function t(t,n,i,r,o){return e.call(this,{id:t,label:n,alias:i,precondition:y.EditorContextKeys.writable,kbOpts:o,actionName:r})||this}return h(t,e),t.prototype.runEmmetAction=function(e,t){var n=e.get(v.ITelemetryService);try{t.emmet.run(this.emmetActionName,t.editorAccessor)?"expand_abbreviation"===this.emmetActionName&&n.publicLog("emmetActionSucceeded",{action:this.emmetActionName}):this.noExpansionOccurred(t.editor)}catch(e){this.noExpansionOccurred(t.editor)}},t}(C);t.BasicEmmetEditorAction=w}),define(u[1177],d([1,0,584,100,25]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return e.call(this,"editor.emmet.action.balanceInward",n.localize(0,null),"Emmet: Balance (inward)","balance_inward")||this}return h(t,e),t}(i.BasicEmmetEditorAction);o=v([r.editorAction],o);var s=function(e){function t(){return e.call(this,"editor.emmet.action.balanceOutward",n.localize(1,null),"Emmet: Balance (outward)","balance_outward")||this}return h(t,e),t}(i.BasicEmmetEditorAction);s=v([r.editorAction],s)}),define(u[1178],d([1,0,585,100,25]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return e.call(this,"editor.emmet.action.previousEditPoint",n.localize(0,null),"Emmet: Go to Previous Edit Point","prev_edit_point")||this}return h(t,e),t}(i.BasicEmmetEditorAction);o=v([r.editorAction],o);var s=function(e){function t(){return e.call(this,"editor.emmet.action.nextEditPoint",n.localize(1,null),"Emmet: Go to Next Edit Point","next_edit_point")||this}return h(t,e),t}(i.BasicEmmetEditorAction);s=v([r.editorAction],s)}),define(u[1179],d([1,0,586,100,25]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return e.call(this,"editor.emmet.action.evaluateMath",n.localize(0,null),"Emmet: Evaluate Math Expression","evaluate_math_expression")||this}return h(t,e),t}(i.BasicEmmetEditorAction);o=v([r.editorAction],o)}),define(u[1180],d([1,0,587,100,25,48,184,17]),function(e,t,n,i,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(){return e.call(this,"editor.emmet.action.expandAbbreviation",n.localize(0,null),"Emmet: Expand Abbreviation","expand_abbreviation",{primary:2,kbExpr:a.ContextKeyExpr.and(o.EditorContextKeys.textFocus,o.EditorContextKeys.hasOnlyEmptySelection,o.EditorContextKeys.hasSingleSelection,o.EditorContextKeys.tabDoesNotMoveFocus,a.ContextKeyExpr.has("config.emmet.triggerExpansionOnTab"),a.ContextKeyExpr.not("config.emmet.useNewEmmet"))})||this}return h(t,e),t.prototype.noExpansionOccurred=function(e){s.CoreEditingCommands.Tab.runEditorCommand(null,e,null)},t}(i.BasicEmmetEditorAction);c=v([r.editorAction],c)}),define(u[1181],d([1,0,588,100,25]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return e.call(this,"editor.emmet.action.incrementNumberByOneTenth",n.localize(0,null),"Emmet: Increment by 0.1","increment_number_by_01")||this}return h(t,e),t}(i.BasicEmmetEditorAction);o=v([r.editorAction],o);var s=function(e){function t(){return e.call(this,"editor.emmet.action.incrementNumberByOne",n.localize(1,null),"Emmet: Increment by 1","increment_number_by_1")||this}return h(t,e),t}(i.BasicEmmetEditorAction);s=v([r.editorAction],s);var a=function(e){function t(){return e.call(this,"editor.emmet.action.incrementNumberByTen",n.localize(2,null),"Emmet: Increment by 10","increment_number_by_10")||this}return h(t,e),t}(i.BasicEmmetEditorAction);a=v([r.editorAction],a);var c=function(e){function t(){return e.call(this,"editor.emmet.action.decrementNumberByOneTenth",n.localize(3,null),"Emmet: Decrement by 0.1","decrement_number_by_01")||this}return h(t,e),t}(i.BasicEmmetEditorAction);c=v([r.editorAction],c);var l=function(e){function t(){return e.call(this,"editor.emmet.action.decrementNumberByOne",n.localize(4,null),"Emmet: Decrement by 1","decrement_number_by_1")||this}return h(t,e),t}(i.BasicEmmetEditorAction);l=v([r.editorAction],l);var u=function(e){function t(){return e.call(this,"editor.emmet.action.decrementNumberByTen",n.localize(5,null),"Emmet: Decrement by 10","decrement_number_by_10")||this}return h(t,e),t}(i.BasicEmmetEditorAction);u=v([r.editorAction],u)}),define(u[1182],d([1,0,589,100,25]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return e.call(this,"editor.emmet.action.matchingPair",n.localize(0,null),"Emmet: Go to Matching Pair","matching_pair")||this}return h(t,e),t}(i.BasicEmmetEditorAction);o=v([r.editorAction],o)}),define(u[1183],d([1,0,590,100,25]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return e.call(this,"editor.emmet.action.mergeLines",n.localize(0,null),"Emmet: Merge Lines","merge_lines")||this}return h(t,e),t}(i.BasicEmmetEditorAction);o=v([r.editorAction],o)}),define(u[1184],d([1,0,591,100,25]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return e.call(this,"editor.emmet.action.reflectCSSValue",n.localize(0,null),"Emmet: Reflect CSS Value","reflect_css_value")||this}return h(t,e),t}(i.BasicEmmetEditorAction);o=v([r.editorAction],o)}),define(u[1185],d([1,0,592,100,25]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return e.call(this,"editor.emmet.action.removeTag",n.localize(0,null),"Emmet: Remove Tag","remove_tag")||this}return h(t,e),t}(i.BasicEmmetEditorAction);o=v([r.editorAction],o)}),define(u[1186],d([1,0,593,100,25]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return e.call(this,"editor.emmet.action.selectPreviousItem",n.localize(0,null),"Emmet: Select Previous Item","select_previous_item")||this}return h(t,e),t}(i.BasicEmmetEditorAction);o=v([r.editorAction],o);var s=function(e){function t(){return e.call(this,"editor.emmet.action.selectNextItem",n.localize(1,null),"Emmet: Select Next Item","select_next_item")||this}return h(t,e),t}(i.BasicEmmetEditorAction);s=v([r.editorAction],s)}),define(u[1187],d([1,0,594,100,25]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return e.call(this,"editor.emmet.action.splitJoinTag",n.localize(0,null),"Emmet: Split/Join Tag","split_join_tag")||this}return h(t,e),t}(i.BasicEmmetEditorAction);o=v([r.editorAction],o)}),define(u[1188],d([1,0,595,100,25]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return e.call(this,"editor.emmet.action.toggleComment",n.localize(0,null),"Emmet: Toggle Comment","toggle_comment")||this}return h(t,e),t}(i.BasicEmmetEditorAction);o=v([r.editorAction],o)}),define(u[1189],d([1,0,596,100,25]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return e.call(this,"editor.emmet.action.updateImageSize",n.localize(0,null),"Emmet: Update Image Size","update_image_size")||this}return h(t,e),t}(i.BasicEmmetEditorAction);o=v([r.editorAction],o)}),define(u[1190],d([1,0,597,100,25,48,54]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this,{id:"editor.emmet.action.updateTag",label:n.localize(0,null),alias:"Emmet: Update Tag",precondition:o.EditorContextKeys.writable,actionName:"update_tag"})||this}return h(t,e),t.prototype.runEmmetAction=function(e,t){var i=this,r=e.get(s.IQuickOpenService),o={prompt:n.localize(1,null),placeHolder:n.localize(2,null)};r.input(o).then(function(e){i.wrapAbbreviation(t,e)})},t.prototype.wrapAbbreviation=function(e,t){t&&!e.emmet.run("update_tag",e.editorAccessor,t)&&this.noExpansionOccurred(e.editor)},t}(i.EmmetEditorAction);a=v([r.editorAction],a)}),define(u[1191],d([1,0,598,100,25,48,54]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this,{id:"editor.emmet.action.wrapWithAbbreviation",label:n.localize(0,null),alias:"Emmet: Wrap with Abbreviation",precondition:o.EditorContextKeys.writable,actionName:"wrap_with_abbreviation"})||this}return h(t,e),t.prototype.runEmmetAction=function(e,t){var i=this,r=e.get(s.IQuickOpenService),o={prompt:n.localize(1,null),placeHolder:n.localize(2,null)};r.input(o).then(function(e){i.wrapAbbreviation(t,e)})},t.prototype.wrapAbbreviation=function(e,t){t&&!e.emmet.run("wrap_with_abbreviation",e.editorAccessor,t)&&this.noExpansionOccurred(e.editor)},t}(i.EmmetEditorAction);a=v([r.editorAction],a)}),define(u[1192],d([1,0,599,15,64,1180,1177,1182,1191,1178,1186,1188,1187,1185,1183,1189,1179,1181,1184,1190]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.Registry.as(r.Extensions.Configuration).registerConfiguration({id:"emmet",order:6,title:n.localize(0,null),type:"object",properties:{"emmet.triggerExpansionOnTab":{type:"boolean",default:!0,description:n.localize(1,null)},"emmet.preferences":{type:"object",default:{},description:n.localize(2,null)},"emmet.syntaxProfiles":{type:"object",default:{},description:n.localize(3,null)},"emmet.excludeLanguages":{type:"array",default:["markdown"],description:n.localize(4,null)},"emmet.extensionsPath":{type:"string",default:null,description:n.localize(5,null)},"emmet.useNewEmmet":{type:"boolean",default:!1,description:n.localize(6,null)}}})}),define(u[382],d([1,0]),function(e,t){"use strict";function n(e,t,n){for(var r=null,o=e.tokenColors.length-1;o>=0;o--){var s=e.tokenColors[o];if(s.settings.foreground){var a=void 0;if("string"==typeof s.scope)a=s.scope.split(/,/).map(function(e){return e.trim()});else{if(!Array.isArray(s.scope))continue;a=s.scope}for(var c=0,l=a.length;c<l;c++){var u=a[c],d=new i(u,s.settings);d.matches(t,n)&&d.isMoreSpecific(r)&&(r=d)}}}return r}Object.defineProperty(t,"__esModule",{value:!0}),t.findMatchingThemeRule=function(e,t){for(var i=t.length-1;i>=0;i--){var r=t.slice(0,i),o=n(e,t[i],r);if(o)return o}return null};var i=function(){function e(e,t){this.rawSelector=e,this.settings=t;var n=this.rawSelector.split(/ /);this.scope=n[n.length-1],this.parentScopes=n.slice(0,n.length-1)}return e.prototype.matches=function(t,n){return e._matches(this.scope,this.parentScopes,t,n)},e._cmp=function(e,t){if(null===e&&null===t)return 0;if(null===e)return-1;if(null===t)return 1;if(e.scope.length!==t.scope.length)return e.scope.length-t.scope.length;var n=e.parentScopes.length,i=t.parentScopes.length;if(n!==i)return n-i;for(var r=0;r<n;r++){var o=e.parentScopes[r].length,s=t.parentScopes[r].length;if(o!==s)return o-s}return 0},e.prototype.isMoreSpecific=function(t){return e._cmp(this,t)>0},e._matchesOne=function(e,t){var n=e+".";return e===t||t.substring(0,n.length)===n},e._matches=function(e,t,n,i){if(!this._matchesOne(e,n))return!1;for(var r=t.length-1,o=i.length-1;r>=0&&o>=0;)this._matchesOne(t[r],i[o])&&r--,o--;return-1===r},e}();t.ThemeRule=i}),define(u[237],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ITextMateService=n.createDecorator("textMateService")}),define(u[1195],d([1,0,548,94,76,42,112,123,15,237]),function(e,t,n,i,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){var n=this;this._modeService=t,this._done=[],this._modeService.onDidCreateMode(function(e){return n._loadConfigurationsForMode(e.getLanguageIdentifier())}),e.onDidEncounterLanguage(function(e){n._loadConfigurationsForMode(n._modeService.getLanguageIdentifier(e))})}return e.prototype._loadConfigurationsForMode=function(e){var t=this;this._done[e.id]||(this._done[e.id]=!0,this._modeService.getConfigurationFiles(e.language).forEach(function(n){return t._handleConfigFile(e,n)}))},e.prototype._handleConfigFile=function(e,t){var o=this;r.readFile(t).then(function(r){var s=[],a=i.parse(r.toString(),s);s.length&&console.error(n.localize(0,null,t,s.join("\n"))),o._handleConfig(e,a)},function(e){console.error(e)})},e.prototype._handleConfig=function(e,t){var n={};if(t.comments&&(n.comments=t.comments),t.brackets&&(n.brackets=t.brackets),t.autoClosingPairs&&(n.autoClosingPairs=this._mapCharacterPairs(t.autoClosingPairs)),t.surroundingPairs&&(n.surroundingPairs=this._mapCharacterPairs(t.surroundingPairs)),t.wordPattern)try{var i=this._parseRegex(t.wordPattern);i&&(n.wordPattern=i)}catch(e){}if(t.indentationRules){var r=this._mapIndentationRules(t.indentationRules);r&&(n.indentationRules=r)}s.LanguageConfigurationRegistry.register(e,n)},e.prototype._parseRegex=function(e){return"string"==typeof e?new RegExp(e,""):"object"==typeof e?new RegExp(e.pattern,e.flags):null},e.prototype._mapIndentationRules=function(e){try{var t=this._parseRegex(e.increaseIndentPattern),n=this._parseRegex(e.decreaseIndentPattern);if(t&&n){var i={increaseIndentPattern:t,decreaseIndentPattern:n};return e.indentNextLinePattern&&(i.indentNextLinePattern=this._parseRegex(e.indentNextLinePattern)),e.unIndentedLinePattern&&(i.unIndentedLinePattern=this._parseRegex(e.unIndentedLinePattern)),i}}catch(e){}return null},e.prototype._mapCharacterPairs=function(e){return e.map(function(e){return Array.isArray(e)?{open:e[0],close:e[1]}:e})},e}();u=v([y(0,l.ITextMateService),y(1,o.IModeService)],u),t.LanguageConfigurationFileHandler=u;var d={default:{comments:{blockComment:["/*","*/"],lineComment:"//"},brackets:[["(",")"],["[","]"],["{","}"]],autoClosingPairs:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[["(",")"],["[","]"],["{","}"]]},definitions:{openBracket:{type:"string",description:n.localize(1,null)},closeBracket:{type:"string",description:n.localize(2,null)},bracketPair:{type:"array",items:[{$ref:"#definitions/openBracket"},{$ref:"#definitions/closeBracket"}]}},properties:{comments:{default:{blockComment:["/*","*/"],lineComment:"//"},description:n.localize(3,null),type:"object",properties:{blockComment:{type:"array",description:n.localize(4,null),items:[{type:"string",description:n.localize(5,null)},{type:"string",description:n.localize(6,null)}]},lineComment:{type:"string",description:n.localize(7,null)}}},brackets:{default:[["(",")"],["[","]"],["{","}"]],description:n.localize(8,null),type:"array",items:{$ref:"#definitions/bracketPair"}},autoClosingPairs:{default:[["(",")"],["[","]"],["{","}"]],description:n.localize(9,null),type:"array",items:{oneOf:[{$ref:"#definitions/bracketPair"},{type:"object",properties:{open:{$ref:"#definitions/openBracket"},close:{$ref:"#definitions/closeBracket"},notIn:{type:"array",description:n.localize(10,null),items:{enum:["string","comment"]}}}}]}},surroundingPairs:{default:[["(",")"],["[","]"],["{","}"]],description:n.localize(11,null),type:"array",items:{oneOf:[{$ref:"#definitions/bracketPair"},{type:"object",properties:{open:{$ref:"#definitions/openBracket"},close:{$ref:"#definitions/closeBracket"}}}]}},wordPattern:{default:"",description:n.localize(12,null),type:["string","object"],properties:{pattern:{type:"string",description:n.localize(13,null),default:""},flags:{type:"string",description:n.localize(14,null),default:"g",pattern:"^([gimuy]+)$",patternErrorMessage:n.localize(15,null)}}},indentationRules:{default:{increaseIndentPattern:"",decreaseIndentPattern:""},description:n.localize(16,null),type:"object",properties:{increaseIndentPattern:{type:["string","object"],description:n.localize(17,null),properties:{pattern:{type:"string",description:n.localize(18,null),default:""},flags:{type:"string",description:n.localize(19,null),default:"",pattern:"^([gimuy]+)$",patternErrorMessage:n.localize(20,null)}}},decreaseIndentPattern:{type:["string","object"],description:n.localize(21,null),properties:{pattern:{type:"string",description:n.localize(22,null),default:""},flags:{type:"string",description:n.localize(23,null),default:"",pattern:"^([gimuy]+)$",patternErrorMessage:n.localize(24,null)}}},indentNextLinePattern:{type:["string","object"],description:n.localize(25,null),properties:{pattern:{type:"string",description:n.localize(26,null),default:""},flags:{type:"string",description:n.localize(27,null),default:"",pattern:"^([gimuy]+)$",patternErrorMessage:n.localize(28,null)}}},unIndentedLinePattern:{type:["string","object"],description:n.localize(29,null),properties:{pattern:{type:"string",description:n.localize(30,null),default:""},flags:{type:"string",description:n.localize(31,null),default:"",pattern:"^([gimuy]+)$",patternErrorMessage:n.localize(32,null)}}}}}}};c.Registry.as(a.Extensions.JSONContribution).registerSchema("vscode://schemas/language-configuration",d)}),define(u[51],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.SAVED=0]="SAVED",e[e.DIRTY=1]="DIRTY",e[e.PENDING_SAVE=2]="PENDING_SAVE",e[e.CONFLICT=3]="CONFLICT",e[e.ORPHAN=4]="ORPHAN",e[e.ERROR=5]="ERROR"}(t.ModelState||(t.ModelState={}));!function(e){e[e.DIRTY=0]="DIRTY",e[e.SAVING=1]="SAVING",e[e.SAVE_ERROR=2]="SAVE_ERROR",e[e.SAVED=3]="SAVED",e[e.REVERTED=4]="REVERTED",e[e.ENCODING=5]="ENCODING",e[e.CONTENT_CHANGE=6]="CONTENT_CHANGE",e[e.ORPHANED_CHANGE=7]="ORPHANED_CHANGE"}(t.StateChange||(t.StateChange={}));var i=function(){function e(e,t){this._resource=e.getResource(),this._kind=t}return Object.defineProperty(e.prototype,"resource",{get:function(){return this._resource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kind",{get:function(){return this._kind},enumerable:!0,configurable:!0}),e}();t.TextFileModelChangeEvent=i,t.TEXT_FILE_SERVICE_ID="textFileService";!function(e){e[e.OFF=0]="OFF",e[e.AFTER_SHORT_DELAY=1]="AFTER_SHORT_DELAY",e[e.AFTER_LONG_DELAY=2]="AFTER_LONG_DELAY",e[e.ON_FOCUS_CHANGE=3]="ON_FOCUS_CHANGE",e[e.ON_WINDOW_CHANGE=4]="ON_WINDOW_CHANGE"}(t.AutoSaveMode||(t.AutoSaveMode={}));!function(e){e[e.EXPLICIT=1]="EXPLICIT",e[e.AUTO=2]="AUTO",e[e.FOCUS_CHANGE=3]="FOCUS_CHANGE",e[e.WINDOW_CHANGE=4]="WINDOW_CHANGE"}(t.SaveReason||(t.SaveReason={})),t.ITextFileService=n.createDecorator(t.TEXT_FILE_SERVICE_ID)}),define(u[206],d([1,0,4,516,21,26,56,30,102,84,22,54,47,63,160,38,45,32,51,62]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E){"use strict";function C(e){if(e instanceof c.QuickOpenEntryGroup){var t=e;t.getEntry()&&(e=t.getEntry())}return e instanceof l.EditorQuickOpenEntry||e instanceof l.EditorQuickOpenEntryGroup?e:null}function w(e,t,n){if(n)return{input:n.editor,position:t.getStacksModel().positionOfGroup(n.group)};var i=e.getActiveEditor();return i?{input:i.input,position:i.position}:null}Object.defineProperty(t,"__esModule",{value:!0});var I=function(e){function t(t,n,i,r){var o=e.call(this,t,n,"split-editor-action")||this;return o.editorService=i,o.editorGroupService=r,o}return h(t,e),t.prototype.run=function(e){var t,i=this;if(!(t=e?this.editorService.getVisibleEditors()[this.editorGroupService.getStacksModel().positionOfGroup(e.group)]:this.editorService.getActiveEditor()))return n.TPromise.as(!0);if(t.input instanceof a.EditorInput&&!t.input.supportsSplitEditor())return n.TPromise.as(!0);var r,o=s.getCodeEditor(t);(r=o?a.TextEditorOptions.fromEditor(o):new a.EditorOptions).pinned=!0;var c;switch(this.editorService.getVisibleEditors().length){case 1:c=f.Position.TWO;break;case 2:if(t.position===f.Position.TWO)c=f.Position.THREE;else if(t.position===f.Position.ONE)return r.preserveFocus=!0,this.editorService.openEditor(t.input,r,f.Position.THREE).then(function(){i.editorGroupService.moveGroup(f.Position.THREE,f.Position.TWO),i.editorGroupService.focusGroup(f.Position.TWO)})}return"number"==typeof c?this.editorService.openEditor(t.input,r,c):n.TPromise.as(!0)},t}(r.Action);I.ID="workbench.action.splitEditor",I.LABEL=i.localize(0,null),I=v([y(2,u.IWorkbenchEditorService),y(3,b.IEditorGroupService)],I),t.SplitEditorAction=I;var T=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.editorService=i,o.editorGroupService=r,o}return h(t,e),t.prototype.run=function(e){var t=this,i=this.editorGroupService.getStacksModel();if(i.groups.length<2)return n.TPromise.as(!0);var r,o;r=e?i.positionOfGroup(e.group):i.positionOfGroup(i.activeGroup),o=r===f.Position.ONE?r+1:r-1;var s=i.groupAt(r),a=i.groupAt(o),c=s.activeEditor,l=s.getEditors(),u=r<o,d=u?0:a.count;return l.forEach(function(e){var n=e!==c;t.editorGroupService.moveEditor(e,r,o,{index:d,inactive:n,preserveFocus:n}),d=u?d+1:a.count}),this.editorGroupService.focusGroup(a),n.TPromise.as(!0)},t}(r.Action);T.ID="workbench.action.joinTwoGroups",T.LABEL=i.localize(1,null),T=v([y(2,u.IWorkbenchEditorService),y(3,b.IEditorGroupService)],T),t.JoinTwoGroupsAction=T;var k=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.editorService=i,o.editorGroupService=r,o}return h(t,e),t.prototype.run=function(){var e=this.editorService.getActiveEditor();if(!e)return n.TPromise.as(!1);var t=this.editorService.getVisibleEditors().length,i=(e.position+1)%t;return this.editorGroupService.focusGroup(i),n.TPromise.as(!0)},t}(r.Action);k.ID="workbench.action.navigateEditorGroups",k.LABEL=i.localize(2,null),k=v([y(2,u.IWorkbenchEditorService),y(3,b.IEditorGroupService)],k),t.NavigateBetweenGroupsAction=k;var x=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.editorService=i,r}return h(t,e),t.prototype.run=function(){var e=this.editorService.getActiveEditor();return e&&e.focus(),n.TPromise.as(!0)},t}(r.Action);x.ID="workbench.action.focusActiveEditorGroup",x.LABEL=i.localize(3,null),x=v([y(2,u.IWorkbenchEditorService)],x),t.FocusActiveGroupAction=x;var A=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n)||this;return s.editorService=i,s.editorGroupService=r,s.historyService=o,s}return h(t,e),t.prototype.run=function(){for(var e=0,t=this.editorService.getVisibleEditors();e<t.length;e++)if(t[e].position===f.Position.ONE)return this.editorGroupService.focusGroup(f.Position.ONE),n.TPromise.as(!0);for(var i=0,r=this.historyService.getHistory();i<r.length;i++){var o=r[i];if(!(o instanceof a.EditorInput))return this.editorService.openEditor(o,f.Position.ONE);if(a.hasResource(o,{filter:["file","untitled"]}))return this.editorService.openEditor(o,null,f.Position.ONE)}return n.TPromise.as(!0)},t}(r.Action);A.ID="workbench.action.focusFirstEditorGroup",A.LABEL=i.localize(4,null),A=v([y(2,u.IWorkbenchEditorService),y(3,b.IEditorGroupService),y(4,g.IHistoryService)],A),t.FocusFirstGroupAction=A;var L=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n)||this;return s.editorService=i,s.editorGroupService=r,s.historyService=o,s}return h(t,e),t.prototype.run=function(){for(var e,t=this.editorService.getVisibleEditors(),i=0;i<t.length;i++){var r=t[i];if(r.position===this.getTargetEditorSide())return this.editorGroupService.focusGroup(r.position),n.TPromise.as(!0);r.position===this.getReferenceEditorSide()&&(e=r)}if(e&&e.input.supportsSplitEditor()){var o=void 0,c=s.getCodeEditor(e);return o=c?a.TextEditorOptions.fromEditor(c,{pinned:!0}):a.EditorOptions.create({pinned:!0}),this.editorService.openEditor(e.input,o,this.getTargetEditorSide())}if(e)for(var l=0,u=this.historyService.getHistory();l<u.length;l++){var d=u[l];if(!(d instanceof a.EditorInput))return this.editorService.openEditor({resource:d.resource,options:{pinned:!0}},this.getTargetEditorSide());if(a.hasResource(d,{filter:["file","untitled"]}))return this.editorService.openEditor(d,{pinned:!0},this.getTargetEditorSide())}return n.TPromise.as(!0)},t}(r.Action);L=v([y(2,u.IWorkbenchEditorService),y(3,b.IEditorGroupService),y(4,g.IHistoryService)],L),t.BaseFocusSideGroupAction=L;var P=function(e){function t(t,n,i,r,o){return e.call(this,t,n,i,r,o)||this}return h(t,e),t.prototype.getReferenceEditorSide=function(){return f.Position.ONE},t.prototype.getTargetEditorSide=function(){return f.Position.TWO},t}(L);P.ID="workbench.action.focusSecondEditorGroup",P.LABEL=i.localize(5,null),P=v([y(2,u.IWorkbenchEditorService),y(3,b.IEditorGroupService),y(4,g.IHistoryService)],P),t.FocusSecondGroupAction=P;var D=function(e){function t(t,n,i,r,o){return e.call(this,t,n,i,r,o)||this}return h(t,e),t.prototype.getReferenceEditorSide=function(){return f.Position.TWO},t.prototype.getTargetEditorSide=function(){return f.Position.THREE},t}(L);D.ID="workbench.action.focusThirdEditorGroup",D.LABEL=i.localize(6,null),D=v([y(2,u.IWorkbenchEditorService),y(3,b.IEditorGroupService),y(4,g.IHistoryService)],D),t.FocusThirdGroupAction=D;var O=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.editorGroupService=i,o.editorService=r,o}return h(t,e),t.prototype.run=function(){var e=this.editorService.getActiveEditor();if(!e)return n.TPromise.as(!0);var t=this.editorGroupService.getStacksModel().groups.length;if(1===t)return n.TPromise.as(!0);var i=(e.position+t-1)%t;return this.editorGroupService.focusGroup(i),n.TPromise.as(!0)},t}(r.Action);O.ID="workbench.action.focusPreviousGroup",O.LABEL=i.localize(7,null),O=v([y(2,b.IEditorGroupService),y(3,u.IWorkbenchEditorService)],O),t.FocusPreviousGroup=O;var R=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.editorGroupService=i,o.editorService=r,o}return h(t,e),t.prototype.run=function(e){var t=this.editorService.getActiveEditor();if(!t)return n.TPromise.as(!0);var i=this.editorGroupService.getStacksModel().groups.length;if(1===i)return n.TPromise.as(!0);var r=(t.position+1)%i;return this.editorGroupService.focusGroup(r),n.TPromise.as(!0)},t}(r.Action);R.ID="workbench.action.focusNextGroup",R.LABEL=i.localize(8,null),R=v([y(2,b.IEditorGroupService),y(3,u.IWorkbenchEditorService)],R),t.FocusNextGroup=R;var M=function(e){function t(n,i){var r=e.call(this,t.OPEN_TO_SIDE_ID,t.OPEN_TO_SIDE_LABEL)||this;return r.editorService=n,r.editorGroupService=i,r.updateEnablement(),r.updateClass(),r}return h(t,e),t.prototype.updateClass=function(){var e="horizontal"!==this.editorGroupService.getGroupOrientation();this.class=e?"quick-open-sidebyside-vertical":"quick-open-sidebyside-horizontal"},t.prototype.updateEnablement=function(){var e=this.editorService.getActiveEditor();this.enabled=!e||e.position!==f.Position.THREE},t.prototype.run=function(e){var t=C(e);if(t){var i=t.getInput();if(i instanceof a.EditorInput)return this.editorService.openEditor(i,t.getOptions(),!0);var r=i;return r.options=o.mixin(r.options,t.getOptions()),this.editorService.openEditor(r,!0)}return n.TPromise.as(!1)},t}(r.Action);M.OPEN_TO_SIDE_ID="workbench.action.openToSide",M.OPEN_TO_SIDE_LABEL=i.localize(9,null),M=v([y(0,u.IWorkbenchEditorService),y(1,b.IEditorGroupService)],M),t.OpenToSideAction=M,t.toEditorQuickOpenEntry=C;var N=function(e){function t(t,n,i,r){var o=e.call(this,t,n,"close-editor-action")||this;return o.editorGroupService=i,o.editorService=r,o}return h(t,e),t.prototype.run=function(e){var t=e?this.editorGroupService.getStacksModel().positionOfGroup(e.group):null;if("number"!=typeof t){var i=this.editorService.getActiveEditor();if(i)return this.editorService.closeEditor(i.position,i.input)}var r=e?e.editor:null;if(!r){var o=this.editorService.getVisibleEditors();o[t]&&(r=o[t].input)}return r?this.editorService.closeEditor(t,r):n.TPromise.as(!1)},t}(r.Action);N.ID="workbench.action.closeActiveEditor",N.LABEL=i.localize(10,null),N=v([y(2,b.IEditorGroupService),y(3,u.IWorkbenchEditorService)],N),t.CloseEditorAction=N;var F=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.editorService=i,r}return h(t,e),t.prototype.run=function(){var e=this,t=this.editorService.getActiveEditor();if(t&&t.input){var i=t.input,r=t.position;return t.input.revert().then(function(t){return e.editorService.closeEditor(r,i)})}return n.TPromise.as(!1)},t}(r.Action);F.ID="workbench.action.revertAndCloseActiveEditor",F.LABEL=i.localize(11,null),F=v([y(2,u.IWorkbenchEditorService)],F),t.RevertAndCloseEditorAction=F;var W=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.editorService=i,o.groupService=r,o}return h(t,e),t.prototype.run=function(e){var t=w(this.editorService,this.groupService,e);return t?this.editorService.closeEditors(t.position,{except:t.input,direction:f.Direction.LEFT}):n.TPromise.as(!1)},t}(r.Action);W.ID="workbench.action.closeEditorsToTheLeft",W.LABEL=i.localize(12,null),W=v([y(2,u.IWorkbenchEditorService),y(3,b.IEditorGroupService)],W),t.CloseLeftEditorsInGroupAction=W;var B=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.editorService=i,o.groupService=r,o}return h(t,e),t.prototype.run=function(e){var t=w(this.editorService,this.groupService,e);return t?this.editorService.closeEditors(t.position,{except:t.input,direction:f.Direction.RIGHT}):n.TPromise.as(!1)},t}(r.Action);B.ID="workbench.action.closeEditorsToTheRight",B.LABEL=i.localize(13,null),B=v([y(2,u.IWorkbenchEditorService),y(3,b.IEditorGroupService)],B),t.CloseRightEditorsInGroupAction=B;var V=function(e){function t(t,n,i,r){var o=e.call(this,t,n,"action-close-all-files")||this;return o.textFileService=i,o.editorService=r,o}return h(t,e),t.prototype.run=function(){var e=this;if(this.textFileService.getDirty().length<2)return this.editorService.closeAllEditors();var t=this.textFileService.confirmSave();if(t!==a.ConfirmResult.CANCEL){return(t===a.ConfirmResult.DONT_SAVE?this.textFileService.revertAll(null,{soft:!0}).then(function(){return!0}):this.textFileService.saveAll(!0).then(function(e){return e.results.every(function(e){return e.success})})).then(function(t){if(t)return e.editorService.closeAllEditors()})}},t}(r.Action);V.ID="workbench.action.closeAllEditors",V.LABEL=i.localize(14,null),V=v([y(2,_.ITextFileService),y(3,u.IWorkbenchEditorService)],V),t.CloseAllEditorsAction=V;var z=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.editorGroupService=i,o.editorService=r,o}return h(t,e),t.prototype.run=function(e){var t=e?this.editorGroupService.getStacksModel().positionOfGroup(e.group):null;if("number"!=typeof t){var i=this.editorService.getActiveEditor();i&&(t=i.position)}return"number"==typeof t?this.editorService.closeEditors(t,{unmodifiedOnly:!0}):n.TPromise.as(!1)},t}(r.Action);z.ID="workbench.action.closeUnmodifiedEditors",z.LABEL=i.localize(15,null),z=v([y(2,b.IEditorGroupService),y(3,u.IWorkbenchEditorService)],z),t.CloseUnmodifiedEditorsInGroupAction=z;var H=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.editorGroupService=i,o.editorService=r,o}return h(t,e),t.prototype.run=function(e){var t=e?this.editorGroupService.getStacksModel().positionOfGroup(e.group):null;if("number"!=typeof t){var i=this.editorService.getActiveEditor();i&&(t=i.position)}return"number"==typeof t?this.editorService.closeAllEditors(t):n.TPromise.as(!1)},t}(r.Action);H.ID="workbench.action.closeEditorsInOtherGroups",H.LABEL=i.localize(16,null),H=v([y(2,b.IEditorGroupService),y(3,u.IWorkbenchEditorService)],H),t.CloseEditorsInOtherGroupsAction=H;var K=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.editorGroupService=i,o.editorService=r,o}return h(t,e),t.prototype.run=function(e){var t=e?this.editorGroupService.getStacksModel().positionOfGroup(e.group):null,i=e?e.editor:null,r=this.editorService.getActiveEditor();return r&&(t="number"==typeof t?t:r.position,i=i||r.input),"number"==typeof t&&i?this.editorService.closeEditors(t,{except:i}):n.TPromise.as(!1)},t}(r.Action);K.ID="workbench.action.closeOtherEditors",K.LABEL=i.localize(17,null),K=v([y(2,b.IEditorGroupService),y(3,u.IWorkbenchEditorService)],K),t.CloseOtherEditorsInGroupAction=K;var U=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.editorGroupService=i,o.editorService=r,o}return h(t,e),t.prototype.run=function(e){var t=e?this.editorGroupService.getStacksModel().positionOfGroup(e.group):null;if("number"!=typeof t){var i=this.editorService.getActiveEditor();i&&(t=i.position)}return"number"==typeof t?this.editorService.closeEditors(t):n.TPromise.as(!1)},t}(r.Action);U.ID="workbench.action.closeEditorsInGroup",U.LABEL=i.localize(18,null),U=v([y(2,b.IEditorGroupService),y(3,u.IWorkbenchEditorService)],U),t.CloseEditorsInGroupAction=U;var j=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.editorGroupService=i,o.editorService=r,o}return h(t,e),t.prototype.run=function(e){var t=e?this.editorGroupService.getStacksModel().positionOfGroup(e.group):null;if("number"!=typeof t){var i=this.editorService.getActiveEditor();!i||i.position!==f.Position.TWO&&i.position!==f.Position.THREE||(t=i.position)}if("number"==typeof t){var r=t===f.Position.TWO?f.Position.ONE:f.Position.TWO;this.editorGroupService.moveGroup(t,r)}return n.TPromise.as(!1)},t}(r.Action);j.ID="workbench.action.moveActiveEditorGroupLeft",j.LABEL=i.localize(19,null),j=v([y(2,b.IEditorGroupService),y(3,u.IWorkbenchEditorService)],j),t.MoveGroupLeftAction=j;var G=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.editorGroupService=i,o.editorService=r,o}return h(t,e),t.prototype.run=function(e){var t=e?this.editorGroupService.getStacksModel().positionOfGroup(e.group):null;if("number"!=typeof t){var i=this.editorService.getActiveEditor(),r=this.editorService.getVisibleEditors();(2===r.length&&i.position===f.Position.ONE||3===r.length&&i.position!==f.Position.THREE)&&(t=i.position)}if("number"==typeof t){var o=t===f.Position.ONE?f.Position.TWO:f.Position.THREE;this.editorGroupService.moveGroup(t,o)}return n.TPromise.as(!1)},t}(r.Action);G.ID="workbench.action.moveActiveEditorGroupRight",G.LABEL=i.localize(20,null),G=v([y(2,b.IEditorGroupService),y(3,u.IWorkbenchEditorService)],G),t.MoveGroupRightAction=G;var q=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.editorGroupService=i,r}return h(t,e),t.prototype.run=function(){return this.editorGroupService.arrangeGroups(b.GroupArrangement.MINIMIZE_OTHERS),n.TPromise.as(!1)},t}(r.Action);q.ID="workbench.action.minimizeOtherEditors",q.LABEL=i.localize(21,null),q=v([y(2,b.IEditorGroupService)],q),t.MinimizeOtherGroupsAction=q;var $=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.editorGroupService=i,r}return h(t,e),t.prototype.run=function(){return this.editorGroupService.arrangeGroups(b.GroupArrangement.EVEN),n.TPromise.as(!1)},t}(r.Action);$.ID="workbench.action.evenEditorWidths",$.LABEL=i.localize(22,null),$=v([y(2,b.IEditorGroupService)],$),t.EvenGroupWidthsAction=$;var Y=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n)||this;return s.editorService=i,s.editorGroupService=r,s.partService=o,s}return h(t,e),t.prototype.run=function(){return this.editorService.getActiveEditor()?(this.editorGroupService.arrangeGroups(b.GroupArrangement.MINIMIZE_OTHERS),this.partService.setSideBarHidden(!0)):n.TPromise.as(!1)},t}(r.Action);Y.ID="workbench.action.maximizeEditor",Y.LABEL=i.localize(23,null),Y=v([y(2,u.IWorkbenchEditorService),y(3,b.IEditorGroupService),y(4,p.IPartService)],Y),t.MaximizeGroupAction=Y;var X=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.editorGroupService=i,o.editorService=r,o}return h(t,e),t.prototype.run=function(e){var t=w(this.editorService,this.editorGroupService,e);return t&&this.editorGroupService.pinEditor(t.position,t.input),n.TPromise.as(!0)},t}(r.Action);X.ID="workbench.action.keepEditor",X.LABEL=i.localize(24,null),X=v([y(2,b.IEditorGroupService),y(3,u.IWorkbenchEditorService)],X),t.KeepEditorAction=X;var Q=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.editorGroupService=i,o.editorService=r,o}return h(t,e),t.prototype.run=function(){var e=this.editorGroupService.getStacksModel(),t=this.navigate();return t?this.editorService.openEditor(t.editor,null,e.positionOfGroup(t.group)):n.TPromise.as(!1)},t}(r.Action);t.BaseNavigateEditorAction=Q;var Z=function(e){function t(t,n,i,r){return e.call(this,t,n,i,r)||this}return h(t,e),t.prototype.navigate=function(){return this.editorGroupService.getStacksModel().next(!0)},t}(Q);Z.ID="workbench.action.nextEditor",Z.LABEL=i.localize(25,null),Z=v([y(2,b.IEditorGroupService),y(3,u.IWorkbenchEditorService)],Z),t.OpenNextEditor=Z;var J=function(e){function t(t,n,i,r){return e.call(this,t,n,i,r)||this}return h(t,e),t.prototype.navigate=function(){return this.editorGroupService.getStacksModel().previous(!0)},t}(Q);J.ID="workbench.action.previousEditor",J.LABEL=i.localize(26,null),J=v([y(2,b.IEditorGroupService),y(3,u.IWorkbenchEditorService)],J),t.OpenPreviousEditor=J;var ee=function(e){function t(t,n,i,r){return e.call(this,t,n,i,r)||this}return h(t,e),t.prototype.navigate=function(){return this.editorGroupService.getStacksModel().next(!1)},t}(Q);ee.ID="workbench.action.nextEditorInGroup",ee.LABEL=i.localize(27,null),ee=v([y(2,b.IEditorGroupService),y(3,u.IWorkbenchEditorService)],ee),t.OpenNextEditorInGroup=ee;var te=function(e){function t(t,n,i,r){return e.call(this,t,n,i,r)||this}return h(t,e),t.prototype.navigate=function(){return this.editorGroupService.getStacksModel().previous(!1)},t}(Q);te.ID="workbench.action.previousEditorInGroup",te.LABEL=i.localize(28,null),te=v([y(2,b.IEditorGroupService),y(3,u.IWorkbenchEditorService)],te),t.OpenPreviousEditorInGroup=te;var ne=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.historyService=i,r}return h(t,e),t.prototype.run=function(){return this.historyService.forward(),n.TPromise.as(null)},t}(r.Action);ne.ID="workbench.action.navigateForward",ne.LABEL=i.localize(29,null),ne=v([y(2,g.IHistoryService)],ne),t.NavigateForwardAction=ne;var ie=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.historyService=i,r}return h(t,e),t.prototype.run=function(){return this.historyService.back(),n.TPromise.as(null)},t}(r.Action);ie.ID="workbench.action.navigateBack",ie.LABEL=i.localize(30,null),ie=v([y(2,g.IHistoryService)],ie),t.NavigateBackwardsAction=ie;var re=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.historyService=i,r}return h(t,e),t.prototype.run=function(){return this.historyService.reopenLastClosedEditor(),n.TPromise.as(!1)},t}(r.Action);re.ID="workbench.action.reopenClosedEditor",re.LABEL=i.localize(31,null),re=v([y(2,g.IHistoryService)],re),t.ReopenClosedEditorAction=re;var oe=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.windowsService=i,r}return h(t,e),t.prototype.run=function(){return this.windowsService.clearRecentPathsList(),n.TPromise.as(!1)},t}(r.Action);oe.ID="workbench.action.clearRecentFiles",oe.LABEL=i.localize(32,null),oe=v([y(2,E.IWindowsService)],oe),t.ClearRecentFilesAction=oe,t.NAVIGATE_IN_GROUP_ONE_PREFIX="edt one ";var se=function(e){function n(n,i,r){var o=e.call(this,n,i,t.NAVIGATE_IN_GROUP_ONE_PREFIX,r)||this;return o.class="show-group-editors-action",o}return h(n,e),n}(l.QuickOpenAction);se.ID="workbench.action.showEditorsInFirstGroup",se.LABEL=i.localize(33,null),se=v([y(2,d.IQuickOpenService)],se),t.ShowEditorsInGroupOneAction=se,t.NAVIGATE_IN_GROUP_TWO_PREFIX="edt two ";var ae=function(e){function n(n,i,r){var o=e.call(this,n,i,t.NAVIGATE_IN_GROUP_TWO_PREFIX,r)||this;return o.class="show-group-editors-action",o}return h(n,e),n}(l.QuickOpenAction);ae.ID="workbench.action.showEditorsInSecondGroup",ae.LABEL=i.localize(34,null),ae=v([y(2,d.IQuickOpenService)],ae),t.ShowEditorsInGroupTwoAction=ae,t.NAVIGATE_IN_GROUP_THREE_PREFIX="edt three ";var ce=function(e){function n(n,i,r){var o=e.call(this,n,i,t.NAVIGATE_IN_GROUP_THREE_PREFIX,r)||this;return o.class="show-group-editors-action",o}return h(n,e),n}(l.QuickOpenAction);ce.ID="workbench.action.showEditorsInThirdGroup",ce.LABEL=i.localize(35,null),ce=v([y(2,d.IQuickOpenService)],ce),t.ShowEditorsInGroupThreeAction=ce;var le=function(e){function n(t,n,i,r){var o=e.call(this,t,n)||this;return o.quickOpenService=i,o.editorGroupService=r,o}return h(n,e),n.prototype.run=function(e){var n=this.editorGroupService.getStacksModel();if(n.groups.length<=1||!e)return this.quickOpenService.show(t.NAVIGATE_ALL_EDITORS_GROUP_PREFIX);switch(n.positionOfGroup(e.group)){case f.Position.TWO:return this.quickOpenService.show(t.NAVIGATE_IN_GROUP_TWO_PREFIX);case f.Position.THREE:return this.quickOpenService.show(t.NAVIGATE_IN_GROUP_THREE_PREFIX)}return this.quickOpenService.show(t.NAVIGATE_IN_GROUP_ONE_PREFIX)},n}(r.Action);le.ID="workbench.action.showEditorsInGroup",le.LABEL=i.localize(36,null),le=v([y(2,d.IQuickOpenService),y(3,b.IEditorGroupService)],le),t.ShowEditorsInGroupAction=le,t.NAVIGATE_ALL_EDITORS_GROUP_PREFIX="edt ";var ue=function(e){function n(n,i,r){return e.call(this,n,i,t.NAVIGATE_ALL_EDITORS_GROUP_PREFIX,r)||this}return h(n,e),n}(l.QuickOpenAction);ue.ID="workbench.action.showAllEditors",ue.LABEL=i.localize(37,null),ue=v([y(2,d.IQuickOpenService)],ue),t.ShowAllEditorsAction=ue;var de=function(e){function i(t,n,i,r,o){var s=e.call(this,t,n)||this;return s.quickOpenService=i,s.keybindingService=r,s.editorGroupService=o,s}return h(i,e),i.prototype.run=function(){var e=this.keybindingService.lookupKeybindings(this.id),i=this.editorGroupService.getStacksModel();if(i.activeGroup){var r=i.positionOfGroup(i.activeGroup),o=t.NAVIGATE_IN_GROUP_ONE_PREFIX;r===f.Position.TWO?o=t.NAVIGATE_IN_GROUP_TWO_PREFIX:r===f.Position.THREE&&(o=t.NAVIGATE_IN_GROUP_THREE_PREFIX),this.quickOpenService.show(o,{quickNavigateConfiguration:{keybindings:e}})}return n.TPromise.as(!0)},i}(r.Action);de=v([y(2,d.IQuickOpenService),y(3,m.IKeybindingService),y(4,b.IEditorGroupService)],de),t.BaseQuickOpenEditorInGroupAction=de;var he=function(e){function t(t,n,i,r,o){return e.call(this,t,n,i,r,o)||this}return h(t,e),t}(de);he.ID="workbench.action.openPreviousRecentlyUsedEditorInGroup",he.LABEL=i.localize(38,null),he=v([y(2,d.IQuickOpenService),y(3,m.IKeybindingService),y(4,b.IEditorGroupService)],he),t.OpenPreviousRecentlyUsedEditorInGroupAction=he;var pe=function(e){function t(t,n,i,r,o){return e.call(this,t,n,i,r,o)||this}return h(t,e),t}(de);pe.ID="workbench.action.openNextRecentlyUsedEditorInGroup",pe.LABEL=i.localize(39,null),pe=v([y(2,d.IQuickOpenService),y(3,m.IKeybindingService),y(4,b.IEditorGroupService)],pe),t.OpenNextRecentlyUsedEditorInGroupAction=pe;var fe=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.quickOpenService=i,o.keybindingService=r,o}return h(t,e),t.prototype.run=function(){var e=this.keybindingService.lookupKeybindings(this.id);return this.quickOpenService.show(null,{quickNavigateConfiguration:{keybindings:e}}),n.TPromise.as(!0)},t}(r.Action);fe.ID="workbench.action.openPreviousEditorFromHistory",fe.LABEL=i.localize(40,null),fe=v([y(2,d.IQuickOpenService),y(3,m.IKeybindingService)],fe),t.OpenPreviousEditorFromHistoryAction=fe;var ge=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.historyService=i,r}return h(t,e),t.prototype.run=function(){return this.historyService.forward(!0),n.TPromise.as(null)},t}(r.Action);ge.ID="workbench.action.openNextRecentlyUsedEditor",ge.LABEL=i.localize(41,null),ge=v([y(2,g.IHistoryService)],ge),t.OpenNextRecentlyUsedEditorAction=ge;var ve=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.historyService=i,r}return h(t,e),t.prototype.run=function(){return this.historyService.back(!0),n.TPromise.as(null)},t}(r.Action);ve.ID="workbench.action.openPreviousRecentlyUsedEditor",ve.LABEL=i.localize(42,null),ve=v([y(2,g.IHistoryService)],ve),t.OpenPreviousRecentlyUsedEditorAction=ve;var me=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.historyService=i,r}return h(t,e),t.prototype.run=function(){return this.historyService.clear(),n.TPromise.as(!0)},t}(r.Action);me.ID="workbench.action.clearEditorHistory",me.LABEL=i.localize(43,null),me=v([y(2,g.IHistoryService)],me),t.ClearEditorHistoryAction=me;var ye=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.editorGroupService=i,o.editorService=r,o}return h(t,e),t.prototype.run=function(){var e=this.editorService.getActiveEditor();if(e){var t=this.editorGroupService.getStacksModel().groupAt(e.position),i=t.getEditor(t.count-1);if(i)return this.editorService.openEditor(i)}return n.TPromise.as(!0)},t}(r.Action);ye.ID="workbench.action.openLastEditorInGroup",ye.LABEL=i.localize(44,null),ye=v([y(2,b.IEditorGroupService),y(3,u.IWorkbenchEditorService)],ye),t.FocusLastEditorInStackAction=ye;var be=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.commandService=i,r}return h(t,e),t.prototype.run=function(){var e={to:a.ActiveEditorMovePositioning.LEFT};return this.commandService.executeCommand(a.EditorCommands.MoveActiveEditor,e),n.TPromise.as(!0)},t}(r.Action);be.ID="workbench.action.moveEditorLeftInGroup",be.LABEL=i.localize(45,null),be=v([y(2,S.ICommandService)],be),t.MoveEditorLeftInGroupAction=be;var Se=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.commandService=i,r}return h(t,e),t.prototype.run=function(){var e={to:a.ActiveEditorMovePositioning.RIGHT};return this.commandService.executeCommand(a.EditorCommands.MoveActiveEditor,e),n.TPromise.as(!0)},t}(r.Action);Se.ID="workbench.action.moveEditorRightInGroup",Se.LABEL=i.localize(46,null),Se=v([y(2,S.ICommandService)],Se),t.MoveEditorRightInGroupAction=Se;var _e=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.editorGroupService=i,o.editorService=r,o}return h(t,e),t.prototype.run=function(){var e=this.editorService.getActiveEditor();return e&&e.position!==f.Position.ONE&&this.editorGroupService.moveEditor(e.input,e.position,e.position-1),n.TPromise.as(!0)},t}(r.Action);_e.ID="workbench.action.moveEditorToPreviousGroup",_e.LABEL=i.localize(47,null),_e=v([y(2,b.IEditorGroupService),y(3,u.IWorkbenchEditorService)],_e),t.MoveEditorToPreviousGroupAction=_e;var Ee=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.editorGroupService=i,o.editorService=r,o}return h(t,e),t.prototype.run=function(){var e=this.editorService.getActiveEditor();return e&&e.position!==f.Position.THREE&&this.editorGroupService.moveEditor(e.input,e.position,e.position+1),n.TPromise.as(!0)},t}(r.Action);Ee.ID="workbench.action.moveEditorToNextGroup",Ee.LABEL=i.localize(48,null),Ee=v([y(2,b.IEditorGroupService),y(3,u.IWorkbenchEditorService)],Ee),t.MoveEditorToNextGroupAction=Ee}),define(u[241],d([1,0,523,26,24,7,9,182,30,98,33,31,6,19,13,161,56,42,51,146,45]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var w=function(e){function t(t,n,i,r,o,s,a,c,l){var u=e.call(this,t,n,s)||this;return u._instantiationService=i,u.storageService=r,u._configurationService=o,u.themeService=s,u.modeService=a,u.textFileService=c,u.editorGroupService=l,u.toUnbind.push(u.configurationService.onDidUpdateConfiguration(function(e){return u.handleConfigurationChangeEvent(u.configurationService.getConfiguration(u.getResource()))})),u}return h(t,e),Object.defineProperty(t.prototype,"instantiationService",{get:function(){return this._instantiationService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"configurationService",{get:function(){return this._configurationService},enumerable:!0,configurable:!0}),t.prototype.handleConfigurationChangeEvent=function(e){this.isVisible()?this.updateEditorConfiguration(e):this.hasPendingConfigurationChange=!0},t.prototype.consumePendingConfigurationChangeEvent=function(){this.hasPendingConfigurationChange&&(this.updateEditorConfiguration(),this.hasPendingConfigurationChange=!1)},t.prototype.computeConfiguration=function(e){var t=r.isObject(e.editor)?i.clone(e.editor):Object.create(null);return i.assign(t,this.getConfigurationOverrides()),t.ariaLabel=this.computeAriaLabel(),t},t.prototype.computeAriaLabel=function(){var e=this.getAriaLabel();return e&&"number"==typeof this.position&&(e=n.localize(0,null,e,this.position+1)),e},t.prototype.getConfigurationOverrides=function(){var e={};return i.assign(e,{overviewRulerLanes:3,lineNumbersMinChars:3,fixedOverflowWidgets:!0}),e},t.prototype.createEditor=function(e){var t=this;this._editorContainer=e,this.editorControl=this.createEditorControl(e,this.computeConfiguration(this.configurationService.getConfiguration(this.getResource())));var n=b.getCodeEditor(this);n&&(this.toUnbind.push(n.onDidChangeModelLanguage(function(e){return t.updateEditorConfiguration()})),this.toUnbind.push(n.onDidChangeModel(function(e){return t.updateEditorConfiguration()}))),u.isCommonCodeEditor(this.editorControl)?this.toUnbind.push(this.editorControl.onDidBlurEditor(function(){return t.onEditorFocusLost()})):u.isCommonDiffEditor(this.editorControl)&&(this.toUnbind.push(this.editorControl.getOriginalEditor().onDidBlurEditor(function(){return t.onEditorFocusLost()})),this.toUnbind.push(this.editorControl.getModifiedEditor().onDidBlurEditor(function(){return t.onEditorFocusLost()}))),this.toUnbind.push(this.editorGroupService.onEditorsChanged(function(){return t.onEditorFocusLost()})),this.toUnbind.push(s.addDisposableListener(window,s.EventType.BLUR,function(){return t.onWindowFocusLost()}))},t.prototype.onEditorFocusLost=function(){this.maybeTriggerSaveAll(_.SaveReason.FOCUS_CHANGE)},t.prototype.onWindowFocusLost=function(){this.maybeTriggerSaveAll(_.SaveReason.WINDOW_CHANGE)},t.prototype.maybeTriggerSaveAll=function(e){var t=this.textFileService.getAutoSaveMode();(e===_.SaveReason.WINDOW_CHANGE&&(t===_.AutoSaveMode.ON_FOCUS_CHANGE||t===_.AutoSaveMode.ON_WINDOW_CHANGE)||e===_.SaveReason.FOCUS_CHANGE&&t===_.AutoSaveMode.ON_FOCUS_CHANGE)&&this.textFileService.isDirty()&&this.textFileService.saveAll(void 0,e).done(null,o.onUnexpectedError)},t.prototype.createEditorControl=function(e,t){return this.instantiationService.createInstance(a.CodeEditor,e.getHTMLElement(),t)},t.prototype.setInput=function(t,n){var i=this;return e.prototype.setInput.call(this,t,n).then(function(){i.updateEditorConfiguration()})},t.prototype.changePosition=function(t){e.prototype.changePosition.call(this,t),this.editorControl&&this.editorControl.updateOptions({ariaLabel:this.computeAriaLabel()})},t.prototype.setEditorVisible=function(t,n){void 0===n&&(n=null),t?(this.consumePendingConfigurationChangeEvent(),this.editorControl.onVisible()):this.editorControl.onHide(),e.prototype.setEditorVisible.call(this,t,n)},t.prototype.focus=function(){this.editorControl.focus()},t.prototype.layout=function(e){this.editorControl.layout(e)},t.prototype.getControl=function(){return this.editorControl},t.prototype.saveTextEditorViewState=function(e){var t=this.getMemento(this.storageService,m.Scope.WORKSPACE),n=t.textEditorViewState;n||(n=Object.create(null),t.textEditorViewState=n);var i=this.getControl().saveViewState(),r=n[e];r||(r=Object.create(null),n[e]=r),"number"==typeof this.position&&(r[this.position]=i)},t.prototype.clearTextEditorViewState=function(e){var t=this.getMemento(this.storageService,m.Scope.WORKSPACE).textEditorViewState;t&&e.forEach(function(e){return delete t[e]})},t.prototype.loadTextEditorViewState=function(e){var t=this.getMemento(this.storageService,m.Scope.WORKSPACE).textEditorViewState;if(t){var n=t[e];if(n)return n[this.position]}return null},t.prototype.updateEditorConfiguration=function(e){if(void 0===e&&(e=this.configurationService.getConfiguration(this.getResource())),this.editorControl){var t=this.computeConfiguration(e),n=t;this.lastAppliedEditorOptions&&(n=i.distinct(this.lastAppliedEditorOptions,n)),Object.keys(n).length>0&&(this.lastAppliedEditorOptions=t,this.editorControl.updateOptions(n))}},t.prototype.getResource=function(){var e=b.getCodeEditor(this);if(e){var t=e.getModel();if(t)return t.uri}return this.input?c.toResource(this.input):null},t.prototype.dispose=function(){this.lastAppliedEditorOptions=void 0,this.editorControl.destroy(),e.prototype.dispose.call(this)},t}(l.BaseEditor);w=v([y(1,f.ITelemetryService),y(2,p.IInstantiationService),y(3,d.IStorageService),y(4,E.ITextResourceConfigurationService),y(5,g.IThemeService),y(6,S.IModeService),y(7,_.ITextFileService),y(8,C.IEditorGroupService)],w),t.BaseTextEditor=w}),define(u[312],d([1,0,525,15,88,7,9,4,98,18,33,34,30,140,49,269,22,41,45,20,86,19,6,54,38,17,206,5,180,35,317,13,74,1007]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A,L,P,D,O,R,M){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var N=function(e){function t(t,n,i,r,o,s,a,c,u,d,h){var p=e.call(this,h)||this;return p.contextMenuService=t,p.instantiationService=n,p.editorService=i,p.editorGroupService=r,p.contextKeyService=o,p.keybindingService=s,p.telemetryService=a,p.messageService=c,p.menuService=u,p.quickOpenService=d,p.themeService=h,p.currentPrimaryEditorActionIds=[],p.currentSecondaryEditorActionIds=[],p.disposeOnEditorActions=[],p.stacks=r.getStacksModel(),p.mapActionsToEditors=Object.create(null),p.scheduler=new l.RunOnceScheduler(function(){return p.onSchedule()},0),p.toUnbind.push(p.scheduler),p.resourceContext=n.createInstance(O.ResourceContextKey),p.contextMenu=p.menuService.createMenu(D.MenuId.EditorTitleContext,p.contextKeyService),p.toUnbind.push(p.contextMenu),p.initActions(p.instantiationService),p.registerListeners(),p}return h(t,e),t.getDraggedEditor=function(){return t.draggedEditor},t.prototype.setDragged=function(e){this.dragged=e},t.prototype.onEditorDragStart=function(e){t.draggedEditor=e},t.prototype.onEditorDragEnd=function(){t.draggedEditor=void 0},t.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.stacks.onModelChanged(function(t){return e.onStacksChanged(t)}))},t.prototype.onStacksChanged=function(e){e.structural&&this.updateSplitActionEnablement()},t.prototype.updateSplitActionEnablement=function(){if(this.context){var e=this.stacks.groups.length;this.splitEditorAction.enabled=e<3}},t.prototype.updateStyles=function(){e.prototype.updateStyles.call(this),this.update(!0)},t.prototype.onSchedule=function(){this.refreshScheduled?this.doRefresh():this.doUpdate(),this.refreshScheduled=!1},t.prototype.setContext=function(e){this.context=e},t.prototype.hasContext=function(){return!!this.context},t.prototype.update=function(e){e?(this.scheduler.cancel(),this.onSchedule()):this.scheduler.schedule()},t.prototype.refresh=function(e){this.refreshScheduled=!0,e?(this.scheduler.cancel(),this.onSchedule()):this.scheduler.schedule()},t.prototype.create=function(e){this.parent=e},t.prototype.getContainer=function(){return this.parent},t.prototype.doUpdate=function(){this.doRefresh()},t.prototype.layout=function(){},t.prototype.allowDragging=function(e){return!s.findParentWithClass(e,"monaco-action-bar","one-editor-silo")},t.prototype.initActions=function(e){this.closeEditorAction=e.createInstance(A.CloseEditorAction,A.CloseEditorAction.ID,n.localize(0,null)),this.closeOtherEditorsAction=e.createInstance(A.CloseOtherEditorsInGroupAction,A.CloseOtherEditorsInGroupAction.ID,n.localize(1,null)),this.closeRightEditorsAction=e.createInstance(A.CloseRightEditorsInGroupAction,A.CloseRightEditorsInGroupAction.ID,n.localize(2,null)),this.closeEditorsInGroupAction=e.createInstance(A.CloseEditorsInGroupAction,A.CloseEditorsInGroupAction.ID,n.localize(3,null)),this.closeUnmodifiedEditorsInGroupAction=e.createInstance(A.CloseUnmodifiedEditorsInGroupAction,A.CloseUnmodifiedEditorsInGroupAction.ID,n.localize(4,null)),this.pinEditorAction=e.createInstance(A.KeepEditorAction,A.KeepEditorAction.ID,n.localize(5,null)),this.showEditorsInGroupAction=e.createInstance(A.ShowEditorsInGroupAction,A.ShowEditorsInGroupAction.ID,n.localize(6,null)),this.splitEditorAction=e.createInstance(A.SplitEditorAction,A.SplitEditorAction.ID,A.SplitEditorAction.LABEL)},t.prototype.createEditorActionsToolBar=function(e){var t=this;this.editorActionsToolbar=new m.ToolBar(e,this.contextMenuService,{actionItemProvider:function(e){return t.actionItemProvider(e)},orientation:g.ActionsOrientation.HORIZONTAL,ariaLabel:n.localize(7,null),getKeyBinding:function(e){return t.getKeybinding(e)}}),this.toUnbind.push(this.editorActionsToolbar.actionRunner.addListener(f.EventType.RUN,function(e){e.error&&!o.isPromiseCanceledError(e.error)&&t.messageService.show(E.Severity.Error,e.error),t.telemetryService&&t.telemetryService.publicLog("workbenchActionExecuted",{id:e.action.id,from:"editorPart"})}))},t.prototype.actionItemProvider=function(e){if(!this.context)return null;var t,n=this.context,o=this.stacks.positionOfGroup(n),s=this.editorService.getVisibleEditors()[o];return s instanceof c.BaseEditor&&(t=s.getActionItem(e)),t||(t=i.Registry.as(r.Extensions.Actionbar).getActionItemForContext(r.Scope.EDITOR,{input:s&&s.input,editor:s,position:o},e)),t||(t=P.createActionItem(e,this.keybindingService,this.messageService)),t},t.prototype.getEditorActions=function(e){var t=this,n=[],i=[],r=e.group,o=this.stacks.positionOfGroup(r);this.resourceContext.set(r&&p.toResource(r.activeEditor,{supportSideBySide:!0}));var s=this.editorService.getVisibleEditors()[o];if(s instanceof c.BaseEditor&&s.input&&"number"==typeof s.position){var a=this.mapActionsToEditors[s.getId()];a||(a={primary:s.getActions(),secondary:s.getSecondaryActions()},this.mapActionsToEditors[s.getId()]=a),n.push.apply(n,a.primary),i.push.apply(i,a.secondary),this.disposeOnEditorActions=L.dispose(this.disposeOnEditorActions);var l=s.getControl(),d=u.isCommonCodeEditor(l)&&l||u.isCommonDiffEditor(l)&&l.getModifiedEditor(),h=d&&d.invokeWithinContext(function(e){return e.get(x.IContextKeyService)})||this.contextKeyService,f=this.menuService.createMenu(D.MenuId.EditorTitle,h);this.disposeOnEditorActions.push(f,f.onDidChange(function(e){return t.update()})),P.fillInActions(f,{arg:this.resourceContext.get()},{primary:n,secondary:i})}return{primary:n,secondary:i}},t.prototype.updateEditorActionsToolbar=function(){var e=this.context;if(e){var t=e&&e.activeEditor,n=this.stacks.isActive(e),i=[],o=[];if(n){var s=this.getEditorActions({group:e,editor:t});i=r.prepareActions(s.primary),n&&t instanceof p.EditorInput&&t.supportsSplitEditor()&&(this.updateSplitActionEnablement(),i.push(this.splitEditorAction)),o=r.prepareActions(s.secondary)}var a=this.editorGroupService.getTabOptions();a.showTabs&&(o.length>0&&o.push(new g.Separator),o.push(this.showEditorsInGroupAction),o.push(new g.Separator),o.push(this.closeUnmodifiedEditorsInGroupAction),o.push(this.closeEditorsInGroupAction));var c=i.map(function(e){return e.id});a.showTabs||c.push(this.closeEditorAction.id);var l=o.map(function(e){return e.id});d.equals(c,this.currentPrimaryEditorActionIds)&&d.equals(l,this.currentSecondaryEditorActionIds)&&!i.some(function(e){return e instanceof D.ExecuteCommandAction})&&!o.some(function(e){return e instanceof D.ExecuteCommandAction})||(this.editorActionsToolbar.setActions(i,o)(),a.showTabs||this.editorActionsToolbar.addPrimaryAction(this.closeEditorAction)(),this.currentPrimaryEditorActionIds=c,this.currentSecondaryEditorActionIds=l)}},t.prototype.clearEditorActionsToolbar=function(){this.editorActionsToolbar.setActions([],[])(),this.currentPrimaryEditorActionIds=[],this.currentSecondaryEditorActionIds=[]},t.prototype.onContextMenu=function(e,t,n){var i=this,r=this.resourceContext.get();this.resourceContext.set(p.toResource(e.editor,{supportSideBySide:!0}));var o=n;if(t instanceof MouseEvent){var s=new C.StandardMouseEvent(t);o={x:s.posx,y:s.posy}}this.contextMenuService.showContextMenu({getAnchor:function(){return o},getActions:function(){return a.TPromise.as(i.getContextMenuActions(e))},getActionsContext:function(){return e},getKeyBinding:function(e){return i.getKeybinding(e)},onHide:function(e){return i.resourceContext.set(r)}})},t.prototype.getKeybinding=function(e){return this.keybindingService.lookupKeybinding(e.id)},t.prototype.getKeybindingLabel=function(e){var t=this.getKeybinding(e);return t?t.getLabel():void 0},t.prototype.getContextMenuActions=function(e){var t=e.editor,n=e.group;this.closeOtherEditorsAction.enabled=n.count>1,this.pinEditorAction.enabled=!n.isPinned(t),this.closeRightEditorsAction.enabled=n.indexOf(t)!==n.count-1;var i=[this.closeEditorAction,this.closeOtherEditorsAction],r=this.editorGroupService.getTabOptions();return r.showTabs&&i.push(this.closeRightEditorsAction),i.push(this.closeUnmodifiedEditorsInGroupAction),i.push(this.closeEditorsInGroupAction),r.previewEditors&&i.push(new g.Separator,this.pinEditorAction),P.fillInActions(this.contextMenu,{arg:this.resourceContext.get()},i),i},t.prototype.dispose=function(){e.prototype.dispose.call(this),[this.splitEditorAction,this.showEditorsInGroupAction,this.closeEditorAction,this.closeRightEditorsAction,this.closeUnmodifiedEditorsInGroupAction,this.closeOtherEditorsAction,this.closeEditorsInGroupAction,this.pinEditorAction].forEach(function(e){e.dispose()}),this.editorActionsToolbar.dispose()},t}(M.Themable);N=v([y(0,S.IContextMenuService),y(1,I.IInstantiationService),y(2,b.IWorkbenchEditorService),y(3,_.IEditorGroupService),y(4,x.IContextKeyService),y(5,k.IKeybindingService),y(6,w.ITelemetryService),y(7,E.IMessageService),y(8,D.IMenuService),y(9,T.IQuickOpenService),y(10,R.IThemeService)],N),t.TitleControl=N}),define(u[1200],d([1,0,7,30,9,312,138,63,74,1013]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.setContext=function(t){e.prototype.setContext.call(this,t),this.editorActionsToolbar.context={group:t}},t.prototype.create=function(t){var n=this;e.prototype.create.call(this,t),this.titleContainer=t,this.toUnbind.push(r.addDisposableListener(this.titleContainer,r.EventType.DBLCLICK,function(e){return n.onTitleDoubleClick(e)})),this.toUnbind.push(r.addDisposableListener(this.titleContainer,r.EventType.CLICK,function(e){return n.onTitleClick(e)})),this.editorLabel=this.instantiationService.createInstance(s.EditorLabel,this.titleContainer,void 0),this.toUnbind.push(this.editorLabel),this.toUnbind.push(r.addDisposableListener(this.editorLabel.labelElement,r.EventType.CLICK,function(e){return n.onTitleLabelClick(e)})),this.toUnbind.push(r.addDisposableListener(this.editorLabel.descriptionElement,r.EventType.CLICK,function(e){return n.onTitleLabelClick(e)}));var i=document.createElement("div");r.addClass(i,"title-actions"),this.titleContainer.appendChild(i),this.createEditorActionsToolBar(i),this.toUnbind.push(r.addDisposableListener(this.titleContainer,r.EventType.CONTEXT_MENU,function(e){return n.onContextMenu({group:n.context,editor:n.context.activeEditor},e,n.titleContainer)}))},t.prototype.onTitleLabelClick=function(e){var t=this;r.EventHelper.stop(e,!1),this.dragged||setTimeout(function(){return t.quickOpenService.show()})},t.prototype.onTitleDoubleClick=function(e){if(r.EventHelper.stop(e),this.context){var t=this.context;this.editorGroupService.pinEditor(t,t.activeEditor)}},t.prototype.onTitleClick=function(e){if(this.context){var t=this.context;1===e.button?this.closeEditorAction.run({group:t,editor:t.activeEditor}).done(null,n.onUnexpectedError):1!==this.stacks.groups.length||r.isAncestor(e.target||e.srcElement,this.editorActionsToolbar.getContainer().getHTMLElement())||this.editorGroupService.focusGroup(t)}},t.prototype.doRefresh=function(){var e=this.context,t=e&&e.activeEditor;if(!t)return this.editorLabel.clear(),void this.clearEditorActionsToolbar();var n=e.isPinned(e.activeEditor),o=this.stacks.isActive(e);o?r.addClass(this.titleContainer,"active"):r.removeClass(this.titleContainer,"active"),t.isDirty()?r.addClass(this.titleContainer,"dirty"):r.removeClass(this.titleContainer,"dirty");var s=i.toResource(t,{supportSideBySide:!0}),l=t.getName()||"",u=o?t.getDescription()||"":"",d=t.getTitle(a.Verbosity.LONG);u===d&&(d=""),this.editorLabel.setLabel({name:l,description:u,resource:s},{title:d,italic:!n,extraClasses:["title-label"]}),this.editorLabel.element.style.color=o?this.getColor(c.TAB_ACTIVE_FOREGROUND):this.getColor(c.TAB_UNFOCUSED_ACTIVE_FOREGROUND),this.updateEditorActionsToolbar()},t}(o.TitleControl);t.NoTabsTitleControl=l}),define(u[367],d([1,0,4,528,66,40,12,122,9,155,24,21,227,115,102,778,88,82,28,51,15,42,138,44,30,313,8,47,84,7,22,54,23,6,20,19,27,17,160,90,13,74,55,39,1005]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A,L,P,D,O,R,M,N,F,W,B,V,z,H,K,U,j,G){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var q=function(e){function t(n,i,r,o,s,a,c,l,u,d,h){var p=e.call(this,t.ID,h)||this;return p.editorService=n,p.messageService=i,p.telemetryService=r,p.contextService=o,p.contextKeyService=s,p.configurationService=a,p.historyService=c,p.instantiationService=l,p.partService=u,p.listService=d,p.actionProvider=new b.ContributableActionProvider,p.previousValue="",p.mapResolvedHandlersToPrefix={},p.handlerOnOpenCalled={},p.mapContextKeyToContext={},p.promisesToCompleteOnHide=[],p.inQuickOpenMode=new V.RawContextKey("inQuickOpen",!1).bindTo(s),p._onShow=new A.Emitter,p._onHide=new A.Emitter,p.updateConfiguration(p.configurationService.getConfiguration()),p.registerListeners(),p}return h(t,e),t.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.configurationService.onDidUpdateConfiguration(function(t){return e.updateConfiguration(e.configurationService.getConfiguration())})),this.toUnbind.push(this.partService.onTitleBarVisibilityChange(function(){return e.positionQuickOpenWidget()})),this.toUnbind.push(r.onDidChangeZoomLevel(function(){return e.positionQuickOpenWidget()}))},t.prototype.updateConfiguration=function(e){this.closeOnFocusLost=e.workbench&&e.workbench.quickOpen&&e.workbench.quickOpen.closeOnFocusLost},Object.defineProperty(t.prototype,"onShow",{get:function(){return this._onShow.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onHide",{get:function(){return this._onHide.event},enumerable:!0,configurable:!0}),t.prototype.navigate=function(e,t){this.quickOpenWidget&&this.quickOpenWidget.navigate(e,t),this.pickOpenWidget&&this.pickOpenWidget.navigate(e,t)},t.prototype.input=function(e,t){var r=this;void 0===e&&(e={}),void 0===t&&(t=p.CancellationToken.None),this.pickOpenWidget&&this.pickOpenWidget.isVisible()&&this.pickOpenWidget.hide(m.HideReason.CANCELED);var o,s,a=e.prompt?i.localize(0,null,e.prompt):i.localize(1,null),c=a,l=n.TPromise.as(!0),u=function(i,d){r.doPick(n.TPromise.as([{label:c}]),{ignoreFocusLost:e.ignoreFocusLost,autoFocus:{autoFocusFirstEntry:!0},password:e.password,placeHolder:e.placeHolder,value:void 0===s?e.value:s,valueSelection:e.valueSelection,inputDecoration:o,onDidType:function(t){s=t,e.validateInput&&(l&&l.cancel(),l=n.TPromise.timeout(100).then(function(){return e.validateInput(t).then(function(t){o=t?F.Severity.Error:void 0;var r=t||a;return r!==c&&(e.valueSelection=[s.length,s.length],c=r,i(new n.TPromise(u))),!t})},function(e){}))}},t).then(i,d)};return new n.TPromise(u).then(function(t){return l.then(function(n){if(n&&t)return void 0===s?e.value||"":s})})},t.prototype.pick=function(e,t,i){var r=this;t||(t=Object.create(null));var o;if(Array.isArray(e))o=n.TPromise.as(e);else{if(!n.TPromise.is(e))throw new Error("illegal input");o=e}var s=!1,a=o.then(function(e){return e.map(function(e){return"string"==typeof e?(s=!0,{label:e}):e})});return this.pickOpenWidget&&this.pickOpenWidget.isVisible()&&this.pickOpenWidget.hide(m.HideReason.CANCELED),new n.TPromise(function(e,n,o){function c(e){return e&&s?e.label:e}r.doPick(a,t,i).then(function(t){return e(c(t))},function(e){return n(e)},function(e){return o(c(e))})})},t.prototype.doPick=function(e,t,r){var d=this;void 0===r&&(r=p.CancellationToken.None);var h=t.autoFocus,f=l.defaultGenerator.nextId();if(this.currentPickerToken=f,this.setQuickOpenContextKey(t.contextKey),this.pickOpenWidget)this.pickOpenWidget.setPlaceHolder(t.placeHolder||"");else{this.pickOpenWidget=new m.QuickOpenWidget(o.withElementById(this.partService.getWorkbenchElementId()).getHTMLElement(),{onOk:function(){},onCancel:function(){},onType:function(e){},onShow:function(){return d.handleOnShow(!0)},onHide:function(e){return d.handleOnHide(!0,e)}},{inputPlaceHolder:t.placeHolder||"",keyboardSupport:!1},this.telemetryService),this.toUnbind.push(j.attachQuickOpenStyler(this.pickOpenWidget,this.themeService,{background:U.SIDE_BAR_BACKGROUND,foreground:U.SIDE_BAR_FOREGROUND}));var v=this.pickOpenWidget.create();this.toUnbind.push(this.listService.register(this.pickOpenWidget.getTree())),c.addClass(v,"show-file-icons"),this.positionQuickOpenWidget()}return t.value&&this.pickOpenWidget.setValue(t.value,t.valueSelection),this.pickOpenWidget.setPassword(t.password),u.isUndefinedOrNull(t.inputDecoration)?this.pickOpenWidget.clearInputDecoration():this.pickOpenWidget.showInputDecoration(t.inputDecoration),this.layoutDimensions&&this.pickOpenWidget.layout(this.layoutDimensions),new n.TPromise(function(o,c,l){d.pickOpenWidget.setCallbacks({onCancel:function(){o(void 0)},onOk:function(){},onType:function(e){}}),r.onCancellationRequested(function(e){d.currentPickerToken===f&&d.pickOpenWidget.hide(m.HideReason.CANCELED)});var u=!1;e.then(function(e){if(d.currentPickerToken!==f)return o(void 0);u=!0,d.pickOpenWidget.getProgressBar().stop().getContainer().hide();var n=new g.QuickOpenModel,r=e.map(function(e,t){return d.instantiationService.createInstance(Y,e,t,function(){return l(e)})});0===e.length&&r.push(d.instantiationService.createInstance(Y,{label:i.localize(2,null)},0,null)),n.setEntries(r);var c={onOk:function(){if(0===e.length)return o(null);var t,n=-1;r.forEach(function(e){e.shouldRunWithContext&&(n=e.index,t=e.shouldRunWithContext)});var i=e[n];i&&"function"==typeof i.run&&i.run(t),o(i||null)},onCancel:function(){return o(void 0)},onFocusLost:function(){return!d.closeOnFocusLost||t.ignoreFocusLost},onType:function(i){if(t.onDidType)t.onDidType(i);else if(0!==e.length){(i=i?s.trim(i):i)?r.forEach(function(e){var n=a.matchesFuzzy(i,e.getLabel()),r=t.matchOnDescription&&a.matchesFuzzy(i,e.getDescription()),o=t.matchOnDetail&&e.getDetail()&&a.matchesFuzzy(i,e.getDetail());e.shouldAlwaysShow()||n||r||o?(e.setHighlights(n,r,o),e.setHidden(!1)):(e.setHighlights(null,null,null),e.setHidden(!0))}):r.forEach(function(e){e.setHighlights(null),e.setHidden(!1)});var o=i?s.stripWildcards(i.toLowerCase()):i;n.entries.sort(function(e,t){return i?g.QuickOpenEntry.compare(e,t,o):e.index-t.index}),d.pickOpenWidget.refresh(n,i?{autoFocusFirstEntry:!0}:h)}},onShow:function(){return d.handleOnShow(!0)},onHide:function(e){return d.handleOnHide(!0,e)}};d.pickOpenWidget.setCallbacks(c),d.pickOpenWidget.isVisible()?d.pickOpenWidget.setInput(n,h):d.pickOpenWidget.show(n,{autoFocus:h,quickNavigateConfiguration:t.quickNavigateConfiguration});var p=d.pickOpenWidget.getInputBox().value;p&&c.onType(p)},function(e){d.pickOpenWidget.hide(),c(e)}),n.TPromise.timeout(800).then(function(){u||d.currentPickerToken!==f||d.pickOpenWidget.getProgressBar().infinite().getContainer().show()}),u||d.pickOpenWidget.show(new g.QuickOpenModel)})},t.prototype.accept=function(){[this.quickOpenWidget,this.pickOpenWidget].forEach(function(e){e&&e.isVisible()&&e.accept()})},t.prototype.focus=function(){[this.quickOpenWidget,this.pickOpenWidget].forEach(function(e){e&&e.isVisible()&&e.focus()})},t.prototype.close=function(){[this.quickOpenWidget,this.pickOpenWidget].forEach(function(e){e&&e.isVisible()&&e.hide(m.HideReason.CANCELED)})},t.prototype.emitQuickOpenVisibilityChange=function(e){var t=this;this.visibilityChangeTimeoutHandle&&window.clearTimeout(this.visibilityChangeTimeoutHandle),this.visibilityChangeTimeoutHandle=setTimeout(function(){e?t._onShow.fire():t._onHide.fire(),t.visibilityChangeTimeoutHandle=void 0},100)},t.prototype.show=function(e,t){var r=this,s=t?t.quickNavigateConfiguration:void 0,a=t?t.inputSelection:void 0;this.previousValue=e;var l=new n.TPromise(function(e){r.promisesToCompleteOnHide.push(e)}),u=C.Registry.as(P.Extensions.Quickopen),d=u.getQuickOpenHandler(e)||u.getDefaultQuickOpenHandler();if(this.telemetryService.publicLog("quickOpenWidgetShown",{mode:d.getId(),quickNavigate:s}),this.resolveHandler(d).done(null,D.onUnexpectedError),!this.quickOpenWidget){this.quickOpenWidget=new m.QuickOpenWidget(o.withElementById(this.partService.getWorkbenchElementId()).getHTMLElement(),{onOk:function(){},onCancel:function(){},onType:function(e){return r.onType(e||"")},onShow:function(){return r.handleOnShow(!1)},onHide:function(e){return r.handleOnHide(!1,e)},onFocusLost:function(){return!r.closeOnFocusLost}},{inputPlaceHolder:this.hasHandler("?")?i.localize(3,null):"",keyboardSupport:!1},this.telemetryService),this.toUnbind.push(j.attachQuickOpenStyler(this.quickOpenWidget,this.themeService,{background:U.SIDE_BAR_BACKGROUND,foreground:U.SIDE_BAR_FOREGROUND}));var h=this.quickOpenWidget.create();this.toUnbind.push(this.listService.register(this.quickOpenWidget.getTree())),c.addClass(h,"show-file-icons"),this.positionQuickOpenWidget()}if(this.layoutDimensions&&this.quickOpenWidget.layout(this.layoutDimensions),!this.quickOpenWidget.isVisible()||s)if(e)this.quickOpenWidget.show(e,{quickNavigateConfiguration:s,inputSelection:a});else{var p=this.getEditorHistoryWithGroupLabel();p.getEntries().length<2&&(s=null);var f=void 0;if(s){var g=this.editorService.getVisibleEditors().length;f={autoFocusFirstEntry:0===g,autoFocusSecondEntry:0!==g}}else f={autoFocusFirstEntry:!0};var v=C.Registry.as(P.Extensions.Quickopen);this.setQuickOpenContextKey(v.getDefaultQuickOpenHandler().contextKey),this.quickOpenWidget.show(p,{quickNavigateConfiguration:s,autoFocus:f,inputSelection:a})}else this.quickOpenWidget.show(e||"",{inputSelection:a});return l},t.prototype.positionQuickOpenWidget=function(){var e=this.partService.getTitleBarOffset();this.quickOpenWidget&&this.quickOpenWidget.getElement().style("top",e+"px"),this.pickOpenWidget&&this.pickOpenWidget.getElement().style("top",e+"px")},t.prototype.handleOnShow=function(e){e&&this.quickOpenWidget?this.quickOpenWidget.hide(m.HideReason.FOCUS_LOST):!e&&this.pickOpenWidget&&this.pickOpenWidget.hide(m.HideReason.FOCUS_LOST),this.inQuickOpenMode.set(!0),this.emitQuickOpenVisibilityChange(!0)},t.prototype.handleOnHide=function(e,t){var n=this;if(!e){this.previousActiveHandlerDescriptor=null;var i=function(e){r.mapResolvedHandlersToPrefix.hasOwnProperty(e)&&r.mapResolvedHandlersToPrefix[e].then(function(i){n.handlerOnOpenCalled[e]=!1,i.onClose(t===m.HideReason.CANCELED)})},r=this;for(var o in this.mapResolvedHandlersToPrefix)i(o);for(;this.promisesToCompleteOnHide.length;)this.promisesToCompleteOnHide.pop()(!0)}t!==m.HideReason.FOCUS_LOST&&this.restoreFocus(),this.inQuickOpenMode.reset(),this.resetQuickOpenContextKeys(),this.emitQuickOpenVisibilityChange(!1)},t.prototype.resetQuickOpenContextKeys=function(){var e=this;Object.keys(this.mapContextKeyToContext).forEach(function(t){return e.mapContextKeyToContext[t].reset()})},t.prototype.setQuickOpenContextKey=function(e){var t;e&&((t=this.mapContextKeyToContext[e])||(t=new V.RawContextKey(e,!1).bindTo(this.contextKeyService),this.mapContextKeyToContext[e]=t)),t&&t.get()||(this.resetQuickOpenContextKeys(),t&&t.set(!0))},t.prototype.hasHandler=function(e){return!!C.Registry.as(P.Extensions.Quickopen).getQuickOpenHandler(e)},t.prototype.getEditorHistoryWithGroupLabel=function(){var e=this.getEditorHistoryEntries();return e.length>0&&(e[0]=new X(e[0],i.localize(4,null),!1)),new g.QuickOpenModel(e,this.actionProvider)},t.prototype.restoreFocus=function(){var e=this.editorService.getActiveEditor();e&&e.focus()},t.prototype.onType=function(e){var t=this;this.previousValue=e;var i=C.Registry.as(P.Extensions.Quickopen),r=i.getQuickOpenHandler(e),o=i.getDefaultQuickOpenHandler(),a=r&&r.instantProgress,c=r?r.contextKey:o.contextKey,d=l.defaultGenerator.nextId();if(this.currentResultToken=d,a||this.quickOpenWidget.getProgressBar().stop().getContainer().hide(),this.quickOpenWidget.setExtraClass(null),this.setQuickOpenContextKey(c),!s.trim(e))return this.resolveHandler(r||o).done(null,D.onUnexpectedError),void this.quickOpenWidget.setInput(this.getEditorHistoryWithGroupLabel(),{autoFocusFirstEntry:!0});var h,p=!1;h=r?this.handleSpecificHandler(r,e,d):this.handleDefaultHandler(o,e,d),this.previousActiveHandlerDescriptor=r,n.TPromise.timeout(a?0:800).then(function(){p||d!==t.currentResultToken||t.quickOpenWidget.getProgressBar().infinite().getContainer().show()}),h.done(function(){p=!0,d===t.currentResultToken&&t.quickOpenWidget.getProgressBar().getContainer().hide()},function(e){p=!0,D.onUnexpectedError(e),t.messageService.show(F.Severity.Error,u.isString(e)?new Error(e):e)})},t.prototype.handleDefaultHandler=function(e,r,o){var s=this,a=this.getEditorHistoryEntries(r);return a.length>0&&(a[0]=new X(a[0],i.localize(5,null),!1)),this.resolveHandler(e).then(function(e){var i=new g.QuickOpenModel(a,s.actionProvider),c=!1,l=s.quickOpenWidget.getInput();return(l&&l.entries&&l.entries.some(function(e){return e instanceof Q||e instanceof X})||a.length>0)&&(e.hasShortResponseTime()?n.TPromise.timeout(t.MAX_SHORT_RESPONSE_TIME):n.TPromise.as(void 0)).then(function(){s.currentResultToken!==o||c||(s.quickOpenWidget.setInput(i,{autoFocusFirstEntry:!0}),c=!0)}),e.getResults(r).then(function(t){if(s.currentResultToken===o){c||(s.quickOpenWidget.setInput(i,{autoFocusFirstEntry:!0}),c=!0);var n=t&&t.entries||[];s.mergeResults(i,n,e.getGroupLabel())}})})},t.prototype.getEditorHistoryEntries=function(e){var t=this;e&&(e=e.replace(/ /g,""));var n=this.historyService.getHistory();if(!e)return n.map(function(e){return t.instantiationService.createInstance(Q,e)});var i=e.indexOf(_.nativeSep)>=0,r=[];n.forEach(function(n){var o;if(o=n instanceof k.EditorInput?k.toResource(n,{filter:["file","untitled"]}):n.resource){var s;if(s=i?S.getPathLabel(o,t.contextService):n instanceof k.EditorInput?n.getName():_.basename(n.resource.fsPath),a.matchesFuzzy(e,s)){var c=t.instantiationService.createInstance(Q,n),l=g.QuickOpenEntry.highlight(c,e),u=l.labelHighlights,d=l.descriptionHighlights;c.setHighlights(u,d),r.push(c)}}});var o=s.stripWildcards(e.toLowerCase());return r.sort(function(e,t){return g.QuickOpenEntry.compare(e,t,o)})},t.prototype.mergeResults=function(e,t,n){for(var r=this.mapEntriesToResource(e),o=[],s=0;s<t.length;s++){var a=t[s],c=a.getResource();a.isFile()&&c&&r[c.toString()]||o.push(a)}if(o.length>0){var l=0===e.getEntries().length,u=e.getEntries().length>0;o[0]=new g.QuickOpenEntryGroup(o[0],n,u),e.addEntries(o),this.quickOpenWidget.refresh(e,{autoFocusFirstEntry:l})}else 0===e.getEntries().length&&(e.addEntries([new $(i.localize(6,null))]),this.quickOpenWidget.refresh(e,{autoFocusFirstEntry:!0}))},t.prototype.handleSpecificHandler=function(e,t,r){var o=this;return this.resolveHandler(e).then(function(s){t=t.substr(e.prefix.length);var a=s.canRun();if(u.isUndefinedOrNull(a)||"boolean"==typeof a&&!a||"string"==typeof a){var c="string"==typeof a?a:i.localize(7,null),l=new g.QuickOpenModel([new $(c)],o.actionProvider);return o.showModel(l,s.getAutoFocus(t,{model:l,quickNavigateConfiguration:o.quickOpenWidget.getQuickNavigateConfiguration()}),s.getAriaLabel()),n.TPromise.as(null)}var d=s.getClass();return d&&o.quickOpenWidget.setExtraClass(d),o.previousActiveHandlerDescriptor!==e&&o.clearModel(),s.getResults(t).then(function(e){if(o.currentResultToken===r)if(e&&e.entries.length)o.showModel(e,s.getAutoFocus(t,{model:e,quickNavigateConfiguration:o.quickOpenWidget.getQuickNavigateConfiguration()}),s.getAriaLabel());else{var n=new g.QuickOpenModel([new $(s.getEmptyLabel(t))]);o.showModel(n,s.getAutoFocus(t,{model:n,quickNavigateConfiguration:o.quickOpenWidget.getQuickNavigateConfiguration()}),s.getAriaLabel())}})})},t.prototype.showModel=function(e,t,n){this.quickOpenWidget.getInput()!==e?this.quickOpenWidget.setInput(e,t,n):this.quickOpenWidget.refresh(e,t)},t.prototype.clearModel=function(){this.showModel(new g.QuickOpenModel,null)},t.prototype.mapEntriesToResource=function(e){var t={};return e.getEntries().forEach(function(e){e.getResource()&&(t[e.getResource().toString()]=e)}),t},t.prototype.resolveHandler=function(e){var t=this,i=this._resolveHandler(e),r=e.getId();if(!this.handlerOnOpenCalled[r]){var o=i;this.handlerOnOpenCalled[r]=!0,i=this.mapResolvedHandlersToPrefix[r]=o.then(function(e){return t.mapResolvedHandlersToPrefix[r]=o,e.onOpen(),e})}return i.then(null,function(i){return delete t.mapResolvedHandlersToPrefix[r],n.TPromise.wrapError(new Error("Unable to instantiate quick open handler "+e.moduleName+" - "+e.ctorName+": "+JSON.stringify(i)))})},t.prototype._resolveHandler=function(e){var t=e.getId();return this.mapResolvedHandlersToPrefix[t]?this.mapResolvedHandlersToPrefix[t]:this.mapResolvedHandlersToPrefix[t]=this.instantiationService.createInstance(e)},t.prototype.layout=function(e){this.layoutDimensions=e,this.quickOpenWidget&&this.quickOpenWidget.layout(this.layoutDimensions),this.pickOpenWidget&&this.pickOpenWidget.layout(this.layoutDimensions)},t.prototype.dispose=function(){this.quickOpenWidget&&this.quickOpenWidget.dispose(),this.pickOpenWidget&&this.pickOpenWidget.dispose(),e.prototype.dispose.call(this)},t}(x.Component);q.MAX_SHORT_RESPONSE_TIME=500,q.ID="workbench.component.quickopen",q=v([y(0,O.IWorkbenchEditorService),y(1,F.IMessageService),y(2,W.ITelemetryService),y(3,B.IWorkspaceContextService),y(4,V.IContextKeyService),y(5,M.IConfigurationService),y(6,z.IHistoryService),y(7,N.IInstantiationService),y(8,L.IPartService),y(9,H.IListService),y(10,K.IThemeService)],q),t.QuickOpenController=q;var $=function(e){function t(t){var n=e.call(this)||this;return n.placeHolderLabel=t,n}return h(t,e),t.prototype.getLabel=function(){return this.placeHolderLabel},t}(g.QuickOpenEntryGroup),Y=function(e){function t(t,n,i,r,o){var s=e.call(this,t.label)||this;s._index=n,s.onPreview=i,s.modeService=r,s.modelService=o,s.description=t.description,s.detail=t.detail,s.hasSeparator=t.separator&&t.separator.border,s.separatorLabel=t.separator&&t.separator.label,s.alwaysShow=t.alwaysShow;var a=t;return s.resource=a.resource,s.isFolder=a.isFolder,s}return h(t,e),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),t.prototype.getLabelOptions=function(){return{extraClasses:this.resource?I.getIconClasses(this.modelService,this.modeService,this.resource,this.isFolder):[]}},Object.defineProperty(t.prototype,"shouldRunWithContext",{get:function(){return this._shouldRunWithContext},enumerable:!0,configurable:!0}),t.prototype.getDescription=function(){return this.description},t.prototype.getDetail=function(){return this.detail},t.prototype.showBorder=function(){return this.hasSeparator},t.prototype.getGroupLabel=function(){return this.separatorLabel},t.prototype.shouldAlwaysShow=function(){return this.alwaysShow},t.prototype.run=function(e,t){return e===f.Mode.OPEN?(this._shouldRunWithContext=t,!0):(e===f.Mode.PREVIEW&&this.onPreview&&this.onPreview(),!1)},t}($);Y=v([y(3,w.IModeService),y(4,T.IModelService)],Y);var X=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t}(g.QuickOpenEntryGroup);t.EditorHistoryEntryGroup=X;var Q=function(e){function t(t,n,i,r,o,s,a,c){var l=e.call(this,n)||this;if(l.modeService=i,l.modelService=r,l.textFileService=o,l.configurationService=a,l.input=t,t instanceof k.EditorInput)l.resource=k.toResource(t,{filter:["file","untitled"]}),l.label=t.getName(),l.description=t.getDescription(),l.dirty=t.isDirty();else{var u=t;l.resource=u.resource,l.label=_.basename(u.resource.fsPath),l.description=S.getPathLabel(_.dirname(l.resource.fsPath),s,c),l.dirty=l.resource&&l.textFileService.isDirty(l.resource),l.dirty&&l.textFileService.getAutoSaveMode()===E.AutoSaveMode.AFTER_SHORT_DELAY&&(l.dirty=!1)}return l}return h(t,e),t.prototype.getIcon=function(){return this.dirty?"dirty":""},t.prototype.getLabel=function(){return this.label},t.prototype.getLabelOptions=function(){return{extraClasses:I.getIconClasses(this.modelService,this.modeService,this.resource)}},t.prototype.getAriaLabel=function(){return i.localize(8,null,this.getLabel())},t.prototype.getDescription=function(){return this.description},t.prototype.getResource=function(){return this.resource},t.prototype.getInput=function(){return this.input},t.prototype.run=function(t,n){if(t===f.Mode.OPEN){var i=!n.quickNavigateConfiguration&&n.keymods.indexOf(2048)>=0,r=!this.configurationService.getConfiguration().workbench.editor.enablePreviewFromQuickOpen;return this.input instanceof k.EditorInput?this.editorService.openEditor(this.input,{pinned:r},i).done(null,D.onUnexpectedError):this.editorService.openEditor({resource:this.input.resource,options:{pinned:r}},i),!0}return e.prototype.run.call(this,t,n)},t}(P.EditorQuickOpenEntry);Q=v([y(1,O.IWorkbenchEditorService),y(2,w.IModeService),y(3,T.IModelService),y(4,E.ITextFileService),y(5,B.IWorkspaceContextService),y(6,M.IConfigurationService),y(7,G.IEnvironmentService)],Q),t.EditorHistoryEntry=Q;var Z=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n)||this;return s.quickOpenService=i,s.instantiationService=r,s.historyService=o,s}return h(t,e),t.prototype.run=function(){var e=this,t=this.historyService.getHistory().map(function(t){var n=e.instantiationService.createInstance(Q,t);return{input:t,resource:n.getResource(),label:n.getLabel(),description:n.getDescription()}});return this.quickOpenService.pick(t,{placeHolder:i.localize(10,null),autoFocus:{autoFocusFirstEntry:!0},matchOnDescription:!0}).then(function(t){t&&e.historyService.remove(t.input)})},t}(d.Action);Z.ID="workbench.action.removeFromEditorHistory",Z.LABEL=i.localize(9,null),Z=v([y(2,R.IQuickOpenService),y(3,N.IInstantiationService),y(4,z.IHistoryService)],Z),t.RemoveFromEditorHistoryAction=Z}),define(u[1202],d([1,0,15,54,35,50,72,367,169]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.closeQuickOpen",weight:s.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:c.inQuickOpenContext,primary:9,secondary:[1033],handler:function(e){e.get(i.IQuickOpenService).close()}}),s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.acceptSelectedQuickOpenItem",weight:s.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:c.inQuickOpenContext,primary:null,handler:function(e){e.get(i.IQuickOpenService).accept()}}),s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.focusQuickOpen",weight:s.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:c.inQuickOpenContext,primary:null,handler:function(e){e.get(i.IQuickOpenService).focus()}});var l=n.Registry.as(o.Extensions.WorkbenchActions),u={primary:2094,secondary:[2083],mac:{primary:2094,secondary:null}};l.registerWorkbenchAction(new r.SyncActionDescriptor(c.GlobalQuickOpenAction,c.GlobalQuickOpenAction.ID,c.GlobalQuickOpenAction.LABEL,u),"Go to File..."),l.registerWorkbenchAction(new r.SyncActionDescriptor(c.QuickOpenSelectNextAction,c.QuickOpenSelectNextAction.ID,c.QuickOpenSelectNextAction.LABEL,{primary:null,mac:{primary:300}},c.inQuickOpenContext,s.KeybindingsRegistry.WEIGHT.workbenchContrib(50)),"Select Next in Quick Open"),l.registerWorkbenchAction(new r.SyncActionDescriptor(c.QuickOpenSelectPreviousAction,c.QuickOpenSelectPreviousAction.ID,c.QuickOpenSelectPreviousAction.LABEL,{primary:null,mac:{primary:302}},c.inQuickOpenContext,s.KeybindingsRegistry.WEIGHT.workbenchContrib(50)),"Select Previous in Quick Open"),l.registerWorkbenchAction(new r.SyncActionDescriptor(c.QuickOpenNavigateNextAction,c.QuickOpenNavigateNextAction.ID,c.QuickOpenNavigateNextAction.LABEL),"Navigate Next in Quick Open"),l.registerWorkbenchAction(new r.SyncActionDescriptor(c.QuickOpenNavigatePreviousAction,c.QuickOpenNavigatePreviousAction.ID,c.QuickOpenNavigatePreviousAction.LABEL),"Navigate Previous in Quick Open"),l.registerWorkbenchAction(new r.SyncActionDescriptor(a.RemoveFromEditorHistoryAction,a.RemoveFromEditorHistoryAction.ID,a.RemoveFromEditorHistoryAction.LABEL),"Remove From History");s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.quickOpenNavigateNextInFilePicker",weight:s.KeybindingsRegistry.WEIGHT.workbenchContrib(50),handler:c.getQuickNavigateHandler("workbench.action.quickOpenNavigateNextInFilePicker",!0),when:c.defaultQuickOpenContext,primary:u.primary,secondary:u.secondary,mac:u.mac});s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.quickOpenNavigatePreviousInFilePicker",weight:s.KeybindingsRegistry.WEIGHT.workbenchContrib(50),handler:c.getQuickNavigateHandler("workbench.action.quickOpenNavigatePreviousInFilePicker",!1),when:c.defaultQuickOpenContext,primary:1024|u.primary,secondary:[1024|u.secondary[0]],mac:{primary:1024|u.mac.primary,secondary:null}})}),define(u[1203],d([1,0,4,185,172,33,43,23,42,44,8,18,139,51]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=function(e){function t(n,i,r,o,s,a,c,l,h,p){var f=e.call(this,c,a)||this;return f.modeId=n,f.resource=i,f.hasAssociatedFilePath=r,f.initialValue=o,f.preferredEncoding=s,f.backupFileService=l,f.textFileService=h,f.configurationService=p,f.dirty=!1,f.versionId=0,f._onDidChangeContent=new u.Emitter,f._onDidChangeDirty=new u.Emitter,f._onDidChangeEncoding=new u.Emitter,f.contentChangeEventScheduler=new d.RunOnceScheduler(function(){return f._onDidChangeContent.fire()},t.DEFAULT_CONTENT_CHANGE_BUFFER_DELAY),f.registerListeners(),f}return h(t,e),Object.defineProperty(t.prototype,"onDidChangeContent",{get:function(){return this._onDidChangeContent.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidChangeDirty",{get:function(){return this._onDidChangeDirty.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidChangeEncoding",{get:function(){return this._onDidChangeEncoding.event},enumerable:!0,configurable:!0}),t.prototype.getOrCreateMode=function(t,n,i){return n&&n!==r.PLAINTEXT_MODE_ID?e.prototype.getOrCreateMode.call(this,t,n,i):t.getOrCreateModeByFilenameOrFirstLine(this.resource.fsPath,i)},t.prototype.registerListeners=function(){var e=this;this.configurationChangeListener=this.configurationService.onDidUpdateConfiguration(function(t){return e.onConfigurationChange(e.configurationService.getConfiguration())})},t.prototype.onConfigurationChange=function(e){this.configuredEncoding=e&&e.files&&e.files.encoding},t.prototype.getVersionId=function(){return this.versionId},t.prototype.getValue=function(){return this.textEditorModel?this.textEditorModel.getValue(o.EndOfLinePreference.TextDefined,!0):null},t.prototype.getModeId=function(){return this.textEditorModel?this.textEditorModel.getLanguageIdentifier().language:null},t.prototype.getEncoding=function(){return this.preferredEncoding||this.configuredEncoding},t.prototype.setEncoding=function(e){var t=this.getEncoding();this.preferredEncoding=e,t!==this.preferredEncoding&&this._onDidChangeEncoding.fire()},t.prototype.isDirty=function(){return this.dirty},t.prototype.setDirty=function(e){this.dirty!==e&&(this.dirty=e,this._onDidChangeDirty.fire())},t.prototype.getResource=function(){return this.resource},t.prototype.revert=function(){this.setDirty(!1),this.contentChangeEventScheduler.schedule()},t.prototype.load=function(){var e=this;return this.backupFileService.loadBackupResource(this.resource).then(function(t){return t?e.textFileService.resolveTextContent(t,p.BACKUP_FILE_RESOLVE_OPTIONS).then(function(t){return e.backupFileService.parseBackupContent(t.value)}):null}).then(function(t){return e.setDirty(e.hasAssociatedFilePath||!!t),e.doLoad(t||e.initialValue||"").then(function(t){var n=e.configurationService.getConfiguration();return e.configuredEncoding=n&&n.files&&n.files.encoding,e.textModelChangeListener=e.textEditorModel.onDidChangeContent(function(t){return e.onModelContentChanged()}),t})})},t.prototype.doLoad=function(e){var t=this;return this.textEditorModel?(this.updateTextEditorModel(e),n.TPromise.as(this)):this.createTextEditorModel(e,this.resource,this.modeId).then(function(e){return t})},t.prototype.onModelContentChanged=function(){this.versionId++,this.hasAssociatedFilePath||1!==this.textEditorModel.getLineCount()||""!==this.textEditorModel.getLineContent(1)?this.setDirty(!0):this.setDirty(!1),this.contentChangeEventScheduler.schedule()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.textModelChangeListener&&(this.textModelChangeListener.dispose(),this.textModelChangeListener=null),this.configurationChangeListener&&(this.configurationChangeListener.dispose(),this.configurationChangeListener=null),this.contentChangeEventScheduler.dispose(),this._onDidChangeContent.dispose(),this._onDidChangeDirty.dispose(),this._onDidChangeEncoding.dispose()},t}(i.BaseTextEditorModel);g.DEFAULT_CONTENT_CHANGE_BUFFER_DELAY=s.CONTENT_CHANGE_EVENT_BUFFER_DELAY,g=v([y(5,c.IModeService),y(6,l.IModelService),y(7,p.IBackupFileService),y(8,f.ITextFileService),y(9,a.IConfigurationService)],g),t.UntitledEditorModel=g}),define(u[245],d([1,0,4,133,82,172,28,30,1203,6,27,5,8,51,164,39]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var b=function(e){function t(t,n,i,r,o,s,a,c,l){var u=e.call(this)||this;return u.resource=t,u.modeId=i,u.initialValue=r,u.preferredEncoding=o,u.instantiationService=s,u.contextService=a,u.textFileService=c,u.environmentService=l,u._hasAssociatedFilePath=n,u.toUnbind=[],u._onDidModelChangeContent=new p.Emitter,u._onDidModelChangeEncoding=new p.Emitter,u}return h(t,e),Object.defineProperty(t.prototype,"hasAssociatedFilePath",{get:function(){return this._hasAssociatedFilePath},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidModelChangeContent",{get:function(){return this._onDidModelChangeContent.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidModelChangeEncoding",{get:function(){return this._onDidModelChangeEncoding.event},enumerable:!0,configurable:!0}),t.prototype.getTypeId=function(){return t.ID},t.prototype.getResource=function(){return this.resource},t.prototype.getModeId=function(){return this.cachedModel?this.cachedModel.getModeId():this.modeId},t.prototype.getName=function(){return this.hasAssociatedFilePath?s.basename(this.resource.fsPath):this.resource.fsPath},t.prototype.getDescription=function(){return this.hasAssociatedFilePath?r.getPathLabel(s.dirname(this.resource.fsPath),this.contextService,this.environmentService):null},t.prototype.isDirty=function(){return this.cachedModel?this.cachedModel.isDirty():!this.isDisposed()&&this.hasAssociatedFilePath},t.prototype.confirmSave=function(){return this.textFileService.confirmSave([this.resource])},t.prototype.save=function(){return this.textFileService.save(this.resource)},t.prototype.revert=function(){return this.cachedModel&&this.cachedModel.revert(),this.dispose(),n.TPromise.as(!0)},t.prototype.suggestFileName=function(){if(!this.hasAssociatedFilePath&&this.cachedModel){var e=this.cachedModel.getModeId();if(e!==o.PLAINTEXT_MODE_ID)return i.suggestFilename(e,this.getName())}return this.getName()},t.prototype.getEncoding=function(){return this.cachedModel?this.cachedModel.getEncoding():this.preferredEncoding},t.prototype.setEncoding=function(e,t){this.preferredEncoding=e,this.cachedModel&&this.cachedModel.setEncoding(e)},t.prototype.resolve=function(){return this.modelResolve?this.modelResolve:(this.cachedModel=this.createModel(),this.modelResolve=this.cachedModel.load(),this.modelResolve)},t.prototype.createModel=function(){var e=this,t=this.instantiationService.createInstance(c.UntitledEditorModel,this.modeId,this.resource,this.hasAssociatedFilePath,this.initialValue,this.preferredEncoding);return this.toUnbind.push(t.onDidChangeContent(function(){return e._onDidModelChangeContent.fire()})),this.toUnbind.push(t.onDidChangeDirty(function(){return e._onDidChangeDirty.fire()})),this.toUnbind.push(t.onDidChangeEncoding(function(){return e._onDidModelChangeEncoding.fire()})),t},t.prototype.getTelemetryDescriptor=function(){var t=e.prototype.getTelemetryDescriptor.call(this);return t.resource=g.telemetryURIDescriptor(this.getResource()),t},t.prototype.matches=function(n){return!0===e.prototype.matches.call(this,n)||n instanceof t&&n.resource.toString()===this.resource.toString()},t.prototype.dispose=function(){this._onDidModelChangeContent.dispose(),this._onDidModelChangeEncoding.dispose(),d.dispose(this.toUnbind),this.cachedModel&&(this.cachedModel.dispose(),this.cachedModel=null),this.modelResolve=void 0,e.prototype.dispose.call(this)},t}(a.EditorInput);b.ID="workbench.editors.untitledEditorInput",b=v([y(5,l.IInstantiationService),y(6,u.IWorkspaceContextService),y(7,f.ITextFileService),y(8,m.IEnvironmentService)],b),t.UntitledEditorInput=b}),define(u[355],d([1,0,4,524,24,159,185,245,241,19,31,146,6,13,45,42,51,8]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var _=function(e){function t(n,i,r,o,s,a,c,l){return e.call(this,t.ID,n,i,r,o,s,c,l,a)||this}return h(t,e),t.prototype.getTitle=function(){return this.input?this.input.getName():i.localize(0,null)},t.prototype.setInput=function(t,i){var o=this,a=this.input;if(e.prototype.setInput.call(this,t,i),!(i&&i.forceOpen)&&t.matches(a)){var c=i;return c&&r.isFunction(c.apply)&&c.apply(this.getControl()),n.TPromise.as(null)}return this.saveTextEditorViewStateForInput(a),t.resolve(!0).then(function(e){if(!(e instanceof s.BaseTextEditorModel))return n.TPromise.wrapError(new Error("Unable to open file as text"));if(!o.input||o.input!==t)return null;var a=o.getControl(),c=e.textEditorModel;a.setModel(c);var l=!1,u=i;u&&r.isFunction(u.apply)&&(l=u.apply(a)),l||o.restoreViewState(t)})},t.prototype.restoreViewState=function(e){if(e instanceof a.UntitledEditorInput||e instanceof o.ResourceEditorInput){var t=this.loadTextEditorViewState(e.getResource().toString());t&&this.getControl().restoreViewState(t)}},t.prototype.getConfigurationOverrides=function(){var t=e.prototype.getConfigurationOverrides.call(this);return t.readOnly=!(this.input instanceof a.UntitledEditorInput),t},t.prototype.getAriaLabel=function(){var e=this.input,t=!(this.input instanceof a.UntitledEditorInput),n=e&&e.getName();return t?n?i.localize(1,null,n):i.localize(2,null):n?i.localize(3,null,n):i.localize(4,null)},t.prototype.revealLastLine=function(){var e=this.getControl(),t=e.getModel();if(t){var n=t.getLineCount();e.revealPosition({lineNumber:n,column:t.getLineMaxColumn(n)})}},t.prototype.clearInput=function(){this.saveTextEditorViewStateForInput(this.input),this.getControl().setModel(null),e.prototype.clearInput.call(this)},t.prototype.shutdown=function(){this.input instanceof a.UntitledEditorInput&&this.saveTextEditorViewStateForInput(this.input),e.prototype.shutdown.call(this)},t.prototype.saveTextEditorViewStateForInput=function(t){var n=this;if(t instanceof a.UntitledEditorInput||t instanceof o.ResourceEditorInput){var i=t.getResource().toString();t.isDisposed()?e.prototype.clearTextEditorViewState.call(this,[i]):(e.prototype.saveTextEditorViewState.call(this,i),S.once(t.onDispose)(function(){e.prototype.clearTextEditorViewState.call(n,[i])}))}},t}(c.BaseTextEditor);_.ID="workbench.editors.textResourceEditor",_=v([y(0,l.ITelemetryService),y(1,p.IInstantiationService),y(2,u.IStorageService),y(3,d.ITextResourceConfigurationService),y(4,f.IThemeService),y(5,g.IEditorGroupService),y(6,m.IModeService),y(7,b.ITextFileService)],_),t.TextResourceEditor=_}),define(u[354],d([1,0,629,4,28,82,30,268,43,93,51,27,6,5,164,63,39,71]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var _=function(e){function t(t,n,i,r,o,s,a){var c=e.call(this)||this;return c.resource=t,c.preferredEncoding=n,c.instantiationService=i,c.contextService=r,c.textFileService=o,c.environmentService=s,c.textModelResolverService=a,c.toUnbind=[],c.registerListeners(),c}return h(t,e),t.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.textFileService.models.onModelDirty(function(t){return e.onDirtyStateChange(t)})),this.toUnbind.push(this.textFileService.models.onModelSaveError(function(t){return e.onDirtyStateChange(t)})),this.toUnbind.push(this.textFileService.models.onModelSaved(function(t){return e.onDirtyStateChange(t)})),this.toUnbind.push(this.textFileService.models.onModelReverted(function(t){return e.onDirtyStateChange(t)})),this.toUnbind.push(this.textFileService.models.onModelOrphanedChanged(function(t){return e.onModelOrphanedChanged(t)}))},t.prototype.onDirtyStateChange=function(e){e.resource.toString()===this.resource.toString()&&this._onDidChangeDirty.fire()},t.prototype.onModelOrphanedChanged=function(e){e.resource.toString()===this.resource.toString()&&this._onDidChangeLabel.fire()},t.prototype.getResource=function(){return this.resource},t.prototype.setPreferredEncoding=function(e){this.preferredEncoding=e},t.prototype.getEncoding=function(){var e=this.textFileService.models.get(this.resource);return e?e.getEncoding():this.preferredEncoding},t.prototype.getPreferredEncoding=function(){return this.preferredEncoding},t.prototype.setEncoding=function(e,t){this.preferredEncoding=e;var n=this.textFileService.models.get(this.resource);n&&n.setEncoding(e,t)},t.prototype.setForceOpenAsBinary=function(){this.forceOpenAsBinary=!0},t.prototype.getTypeId=function(){return l.FILE_EDITOR_INPUT_ID},t.prototype.getName=function(){return this.name||(this.name=r.basename(this.resource.fsPath)),this.decorateOrphanedFiles(this.name)},t.prototype.getDescription=function(){return this.description||(this.description=o.getPathLabel(r.dirname(this.resource.fsPath),this.contextService,this.environmentService)),this.description},t.prototype.getTitle=function(e){var t;switch(e){case m.Verbosity.SHORT:t=this.shortTitle?this.shortTitle:this.shortTitle=this.getName();break;case m.Verbosity.MEDIUM:t=this.mediumTitle?this.mediumTitle:this.mediumTitle=o.getPathLabel(this.resource,this.contextService,this.environmentService);break;case m.Verbosity.LONG:t=this.longTitle?this.longTitle:this.longTitle=o.getPathLabel(this.resource,void 0,this.environmentService)}return this.decorateOrphanedFiles(t)},t.prototype.decorateOrphanedFiles=function(e){var t=this.textFileService.models.get(this.resource);return t&&t.hasState(u.ModelState.ORPHAN)?n.localize(0,null,e):e},t.prototype.isDirty=function(){var e=this.textFileService.models.get(this.resource);return!!e&&(!(!e.hasState(u.ModelState.CONFLICT)&&!e.hasState(u.ModelState.ERROR))||this.textFileService.getAutoSaveMode()!==u.AutoSaveMode.AFTER_SHORT_DELAY&&e.isDirty())},t.prototype.confirmSave=function(){return this.textFileService.confirmSave([this.resource])},t.prototype.save=function(){return this.textFileService.save(this.resource)},t.prototype.revert=function(){return this.textFileService.revert(this.resource)},t.prototype.getPreferredEditorId=function(e){return this.forceOpenAsBinary?l.BINARY_FILE_EDITOR_ID:l.TEXT_FILE_EDITOR_ID},t.prototype.resolve=function(e){var t=this;return this.forceOpenAsBinary?this.resolveAsBinary():this.textFileService.models.loadOrCreate(this.resource,{encoding:this.preferredEncoding,reload:e}).then(function(e){return t.textModelReference||(t.textModelReference=t.textModelResolverService.createModelReference(t.resource)),t.textModelReference.then(function(e){return e.object})},function(e){return e.fileOperationResult===c.FileOperationResult.FILE_IS_BINARY||e.fileOperationResult===c.FileOperationResult.FILE_TOO_LARGE?t.resolveAsBinary():i.TPromise.wrapError(e)})},t.prototype.resolveAsBinary=function(){return this.instantiationService.createInstance(a.BinaryEditorModel,this.resource,this.getName()).load().then(function(e){return e})},t.prototype.isResolved=function(){return!!this.textFileService.models.get(this.resource)},t.prototype.getTelemetryDescriptor=function(){var t=e.prototype.getTelemetryDescriptor.call(this);return t.resource=g.telemetryURIDescriptor(this.getResource()),t},t.prototype.dispose=function(){this.textModelReference&&(this.textModelReference.done(function(e){return e.dispose()}),this.textModelReference=null),this.toUnbind=f.dispose(this.toUnbind),e.prototype.dispose.call(this)},t.prototype.matches=function(n){return!0===e.prototype.matches.call(this,n)||!!n&&(n instanceof t&&n.resource.toString()===this.resource.toString())},t}(s.EditorInput);_=v([y(2,p.IInstantiationService),y(3,d.IWorkspaceContextService),y(4,u.ITextFileService),y(5,b.IEnvironmentService),y(6,S.ITextModelService)],_),t.FileEditorInput=_}),define(u[1207],d([1,0,4,7,16,28,33,30,93,51,43,354,45,69,22,5,34,39,23,11]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,m,b,S,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var E=function(){function e(e,t,n,i,r,o,s){this.editorService=e,this.textFileService=t,this.lifecycleService=n,this.editorGroupService=i,this.fileService=r,this.environmentService=o,this.configurationService=s,this.toUnbind=[],this.stacks=i.getStacksModel(),this.onConfigurationUpdated(s.getConfiguration()),this.registerListeners()}return e.prototype.getId=function(){return"vs.files.fileEditorTracker"},e.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.fileService.onAfterOperation(function(t){return e.onFileOperation(t)})),this.toUnbind.push(this.fileService.onFileChanges(function(t){return e.onFileChanges(t)})),this.lifecycleService.onShutdown(this.dispose,this),this.toUnbind.push(this.configurationService.onDidUpdateConfiguration(function(t){return e.onConfigurationUpdated(e.configurationService.getConfiguration())}))},e.prototype.onConfigurationUpdated=function(e){e.workbench&&e.workbench.editor&&"boolean"==typeof e.workbench.editor.closeOnFileDelete?this.closeOnFileDelete=e.workbench.editor.closeOnFileDelete:this.closeOnFileDelete=!0},e.prototype.onFileOperation=function(e){e.operation===u.FileOperation.MOVE&&this.handleMovedFileInOpenedEditors(e.resource,e.target.resource),e.operation!==u.FileOperation.DELETE&&e.operation!==u.FileOperation.MOVE||this.handleDeletes(e.resource,!1,e.target?e.target.resource:void 0)},e.prototype.onFileChanges=function(e){this.handleUpdates(e),e.gotDeleted()&&this.handleDeletes(e,!0)},e.prototype.handleDeletes=function(e,t,i){var r=this;this.getOpenedFileEditors(!1).forEach(function(s){var a=s.getResource();if(r.closeOnFileDelete||!t||!s.isResolved()){if(i&&o.isEqualOrParent(a.fsPath,i.fsPath,!_.isLinux)&&0===a.fsPath.indexOf(i.fsPath))return;if(!(e instanceof u.FileChangesEvent?e.contains(a,u.FileChangeType.DELETED):o.isEqualOrParent(a.fsPath,e.fsPath,!_.isLinux)))return;(t?n.TPromise.timeout(100).then(function(){return r.fileService.existsFile(a)}):n.TPromise.as(!1)).done(function(e){e||s.isDisposed()?r.environmentService.verbose&&console.warn("File exists even though we received a delete event: "+a.toString()):s.dispose()})}})},e.prototype.getOpenedFileEditors=function(e){var t=[];return this.editorGroupService.getStacksModel().groups.forEach(function(n){n.getEditors().forEach(function(n){if(n instanceof d.FileEditorInput)!!n.isDirty()===e&&t.push(n);else if(n instanceof a.SideBySideEditorInput){var i=n.master,r=n.details;i instanceof d.FileEditorInput&&!!i.isDirty()===e&&t.push(i),r instanceof d.FileEditorInput&&!!r.isDirty()===e&&t.push(r)}})}),t},e.prototype.handleMovedFileInOpenedEditors=function(e,t){var n=this,s=this.editorGroupService.getStacksModel();s.groups.forEach(function(a){a.getEditors().forEach(function(c){if(c instanceof d.FileEditorInput){var l=c.getResource();if(o.isEqualOrParent(l.fsPath,e.fsPath,!_.isLinux)){var h=void 0;if(e.toString()===l.toString())h=t;else{var p=u.indexOf(l.fsPath,e.fsPath,!_.isLinux);h=r.default.file(o.join(t.fsPath,l.fsPath.substr(p+e.fsPath.length+1)))}n.editorService.openEditor({resource:h,options:{preserveFocus:!0,pinned:a.isPinned(c),index:a.indexOf(c),inactive:!a.isActive(c),viewState:n.getViewStateFor(e,a)}},s.positionOfGroup(a)).done(null,i.onUnexpectedError)}}})})},e.prototype.getViewStateFor=function(e,t){for(var n=this.editorGroupService.getStacksModel(),i=this.editorService.getVisibleEditors(),r=0;r<i.length;r++){var c=i[r];if(c&&c.position===n.positionOfGroup(t)){var l=a.toResource(c.input,{filter:"file"});if(l&&o.isEqual(l.fsPath,l.fsPath)){var u=c.getControl();if(s.isCommonCodeEditor(u))return u.saveViewState()}}}},e.prototype.handleUpdates=function(e){var t=this,n=m.distinct(e.getUpdated().concat(e.getAdded()).map(function(e){return t.textFileService.models.get(e.resource)}).filter(function(e){return e&&!e.isDirty()}),function(e){return e.getResource().toString()}),r=this.handleUpdatesToVisibleEditors(e);n.forEach(function(e){r.indexOf(e)>=0||e.load().done(null,i.onUnexpectedError)})},e.prototype.handleUpdatesToVisibleEditors=function(e){var t=this,n=[];return this.editorService.getVisibleEditors().forEach(function(r){var o=a.toResource(r.input,{filter:"file",supportSideBySide:!0});if(o&&(e.contains(o,u.FileChangeType.UPDATED)||e.contains(o,u.FileChangeType.ADDED))){var s=t.textFileService.models.get(o);if(s){if(!s.isDirty()){var l=r.getControl(),d=l.saveViewState(),h=s.getETag();s.load().done(function(){s.getETag()!==h&&l.getModel()===s.textEditorModel&&l.restoreViewState(d)},i.onUnexpectedError),n.push(s)}}else r.getId()===c.BINARY_FILE_EDITOR_ID&&t.editorService.openEditor(r.input,{forceOpen:!0,preserveFocus:!0},r.position).done(null,i.onUnexpectedError)}}),n},e.prototype.dispose=function(){this.toUnbind=g.dispose(this.toUnbind)},e}();E=v([y(0,f.IWorkbenchEditorService),y(1,l.ITextFileService),y(2,p.ILifecycleService),y(3,h.IEditorGroupService),y(4,u.IFileService),y(5,b.IEnvironmentService),y(6,S.IConfigurationService)],E),t.FileEditorTracker=E}),define(u[1208],d([1,0,637,5,19,31,146,6,118,17,355,125,415,13,45,42,51,958]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var S=function(e){function t(t,n,i,r,o,s,a,c,l,u){var d=e.call(this,t,n,i,r,o,c,l,u)||this;return d.outputService=s,d.contextKeyService=a,d.scopedInstantiationService=n,d.toDispose=[],d}return h(t,e),t.prototype.getId=function(){return d.OUTPUT_PANEL_ID},t.prototype.getActions=function(){var e=this;return this.actions||(this.actions=[this.instantiationService.createInstance(p.SwitchOutputAction),this.instantiationService.createInstance(p.ClearOutputAction,p.ClearOutputAction.ID,p.ClearOutputAction.LABEL),this.instantiationService.createInstance(p.ToggleOutputScrollLockAction,p.ToggleOutputScrollLockAction.ID,p.ToggleOutputScrollLockAction.LABEL)],this.actions.forEach(function(t){e.toDispose.push(t)})),this.actions},t.prototype.getActionItem=function(t){return t.id===p.SwitchOutputAction.ID?this.instantiationService.createInstance(p.SwitchOutputActionItem,t):e.prototype.getActionItem.call(this,t)},t.prototype.getConfigurationOverrides=function(){var t=e.prototype.getConfigurationOverrides.call(this);t.wordWrap="on",t.lineNumbers="off",t.glyphMargin=!1,t.lineDecorationsWidth=20,t.rulers=[],t.folding=!1,t.scrollBeyondLastLine=!1,t.renderLineHighlight="none",t.minimap={enabled:!1};var n=this.configurationService.getConfiguration(null,"[Log]");return n&&n["editor.minimap.enabled"]&&(t.minimap={enabled:!0}),t},t.prototype.getAriaLabel=function(){var e=this.outputService.getActiveChannel();return e?n.localize(0,null,e.label):n.localize(1,null)},t.prototype.setInput=function(t,n){var i=this;return e.prototype.setInput.call(this,t,n).then(function(){return i.revealLastLine()})},t.prototype.createEditor=function(t){var n=this.contextKeyService.createScoped(t.getHTMLElement());this.toDispose.push(n),this.scopedInstantiationService=this.instantiationService.createChild(new c.ServiceCollection([l.IContextKeyService,n])),e.prototype.createEditor.call(this,t),d.CONTEXT_IN_OUTPUT.bindTo(n).set(!0),this.setInput(d.OutputEditors.getInstance(this.instantiationService,this.outputService.getActiveChannel()),null)},Object.defineProperty(t.prototype,"instantiationService",{get:function(){return this.scopedInstantiationService},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.toDispose=i.dispose(this.toDispose),e.prototype.dispose.call(this)},t}(u.TextResourceEditor);S=v([y(0,r.ITelemetryService),y(1,a.IInstantiationService),y(2,o.IStorageService),y(3,s.ITextResourceConfigurationService),y(4,f.IThemeService),y(5,d.IOutputService),y(6,l.IContextKeyService),y(7,g.IEditorGroupService),y(8,m.IModeService),y(9,b.ITextFileService)],S),t.OutputPanel=S}),define(u[1209],d([1,0,4,646,18,5,8,15,33,14,64,6,126,286,73,41,207,19,296,65,51,205,142,104,20,22,77]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var L=function(e){function t(t,n,i,o,a,c,l,u,d){var h=e.call(this)||this;return h.editor=t,h.preferencesModel=n,h.associatedPreferencesModel=i,h.preferencesService=o,h.telemetryService=a,h.textFileService=c,h.configurationEditingService=l,h.messageService=u,h.instantiationService=d,h.modelChangeDelayer=new r.Delayer(200),h._onFocusPreference=new s.Emitter,h.onFocusPreference=h._onFocusPreference.event,h._onUpdatePreference=new s.Emitter,h.onUpdatePreference=h._onUpdatePreference.event,h._onClearFocusPreference=new s.Emitter,h.onClearFocusPreference=h._onClearFocusPreference.event,h._register(n),h._register(i),h.settingHighlighter=h._register(d.createInstance(V,t,h._onFocusPreference,h._onClearFocusPreference)),h.highlightMatchesRenderer=h._register(d.createInstance(W,t)),h.editSettingActionRenderer=h._register(h.instantiationService.createInstance(B,h.editor,h.preferencesModel,h.settingHighlighter)),h._register(h.editSettingActionRenderer.onUpdateSetting(function(e){var t=e.key,n=e.value,i=e.source;return h.updatePreference(t,n,i)})),h._register(h.editor.getModel().onDidChangeContent(function(){return h.modelChangeDelayer.trigger(function(){return h.onModelChanged()})})),h}return h(t,e),t.prototype.render=function(){this.editSettingActionRenderer.render(this.preferencesModel.settingsGroups,this.associatedPreferencesModel),this.filterResult&&this.filterPreferences(this.filterResult)},t.prototype.updatePreference=function(e,t,n){var i=this;this.telemetryService.publicLog("defaultSettingsActions.copySetting",{userConfigurationKeys:[e]});var r=n.overrideOf?w.overrideIdentifierFromKey(n.overrideOf.key):null;this.configurationEditingService.writeConfiguration(this.preferencesModel.configurationTarget,{key:e,value:t},{donotSave:this.textFileService.isDirty(this.preferencesModel.uri),donotNotifyError:!0,scopes:{overrideIdentifier:r}}).then(function(){return i.onSettingUpdated(n)},function(e){i.messageService.show(k.Severity.Error,i.toErrorMessage(e,i.preferencesModel.configurationTarget))})},t.prototype.toErrorMessage=function(e,t){switch(e.code){case E.ConfigurationEditingErrorCode.ERROR_INVALID_CONFIGURATION:return i.localize(0,null)}return e.message},t.prototype.onModelChanged=function(){this.editor.getModel()&&this.render()},t.prototype.onSettingUpdated=function(e){this.editor.focus(),(e=this.getSetting(e))&&(this.editor.setSelection(e.valueRange),this.settingHighlighter.highlight(e,!0))},t.prototype.getSetting=function(e){var t=e.key,n=e.overrideOf;if(n){for(var i=0,r=this.getSetting(n).overrides;i<r.length;i++){var o=r[i];if(o.key===t)return o}return null}return this.preferencesModel.getPreference(t)},t.prototype.filterPreferences=function(e){this.filterResult=e,this.settingHighlighter.clear(!0),this.highlightMatchesRenderer.render(e?e.matches:[])},t.prototype.focusPreference=function(e){var t=this.getSetting(e);t?this.settingHighlighter.highlight(t,!0):this.settingHighlighter.clear(!0)},t.prototype.clearFocus=function(e){this.settingHighlighter.clear(!0)},t}(o.Disposable);L=v([y(3,p.IPreferencesService),y(4,S.ITelemetryService),y(5,C.ITextFileService),y(6,E.IConfigurationEditingService),y(7,k.IMessageService),y(8,d.IInstantiationService)],L),t.UserSettingsRenderer=L;var P=function(e){function t(t,n,i,r,o,s,a,c,l){var u=e.call(this,t,n,i,r,o,s,a,c,l)||this;return u.untrustedSettingRenderer=u._register(l.createInstance(z,t,n)),u}return h(t,e),t.prototype.render=function(){e.prototype.render.call(this),this.untrustedSettingRenderer.render()},t}(L);P=v([y(3,p.IPreferencesService),y(4,S.ITelemetryService),y(5,C.ITextFileService),y(6,E.IConfigurationEditingService),y(7,k.IMessageService),y(8,d.IInstantiationService)],P),t.WorkspaceSettingsRenderer=P;var D=function(e){function t(t,n,i,r,o,a){var c=e.call(this)||this;c.editor=t,c.preferencesModel=n,c._associatedPreferencesModel=i,c.preferencesService=r,c.editorService=o,c.instantiationService=a,c._onUpdatePreference=new s.Emitter,c.onUpdatePreference=c._onUpdatePreference.event,c._onFocusPreference=new s.Emitter,c.onFocusPreference=c._onFocusPreference.event,c._onClearFocusPreference=new s.Emitter,c.onClearFocusPreference=c._onClearFocusPreference.event,c._register(n),c._register(i),c.settingHighlighter=c._register(a.createInstance(V,t,c._onFocusPreference,c._onClearFocusPreference)),c.settingsHeaderRenderer=c._register(a.createInstance(R,t)),c.settingsGroupTitleRenderer=c._register(a.createInstance(M,t)),c.filteredMatchesRenderer=c._register(a.createInstance(F,t)),c.editSettingActionRenderer=c._register(a.createInstance(B,t,n,c.settingHighlighter)),c._register(c.editSettingActionRenderer.onUpdateSetting(function(e){return c._onUpdatePreference.fire(e)}));var l=c._register(a.createInstance(O,t,n.settingsGroups));return c.hiddenAreasRenderer=c._register(a.createInstance(N,t,[c.settingsGroupTitleRenderer,c.filteredMatchesRenderer,l])),c._register(c.settingsGroupTitleRenderer.onHiddenAreasChanged(function(){return c.hiddenAreasRenderer.render()})),c}return h(t,e),Object.defineProperty(t.prototype,"associatedPreferencesModel",{get:function(){return this._associatedPreferencesModel},set:function(e){this._associatedPreferencesModel=e,this.editSettingActionRenderer.associatedPreferencesModel=e},enumerable:!0,configurable:!0}),t.prototype.render=function(){this.settingsGroupTitleRenderer.render(this.preferencesModel.settingsGroups),this.editSettingActionRenderer.render(this.preferencesModel.settingsGroups,this._associatedPreferencesModel),this.hiddenAreasRenderer.render(),this.settingHighlighter.clear(!0),this.settingsGroupTitleRenderer.showGroup(1),this.hiddenAreasRenderer.render()},t.prototype.filterPreferences=function(e){this.filterResult=e,e?(this.filteredMatchesRenderer.render(e),this.settingsHeaderRenderer.render(e.filteredGroups),this.settingsGroupTitleRenderer.render(e.filteredGroups),this.settingHighlighter.clear(!0),this.editSettingActionRenderer.render(e.filteredGroups,this._associatedPreferencesModel)):(this.settingHighlighter.clear(!0),this.filteredMatchesRenderer.render(null),this.settingsHeaderRenderer.render(this.preferencesModel.settingsGroups),this.settingsGroupTitleRenderer.render(this.preferencesModel.settingsGroups),this.settingsGroupTitleRenderer.showGroup(1),this.editSettingActionRenderer.render(this.preferencesModel.settingsGroups,this._associatedPreferencesModel)),this.hiddenAreasRenderer.render()},t.prototype.focusPreference=function(e){var t=this.getSetting(e);t?(this.settingsGroupTitleRenderer.showSetting(t),this.settingHighlighter.highlight(t,!0)):this.settingHighlighter.clear(!0)},t.prototype.getSetting=function(e){var t=e.key,n=e.overrideOf;if(n){for(var i=0,r=this.getSetting(n).overrides;i<r.length;i++){var o=r[i];if(o.key===t)return o}return null}var s=this.filterResult?this.filterResult.filteredGroups:this.preferencesModel.settingsGroups;return this.getPreference(t,s)},t.prototype.getPreference=function(e,t){for(var n=0,i=t;n<i.length;n++)for(var r=0,o=i[n].sections;r<o.length;r++)for(var s=0,a=o[r].settings;s<a.length;s++){var c=a[s];if(c.key===e)return c}return null},t.prototype.clearFocus=function(e){this.settingHighlighter.clear(!0)},t.prototype.collapseAll=function(){this.settingsGroupTitleRenderer.collapseAll()},t.prototype.updatePreference=function(e,t,n){},t}(o.Disposable);D=v([y(3,p.IPreferencesService),y(4,x.IWorkbenchEditorService),y(5,d.IInstantiationService)],D),t.DefaultSettingsRenderer=D;var O=function(e){function t(t,n){var i=e.call(this)||this;return i.editor=t,i.settingsGroups=n,i}return h(t,e),Object.defineProperty(t.prototype,"hiddenAreas",{get:function(){var e=this.editor.getModel();return[{startLineNumber:1,startColumn:e.getLineMinColumn(1),endLineNumber:2,endColumn:e.getLineMaxColumn(2)},{startLineNumber:this.settingsGroups[0].range.endLineNumber+1,startColumn:e.getLineMinColumn(this.settingsGroups[0].range.endLineNumber+1),endLineNumber:this.settingsGroups[0].range.endLineNumber+4,endColumn:e.getLineMaxColumn(this.settingsGroups[0].range.endLineNumber+4)},{startLineNumber:e.getLineCount()-1,startColumn:e.getLineMinColumn(e.getLineCount()-1),endLineNumber:e.getLineCount(),endColumn:e.getLineMaxColumn(e.getLineCount())}]},enumerable:!0,configurable:!0}),t}(o.Disposable);t.StaticContentHidingRenderer=O;var R=function(e){function t(t){var n=e.call(this)||this;return n.editor=t,n.settingsHeaderWidget=n._register(new b.SettingsHeaderWidget(t,i.localize(1,null))),n}return h(t,e),t.prototype.render=function(e){e.length?this.settingsHeaderWidget.setMessage(i.localize(2,null)):this.settingsHeaderWidget.setMessage(i.localize(3,null))},t}(o.Disposable),M=function(e){function t(t,n){var i=e.call(this)||this;return i.editor=t,i.instantiationService=n,i._onHiddenAreasChanged=new s.Emitter,i.hiddenGroups=[],i.disposables=[],i}return h(t,e),Object.defineProperty(t.prototype,"onHiddenAreasChanged",{get:function(){return this._onHiddenAreasChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hiddenAreas",{get:function(){for(var e=[],t=0,n=this.hiddenGroups;t<n.length;t++){var i=n[t];e.push(i.range)}return e},enumerable:!0,configurable:!0}),t.prototype.render=function(e){var t=this;this.disposeWidgets(),this.settingsGroups=e.slice(),this.settingsGroupTitleWidgets=[];for(var n=this,i=0,r=this.settingsGroups.slice().reverse();i<r.length;i++)!function(e){var i=n.instantiationService.createInstance(b.SettingsGroupTitleWidget,n.editor,e);i.render(),n.settingsGroupTitleWidgets.push(i),n.disposables.push(i),n.disposables.push(i.onToggled(function(e){return t.onToggled(e,i.settingsGroup)}))}(r[i]);this.settingsGroupTitleWidgets.reverse()},t.prototype.showGroup=function(e){this.hiddenGroups=this.settingsGroups.filter(function(t,n){return n!==e-1});for(var t=0,n=this.settingsGroupTitleWidgets.filter(function(t,n){return n!==e-1});t<n.length;t++)n[t].toggleCollapse(!0);this._onHiddenAreasChanged.fire()},t.prototype.showSetting=function(e){var t=this.settingsGroupTitleWidgets.filter(function(t){return l.Range.containsRange(t.settingsGroup.range,e.range)})[0];t&&t.isCollapsed()&&(t.toggleCollapse(!1),this.hiddenGroups.splice(this.hiddenGroups.indexOf(t.settingsGroup),1),this._onHiddenAreasChanged.fire())},t.prototype.collapseAll=function(){this.editor.setPosition({lineNumber:1,column:1}),this.hiddenGroups=this.settingsGroups.slice();for(var e=0,t=this.settingsGroupTitleWidgets;e<t.length;e++)t[e].toggleCollapse(!0);this._onHiddenAreasChanged.fire()},t.prototype.onToggled=function(e,t){var n=this.hiddenGroups.indexOf(t);if(e){var i=this.editor.getPosition();t.range.startLineNumber<=i.lineNumber&&t.range.endLineNumber>=i.lineNumber&&this.editor.setPosition({lineNumber:t.range.startLineNumber-1,column:1}),this.hiddenGroups.push(t)}else this.hiddenGroups.splice(n,1);this._onHiddenAreasChanged.fire()},t.prototype.disposeWidgets=function(){this.hiddenGroups=[],this.disposables=o.dispose(this.disposables)},t.prototype.dispose=function(){this.disposeWidgets(),e.prototype.dispose.call(this)},t}(o.Disposable);M=v([y(1,d.IInstantiationService)],M),t.SettingsGroupTitleRenderer=M;var N=function(e){function t(t,n,i){var r=e.call(this)||this;return r.editor=t,r.hiddenAreasProviders=n,r.instantiationService=i,r}return h(t,e),t.prototype.render=function(){for(var e=[],t=0,n=this.hiddenAreasProviders;t<n.length;t++){var i=n[t];e.push.apply(e,i.hiddenAreas)}this.editor.setHiddenAreas(e)},t.prototype.dispose=function(){this.editor.setHiddenAreas([]),e.prototype.dispose.call(this)},t}(o.Disposable);N=v([y(2,d.IInstantiationService)],N),t.HiddenAreasRenderer=N;var F=function(e){function t(t,n){var i=e.call(this)||this;return i.editor=t,i.instantiationService=n,i.decorationIds=[],i.hiddenAreas=[],i}return h(t,e),t.prototype.render=function(e){var t=this,n=this.editor.getModel();this.hiddenAreas=[],this.editor.changeDecorations(function(e){t.decorationIds=e.deltaDecorations(t.decorationIds,[])}),e&&(this.hiddenAreas=this.computeHiddenRanges(e.filteredGroups,e.allGroups,n),this.editor.changeDecorations(function(i){t.decorationIds=i.deltaDecorations(t.decorationIds,e.matches.map(function(e){return t.createDecoration(e,n)}))}))},t.prototype.createDecoration=function(e,t){return{range:e,options:{stickiness:c.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"findMatch"}}},t.prototype.computeHiddenRanges=function(e,t,n){for(var i=[],r=this,o=0,s=t;o<s.length;o++)!function(t){var o=e.filter(function(e){return e.title===t.title})[0];if(o)for(var s=0,a=t.sections;s<a.length;s++){var c=a[s];c.titleRange&&(r.containsLine(c.titleRange.startLineNumber,o)||i.push(r.createCompleteRange(c.titleRange,n)));for(var l=0,u=c.settings;l<u.length;l++){var d=u[l];r.containsLine(d.range.startLineNumber,o)||i.push(r.createCompleteRange(d.range,n))}}else i.push({startLineNumber:t.range.startLineNumber-1,startColumn:n.getLineMinColumn(t.range.startLineNumber-1),endLineNumber:t.range.endLineNumber,endColumn:n.getLineMaxColumn(t.range.endLineNumber)})}(s[o]);return i},t.prototype.containsLine=function(e,t){if(t.titleRange&&e>=t.titleRange.startLineNumber&&e<=t.titleRange.endLineNumber)return!0;for(var n=0,i=t.sections;n<i.length;n++){var r=i[n];if(r.titleRange&&e>=r.titleRange.startLineNumber&&e<=r.titleRange.endLineNumber)return!0;for(var o=0,s=r.settings;o<s.length;o++){var a=s[o];if(e>=a.range.startLineNumber&&e<=a.range.endLineNumber)return!0}}return!1},t.prototype.createCompleteRange=function(e,t){return{startLineNumber:e.startLineNumber,startColumn:t.getLineMinColumn(e.startLineNumber),endLineNumber:e.endLineNumber,endColumn:t.getLineMaxColumn(e.endLineNumber)}},t.prototype.dispose=function(){var t=this;this.decorationIds&&(this.decorationIds=this.editor.changeDecorations(function(e){return e.deltaDecorations(t.decorationIds,[])})),e.prototype.dispose.call(this)},t}(o.Disposable);F=v([y(1,d.IInstantiationService)],F),t.FilteredMatchesRenderer=F;var W=function(e){function t(t,n){var i=e.call(this)||this;return i.editor=t,i.instantiationService=n,i.decorationIds=[],i}return h(t,e),t.prototype.render=function(e){var t=this,n=this.editor.getModel();this.editor.changeDecorations(function(e){t.decorationIds=e.deltaDecorations(t.decorationIds,[])}),e.length&&this.editor.changeDecorations(function(i){t.decorationIds=i.deltaDecorations(t.decorationIds,e.map(function(e){return t.createDecoration(e,n)}))})},t.prototype.createDecoration=function(e,n){return{range:e,options:t._FIND_MATCH}},t.prototype.dispose=function(){var t=this;this.decorationIds&&(this.decorationIds=this.editor.changeDecorations(function(e){return e.deltaDecorations(t.decorationIds,[])})),e.prototype.dispose.call(this)},t}(o.Disposable);W._FIND_MATCH=A.ModelDecorationOptions.register({stickiness:c.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"findMatch"}),W=v([y(1,d.IInstantiationService)],W),t.HighlightMatchesRenderer=W;var B=function(e){function t(t,n,i,o,a,c){var l=e.call(this)||this;return l.editor=t,l.masterSettingsModel=n,l.settingHighlighter=i,l.preferencesService=o,l.instantiationService=a,l.contextMenuService=c,l._onUpdateSetting=new s.Emitter,l.onUpdateSetting=l._onUpdateSetting.event,l.editPreferenceWidgetForCusorPosition=l._register(l.instantiationService.createInstance(b.EditPreferenceWidget,t)),l.editPreferenceWidgetForMouseMove=l._register(l.instantiationService.createInstance(b.EditPreferenceWidget,t)),l.toggleEditPreferencesForMouseMoveDelayer=new r.Delayer(75),l._register(l.editPreferenceWidgetForCusorPosition.onClick(function(e){return l.onEditSettingClicked(l.editPreferenceWidgetForCusorPosition,e)})),l._register(l.editPreferenceWidgetForMouseMove.onClick(function(e){return l.onEditSettingClicked(l.editPreferenceWidgetForMouseMove,e)})),l._register(l.editor.onDidChangeCursorPosition(function(e){return l.onPositionChanged(e)})),l._register(l.editor.onMouseMove(function(e){return l.onMouseMoved(e)})),l._register(l.editor.onDidChangeConfiguration(function(){return l.onConfigurationChanged()})),l}return h(t,e),t.prototype.render=function(e,t){this.editPreferenceWidgetForCusorPosition.hide(),this.editPreferenceWidgetForMouseMove.hide(),this.settingsGroups=e,this.associatedPreferencesModel=t;var n=this.getSettings(this.editor.getPosition().lineNumber);n.length&&this.showEditPreferencesWidget(this.editPreferenceWidgetForCusorPosition,n)},t.prototype.isDefaultSettings=function(){return this.masterSettingsModel instanceof f.DefaultSettingsEditorModel},t.prototype.onConfigurationChanged=function(){this.editor.getConfiguration().viewInfo.glyphMargin||(this.editPreferenceWidgetForCusorPosition.hide(),this.editPreferenceWidgetForMouseMove.hide())},t.prototype.onPositionChanged=function(e){this.editPreferenceWidgetForMouseMove.hide();var t=this.getSettings(e.position.lineNumber);t.length?this.showEditPreferencesWidget(this.editPreferenceWidgetForCusorPosition,t):this.editPreferenceWidgetForCusorPosition.hide()},t.prototype.onMouseMoved=function(e){var t=this,n=this.getEditPreferenceWidgetUnderMouse(e);n?this.onMouseOver(n):(this.settingHighlighter.clear(),this.toggleEditPreferencesForMouseMoveDelayer.trigger(function(){return t.toggleEidtPreferenceWidgetForMouseMove(e)}))},t.prototype.getEditPreferenceWidgetUnderMouse=function(e){if(e.target.type===g.MouseTargetType.GUTTER_GLYPH_MARGIN){var t=e.target.position.lineNumber;if(this.editPreferenceWidgetForMouseMove.getLine()===t&&this.editPreferenceWidgetForMouseMove.isVisible())return this.editPreferenceWidgetForMouseMove;if(this.editPreferenceWidgetForCusorPosition.getLine()===t&&this.editPreferenceWidgetForCusorPosition.isVisible())return this.editPreferenceWidgetForCusorPosition}return null},t.prototype.toggleEidtPreferenceWidgetForMouseMove=function(e){var t=e.target.position?this.getSettings(e.target.position.lineNumber):null;t&&t.length?this.showEditPreferencesWidget(this.editPreferenceWidgetForMouseMove,t):this.editPreferenceWidgetForMouseMove.hide()},t.prototype.showEditPreferencesWidget=function(e,t){var n=t[0].valueRange.startLineNumber;this.editor.getConfiguration().viewInfo.glyphMargin&&this.marginFreeFromOtherDecorations(n)&&(e.show(n,i.localize(4,null),t),(e===this.editPreferenceWidgetForCusorPosition?this.editPreferenceWidgetForMouseMove:this.editPreferenceWidgetForCusorPosition).hide())},t.prototype.marginFreeFromOtherDecorations=function(e){var t=this.editor.getLineDecorations(e);if(t)for(var n=0,i=t;n<i.length;n++){var r=i[n].options;if(r.glyphMarginClassName&&-1===r.glyphMarginClassName.indexOf(b.EditPreferenceWidget.GLYPH_MARGIN_CLASS_NAME))return!1}return!0},t.prototype.getSettings=function(e){var t=this,n=this.getConfigurationsMap();return this.getSettingsAtLineNumber(e).filter(function(e){var i=n[e.key];return i&&(t.isDefaultSettings()||"boolean"===i.type||i.enum)})},t.prototype.getSettingsAtLineNumber=function(e){for(var t=[],n=0,i=this.settingsGroups;n<i.length;n++){var r=i[n];if(r.range.startLineNumber>e)break;if(e>=r.range.startLineNumber&&e<=r.range.endLineNumber)for(var o=0,s=r.sections;o<s.length;o++)for(var a=0,c=s[o].settings;a<c.length;a++){var l=c[a];if(l.range.startLineNumber>e)break;if(e>=l.range.startLineNumber&&e<=l.range.endLineNumber)if(!this.isDefaultSettings()&&l.overrides.length)for(var u=0,d=l.overrides;u<d.length;u++){var h=d[u];e>=h.range.startLineNumber&&e<=h.range.endLineNumber&&t.push(h)}else t.push(l)}}return t},t.prototype.onMouseOver=function(e){this.settingHighlighter.highlight(e.preferences[0])},t.prototype.onEditSettingClicked=function(e,t){var i=this,r={x:t.event.posx+1,y:t.event.posy+10},o=1===this.getSettings(e.getLine()).length?this.getActions(e.preferences[0],this.getConfigurationsMap()[e.preferences[0].key]):e.preferences.map(function(e){return new m.ContextSubMenu(e.key,i.getActions(e,i.getConfigurationsMap()[e.key]))});this.contextMenuService.showContextMenu({getAnchor:function(){return r},getActions:function(){return n.TPromise.wrap(o)}})},t.prototype.getConfigurationsMap=function(){return a.Registry.as(u.Extensions.Configuration).getConfigurationProperties()},t.prototype.getActions=function(e,t){var n=this;return"boolean"===t.type?[{id:"truthyValue",label:"true",enabled:!0,run:function(){return n.updateSetting(e.key,!0,e)}},{id:"falsyValue",label:"false",enabled:!0,run:function(){return n.updateSetting(e.key,!1,e)}}]:t.enum?t.enum.map(function(t){return{id:t,label:JSON.stringify(t),enabled:!0,run:function(){return n.updateSetting(e.key,t,e)}}}):this.getDefaultActions(e)},t.prototype.getDefaultActions=function(e){var t=this,n=this.associatedPreferencesModel.getPreference(e.key);return this.isDefaultSettings()?[{id:"setDefaultValue",label:n?i.localize(5,null):i.localize(6,null),enabled:!0,run:function(){return t.updateSetting(e.key,e.value,e)}}]:[]},t.prototype.updateSetting=function(e,t,n){this._onUpdateSetting.fire({key:e,value:t,source:n})},t}(o.Disposable);B=v([y(3,p.IPreferencesService),y(4,d.IInstantiationService),y(5,m.IContextMenuService)],B);var V=function(e){function t(t,n,i,r){var o=e.call(this)||this;return o.editor=t,o.focusEventEmitter=n,o.clearFocusEventEmitter=i,o.fixedHighlighter=o._register(r.createInstance(_.RangeHighlightDecorations)),o.volatileHighlighter=o._register(r.createInstance(_.RangeHighlightDecorations)),o.fixedHighlighter.onHighlghtRemoved(function(){return o.clearFocusEventEmitter.fire(o.highlightedSetting)}),o.volatileHighlighter.onHighlghtRemoved(function(){return o.clearFocusEventEmitter.fire(o.highlightedSetting)}),o}return h(t,e),t.prototype.highlight=function(e,t){void 0===t&&(t=!1),this.highlightedSetting=e,this.volatileHighlighter.removeHighlightRange(),this.fixedHighlighter.removeHighlightRange(),(t?this.fixedHighlighter:this.volatileHighlighter).highlightRange({range:e.valueRange,resource:this.editor.getModel().uri},this.editor),this.editor.revealLinesInCenterIfOutsideViewport(e.valueRange.startLineNumber,e.valueRange.endLineNumber-1),this.focusEventEmitter.fire(e)},t.prototype.clear=function(e){void 0===e&&(e=!1),this.volatileHighlighter.removeHighlightRange(),e&&this.fixedHighlighter.removeHighlightRange(),this.clearFocusEventEmitter.fire(this.highlightedSetting)},t}(o.Disposable);V=v([y(3,d.IInstantiationService)],V);var z=function(e){function t(t,n,i,r){var o=e.call(this)||this;return o.editor=t,o.workspaceSettingsEditorModel=n,o.configurationService=i,o.markerService=r,o._register(o.configurationService.onDidUpdateConfiguration(function(){return o.render()})),o}return h(t,e),t.prototype.getMarkerMessage=function(e){switch(e){case"php.validate.executablePath":return i.localize(7,null);default:return i.localize(8,null)}},t.prototype.render=function(){var e=this.configurationService.getUnsupportedWorkspaceKeys();if(e.length){for(var t=[],n=0,i=e;n<i.length;n++){var r=i[n],o=this.workspaceSettingsEditorModel.getPreference(r);o&&t.push({severity:k.Severity.Warning,startLineNumber:o.keyRange.startLineNumber,startColumn:o.keyRange.startColumn,endLineNumber:o.keyRange.endLineNumber,endColumn:o.keyRange.endColumn,message:this.getMarkerMessage(r)})}t.length?this.markerService.changeOne("preferencesEditor",this.workspaceSettingsEditorModel.uri,t):this.markerService.remove("preferencesEditor",[this.workspaceSettingsEditorModel.uri])}},t.prototype.dispose=function(){this.markerService.remove("preferencesEditor",[this.workspaceSettingsEditorModel.uri]),e.prototype.dispose.call(this)},t}(o.Disposable);z=v([y(2,T.IWorkspaceConfigurationService),y(3,I.IMarkerService)],z)}),define(u[304],d([1,0,4,645,9,18,40,187,5,15,30,98,159,241,182,6,126,286,68,207,17,25,19,13,44,42,31,146,22,71,65,39,151,91,1209,51,45,347,426,235,72,55,29]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A,L,P,D,O,R,M,N,F,W,B,V,z,H,K,U,j){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.getTypeId=function(){return t.ID},t.prototype.getTitle=function(e){return this.master.getTitle(e)},t}(u.SideBySideEditorInput);G.ID="workbench.editorinputs.preferencesEditorInput",t.PreferencesEditorInput=G;var q=function(e){function t(t,n){return e.call(this,i.localize(0,null),"",t,n)||this}return h(t,e),t.prototype.getTypeId=function(){return t.ID},t.prototype.matches=function(n){return!!e.prototype.matches.call(this,n)&&n instanceof t},t}(p.ResourceEditorInput);q.ID="workbench.editorinputs.defaultpreferences",q=v([y(1,D.ITextModelService)],q),t.DefaultPreferencesEditorInput=q;var $=function(e){function t(n,i,r,s,a,c,l){var u=e.call(this,t.ID,r,l)||this;return u.preferencesService=n,u.environmentService=i,u.editorService=s,u.contextKeyService=a,u.instantiationService=c,u.latestEmptyFilters=[],u.defaultSettingsEditorContextKey=b.CONTEXT_SETTINGS_EDITOR.bindTo(u.contextKeyService),u.focusSettingsContextKey=b.CONTEXT_SETTINGS_SEARCH_FOCUS.bindTo(u.contextKeyService),u.delayedFilterLogging=new o.Delayer(1e3),u}return h(t,e),t.prototype.createEditor=function(e){var t=this,n=e.getHTMLElement();r.addClass(n,"preferences-editor"),this.headerContainer=r.append(n,r.$(".preferences-header")),this.searchWidget=this._register(this.instantiationService.createInstance(E.SearchWidget,this.headerContainer,{ariaLabel:i.localize(1,null),placeholder:i.localize(2,null),navigateByArrows:!0,navigateByEnter:!0,focusKey:this.focusSettingsContextKey})),this._register(this.searchWidget.onDidChange(function(e){return t.filterPreferences(e.trim())})),this._register(this.searchWidget.onNavigate(function(e){return t.preferencesRenderers.focusNextPreference(!e)})),this.settingsTabsWidget=this._register(this.instantiationService.createInstance(E.SettingsTabsWidget,this.headerContainer)),this._register(this.settingsTabsWidget.onSwitch(function(){return t.switchSettings()}));var o=r.append(n,r.$(".preferences-editors-container"));this.sideBySidePreferencesWidget=this._register(this.instantiationService.createInstance(Q,o)),this.preferencesRenderers=this._register(new X)},t.prototype.setInput=function(t,n){var i=this;this.defaultSettingsEditorContextKey.set(!0);var r=this.input;return e.prototype.setInput.call(this,t,n).then(function(){return i.updateInput(r,t,n)})},t.prototype.layout=function(e){r.toggleClass(this.headerContainer,"vertical-layout",e.width<700),this.searchWidget.layout(e);var t=r.getTotalHeight(this.headerContainer);this.sideBySidePreferencesWidget.layout(new s.Dimension(e.width,e.height-t))},t.prototype.getControl=function(){return this.sideBySidePreferencesWidget.getControl()},t.prototype.focus=function(){this.searchWidget.focus()},t.prototype.focusSearch=function(e){e&&this.searchWidget.setValue(e),this.searchWidget.focus()},t.prototype.focusSettingsFileEditor=function(){this.sideBySidePreferencesWidget&&this.sideBySidePreferencesWidget.focus()},t.prototype.clearInput=function(){this.defaultSettingsEditorContextKey.set(!1),this.sideBySidePreferencesWidget.clearInput(),e.prototype.clearInput.call(this)},t.prototype.setEditorVisible=function(t,n){this.sideBySidePreferencesWidget.setEditorVisible(t,n),e.prototype.setEditorVisible.call(this,t,n)},t.prototype.changePosition=function(t){this.sideBySidePreferencesWidget.changePosition(t),e.prototype.changePosition.call(this,t)},t.prototype.updateInput=function(e,t,n){var i=this,r=u.toResource(t.master);return this.settingsTabsWidget.show(r.toString()===this.preferencesService.userSettingsResource.toString()?O.ConfigurationTarget.USER:O.ConfigurationTarget.WORKSPACE),this.sideBySidePreferencesWidget.setInput(t.details,t.master,n).then(function(e){var t=e.defaultPreferencesRenderer,n=e.editablePreferencesRenderer;i.preferencesRenderers.defaultPreferencesRenderer=t,i.preferencesRenderers.editablePreferencesRenderer=n,i.filterPreferences(i.searchWidget.getValue())})},t.prototype.switchSettings=function(){var e=this;this.editorService.getActiveEditor()!==this&&this.focus(),(this.input.isDirty()?this.input.save():n.TPromise.as(!0)).done(function(t){return e.preferencesService.switchSettings()})},t.prototype.filterPreferences=function(e){var t=this,n=this.preferencesRenderers.filterPreferences(e),r=e?this.showSearchResultsMessage(n):i.localize(3,null,n);this.searchWidget.showMessage(r,n),0===n&&this.latestEmptyFilters.push(e),this.delayedFilterLogging.trigger(function(){return t.reportFilteringUsed(e)})},t.prototype.showSearchResultsMessage=function(e){return 0===e?i.localize(4,null):1===e?i.localize(5,null):i.localize(6,null,e)},t.prototype.reportFilteringUsed=function(e){if(e){var t={filter:e,emptyFilters:this.getLatestEmptyFiltersForTelemetry()};this.latestEmptyFilters=[],this.telemetryService.publicLog("defaultSettings.filter",t)}},t.prototype.getLatestEmptyFiltersForTelemetry=function(){var e=0;return this.latestEmptyFilters.filter(function(t){return(e+=t.length)<=8192})},t}(d.BaseEditor);$.ID="workbench.editor.preferencesEditor",$=v([y(0,b.IPreferencesService),y(1,R.IEnvironmentService),y(2,I.ITelemetryService),y(3,P.IWorkbenchEditorService),y(4,C.IContextKeyService),y(5,m.IInstantiationService),y(6,T.IThemeService)],$),t.PreferencesEditor=$;var Y=function(){function e(e){this.iterator=new a.ArrayNavigator(e)}return e.prototype.next=function(){return this.iterator.next()||this.iterator.first()},e.prototype.previous=function(){return this.iterator.previous()||this.iterator.last()},e.prototype.parent=function(){return this.iterator.parent()},e.prototype.first=function(){return this.iterator.first()},e.prototype.last=function(){return this.iterator.last()},e.prototype.current=function(){return this.iterator.current()},e}(),X=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._disposables=[],t}return h(t,e),Object.defineProperty(t.prototype,"defaultPreferencesRenderer",{get:function(){return this._defaultPreferencesRenderer},set:function(e){var t=this;this._defaultPreferencesRenderer!==e&&(this._defaultPreferencesRenderer=e,this._disposables=c.dispose(this._disposables),this._defaultPreferencesRenderer.onUpdatePreference(function(e){var n=e.key,i=e.value,r=e.source;return t._updatePreference(n,i,r,t._editablePreferencesRenderer)},this,this._disposables),this._defaultPreferencesRenderer.onFocusPreference(function(e){return t._focusPreference(e,t._editablePreferencesRenderer)},this,this._disposables),this._defaultPreferencesRenderer.onClearFocusPreference(function(e){return t._clearFocus(e,t._editablePreferencesRenderer)},this,this._disposables))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editablePreferencesRenderer",{set:function(e){this._editablePreferencesRenderer=e},enumerable:!0,configurable:!0}),t.prototype.filterPreferences=function(e){var t=e?this._defaultPreferencesRenderer.preferencesModel.filterSettings(e):null,n=e?this._editablePreferencesRenderer.preferencesModel.filterSettings(e):null,i=this._consolidateSettings(n?n.filteredGroups:this._editablePreferencesRenderer.preferencesModel.settingsGroups,t?t.filteredGroups:this._defaultPreferencesRenderer.preferencesModel.settingsGroups);return this._settingsNavigator=new Y(e?i:[]),this._filterPreferences(t,this._defaultPreferencesRenderer),this._filterPreferences(n,this._editablePreferencesRenderer),i.length},t.prototype.focusNextPreference=function(e){void 0===e&&(e=!0);var t=e?this._settingsNavigator.next():this._settingsNavigator.previous();this._focusPreference(t,this._defaultPreferencesRenderer),this._focusPreference(t,this._editablePreferencesRenderer)},t.prototype._filterPreferences=function(e,t){t&&t.filterPreferences(e)},t.prototype._focusPreference=function(e,t){e&&t&&t.focusPreference(e)},t.prototype._clearFocus=function(e,t){e&&t&&t.clearFocus(e)},t.prototype._updatePreference=function(e,t,n,i){i&&i.updatePreference(e,t,n)},t.prototype._consolidateSettings=function(e,t){var n=this._flatten(e),i=this._flatten(t).filter(function(e){return!n.some(function(t){return t.key===e.key})});return n.concat(i)},t.prototype._flatten=function(e){for(var t=[],n=0,i=e;n<i.length;n++)for(var r=0,o=i[n].sections;r<o.length;r++){var s=o[r];t.push.apply(t,s.settings)}return t},t.prototype.dispose=function(){c.dispose(this._disposables),e.prototype.dispose.call(this)},t}(c.Disposable),Q=function(e){function t(t,n,i){var r=e.call(this)||this;return r.instantiationService=n,r.themeService=i,r.create(t),r}return h(t,e),t.prototype.create=function(e){var t=this;r.addClass(e,"side-by-side-preferences-editor"),this.createSash(e),this.defaultPreferencesEditorContainer=r.append(e,r.$(".default-preferences-editor-container")),this.defaultPreferencesEditorContainer.style.position="absolute",this.defaultPreferencesEditor=this.instantiationService.createInstance(Z),this.defaultPreferencesEditor.create(new s.Builder(this.defaultPreferencesEditorContainer)),this.defaultPreferencesEditor.setVisible(!0),this.editablePreferencesEditorContainer=r.append(e,r.$(".editable-preferences-editor-container")),this.editablePreferencesEditorContainer.style.position="absolute",this._register(U.attachStylerCallback(this.themeService,{scrollbarShadow:j.scrollbarShadow},function(e){var n=e.scrollbarShadow?e.scrollbarShadow.toString():null;t.editablePreferencesEditorContainer.style.boxShadow=n?"-6px 0 5px -5px "+n:null}))},t.prototype.setInput=function(e,t,i){var r=this;return this.getOrCreateEditablePreferencesEditor(t).then(function(){return r.dolayout(r.sash.getVerticalSashLeft()),n.TPromise.join([r.defaultPreferencesEditor.updateInput(e,i,u.toResource(t)),r.editablePreferencesEditor.setInput(t,i)]).then(function(){return{defaultPreferencesRenderer:r.defaultPreferencesEditor.getControl().getContribution(te.ID).getPreferencesRenderer(),editablePreferencesRenderer:r.editablePreferencesEditor.getControl().getContribution(ne.ID).getPreferencesRenderer()}})})},t.prototype.layout=function(e){this.dimension=e,this.sash.setDimenesion(this.dimension)},t.prototype.focus=function(){this.editablePreferencesEditor&&this.editablePreferencesEditor.focus()},t.prototype.getControl=function(){return this.editablePreferencesEditor?this.editablePreferencesEditor.getControl():null},t.prototype.clearInput=function(){this.editablePreferencesEditor&&this.editablePreferencesEditor.clearInput()},t.prototype.setEditorVisible=function(e,t){this.editablePreferencesEditor&&this.editablePreferencesEditor.setVisible(e,t)},t.prototype.changePosition=function(e){this.editablePreferencesEditor&&this.editablePreferencesEditor.changePosition(e)},t.prototype.getOrCreateEditablePreferencesEditor=function(e){var t=this;if(this.editablePreferencesEditor)return n.TPromise.as(this.editablePreferencesEditor);var i=l.Registry.as(u.Extensions.Editors).getEditor(e);return this.instantiationService.createInstance(i).then(function(e){return t.editablePreferencesEditor=e,t.editablePreferencesEditor.create(new s.Builder(t.editablePreferencesEditorContainer)),t.editablePreferencesEditor.setVisible(!0),e})},t.prototype.createSash=function(e){var t=this;this.sash=this._register(new M.VSash(e,220)),this._register(this.sash.onPositionChange(function(e){return t.dolayout(e)}))},t.prototype.dolayout=function(e){if(this.editablePreferencesEditor&&this.dimension){var t=this.dimension.width-e,n=this.dimension.width-t;this.defaultPreferencesEditorContainer.style.width=n+"px",this.defaultPreferencesEditorContainer.style.height=this.dimension.height+"px",this.defaultPreferencesEditorContainer.style.left="0px",this.editablePreferencesEditorContainer.style.width=t+"px",this.editablePreferencesEditorContainer.style.height=this.dimension.height+"px",this.editablePreferencesEditorContainer.style.left=e+"px",this.defaultPreferencesEditor.layout(new s.Dimension(n,this.dimension.height)),this.editablePreferencesEditor.layout(new s.Dimension(t,this.dimension.height))}},t.prototype.disposeEditors=function(){this.defaultPreferencesEditor&&(this.defaultPreferencesEditor.dispose(),this.defaultPreferencesEditor=null),this.editablePreferencesEditor&&(this.editablePreferencesEditor.dispose(),this.editablePreferencesEditor=null)},t.prototype.dispose=function(){this.disposeEditors(),e.prototype.dispose.call(this)},t}(N.Widget);Q=v([y(1,m.IInstantiationService),y(2,T.IThemeService)],Q);var Z=function(e){function t(n,i,r,o,s,a,c,l,u,d,h){var p=e.call(this,t.ID,n,r,o,s,a,u,d,h)||this;return p.editorService=i,p.preferencesService=c,p.modelService=l,p}return h(t,e),t.prototype.createEditorControl=function(e,t){return this.instantiationService.createInstance(J,e.getHTMLElement(),t)},t.prototype.getConfigurationOverrides=function(){var t=e.prototype.getConfigurationOverrides.call(this);return t.readOnly=!0,this.input&&(t.lineNumbers="off",t.renderLineHighlight="none",t.scrollBeyondLastLine=!1,t.folding=!1,t.renderWhitespace="none",t.wordWrap="on",t.renderIndentGuides=!1,t.rulers=[],t.glyphMargin=!0,t.minimap={enabled:!1}),t},t.prototype.updateInput=function(e,t,i){var r=this;return this.setInput(e,t).then(function(){return r.input.resolve().then(function(e){return n.TPromise.join([e.load(),r.preferencesService.createPreferencesEditorModel(i)])}).then(function(e){var t=e[0],n=e[1];return r.getControl().setModels(t.textEditorModel,n)})})},t.prototype.layout=function(e){this.getControl().layout(e)},t.prototype.clearInput=function(){this.getControl().clearModels(),e.prototype.clearInput.call(this)},t.prototype.getAriaLabel=function(){return i.localize(7,null)},t}(f.BaseTextEditor);Z.ID="workbench.editor.defaultPreferences",Z=v([y(0,I.ITelemetryService),y(1,P.IWorkbenchEditorService),y(2,m.IInstantiationService),y(3,A.IStorageService),y(4,L.ITextResourceConfigurationService),y(5,T.IThemeService),y(6,b.IPreferencesService),y(7,k.IModelService),y(8,x.IModeService),y(9,W.ITextFileService),y(10,B.IEditorGroupService)],Z),t.DefaultPreferencesEditor=Z;var J=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype._getContributions=function(){var t=e.prototype._getContributions.call(this),n=[V.FoldingController.prototype,H.SelectionHighlighter.prototype,z.FindController.prototype];return(t=t.filter(function(e){return-1===n.indexOf(e.prototype)})).push(te),t},t.prototype.setModels=function(t,n){this.settingsModel=n,e.prototype.setModel.call(this,t);var i=this.getContribution(te.ID).getPreferencesRenderer();i&&(i.associatedPreferencesModel=this.settingsModel)},t.prototype.clearModels=function(){this.settingsModel&&(this.settingsModel.dispose(),this.settingsModel=null),e.prototype.setModel.call(this,null)},t}(g.CodeEditor),ee=function(e){function t(t,n,i){var r=e.call(this)||this;return r.editor=t,r.instantiationService=n,r.preferencesService=i,r._register(t.onDidChangeModel(function(){return r.onModelChanged()})),r}return h(t,e),t.prototype.onModelChanged=function(){var e=this,t=this.editor.getModel();this.disposePreferencesRenderer(),t&&this.createPreferencesRenderer().then(function(t){e.preferencesRenderer=t,e.preferencesRenderer&&e.preferencesRenderer.render()})},t.prototype.getPreferencesRenderer=function(){return this.preferencesRenderer},t.prototype.disposePreferencesRenderer=function(){this.preferencesRenderer&&(this.preferencesRenderer.dispose(),this.preferencesRenderer=null)},t.prototype.dispose=function(){this.disposePreferencesRenderer(),e.prototype.dispose.call(this)},t}(c.Disposable);ee=v([y(1,m.IInstantiationService),y(2,b.IPreferencesService)],ee),t.PreferencesEditorContribution=ee;var te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.createPreferencesRenderer=function(){var e=this;return this.preferencesService.createPreferencesEditorModel(this.editor.getModel().uri).then(function(t){return t instanceof S.DefaultSettingsEditorModel?e.instantiationService.createInstance(F.DefaultSettingsRenderer,e.editor,t,e.editor.settingsModel):null})},t.prototype.getId=function(){return t.ID},t}(ee);te.ID="editor.contrib.defaultsettings",t.DefaultSettingsEditorContribution=te;var ne=se=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.getId=function(){return se.ID},t.prototype.createPreferencesRenderer=function(){var e=this;return n.TPromise.join([this.preferencesService.createPreferencesEditorModel(this.preferencesService.defaultSettingsResource),this.preferencesService.createPreferencesEditorModel(this.editor.getModel().uri)]).then(function(t){var n=t[0],i=t[1];return i instanceof S.SettingsEditorModel?O.ConfigurationTarget.USER===i.configurationTarget?e.instantiationService.createInstance(F.UserSettingsRenderer,e.editor,i,n):e.instantiationService.createInstance(F.WorkspaceSettingsRenderer,e.editor,i,n):null})},t}(ee);ne.ID="editor.contrib.settings",ne=se=v([_.editorContribution],ne),t.SettingsEditorContribution=ne;var ie=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.getPreferencesEditor=function(e){var t=e.get(P.IWorkbenchEditorService).getActiveEditor();return t instanceof $?t:null},t}(w.Command),re=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.runCommand=function(e,t){var n=this.getPreferencesEditor(e);n&&n.focusSearch()},t}(ie))({id:b.SETTINGS_EDITOR_COMMAND_SEARCH,precondition:C.ContextKeyExpr.and(b.CONTEXT_SETTINGS_EDITOR),kbOpts:{primary:2084}});K.KeybindingsRegistry.registerCommandAndKeybindingRule(re.toCommandAndKeybindingRule(K.KeybindingsRegistry.WEIGHT.editorContrib()));var oe=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.runCommand=function(e,t){var n=this.getPreferencesEditor(e);n&&n.focusSettingsFileEditor()},t}(ie))({id:b.SETTINGS_EDITOR_COMMAND_FOCUS_FILE,precondition:b.CONTEXT_SETTINGS_SEARCH_FOCUS,kbOpts:{primary:18}});K.KeybindingsRegistry.registerCommandAndKeybindingRule(oe.toCommandAndKeybindingRule(K.KeybindingsRegistry.WEIGHT.editorContrib()));var se}),define(u[1211],d([1,0,687,4,36,26,16,21,9,5,81,40,24,278,12,240,135,70,15,69,35,116,20,142,19,23,43,59,32,72,154,31,109,119,42,44,123,50,218,84,54,78,209,47,22,226,65,27,51,125,88,120,239,170,213,1037,1048,1047,1045,1046,393,39,74,13,1043,1044,950,1041]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,b,S,_,E,C,w,I,T,k,x,A,L,P,D,O,R,M,N,F,W,B,V,z,H,K,U,j,G,q,$,Y,X,Q,Z,J,ee,te,ne,ie,re,oe,se,ae,ce,le,ue,de,he,pe,fe,ge){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var ve=d.$,me=n.localize(0,null),ye=function(e){function t(t,n,i,r,o,s,a,c,l,u,d,h,p){var f=e.call(this,t,n)||this;return f.taskService=i,f.configurationService=r,f.editorService=o,f.fileService=s,f.contextService=a,f.outputService=c,f.messageService=l,f.quickOpenService=u,f.environmentService=d,f.configurationResolverService=h,f.extensionService=p,f}return h(t,e),t.prototype.run=function(e){var t=this;if(!this.contextService.hasWorkspace())return this.messageService.show(r.default.Info,n.localize(1,null)),i.TPromise.as(void 0);var o=!(!e||!e.ctrlKey&&!e.metaKey),s=!1;return this.fileService.resolveFile(this.contextService.toResource(".vscode/tasks.json")).then(function(e){return e},function(e){return t.quickOpenService.pick(oe.templates,{placeHolder:n.localize(2,null)}).then(function(e){if(e){var o;if(e.autoDetect){var a=t.outputService.getChannel(Ie.OutputChannelId);a.show(!0),a.append(n.localize(3,null,e.id)+"\n"),o=new le.ProcessRunnerDetector(t.fileService,t.contextService,t.configurationResolverService).detect(!1,e.id).then(function(i){var o=i.config;if(i.stderr&&i.stderr.length>0){if(i.stderr.forEach(function(e){a.append(e+"\n")}),o&&(!o.tasks||0===o.tasks.length))return t.messageService.show(r.default.Warning,n.localize(4,null)),e.content;t.messageService.show(r.default.Warning,n.localize(5,null))}if(o){i.stdout&&i.stdout.length>0&&i.stdout.forEach(function(e){return a.append(e+"\n")});var s=JSON.stringify(o,null,"\t");return s=["{","\t// See https://go.microsoft.com/fwlink/?LinkId=733558","\t// for the documentation about the tasks.json format"].join("\n")+s.substr(1)}return e.content})}else o=i.TPromise.as(e.content);return o.then(function(e){var n=t.configurationService.getConfiguration();return n.editor.insertSpaces&&(e=e.replace(/(\n)(\t+)/g,function(e,t,i){return t+g.repeat(" ",i.length*n.editor.tabSize)})),s=!0,t.fileService.createFile(t.contextService.toResource(".vscode/tasks.json"),e)})}})}).then(function(e){if(e)return t.editorService.openEditor({resource:e.resource,options:{forceOpen:!0,pinned:s}},o)},function(e){throw new Error(n.localize(6,null))})},t}(a.Action),be=function(e){function t(t,n,i,r,o,s,a,c,l,u,d,h,p){return e.call(this,t,n,i,r,o,s,a,c,l,u,d,h,p)||this}return h(t,e),t}(ye);be.ID="workbench.action.tasks.configureTaskRunner",be.TEXT=n.localize(7,null),be=v([y(2,re.ITaskService),y(3,A.IConfigurationService),y(4,$.IWorkbenchEditorService),y(5,L.IFileService),y(6,Q.IWorkspaceContextService),y(7,J.IOutputService),y(8,T.IMessageService),y(9,U.IQuickOpenService),y(10,de.IEnvironmentService),y(11,Y.IConfigurationResolverService),y(12,P.IExtensionService)],be);var Se=function(e){function t(t,n,i,r,o,s,a,c,l,u,d,h,p){return e.call(this,t,n,i,r,o,s,a,c,l,u,d,h,p)||this}return h(t,e),t}(ye);Se.ID="workbench.action.tasks.configureBuildTask",Se.TEXT=n.localize(8,null),Se=v([y(2,re.ITaskService),y(3,A.IConfigurationService),y(4,$.IWorkbenchEditorService),y(5,L.IFileService),y(6,Q.IWorkspaceContextService),y(7,J.IOutputService),y(8,T.IMessageService),y(9,U.IQuickOpenService),y(10,de.IEnvironmentService),y(11,Y.IConfigurationResolverService),y(12,P.IExtensionService)],Se);var _e=function(e){function t(){return e.call(this,t.ID,t.TEXT)||this}return h(t,e),t.prototype.run=function(){return this.closeFunction&&this.closeFunction(),i.TPromise.as(void 0)},t}(a.Action);_e.ID="workbench.action.build.closeMessage",_e.TEXT=n.localize(9,null);var Ee=function(e){function t(n){var i=e.call(this,t.ID,t.TEXT)||this;return i.terminalService=n,i}return h(t,e),t.prototype.run=function(){return this.terminalService.showPanel(),i.TPromise.as(void 0)},t}(a.Action);Ee.ID="workbench.action.build.viewTerminal",Ee.TEXT=n.localize(10,null),Ee=v([y(0,te.ITerminalService)],Ee);var Ce=function(e){function t(t,n,i,r,o,s,a){var c=e.call(this,s)||this;return c.panelService=t,c.markerService=n,c.outputService=i,c.taskService=r,c.partService=o,c.contextService=a,c.activeCount=0,c.icons=[],c}return h(t,e),t.prototype.updateStyles=function(){var t=this;e.prototype.updateStyles.call(this),this.icons.forEach(function(e){e.style.backgroundColor=t.getColor(t.contextService.hasWorkspace()?he.STATUS_BAR_FOREGROUND:he.STATUS_BAR_NO_FOLDER_FOREGROUND)})},t.prototype.render=function(e){var i=this,r=[],o=document.createElement("div"),s=document.createElement("div"),a=document.createElement("a"),u=document.createElement("div"),d=document.createElement("div"),h=document.createElement("div"),p=document.createElement("div"),f=document.createElement("div"),g=document.createElement("div");c.addClass(o,"task-statusbar-item"),c.addClass(s,"task-statusbar-item-progress"),o.appendChild(s),s.innerHTML=t.progressChars[0],ve(s).hide(),c.addClass(a,"task-statusbar-item-label"),o.appendChild(a),o.title=n.localize(11,null),c.addClass(u,"task-statusbar-item-label-error"),c.addClass(u,"mask-icon"),a.appendChild(u),this.icons.push(u),c.addClass(p,"task-statusbar-item-label-counter"),p.innerHTML="0",a.appendChild(p),c.addClass(d,"task-statusbar-item-label-warning"),c.addClass(d,"mask-icon"),a.appendChild(d),this.icons.push(d),c.addClass(f,"task-statusbar-item-label-counter"),f.innerHTML="0",a.appendChild(f),c.addClass(h,"task-statusbar-item-label-info"),c.addClass(h,"mask-icon"),a.appendChild(h),this.icons.push(h),ve(h).hide(),c.addClass(g,"task-statusbar-item-label-counter"),a.appendChild(g),ve(g).hide(),r.push(c.addDisposableListener(a,"click",function(e){var t=i.panelService.getActivePanel();t&&t.getId()===G.default.MARKERS_PANEL_ID?i.partService.setPanelHidden(!0):i.panelService.openPanel(G.default.MARKERS_PANEL_ID,!0)}));var v=function(e,t,n){return n>0?(e.innerHTML=n.toString(),ve(e).show(),ve(t).show(),!0):(ve(e).hide(),ve(t).hide(),!1)},m=n.localize(12,null),y=function(e){p.innerHTML=e.errors<100?e.errors.toString():m,f.innerHTML=e.warnings<100?e.warnings.toString():m,v(g,h,e.infos)};return this.markerService.onMarkerChanged(function(e){y(i.markerService.getStatistics())}),r.push(this.taskService.addListener(re.TaskServiceEvents.Active,function(e){if((!i.taskService.inTerminal()||e.group===ie.TaskGroup.Build)&&(i.activeCount++,1===i.activeCount)){var n=1,r=t.progressChars;s.innerHTML=r[0],i.intervalToken=setInterval(function(){s.innerHTML=r[n],++n>=r.length&&(n=0)},50),ve(s).show()}})),r.push(this.taskService.addListener(re.TaskServiceEvents.Inactive,function(e){i.taskService.inTerminal()&&e.group!==ie.TaskGroup.Build||i.activeCount>0&&(i.activeCount--,0===i.activeCount&&(ve(s).hide(),i.intervalToken&&(clearInterval(i.intervalToken),i.intervalToken=null)))})),r.push(this.taskService.addListener(re.TaskServiceEvents.Terminated,function(e){i.taskService.inTerminal()&&e.group!==ie.TaskGroup.Build||0!==i.activeCount&&(ve(s).hide(),i.intervalToken&&(clearInterval(i.intervalToken),i.intervalToken=null),i.activeCount=0)})),e.appendChild(o),this.updateStyles(),{dispose:function(){r=l.dispose(r)}}},t}(he.Themable);Ce.progressChars="|/-\\",Ce=v([y(0,j.IPanelService),y(1,k.IMarkerService),y(2,J.IOutputService),y(3,re.ITaskService),y(4,q.IPartService),y(5,pe.IThemeService),y(6,Q.IWorkspaceContextService)],Ce);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}h(t,e),t.prototype.run=function(e){return{kind:ne.TaskExecuteKind.Started,promise:i.TPromise.as({})}},t.prototype.isActive=function(){return i.TPromise.as(!1)},t.prototype.isActiveSync=function(){return!1},t.prototype.getActiveTasks=function(){return[]},t.prototype.canAutoTerminate=function(){return!0},t.prototype.terminate=function(e){return i.TPromise.as({success:!0,task:void 0})},t.prototype.terminateAll=function(){return i.TPromise.as([])}}(u.EventEmitter);var we=function(){function e(e){this._outputChannel=e,this._validationStatus=new b.ValidationStatus}return e.prototype.info=function(e){this._validationStatus.state=b.ValidationState.Info,this._outputChannel.append(e+"\n")},e.prototype.warn=function(e){this._validationStatus.state=b.ValidationState.Warning,this._outputChannel.append(e+"\n")},e.prototype.error=function(e){this._validationStatus.state=b.ValidationState.Error,this._outputChannel.append(e+"\n")},e.prototype.fatal=function(e){this._validationStatus.state=b.ValidationState.Fatal,this._outputChannel.append(e+"\n")},Object.defineProperty(e.prototype,"status",{get:function(){return this._validationStatus},enumerable:!0,configurable:!0}),e.prototype.clearOutput=function(){this._outputChannel.clear()},e}(),Ie=function(e){function t(i,o,s,a,c,l,u,d,h,p,f,g,v,m,y,b,S,_,E,C,w,I){var T=e.call(this)||this;return T.environmentService=b,T.configurationResolverService=S,T.terminalService=_,T.workbenchEditorService=E,T.storageService=C,T.progressService=w,T.openerService=I,T.modeService=i,T.configurationService=o,T.configurationEditingService=s,T.markerService=a,T.outputService=c,T.messageService=l,T.editorService=u,T.fileService=d,T.contextService=h,T.telemetryService=p,T.textFileService=f,T.modelService=v,T.extensionService=m,T.quickOpenService=y,T._configHasErrors=!1,T._workspaceTasksPromise=void 0,T._taskSystemListeners=[],T._outputChannel=T.outputService.getChannel(t.OutputChannelId),T._providers=new Map,T.configurationService.onDidUpdateConfiguration(function(){(T._taskSystem||T._workspaceTasksPromise)&&(T.updateWorkspaceTasks(),T._taskSystem&&(T._taskSystem instanceof ce.TerminalTaskSystem?ie.ExecutionEngine.Terminal:T._taskSystem instanceof ae.ProcessTaskSystem?ie.ExecutionEngine.Process:ie.ExecutionEngine._default)!==T.getExecutionEngine()&&T.messageService.show(r.default.Info,n.localize(14,null)))}),g.onWillShutdown(function(e){return e.veto(T.beforeShutdown())}),T.registerCommands(),T}return h(t,e),t.prototype.registerCommands=function(){var e=this;D.CommandsRegistry.registerCommand("workbench.action.tasks.runTask",function(t,n){e.runTaskCommand(t,n)}),D.CommandsRegistry.registerCommand("workbench.action.tasks.restartTask",function(t,n){e.runRestartTaskCommand(t,n)}),D.CommandsRegistry.registerCommand("workbench.action.tasks.terminate",function(t,n){e.runTerminateCommand()}),D.CommandsRegistry.registerCommand("workbench.action.tasks.showLog",function(){e.canRunCommand()&&e.showOutput()}),D.CommandsRegistry.registerCommand("workbench.action.tasks.build",function(){e.canRunCommand()&&e.runBuildCommand()}),O.KeybindingsRegistry.registerKeybindingRule({id:"workbench.action.tasks.build",weight:O.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:void 0,primary:3104}),D.CommandsRegistry.registerCommand("workbench.action.tasks.test",function(){e.canRunCommand()&&e.runTestCommand()}),D.CommandsRegistry.registerCommand("workbench.action.tasks.configureDefaultBuildTask",function(){e.runConfigureDefaultBuildTask()}),D.CommandsRegistry.registerCommand("workbench.action.tasks.configureDefaultTestTask",function(){e.runConfigureDefaultTestTask()})},t.prototype.showOutput=function(){this._outputChannel.show(!0)},t.prototype.disposeTaskSystemListeners=function(){this._taskSystemListeners=l.dispose(this._taskSystemListeners)},t.prototype.registerTaskProvider=function(e,t){t&&this._providers.set(e,t)},t.prototype.unregisterTaskProvider=function(e){return this._providers.delete(e)},t.prototype.getTask=function(e){var t=this;return this.getTaskSets().then(function(n){return t.createResolver(n).resolve(e)})},t.prototype.tasks=function(){return this.getTaskSets().then(function(e){for(var t=[],n=0,i=e;n<i.length;n++){var r=i[n];t.push.apply(t,r.tasks)}return t})},t.prototype.isActive=function(){return this._taskSystem?this._taskSystem.isActive():i.TPromise.as(!1)},t.prototype.getActiveTasks=function(){return this._taskSystem?i.TPromise.as(this._taskSystem.getActiveTasks()):i.TPromise.as([])},t.prototype.getRecentlyUsedTasks=function(){if(this._recentlyUsedTasks)return this._recentlyUsedTasks;this._recentlyUsedTasks=new _.LinkedMap;var e=this.storageService.get(t.RecentlyUsedTasks_Key,M.StorageScope.WORKSPACE);if(e)try{var n=JSON.parse(e);if(Array.isArray(n))for(var i=0,r=n;i<r.length;i++){var o=r[i];this._recentlyUsedTasks.set(o,o)}}catch(e){}return this._recentlyUsedTasks},t.prototype.saveRecentlyUsedTasks=function(){if(this._recentlyUsedTasks){var e=this._recentlyUsedTasks.values();e.length>30&&(e=e.slice(0,30)),this.storageService.store(t.RecentlyUsedTasks_Key,JSON.stringify(e),M.StorageScope.WORKSPACE)}},t.prototype.openDocumentation=function(){this.openerService.open(s.default.parse("https://go.microsoft.com/fwlink/?LinkId=733558"))},t.prototype.build=function(){var e=this;return this.getTaskSets().then(function(t){var i=e.createRunnableTask(t,ie.TaskGroup.Build);if(!i||!i.task)throw e.getJsonSchemaVersion()===ie.JsonSchemaVersion.V0_1_0?new ne.TaskError(r.default.Info,n.localize(15,null),ne.TaskErrors.NoBuildTask):new ne.TaskError(r.default.Info,n.localize(16,null),ne.TaskErrors.NoBuildTask);return e.executeTask(i.task,i.resolver)}).then(function(e){return e},function(t){return e.handleError(t),i.TPromise.wrapError(t)})},t.prototype.rebuild=function(){return i.TPromise.wrapError(new Error("Not implemented"))},t.prototype.clean=function(){return i.TPromise.wrapError(new Error("Not implemented"))},t.prototype.runTest=function(){var e=this;return this.getTaskSets().then(function(t){var i=e.createRunnableTask(t,ie.TaskGroup.Test);if(!i||!i.task)throw e.getJsonSchemaVersion()===ie.JsonSchemaVersion.V0_1_0?new ne.TaskError(r.default.Info,n.localize(17,null),ne.TaskErrors.NoTestTask):new ne.TaskError(r.default.Info,n.localize(18,null),ne.TaskErrors.NoTestTask);return e.executeTask(i.task,i.resolver)}).then(function(e){return e},function(t){return e.handleError(t),i.TPromise.wrapError(t)})},t.prototype.run=function(e,t){var o=this;return this.getTaskSets().then(function(s){var a,c,l=o.createResolver(s);if(p.isString(e)?(a=e,c=l.resolve(e)):(a=e.name,c=e),c)return t&&t.attachProblemMatcher&&o.shouldAttachProblemMatcher(c)?o.attachProblemMatcher(c).then(function(e){return e?o.executeTask(e,l):i.TPromise.as(void 0)}):o.executeTask(c,l);throw new ne.TaskError(r.default.Info,n.localize(19,null,a),ne.TaskErrors.TaskNotFound)}).then(function(e){return e},function(e){return o.handleError(e),i.TPromise.wrapError(e)})},t.prototype.shouldAttachProblemMatcher=function(e){return!!this.canCustomize()&&(!(void 0!==e.problemMatchers&&e.problemMatchers.length>0)&&(!(void 0!==e._source.config||!ie.ContributedTask.is(e))||void 0===e._source.config.element.problemMatcher))},t.prototype.attachProblemMatcher=function(e){for(var t=this,r=[],s=0,a=R.ProblemMatcherRegistry.keys();s<a.length;s++){var c=a[s],l=R.ProblemMatcherRegistry.get(c);l.name===l.label?r.push({label:l.name,matcher:l}):r.push({label:l.label,description:"$"+l.name,matcher:l})}return r.length>0?(r=r.sort(function(e,t){return e.label.localeCompare(t.label)}),r[0].separator={border:!0},r.unshift({label:n.localize(20,null),matcher:void 0},{label:n.localize(21,null),matcher:void 0,never:!0},{label:n.localize(22,null),matcher:void 0,learnMore:!0}),this.quickOpenService.pick(r,{placeHolder:n.localize(23,null),autoFocus:{autoFocusFirstEntry:!0}}).then(function(n){if(n){if(n.learnMore)return void t.openDocumentation();if(n.never)return t.customize(e,{problemMatcher:[]},!0),e;if(n.matcher){var i=o.deepClone(e),r="$"+n.matcher.name;return i.problemMatchers=[r],t.customize(e,{problemMatcher:[r]},!0),i}return e}})):i.TPromise.as(e)},t.prototype.getTasksForGroup=function(e){return this.getTaskSets().then(function(t){for(var n=[],i=0,r=t;i<r.length;i++)for(var o=0,s=r[i].tasks;o<s.length;o++){var a=s[o];a.group===e&&n.push(a)}return n})},t.prototype.canCustomize=function(){return this.getJsonSchemaVersion()===ie.JsonSchemaVersion.V2_0_0},t.prototype.customize=function(e,s,a){var c=this,l=this.getConfiguration();if(l.hasParseErrors)return this.messageService.show(r.default.Warning,n.localize(24,null)),i.TPromise.as(void 0);var u,d,h=l.config,p=e._source.config;if(p&&p.element)u=p.index,d=p.element;else if(ie.ContributedTask.is(e)){d={};var f=o.assign(Object.create(null),e.defines);delete f._key,Object.keys(f).forEach(function(e){return d[e]=f[e]})}if(!d)return i.TPromise.as(void 0);if(s)for(var v=0,m=Object.getOwnPropertyNames(s);v<m.length;v++){var y=m[v];void 0!==(S=s[y])&&null!==S&&(d[y]=S)}else void 0!==e.problemMatchers&&0!==e.problemMatchers.length||(d.problemMatcher=[]);var b;if(h){S={key:void 0,value:void 0};-1===u?void 0!==s.problemMatcher?(h.problemMatcher=s.problemMatcher,S.key="tasks.problemMatchers",S.value=h.problemMatcher,b=this.configurationEditingService.writeConfiguration(X.ConfigurationTarget.WORKSPACE,S)):void 0!==s.group&&(h.group=s.group,S.key="tasks.group",S.value=h.group,b=this.configurationEditingService.writeConfiguration(X.ConfigurationTarget.WORKSPACE,S)):(Array.isArray(h.tasks)||(h.tasks=[]),S.key="tasks.tasks",S.value=h.tasks,void 0===u?h.tasks.push(d):h.tasks[u]=d,b=this.configurationEditingService.writeConfiguration(X.ConfigurationTarget.WORKSPACE,S))}else{var S={version:"2.0.0",tasks:[d]},_=["{","\t// See https://go.microsoft.com/fwlink/?LinkId=733558","\t// for the documentation about the tasks.json format"].join("\n")+JSON.stringify(S,null,"\t").substr(1),E=this.configurationService.getConfiguration();E.editor.insertSpaces&&(_=_.replace(/(\n)(\t+)/g,function(e,t,n){return t+g.repeat(" ",n.length*E.editor.tabSize)})),b=this.fileService.createFile(this.contextService.toResource(".vscode/tasks.json"),_).then(function(){})}return b?b.then(function(){var e={properties:s?Object.getOwnPropertyNames(s):[]};if(c.telemetryService.publicLog(t.CustomizationTelemetryEventName,e),a){var n=c.contextService.toResource(".vscode/tasks.json");c.editorService.openEditor({resource:n,options:{forceOpen:!0,pinned:!1}},!1)}}):i.TPromise.as(void 0)},t.prototype.createRunnableTask=function(e,t){var i=Object.create(null),r=Object.create(null),o=Object.create(null),s=[],a=[];e.forEach(function(e){e.tasks.forEach(function(e){i[e._id]=e,r[e._label]=e,o[e.identifier]=e,t&&e.group===t&&(e._source.kind===ie.TaskSourceKind.Workspace?s.push(e):a.push(e))})});var c={resolve:function(e){return i[e]||r[e]||o[e]}};if(s.length>0)return s.length>1&&this._outputChannel.append(n.localize(25,null)),{task:s[0],resolver:c};if(0!==a.length){if(1===a.length)return{task:a[0],resolver:c};var l=S.generateUuid();return{task:{_id:l,_source:{kind:ie.TaskSourceKind.Generic,label:"generic"},_label:l,type:"custom",name:l,identifier:l,dependsOn:a.map(function(e){return e._id}),command:void 0},resolver:c}}},t.prototype.createResolver=function(e){var t=Object.create(null),n=Object.create(null);return e.forEach(function(e){e.tasks.forEach(function(e){t[e._label]=e,n[e.identifier]=e})}),{resolve:function(e){return t[e]||n[e]}}},t.prototype.executeTask=function(e,i){var o=this;return this.storageService.get(t.RanTaskBefore_Key,M.StorageScope.GLOBAL)||this.storageService.store(t.RanTaskBefore_Key,!0,M.StorageScope.GLOBAL),R.ProblemMatcherRegistry.onReady().then(function(){return o.textFileService.saveAll().then(function(t){var s=o.getTaskSystem().run(e,i);if(o.getRecentlyUsedTasks().set(ie.Task.getKey(e),ie.Task.getKey(e),_.Touch.First),s.kind===ne.TaskExecuteKind.Active){var a=s.active;if(!a.same)throw new ne.TaskError(r.default.Warning,n.localize(28,null),ne.TaskErrors.RunningTask);a.background?o.messageService.show(r.default.Info,n.localize(26,null)):o.messageService.show(r.default.Info,n.localize(27,null))}return s.promise})})},t.prototype.restart=function(e){var t=this;if(this._taskSystem){var i=p.isString(e)?e:e._id;this._taskSystem.terminate(i).then(function(i){return i.success?(t.emit(re.TaskServiceEvents.Terminated,{}),t.run(e)):t.messageService.show(r.default.Warning,n.localize(29,null,p.isString(e)?e:e.name)),i})}},t.prototype.terminate=function(e){if(!this._taskSystem)return i.TPromise.as({success:!0,task:void 0});var t=p.isString(e)?e:e._id;return this._taskSystem.terminate(t)},t.prototype.terminateAll=function(){return this._taskSystem?this._taskSystem.terminateAll():i.TPromise.as([])},t.prototype.getTaskSystem=function(){var e=this;if(this._taskSystem)return this._taskSystem;if(this.getExecutionEngine()===ie.ExecutionEngine.Terminal)this._taskSystem=new ce.TerminalTaskSystem(this.terminalService,this.outputService,this.markerService,this.modelService,this.configurationResolverService,this.telemetryService,this.workbenchEditorService,t.OutputChannelId);else{var n=new ae.ProcessTaskSystem(this.markerService,this.modelService,this.telemetryService,this.outputService,this.configurationResolverService,t.OutputChannelId);n.hasErrors(this._configHasErrors),this._taskSystem=n}return this._taskSystemListeners.push(this._taskSystem.addListener(ne.TaskSystemEvents.Active,function(t){return e.emit(re.TaskServiceEvents.Active,t)})),this._taskSystemListeners.push(this._taskSystem.addListener(ne.TaskSystemEvents.Inactive,function(t){return e.emit(re.TaskServiceEvents.Inactive,t)})),this._taskSystemListeners.push(this._taskSystem.addListener(ne.TaskSystemEvents.Terminated,function(t){return e.emit(re.TaskServiceEvents.Terminated,t)})),this._taskSystem},t.prototype.getTaskSets=function(){var e=this;return this.extensionService.activateByEvent("onCommand:workbench.action.tasks.runTask").then(function(){return new i.TPromise(function(t,n){var i=[],r=0,o=function(e){e&&i.push(e),0==--r&&t(i)},s=function(){0==--r&&t(i)};e.getJsonSchemaVersion()===ie.JsonSchemaVersion.V2_0_0&&e._providers.size>0?e._providers.forEach(function(e){r++,e.provideTasks().done(o,s)}):t(i)})}).then(function(t){return e.getWorkspaceTasks().then(function(n){var i=[],r=n.configurations,o=n.set?e.getLegacyTaskConfigurations(n.set):void 0;if(r||o)for(var s=0,a=t;s<a.length;s++)for(var c=a[s],l=0;l<c.tasks.length;l++){var u=c.tasks[l];if(ie.ContributedTask.is(u))if(r&&(d=r.byIdentifier[u.defines._key]))c.tasks[l]=se.createCustomTask(u,d);else if(o){var d=o[u.defines._key];if(d){c.tasks[l]=se.createCustomTask(u,d),i.push(d),c.tasks[l]=d;continue}}}if(n.set)if(i.length>0){var h=n.set.tasks,p={extension:n.set.extension,tasks:[]},f=i.reduce(function(e,t){return e[t._id]=!0,e},Object.create(null));p.tasks=h.filter(function(e){return!f[e._id]}),t.push(p)}else t.push(n.set);return t},function(){return t})})},t.prototype.getLegacyTaskConfigurations=function(e){for(var t,n=0,i=e.tasks;n<i.length;n++){var r=i[n];if(ie.CustomTask.is(r)){var o=r.command&&r.command.name;if("gulp"===o||"grunt"===o||"jake"===o){var s=se.getTaskIdentifier({type:o,task:r.name});(t||(t=Object.create(null)))[s._key]=r}}}return t},t.prototype.getWorkspaceTasks=function(){return this._workspaceTasksPromise?this._workspaceTasksPromise:(this.updateWorkspaceTasks(),this._workspaceTasksPromise)},t.prototype.updateWorkspaceTasks=function(){var e=this;this._workspaceTasksPromise=this.computeWorkspaceTasks().then(function(t){return e._configHasErrors=t.hasErrors,e._taskSystem instanceof ae.ProcessTaskSystem&&e._taskSystem.hasErrors(e._configHasErrors),t})},t.prototype.computeWorkspaceTasks=function(){var e=this,t=this.getConfiguration(),r=t.config;if(t.hasParseErrors)return i.TPromise.as({set:void 0,hasErrors:!0,configurations:void 0});var s=ie.ExecutionEngine._default;return(r?(s=se.ExecutionEngine.from(r))===ie.ExecutionEngine.Process&&this.hasDetectorSupport(r)?new le.ProcessRunnerDetector(this.fileService,this.contextService,this.configurationResolverService,r).detect(!0).then(function(t){var n=e.printStderr(t.stderr),i=t.config;if(!i)return{config:r,hasErrors:n};var s=o.clone(r),a=Object.create(null);return s.tasks?(s.tasks.forEach(function(e){return a[e.taskName]=e}),i.tasks.forEach(function(e){a[e.taskName]||s.tasks.push(e)})):i.tasks&&(s.tasks=i.tasks),{config:s,hasErrors:n}}):i.TPromise.as({config:r,hasErrors:!1}):s===ie.ExecutionEngine.Terminal?i.TPromise.as({config:r,hasErrors:!1}):new le.ProcessRunnerDetector(this.fileService,this.contextService,this.configurationResolverService).detect(!0).then(function(t){var n=e.printStderr(t.stderr);return{config:t.config,hasErrors:n}})).then(function(t){return R.ProblemMatcherRegistry.onReady().then(function(){if(!t||!t.config)return{set:void 0,configurations:void 0,hasErrors:void 0!==t&&t.hasErrors};var i=new we(e._outputChannel),r=se.parse(t.config,i),o=!1;if(r.validationStatus.isOK()||(o=!0,e.showOutput()),i.status.isFatal())return i.fatal(n.localize(30,null)),{set:void 0,configurations:void 0,hasErrors:o};var s;if(r.configured&&r.configured.length>0){s={byIdentifier:Object.create(null)};for(var a=0,c=r.configured;a<c.length;a++){var l=c[a];s.byIdentifier[l.configures._key]=l}}return{set:{tasks:r.custom},configurations:s,hasErrors:o}})})},t.prototype.getExecutionEngine=function(){var e=this.getConfiguration().config;return e?se.ExecutionEngine.from(e):ie.ExecutionEngine._default},t.prototype.getJsonSchemaVersion=function(){var e=this.getConfiguration().config;return e?se.JsonSchemaVersion.from(e):ie.JsonSchemaVersion.V2_0_0},t.prototype.getConfiguration=function(){var e=this.contextService.hasWorkspace()?this.configurationService.getConfiguration("tasks",{resource:this.contextService.getWorkspace().resource}):void 0;if(!e)return{config:void 0,hasParseErrors:!1};var t=e.$parseErrors;if(t){for(var i=!1,r=0;r<t.length;r++)if(/tasks\.json$/.test(t[r])){i=!0;break}if(i)return this._outputChannel.append(n.localize(31,null)),this.showOutput(),{config:void 0,hasParseErrors:!0}}return{config:e,hasParseErrors:!1}},t.prototype.printStderr=function(e){var t=this,n=!1;return e&&e.length>0&&(e.forEach(function(e){n=!0,t._outputChannel.append(e+"\n")}),this._outputChannel.show(!0)),n},t.prototype.inTerminal=function(){return this._taskSystem?this._taskSystem instanceof ce.TerminalTaskSystem:this.getExecutionEngine()===ie.ExecutionEngine.Terminal},t.prototype.hasDetectorSupport=function(e){return!(!e.command||!this.contextService.hasWorkspace())&&le.ProcessRunnerDetector.supports(e.command)},t.prototype.configureAction=function(){return new be(be.ID,be.TEXT,this,this.configurationService,this.editorService,this.fileService,this.contextService,this.outputService,this.messageService,this.quickOpenService,this.environmentService,this.configurationResolverService,this.extensionService)},t.prototype.configureBuildTask=function(){return new Se(Se.ID,Se.TEXT,this,this.configurationService,this.editorService,this.fileService,this.contextService,this.outputService,this.messageService,this.quickOpenService,this.environmentService,this.configurationResolverService,this.extensionService)},t.prototype.beforeShutdown=function(){var e=this;return!!this._taskSystem&&(this.saveRecentlyUsedTasks(),!!this._taskSystem.isActiveSync()&&(!(this._taskSystem instanceof ce.TerminalTaskSystem)&&(!this._taskSystem.canAutoTerminate()&&!this.messageService.confirm({message:n.localize(32,null),primaryButton:n.localize(33,null),type:"question"})||this._taskSystem.terminateAll().then(function(t){for(var i=!0,r=void 0,o=0,s=t;o<s.length;o++){var a=s[o];i=i&&a.success,void 0===r&&void 0!==a.code&&(r=a.code)}return i?(e.emit(re.TaskServiceEvents.Terminated,{}),e._taskSystem=null,e.disposeTaskSystemListeners(),!1):!r||r!==f.TerminateResponseCode.ProcessNotFound||!e.messageService.confirm({message:n.localize(34,null),primaryButton:n.localize(35,null),type:"info"})},function(e){return!0}))))},t.prototype.getConfigureAction=function(e){switch(e){case ne.TaskErrors.NoBuildTask:return this.configureBuildTask();default:return this.configureAction()}},t.prototype.handleError=function(e){var t=this;if(e instanceof ne.TaskError){var o=e,s=o.code===ne.TaskErrors.NotConfigured||o.code===ne.TaskErrors.NoBuildTask||o.code===ne.TaskErrors.NoTestTask,c=o.code===ne.TaskErrors.RunningTask;if(s||c){var l=new _e,u=s?this.getConfigureAction(o.code):new a.Action("workbench.action.tasks.terminate",n.localize(36,null),void 0,!0,function(){return t.runTerminateCommand(),i.TPromise.as(void 0)});l.closeFunction=this.messageService.show(o.severity,{message:o.message,actions:[u,l]})}else this.messageService.show(o.severity,o.message)}else if(e instanceof Error){var d=e;this.messageService.show(r.default.Error,d.message)}else p.isString(e)?this.messageService.show(r.default.Error,e):this.messageService.show(r.default.Error,n.localize(37,null));this._outputChannel.show(!0)},t.prototype.canRunCommand=function(){return!!this.contextService.hasWorkspace()||(this.messageService.show(r.default.Info,n.localize(38,null)),!1)},t.prototype.showQuickPick=function(e,t,r,o){function s(e){return{label:e._label,task:e}}function a(e,t,n,i){void 0===i&&(i=!1);for(var r=!0,o=0,a=t;o<a.length;o++){var c=a[o];if(r){r=!1;var l=s(c);l.separator={label:n,border:i},e.push(l)}else e.push(s(c))}}if(void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===e||null===e||0===e.length)return i.TPromise.as(void 0);var c;if(r)if(c=[],1===e.length)c.push(s(e[0]));else{var l=this.getRecentlyUsedTasks(),u=[],d=[],h=[],p=Object.create(null);e.forEach(function(e){return p[ie.Task.getKey(e)]=e}),l.keys().forEach(function(e){var t=p[e];t&&u.push(t)});for(var f=0,g=e;f<g.length;f++){var v=g[f];l.has(ie.Task.getKey(v))||(v._source.kind===ie.TaskSourceKind.Workspace?d.push(v):h.push(v))}var m=u.length>0;a(c,u,n.localize(39,null));var y=(d=d.sort(function(e,t){return e._label.localeCompare(t._label)})).length>0;a(c,d,n.localize(40,null),m),a(c,h=h.sort(function(e,t){return e._label.localeCompare(t._label)}),n.localize(41,null),m||y)}else c=e.map(function(e){return{label:e._label,task:e}}),o&&(c=c.sort(function(e,t){return e.task._label.localeCompare(t.task._label)}));return this.quickOpenService.pick(c,{placeHolder:t,autoFocus:{autoFocusFirstEntry:!0}}).then(function(e){return e?e.task:void 0})},t.prototype.runTaskCommand=function(e,t){var n=this;this.canRunCommand()&&(p.isString(t)?this.tasks().then(function(e){for(var i=0,r=e;i<r.length;i++){var o=r[i];o.identifier===t&&n.run(o)}}):this.quickOpenService.show("task "))},t.prototype.runBuildCommand=function(){var e=this;if(this.canRunCommand())if(this.inTerminal()){var t={location:N.ProgressLocation.Window,title:n.localize(42,null)},i=this.getTasksForGroup(ie.TaskGroup.Build).then(function(t){if(0!==t.length){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o];a.isDefaultGroupEntry&&i.push(a)}1!==i.length?e.showQuickPick(t,n.localize(44,null),!0).then(function(t){t&&e.run(t,{attachProblemMatcher:!0})}):e.run(i[0])}else e.messageService.show(r.default.Info,{message:n.localize(43,null),actions:[e.configureBuildTask(),new _e]})});this.progressService.withProgress(t,function(){return i})}else this.build()},t.prototype.runTestCommand=function(){var e=this;if(this.canRunCommand())if(this.inTerminal()){var t={location:N.ProgressLocation.Window,title:n.localize(45,null)},i=this.getTasksForGroup(ie.TaskGroup.Test).then(function(t){if(0!==t.length){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o];a.isDefaultGroupEntry&&i.push(a)}1!==i.length?e.showQuickPick(t,n.localize(47,null),!0).then(function(t){t&&e.run(t)}):e.run(i[0])}else e.messageService.show(r.default.Info,{message:n.localize(46,null),actions:[e.configureAction(),new _e]})});this.progressService.withProgress(t,function(){return i})}else this.runTest()},t.prototype.runTerminateCommand=function(){var e=this;this.canRunCommand()&&(this.inTerminal()?this.getActiveTasks().then(function(t){0!==t.length?e.showQuickPick(t,n.localize(49,null),!1,!0).then(function(t){t&&e.terminate(t)}):e.messageService.show(r.default.Info,n.localize(48,null))}):this.isActive().then(function(t){t&&e.terminateAll().then(function(t){var i=t[0];i.success||(i.code&&i.code===f.TerminateResponseCode.ProcessNotFound?e.messageService.show(r.default.Error,n.localize(50,null)):e.messageService.show(r.default.Error,n.localize(51,null)))})}))},t.prototype.runRestartTaskCommand=function(e,t){var i=this;this.canRunCommand()&&(this.inTerminal()?this.getActiveTasks().then(function(e){0!==e.length?i.showQuickPick(e,n.localize(53,null),!1,!0).then(function(e){e&&i.restart(e)}):i.messageService.show(r.default.Info,n.localize(52,null))}):this.getActiveTasks().then(function(e){if(0!==e.length){var t=e[0];i.restart(t)}}))},t.prototype.runConfigureDefaultBuildTask=function(){var e=this;this.canRunCommand()&&(this.inTerminal()?this.tasks().then(function(t){if(0!==t.length){for(var i,o=0,s=t;o<s.length;o++){var a=s[o];if(a.group===ie.TaskGroup.Build&&a.isDefaultGroupEntry){i=a;break}}i?e.messageService.show(r.default.Info,n.localize(54,null,i._label)):e.showQuickPick(t,n.localize(55,null),!0).then(function(t){t&&e.customize(t,{group:{kind:"build",isDefault:!0}},!0)})}else e.configureBuildTask().run()}):this.configureBuildTask().run())},t.prototype.runConfigureDefaultTestTask=function(){var e=this;this.canRunCommand()&&(this.inTerminal()?this.tasks().then(function(t){0===t.length&&e.configureAction().run();for(var i,o=0,s=t;o<s.length;o++){var a=s[o];if(a.group===ie.TaskGroup.Test&&a.isDefaultGroupEntry){i=a;break}}i?e.messageService.show(r.default.Info,n.localize(56,null,i._label)):e.showQuickPick(t,n.localize(57,null),!0).then(function(t){t&&e.customize(t,{group:{kind:"test",isDefault:!0}},!0)})}):this.configureAction().run())},t}(u.EventEmitter);Ie.RecentlyUsedTasks_Key="workbench.tasks.recentlyUsedTasks",Ie.RanTaskBefore_Key="workbench.tasks.ranTaskBefore",Ie.CustomizationTelemetryEventName="taskService.customize",Ie.SERVICE_ID="taskService",Ie.OutputChannelId="tasks",Ie.OutputChannelLabel=n.localize(13,null),Ie=v([y(0,W.IModeService),y(1,A.IConfigurationService),y(2,X.IConfigurationEditingService),y(3,k.IMarkerService),y(4,J.IOutputService),y(5,T.IMessageService),y(6,$.IWorkbenchEditorService),y(7,L.IFileService),y(8,Q.IWorkspaceContextService),y(9,x.ITelemetryService),y(10,Z.ITextFileService),y(11,C.ILifecycleService),y(12,B.IModelService),y(13,P.IExtensionService),y(14,U.IQuickOpenService),y(15,de.IEnvironmentService),y(16,Y.IConfigurationResolverService),y(17,te.ITerminalService),y(18,$.IWorkbenchEditorService),y(19,M.IStorageService),y(20,N.IProgressService2),y(21,F.IOpenerService)],Ie),E.Registry.as(z.Extensions.WorkbenchActions).registerWorkbenchAction(new w.SyncActionDescriptor(be,be.ID,be.TEXT),"Tasks: Configure Task Runner",me),w.MenuRegistry.addCommand({id:"workbench.action.tasks.showLog",title:{value:n.localize(58,null),original:"Show Task Log"},category:{value:me,original:"Tasks"}}),w.MenuRegistry.addCommand({id:"workbench.action.tasks.runTask",title:{value:n.localize(59,null),original:"Run Task"},category:{value:me,original:"Tasks"}}),w.MenuRegistry.addCommand({id:"workbench.action.tasks.restartTask",title:{value:n.localize(60,null),original:"Restart Running Task"},category:{value:me,original:"Tasks"}}),w.MenuRegistry.addCommand({id:"workbench.action.tasks.terminate",title:{value:n.localize(61,null),original:"Terminate Task"},category:{value:me,original:"Tasks"}}),w.MenuRegistry.addCommand({id:"workbench.action.tasks.build",title:{value:n.localize(62,null),original:"Run Build Task"},category:{value:me,original:"Tasks"}}),w.MenuRegistry.addCommand({id:"workbench.action.tasks.test",title:{value:n.localize(63,null),original:"Run Test Task"},category:{value:me,original:"Tasks"}}),w.MenuRegistry.addCommand({id:"workbench.action.tasks.configureDefaultBuildTask",title:{value:n.localize(64,null),original:"Configure Default Build Task"},category:{value:me,original:"Tasks"}}),w.MenuRegistry.addCommand({id:"workbench.action.tasks.configureDefaultTestTask",title:{value:n.localize(65,null),original:"Configure Default Test Task"},category:{value:me,original:"Tasks"}}),I.registerSingleton(re.ITaskService,Ie);E.Registry.as(K.Extensions.Quickopen).registerQuickOpenHandler(new K.QuickOpenHandlerDescriptor("vs/workbench/parts/tasks/browser/taskQuickOpen","QuickOpenHandler","task ","inTasksPicker",n.localize(66,null))),E.Registry.as(ee.Extensions.Actionbar).registerActionBarContributor(ee.Scope.VIEWER,ue.QuickOpenActionContributor),E.Registry.as(H.Extensions.Statusbar).registerStatusbarItem(new H.StatusbarItemDescriptor(Ce,H.StatusbarAlignment.LEFT,50)),E.Registry.as(J.Extensions.OutputChannels).registerChannel(Ie.OutputChannelId,Ie.OutputChannelLabel);var Te={id:"vscode://schemas/tasks",description:"Task definition file",type:"object",default:{version:"0.1.0",command:"myCommand",isShellCommand:!1,args:[],showOutput:"always",tasks:[{taskName:"build",showOutput:"silent",isBuildCommand:!0,problemMatcher:["$tsc","$lessCompile"]}]}};Te.definitions=m({},fe.default.definitions,ge.default.definitions),Te.oneOf=ge.default.oneOf.concat(fe.default.oneOf),E.Registry.as(V.Extensions.JSONContribution).registerSchema("vscode://schemas/tasks",Te)}),define(u[1212],d([1,0,4,16,71,44,51,42,183,79]),function(e,t,n,i,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function t(e,t,n,i){this.textModelResolverService=e,this.textFileService=t,this.modeService=n,this.modelService=i,this.textModelResolverService.registerTextModelContentProvider(l.Schemas.walkThrough,this)}return t.prototype.provideTextContent=function(t){var r=this,o=t.query?JSON.parse(t.query):{};return(o.moduleId?new n.TPromise(function(t,n){e([o.moduleId],function(e){try{t(e.default())}catch(e){n(e)}})}):this.textFileService.resolveTextContent(i.default.file(t.fsPath)).then(function(e){return e.value})).then(function(e){var n=r.modelService.getModel(t);return n?r.modelService.updateModel(n,e):n=r.modelService.createModel(e,r.modeService.getOrCreateModeByFilenameOrFirstLine(t.fsPath),t),n})},t.prototype.getId=function(){return"vs.walkThroughContentProvider"},t}();u=v([y(0,r.ITextModelService),y(1,s.ITextFileService),y(2,a.IModeService),y(3,o.IModelService)],u),t.WalkThroughContentProvider=u;var d=function(){function e(e,t,n,i){this.textModelResolverService=e,this.textFileService=t,this.modeService=n,this.modelService=i,this.textModelResolverService.registerTextModelContentProvider(l.Schemas.walkThroughSnippet,this)}return e.prototype.provideTextContent=function(e){var t=this;return this.textFileService.resolveTextContent(i.default.file(e.fsPath)).then(function(n){var i=t.modelService.getModel(e);if(i)t.modelService.updateModel(i,n.value);else{var r=parseInt(e.fragment),o="",s="",a=0,l=new c.marked.Renderer;l.code=function(e,t){return a++===r&&(o=e,s=t),""};var u=n.value.lines.join("\n");c.marked(u,{renderer:l});var d=t.modeService.getModeIdForLanguageName(s),h=t.modeService.getOrCreateMode(d);i=t.modelService.createModel(o,h,e)}return i})},e.prototype.getId=function(){return"vs.walkThroughSnippetContentProvider"},e}();d=v([y(0,r.ITextModelService),y(1,s.ITextFileService),y(2,a.IModeService),y(3,o.IModelService)],d),t.WalkThroughSnippetContentProvider=d}),define(u[1213],d([1,0,714,230,406,1168,1212,1094,15,98,30,95,50,35,85,48,17]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),c.Registry.as(u.Extensions.Editors).registerEditor(new l.EditorDescriptor(r.WalkThroughPart.ID,n.localize(0,null),"vs/workbench/parts/welcome/walkThrough/electron-browser/walkThroughPart","WalkThroughPart"),[new d.SyncDescriptor(i.WalkThroughInput)]),c.Registry.as(h.Extensions.WorkbenchActions).registerWorkbenchAction(new p.SyncActionDescriptor(a.EditorWalkThroughAction,a.EditorWalkThroughAction.ID,a.EditorWalkThroughAction.LABEL),"Help: Interactive Playground",n.localize(1,null)),c.Registry.as(f.Extensions.Workbench).registerWorkbenchContribution(s.WalkThroughContentProvider),c.Registry.as(f.Extensions.Workbench).registerWorkbenchContribution(s.WalkThroughSnippetContentProvider),c.Registry.as(h.Extensions.WorkbenchActions).registerWorkbenchAction(new p.SyncActionDescriptor(o.WalkThroughArrowUpAction,o.WalkThroughArrowUpAction.ID,o.WalkThroughArrowUpAction.LABEL,{primary:16},v.ContextKeyExpr.and(r.WALK_THROUGH_FOCUS,g.EditorContextKeys.textFocus.toNegated())),"Interactive Playground: Scroll Up (Line)",n.localize(2,null)),c.Registry.as(h.Extensions.WorkbenchActions).registerWorkbenchAction(new p.SyncActionDescriptor(o.WalkThroughArrowDownAction,o.WalkThroughArrowDownAction.ID,o.WalkThroughArrowDownAction.LABEL,{primary:18},v.ContextKeyExpr.and(r.WALK_THROUGH_FOCUS,g.EditorContextKeys.textFocus.toNegated())),"Interactive Playground: Scroll Down (Line)",n.localize(3,null)),c.Registry.as(h.Extensions.WorkbenchActions).registerWorkbenchAction(new p.SyncActionDescriptor(o.WalkThroughPageUpAction,o.WalkThroughPageUpAction.ID,o.WalkThroughPageUpAction.LABEL,{primary:11},v.ContextKeyExpr.and(r.WALK_THROUGH_FOCUS,g.EditorContextKeys.textFocus.toNegated())),"Interactive Playground: Scroll Up (Page)",n.localize(4,null)),c.Registry.as(h.Extensions.WorkbenchActions).registerWorkbenchAction(new p.SyncActionDescriptor(o.WalkThroughPageDownAction,o.WalkThroughPageDownAction.ID,o.WalkThroughPageDownAction.LABEL,{primary:12},v.ContextKeyExpr.and(r.WALK_THROUGH_FOCUS,g.EditorContextKeys.textFocus.toNegated())),"Interactive Playground: Scroll Down (Page)",n.localize(5,null))}),define(u[1214],d([1,0,718,4,28,16,94,253,12,364,18,105,14,53,27,39,51,23,205,104,43,65,71,64,20,32]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,m,b,S,_,E,C,w,I,T,k){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var x=function(){function e(e,t,n,i,r,o,s,a,c){this.configurationService=e,this.contextService=t,this.environmentService=n,this.fileService=i,this.textModelResolverService=r,this.textFileService=o,this.choiceService=s,this.messageService=a,this.commandService=c,this.queue=new u.Queue}return e.prototype.writeConfiguration=function(e,t,n){var r=this;return void 0===n&&(n={}),this.queue.queue(function(){return r.doWriteConfiguration(e,t,n).then(function(){return null},function(o){return n.donotNotifyError||r.onError(o,e,t,n.scopes),i.TPromise.wrapError(o)})})},e.prototype.doWriteConfiguration=function(e,t,n){var i=this,r=this.getConfigurationEditOperation(e,t,n.scopes||{}),o=!(n.force||n.donotSave),s=n.force||!n.donotSave;return this.resolveAndValidate(e,r,o).then(function(e){return i.writeToBuffer(e.object.textEditorModel,r,s)})},e.prototype.writeToBuffer=function(e,t,n){var r=this,o=this.getEdits(e,t)[0];return this.applyEditsToBuffer(o,e)&&n?this.textFileService.save(t.resource).then(function(){return r.configurationService.reloadConfiguration()}):i.TPromise.as(null)},e.prototype.applyEditsToBuffer=function(e,t){var n=t.getPositionAt(e.offset),i=t.getPositionAt(e.offset+e.length),r=new h.Range(n.lineNumber,n.column,i.lineNumber,i.column),o=t.getValueInRange(r);if(e.content!==o){var s=o?d.EditOperation.replace(r,e.content):d.EditOperation.insert(n,e.content);return t.pushEditOperations([new p.Selection(n.lineNumber,n.column,n.lineNumber,n.column)],[s],function(){return[]}),!0}return!1},e.prototype.onError=function(e,t,n,i){switch(e.code){case C.ConfigurationEditingErrorCode.ERROR_INVALID_CONFIGURATION:this.onInvalidConfigurationError(e,t);break;case C.ConfigurationEditingErrorCode.ERROR_CONFIGURATION_FILE_DIRTY:this.onConfigurationFileDirtyError(e,t,n,i);break;default:this.messageService.show(T.Severity.Error,e.message)}},e.prototype.onInvalidConfigurationError=function(e,t){var i=this;this.choiceService.choose(T.Severity.Error,e.message,[n.localize(0,null),n.localize(1,null)],1).then(function(e){switch(e){case 0:i.openSettings(t)}})},e.prototype.onConfigurationFileDirtyError=function(e,t,i,r){var o=this;this.choiceService.choose(T.Severity.Error,e.message,[n.localize(2,null),n.localize(3,null),n.localize(4,null)],2).then(function(e){switch(e){case 0:o.writeConfiguration(t,i,{force:!0,scopes:r});break;case 1:o.openSettings(t)}})},e.prototype.openSettings=function(e){this.commandService.executeCommand(C.ConfigurationTarget.USER===e?"workbench.action.openGlobalSettings":"workbench.action.openWorkspaceSettings")},e.prototype.wrapError=function(e,t){var n=this.toErrorMessage(e,t);return i.TPromise.wrapError(new C.ConfigurationEditingError(n,e))},e.prototype.toErrorMessage=function(e,t){switch(e){case C.ConfigurationEditingErrorCode.ERROR_UNKNOWN_KEY:return n.localize(5,null);case C.ConfigurationEditingErrorCode.ERROR_INVALID_TARGET:return n.localize(6,null);case C.ConfigurationEditingErrorCode.ERROR_NO_WORKSPACE_OPENED:return n.localize(7,null);case C.ConfigurationEditingErrorCode.ERROR_INVALID_CONFIGURATION:return t===C.ConfigurationTarget.USER?n.localize(8,null):n.localize(9,null);case C.ConfigurationEditingErrorCode.ERROR_CONFIGURATION_FILE_DIRTY:return t===C.ConfigurationTarget.USER?n.localize(10,null):n.localize(11,null)}},e.prototype.getEdits=function(e,t){var n=e.getOptions(),i=n.tabSize,r=n.insertSpaces,o=e.getEOL(),s=t.key,a=t.value,u=t.overrideIdentifier;if(!s){var d=JSON.stringify(a,null,r?c.repeat(" ",i):"\t");return[{content:d,length:d.length,offset:0}]}return l.setProperty(e.getValue(),u?[S.keyFromOverrideIdentifier(u),s]:[s],a,{tabSize:i,insertSpaces:r,eol:o})},e.prototype.resolveModelReference=function(e){var t=this;return this.fileService.existsFile(e).then(function(n){return(n?i.TPromise.as(null):t.fileService.updateContent(e,"{}",{encoding:a.UTF8})).then(function(){return t.textModelResolverService.createModelReference(e)})})},e.prototype.hasParseErrors=function(e,t){if(t.isWorkspaceStandalone&&!t.key)return!1;var n=[];return s.parse(e.getValue(),n,{allowTrailingComma:!0}),n.length>0},e.prototype.resolveAndValidate=function(e,t,n){var i=this;return!t.isWorkspaceStandalone&&this.configurationService.keys().default.indexOf(t.key)<0&&!I.OVERRIDE_PROPERTY_PATTERN.test(t.key)?this.wrapError(C.ConfigurationEditingErrorCode.ERROR_UNKNOWN_KEY,e):t.isWorkspaceStandalone&&e===C.ConfigurationTarget.USER?this.wrapError(C.ConfigurationEditingErrorCode.ERROR_INVALID_TARGET,e):e!==C.ConfigurationTarget.WORKSPACE||this.contextService.hasWorkspace()?this.resolveModelReference(t.resource).then(function(r){var o=r.object.textEditorModel;return i.hasParseErrors(o,t)?i.wrapError(C.ConfigurationEditingErrorCode.ERROR_INVALID_CONFIGURATION,e):n&&i.textFileService.isDirty(t.resource)?i.wrapError(C.ConfigurationEditingErrorCode.ERROR_CONFIGURATION_FILE_DIRTY,e):r}):this.wrapError(C.ConfigurationEditingErrorCode.ERROR_NO_WORKSPACE_OPENED,e)},e.prototype.getConfigurationEditOperation=function(e,t,n){if(t.key)for(var i=Object.keys(_.WORKSPACE_STANDALONE_CONFIGURATIONS),r=0;r<i.length;r++){var s=i[r],a=this.contextService.toResource(_.WORKSPACE_STANDALONE_CONFIGURATIONS[s]);if(t.key===s)return{key:"",value:t.value,resource:a,isWorkspaceStandalone:!0};var c=s+".";if(0===t.key.indexOf(c))return{key:t.key.substr(c.length),value:t.value,resource:a,isWorkspaceStandalone:!0}}return e===C.ConfigurationTarget.USER?{key:t.key,value:t.value,overrideIdentifier:n.overrideIdentifier,resource:o.default.file(this.environmentService.appSettingsPath)}:{key:t.key,value:t.value,overrideIdentifier:n.overrideIdentifier,resource:this.getConfigurationFileResource(n.resource)}},e.prototype.getConfigurationFileResource=function(e){var t=this.contextService.getWorkspace2();if(t){if(e){var n=this.contextService.getRoot(e);if(n)return this.toResource(_.WORKSPACE_CONFIG_DEFAULT_PATH,n)}return this.toResource(_.WORKSPACE_CONFIG_DEFAULT_PATH,t.roots[0])}return null},e.prototype.toResource=function(e,t){return o.default.file(r.join(t.fsPath,e))},e}();x=v([y(0,b.IConfigurationService),y(1,f.IWorkspaceContextService),y(2,g.IEnvironmentService),y(3,E.IFileService),y(4,w.ITextModelService),y(5,m.ITextFileService),y(6,T.IChoiceService),y(7,T.IMessageService),y(8,k.ICommandService)],x),t.ConfigurationEditingService=x}),define(u[327],d([1,0,723,16,4,24,18,5,94,364,17,23,105,14,53,39,71,51,43,6]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IKeybindingEditingService=E.createDecorator("keybindingEditingService");var C=function(e){function t(t,n,r,o,a){var c=e.call(this)||this;return c.textModelResolverService=t,c.textFileService=n,c.fileService=r,c.configurationService=o,c.environmentService=a,c.resource=i.default.file(c.environmentService.appKeybindingsPath),c.queue=new s.Queue,c}return h(t,e),t.prototype.editKeybinding=function(e,t){var n=this;return this.queue.queue(function(){return n.doEditKeybinding(e,t)})},t.prototype.resetKeybinding=function(e){var t=this;return this.queue.queue(function(){return t.doResetKeybinding(e)})},t.prototype.removeKeybinding=function(e){var t=this;return this.queue.queue(function(){return t.doRemoveKeybinding(e)})},t.prototype.doEditKeybinding=function(e,t){var n=this;return this.resolveAndValidate().then(function(i){var r=i.object.textEditorModel;return t.isDefault?n.updateDefaultKeybinding(e,t,r):n.updateUserKeybinding(e,t,r),n.save().then(function(){return i.dispose()})})},t.prototype.doRemoveKeybinding=function(e){var t=this;return this.resolveAndValidate().then(function(n){var i=n.object.textEditorModel;return e.isDefault?t.removeDefaultKeybinding(e,i):t.removeUserKeybinding(e,i),t.save().then(function(){return n.dispose()})})},t.prototype.doResetKeybinding=function(e){var t=this;return this.resolveAndValidate().then(function(n){var i=n.object.textEditorModel;return e.isDefault||(t.removeUserKeybinding(e,i),t.removeUnassignedDefaultKeybinding(e,i)),t.save().then(function(){return n.dispose()})})},t.prototype.save=function(){return this.textFileService.save(this.resource)},t.prototype.updateUserKeybinding=function(e,t,n){var i=n.getOptions(),r=i.tabSize,o=i.insertSpaces,s=n.getEOL(),a=c.parse(n.getValue()),u=this.findUserKeybindingEntryIndex(t,a);-1!==u&&this.applyEditsToBuffer(l.setProperty(n.getValue(),[u,"key"],e,{tabSize:r,insertSpaces:o,eol:s})[0],n)},t.prototype.updateDefaultKeybinding=function(e,t,n){var i=n.getOptions(),r=i.tabSize,o=i.insertSpaces,s=n.getEOL(),a=c.parse(n.getValue()),u=this.findUserKeybindingEntryIndex(t,a);-1!==u?this.applyEditsToBuffer(l.setProperty(n.getValue(),[u,"key"],e,{tabSize:r,insertSpaces:o,eol:s})[0],n):this.applyEditsToBuffer(l.setProperty(n.getValue(),[-1],this.asObject(e,t.command,t.when,!1),{tabSize:r,insertSpaces:o,eol:s})[0],n),t.resolvedKeybinding&&this.applyEditsToBuffer(l.setProperty(n.getValue(),[-1],this.asObject(t.resolvedKeybinding.getUserSettingsLabel(),t.command,t.when,!0),{tabSize:r,insertSpaces:o,eol:s})[0],n)},t.prototype.removeUserKeybinding=function(e,t){var n=t.getOptions(),i=n.tabSize,r=n.insertSpaces,o=t.getEOL(),s=c.parse(t.getValue()),a=this.findUserKeybindingEntryIndex(e,s);-1!==a&&this.applyEditsToBuffer(l.setProperty(t.getValue(),[a],void 0,{tabSize:i,insertSpaces:r,eol:o})[0],t)},t.prototype.removeDefaultKeybinding=function(e,t){var n=t.getOptions(),i=n.tabSize,r=n.insertSpaces,o=t.getEOL();this.applyEditsToBuffer(l.setProperty(t.getValue(),[-1],this.asObject(e.resolvedKeybinding.getUserSettingsLabel(),e.command,e.when,!0),{tabSize:i,insertSpaces:r,eol:o})[0],t)},t.prototype.removeUnassignedDefaultKeybinding=function(e,t){var n=t.getOptions(),i=n.tabSize,r=n.insertSpaces,o=t.getEOL(),s=c.parse(t.getValue()),a=this.findUnassignedDefaultKeybindingEntryIndex(e,s);-1!==a&&this.applyEditsToBuffer(l.setProperty(t.getValue(),[a],void 0,{tabSize:i,insertSpaces:r,eol:o})[0],t)},t.prototype.findUserKeybindingEntryIndex=function(e,t){for(var n=0;n<t.length;n++){var i=t[n];if(i.command===e.command){if(!i.when&&!e.when)return n;if(i.when&&e.when&&u.ContextKeyExpr.deserialize(i.when).serialize()===e.when.serialize())return n}}return-1},t.prototype.findUnassignedDefaultKeybindingEntryIndex=function(e,t){for(var n=0;n<t.length;n++)if(t[n].command==="-"+e.command)return n;return-1},t.prototype.asObject=function(e,t,n,i){var r={key:e};return r.command=i?"-"+t:t,n&&(r.when=n.serialize()),r},t.prototype.applyEditsToBuffer=function(e,t){var n=t.getPositionAt(e.offset),i=t.getPositionAt(e.offset+e.length),r=new f.Range(n.lineNumber,n.column,i.lineNumber,i.column),o=t.getValueInRange(r)?p.EditOperation.replace(r,e.content):p.EditOperation.insert(n,e.content);t.pushEditOperations([new g.Selection(n.lineNumber,n.column,n.lineNumber,n.column)],[o],function(){return[]})},t.prototype.resolveModelReference=function(){var e=this;return this.fileService.existsFile(this.resource).then(function(t){var n=e.configurationService.getConfiguration("files",{overrideIdentifier:"json"}).eol;return(t?r.TPromise.as(null):e.fileService.updateContent(e.resource,e.getEmptyContent(n),{encoding:"utf8"})).then(function(){return e.textModelResolverService.createModelReference(e.resource)})})},t.prototype.resolveAndValidate=function(){var e=this;return this.textFileService.isDirty(this.resource)?r.TPromise.wrapError(new Error(n.localize(0,null))):this.resolveModelReference().then(function(t){var i=t.object.textEditorModel,s=i.getEOL();if(i.getValue()){var a=e.parse(i);if(a.parseErrors.length)return r.TPromise.wrapError(new Error(n.localize(1,null)));if(a.result){if(!o.isArray(a.result))return r.TPromise.wrapError(new Error(n.localize(2,null)))}else{c=s+"[]";e.applyEditsToBuffer({content:c,length:c.length,offset:i.getValue().length},i)}}else{var c=e.getEmptyContent(s);e.applyEditsToBuffer({content:c,length:c.length,offset:0},i)}return t})},t.prototype.parse=function(e){var t=[];return{result:c.parse(e.getValue(),t,{allowTrailingComma:!0}),parseErrors:t}},t.prototype.getEmptyContent=function(e){return"// "+n.localize(3,null)+e+"[]"},t}(a.Disposable);C=v([y(0,b.ITextModelService),y(1,S.ITextFileService),y(2,_.IFileService),y(3,d.IConfigurationService),y(4,m.IEnvironmentService)],C),t.KeybindingsEditingService=C}),define(u[449],d([1,0,641,4,18,9,11,308,192,225,49,98,30,19,255,1157,6,38,207,423,126,41,327,90,176,13,17,20,89,55,29,22,956]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A,L,P,D,O,R){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var M=o.$,N=function(e){function t(t){var n=e.call(this)||this;return n.instantiationService=t,n.keybindingsModel=t.createInstance(m.KeybindingsEditorModel,s.OS),n}return h(t,e),t.prototype.getTypeId=function(){return t.ID},t.prototype.getName=function(){return n.localize(0,null)},t.prototype.resolve=function(e){return i.TPromise.as(this.keybindingsModel)},t.prototype.matches=function(e){return e instanceof t},t}(p.EditorInput);N.ID="workbench.input.keybindings",N=v([y(0,b.IInstantiationService)],N),t.KeybindingsEditorInput=N;var F=function(e){function t(n,i,o,s,a,c,l,u,d,h,p,f,g){var v=e.call(this,t.ID,n,i)||this;return v.keybindingsService=o,v.contextMenuService=s,v.preferencesService=a,v.keybindingEditingService=c,v.listService=l,v.contextKeyService=u,v.choiceService=d,v.messageService=h,v.clipboardService=p,v.instantiationService=f,v.editorService=g,v.latestEmptyFilters=[],v.delayedFiltering=new r.Delayer(300),v._register(o.onDidUpdateKeybindings(function(){return v.render()})),v.keybindingsEditorContextKey=C.CONTEXT_KEYBINDINGS_EDITOR.bindTo(v.contextKeyService),v.keybindingFocusContextKey=C.CONTEXT_KEYBINDING_FOCUS.bindTo(v.contextKeyService),v.delayedFilterLogging=new r.Delayer(1e3),v}return h(t,e),t.prototype.createEditor=function(e){var t=this,n=e.getHTMLElement(),i=o.append(n,M("div",{class:"keybindings-editor"}));this.createOverlayContainer(i),this.createHeader(i),this.createBody(i);var r=this._register(o.trackFocus(n));this._register(r.addFocusListener(function(){return t.keybindingsEditorContextKey.set(!0)})),this._register(r.addBlurListener(function(){return t.keybindingsEditorContextKey.reset()}))},t.prototype.setInput=function(t){var n=this,i=this.input;return e.prototype.setInput.call(this,t).then(function(){t.matches(i)||n.render()})},t.prototype.clearInput=function(){e.prototype.clearInput.call(this),this.searchWidget.clear(),this.keybindingsEditorContextKey.reset(),this.keybindingFocusContextKey.reset()},t.prototype.layout=function(e){this.dimension=e,this.searchWidget.layout(e),this.overlayContainer.style.width=e.width+"px",this.overlayContainer.style.height=e.height+"px",this.defineKeybindingWidget.layout(this.dimension),this.layoutKebindingsList()},t.prototype.focus=function(){var e=this.activeKeybindingEntry;e?this.selectEntry(e):this.searchWidget.focus()},Object.defineProperty(t.prototype,"activeKeybindingEntry",{get:function(){var e=this.keybindingsList.getFocusedElements()[0];return e&&e.templateId===m.KEYBINDING_ENTRY_TEMPLATE_ID?e:null},enumerable:!0,configurable:!0}),t.prototype.defineKeybinding=function(e){var t=this;return this.selectEntry(e),this.showOverlayContainer(),this.defineKeybindingWidget.define().then(function(n){return t.reportKeybindingAction(C.KEYBINDINGS_EDITOR_COMMAND_DEFINE,e.keybindingItem.command,n),n?t.keybindingEditingService.editKeybinding(n,e.keybindingItem.keybindingItem).then(function(){e.keybindingItem.keybinding||(t.unAssignedKeybindingItemToRevealAndFocus=e)}):null}).then(function(){t.hideOverlayContainer(),t.selectEntry(e)},function(n){return t.hideOverlayContainer(),t.onKeybindingEditingError(n),t.selectEntry(e),n})},t.prototype.removeKeybinding=function(e){var t=this;return this.selectEntry(e),e.keybindingItem.keybinding?(this.reportKeybindingAction(C.KEYBINDINGS_EDITOR_COMMAND_REMOVE,e.keybindingItem.command,e.keybindingItem.keybinding),this.keybindingEditingService.removeKeybinding(e.keybindingItem.keybindingItem).then(function(){return t.focus()},function(n){t.onKeybindingEditingError(n),t.selectEntry(e)})):i.TPromise.as(null)},t.prototype.resetKeybinding=function(e){var t=this;return this.selectEntry(e),this.reportKeybindingAction(C.KEYBINDINGS_EDITOR_COMMAND_RESET,e.keybindingItem.command,e.keybindingItem.keybinding),this.keybindingEditingService.resetKeybinding(e.keybindingItem.keybindingItem).then(function(){e.keybindingItem.keybinding||(t.unAssignedKeybindingItemToRevealAndFocus=e),t.selectEntry(e)},function(n){t.onKeybindingEditingError(n),t.selectEntry(e)})},t.prototype.copyKeybinding=function(e){this.selectEntry(e),this.reportKeybindingAction(C.KEYBINDINGS_EDITOR_COMMAND_COPY,e.keybindingItem.command,e.keybindingItem.keybinding);var t={command:e.keybindingItem.command,key:e.keybindingItem.keybinding?e.keybindingItem.keybinding.getUserSettingsLabel():""};return e.keybindingItem.when&&(t.when=e.keybindingItem.when),this.clipboardService.writeText(JSON.stringify(t,null,"  ")),i.TPromise.as(null)},t.prototype.search=function(e){this.searchWidget.focus()},t.prototype.showConflicts=function(e){var t='"'+e.keybindingItem.keybinding.getAriaLabel()+'"';return t!==this.searchWidget.getValue()&&this.searchWidget.setValue(t),i.TPromise.as(null)},t.prototype.createOverlayContainer=function(e){this.overlayContainer=o.append(e,M(".overlay-container")),this.overlayContainer.style.position="absolute",this.overlayContainer.style.zIndex="10",this.defineKeybindingWidget=this._register(this.instantiationService.createInstance(E.DefineKeybindingWidget,this.overlayContainer)),this.hideOverlayContainer()},t.prototype.showOverlayContainer=function(){this.overlayContainer.style.display="block"},t.prototype.hideOverlayContainer=function(){this.overlayContainer.style.display="none"},t.prototype.createHeader=function(e){var t=this;this.headerContainer=o.append(e,M(".keybindings-header"));var i=o.append(this.headerContainer,M(".search-container"));this.searchWidget=this._register(this.instantiationService.createInstance(_.SearchWidget,i,{ariaLabel:n.localize(1,null),placeholder:n.localize(2,null),navigateByArrows:!0})),this._register(this.searchWidget.onDidChange(function(e){return t.delayedFiltering.trigger(function(){return t.filterKeybindings()})})),this._register(this.searchWidget.onNavigate(function(e){return t._onNavigate(e)})),this.sortByPrecedence=this._register(new a.Checkbox({actionClassName:"sort-by-precedence",isChecked:!1,onChange:function(){return t.renderKeybindingsEntries(!1)},title:n.localize(3,null)})),i.appendChild(this.sortByPrecedence.domNode),this.createOpenKeybindingsElement(this.headerContainer)},t.prototype.createOpenKeybindingsElement=function(e){var t=this,i=o.append(e,M(".open-keybindings-container"));o.append(i,M("",null,n.localize(4,null)));var r=o.append(i,M(".file-name",null,n.localize(5,null)));r.tabIndex=0,this._register(o.addDisposableListener(r,o.EventType.CLICK,function(){return t.preferencesService.openGlobalKeybindingSettings(!0)})),this._register(o.addDisposableListener(r,o.EventType.KEY_UP,function(e){var n=new P.StandardKeyboardEvent(e);switch(n.keyCode){case 3:return t.preferencesService.openGlobalKeybindingSettings(!0),n.preventDefault(),void n.stopPropagation()}}))},t.prototype.createBody=function(e){var t=o.append(e,M(".keybindings-body"));this.createList(t)},t.prototype.createList=function(e){var t=this;this.keybindingsListContainer=o.append(e,M(".keybindings-list-container")),this.keybindingsList=this._register(new k.List(this.keybindingsListContainer,new W,[new B,new V(this,this.keybindingsService)],{identityProvider:function(e){return e.id},keyboardSupport:!1,mouseSupport:!0,ariaLabel:n.localize(6,null)})),this._register(this.keybindingsList.onContextMenu(function(e){return t.onContextMenu(e)})),this._register(this.keybindingsList.onFocusChange(function(e){return t.onFocusChange(e)})),this._register(this.keybindingsList.onDOMFocus(function(){o.addClass(t.keybindingsList.getHTMLElement(),"focused")})),this._register(this.keybindingsList.onDOMBlur(function(){o.removeClass(t.keybindingsList.getHTMLElement(),"focused"),t.keybindingFocusContextKey.reset()})),this._register(D.attachListStyler(this.keybindingsList,this.themeService)),this._register(this.listService.register(this.keybindingsList))},t.prototype.render=function(){var e=this;return this.input?this.input.resolve().then(function(t){return e.keybindingsEditorModel=t}).then(function(){return e.keybindingsEditorModel.resolve()}).then(function(){return e.renderKeybindingsEntries(!1)}):i.TPromise.as(null)},t.prototype.filterKeybindings=function(){var e=this;this.renderKeybindingsEntries(this.searchWidget.hasFocus()),this.delayedFilterLogging.trigger(function(){return e.reportFilteringUsed(e.searchWidget.getValue())})},t.prototype.renderKeybindingsEntries=function(e){if(this.keybindingsEditorModel){var t=this.searchWidget.getValue(),n=this.keybindingsEditorModel.fetch(t,this.sortByPrecedence.checked);0===n.length&&this.latestEmptyFilters.push(t);var i=this.keybindingsList.getSelection()[0];if(this.listEntries=[{id:"keybinding-header-entry",templateId:m.KEYBINDING_HEADER_TEMPLATE_ID}].concat(n),this.keybindingsList.splice(0,this.keybindingsList.length,this.listEntries),this.layoutKebindingsList(),e)this.keybindingsList.setSelection([]),this.keybindingsList.setFocus([]);else if(this.unAssignedKeybindingItemToRevealAndFocus){var r=this.getNewIndexOfUnassignedKeybinding(this.unAssignedKeybindingItemToRevealAndFocus);-1!==r&&(this.keybindingsList.reveal(r,.2),this.selectEntry(r)),this.unAssignedKeybindingItemToRevealAndFocus=null}else-1!==i&&i<this.listEntries.length?this.selectEntry(i):this.editorService.getActiveEditor()===this&&this.focus()}},t.prototype.layoutKebindingsList=function(){var e=this.dimension.height-(o.getDomNodePagePosition(this.headerContainer).height+12);this.keybindingsListContainer.style.height=e+"px",this.keybindingsList.layout(e)},t.prototype.getIndexOf=function(e){var t=this.listEntries.indexOf(e);if(-1===t)for(var n=0;n<this.listEntries.length;n++)if(this.listEntries[n].id===e.id)return n;return t},t.prototype.getNewIndexOfUnassignedKeybinding=function(e){for(var t=0;t<this.listEntries.length;t++){var n=this.listEntries[t];if(n.templateId===m.KEYBINDING_ENTRY_TEMPLATE_ID&&n.keybindingItem.command===e.keybindingItem.command)return t}return-1},t.prototype.selectEntry=function(e){var t="number"==typeof e?e:this.getIndexOf(e);-1!==t&&(this.keybindingsList.getHTMLElement().focus(),this.keybindingsList.setFocus([t]),this.keybindingsList.setSelection([t]))},t.prototype._onNavigate=function(e){if(!e){this.keybindingsList.getHTMLElement().focus();var t=this.keybindingsList.getFocus();this.keybindingsList.setFocus([t.length?t[0]:0])}},t.prototype.onContextMenu=function(e){var t=this;e.element.templateId===m.KEYBINDING_ENTRY_TEMPLATE_ID&&(this.selectEntry(e.element),this.contextMenuService.showContextMenu({getAnchor:function(){return e.anchor},getActions:function(){return i.TPromise.as([t.createCopyAction(e.element),new u.Separator,t.createDefineAction(e.element),t.createRemoveAction(e.element),t.createResetAction(e.element),new u.Separator,t.createShowConflictsAction(e.element)])}}))},t.prototype.onFocusChange=function(e){this.keybindingFocusContextKey.reset();var t=e.elements[0];t&&(t.templateId!==m.KEYBINDING_HEADER_TEMPLATE_ID?t.templateId===m.KEYBINDING_ENTRY_TEMPLATE_ID&&this.keybindingFocusContextKey.set(!0):this.keybindingsList.focusNext())},t.prototype.createDefineAction=function(e){var t=this;return{label:e.keybindingItem.keybinding?n.localize(7,null):n.localize(8,null),enabled:!0,id:C.KEYBINDINGS_EDITOR_COMMAND_DEFINE,run:function(){return t.defineKeybinding(e)}}},t.prototype.createRemoveAction=function(e){var t=this;return{label:n.localize(9,null),enabled:!!e.keybindingItem.keybinding,id:C.KEYBINDINGS_EDITOR_COMMAND_REMOVE,run:function(){return t.removeKeybinding(e)}}},t.prototype.createResetAction=function(e){var t=this;return{label:n.localize(10,null),enabled:!e.keybindingItem.keybindingItem.isDefault,id:C.KEYBINDINGS_EDITOR_COMMAND_RESET,run:function(){return t.resetKeybinding(e)}}},t.prototype.createShowConflictsAction=function(e){var t=this;return{label:n.localize(11,null),enabled:!!e.keybindingItem.keybinding,id:C.KEYBINDINGS_EDITOR_COMMAND_SHOW_CONFLICTS,run:function(){return t.showConflicts(e)}}},t.prototype.createCopyAction=function(e){var t=this;return{label:n.localize(12,null),enabled:!0,id:C.KEYBINDINGS_EDITOR_COMMAND_COPY,run:function(){return t.copyKeybinding(e)}}},t.prototype.reportFilteringUsed=function(e){if(e){var t={filter:e,emptyFilters:this.getLatestEmptyFiltersForTelemetry()};this.latestEmptyFilters=[],this.telemetryService.publicLog("keybindings.filter",t)}},t.prototype.getLatestEmptyFiltersForTelemetry=function(){var e=0;return this.latestEmptyFilters.filter(function(t){return(e+=t.length)<=8192})},t.prototype.reportKeybindingAction=function(e,t,n){this.telemetryService.publicLog(e,{command:t,keybinding:n?"string"==typeof n?n:n.getUserSettingsLabel():""})},t.prototype.onKeybindingEditingError=function(e){this.messageService.show(L.Severity.Error,"string"==typeof e?e:n.localize(13,null,""+e))},t}(d.BaseEditor);F.ID="workbench.editor.keybindings",F=v([y(0,f.ITelemetryService),y(1,x.IThemeService),y(2,S.IKeybindingService),y(3,w.IContextMenuService),y(4,C.IPreferencesService),y(5,I.IKeybindingEditingService),y(6,T.IListService),y(7,A.IContextKeyService),y(8,L.IChoiceService),y(9,L.IMessageService),y(10,g.IClipboardService),y(11,b.IInstantiationService),y(12,R.IWorkbenchEditorService)],F),t.KeybindingsEditor=F;var W=function(){function e(){}return e.prototype.getHeight=function(e){if(e.templateId===m.KEYBINDING_ENTRY_TEMPLATE_ID){var t=e.keybindingItem.commandLabel&&e.commandIdMatches,n=!!e.commandDefaultLabelMatches;if(t&&n)return 60;if(t||n)return 40}return e.templateId===m.KEYBINDING_HEADER_TEMPLATE_ID?30:24},e.prototype.getTemplateId=function(e){return e.templateId},e}(),B=function(){function e(){}return Object.defineProperty(e.prototype,"templateId",{get:function(){return m.KEYBINDING_HEADER_TEMPLATE_ID},enumerable:!0,configurable:!0}),e.prototype.renderTemplate=function(e){return o.addClass(e,"keybindings-list-header"),o.append(e,M(".header.actions"),M(".header.command",null,n.localize(14,null)),M(".header.keybinding",null,n.localize(15,null)),M(".header.source",null,n.localize(16,null)),M(".header.when",null,n.localize(17,null))),{}},e.prototype.renderElement=function(e,t,n){},e.prototype.disposeTemplate=function(e){},e}(),V=function(){function e(e,t){this.keybindingsEditor=e,this.keybindingsService=t}return Object.defineProperty(e.prototype,"templateId",{get:function(){return m.KEYBINDING_ENTRY_TEMPLATE_ID},enumerable:!0,configurable:!0}),e.prototype.renderTemplate=function(e){o.addClass(e,"keybinding-item");var t=new H(e,this.keybindingsEditor,this.keybindingsService),n=new K(e,this.keybindingsEditor),i=new U(e,this.keybindingsEditor),r=new j(e,this.keybindingsEditor),s=new G(e,this.keybindingsEditor);return e.setAttribute("aria-labelledby",[n.id,i.id,r.id,s.id].join(" ")),{parent:e,actions:t,command:n,keybinding:i,source:r,when:s}},e.prototype.renderElement=function(e,t,n){o.toggleClass(n.parent,"even",t%2==0),n.actions.render(e),n.command.render(e),n.keybinding.render(e),n.source.render(e),n.when.render(e)},e.prototype.disposeTemplate=function(e){},e}(),z=function(){return function(e,t){this.parent=e,this.keybindingsEditor=t,this.element=this.create(e),this.id=this.element.getAttribute("id")}}();z.COUNTER=0;var H=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.keybindingsService=i,r}return h(t,e),t.prototype.create=function(e){var t=o.append(e,M(".column.actions",{id:"actions_"+ ++z.COUNTER}));return this.actionBar=new u.ActionBar(t,{animated:!1}),t},t.prototype.render=function(e){this.actionBar.clear();var t=[];e.keybindingItem.keybinding?t.push(this.createEditAction(e)):t.push(this.createAddAction(e)),this.actionBar.push(t,{icon:!0})},t.prototype.createEditAction=function(e){var t=this,i=this.keybindingsService.lookupKeybinding(C.KEYBINDINGS_EDITOR_COMMAND_DEFINE);return{class:"edit",enabled:!0,id:"editKeybinding",tooltip:i?n.localize(18,null,"("+i.getLabel()+")"):n.localize(19,null),run:function(){return t.keybindingsEditor.defineKeybinding(e)}}},t.prototype.createAddAction=function(e){var t=this,i=this.keybindingsService.lookupKeybinding(C.KEYBINDINGS_EDITOR_COMMAND_DEFINE);return{class:"add",enabled:!0,id:"addKeybinding",tooltip:i?n.localize(20,null,"("+i.getLabel()+")"):n.localize(21,null),run:function(){return t.keybindingsEditor.defineKeybinding(e)}}},t}(z),K=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.create=function(e){return this.commandColumn=o.append(e,M(".column.command",{id:"command_"+ ++z.COUNTER})),this.commandColumn},t.prototype.render=function(e){o.clearNode(this.commandColumn);var t=e.keybindingItem,n=!(!t.commandLabel||!e.commandIdMatches),i=!!e.commandDefaultLabelMatches;if(o.toggleClass(this.commandColumn,"vertical-align-column",n||i),this.commandColumn.setAttribute("aria-label",this.getAriaLabel(e)),t.commandLabel){var r=new c.HighlightedLabel(this.commandColumn);r.set(t.commandLabel,e.commandLabelMatches),r.element.title=t.command}e.commandDefaultLabelMatches&&new c.HighlightedLabel(o.append(this.commandColumn,M(".command-default-label"))).set(t.commandDefaultLabel,e.commandDefaultLabelMatches),!e.commandIdMatches&&t.commandLabel||new c.HighlightedLabel(o.append(this.commandColumn,M(".code"))).set(t.command,e.commandIdMatches)},t.prototype.getAriaLabel=function(e){return n.localize(22,null,e.keybindingItem.commandLabel?e.keybindingItem.commandLabel:e.keybindingItem.command)},t}(z),U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.create=function(e){return this.keybindingColumn=o.append(e,M(".column.keybinding",{id:"keybinding_"+ ++z.COUNTER})),this.keybindingColumn},t.prototype.render=function(e){o.clearNode(this.keybindingColumn),this.keybindingColumn.setAttribute("aria-label",this.getAriaLabel(e)),e.keybindingItem.keybinding&&new l.KeybindingLabel(this.keybindingColumn,s.OS).set(e.keybindingItem.keybinding,e.keybindingMatches)},t.prototype.getAriaLabel=function(e){return e.keybindingItem.keybinding?n.localize(23,null,e.keybindingItem.keybinding.getAriaLabel()):n.localize(24,null)},t}(z),j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.create=function(e){return this.sourceColumn=o.append(e,M(".column.source",{id:"source_"+ ++z.COUNTER})),this.sourceColumn},t.prototype.render=function(e){o.clearNode(this.sourceColumn),this.sourceColumn.setAttribute("aria-label",this.getAriaLabel(e)),new c.HighlightedLabel(this.sourceColumn).set(e.keybindingItem.source,e.sourceMatches)},t.prototype.getAriaLabel=function(e){return n.localize(25,null,e.keybindingItem.source)},t}(z),G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.create=function(e){var t=o.append(e,M(".column.when"));return this.whenColumn=o.append(t,M("div",{id:"when_"+ ++z.COUNTER})),this.whenColumn},t.prototype.render=function(e){o.clearNode(this.whenColumn),this.whenColumn.setAttribute("aria-label",this.getAriaLabel(e)),o.toggleClass(this.whenColumn,"code",!!e.keybindingItem.when),o.toggleClass(this.whenColumn,"empty",!e.keybindingItem.when),e.keybindingItem.when?(new c.HighlightedLabel(this.whenColumn).set(e.keybindingItem.when,e.whenMatches),this.whenColumn.title=e.keybindingItem.when):this.whenColumn.textContent="—"},t.prototype.getAriaLabel=function(e){return e.keybindingItem.when?n.localize(26,null,e.keybindingItem.when):n.localize(27,null)},t}(z);x.registerThemingParticipant(function(e,t){var n=e.getColor(O.listHighlightForeground);n&&t.addRule(".keybindings-editor > .keybindings-body > .keybindings-list-container .monaco-list-row > .column .highlight { color: "+n+"; }")})}),define(u[1217],d([1,0,79,4,647,16,70,82,12,5,30,22,27,104,63,45,31,43,20,59,6,39,65,286,19,304,449,71,56,105,37,38,44,955]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A,L,P,D,O,R,M){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var N=function(e){function t(t,i,r,a,c,l,u,d,h,p,f,g,v,m,y,b){var S=e.call(this)||this;return S.editorService=t,S.editorGroupService=i,S.fileService=r,S.configurationService=a,S.messageService=c,S.choiceService=l,S.contextService=u,S.instantiationService=d,S.storageService=h,S.environmentService=p,S.telemetryService=f,S.textModelResolverService=g,S.configurationEditingService=v,S.extensionService=m,S.modelService=b,S.lastOpenedSettingsInput=null,S.defaultSettingsResource=o.default.from({scheme:n.Schemas.vscode,authority:"defaultsettings",path:"/settings.json"}),S.defaultKeybindingsResource=o.default.from({scheme:n.Schemas.vscode,authority:"defaultsettings",path:"/keybindings.json"}),S.defaultPreferencesEditorModels=new s.ResourceMap,S.editorGroupService.onEditorsChanged(function(){var e=S.editorService.getActiveEditorInput();e instanceof x.PreferencesEditorInput&&(S.lastOpenedSettingsInput=e)}),y.onDidUpdateKeybindings(function(){var e=b.getModel(S.defaultKeybindingsResource);e&&e.setValue(T.defaultKeybindingsContents(y))}),S}return h(t,e),Object.defineProperty(t.prototype,"userSettingsResource",{get:function(){return this.getEditableSettingsURI(I.ConfigurationTarget.USER)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"workspaceSettingsResource",{get:function(){return this.getEditableSettingsURI(I.ConfigurationTarget.WORKSPACE)},enumerable:!0,configurable:!0}),t.prototype.createPreferencesEditorModel=function(e){var t=this,n=this.defaultPreferencesEditorModels.get(e);if(n)return n;if(this.defaultSettingsResource.fsPath===e.fsPath)return n=i.TPromise.join([this.extensionService.onReady(),this.fetchMostCommonlyUsedSettings()]).then(function(n){var i=n[1];return t.instantiationService.createInstance(T.DefaultSettingsEditorModel,e,i)}),this.defaultPreferencesEditorModels.set(e,n),n;if(this.defaultKeybindingsResource.fsPath===e.fsPath){var r=this.instantiationService.createInstance(T.DefaultKeybindingsEditorModel,e);return n=i.TPromise.wrap(r),this.defaultPreferencesEditorModels.set(e,n),n}if(this.getEditableSettingsURI(I.ConfigurationTarget.USER).fsPath===e.fsPath)return this.createEditableSettingsEditorModel(I.ConfigurationTarget.USER);var o=this.getEditableSettingsURI(I.ConfigurationTarget.WORKSPACE);return o&&o.fsPath===e.fsPath?this.createEditableSettingsEditorModel(I.ConfigurationTarget.WORKSPACE):i.TPromise.wrap(null)},t.prototype.openSettings=function(){return this.doOpenSettings(I.ConfigurationTarget.USER,!1)},t.prototype.openGlobalSettings=function(){return this.doOpenSettings(I.ConfigurationTarget.USER)},t.prototype.openWorkspaceSettings=function(){return this.contextService.hasWorkspace()?this.doOpenSettings(I.ConfigurationTarget.WORKSPACE):(this.messageService.show(_.Severity.Info,r.localize(0,null)),i.TPromise.as(null))},t.prototype.switchSettings=function(){var e=this,t=this.editorService.getActiveEditor(),n=t.input;if(n instanceof x.PreferencesEditorInput){var i=this.getSettingsConfigurationTarget(n),r=I.ConfigurationTarget.USER===i?I.ConfigurationTarget.WORKSPACE:I.ConfigurationTarget.USER;return this.getOrCreateEditableSettingsEditorInput(r).then(function(n){var i=new x.PreferencesEditorInput(n.getName(),n.getDescription(),e.instantiationService.createInstance(x.DefaultPreferencesEditorInput,e.defaultSettingsResource),n);return e.editorService.replaceEditors([{toReplace:e.lastOpenedSettingsInput,replaceWith:i}],t.position).then(function(){e.lastOpenedSettingsInput=i})})}return void this.openSettings()},t.prototype.openGlobalKeybindingSettings=function(e){var t=this;if(this.telemetryService.publicLog("openKeybindings",{textual:e}),e){var n="// "+r.localize(1,null)+"\n[\n]",i=o.default.file(this.environmentService.appKeybindingsPath);return this.createIfNotExists(i,n).then(function(){return t.editorService.openEditors([{input:{resource:t.defaultKeybindingsResource,options:{pinned:!0},label:r.localize(2,null),description:""},position:g.Position.ONE},{input:{resource:i,options:{pinned:!0}},position:g.Position.TWO}]).then(function(){t.editorGroupService.focusGroup(g.Position.TWO)})})}return this.editorService.openEditor(this.instantiationService.createInstance(A.KeybindingsEditorInput),{pinned:!0}).then(function(){return null})},t.prototype.configureSettingsForLanguage=function(e){var t=this;this.openGlobalSettings().then(function(n){var i=P.getCodeEditor(n);t.getPosition(e,i).then(function(e){i.setPosition(e),i.focus()})})},t.prototype.doOpenSettings=function(e,t){var n=this;void 0===t&&(t=!0);var i=!t||!!this.configurationService.getConfiguration().workbench.settings.openDefaultSettings;return this.getOrCreateEditableSettingsEditorInput(e).then(function(e){if(i){var t=n.instantiationService.createInstance(x.DefaultPreferencesEditorInput,n.defaultSettingsResource),r=new x.PreferencesEditorInput(e.getName(),e.getDescription(),t,e);return n.lastOpenedSettingsInput=r,n.editorService.openEditor(r,{pinned:!0})}return n.editorService.openEditor(e,{pinned:!0})})},t.prototype.getOrCreateEditableSettingsEditorInput=function(e){var t=this,n=this.getEditableSettingsURI(e),i=this.getEmptyEditableSettingsContent(e);return this.createIfNotExists(n,i).then(function(){return t.editorService.createInput({resource:n})})},t.prototype.createEditableSettingsEditorModel=function(e){var t=this,n=this.getEditableSettingsURI(e);return n?this.textModelResolverService.createModelReference(n).then(function(n){return t.instantiationService.createInstance(T.SettingsEditorModel,n,e)}):i.TPromise.wrap(null)},t.prototype.getEmptyEditableSettingsContent=function(e){switch(e){case I.ConfigurationTarget.USER:return"// "+r.localize(3,null)+"\n{\n}";case I.ConfigurationTarget.WORKSPACE:return["// "+r.localize(4,null),"{","}"].join("\n")}},t.prototype.getEditableSettingsURI=function(e){switch(e){case I.ConfigurationTarget.USER:return o.default.file(this.environmentService.appSettingsPath);case I.ConfigurationTarget.WORKSPACE:if(this.contextService.hasWorkspace())return this.contextService.toResource(".vscode/settings.json")}return null},t.prototype.createIfNotExists=function(e,t){var n=this;return this.fileService.resolveContent(e,{acceptTextOnly:!0}).then(null,function(o){return o.fileOperationResult===S.FileOperationResult.FILE_NOT_FOUND?n.fileService.updateContent(e,t).then(null,function(t){return i.TPromise.wrapError(new Error(r.localize(5,null,a.getPathLabel(e,n.contextService,n.environmentService),t)))}):i.TPromise.wrapError(o)})},t.prototype.getSettingsConfigurationTarget=function(e){return e?u.toResource(e.master).toString()===this.userSettingsResource.toString()?I.ConfigurationTarget.USER:I.ConfigurationTarget.WORKSPACE:I.ConfigurationTarget.USER},t.prototype.fetchMostCommonlyUsedSettings=function(){return i.TPromise.wrap(["files.autoSave","editor.fontSize","editor.fontFamily","editor.tabSize","editor.renderWhitespace","editor.cursorStyle","editor.multiCursorModifier","editor.insertSpaces","editor.wordWrap","files.exclude","files.associations"])},t.prototype.getPosition=function(e,t){var n=this;return this.createPreferencesEditorModel(this.userSettingsResource).then(function(i){var r="["+e+"]",o=i.getPreference(r),s=t.getModel(),a=n.configurationService.getConfiguration("editor"),c=n.configurationService.getConfiguration("files").eol;if(o){if(o.overrides.length){var l=o.overrides[o.overrides.length-1],u=void 0;u=l.valueRange.endLineNumber===o.range.endLineNumber?","+c+n.spaces(2,a)+c+n.spaces(1,a):","+c+n.spaces(2,a);var d=D.EditOperation.insert(new O.Position(l.valueRange.endLineNumber,l.valueRange.endColumn),u);return s.pushEditOperations([],[d],function(){return[]}),{lineNumber:l.valueRange.endLineNumber+1,column:s.getLineMaxColumn(l.valueRange.endLineNumber+1)}}return{lineNumber:o.valueRange.startLineNumber,column:o.valueRange.startColumn+1}}return n.configurationEditingService.writeConfiguration(I.ConfigurationTarget.USER,{key:r,value:{}},{donotSave:!0}).then(function(){o=i.getPreference(r);var e=c+n.spaces(2,a)+c+n.spaces(1,a),t=D.EditOperation.insert(new O.Position(o.valueRange.endLineNumber,o.valueRange.endColumn-1),e);s.pushEditOperations([],[t],function(){return[]});var l=o.valueRange.endLineNumber+1;return i.dispose(),{lineNumber:l,column:s.getLineMaxColumn(l)}})})},t.prototype.spaces=function(e,t){var n=t.tabSize;return t.insertSpaces?c.repeat(" ",n*e):c.repeat("\t",e)},t.prototype.dispose=function(){this.defaultPreferencesEditorModels.clear(),e.prototype.dispose.call(this)},t}(l.Disposable);N=v([y(0,d.IWorkbenchEditorService),y(1,m.IEditorGroupService),y(2,S.IFileService),y(3,f.IWorkspaceConfigurationService),y(4,_.IMessageService),y(5,_.IChoiceService),y(6,p.IWorkspaceContextService),y(7,C.IInstantiationService),y(8,b.IStorageService),y(9,w.IEnvironmentService),y(10,k.ITelemetryService),y(11,L.ITextModelService),y(12,I.IConfigurationEditingService),y(13,E.IExtensionService),y(14,R.IKeybindingService),y(15,M.IModelService)],N),t.PreferencesService=N}),define(u[1218],d([1,0,643,16,15,72,50,30,98,35,116,60,95,304,449,290,126,1217,85,1016,17,22]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,v,m,y,b,S,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),u.registerSingleton(v.IPreferencesService,m.PreferencesService),r.Registry.as(a.Extensions.Editors).registerEditor(new c.EditorDescriptor(p.PreferencesEditor.ID,n.localize(0,null),"vs/workbench/parts/preferences/browser/preferencesEditor","PreferencesEditor"),[new h.SyncDescriptor(p.PreferencesEditorInput)]),r.Registry.as(a.Extensions.Editors).registerEditor(new c.EditorDescriptor(f.KeybindingsEditor.ID,n.localize(1,null),"vs/workbench/parts/preferences/browser/keybindingsEditor","KeybindingsEditor"),[new h.SyncDescriptor(f.KeybindingsEditorInput)]);var E=function(){function e(){}return e.prototype.serialize=function(e){var t=e;if(t.details&&t.master){var n=r.Registry.as(a.Extensions.Editors),i=n.getEditorInputFactory(t.details.getTypeId()),o=n.getEditorInputFactory(t.master.getTypeId());if(i&&o){var s=i.serialize(t.details),c=o.serialize(t.master);if(s&&c)return JSON.stringify({name:t.getName(),description:t.getDescription(),detailsSerialized:s,masterSerialized:c,detailsTypeId:t.details.getTypeId(),masterTypeId:t.master.getTypeId()})}}return null},e.prototype.deserialize=function(e,t){var n=JSON.parse(t),i=r.Registry.as(a.Extensions.Editors),o=i.getEditorInputFactory(n.detailsTypeId),s=i.getEditorInputFactory(n.masterTypeId);if(o&&s){var c=o.deserialize(e,n.detailsSerialized),l=s.deserialize(e,n.masterSerialized);if(c&&l)return new p.PreferencesEditorInput(n.name,n.description,c,l)}return null},e}(),C=function(){function e(){}return e.prototype.serialize=function(e){var t=e;return JSON.stringify({name:t.getName(),typeId:t.getTypeId()})},e.prototype.deserialize=function(e,t){return e.createInstance(f.KeybindingsEditorInput)},e}(),w=function(){function e(){}return e.prototype.serialize=function(e){var t={resource:e.getResource().toString()};return JSON.stringify(t)},e.prototype.deserialize=function(e,t){var n=JSON.parse(t);return e.createInstance(p.DefaultPreferencesEditorInput,i.default.parse(n.resource))},e}();r.Registry.as(a.Extensions.Editors).registerEditorInputFactory(p.PreferencesEditorInput.ID,E),r.Registry.as(a.Extensions.Editors).registerEditorInputFactory(p.DefaultPreferencesEditorInput.ID,w),r.Registry.as(a.Extensions.Editors).registerEditorInputFactory(f.KeybindingsEditorInput.ID,C);var I=n.localize(2,null),T=r.Registry.as(s.Extensions.WorkbenchActions);T.registerWorkbenchAction(new l.SyncActionDescriptor(g.OpenGlobalSettingsAction,g.OpenGlobalSettingsAction.ID,g.OpenGlobalSettingsAction.LABEL,{primary:2130}),"Preferences: Open User Settings",I),T.registerWorkbenchAction(new l.SyncActionDescriptor(g.OpenWorkspaceSettingsAction,g.OpenWorkspaceSettingsAction.ID,g.OpenWorkspaceSettingsAction.LABEL),"Preferences: Open Workspace Settings",I),T.registerWorkbenchAction(new l.SyncActionDescriptor(g.OpenGlobalKeybindingsAction,g.OpenGlobalKeybindingsAction.ID,g.OpenGlobalKeybindingsAction.LABEL,{primary:d.KeyChord(2089,2097)}),"Preferences: Open Keyboard Shortcuts",I),T.registerWorkbenchAction(new l.SyncActionDescriptor(g.OpenGlobalKeybindingsFileAction,g.OpenGlobalKeybindingsFileAction.ID,g.OpenGlobalKeybindingsFileAction.LABEL,{primary:null}),"Preferences: Open Keyboard Shortcuts File",I),T.registerWorkbenchAction(new l.SyncActionDescriptor(g.ConfigureLanguageBasedSettingsAction,g.ConfigureLanguageBasedSettingsAction.ID,g.ConfigureLanguageBasedSettingsAction.LABEL),"Preferences: Configure Language Specific Settings...",I),o.KeybindingsRegistry.registerCommandAndKeybindingRule({id:v.KEYBINDINGS_EDITOR_COMMAND_DEFINE,weight:o.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:S.ContextKeyExpr.and(v.CONTEXT_KEYBINDINGS_EDITOR,v.CONTEXT_KEYBINDING_FOCUS),primary:d.KeyChord(2089,2089),handler:function(e,t){var n=e.get(_.IWorkbenchEditorService).getActiveEditor();n.defineKeybinding(n.activeKeybindingEntry)}}),o.KeybindingsRegistry.registerCommandAndKeybindingRule({id:v.KEYBINDINGS_EDITOR_COMMAND_REMOVE,weight:o.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:S.ContextKeyExpr.and(v.CONTEXT_KEYBINDINGS_EDITOR,v.CONTEXT_KEYBINDING_FOCUS),primary:20,mac:{primary:d.KeyChord(2089,2049)},handler:function(e,t){var n=e.get(_.IWorkbenchEditorService).getActiveEditor();n.removeKeybinding(n.activeKeybindingEntry)}}),o.KeybindingsRegistry.registerCommandAndKeybindingRule({id:v.KEYBINDINGS_EDITOR_COMMAND_RESET,weight:o.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:S.ContextKeyExpr.and(v.CONTEXT_KEYBINDINGS_EDITOR,v.CONTEXT_KEYBINDING_FOCUS),primary:null,handler:function(e,t){var n=e.get(_.IWorkbenchEditorService).getActiveEditor();n.resetKeybinding(n.activeKeybindingEntry)}}),o.KeybindingsRegistry.registerCommandAndKeybindingRule({id:v.KEYBINDINGS_EDITOR_COMMAND_SEARCH,weight:o.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:S.ContextKeyExpr.and(v.CONTEXT_KEYBINDINGS_EDITOR,v.CONTEXT_KEYBINDING_FOCUS),primary:2084,handler:function(e,t){return e.get(_.IWorkbenchEditorService).getActiveEditor().search("")}}),o.KeybindingsRegistry.registerCommandAndKeybindingRule({id:v.KEYBINDINGS_EDITOR_COMMAND_SHOW_CONFLICTS,weight:o.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:S.ContextKeyExpr.and(v.CONTEXT_KEYBINDINGS_EDITOR,v.CONTEXT_KEYBINDING_FOCUS),primary:null,handler:function(e,t){var n=e.get(_.IWorkbenchEditorService).getActiveEditor();n.showConflicts(n.activeKeybindingEntry)}}),o.KeybindingsRegistry.registerCommandAndKeybindingRule({id:v.KEYBINDINGS_EDITOR_COMMAND_COPY,weight:o.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:S.ContextKeyExpr.and(v.CONTEXT_KEYBINDINGS_EDITOR,v.CONTEXT_KEYBINDING_FOCUS),primary:2081,handler:function(e,t){var n=e.get(_.IWorkbenchEditorService).getActiveEditor();n.copyKeybinding(n.activeKeybindingEntry)}}),r.Registry.as(y.Extensions.Workbench).registerWorkbenchContribution(b.PreferencesContentProvider)}),define(u[258],d([1,0,28,731,8,4,7,133,107,144,5,28,376,24,69,27,39,51,30,185,139,43,6,20,42,44,19,164,18]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A,L,P){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var D=function(e){function t(n,i,o,s,a,c,u,d,h,p,f,g,v){var m=e.call(this,a,s)||this;return m.messageService=o,m.fileService=c,m.lifecycleService=u,m.instantiationService=d,m.telemetryService=h,m.textFileService=p,m.backupFileService=f,m.environmentService=g,m.contextService=v,l.ok("file"===n.scheme,"TextFileEditorModel can only handle file:// resources."),m.resource=n,m.toDispose=[],m._onDidContentChange=new r.Emitter,m._onDidStateChange=new r.Emitter,m.toDispose.push(m._onDidContentChange),m.toDispose.push(m._onDidStateChange),m.preferredEncoding=i,m.dirty=!1,m.versionId=0,m.lastSaveAttemptTime=0,m.saveSequentializer=new O,m.contentChangeEventScheduler=new P.RunOnceScheduler(function(){return m._onDidContentChange.fire(S.StateChange.CONTENT_CHANGE)},t.DEFAULT_CONTENT_CHANGE_BUFFER_DELAY),m.toDispose.push(m.contentChangeEventScheduler),m.orphanedChangeEventScheduler=new P.RunOnceScheduler(function(){return m._onDidStateChange.fire(S.StateChange.ORPHANED_CHANGE)},t.DEFAULT_ORPHANED_CHANGE_BUFFER_DELAY),m.toDispose.push(m.orphanedChangeEventScheduler),m.updateAutoSaveConfiguration(p.getAutoSaveConfiguration()),m.registerListeners(),m}return h(t,e),t.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.fileService.onFileChanges(function(t){return e.onFileChanges(t)})),this.toDispose.push(this.textFileService.onAutoSaveConfigurationChange(function(t){return e.updateAutoSaveConfiguration(t)})),this.toDispose.push(this.textFileService.onFilesAssociationChange(function(t){return e.onFilesAssociationChange()})),this.toDispose.push(this.onDidStateChange(function(t){t===S.StateChange.REVERTED&&(e.contentChangeEventScheduler.cancel(),e._onDidContentChange.fire(S.StateChange.REVERTED))}))},t.prototype.onFileChanges=function(e){var t=this,n=e.contains(this.resource,w.FileChangeType.DELETED),i=e.contains(this.resource,w.FileChangeType.ADDED);if(n||i){var r=n&&!i;if(this.inOrphanMode!==r){(r?o.TPromise.timeout(100).then(function(){return!!t.disposed||t.fileService.existsFile(t.resource).then(function(e){return!e})}):o.TPromise.as(!1)).done(function(e){t.inOrphanMode===e||t.disposed||t.setOrphaned(e)})}}},t.prototype.setOrphaned=function(e){this.inOrphanMode!==e&&(this.inOrphanMode=e,this.orphanedChangeEventScheduler.schedule())},t.prototype.updateAutoSaveConfiguration=function(e){"number"==typeof e.autoSaveDelay&&e.autoSaveDelay>0?(this.autoSaveAfterMillies=e.autoSaveDelay,this.autoSaveAfterMilliesEnabled=!0):(this.autoSaveAfterMillies=void 0,this.autoSaveAfterMilliesEnabled=!1)},t.prototype.onFilesAssociationChange=function(){this.updateTextEditorModelMode()},t.prototype.updateTextEditorModelMode=function(e){if(this.textEditorModel){var t=this.getFirstLineText(this.textEditorModel.getValue()),n=this.getOrCreateMode(this.modeService,e,t);this.modelService.setMode(this.textEditorModel,n)}},Object.defineProperty(t.prototype,"onDidContentChange",{get:function(){return this._onDidContentChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidStateChange",{get:function(){return this._onDidStateChange.event},enumerable:!0,configurable:!0}),t.prototype.getVersionId=function(){return this.versionId},t.setSaveErrorHandler=function(e){t.saveErrorHandler=e},t.setSaveParticipant=function(e){t.saveParticipant=e},t.prototype.revert=function(e){var t=this;if(!this.isResolved())return o.TPromise.as(null);this.cancelAutoSavePromise();var n=this.setDirty(!1);return(e?o.TPromise.as(this):this.load(!0)).then(function(){t._onDidStateChange.fire(S.StateChange.REVERTED)},function(e){return n(),o.TPromise.wrapError(e)})},t.prototype.load=function(e){return M("load() - enter",this.resource,new Date),this.dirty?(M("load() - exit - without loading because model is dirty",this.resource,new Date),o.TPromise.as(this)):this.textEditorModel||this.createTextEditorModelPromise?this.loadFromFile(e):this.loadWithBackup(e)},t.prototype.loadWithBackup=function(e){var t=this;return this.backupFileService.loadBackupResource(this.resource).then(function(n){if(t.createTextEditorModelPromise||t.textEditorModel)return t.createTextEditorModelPromise||o.TPromise.as(t);if(n){var i={resource:t.resource,name:d.basename(t.resource.fsPath),mtime:Date.now(),etag:void 0,value:"",encoding:t.fileService.getEncoding(t.resource,t.preferredEncoding)};return t.loadWithContent(i,n)}return t.loadFromFile(e)})},t.prototype.loadFromFile=function(e){var t,n=this;return e?t=void 0:this.lastResolvedDiskStat&&(t=this.lastResolvedDiskStat.etag),this.textFileService.resolveTextContent(this.resource,{acceptTextOnly:!0,etag:t,encoding:this.preferredEncoding}).then(function(e){return n.handleLoadSuccess(e)},function(e){return n.handleLoadError(e)})},t.prototype.handleLoadSuccess=function(e){return this.setOrphaned(!1),this.loadWithContent(e)},t.prototype.handleLoadError=function(e){var t=e.fileOperationResult;return this.setOrphaned(t===w.FileOperationResult.FILE_NOT_FOUND),t===w.FileOperationResult.FILE_NOT_MODIFIED_SINCE?(this.setDirty(!1),o.TPromise.as(this)):this.isResolved()&&t===w.FileOperationResult.FILE_NOT_FOUND?o.TPromise.as(this):o.TPromise.wrapError(e)},t.prototype.loadWithContent=function(e,t){M("load() - resolved content",this.resource,new Date),this.telemetryService.publicLog("fileGet",{mimeType:a.guessMimeTypes(this.resource.fsPath).join(", "),ext:d.extname(this.resource.fsPath),path:L.anonymize(this.resource.fsPath)});var n={resource:this.resource,name:e.name,mtime:e.mtime,etag:e.etag,isDirectory:!1,hasChildren:!1,children:void 0};this.updateLastResolvedDiskStat(n);var i=this.contentEncoding;return this.contentEncoding=e.encoding,this.preferredEncoding?this.updatePreferredEncoding(this.contentEncoding):i!==this.contentEncoding&&this._onDidStateChange.fire(S.StateChange.ENCODING),this.textEditorModel?this.doUpdateTextModel(e.value):this.createTextEditorModelPromise?(M("load() - join existing text editor model promise",this.resource,new Date),this.createTextEditorModelPromise):this.doCreateTextModel(e.resource,e.value,t)},t.prototype.doUpdateTextModel=function(e){M("load() - updated text editor model",this.resource,new Date),this.setDirty(!1),this.blockModelContentChange=!0;try{this.updateTextEditorModel(e)}finally{this.blockModelContentChange=!1}return o.TPromise.as(this)},t.prototype.doCreateTextModel=function(e,t,n){var i=this;return M("load() - created text editor model",this.resource,new Date),this.createTextEditorModelPromise=this.doLoadBackup(n).then(function(n){var r="string"==typeof n;return i.createTextEditorModel(r?n:t,e).then(function(){return i.createTextEditorModelPromise=null,r?(i.makeDirty(),i.autoSaveAfterMilliesEnabled&&i.doAutoSave(i.versionId)):i.setDirty(!1),i.toDispose.push(i.textEditorModel.onDidChangeContent(function(e){i.onModelContentChanged()})),i},function(e){return i.createTextEditorModelPromise=null,o.TPromise.wrapError(e)})}),this.createTextEditorModelPromise},t.prototype.doLoadBackup=function(e){var t=this;return e?this.textFileService.resolveTextContent(e,C.BACKUP_FILE_RESOLVE_OPTIONS).then(function(e){return t.backupFileService.parseBackupContent(e.value)},function(e){return null}):o.TPromise.as(null)},t.prototype.getOrCreateMode=function(e,t,n){return e.getOrCreateModeByFilenameOrFirstLine(this.resource.fsPath,n)},t.prototype.onModelContentChanged=function(){if(M("onModelContentChanged() - enter",this.resource,new Date),this.versionId++,M("onModelContentChanged() - new versionId "+this.versionId,this.resource,new Date),!this.blockModelContentChange){if(!this.autoSaveAfterMilliesEnabled&&this.textEditorModel.getAlternativeVersionId()===this.bufferSavedVersionId){M("onModelContentChanged() - model content changed back to last saved version",this.resource,new Date);var e=this.dirty;return this.setDirty(!1),void(e&&this._onDidStateChange.fire(S.StateChange.REVERTED))}M("onModelContentChanged() - model content changed and marked as dirty",this.resource,new Date),this.makeDirty(),this.autoSaveAfterMilliesEnabled&&(this.inConflictMode?M("makeDirty() - prevented save because we are in conflict resolution mode",this.resource,new Date):this.doAutoSave(this.versionId)),this.contentChangeEventScheduler.schedule()}},t.prototype.makeDirty=function(){var e=this.dirty;this.setDirty(!0),e||this._onDidStateChange.fire(S.StateChange.DIRTY)},t.prototype.doAutoSave=function(e){var t=this;return M("doAutoSave() - enter for versionId "+e,this.resource,new Date),this.cancelAutoSavePromise(),this.autoSavePromise=o.TPromise.timeout(this.autoSaveAfterMillies).then(function(){e===t.versionId&&t.doSave(e,S.SaveReason.AUTO).done(null,s.onUnexpectedError)}),this.autoSavePromise},t.prototype.cancelAutoSavePromise=function(){this.autoSavePromise&&(this.autoSavePromise.cancel(),this.autoSavePromise=void 0)},t.prototype.save=function(e){return void 0===e&&(e=Object.create(null)),this.isResolved()?(M("save() - enter",this.resource,new Date),this.cancelAutoSavePromise(),this.doSave(this.versionId,f.isUndefinedOrNull(e.reason)?S.SaveReason.EXPLICIT:e.reason,e.overwriteReadonly,e.overwriteEncoding,e.force)):o.TPromise.as(null)},t.prototype.doSave=function(e,n,i,r,s){var c=this;if(M("doSave("+e+") - enter with versionId ' + versionId",this.resource,new Date),this.saveSequentializer.hasPendingSave(e))return M("doSave("+e+") - exit - found a pending save for versionId "+e,this.resource,new Date),this.saveSequentializer.pendingSave;if(!s&&!this.dirty||e!==this.versionId)return M("doSave("+e+") - exit - because not dirty and/or versionId is different (this.isDirty: "+this.dirty+", this.versionId: "+this.versionId+")",this.resource,new Date),o.TPromise.as(null);if(this.saveSequentializer.hasPendingSave())return M("doSave("+e+") - exit - because busy saving",this.resource,new Date),this.saveSequentializer.setNext(function(){return c.doSave(c.versionId,n,i,r)});this.autoSaveAfterMilliesEnabled||this.textEditorModel.pushStackElement();var l=o.TPromise.as(e);if(t.saveParticipant&&this.lifecycleService.phase!==g.LifecyclePhase.ShuttingDown){var u=function(){return c.blockModelContentChange=!1,c.versionId};l=o.TPromise.as(void 0).then(function(){return c.blockModelContentChange=!0,t.saveParticipant.participate(c,{reason:n})}).then(u,u)}return this.saveSequentializer.setPending(e,l.then(function(t){return s&&!c.dirty&&n===S.SaveReason.EXPLICIT&&e===t?c.doTouch():(e=t,c.inErrorMode=!1,c.lastSaveAttemptTime=Date.now(),M("doSave("+e+") - before updateContent()",c.resource,new Date),c.saveSequentializer.setPending(t,c.fileService.updateContent(c.lastResolvedDiskStat.resource,c.getValue(),{overwriteReadonly:i,overwriteEncoding:r,mtime:c.lastResolvedDiskStat.mtime,encoding:c.getEncoding(),etag:c.lastResolvedDiskStat.etag}).then(function(t){M("doSave("+e+") - after updateContent()",c.resource,new Date),c.isSettingsFile()?c.telemetryService.publicLog("settingsWritten"):c.telemetryService.publicLog("filePUT",{mimeType:a.guessMimeTypes(c.resource.fsPath).join(", "),ext:d.extname(c.lastResolvedDiskStat.resource.fsPath)}),e===c.versionId?(M("doSave("+e+") - setting dirty to false because versionId did not change",c.resource,new Date),c.setDirty(!1)):M("doSave("+e+") - not setting dirty to false because versionId did change meanwhile",c.resource,new Date),c.updateLastResolvedDiskStat(t),c.contentChangeEventScheduler.cancel(),c._onDidStateChange.fire(S.StateChange.SAVED)},function(t){M("doSave("+e+") - exit - resulted in a save error: "+t.toString(),c.resource,new Date),c.inErrorMode=!0,t.fileOperationResult===w.FileOperationResult.FILE_MODIFIED_SINCE&&(c.inConflictMode=!0),c.onSaveError(t),c._onDidStateChange.fire(S.StateChange.SAVE_ERROR)})))}))},t.prototype.isSettingsFile=function(){var e=this;return this.resource.fsPath===this.environmentService.appSettingsPath||!!this.contextService.hasWorkspace()&&this.contextService.getWorkspace2().roots.some(function(t){return d.isEqualOrParent(e.resource.fsPath,n.join(t.fsPath,".vscode"))})},t.prototype.doTouch=function(){var e=this;return this.fileService.touchFile(this.resource).then(function(t){e.updateLastResolvedDiskStat(t)},function(){})},t.prototype.setDirty=function(e){var t=this,n=this.dirty,i=this.inConflictMode,r=this.inErrorMode,o=this.bufferSavedVersionId;return e?this.dirty=!0:(this.dirty=!1,this.inConflictMode=!1,this.inErrorMode=!1,this.textEditorModel&&(this.bufferSavedVersionId=this.textEditorModel.getAlternativeVersionId())),function(){t.dirty=n,t.inConflictMode=i,t.inErrorMode=r,t.bufferSavedVersionId=o}},t.prototype.updateLastResolvedDiskStat=function(e){this.lastResolvedDiskStat?this.lastResolvedDiskStat.mtime<=e.mtime&&(this.lastResolvedDiskStat=e):this.lastResolvedDiskStat=e},t.prototype.onSaveError=function(e){t.saveErrorHandler||t.setSaveErrorHandler(this.instantiationService.createInstance(R)),t.saveErrorHandler.onSaveError(e,this)},t.prototype.isDirty=function(){return this.dirty},t.prototype.getLastSaveAttemptTime=function(){return this.lastSaveAttemptTime},t.prototype.getETag=function(){return this.lastResolvedDiskStat?this.lastResolvedDiskStat.etag:null},t.prototype.hasState=function(e){switch(e){case S.ModelState.CONFLICT:return this.inConflictMode;case S.ModelState.DIRTY:return this.dirty;case S.ModelState.ERROR:return this.inErrorMode;case S.ModelState.ORPHAN:return this.inOrphanMode;case S.ModelState.PENDING_SAVE:return this.saveSequentializer.hasPendingSave();case S.ModelState.SAVED:return!this.dirty}},t.prototype.getEncoding=function(){return this.preferredEncoding||this.contentEncoding},t.prototype.setEncoding=function(e,t){if(this.isNewEncoding(e))if(t===_.EncodingMode.Encode)this.updatePreferredEncoding(e),this.isDirty()||(this.versionId++,this.makeDirty()),this.inConflictMode||this.save({overwriteEncoding:!0}).done(null,s.onUnexpectedError);else{if(this.isDirty())return void this.messageService.show(T.Severity.Info,i.localize(0,null));this.updatePreferredEncoding(e),this.load(!0).done(null,s.onUnexpectedError)}},t.prototype.updatePreferredEncoding=function(e){this.isNewEncoding(e)&&(this.preferredEncoding=e,this._onDidStateChange.fire(S.StateChange.ENCODING))},t.prototype.isNewEncoding=function(e){return this.preferredEncoding!==e&&!(!this.preferredEncoding&&this.contentEncoding===e)},t.prototype.isResolved=function(){return!f.isUndefinedOrNull(this.lastResolvedDiskStat)},t.prototype.isDisposed=function(){return this.disposed},t.prototype.getResource=function(){return this.resource},t.prototype.getStat=function(){return this.lastResolvedDiskStat},t.prototype.dispose=function(){this.disposed=!0,this.inConflictMode=!1,this.inOrphanMode=!1,this.inErrorMode=!1,this.toDispose=u.dispose(this.toDispose),this.createTextEditorModelPromise=null,this.cancelAutoSavePromise(),e.prototype.dispose.call(this)},t}(E.BaseTextEditorModel);D.ID="workbench.editors.files.textFileEditorModel",D.DEFAULT_CONTENT_CHANGE_BUFFER_DELAY=w.CONTENT_CHANGE_EVENT_BUFFER_DELAY,D.DEFAULT_ORPHANED_CHANGE_BUFFER_DELAY=100,D=v([y(2,T.IMessageService),y(3,k.IModeService),y(4,x.IModelService),y(5,w.IFileService),y(6,g.ILifecycleService),y(7,I.IInstantiationService),y(8,A.ITelemetryService),y(9,S.ITextFileService),y(10,C.IBackupFileService),y(11,b.IEnvironmentService),y(12,m.IWorkspaceContextService)],D),t.TextFileEditorModel=D;var O=function(){function e(){}return e.prototype.hasPendingSave=function(e){return!!this._pendingSave&&("number"==typeof e?this._pendingSave.versionId===e:!!this._pendingSave)},Object.defineProperty(e.prototype,"pendingSave",{get:function(){return this._pendingSave?this._pendingSave.promise:void 0},enumerable:!0,configurable:!0}),e.prototype.setPending=function(e,t){var n=this;return this._pendingSave={versionId:e,promise:t},t.done(function(){return n.donePending(e)},function(){return n.donePending(e)}),t},e.prototype.donePending=function(e){this._pendingSave&&e===this._pendingSave.versionId&&(this._pendingSave=void 0,this.triggerNextSave())},e.prototype.triggerNextSave=function(){if(this._nextSave){var e=this._nextSave;this._nextSave=void 0,e.run().done(e.promiseValue,e.promiseError)}},e.prototype.setNext=function(e){if(this._nextSave)this._nextSave.run=e;else{var t,n,i=new o.TPromise(function(e,i){t=e,n=i});this._nextSave={run:e,promise:i,promiseValue:t,promiseError:n}}return this._nextSave.promise},e}();t.SaveSequentializer=O;var R=function(){function e(e){this.messageService=e}return e.prototype.onSaveError=function(e,t){this.messageService.show(T.Severity.Error,i.localize(1,null,d.basename(t.getResource().fsPath),c.toErrorMessage(e,!1)))},e}();R=v([y(0,T.IMessageService)],R);var M;M||(M=p.register("TextFileEditorModelDiagnostics",function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log(e[1]+" - "+e[0]+" (time: "+e[2].getTime()+" ["+e[2].toUTCString()+"])")}))}),define(u[1220],d([1,0,8,4,258,5,51,69,6,70]),function(e,t,n,i,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){this.lifecycleService=e,this.instantiationService=t,this.toUnbind=[],this._onModelDisposed=new n.Emitter,this._onModelContentChanged=new n.Emitter,this._onModelDirty=new n.Emitter,this._onModelSaveError=new n.Emitter,this._onModelSaved=new n.Emitter,this._onModelReverted=new n.Emitter,this._onModelEncodingChanged=new n.Emitter,this._onModelOrphanedChanged=new n.Emitter,this.toUnbind.push(this._onModelDisposed),this.toUnbind.push(this._onModelContentChanged),this.toUnbind.push(this._onModelDirty),this.toUnbind.push(this._onModelSaveError),this.toUnbind.push(this._onModelSaved),this.toUnbind.push(this._onModelReverted),this.toUnbind.push(this._onModelEncodingChanged),this.toUnbind.push(this._onModelOrphanedChanged),this.mapResourceToModel=new l.ResourceMap,this.mapResourceToDisposeListener=new l.ResourceMap,this.mapResourceToStateChangeListener=new l.ResourceMap,this.mapResourceToModelContentChangeListener=new l.ResourceMap,this.mapResourceToPendingModelLoaders=new l.ResourceMap,this.registerListeners()}return e.prototype.registerListeners=function(){this.lifecycleService.onShutdown(this.dispose,this)},Object.defineProperty(e.prototype,"onModelDisposed",{get:function(){return this._onModelDisposed.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onModelContentChanged",{get:function(){return this._onModelContentChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onModelDirty",{get:function(){return this._onModelDirty.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onModelSaveError",{get:function(){return this._onModelSaveError.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onModelSaved",{get:function(){return this._onModelSaved.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onModelReverted",{get:function(){return this._onModelReverted.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onModelEncodingChanged",{get:function(){return this._onModelEncodingChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onModelOrphanedChanged",{get:function(){return this._onModelOrphanedChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onModelsDirty",{get:function(){return this._onModelsDirtyEvent||(this._onModelsDirtyEvent=this.debounce(this.onModelDirty)),this._onModelsDirtyEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onModelsSaveError",{get:function(){return this._onModelsSaveError||(this._onModelsSaveError=this.debounce(this.onModelSaveError)),this._onModelsSaveError},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onModelsSaved",{get:function(){return this._onModelsSaved||(this._onModelsSaved=this.debounce(this.onModelSaved)),this._onModelsSaved},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onModelsReverted",{get:function(){return this._onModelsReverted||(this._onModelsReverted=this.debounce(this.onModelReverted)),this._onModelsReverted},enumerable:!0,configurable:!0}),e.prototype.debounce=function(e){return n.debounceEvent(e,function(e,t){return e?e.push(t):e=[t],e},this.debounceDelay())},e.prototype.debounceDelay=function(){return 250},e.prototype.get=function(e){return this.mapResourceToModel.get(e)},e.prototype.loadOrCreate=function(e,t){var n=this,o=this.mapResourceToPendingModelLoaders.get(e);if(o)return o;var a,c=this.get(e);return c?a=t&&t.reload?c.load():i.TPromise.as(c):(a=(c=this.instantiationService.createInstance(r.TextFileEditorModel,e,t?t.encoding:void 0)).load(),this.mapResourceToStateChangeListener.set(e,c.onDidStateChange(function(e){var t=new s.TextFileModelChangeEvent(c,e);switch(e){case s.StateChange.DIRTY:n._onModelDirty.fire(t);break;case s.StateChange.SAVE_ERROR:n._onModelSaveError.fire(t);break;case s.StateChange.SAVED:n._onModelSaved.fire(t);break;case s.StateChange.REVERTED:n._onModelReverted.fire(t);break;case s.StateChange.ENCODING:n._onModelEncodingChanged.fire(t);break;case s.StateChange.ORPHANED_CHANGE:n._onModelOrphanedChanged.fire(t)}})),this.mapResourceToModelContentChangeListener.set(e,c.onDidContentChange(function(e){n._onModelContentChanged.fire(new s.TextFileModelChangeEvent(c,e))}))),this.mapResourceToPendingModelLoaders.set(e,a),a.then(function(t){return n.add(e,t),t.isDirty()&&n._onModelDirty.fire(new s.TextFileModelChangeEvent(t,s.StateChange.DIRTY)),n.mapResourceToPendingModelLoaders.delete(e),t},function(t){return c.dispose(),n.mapResourceToPendingModelLoaders.delete(e),i.TPromise.wrapError(t)})},e.prototype.getAll=function(e,t){if(e){var n=this.mapResourceToModel.get(e);return n?[n]:[]}var i=[];return this.mapResourceToModel.forEach(function(e){t&&!t(e)||i.push(e)}),i},e.prototype.add=function(e,t){var n=this;if(this.mapResourceToModel.get(e)!==t){var i=this.mapResourceToDisposeListener.get(e);i&&i.dispose(),this.mapResourceToModel.set(e,t),this.mapResourceToDisposeListener.set(e,t.onDispose(function(){n.remove(e),n._onModelDisposed.fire(e)}))}},e.prototype.remove=function(e){this.mapResourceToModel.delete(e);var t=this.mapResourceToDisposeListener.get(e);t&&(o.dispose(t),this.mapResourceToDisposeListener.delete(e));var n=this.mapResourceToStateChangeListener.get(e);n&&(o.dispose(n),this.mapResourceToStateChangeListener.delete(e));var i=this.mapResourceToModelContentChangeListener.get(e);i&&(o.dispose(i),this.mapResourceToModelContentChangeListener.delete(e))},e.prototype.clear=function(){this.mapResourceToModel.clear(),this.mapResourceToPendingModelLoaders.clear(),this.mapResourceToDisposeListener.forEach(function(e){return e.dispose()}),this.mapResourceToDisposeListener.clear(),this.mapResourceToStateChangeListener.forEach(function(e){return e.dispose()}),this.mapResourceToStateChangeListener.clear(),this.mapResourceToModelContentChangeListener.forEach(function(e){return e.dispose()}),this.mapResourceToModelContentChangeListener.clear()},e.prototype.disposeModel=function(e){e&&(e.isDisposed()||this.mapResourceToPendingModelLoaders.has(e.getResource())||e.isDirty()||e.dispose())},e.prototype.dispose=function(){this.toUnbind=o.dispose(this.toUnbind)},e}();u=v([y(0,a.ILifecycleService),y(1,c.IInstantiationService)],u),t.TextFileEditorModelManager=u}),define(u[1221],d([1,0,143,12,4]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){this.hash=n.createHash("sha1"),this.BOM="",this.lines=[],this.currLineIndex=0}return e.prototype.acceptLines=function(e){0===this.currLineIndex&&i.startsWithUTF8BOM(e[0])&&(this.BOM=i.UTF8_BOM_CHARACTER,e[0]=e[0].substr(1));for(var t=0,n=e.length;t<n;t++)this.lines[this.currLineIndex++]=e[t];this.hash.update(e.join("\n")+"\n")},e.prototype.finish=function(e,t,n,i){return{hash:this.hash.digest("hex"),value:{BOM:this.BOM,lines:this.lines,length:e,containsRTL:n,totalCRCount:t,isBasicASCII:i}}},e}();t.computeHash=function(e){for(var t=n.createHash("sha1"),i=0,r=e.lines.length;i<r;i++)t.update(e.lines[i]+"\n");return t.digest("hex")};var s=function(){function e(){this.leftoverPrevChunk="",this.leftoverEndsInCR=!1,this.totalCRCount=0,this.lineBasedBuilder=new o,this.totalLength=0,this.containsRTL=!1,this.isBasicASCII=!0}return e.fromStringStream=function(t){return new r.TPromise(function(n,i,r){var o=!1,s=new e;t.on("data",function(e){s.acceptChunk(e)}),t.on("error",function(e){o||(o=!0,i(e))}),t.on("end",function(){o||(o=!0,n(s.finish()))})})},e.prototype._updateCRCount=function(e){for(var t=0,n=-1;-1!==(n=e.indexOf("\r",n+1));)t++;this.totalCRCount+=t},e.prototype.acceptChunk=function(e){if(0!==e.length){this.totalLength+=e.length,this._updateCRCount(e),this.containsRTL||(this.containsRTL=i.containsRTL(e)),this.isBasicASCII&&(this.isBasicASCII=i.isBasicASCII(e)),this.leftoverEndsInCR&&(e="\r"+e),13===e.charCodeAt(e.length-1)?(this.leftoverEndsInCR=!0,e=e.substr(0,e.length-1)):this.leftoverEndsInCR=!1;var t=e.split(/\r\n|\r|\n/);1!==t.length?(t[0]=this.leftoverPrevChunk+t[0],this.lineBasedBuilder.acceptLines(t.slice(0,t.length-1)),this.leftoverPrevChunk=t[t.length-1]):this.leftoverPrevChunk+=t[0]}},e.prototype.finish=function(){var e=[this.leftoverPrevChunk];return this.leftoverEndsInCR&&e.push(""),this.lineBasedBuilder.acceptLines(e),this.lineBasedBuilder.finish(this.totalLength,this.totalCRCount,this.containsRTL,this.isBasicASCII)},e}();t.ModelBuilder=s}),define(u[1222],d([1,0,734,15,123,29]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i.Registry.as(o.Extensions.ColorContribution),a=["comment","comment.block","comment.block.documentation","comment.line","constant","constant.character","constant.character.escape","constant.numeric","constant.numeric.integer","constant.numeric.float","constant.numeric.hex","constant.numeric.octal","constant.other","constant.regexp","constant.rgb-value","emphasis","entity","entity.name","entity.name.class","entity.name.function","entity.name.method","entity.name.section","entity.name.selector","entity.name.tag","entity.name.type","entity.other","entity.other.attribute-name","entity.other.inherited-class","invalid","invalid.deprecated","invalid.illegal","keyword","keyword.control","keyword.operator","keyword.operator.new","keyword.operator.assignment","keyword.operator.arithmetic","keyword.operator.logical","keyword.other","markup","markup.bold","markup.changed","markup.deleted","markup.heading","markup.inline.raw","markup.inserted","markup.italic","markup.list","markup.list.numbered","markup.list.unnumbered","markup.other","markup.quote","markup.raw","markup.underline","markup.underline.link","meta","meta.block","meta.cast","meta.class","meta.function","meta.function-call","meta.preprocessor","meta.return-type","meta.selector","meta.tag","meta.type.annotation","meta.type","punctuation.definition.string.begin","punctuation.definition.string.end","punctuation.separator","punctuation.separator.continuation","punctuation.terminator","storage","storage.modifier","storage.type","string","string.interpolated","string.other","string.quoted","string.quoted.double","string.quoted.other","string.quoted.single","string.quoted.triple","string.regexp","string.unquoted","strong","support","support.class","support.constant","support.function","support.other","support.type","support.type.property-name","support.variable","variable","variable.language","variable.name","variable.other","variable.other.readwrite","variable.parameter"];t.colorsSchema=s.getColorSchema(),t.tokenColorsSchema={type:"array",description:n.localize(0,null),items:{type:"object",properties:{name:{type:"string",description:n.localize(1,null)},scope:{anyOf:[{enum:a},{type:"string"},{type:"array",items:{enum:a}},{type:"array",items:{type:"string"}}]},settings:{type:"object",properties:{foreground:{type:"string",format:"color"},background:{type:"string",format:"color"},fontStyle:{type:"string",description:n.localize(2,null)}}}}}};var c="vscode://schemas/color-theme",l={type:"object",properties:{colors:t.colorsSchema,tokenColors:{anyOf:[{type:"string",description:n.localize(3,null)},t.tokenColorsSchema]}}};t.register=function(){i.Registry.as(r.Extensions.JSONContribution).registerSchema(c,l)}}),define(u[1223],d([1,0,735,15,123]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="vscode://schemas/icon-theme",s={type:"object",definitions:{folderExpanded:{type:"string",description:n.localize(0,null)},folder:{type:"string",description:n.localize(1,null)},file:{type:"string",description:n.localize(2,null)},folderNames:{type:"object",description:n.localize(3,null),additionalProperties:{type:"string",description:n.localize(4,null)}},folderNamesExpanded:{type:"object",description:n.localize(5,null),additionalProperties:{type:"string",description:n.localize(6,null)}},fileExtensions:{type:"object",description:n.localize(7,null),additionalProperties:{type:"string",description:n.localize(8,null)}},fileNames:{type:"object",description:n.localize(9,null),additionalProperties:{type:"string",description:n.localize(10,null)}},languageIds:{type:"object",description:n.localize(11,null),additionalProperties:{type:"string",description:n.localize(12,null)}},associations:{type:"object",properties:{folderExpanded:{$ref:"#/definitions/folderExpanded"},folder:{$ref:"#/definitions/folder"},file:{$ref:"#/definitions/file"},folderNames:{$ref:"#/definitions/folderNames"},folderNamesExpanded:{$ref:"#/definitions/folderNamesExpanded"},fileExtensions:{$ref:"#/definitions/fileExtensions"},fileNames:{$ref:"#/definitions/fileNames"},languageIds:{$ref:"#/definitions/languageIds"}}}},properties:{fonts:{type:"array",description:n.localize(13,null),items:{type:"object",properties:{id:{type:"string",description:n.localize(14,null)},src:{type:"array",description:n.localize(15,null),items:{type:"object",properties:{path:{type:"string",description:n.localize(16,null)},format:{type:"string",description:n.localize(17,null)}},required:["path","format"]}},weight:{type:"string",description:n.localize(18,null)},style:{type:"string",description:n.localize(19,null)},size:{type:"string",description:n.localize(20,null)}},required:["id","src"]}},iconDefinitions:{type:"object",description:n.localize(21,null),additionalProperties:{type:"object",description:n.localize(22,null),properties:{iconPath:{type:"string",description:n.localize(23,null)},fontCharacter:{type:"string",description:n.localize(24,null)},fontColor:{type:"string",description:n.localize(25,null)},fontSize:{type:"string",description:n.localize(26,null)},fontId:{type:"string",description:n.localize(27,null)}}}},folderExpanded:{$ref:"#/definitions/folderExpanded"},folder:{$ref:"#/definitions/folder"},file:{$ref:"#/definitions/file"},folderNames:{$ref:"#/definitions/folderNames"},fileExtensions:{$ref:"#/definitions/fileExtensions"},fileNames:{$ref:"#/definitions/fileNames"},languageIds:{$ref:"#/definitions/languageIds"},light:{$ref:"#/definitions/associations",description:n.localize(28,null)},highContrast:{$ref:"#/definitions/associations",description:n.localize(29,null)}}};t.register=function(){i.Registry.as(r.Extensions.JSONContribution).registerSchema(o,s)}}),define(u[137],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWorkbenchThemeService=n.createDecorator("themeService"),t.VS_LIGHT_THEME="vs",t.VS_DARK_THEME="vs-dark",t.VS_HC_THEME="hc-black",t.COLOR_THEME_SETTING="workbench.colorTheme",t.ICON_THEME_SETTING="workbench.iconTheme",t.CUSTOM_COLORS_SETTING="workbench.colorCustomizations",t.DEPRECATED_CUSTOM_COLORS_SETTING="workbench.experimental.colorCustomizations"}),define(u[1225],d([1,0,549,9,5,12,25,73,68,237,42,215,46,382,137,20,36,13,29,992]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_){"use strict";function E(e){e.length>40&&(e=e.substr(0,20)+"…"+e.substr(e.length-20));for(var t="",n=0,i=e.length;n<i;n++){var r=e.charCodeAt(n);switch(r){case 9:t+="&rarr;";break;case 32:t+="&middot;";break;case 60:t+="&lt;";break;case 62:t+="&gt;";break;case 38:t+="&amp;";break;default:t+=String.fromCharCode(r)}}return t}Object.defineProperty(t,"__esModule",{value:!0});var C=T=function(e){function t(t,n,i,r,o){var s=e.call(this)||this;return s._editor=t,s._textMateService=n,s._themeService=r,s._modeService=i,s._messageService=o,s._widget=null,s._register(s._editor.onDidChangeModel(function(e){return s.stop()})),s._register(s._editor.onDidChangeModelLanguage(function(e){return s.stop()})),s._register(s._editor.onKeyUp(function(e){return 9===e.keyCode&&s.stop()})),s}return h(t,e),t.get=function(e){return e.getContribution(T.ID)},t.prototype.getId=function(){return T.ID},t.prototype.dispose=function(){this.stop(),e.prototype.dispose.call(this)},t.prototype.launch=function(){this._widget||this._editor.getModel()&&(this._widget=new I(this._editor,this._textMateService,this._modeService,this._themeService,this._messageService))},t.prototype.stop=function(){this._widget&&(this._widget.dispose(),this._widget=null)},t.prototype.toggle=function(){this._widget?this.stop():this.launch()},t}(r.Disposable);C.ID="editor.contrib.inspectTMScopes",C=T=v([c.editorContribution,y(1,l.ITextMateService),y(2,u.IModeService),y(3,g.IWorkbenchThemeService),y(4,m.IMessageService)],C);var w=function(e){function t(){return e.call(this,{id:"editor.action.inspectTMScopes",label:n.localize(0,null),alias:"Developer: Inspect TM Scopes",precondition:null})||this}return h(t,e),t.prototype.run=function(e,t){var n=C.get(t);n&&n.toggle()},t}(s.EditorAction);w=v([s.editorAction],w);var I=function(e){function t(t,n,i,r,o){var s=e.call(this)||this;return s.allowEditorOverflow=!0,s._isDisposed=!1,s._editor=t,s._modeService=i,s._themeService=r,s._messageService=o,s._model=s._editor.getModel(),s._domNode=document.createElement("div"),s._domNode.className="tm-inspect-widget",s._grammar=n.createGrammar(s._model.getLanguageIdentifier().language),s._beginCompute(s._editor.getPosition()),s._register(s._editor.onDidChangeCursorPosition(function(e){return s._beginCompute(s._editor.getPosition())})),s._editor.addContentWidget(s),s}return h(t,e),t.prototype.dispose=function(){this._isDisposed=!0,this._editor.removeContentWidget(this),e.prototype.dispose.call(this)},t.prototype.getId=function(){return t._ID},t.prototype._beginCompute=function(e){var t=this;i.clearNode(this._domNode),this._domNode.appendChild(document.createTextNode(n.localize(1,null))),this._grammar.then(function(n){return t._compute(n,e)},function(e){t._messageService.show(b.default.Warning,e),setTimeout(function(){C.get(t._editor).stop()})})},t.prototype._compute=function(e,t){if(!this._isDisposed){for(var n=this._getTokensAtLine(e,t.lineNumber),i=0,r=n.tokens1.length-1;r>=0;r--){var s=n.tokens1[r];if(t.column-1>=s.startIndex){i=r;break}}for(var a=0,r=n.tokens2.length>>>1;r>=0;r--)if(t.column-1>=n.tokens2[r<<1]){a=r;break}var c="",l=n.tokens1[i].startIndex,u=n.tokens1[i].endIndex,d=this._model.getLineContent(t.lineNumber).substring(l,u);c+='<h2 class="tm-token">'+E(d)+'<span class="tm-token-length">('+d.length+" "+(1===d.length?"char":"chars")+")</span></h2>",c+='<hr class="tm-metadata-separator" style="clear:both"/>';var h=this._decodeMetadata(n.tokens2[1+(a<<1)]);c+='<table class="tm-metadata-table"><tbody>',c+='<tr><td class="tm-metadata-key">language</td><td class="tm-metadata-value">'+o.escape(h.languageIdentifier.language)+"</td>",c+='<tr><td class="tm-metadata-key">token type</td><td class="tm-metadata-value">'+this._tokenTypeToString(h.tokenType)+"</td>",c+='<tr><td class="tm-metadata-key">font style</td><td class="tm-metadata-value">'+this._fontStyleToString(h.fontStyle)+"</td>",c+='<tr><td class="tm-metadata-key">foreground</td><td class="tm-metadata-value">'+h.foreground.toRGBAHex()+"</td>",c+='<tr><td class="tm-metadata-key">background</td><td class="tm-metadata-value">'+h.background.toRGBAHex()+"</td>",c+="</tbody></table>";var p=this._themeService.getColorTheme();c+='<hr class="tm-metadata-separator"/>';var g=f.findMatchingThemeRule(p,n.tokens1[i].scopes);c+=g?'<code class="tm-theme-selector">'+g.rawSelector+"\n"+JSON.stringify(g.settings,null,"\t")+"</code>":'<span class="tm-theme-selector">No theme selector.</span>',c+='<hr class="tm-metadata-separator"/>',c+="<ul>";for(r=n.tokens1[i].scopes.length-1;r>=0;r--)c+="<li>"+o.escape(n.tokens1[i].scopes[r])+"</li>";c+="</ul>",this._domNode.innerHTML=c,this._editor.layoutContentWidget(this)}},t.prototype._decodeMetadata=function(e){var t=p.TokenizationRegistry.getColorMap(),n=d.TokenMetadata.getLanguageId(e),i=d.TokenMetadata.getTokenType(e),r=d.TokenMetadata.getFontStyle(e),o=d.TokenMetadata.getForeground(e),s=d.TokenMetadata.getBackground(e);return{languageIdentifier:this._modeService.getLanguageIdentifier(n),tokenType:i,fontStyle:r,foreground:t[o],background:t[s]}},t.prototype._tokenTypeToString=function(e){switch(e){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 4:return"RegEx"}return"??"},t.prototype._fontStyleToString=function(e){var t="";return 1&e&&(t+="italic "),2&e&&(t+="bold "),4&e&&(t+="underline "),0===t.length&&(t="---"),t},t.prototype._getTokensAtLine=function(e,t){var n=this._getStateBeforeLine(e,t),i=e.tokenizeLine(this._model.getLineContent(t),n),r=e.tokenizeLine2(this._model.getLineContent(t),n);return{startState:n,tokens1:i.tokens,tokens2:r.tokens,endState:i.ruleStack}},t.prototype._getStateBeforeLine=function(e,t){for(var n=null,i=1;i<t;i++)n=e.tokenizeLine(this._model.getLineContent(i),n).ruleStack;return n},t.prototype.getDomNode=function(){return this._domNode},t.prototype.getPosition=function(){return{position:this._editor.getPosition(),preference:[a.ContentWidgetPositionPreference.BELOW,a.ContentWidgetPositionPreference.ABOVE]}},t}(r.Disposable);I._ID="editor.contrib.inspectTMScopesWidget",S.registerThemingParticipant(function(e,t){var n=e.getColor(_.editorHoverBorder);if(n){var i=e.type===S.HIGH_CONTRAST?2:1;t.addRule(".monaco-editor .tm-inspect-widget { border: "+i+"px solid "+n+"; }"),t.addRule(".monaco-editor .tm-inspect-widget .tm-metadata-separator { background-color: "+n+"; }")}var r=e.getColor(_.editorHoverBackground);r&&t.addRule(".monaco-editor .tm-inspect-widget { background-color: "+r+"; }")});var T}),define(u[1226],d([1,0,1070,1118,337,335,1225,1138,1071,1072,967,1014]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define(u[1227],d([1,0,4,7,664,28,82,26,155,42,138,44,137,102,84,407,45,22,23,6,156,27,39,247]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var k=function(e){function t(t,n){var i=e.call(this,t)||this;return i.stats=n,i}return h(t,e),t}(f.QuickOpenModel);t.FileQuickOpenModel=k;var x=function(e){function t(t,n,i,r,o,s,a,c,l){var u=e.call(this,o)||this;return u.resource=t,u.name=n,u.description=i,u.icon=r,u.modeService=s,u.modelService=a,u.configurationService=c,u}return h(t,e),t.prototype.getLabel=function(){return this.name},t.prototype.getLabelOptions=function(){return{extraClasses:u.getIconClasses(this.modelService,this.modeService,this.resource)}},t.prototype.getAriaLabel=function(){return r.localize(0,null,this.getLabel())},t.prototype.getDescription=function(){return this.description},t.prototype.getIcon=function(){return this.icon},t.prototype.getResource=function(){return this.resource},t.prototype.setRange=function(e){this.range=e},t.prototype.isFile=function(){return!0},t.prototype.getInput=function(){var e={resource:this.resource,options:{pinned:!this.configurationService.getConfiguration().workbench.editor.enablePreviewFromQuickOpen}};return this.range&&(e.options.selection=this.range),e},t}(g.EditorQuickOpenEntry);x=v([y(4,S.IWorkbenchEditorService),y(5,l.IModeService),y(6,d.IModelService),y(7,_.IConfigurationService),y(8,w.IWorkspaceContextService)],x),t.FileEntry=x;var A=function(e){function t(t,n,i,r,o,s){var a=e.call(this)||this;return a.editorGroupService=t,a.instantiationService=n,a.themeService=i,a.contextService=r,a.searchService=o,a.environmentService=s,a.queryBuilder=a.instantiationService.createInstance(m.QueryBuilder),a}return h(t,e),t.prototype.setOptions=function(e){this.options=e},t.prototype.getResults=function(e,t){return(e=e.trim())?this.doFindResults(e,this.cacheState.cacheKey,t):n.TPromise.as(new k([]))},t.prototype.doFindResults=function(e,t,n){var i=this,r={extraFileResources:T.getOutOfWorkspaceEditorResources(this.editorGroupService,this.contextService),filePattern:e,cacheKey:t};"number"==typeof n&&(r.maxResults=n,r.sortByScore=!0);var a;this.options&&this.options.forceUseIcons&&!this.themeService.getFileIconTheme()&&(a="file");var c=this.contextService.hasWorkspace()?this.contextService.getWorkspace2().roots:[];return this.searchService.search(this.queryBuilder.file(c,r)).then(function(e){for(var t=[],n=0;n<e.results.length;n++){var r=e.results[n],c=o.basename(r.resource.fsPath),l=s.getPathLabel(o.dirname(r.resource.fsPath),i.contextService,i.environmentService);t.push(i.instantiationService.createInstance(x,r.resource,c,l,a))}return new k(t,e.stats)})},t.prototype.hasShortResponseTime=function(){return this.isCacheLoaded},t.prototype.onOpen=function(){var e=this;this.cacheState=new P(function(t){return e.cacheQuery(t)},function(t){return e.searchService.search(t)},function(t){return e.searchService.clearCache(t)},this.cacheState),this.cacheState.load()},t.prototype.cacheQuery=function(e){var t={extraFileResources:T.getOutOfWorkspaceEditorResources(this.editorGroupService,this.contextService),filePattern:"",cacheKey:e,maxResults:0,sortByScore:!0},n=this.contextService.hasWorkspace()?this.contextService.getWorkspace2().roots:[],i=this.queryBuilder.file(n,t);return this.searchService.extendQuery(i),i},Object.defineProperty(t.prototype,"isCacheLoaded",{get:function(){return this.cacheState&&this.cacheState.isLoaded},enumerable:!0,configurable:!0}),t.prototype.getGroupLabel=function(){return r.localize(1,null)},t.prototype.getAutoFocus=function(e){return{autoFocusFirstEntry:!0}},t}(g.QuickOpenHandler);A=v([y(0,b.IEditorGroupService),y(1,E.IInstantiationService),y(2,p.IWorkbenchThemeService),y(3,w.IWorkspaceContextService),y(4,C.ISearchService),y(5,I.IEnvironmentService)],A),t.OpenFileHandler=A;var L;!function(e){e[e.Created=1]="Created",e[e.Loading=2]="Loading",e[e.Loaded=3]="Loaded",e[e.Errored=4]="Errored",e[e.Disposed=5]="Disposed"}(L||(L={}));var P=function(){function e(e,t,n,i){if(this.doLoad=t,this.doDispose=n,this.previous=i,this._cacheKey=c.defaultGenerator.nextId(),this.loadingPhase=L.Created,this.query=e(this._cacheKey),this.previous){var r=a.assign({},this.query,{cacheKey:null}),o=a.assign({},this.previous.query,{cacheKey:null});a.equals(r,o)||(this.previous.dispose(),this.previous=null)}}return Object.defineProperty(e.prototype,"cacheKey",{get:function(){return this.loadingPhase!==L.Loaded&&this.previous?this.previous.cacheKey:this._cacheKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoaded",{get:function(){var e=this.loadingPhase===L.Loaded;return e||!this.previous?e:this.previous.isLoaded},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isUpdating",{get:function(){var e=this.loadingPhase===L.Loading;return e||!this.previous?e:this.previous.isUpdating},enumerable:!0,configurable:!0}),e.prototype.load=function(){var e=this;this.isUpdating||(this.loadingPhase=L.Loading,this.promise=this.doLoad(this.query).then(function(){e.loadingPhase=L.Loaded,e.previous&&(e.previous.dispose(),e.previous=null)},function(t){e.loadingPhase=L.Errored,i.onUnexpectedError(t)}))},e.prototype.dispose=function(){var e=this;this.promise?this.promise.then(null,function(){}).then(function(){return e.loadingPhase=L.Disposed,e.doDispose(e._cacheKey)}).then(null,function(e){i.onUnexpectedError(e)}):this.loadingPhase=L.Disposed,this.previous&&(this.previous.dispose(),this.previous=null)},e}();t.CacheState=P}),define(u[1228],d([1,0,34,26,4,663,18,24,11,12,102,84,1227,1089,20,6,19,23]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var _=i.assign;t.OpenSymbolHandler=f.OpenSymbolHandler;var E=function(e){function d(n,i,r,o){var a=e.call(this)||this;return a.messageService=n,a.configurationService=r,a.telemetryService=o,a.scorerCache=Object.create(null),a.searchDelayer=new s.ThrottledDelayer(d.FILE_SEARCH_DELAY),a.openSymbolHandler=i.createInstance(t.OpenSymbolHandler),a.openFileHandler=i.createInstance(p.OpenFileHandler),a.updateHandlers(a.configurationService.getConfiguration()),a.registerListeners(),a}return h(d,e),d.prototype.registerListeners=function(){var e=this;this.configurationService.onDidUpdateConfiguration(function(t){return e.updateHandlers(e.configurationService.getConfiguration())})},d.prototype.updateHandlers=function(e){this.includeSymbols=e&&e.search&&e.search.quickOpen&&e.search.quickOpen.includeSymbols,this.openFileHandler.setOptions({forceUseIcons:this.includeSymbols}),this.openSymbolHandler.setOptions({skipDelay:!0,skipLocalSymbols:!0,skipSorting:!0})},d.prototype.getResults=function(e){var t=this,o=Date.now();this.cancelPendingSearch(),this.isClosed=!1,e=e.replace(/ /g,""),c.isWindows&&(e=e.replace(/\//g,"\\"));var s=this.extractRange(e);if(s&&(e=s.search),!e)return r.TPromise.as(new u.QuickOpenModel);var a=function(){var a=[],c=t.openFileHandler.getResults(e,d.MAX_DISPLAYED_RESULTS);return a.push(c),t.includeSymbols&&!s&&a.push(t.openSymbolHandler.getResults(e)),t.pendingSearch=r.TPromise.join(a).then(function(a){if(t.pendingSearch=null,t.isClosed)return r.TPromise.as(new u.QuickOpenModel);var h=[].concat.apply([],a.map(function(e){return e.entries})),f=Date.now(),g=l.stripWildcards(e).toLowerCase(),v=n.top(h,function(n,i){return u.QuickOpenEntry.compareByScore(n,i,e,g,t.scorerCache)},d.MAX_DISPLAYED_RESULTS),m=Date.now();v.forEach(function(t){if(t instanceof p.FileEntry){t.setRange(s?s.range:null);var n=u.QuickOpenEntry.highlight(t,e,!0),i=n.labelHighlights,r=n.descriptionHighlights;t.setHighlights(i,r)}});var y=(new Date).getTime()-o;return c.then(function(n){var r=t.createTimerEventData(o,{searchLength:e.length,unsortedResultTime:f,sortedResultTime:m,resultCount:h.length,symbols:{fromCache:!1},files:n.stats});t.telemetryService.publicLog("openAnything",i.assign(r,{duration:y}))}),r.TPromise.as(new u.QuickOpenModel(v))},function(e){t.pendingSearch=null,t.messageService.show(g.Severity.Error,e)}),t.pendingSearch};return this.hasShortResponseTime()?a():this.searchDelayer.trigger(a,this.includeSymbols?d.SYMBOL_SEARCH_DELAY:d.FILE_SEARCH_DELAY)},d.prototype.hasShortResponseTime=function(){return this.includeSymbols?this.openFileHandler.hasShortResponseTime()&&this.openSymbolHandler.hasShortResponseTime():this.openFileHandler.hasShortResponseTime()},d.prototype.extractRange=function(e){if(!e)return null;var t=null,n=d.LINE_COLON_PATTERN.exec(e);if(n&&n.length>1){var i=parseInt(n[1],10);if(a.isNumber(i)){if(t={startLineNumber:i,startColumn:1,endLineNumber:i,endColumn:1},n.length>3){var r=parseInt(n[3],10);a.isNumber(r)&&(t={startLineNumber:t.startLineNumber,startColumn:r,endLineNumber:t.endLineNumber,endColumn:r})}}else""===n[1]&&(t={startLineNumber:1,startColumn:1,endLineNumber:1,endColumn:1})}return t?{search:e.substr(0,n.index),range:t}:null},d.prototype.getGroupLabel=function(){return this.includeSymbols?o.localize(0,null):o.localize(1,null)},d.prototype.getAutoFocus=function(e){return{autoFocusFirstEntry:!0}},d.prototype.onOpen=function(){this.openSymbolHandler.onOpen(),this.openFileHandler.onOpen()},d.prototype.onClose=function(e){this.isClosed=!0,this.cancelPendingSearch(),this.scorerCache=Object.create(null),this.openSymbolHandler.onClose(e),this.openFileHandler.onClose(e)},d.prototype.cancelPendingSearch=function(){this.pendingSearch&&(this.pendingSearch.cancel(),this.pendingSearch=null)},d.prototype.createTimerEventData=function(e,t){return{searchLength:t.searchLength,unsortedResultDuration:t.unsortedResultTime-e,sortedResultDuration:t.sortedResultTime-e,resultCount:t.resultCount,symbols:t.symbols,files:t.files&&this.createFileEventData(e,t.files)}},d.prototype.createFileEventData=function(e,t){var n=t,i=t;return _({fromCache:t.fromCache,unsortedResultDuration:t.unsortedResultTime&&t.unsortedResultTime-e,sortedResultDuration:t.sortedResultTime&&t.sortedResultTime-e,resultCount:t.resultCount},t.fromCache?{cacheLookupStartDuration:n.cacheLookupStartTime-e,cacheFilterStartDuration:n.cacheFilterStartTime-e,cacheLookupResultDuration:n.cacheLookupResultTime-e,cacheEntryCount:n.cacheEntryCount,joined:n.joined&&this.createFileEventData(e,n.joined)}:{traversal:i.traversal,errors:i.errors,fileWalkStartDuration:i.fileWalkStartTime-e,fileWalkResultDuration:i.fileWalkResultTime-e,directoriesWalked:i.directoriesWalked,filesWalked:i.filesWalked,cmdForkStartDuration:i.cmdForkStartTime&&i.cmdForkStartTime-e,cmdForkResultDuration:i.cmdForkResultTime&&i.cmdForkResultTime-e,cmdResultCount:i.cmdResultCount})},d}(d.QuickOpenHandler);E.LINE_COLON_PATTERN=/[#|:|\(](\d*)([#|:|,](\d*))?\)?$/,E.FILE_SEARCH_DELAY=300,E.SYMBOL_SEARCH_DELAY=500,E.MAX_DISPLAYED_RESULTS=512,E=v([y(0,g.IMessageService),y(1,m.IInstantiationService),y(2,S.IConfigurationService),y(3,b.ITelemetryService)],E),t.OpenAnythingHandler=E}),define(u[1229],d([1,0,4,28,42,76,32,6,137,22,30,237,46,215,382,58]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function e(e){this._theme=e,this._cache=Object.create(null),this._defaultColor="#000000";for(var t=0,n=this._theme.tokenColors.length;t<n;t++){var i=this._theme.tokenColors[t];i.scope||(this._defaultColor=i.settings.foreground)}}return e.prototype._generateExplanation=function(e,t){return e+": "+t.toRGBAHex(!0).toUpperCase()},e.prototype.explainTokenColor=function(e,t){var n=this._findMatchingThemeRule(e);if(!n){var i=g.Color.fromHex(this._defaultColor);if(!t.equals(i))throw new Error("["+this._theme.label+"]: Unexpected color "+t.toRGBAHex()+" for "+e+". Expected default "+i.toRGBAHex());return this._generateExplanation("default",t)}var r=g.Color.fromHex(n.settings.foreground);if(!t.equals(r))throw new Error("["+this._theme.label+"]: Unexpected color "+t.toRGBAHex()+" for "+e+". Expected "+r.toRGBAHex()+" coming in from "+n.rawSelector);return this._generateExplanation(n.rawSelector,t)},e.prototype._findMatchingThemeRule=function(e){return this._cache[e]||(this._cache[e]=f.findMatchingThemeRule(this._theme,e.split(" "))),this._cache[e]},e}(),b=function(){function e(e,t,n){this.modeService=e,this.themeService=t,this.textMateService=n}return e.prototype._themedTokenize=function(e,t){for(var n=h.TokenizationRegistry.getColorMap(),i=null,r=[],o=0,s=0,a=t.length;s<a;s++){for(var c=t[s],l=e.tokenizeLine2(c,i),u=0,d=l.tokens.length>>>1;u<d;u++){var f=l.tokens[u<<1],g=l.tokens[1+(u<<1)],v=u+1<d?l.tokens[u+1<<1]:c.length,m=c.substring(f,v),y=p.TokenMetadata.getForeground(g);r[o++]={text:m,color:n[y]}}i=l.ruleStack}return r},e.prototype._tokenize=function(e,t){for(var n=null,i=[],r=0,o=0,s=t.length;o<s;o++){for(var a=t[o],c=e.tokenizeLine(a,n),l=null,u=0,d=c.tokens.length;u<d;u++){var h=c.tokens[u],p=a.substring(h.startIndex,h.endIndex),f=h.scopes.join(" ");l===f?i[r-1].c+=p:(l=f,i[r++]={c:p,t:f,r:{dark_plus:null,light_plus:null,dark_vs:null,light_vs:null,hc_black:null}})}n=c.ruleStack}return i},e.prototype._getThemesResult=function(e,t){var i=this,r=this.themeService.getColorTheme(),o=function(e){var t="vscode-theme-defaults-themes-",n=e.indexOf(t);if(-1!==n)return e.substring(n+t.length,e.length-5)},s={};return this.themeService.getColorThemes().then(function(r){var a=r.filter(function(e){return!!o(e.id)});return n.TPromise.join(a.map(function(n){var r=n.id;return i.themeService.setColorTheme(r,null).then(function(n){if(n){var a=o(r);s[a]={document:new m(i.themeService.getColorTheme()),tokens:i._themedTokenize(e,t)}}})}))}).then(function(e){return i.themeService.setColorTheme(r.id,null).then(function(e){return s})})},e.prototype._enrichResult=function(e,t){for(var n={},i=Object.keys(t),r=0;r<i.length;r++)n[c=i[r]]=0;for(var o=0,s=e.length;o<s;o++)for(var a=e[o],r=0;r<i.length;r++){var c=i[r],l=t[c].tokens[n[c]];l.text=l.text.substr(a.c.length),a.r[c]=t[c].document.explainTokenColor(a.t,l.color),0===l.text.length&&n[c]++}},e.prototype.captureSyntaxTokens=function(e,t){var n=this;return this.modeService.getOrCreateModeByFilenameOrFirstLine(e).then(function(e){return n.textMateService.createGrammar(e.getId()).then(function(e){var i=t.split(/\r\n|\r|\n/),r=n._tokenize(e,i);return n._getThemesResult(e,i).then(function(e){return n._enrichResult(r,e),r.filter(function(e){return e.c.length>0})})})})},e}();b=v([y(0,r.IModeService),y(1,c.IWorkbenchThemeService),y(2,d.ITextMateService)],b),s.CommandsRegistry.registerCommand("_workbench.captureSyntaxTokens",function(e,t){var n=function(t){var n=t.fsPath,r=i.basename(n),s=e.get(a.IInstantiationService).createInstance(b);return o.readFile(n).then(function(e){return s.captureSyntaxTokens(r,e.toString())})};if(t)return n(t);var r=e.get(l.IWorkbenchEditorService),s=u.toResource(r.getActiveEditorInput(),{filter:"file"});s?n(s).then(function(e){console.log(e)}):console.log("No file editor active")})}),define(u[1230],d([1,0,58,29,111,424,405,321]),function(e,t,n,i,r,o,s,a){"use strict";function c(e,t){var n=l[e];n||(l[e]=n=[]),n.push(t)}Object.defineProperty(t,"__esModule",{value:!0});var l={};t.convertSettings=function(e,t,i){for(var r=0,o=e;r<o.length;r++){var s=o[r];if(t.push(s),!s.scope){var a=s.settings;if(a)for(var c in a){var u=l[c];if(u){var d=n.Color.fromHex(a[c],null);if(d)for(var h=0,p=u;h<p.length;h++)i[p[h]]=d}"foreground"!==c&&"background"!==c&&delete a[c]}else s.settings={}}}},c("background",i.editorBackground),c("foreground",i.editorForeground),c("selection",i.editorSelectionBackground),c("inactiveSelection",i.editorInactiveSelection),c("selectionHighlightColor",i.editorSelectionHighlight),c("findMatchHighlight",i.editorFindMatchHighlight),c("currentFindMatchHighlight",i.editorFindMatch),c("hoverHighlight",i.editorHoverHighlight),c("wordHighlight",o.editorWordHighlight),c("wordHighlightStrong",o.editorWordHighlightStrong),c("findRangeHighlight",i.editorFindRangeHighlight),c("findMatchHighlight",s.peekViewResultsMatchHighlight),c("referenceHighlight",s.peekViewEditorMatchHighlight),c("lineHighlight",r.editorLineHighlight),c("rangeHighlight",r.editorRangeHighlight),c("caret",r.editorCursor),c("invisibles",r.editorWhitespaces),c("guide",r.editorIndentGuides);for(var u=["ansiBlack","ansiRed","ansiGreen","ansiYellow","ansiBlue","ansiMagenta","ansiCyan","ansiWhite","ansiBrightBlack","ansiBrightRed","ansiBrightGreen","ansiBrightYellow","ansiBrightBlue","ansiBrightMagenta","ansiBrightCyan","ansiBrightWhite"],d=0;d<a.ansiColorIdentifiers.length;d++)c(u[d],a.ansiColorIdentifiers[d])}),define(u[1231],d([1,0,28,94,58,137,1230,4,736,24,26,1372,76,29,15,273]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g){"use strict";function v(e){return(e=e.replace(/[^_\-a-zA-Z0-9]/g,"-")).charAt(0).match(/[0-9\-]/)&&(e="_"+e),e}function m(e,t,o){return".json"===n.extname(e)?h.readFile(e).then(function(l){var u=[],d=i.parse(l.toString(),u);if(u.length>0)return a.TPromise.wrapError(new Error(c.localize(0,null,u.map(function(e){return g.getParseErrorMessage(e.error)}).join(", "))));var h=a.TPromise.as(null);return d.include&&(h=m(n.join(n.dirname(e),d.include),t,o)),h.then(function(i){if(Array.isArray(d.settings))return s.convertSettings(d.settings,t,o),null;var l=d.colors;if(l){if("object"!=typeof l)return a.TPromise.wrapError(new Error(c.localize(1,null,e)));for(var u in l){var h=r.Color.fromHex(l[u],null);h&&(o[u]=h)}}var p=d.tokenColors;return p?Array.isArray(p)?(t.push.apply(t,p),null):"string"==typeof p?y(n.join(n.dirname(e),p),t,{}):a.TPromise.wrapError(new Error(c.localize(2,null,e))):null})}):y(e,t,o)}function y(e,t,n){return h.readFile(e).then(function(e){try{var i=d.parse(e.toString()).settings;return Array.isArray(i)?(s.convertSettings(i,t,n),a.TPromise.as(null)):a.TPromise.wrapError(new Error(c.localize(3,null)))}catch(e){return a.TPromise.wrapError(new Error(c.localize(4,null,e.message)))}},function(t){return a.TPromise.wrapError(new Error(c.localize(5,null,e,t.message)))})}function b(e){var t=!1,n=[S({settings:{}},e)];e.tokenColors.forEach(function(e){e.scope&&("token.info-token"===e.scope&&(t=!0),n.push(e))}),t||n.push.apply(n,C[e.type]),e.tokenColors=n}function S(e,t){var n=t.getColor(p.editorForeground)||t.getDefault(p.editorForeground),i=t.getColor(p.editorBackground)||t.getDefault(p.editorBackground);return e.settings.foreground=n.toRGBAHex(),e.settings.background=i.toRGBAHex(),e}Object.defineProperty(t,"__esModule",{value:!0});var _=f.Registry.as(p.Extensions.ColorContribution),E=function(){function e(){this.colorMap={},this.customColorMap={}}return e.prototype.getColor=function(e,t){var n=this.customColorMap[e];return n||(n=this.colorMap[e],!1!==t&&l.isUndefined(n)&&(n=this.getDefault(e)),n)},e.prototype.getDefault=function(e){return _.resolveDefaultColor(e,this)},e.prototype.defines=function(e){return this.customColorMap.hasOwnProperty(e)||this.colorMap.hasOwnProperty(e)},e.prototype.setCustomColors=function(e){this.customColorMap={};for(var t in e){var n=e[t];if("string"==typeof n){var i=r.Color.fromHex(n,null);i&&(this.customColorMap[t]=i)}}this.tokenColors&&S(this.tokenColors[0],this)},e.prototype.ensureLoaded=function(e){var t=this;return!this.isLoaded&&(this.tokenColors=[],this.colorMap={},this.path)?m(this.path,this.tokenColors,this.colorMap).then(function(e){t.isLoaded=!0,b(t)}):a.TPromise.as(null)},e.prototype.toThemeFile=function(){if(!this.isLoaded)return"";var e={name:this.label,colors:{},tokenColors:this.tokenColors};for(var t in this.colorMap)e.colors[t]=this.colorMap[t].toRGBAHex(!0);return JSON.stringify(e,null,"\t")},e.prototype.toStorageData=function(){var e={};for(var t in this.colorMap)e[t]=this.colorMap[t].toRGBAHex(!0);return JSON.stringify({id:this.id,label:this.label,settingsId:this.settingsId,selector:this.id.split(" ").join("."),tokenColors:this.tokenColors,extensionData:this.extensionData,colorMap:e})},e.prototype.hasEqualData=function(e){return u.equals(this.colorMap,e.colorMap)&&u.equals(this.tokenColors,e.tokenColors)},Object.defineProperty(e.prototype,"type",{get:function(){switch(this.id.split(" ")[0]){case o.VS_LIGHT_THEME:return"light";case o.VS_HC_THEME:return"hc";default:return"dark"}},enumerable:!0,configurable:!0}),e}();t.ColorThemeData=E,t.createUnloadedTheme=function(e){var t=new E;return t.id=e,t.label="",t.settingsId=null,t.isLoaded=!1,t.tokenColors=[{settings:{}}],t},t.fromStorageData=function(e){try{var t=JSON.parse(e),n=new E;for(var i in t)if("colorMap"!==i)n[i]=t[i];else{var o=t[i];for(var s in o)n.colorMap[s]=r.Color.fromHex(o[s])}return n}catch(e){return null}},t.fromExtensionTheme=function(e,t,i){var r=e.uiTheme||"vs-dark",o=v(i.extensionId+"-"+n.normalize(e.path)),s=new E;return s.id=r+" "+o,s.label=e.label||n.basename(e.path),s.settingsId=e.id||s.label,s.description=e.description,s.path=t,s.extensionData=i,s.isLoaded=!1,s};var C={light:[{scope:"token.info-token",settings:{foreground:"#316bcd"}},{scope:"token.warn-token",settings:{foreground:"#cd9731"}},{scope:"token.error-token",settings:{foreground:"#cd3131"}},{scope:"token.debug-token",settings:{foreground:"#800080"}}],dark:[{scope:"token.info-token",settings:{foreground:"#6796e6"}},{scope:"token.warn-token",settings:{foreground:"#cd9731"}},{scope:"token.error-token",settings:{foreground:"#f44747"}},{scope:"token.debug-token",settings:{foreground:"#b267e6"}}],hc:[{scope:"token.info-token",settings:{foreground:"#6796e6"}},{scope:"token.warn-token",settings:{foreground:"#008000"}},{scope:"token.error-token",settings:{foreground:"#FF0000"}},{scope:"token.debug-token",settings:{foreground:"#b267e6"}}]}}),define(u[1233],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this._proxies=Object.create(null),this._isMain=e,this._locals=Object.create(null),this._proxies=Object.create(null)}return e.prototype.handle=function(e,t,n){if(!this._locals[e])throw new Error("Unknown actor "+e);var i=this._locals[e],r=i[t];if("function"!=typeof r)throw new Error("Unknown method "+t+" on actor "+e);return r.apply(i,n)},e.prototype.get=function(e){return this._proxies[e.id]||(this._proxies[e.id]=this._createProxy(e.id,e.methodNames)),this._proxies[e.id]},e.prototype._createProxy=function(e,t){for(var n={},i=0;i<t.length;i++){var r=t[i];n[r]=this.createMethodProxy(e,r)}return n},e.prototype.createMethodProxy=function(e,t){var n=this;return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return n._callOnRemote(e,t,i)}},e.prototype.set=function(e,t){if(e.isMain!==this._isMain)throw new Error("Mismatch in object registration!");this._locals[e.id]=t},e}();t.AbstractThreadService=n}),define(u[83],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IThreadService=n.createDecorator("threadService");var i=function(){return function(e,t,n){this.isMain=e,this.id=t,this.methodNames=[];for(var i in n.prototype)"function"==typeof n.prototype[i]&&this.methodNames.push(i)}}();t.ProxyIdentifier=i,t.createMainContextProxyIdentifier=function(e,t){return new i(!0,"m"+e,t)},t.createExtHostContextProxyIdentifier=function(e,t){return new i(!1,"e"+e,t)}}),define(u[61],d([1,0,83]),function(e,t,n){"use strict";function i(){return new Error("Not implemented")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this._items=Object.create(null)}return e.prototype.define=function(e){var t=this;return new(function(){function n(){}return n.prototype.set=function(n){return t._set(e,n),n},n}())},e.prototype._set=function(e,t){this._items[e.id]=t},e.prototype.finish=function(e,n){var i=this,r=e?t.MainContext:t.ExtHostContext;Object.keys(r).forEach(function(e){var t=r[e],o=i._items[t.id];if(!o)throw new Error("Missing actor "+e+" (isMain: "+t.isMain+", id:  "+t.id+")");n.set(t,o)})},e}();t.InstanceCollection=r;var o=function(){function e(){}return e.prototype.$registerCommand=function(e){throw i()},e.prototype.$unregisterCommand=function(e){throw i()},e.prototype.$executeCommand=function(e,t){throw i()},e.prototype.$getCommands=function(){throw i()},e}();t.MainThreadCommandsShape=o;var s=function(){function e(){}return e.prototype.$updateConfigurationOption=function(e,t,n){throw i()},e.prototype.$removeConfigurationOption=function(e,t){throw i()},e}();t.MainThreadConfigurationShape=s;var a=function(){function e(){}return e.prototype.$changeMany=function(e,t){throw i()},e.prototype.$clear=function(e){throw i()},e}();t.MainThreadDiagnosticsShape=a;var c=function(){function e(){}return e.prototype.$tryCreateDocument=function(e){throw i()},e.prototype.$tryOpenDocument=function(e){throw i()},e.prototype.$registerTextContentProvider=function(e,t){throw i()},e.prototype.$onVirtualDocumentChange=function(e,t){throw i()},e.prototype.$unregisterTextContentProvider=function(e){throw i()},e.prototype.$trySaveDocument=function(e){throw i()},e}();t.MainThreadDocumentsShape=c;!function(e){e[e.Default=0]="Default",e[e.InCenter=1]="InCenter",e[e.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",e[e.AtTop=3]="AtTop"}(t.TextEditorRevealType||(t.TextEditorRevealType={}));var l=function(){function e(){}return e.prototype.$tryShowTextDocument=function(e,t){throw i()},e.prototype.$registerTextEditorDecorationType=function(e,t){throw i()},e.prototype.$removeTextEditorDecorationType=function(e){throw i()},e.prototype.$tryShowEditor=function(e,t){throw i()},e.prototype.$tryHideEditor=function(e){throw i()},e.prototype.$trySetOptions=function(e,t){throw i()},e.prototype.$trySetDecorations=function(e,t,n){throw i()},e.prototype.$tryRevealRange=function(e,t,n){throw i()},e.prototype.$trySetSelections=function(e,t){throw i()},e.prototype.$tryApplyEdits=function(e,t,n,r){throw i()},e.prototype.$tryInsertSnippet=function(e,t,n,r){throw i()},e.prototype.$getDiffInformation=function(e){throw i()},e}();t.MainThreadEditorsShape=l;var u=function(){function e(){}return e.prototype.$registerView=function(e){throw i()},e.prototype.$refresh=function(e,t){throw i()},e}();t.MainThreadTreeViewsShape=u;var d=function(){function e(){}return e.prototype.onUnexpectedExtHostError=function(e){throw i()},e}();t.MainThreadErrorsShape=d;var h=function(){function e(){}return e.prototype.$unregister=function(e){throw i()},e.prototype.$registerOutlineSupport=function(e,t){throw i()},e.prototype.$registerCodeLensSupport=function(e,t,n){throw i()},e.prototype.$emitCodeLensEvent=function(e,t){throw i()},e.prototype.$registerDeclaractionSupport=function(e,t){throw i()},e.prototype.$registerImplementationSupport=function(e,t){throw i()},e.prototype.$registerTypeDefinitionSupport=function(e,t){throw i()},e.prototype.$registerHoverProvider=function(e,t){throw i()},e.prototype.$registerDocumentHighlightProvider=function(e,t){throw i()},e.prototype.$registerReferenceSupport=function(e,t){throw i()},e.prototype.$registerQuickFixSupport=function(e,t){throw i()},e.prototype.$registerDocumentFormattingSupport=function(e,t){throw i()},e.prototype.$registerRangeFormattingSupport=function(e,t){throw i()},e.prototype.$registerOnTypeFormattingSupport=function(e,t,n){throw i()},e.prototype.$registerNavigateTypeSupport=function(e){throw i()},e.prototype.$registerRenameSupport=function(e,t){throw i()},e.prototype.$registerSuggestSupport=function(e,t,n){throw i()},e.prototype.$registerSignatureHelpProvider=function(e,t,n){throw i()},e.prototype.$registerDocumentLinkProvider=function(e,t){throw i()},e.prototype.$setLanguageConfiguration=function(e,t,n){throw i()},e}();t.MainThreadLanguageFeaturesShape=h;var p=function(){function e(){}return e.prototype.$getLanguages=function(){throw i()},e}();t.MainThreadLanguagesShape=p;var f=function(){function e(){}return e.prototype.$showMessage=function(e,t,n,r){throw i()},e}();t.MainThreadMessageServiceShape=f;var g=function(){function e(){}return e.prototype.$append=function(e,t,n){throw i()},e.prototype.$clear=function(e,t){throw i()},e.prototype.$dispose=function(e,t){throw i()},e.prototype.$reveal=function(e,t,n){throw i()},e.prototype.$close=function(e){throw i()},e}();t.MainThreadOutputServiceShape=g;var v=function(){function e(){}return e.prototype.$startProgress=function(e,t){throw i()},e.prototype.$progressReport=function(e,t){throw i()},e.prototype.$progressEnd=function(e){throw i()},e}();t.MainThreadProgressShape=v;var m=function(){function e(){}return e.prototype.$createTerminal=function(e,t,n,r){throw i()},e.prototype.$dispose=function(e){throw i()},e.prototype.$hide=function(e){throw i()},e.prototype.$sendText=function(e,t,n){throw i()},e.prototype.$show=function(e,t){throw i()},e.prototype.$registerOnData=function(e){throw i()},e}();t.MainThreadTerminalServiceShape=m;var y=function(){function e(){}return e.prototype.$show=function(e){throw i()},e.prototype.$setItems=function(e){throw i()},e.prototype.$setError=function(e){throw i()},e.prototype.$input=function(e,t){throw i()},e}();t.MainThreadQuickOpenShape=y;var b=function(){function e(){}return e.prototype.$setEntry=function(e,t,n,r,o,s,a,c){throw i()},e.prototype.$dispose=function(e){throw i()},e}();t.MainThreadStatusBarShape=b;var S=function(){function e(){}return e.prototype.$getValue=function(e,t){throw i()},e.prototype.$setValue=function(e,t,n){throw i()},e}();t.MainThreadStorageShape=S;var _=function(){function e(){}return e.prototype.$publicLog=function(e,t){throw i()},e.prototype.$getTelemetryInfo=function(){throw i()},e}();t.MainThreadTelemetryShape=_;var E=function(){function e(){}return e.prototype.$startSearch=function(e,t,n,r){throw i()},e.prototype.$cancelSearch=function(e){throw i()},e.prototype.$saveAll=function(e){throw i()},e.prototype.$applyWorkspaceEdit=function(e){throw i()},e}();t.MainThreadWorkspaceShape=E;var C=function(){function e(){}return e.prototype.$registerTaskProvider=function(e){throw i()},e.prototype.$unregisterTaskProvider=function(e){throw i()},e}();t.MainThreadTaskShape=C;var w=function(){function e(){}return e.prototype.$localShowMessage=function(e,t){throw i()},e.prototype.$onExtensionActivated=function(e){throw i()},e.prototype.$onExtensionActivationFailed=function(e){throw i()},e}();t.MainProcessExtensionServiceShape=w;var I=function(){function e(){}return e.prototype.$registerSourceControl=function(e,t,n){throw i()},e.prototype.$updateSourceControl=function(e,t){throw i()},e.prototype.$unregisterSourceControl=function(e){throw i()},e.prototype.$registerGroup=function(e,t,n,r){throw i()},e.prototype.$updateGroup=function(e,t,n){throw i()},e.prototype.$updateGroupLabel=function(e,t,n){throw i()},e.prototype.$updateGroupResourceStates=function(e,t,n){throw i()},e.prototype.$unregisterGroup=function(e,t){throw i()},e.prototype.$setInputBoxValue=function(e){throw i()},e}();t.MainThreadSCMShape=I;var T=function(){function e(){}return e.prototype.$createDebugSession=function(e){throw i()},e.prototype.$customDebugAdapterRequest=function(e,t,n){throw i()},e}();t.MainThreadDebugServiceShape=T;var k=function(){function e(){}return e.prototype.$executeContributedCommand=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];throw i()},e.prototype.$getContributedCommandHandlerDescriptions=function(){throw i()},e}();t.ExtHostCommandsShape=k;var x=function(){function e(){}return e.prototype.$acceptConfigurationChanged=function(e){throw i()},e}();t.ExtHostConfigurationShape=x;var A=function(){return function(){}}();t.ExtHostDiagnosticsShape=A;var L=function(){function e(){}return e.prototype.$provideTextDocumentContent=function(e,t){throw i()},e.prototype.$acceptModelModeChanged=function(e,t,n){throw i()},e.prototype.$acceptModelSaved=function(e){throw i()},e.prototype.$acceptDirtyStateChanged=function(e,t){throw i()},e.prototype.$acceptModelChanged=function(e,t,n){throw i()},e}();t.ExtHostDocumentsShape=L;var P=function(){function e(){}return e.prototype.$participateInSave=function(e,t){throw i()},e}();t.ExtHostDocumentSaveParticipantShape=P;var D=function(){function e(){}return e.prototype.$acceptOptionsChanged=function(e,t){throw i()},e.prototype.$acceptSelectionsChanged=function(e,t){throw i()},e.prototype.$acceptEditorPositionData=function(e){throw i()},e}();t.ExtHostEditorsShape=D;var O=function(){function e(){}return e.prototype.$acceptDocumentsAndEditorsDelta=function(e){throw i()},e}();t.ExtHostDocumentsAndEditorsShape=O;var R=function(){function e(){}return e.prototype.$getElements=function(e){throw i()},e.prototype.$getChildren=function(e,t){throw i()},e}();t.ExtHostTreeViewsShape=R;var M=function(){function e(){}return e.prototype.$acceptWorkspaceData=function(e){throw i()},e}();t.ExtHostWorkspaceShape=M;var N=function(){function e(){}return e.prototype.$activateExtension=function(e){throw i()},e}();t.ExtHostExtensionServiceShape=N;var F=function(){function e(){}return e.prototype.$onFileEvent=function(e){throw i()},e}();t.ExtHostFileSystemEventServiceShape=F;!function(e){e.name="$ident",e.mixin=function(t,n){return Object.defineProperty(t,e.name,{value:n,enumerable:!0}),t},e.of=function(t){return t[e.name]}}(t.ObjectIdentifier||(t.ObjectIdentifier={}));var W=function(){function e(){}return e.prototype.$onGarbageCollection=function(e){throw i()},e}();t.ExtHostHeapServiceShape=W;var B=function(){function e(){}return e.prototype.$provideDocumentSymbols=function(e,t){throw i()},e.prototype.$provideCodeLenses=function(e,t){throw i()},e.prototype.$resolveCodeLens=function(e,t,n){throw i()},e.prototype.$provideDefinition=function(e,t,n){throw i()},e.prototype.$provideImplementation=function(e,t,n){throw i()},e.prototype.$provideTypeDefinition=function(e,t,n){throw i()},e.prototype.$provideHover=function(e,t,n){throw i()},e.prototype.$provideDocumentHighlights=function(e,t,n){throw i()},e.prototype.$provideReferences=function(e,t,n,r){throw i()},e.prototype.$provideCodeActions=function(e,t,n){throw i()},e.prototype.$provideDocumentFormattingEdits=function(e,t,n){throw i()},e.prototype.$provideDocumentRangeFormattingEdits=function(e,t,n,r){throw i()},e.prototype.$provideOnTypeFormattingEdits=function(e,t,n,r,o){throw i()},e.prototype.$provideWorkspaceSymbols=function(e,t){throw i()},e.prototype.$resolveWorkspaceSymbol=function(e,t){throw i()},e.prototype.$provideRenameEdits=function(e,t,n,r){throw i()},e.prototype.$provideCompletionItems=function(e,t,n){throw i()},e.prototype.$resolveCompletionItem=function(e,t,n,r){throw i()},e.prototype.$provideSignatureHelp=function(e,t,n){throw i()},e.prototype.$provideDocumentLinks=function(e,t){throw i()},e.prototype.$resolveDocumentLink=function(e,t){throw i()},e}();t.ExtHostLanguageFeaturesShape=B;var V=function(){function e(){}return e.prototype.$onItemSelected=function(e){throw i()},e.prototype.$validateInput=function(e){throw i()},e}();t.ExtHostQuickOpenShape=V;var z=function(){function e(){}return e.prototype.$acceptTerminalClosed=function(e){throw i()},e.prototype.$acceptTerminalProcessId=function(e,t){throw i()},e.prototype.$acceptTerminalData=function(e,t){throw i()},e}();t.ExtHostTerminalServiceShape=z;var H=function(){function e(){}return e.prototype.$provideOriginalResource=function(e,t){throw i()},e.prototype.$onActiveSourceControlChange=function(e){throw i()},e.prototype.$onInputBoxValueChange=function(e){throw i()},e.prototype.$onInputBoxAcceptChanges=function(){throw i()},e}();t.ExtHostSCMShape=H;var K=function(){function e(){}return e.prototype.$provideTasks=function(e){throw i()},e}();t.ExtHostTaskShape=K;var U=function(){function e(){}return e.prototype.$acceptDebugSessionTerminated=function(e,t,n){throw i()},e}();t.ExtHostDebugServiceShape=U,t.MainContext={MainThreadCommands:n.createMainContextProxyIdentifier("MainThreadCommands",o),MainThreadConfiguration:n.createMainContextProxyIdentifier("MainThreadConfiguration",s),MainThreadDebugService:n.createMainContextProxyIdentifier("MainThreadDebugService",T),MainThreadDiagnostics:n.createMainContextProxyIdentifier("MainThreadDiagnostics",a),MainThreadDocuments:n.createMainContextProxyIdentifier("MainThreadDocuments",c),MainThreadEditors:n.createMainContextProxyIdentifier("MainThreadEditors",l),MainThreadErrors:n.createMainContextProxyIdentifier("MainThreadErrors",d),MainThreadTreeViews:n.createMainContextProxyIdentifier("MainThreadTreeViews",u),MainThreadLanguageFeatures:n.createMainContextProxyIdentifier("MainThreadLanguageFeatures",h),MainThreadLanguages:n.createMainContextProxyIdentifier("MainThreadLanguages",p),MainThreadMessageService:n.createMainContextProxyIdentifier("MainThreadMessageService",f),MainThreadOutputService:n.createMainContextProxyIdentifier("MainThreadOutputService",g),MainThreadProgress:n.createMainContextProxyIdentifier("MainThreadProgress",v),MainThreadQuickOpen:n.createMainContextProxyIdentifier("MainThreadQuickOpen",y),MainThreadStatusBar:n.createMainContextProxyIdentifier("MainThreadStatusBar",b),MainThreadStorage:n.createMainContextProxyIdentifier("MainThreadStorage",S),MainThreadTelemetry:n.createMainContextProxyIdentifier("MainThreadTelemetry",_),MainThreadTerminalService:n.createMainContextProxyIdentifier("MainThreadTerminalService",m),MainThreadWorkspace:n.createMainContextProxyIdentifier("MainThreadWorkspace",E),MainProcessExtensionService:n.createMainContextProxyIdentifier("MainProcessExtensionService",w),MainThreadSCM:n.createMainContextProxyIdentifier("MainThreadSCM",I),MainThreadTask:n.createMainContextProxyIdentifier("MainThreadTask",C)},t.ExtHostContext={ExtHostCommands:n.createExtHostContextProxyIdentifier("ExtHostCommands",k),ExtHostConfiguration:n.createExtHostContextProxyIdentifier("ExtHostConfiguration",x),ExtHostDiagnostics:n.createExtHostContextProxyIdentifier("ExtHostDiagnostics",A),ExtHostDebugService:n.createExtHostContextProxyIdentifier("ExtHostDebugService",U),ExtHostDocumentsAndEditors:n.createExtHostContextProxyIdentifier("ExtHostDocumentsAndEditors",O),ExtHostDocuments:n.createExtHostContextProxyIdentifier("ExtHostDocuments",L),ExtHostDocumentSaveParticipant:n.createExtHostContextProxyIdentifier("ExtHostDocumentSaveParticipant",P),ExtHostEditors:n.createExtHostContextProxyIdentifier("ExtHostEditors",D),ExtHostTreeViews:n.createExtHostContextProxyIdentifier("ExtHostTreeViews",R),ExtHostFileSystemEventService:n.createExtHostContextProxyIdentifier("ExtHostFileSystemEventService",F),ExtHostHeapService:n.createExtHostContextProxyIdentifier("ExtHostHeapMonitor",W),ExtHostLanguageFeatures:n.createExtHostContextProxyIdentifier("ExtHostLanguageFeatures",B),ExtHostQuickOpen:n.createExtHostContextProxyIdentifier("ExtHostQuickOpen",V),ExtHostExtensionService:n.createExtHostContextProxyIdentifier("ExtHostExtensionService",N),ExtHostTerminalService:n.createExtHostContextProxyIdentifier("ExtHostTerminalService",z),ExtHostSCM:n.createExtHostContextProxyIdentifier("ExtHostSCM",H),ExtHostTask:n.createExtHostContextProxyIdentifier("ExtHostTask",K),ExtHostWorkspace:n.createExtHostContextProxyIdentifier("ExtHostWorkspace",M)}}),define(u[1236],d([1,0,83,32,4,61]),function(e,t,n,i,r,o){"use strict";function s(e){if("string"==typeof e)return e;var t=[e.description];if(t.push("\n\n"),e.args)for(var n=0,i=e.args;n<i.length;n++){var r=i[n];t.push("* _"+r.name+"_ "+(r.description||"")+"\n")}return e.returns&&t.push("* _(returns)_ "+e.returns),t.push("\n\n"),t.join("")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,n){var i=e.call(this)||this;return i._threadService=t,i._commandService=n,i._disposables=Object.create(null),i._proxy=i._threadService.get(o.ExtHostContext.ExtHostCommands),i}return h(t,e),t.prototype.dispose=function(){for(var e in this._disposables)this._disposables[e].dispose()},t.prototype.$registerCommand=function(e){var t=this;this._disposables[e]=i.CommandsRegistry.registerCommand(e,function(n){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];return(o=t._proxy).$executeContributedCommand.apply(o,[e].concat(i));var o})},t.prototype.$unregisterCommand=function(e){this._disposables[e]&&(this._disposables[e].dispose(),delete this._disposables[e])},t.prototype.$executeCommand=function(e,t){return(n=this._commandService).executeCommand.apply(n,[e].concat(t));var n},t.prototype.$getCommands=function(){return r.TPromise.as(Object.keys(i.CommandsRegistry.getCommands()))},t}(o.MainThreadCommandsShape);a=v([y(0,n.IThreadService),y(1,i.ICommandService)],a),t.MainThreadCommands=a,i.CommandsRegistry.registerCommand("_generateCommandsDocumentation",function(e){return e.get(n.IThreadService).get(o.ExtHostContext.ExtHostCommands).$getContributedCommandHandlerDescriptions().then(function(e){var t=i.CommandsRegistry.getCommands();for(var n in t){var r=t[n].description;r&&(e[n]=r)}var o=[];for(var n in e)o.push("`"+n+"` - "+s(e[n]));console.log(o.join("\n"))})})}),define(u[1237],d([1,0,5,83,104,65,61]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,n,i){var r=e.call(this)||this;r._configurationEditingService=t;var o=i.get(s.ExtHostContext.ExtHostConfiguration);return r._toDispose=n.onDidUpdateConfiguration(function(){o.$acceptConfigurationChanged(n.getConfigurationData())}),r}return h(t,e),t.prototype.dispose=function(){this._toDispose=n.dispose(this._toDispose)},t.prototype.$updateConfigurationOption=function(e,t,n){return this._configurationEditingService.writeConfiguration(e,{key:t,value:n},{donotNotifyError:!0})},t.prototype.$removeConfigurationOption=function(e,t){return this._configurationEditingService.writeConfiguration(e,{key:t,value:void 0},{donotNotifyError:!0})},t}(s.MainThreadConfigurationShape);a=v([y(0,o.IConfigurationEditingService),y(1,r.IWorkspaceConfigurationService),y(2,i.IThreadService)],a),t.MainThreadConfiguration=a}),define(u[1238],d([1,0,5,67,83,4,61]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,n){var i=e.call(this)||this;return i.debugService=n,i._proxy=t.get(s.ExtHostContext.ExtHostDebugService),i._toDispose=[],i._toDispose.push(n.onDidEndProcess(function(e){return i._proxy.$acceptDebugSessionTerminated(e.getId(),e.configuration.type,e.name)})),i}return h(t,e),t.prototype.dispose=function(){this._toDispose=n.dispose(this._toDispose)},t.prototype.$createDebugSession=function(e){return"launch"!==e.request&&"attach"!==e.request?o.TPromise.wrapError(new Error("only 'launch' or 'attach' allowed for 'request' attribute")):this.debugService.createProcess(e).then(function(e){return e?e.getId():o.TPromise.wrapError(new Error("cannot create debug session"))},function(e){return o.TPromise.wrapError(e&&e.message?e.message:"cannot create debug session")})},t.prototype.$customDebugAdapterRequest=function(e,t,n){var i=this._findProcessByUUID(e);return i?i.session.custom(t,n).then(function(e){return e.success?e.body:o.TPromise.wrapError(new Error(e.message))}):o.TPromise.wrapError(new Error("debug session not found"))},t.prototype._findProcessByUUID=function(e){var t=this.debugService.getModel().getProcesses();return t.filter(function(t){return t.getId()===e}).length>0?t[0]:null},t}(s.MainThreadDebugServiceShape);a=v([y(0,r.IThreadService),y(1,i.IDebugService)],a),t.MainThreadDebugService=a}),define(u[1239],d([1,0,142,61]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t){var n=e.call(this)||this;return n._markerService=t,n}return h(t,e),t.prototype.$changeMany=function(e,t){for(var n=0,i=t;n<i.length;n++){var r=i[n],o=r[0],s=r[1];this._markerService.changeOne(e,o,s)}},t.prototype.$clear=function(e){this._markerService.changeAll(e,void 0)},t}(i.MainThreadDiagnosticsShape);r=v([y(0,n.IMarkerService)],r),t.MainThreadDiagnostics=r}),define(u[1240],d([1,0,33,8,5,14,53,165,934,124,61]),function(e,t,n,i,r,o,s,a,c,l,u){"use strict";function d(e,t){return!(e&&!t||!e&&t)&&(!e&&!t||e.tabSize===t.tabSize&&e.insertSpaces===t.insertSpaces)}Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function e(e,t,n,r,o){var a=this;this._id=e,this._model=t,this._codeEditor=null,this._focusTracker=r,this._modelService=o,this._codeEditorListeners=[],this._onSelectionChanged=new i.Emitter,this._onConfigurationChanged=new i.Emitter,this._lastSelection=[new s.Selection(1,1,1,1)],this._modelListeners=[],this._modelListeners.push(this._model.onDidChangeOptions(function(e){a._setConfiguration(a._readConfiguration(a._model,a._codeEditor))})),this.setCodeEditor(n),this._setConfiguration(this._readConfiguration(this._model,this._codeEditor))}return e.prototype.dispose=function(){this._model=null,this._modelListeners=r.dispose(this._modelListeners),this._codeEditor=null,this._codeEditorListeners=r.dispose(this._codeEditorListeners)},e.prototype.getId=function(){return this._id},e.prototype.getModel=function(){return this._model},e.prototype.getCodeEditor=function(){return this._codeEditor},e.prototype.hasCodeEditor=function(e){return this._codeEditor===e},e.prototype.setCodeEditor=function(e){var t=this;if(!this.hasCodeEditor(e)&&(this._codeEditorListeners=r.dispose(this._codeEditorListeners),this._codeEditor=e,this._codeEditor)){this._codeEditorListeners.push(this._codeEditor.onDidChangeModel(function(){t.setCodeEditor(null)}));var n=function(e){t._lastSelection=t._codeEditor.getSelections(),t._onSelectionChanged.fire({selections:t._lastSelection,source:e&&e.source})};this._codeEditorListeners.push(this._codeEditor.onDidChangeCursorSelection(n)),s.Selection.selectionsArrEqual(this._lastSelection,this._codeEditor.getSelections())||n(),this._codeEditorListeners.push(this._codeEditor.onDidFocusEditor(function(){t._focusTracker.onGainedFocus()})),this._codeEditorListeners.push(this._codeEditor.onDidBlurEditor(function(){t._focusTracker.onLostFocus()})),this._codeEditorListeners.push(this._codeEditor.onDidChangeConfiguration(function(){t._setConfiguration(t._readConfiguration(t._model,t._codeEditor))})),this._setConfiguration(this._readConfiguration(this._model,this._codeEditor))}},e.prototype.isVisible=function(){return!!this._codeEditor},Object.defineProperty(e.prototype,"onSelectionChanged",{get:function(){return this._onSelectionChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onConfigurationChanged",{get:function(){return this._onConfigurationChanged.event},enumerable:!0,configurable:!0}),e.prototype.getSelections=function(){return this._codeEditor?this._codeEditor.getSelections():this._lastSelection},e.prototype.setSelections=function(e){this._codeEditor?this._codeEditor.setSelections(e):this._lastSelection=e.map(s.Selection.liftSelection)},e.prototype.getConfiguration=function(){return this._configuration},e.prototype._setIndentConfiguration=function(e){if("auto"===e.tabSize||"auto"===e.insertSpaces){var t=this._modelService.getCreationOptions(this._model.getLanguageIdentifier().language),n=t.insertSpaces,i=t.tabSize;return"auto"!==e.insertSpaces&&void 0!==e.insertSpaces&&(n=e.insertSpaces),"auto"!==e.tabSize&&void 0!==e.tabSize&&(i=e.tabSize),void this._model.detectIndentation(n,i)}var r={};void 0!==e.insertSpaces&&(r.insertSpaces=e.insertSpaces),void 0!==e.tabSize&&(r.tabSize=e.tabSize),this._model.updateOptions(r)},e.prototype.setConfiguration=function(e){if(this._setIndentConfiguration(e),this._codeEditor){if(e.cursorStyle){var t=l.cursorStyleToString(e.cursorStyle);this._codeEditor.updateOptions({cursorStyle:t})}if(void 0!==e.lineNumbers){var n=void 0;switch(e.lineNumbers){case c.TextEditorLineNumbersStyle.On:n="on";break;case c.TextEditorLineNumbersStyle.Relative:n="relative";break;default:n="off"}this._codeEditor.updateOptions({lineNumbers:n})}}},e.prototype.setDecorations=function(e,t){this._codeEditor&&this._codeEditor.setDecorations(e,t)},e.prototype.revealRange=function(e,t){if(this._codeEditor)switch(t){case u.TextEditorRevealType.Default:this._codeEditor.revealRange(e);break;case u.TextEditorRevealType.InCenter:this._codeEditor.revealRangeInCenter(e);break;case u.TextEditorRevealType.InCenterIfOutsideViewport:this._codeEditor.revealRangeInCenterIfOutsideViewport(e);break;case u.TextEditorRevealType.AtTop:this._codeEditor.revealRangeAtTop(e);break;default:console.warn("Unknown revealType: "+t)}},e.prototype._readConfiguration=function(e,t){if(e.isDisposed())return this._configuration;var n=this._configuration?this._configuration.cursorStyle:l.TextEditorCursorStyle.Line,i=this._configuration?this._configuration.lineNumbers:c.TextEditorLineNumbersStyle.On;if(t){var r=t.getConfiguration();n=r.viewInfo.cursorStyle,i=r.viewInfo.renderRelativeLineNumbers?c.TextEditorLineNumbersStyle.Relative:r.viewInfo.renderLineNumbers?c.TextEditorLineNumbersStyle.On:c.TextEditorLineNumbersStyle.Off}var o=e.getOptions();return{insertSpaces:o.insertSpaces,tabSize:o.tabSize,cursorStyle:n,lineNumbers:i}},e.prototype._setConfiguration=function(e){d(this._configuration,e)||(this._configuration=e,this._onConfigurationChanged.fire(this._configuration))},e.prototype.isFocused=function(){return!!this._codeEditor&&this._codeEditor.isFocused()},e.prototype.matches=function(e){return!!e&&e.getControl()===this._codeEditor},e.prototype.applyEdits=function(e,t,i){if(this._model.getVersionId()!==e)return!1;if(!this._codeEditor)return!1;i.setEndOfLine===c.EndOfLine.CRLF?this._model.setEOL(n.EndOfLineSequence.CRLF):i.setEndOfLine===c.EndOfLine.LF&&this._model.setEOL(n.EndOfLineSequence.LF);var r=t.map(function(e){return{identifier:null,range:o.Range.lift(e.range),text:e.text,forceMoveMarkers:e.forceMoveMarkers}});return i.undoStopBefore&&this._codeEditor.pushUndoStop(),this._codeEditor.executeEdits("MainThreadTextEditor",r),i.undoStopAfter&&this._codeEditor.pushUndoStop(),!0},e.prototype.insertSnippet=function(e,t,n){if(!this._codeEditor)return!1;var i=a.SnippetController2.get(this._codeEditor),r=t.map(function(e){return new s.Selection(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn)});return this._codeEditor.setSelections(r),this._codeEditor.focus(),i.insert(e,0,0,n.undoStopBefore,n.undoStopAfter),!0},e}();t.MainThreadTextEditor=h}),define(u[1241],d([1,0,44,33,12,34,5,56,8,61,1240,83,51,22]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f;!function(e){e.compareModels=function(e,t){return r.compare(e.uri.toString(),t.uri.toString())},e.compareEditors=function(e,t){var n=r.compare(e.editor.getId(),t.editor.getId());return 0===n&&(n=r.compare(e.document.uri.toString(),t.document.uri.toString())),n}}(f||(f={}));var g=function(){return function(e,t){this.editor=e,this.document=t,this.id=e.getId()+","+t.uri.toString()}}(),m=function(){function e(e,t,n,i,r,o){this.removedDocuments=e,this.addedDocuments=t,this.removedEditors=n,this.addedEditors=i,this.oldActiveEditor=r,this.newActiveEditor=o,this.isEmpty=0===this.removedDocuments.length&&0===this.addedDocuments.length&&0===this.removedEditors.length&&0===this.addedEditors.length&&r===o}return e.prototype.toString=function(){var e="DocumentAndEditorStateDelta\n";return e+="\tRemoved Documents: ["+this.removedDocuments.map(function(e){return e.uri.toString(!0)}).join(", ")+"]\n",e+="\tAdded Documents: ["+this.addedDocuments.map(function(e){return e.uri.toString(!0)}).join(", ")+"]\n",e+="\tRemoved Editors: ["+this.removedEditors.map(function(e){return e.id}).join(", ")+"]\n",e+="\tAdded Editors: ["+this.addedEditors.map(function(e){return e.id}).join(", ")+"]\n",e+="\tNew Active Editor: "+this.newActiveEditor+"\n"},e}(),b=function(){function e(e,t,n){this.documents=e,this.editors=t,this.activeEditor=n,this.documents=e.sort(f.compareModels),this.editors=t.sort(f.compareEditors)}return e.compute=function(e,t){if(!e)return new m([],t.documents,[],t.editors,void 0,t.activeEditor);var n=o.delta(e.documents,t.documents,f.compareModels),i=o.delta(e.editors,t.editors,f.compareEditors),r=e.activeEditor!==t.activeEditor?e.activeEditor:void 0,s=e.activeEditor!==t.activeEditor?t.activeEditor:void 0;return new m(n.removed,n.added,i.removed,i.added,r,s)},e}(),S=function(){function e(e,t,n){this._modelService=e,this._codeEditorService=t,this._workbenchEditorService=n,this._toDispose=[],this._toDisposeOnEditorRemove=new Map,this._onDidChangeState=new c.Emitter,this.onDidChangeState=this._onDidChangeState.event,this._modelService.onModelAdded(this._updateState,this,this._toDispose),this._modelService.onModelRemoved(this._updateState,this,this._toDispose),this._codeEditorService.onCodeEditorAdd(this._onDidAddEditor,this,this._toDispose),this._codeEditorService.onCodeEditorRemove(this._onDidRemoveEditor,this,this._toDispose)}return e.prototype.dispose=function(){this._toDispose=s.dispose(this._toDispose)},e.prototype._onDidAddEditor=function(e){var t=this;this._toDisposeOnEditorRemove.set(e.getId(),e.onDidChangeModel(function(){return t._updateState()})),this._toDisposeOnEditorRemove.set(e.getId(),e.onDidFocusEditor(function(){return t._updateState()})),this._toDisposeOnEditorRemove.set(e.getId(),e.onDidBlurEditor(function(){return t._updateState()})),this._updateState()},e.prototype._onDidRemoveEditor=function(e){var t=this._toDisposeOnEditorRemove.get(e.getId());t&&(this._toDisposeOnEditorRemove.delete(e.getId()),t.dispose(),this._updateState())},e.prototype._updateState=function(){for(var e=this._modelService.getModels(),t=0;t<e.length;t++)e[t].isTooLargeForHavingARichMode()&&(e.splice(t,1),t--);for(var n=[],r=null,o=0,s=this._codeEditorService.listCodeEditors();o<s.length;o++){var a=(v=s[o]).getModel();if(a&&!a.isTooLargeForHavingARichMode()&&!a.isDisposed()&&Boolean(this._modelService.getModel(a.uri))){var c=new g(v,a);n.push(c),v.isFocused()&&(r=c.id)}}if(!r){var l=this._workbenchEditorService.getActiveEditor();if(l){var u=l.getControl(),d=void 0;if(i.isCommonCodeEditor(u)?d=u:i.isCommonDiffEditor(u)&&(d=u.getModifiedEditor()),d)for(var h=0,p=n;h<p.length;h++){var f=p[h],v=f.editor,m=f.id;if(d===v){r=m;break}}}}var y=new b(e,n,r),S=b.compute(this._currentState,y);S.isEmpty||(this._currentState=y,this._onDidChangeState.fire(S))},e}();S=v([y(0,n.IModelService),y(1,a.ICodeEditorService),y(2,p.IWorkbenchEditorService)],S);var _=function(){function e(e,t,n,i,r){this._modelService=e,this._textFileService=t,this._workbenchEditorService=n,this._editors=Object.create(null),this._onTextEditorAdd=new c.Emitter,this._onTextEditorRemove=new c.Emitter,this._onDocumentAdd=new c.Emitter,this._onDocumentRemove=new c.Emitter,this.onTextEditorAdd=this._onTextEditorAdd.event,this.onTextEditorRemove=this._onTextEditorRemove.event,this.onDocumentAdd=this._onDocumentAdd.event,this.onDocumentRemove=this._onDocumentRemove.event,this._proxy=i.get(l.ExtHostContext.ExtHostDocumentsAndEditors),this._stateComputer=new S(e,r,n),this._toDispose=[this._stateComputer,this._stateComputer.onDidChangeState(this._onDelta,this)]}return e.prototype.dispose=function(){this._toDispose=s.dispose(this._toDispose)},e.prototype._onDelta=function(e){var t,n=this,i=[],r=[];t=e.removedDocuments.map(function(e){return e.uri.toString()});for(var o=0,s=e.addedEditors;o<s.length;o++){var a=s[o],c=new u.MainThreadTextEditor(a.id,a.document,a.editor,{onGainedFocus:function(){},onLostFocus:function(){}},this._modelService);this._editors[a.id]=c,r.push(c)}for(var l=0,d=e.removedEditors;l<d.length;l++){var h=d[l].id;(c=this._editors[h])&&(c.dispose(),delete this._editors[h],i.push(h))}var p=Object.create(null),f=!0;void 0!==e.newActiveEditor&&(f=!1,p.newActiveEditor=e.newActiveEditor),t.length>0&&(f=!1,p.removedDocuments=t),i.length>0&&(f=!1,p.removedEditors=i),e.addedDocuments.length>0&&(f=!1,p.addedDocuments=e.addedDocuments.map(function(e){return n._toModelAddData(e)})),e.addedEditors.length>0&&(f=!1,p.addedEditors=r.map(function(e){return n._toTextEditorAddData(e)})),f||(this._proxy.$acceptDocumentsAndEditorsDelta(p),this._onDocumentRemove.fire(t),this._onDocumentAdd.fire(e.addedDocuments),this._onTextEditorRemove.fire(i),this._onTextEditorAdd.fire(r))},e.prototype._toModelAddData=function(e){return{url:e.uri,versionId:e.getVersionId(),lines:e.getLinesContent(),EOL:e.getEOL(),modeId:e.getLanguageIdentifier().language,isDirty:this._textFileService.isDirty(e.uri)}},e.prototype._toTextEditorAddData=function(e){return{id:e.getId(),document:e.getModel().uri,options:e.getConfiguration(),selections:e.getSelections(),editorPosition:this._findEditorPosition(e)}},e.prototype._findEditorPosition=function(e){for(var t=0,n=this._workbenchEditorService.getVisibleEditors();t<n.length;t++){var i=n[t];if(e.matches(i))return i.position}},e.prototype.findTextEditorIdFor=function(e){for(var t in this._editors)if(this._editors[t].matches(e))return t},e.prototype.getEditor=function(e){return this._editors[e]},e}();_=v([y(0,n.IModelService),y(1,h.ITextFileService),y(2,p.IWorkbenchEditorService),y(3,d.IThreadService),y(4,a.ICodeEditorService)],_),t.MainThreadDocumentsAndEditors=_}),define(u[1242],d([1,0,5,4,83,56,22,45,19,26,61]),function(e,t,n,i,r,o,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(e){function t(t,n,i,r,o,s){var a=e.call(this)||this;return a._codeEditorService=n,a._proxy=i.get(u.ExtHostContext.ExtHostEditors),a._documentsAndEditors=t,a._workbenchEditorService=r,a._telemetryService=s,a._toDispose=[],a._textEditorsListenersMap=Object.create(null),a._editorPositionData=null,a._toDispose.push(t.onTextEditorAdd(function(e){return e.forEach(a._onTextEditorAdd,a)})),a._toDispose.push(t.onTextEditorRemove(function(e){return e.forEach(a._onTextEditorRemove,a)})),a._toDispose.push(o.onEditorsChanged(function(){return a._updateActiveAndVisibleTextEditors()})),a._toDispose.push(o.onEditorsMoved(function(){return a._updateActiveAndVisibleTextEditors()})),a}return h(t,e),t.prototype.dispose=function(){var e=this;Object.keys(this._textEditorsListenersMap).forEach(function(t){n.dispose(e._textEditorsListenersMap[t])}),this._textEditorsListenersMap=Object.create(null),this._toDispose=n.dispose(this._toDispose)},t.prototype._onTextEditorAdd=function(e){var t=this,n=e.getId(),i=[];i.push(e.onConfigurationChanged(function(e){t._proxy.$acceptOptionsChanged(n,e)})),i.push(e.onSelectionChanged(function(e){t._proxy.$acceptSelectionsChanged(n,e)})),this._textEditorsListenersMap[n]=i},t.prototype._onTextEditorRemove=function(e){n.dispose(this._textEditorsListenersMap[e]),delete this._textEditorsListenersMap[e]},t.prototype._updateActiveAndVisibleTextEditors=function(){var e=this._getTextEditorPositionData();l.equals(this._editorPositionData,e)||(this._editorPositionData=e,this._proxy.$acceptEditorPositionData(this._editorPositionData))},t.prototype._getTextEditorPositionData=function(){for(var e=Object.create(null),t=0,n=this._workbenchEditorService.getVisibleEditors();t<n.length;t++){var i=n[t],r=this._documentsAndEditors.findTextEditorIdFor(i);r&&(e[r]=i.position)}return e},t.prototype.$tryShowTextDocument=function(e,t){var n=this,i={resource:e,options:{preserveFocus:t.preserveFocus,pinned:t.pinned}};return this._workbenchEditorService.openEditor(i,t.position).then(function(e){if(e)return n._documentsAndEditors.findTextEditorIdFor(e)})},t.prototype.$tryShowEditor=function(e,t){this._telemetryService.publicLog("api.deprecated",{function:"TextEditor.show"});var n=this._documentsAndEditors.getEditor(e);if(n){var i=n.getModel();return this._workbenchEditorService.openEditor({resource:i.uri,options:{preserveFocus:!1}},t).then(function(){})}},t.prototype.$tryHideEditor=function(e){this._telemetryService.publicLog("api.deprecated",{function:"TextEditor.hide"});var t=this._documentsAndEditors.getEditor(e);if(t)for(var n=0,i=this._workbenchEditorService.getVisibleEditors();n<i.length;n++){var r=i[n];if(t.matches(r))return this._workbenchEditorService.closeEditor(r.position,r.input).then(function(){})}},t.prototype.$trySetSelections=function(e,t){return this._documentsAndEditors.getEditor(e)?(this._documentsAndEditors.getEditor(e).setSelections(t),i.TPromise.as(null)):i.TPromise.wrapError(new Error("TextEditor disposed"))},t.prototype.$trySetDecorations=function(e,t,n){return this._documentsAndEditors.getEditor(e)?(this._documentsAndEditors.getEditor(e).setDecorations(t,n),i.TPromise.as(null)):i.TPromise.wrapError(new Error("TextEditor disposed"))},t.prototype.$tryRevealRange=function(e,t,n){if(!this._documentsAndEditors.getEditor(e))return i.TPromise.wrapError(new Error("TextEditor disposed"));this._documentsAndEditors.getEditor(e).revealRange(t,n)},t.prototype.$trySetOptions=function(e,t){return this._documentsAndEditors.getEditor(e)?(this._documentsAndEditors.getEditor(e).setConfiguration(t),i.TPromise.as(null)):i.TPromise.wrapError(new Error("TextEditor disposed"))},t.prototype.$tryApplyEdits=function(e,t,n,r){return this._documentsAndEditors.getEditor(e)?i.TPromise.as(this._documentsAndEditors.getEditor(e).applyEdits(t,n,r)):i.TPromise.wrapError(new Error("TextEditor disposed"))},t.prototype.$tryInsertSnippet=function(e,t,n,r){return this._documentsAndEditors.getEditor(e)?i.TPromise.as(this._documentsAndEditors.getEditor(e).insertSnippet(t,n,r)):i.TPromise.wrapError(new Error("TextEditor disposed"))},t.prototype.$registerTextEditorDecorationType=function(e,t){this._codeEditorService.registerDecorationType(e,t)},t.prototype.$removeTextEditorDecorationType=function(e){this._codeEditorService.removeDecorationType(e)},t.prototype.$getDiffInformation=function(e){var t=this._documentsAndEditors.getEditor(e);if(!t)return i.TPromise.wrapError(new Error("No such TextEditor"));var n=t.getCodeEditor().getId(),r=this._codeEditorService.listDiffEditors().filter(function(e){return e.getOriginalEditor().getId()===n||e.getModifiedEditor().getId()===n})[0];return r?i.TPromise.as(r.getLineChanges()):i.TPromise.as([])},t}(u.MainThreadEditorsShape);d=v([y(1,o.ICodeEditorService),y(2,r.IThreadService),y(3,s.IWorkbenchEditorService),y(4,a.IEditorGroupService),y(5,c.ITelemetryService)],d),t.MainThreadEditors=d}),define(u[1243],d([1,0,7,61]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.onUnexpectedExtHostError=function(e){n.onUnexpectedError(e)},t}(i.MainThreadErrorsShape);t.MainThreadErrors=r}),define(u[410],d([1,0,36,4,136,500,52,16,772,87,141,117,964,20,83,61,19,39,31]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_){"use strict";function E(e){return(e.source?"["+e.source+"]: ":"")+e.message}Object.defineProperty(t,"__esModule",{value:!0});var C=s.normalize(s.join(a.default.parse(e.toUrl("")).fsPath,"..","extensions")),w=function(e){function t(){return e.call(this,!0)||this}return h(t,e),t}(c.ActivatedExtension),I=function(e){function t(){return e.call(this,!1)||this}return h(t,e),t}(c.ActivatedExtension),T=Object.hasOwnProperty,k=function(e){function t(t,n,i,r,o,s){var a=e.call(this,!1)||this;return a._threadService=t,a._messageService=n,a.environmentService=i,a._telemetryService=r,a._isDev=!i.isBuilt||i.isExtensionDevelopment,a._proxy=a._threadService.get(m.ExtHostContext.ExtHostExtensionService),a._extensionsStatus={},a.scanExtensions().done(function(e){var t=u.getGloballyDisabledExtensions(o,s,e).concat(o.getWorkspaceDisabledExtensions());r.publicLog("extensionsScanned",{totalCount:e.length,disabledCount:t.length}),a._onExtensionDescriptions(t.length?e.filter(function(e){return t.every(function(t){return!u.areSameExtensions({id:t},e)})}):e)}),a}return h(t,e),t.prototype._handleMessage=function(e){if(this._extensionsStatus[e.source]||(this._extensionsStatus[e.source]={messages:[]}),this._extensionsStatus[e.source].messages.push(e),this.$localShowMessage(e.type,E(e),this.environmentService.extensionDevelopmentPath===e.source),!this._isDev&&e.extensionId){var t=e.type,n=e.extensionId,i=e.extensionPointId,r=e.message;this._telemetryService.publicLog("extensionsMessage",{type:t,extensionId:n,extensionPointId:i,message:r})}},t.prototype.$localShowMessage=function(e,t,i){void 0===i&&(i=this._isDev),!i||e!==n.default.Error&&e!==n.default.Warning?e===n.default.Error?console.error(t):e===n.default.Warning?console.warn(t):console.log(t):this._messageService.show(e,t)},t.prototype.getExtensionsStatus=function(){return this._extensionsStatus},t.prototype._showMessage=function(e,t){this.$localShowMessage(e,t)},t.prototype._createFailedExtension=function(){return new w},t.prototype._actualActivateExtension=function(e){var t=this;return this._proxy.$activateExtension(e).then(function(n){return t._activatedExtensions[e.id]})},t.prototype._onExtensionDescriptions=function(e){this._registry.registerExtensions(e);for(var t=this._registry.getAllExtensionDescriptions(),n=d.ExtensionsRegistry.getExtensionPoints(),i=0,r=n.length;i<r;i++)this._handleExtensionPoint(n[i],t);this._triggerOnReady()},t.prototype._handleExtensionPoint=function(e,t){for(var n=this,i=[],r=0,o=0,s=t.length;o<s;o++){var a=t[o];a.contributes&&T.call(a.contributes,e.name)&&(i[r++]={description:a,value:a.contributes[e.name],collector:new d.ExtensionMessageCollector(function(e){return n._handleMessage(e)},a,e.name)})}e.acceptUsers(i)},t.prototype.$onExtensionActivated=function(e){this._activatedExtensions[e]=new I},t.prototype.$onExtensionActivationFailed=function(e){this._activatedExtensions[e]=new w},t.prototype.scanExtensions=function(){var e=this,t=new p.MessagesCollector,n=r.default.version,s=p.ExtensionScanner.scanExtensions(n,t,C,!0),a=this.environmentService.disableExtensions||!this.environmentService.extensionsPath?i.TPromise.as([]):p.ExtensionScanner.scanExtensions(n,t,this.environmentService.extensionsPath,!1),c=this.environmentService.disableExtensions||!this.environmentService.isExtensionDevelopment?i.TPromise.as([]):p.ExtensionScanner.scanOneOrMultipleExtensions(n,t,this.environmentService.extensionDevelopmentPath,!1);return i.TPromise.join([s,a,c]).then(function(e){var n=e[0],i=e[1],r=e[2],s={};return n.forEach(function(e){s[e.id]=e}),i.forEach(function(e){s.hasOwnProperty(e.id)&&t.warn(e.extensionFolderPath,o.localize(0,null,s[e.id].extensionFolderPath,e.extensionFolderPath)),s[e.id]=e}),r.forEach(function(e){t.info("",o.localize(1,null,e.extensionFolderPath)),s.hasOwnProperty(e.id)&&t.warn(e.extensionFolderPath,o.localize(2,null,s[e.id].extensionFolderPath,e.extensionFolderPath)),s[e.id]=e}),Object.keys(s).map(function(e){return s[e]})}).then(null,function(e){return t.error("",e),[]}).then(function(n){return t.getMessages().forEach(function(t){return e.$localShowMessage(t.type,e._isDev?(t.source?"["+t.source+"]: ":"")+t.message:t.message)}),n})},t}(c.AbstractExtensionService);k=v([y(0,g.IThreadService),y(1,f.IMessageService),y(2,S.IEnvironmentService),y(3,b.ITelemetryService),y(4,l.IExtensionEnablementService),y(5,_.IStorageService)],k),t.MainProcessExtensionService=k}),define(u[1245],d([1,0,43,83,61]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){return function(e,t){var i=e.get(r.ExtHostContext.ExtHostFileSystemEventService),o={created:[],changed:[],deleted:[]};t.onFileChanges(function(e){for(var t=0,r=e.changes;t<r.length;t++){var s=r[t];switch(s.type){case n.FileChangeType.ADDED:o.created.push(s.resource);break;case n.FileChangeType.UPDATED:o.changed.push(s.resource);break;case n.FileChangeType.DELETED:o.deleted.push(s.resource)}}i.$onFileEvent(o),o.created.length=0,o.changed.length=0,o.deleted.length=0})}}();o=v([y(0,i.IThreadService),y(1,n.IFileService)],o),t.MainThreadFileSystemEventService=o}),define(u[396],d([1,0,4,83,61,1371,6,116]),function(e,t,n,i,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IHeapService=s.createDecorator("heapService");var c=function(){function e(e){var t=this;this._activeSignals=new WeakMap,this._activeIds=new Set;var n=e.get(r.ExtHostContext.ExtHostHeapService);this._consumeHandle=setInterval(function(){var e=o.consumeSignals();if(e.length>0){for(var i=0,r=e;i<r.length;i++){var s=r[i];t._activeIds.delete(s)}n.$onGarbageCollection(e)}},15e3)}return e.prototype.dispose=function(){clearInterval(this._consumeHandle)},e.prototype.trackRecursive=function(e){var t=this;return n.TPromise.is(e)?e.then(function(e){return t.trackRecursive(e)}):this._doTrackRecursive(e)},e.prototype._doTrackRecursive=function(e){for(var t=[e];t.length>0;){var n=t.shift();if(n&&"object"==typeof n)for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var s=n[i];"object"==typeof s?t.push(s):i===r.ObjectIdentifier.name&&("number"!=typeof s||this._activeIds.has(s)||(this._activeIds.add(s),this._activeSignals.set(n,new o.GCSignal(s))))}}return e},e}();c=v([y(0,i.IThreadService)],c),t.MainThreadHeapService=c,a.registerSingleton(t.IHeapService,c)}),define(u[1248],d([1,0,8,83,46,247,18,61,112,396,42]),function(e,t,n,i,r,o,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(e){function t(t,n,i){var r=e.call(this)||this;return r._registrations=Object.create(null),r._proxy=t.get(a.ExtHostContext.ExtHostLanguageFeatures),r._heapService=n,r._modeService=i,r}return h(t,e),t.prototype.$unregister=function(e){var t=this._registrations[e];t&&(t.dispose(),delete this._registrations[e])},t.prototype.$registerOutlineSupport=function(e,t){var n=this;this._registrations[e]=r.DocumentSymbolProviderRegistry.register(t,{provideDocumentSymbols:function(t,i){return s.wireCancellationToken(i,n._proxy.$provideDocumentSymbols(e,t.uri))}})},t.prototype.$registerCodeLensSupport=function(e,t,i){var o=this,a={provideCodeLenses:function(t,n){return o._heapService.trackRecursive(s.wireCancellationToken(n,o._proxy.$provideCodeLenses(e,t.uri)))},resolveCodeLens:function(t,n,i){return o._heapService.trackRecursive(s.wireCancellationToken(i,o._proxy.$resolveCodeLens(e,t.uri,n)))}};if("number"==typeof i){var c=new n.Emitter;this._registrations[i]=c,a.onDidChange=c.event}this._registrations[e]=r.CodeLensProviderRegistry.register(t,a)},t.prototype.$emitCodeLensEvent=function(e,t){var i=this._registrations[e];i instanceof n.Emitter&&i.fire(t)},t.prototype.$registerDeclaractionSupport=function(e,t){var n=this;this._registrations[e]=r.DefinitionProviderRegistry.register(t,{provideDefinition:function(t,i,r){return s.wireCancellationToken(r,n._proxy.$provideDefinition(e,t.uri,i))}})},t.prototype.$registerImplementationSupport=function(e,t){var n=this;this._registrations[e]=r.ImplementationProviderRegistry.register(t,{provideImplementation:function(t,i,r){return s.wireCancellationToken(r,n._proxy.$provideImplementation(e,t.uri,i))}})},t.prototype.$registerTypeDefinitionSupport=function(e,t){var n=this;this._registrations[e]=r.TypeDefinitionProviderRegistry.register(t,{provideTypeDefinition:function(t,i,r){return s.wireCancellationToken(r,n._proxy.$provideTypeDefinition(e,t.uri,i))}})},t.prototype.$registerHoverProvider=function(e,t){var n=this;this._registrations[e]=r.HoverProviderRegistry.register(t,{provideHover:function(t,i,r){return s.wireCancellationToken(r,n._proxy.$provideHover(e,t.uri,i))}})},t.prototype.$registerDocumentHighlightProvider=function(e,t){var n=this;this._registrations[e]=r.DocumentHighlightProviderRegistry.register(t,{provideDocumentHighlights:function(t,i,r){return s.wireCancellationToken(r,n._proxy.$provideDocumentHighlights(e,t.uri,i))}})},t.prototype.$registerReferenceSupport=function(e,t){var n=this;this._registrations[e]=r.ReferenceProviderRegistry.register(t,{provideReferences:function(t,i,r,o){return s.wireCancellationToken(o,n._proxy.$provideReferences(e,t.uri,i,r))}})},t.prototype.$registerQuickFixSupport=function(e,t){var n=this;this._registrations[e]=r.CodeActionProviderRegistry.register(t,{provideCodeActions:function(t,i,r){return n._heapService.trackRecursive(s.wireCancellationToken(r,n._proxy.$provideCodeActions(e,t.uri,i)))}})},t.prototype.$registerDocumentFormattingSupport=function(e,t){var n=this;this._registrations[e]=r.DocumentFormattingEditProviderRegistry.register(t,{provideDocumentFormattingEdits:function(t,i,r){return s.wireCancellationToken(r,n._proxy.$provideDocumentFormattingEdits(e,t.uri,i))}})},t.prototype.$registerRangeFormattingSupport=function(e,t){var n=this;this._registrations[e]=r.DocumentRangeFormattingEditProviderRegistry.register(t,{provideDocumentRangeFormattingEdits:function(t,i,r,o){return s.wireCancellationToken(o,n._proxy.$provideDocumentRangeFormattingEdits(e,t.uri,i,r))}})},t.prototype.$registerOnTypeFormattingSupport=function(e,t,n){var i=this;this._registrations[e]=r.OnTypeFormattingEditProviderRegistry.register(t,{autoFormatTriggerCharacters:n,provideOnTypeFormattingEdits:function(t,n,r,o,a){return s.wireCancellationToken(a,i._proxy.$provideOnTypeFormattingEdits(e,t.uri,n,r,o))}})},t.prototype.$registerNavigateTypeSupport=function(e){var t=this;this._registrations[e]=o.WorkspaceSymbolProviderRegistry.register({provideWorkspaceSymbols:function(n){return t._heapService.trackRecursive(t._proxy.$provideWorkspaceSymbols(e,n))},resolveWorkspaceSymbol:function(n){return t._proxy.$resolveWorkspaceSymbol(e,n)}})},t.prototype.$registerRenameSupport=function(e,t){var n=this;this._registrations[e]=r.RenameProviderRegistry.register(t,{provideRenameEdits:function(t,i,r,o){return s.wireCancellationToken(o,n._proxy.$provideRenameEdits(e,t.uri,i,r))}})},t.prototype.$registerSuggestSupport=function(e,t,n){var i=this;this._registrations[e]=r.SuggestRegistry.register(t,{triggerCharacters:n,provideCompletionItems:function(t,n,r){return i._heapService.trackRecursive(s.wireCancellationToken(r,i._proxy.$provideCompletionItems(e,t.uri,n)))},resolveCompletionItem:function(t,n,r,o){return s.wireCancellationToken(o,i._proxy.$resolveCompletionItem(e,t.uri,n,r))}})},t.prototype.$registerSignatureHelpProvider=function(e,t,n){var i=this;this._registrations[e]=r.SignatureHelpProviderRegistry.register(t,{signatureHelpTriggerCharacters:n,provideSignatureHelp:function(t,n,r){return s.wireCancellationToken(r,i._proxy.$provideSignatureHelp(e,t.uri,n))}})},t.prototype.$registerDocumentLinkProvider=function(e,t){var n=this;this._registrations[e]=r.LinkProviderRegistry.register(t,{provideLinks:function(t,i){return s.wireCancellationToken(i,n._proxy.$provideDocumentLinks(e,t.uri))},resolveLink:function(t,i){return s.wireCancellationToken(i,n._proxy.$resolveDocumentLink(e,t))}})},t.prototype.$setLanguageConfiguration=function(e,t,n){var i={comments:n.comments,brackets:n.brackets,wordPattern:n.wordPattern,indentationRules:n.indentationRules,onEnterRules:n.onEnterRules,autoClosingPairs:null,surroundingPairs:null,__electricCharacterSupport:null};n.__characterPairSupport&&(i.autoClosingPairs=n.__characterPairSupport.autoClosingPairs),n.__electricCharacterSupport&&n.__electricCharacterSupport.docComment&&(i.__electricCharacterSupport={docComment:{open:n.__electricCharacterSupport.docComment.open,close:n.__electricCharacterSupport.docComment.close}});var r=this._modeService.getLanguageIdentifier(t);r&&(this._registrations[e]=c.LanguageConfigurationRegistry.register(r,i))},t}(a.MainThreadLanguageFeaturesShape);d=v([y(0,i.IThreadService),y(1,l.IHeapService),y(2,u.IModeService)],d),t.MainThreadLanguageFeatures=d}),define(u[1249],d([1,0,4,42,61]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this)||this;return n._modeService=t,n}return h(t,e),t.prototype.$getLanguages=function(){return n.TPromise.as(this._modeService.getRegisteredModes())},t}(r.MainThreadLanguagesShape);o=v([y(0,i.IModeService)],o),t.MainThreadLanguages=o}),define(u[1250],d([1,0,501,20,21,4,61]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,n){var i=e.call(this)||this;return i._messageService=t,i._choiceService=n,i}return h(t,e),t.prototype.$showMessage=function(e,t,n,i){return n.modal?this.showModalMessage(e,t,i):this.showMessage(e,t,i)},t.prototype.showMessage=function(e,t,i){var s=this;return new o.TPromise(function(o){var a,c=[],l=!1,u=function(e){function t(t,n,i){return e.call(this,t,n,void 0,!0,function(){o(i),a()})||this}return h(t,e),t.prototype.dispose=function(){o(void 0)},t}(r.Action);i.forEach(function(e){!0===e.isCloseAffordance&&(l=!0),c.push(new u("_extension_message_handle_"+e.handle,e.title,e.handle))}),l||c.push(new u("__close",n.localize(0,null),void 0)),a=s._messageService.show(e,{message:t,actions:c})})},t.prototype.showModalMessage=function(e,t,i){var r=void 0,o=i.map(function(e,t){return!0===e.isCloseAffordance&&(r=t),e.title});return void 0===r&&(o.length>0?o.push(n.localize(1,null)):o.push(n.localize(2,null)),r=o.length-1),this._choiceService.choose(e,t,o,r,!0).then(function(e){return e===i.length?void 0:i[e].handle})},t}(s.MainThreadMessageServiceShape);a=v([y(0,i.IMessageService),y(1,i.IChoiceService)],a),t.MainThreadMessageService=a}),define(u[1251],d([1,0,15,125,47,78,61]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,n,i){var r=e.call(this)||this;return r._outputService=t,r._partService=n,r._panelService=i,r}return h(t,e),t.prototype.$append=function(e,t,n){this._getChannel(e,t).append(n)},t.prototype.$clear=function(e,t){this._getChannel(e,t).clear()},t.prototype.$reveal=function(e,t,n){this._getChannel(e,t).show(n)},t.prototype._getChannel=function(e,t){return n.Registry.as(i.Extensions.OutputChannels).getChannel(e)||n.Registry.as(i.Extensions.OutputChannels).registerChannel(e,t),this._outputService.getChannel(e)},t.prototype.$close=function(e){var t=this._panelService.getActivePanel();if(t&&t.getId()===i.OUTPUT_PANEL_ID&&e===this._outputService.getActiveChannel().id)return this._partService.setPanelHidden(!0)},t.prototype.$dispose=function(e,t){this._getChannel(e,t).dispose()},t}(s.MainThreadOutputServiceShape);a=v([y(0,i.IOutputService),y(1,r.IPartService),y(2,o.IPanelService)],a),t.MainThreadOutputService=a}),define(u[1252],d([1,0,109,4,61]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this)||this;return n.progress=new Map,n._progressService=t,n}return h(t,e),t.prototype.$startProgress=function(e,t){var n=this._createTask(e);this._progressService.withProgress(t,n)},t.prototype.$progressReport=function(e,t){this.progress.get(e).progress.report(t)},t.prototype.$progressEnd=function(e){this.progress.get(e).resolve(),this.progress.delete(e)},t.prototype._createTask=function(e){var t=this;return function(n){return new i.TPromise(function(i){t.progress.set(e,{resolve:i,progress:n})})}},t}(r.MainThreadProgressShape);o=v([y(0,n.IProgressService2)],o),t.MainThreadProgress=o}),define(u[1253],d([1,0,4,18,83,54,61]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,n){var i=e.call(this)||this;return i._token=0,i._proxy=t.get(s.ExtHostContext.ExtHostQuickOpen),i._quickOpenService=n,i}return h(t,e),t.prototype.$show=function(e){var t=this,r=++this._token;return this._contents=new n.TPromise(function(e,n){t._doSetItems=function(n){r===t._token&&e(n)},t._doSetError=function(e){r===t._token&&n(e)}}),i.asWinJsPromise(function(n){return t._quickOpenService.pick(t._contents,e,n)}).then(function(e){if(e)return e.handle},void 0,function(e){e&&t._proxy.$onItemSelected(e.handle)})},t.prototype.$setItems=function(e){this._doSetItems&&this._doSetItems(e)},t.prototype.$setError=function(e){this._doSetError&&this._doSetError(e)},t.prototype.$input=function(e,t){var n=this,r=Object.create(null);return e&&(r.password=e.password,r.placeHolder=e.placeHolder,r.valueSelection=e.valueSelection,r.prompt=e.prompt,r.value=e.value,r.ignoreFocusLost=e.ignoreFocusOut),t&&(r.validateInput=function(e){return n._proxy.$validateInput(e)}),i.asWinJsPromise(function(e){return n._quickOpenService.input(r,e)})},t}(s.MainThreadQuickOpenShape);a=v([y(0,r.IThreadService),y(1,o.IQuickOpenService)],a),t.MainThreadQuickOpen=a}),define(u[1254],d([1,0,4,16,8,26,5,83,163,6,32,61]),function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(e,t,n,i,r,o,s){this.sourceControlHandle=e,this.handle=t,this.provider=n,this.features=i,this.label=r,this.id=o,this.resources=s}return e.prototype.toJSON=function(){return{$mid:4,sourceControlHandle:this.sourceControlHandle,groupHandle:this.handle}},e}(),f=function(){function e(e,t,n,i,r,o,s){this.sourceControlHandle=e,this.groupHandle=t,this.handle=n,this.sourceUri=i,this.command=r,this.resourceGroup=o,this.decorations=s}return e.prototype.toJSON=function(){return{$mid:3,sourceControlHandle:this.sourceControlHandle,groupHandle:this.groupHandle,handle:this.handle}},e}(),g=function(){function e(e,t,n,i,o,s){this.proxy=e,this._handle=t,this._id=n,this._label=i,this.commandService=s,this._groups=[],this._groupsByHandle=Object.create(null),this._onDidChange=new r.Emitter,this.features={},this._onDidChangeCommitTemplate=new r.Emitter,this._count=void 0}return Object.defineProperty(e.prototype,"resources",{get:function(){return this._groups.filter(function(e){return e.resources.length>0||!e.features.hideWhenEmpty})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"handle",{get:function(){return this._handle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"commitTemplate",{get:function(){return this.features.commitTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"acceptInputCommand",{get:function(){return this.features.acceptInputCommand},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"statusBarCommands",{get:function(){return this.features.statusBarCommands},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChangeCommitTemplate",{get:function(){return this._onDidChangeCommitTemplate.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this._count},enumerable:!0,configurable:!0}),e.prototype.$updateSourceControl=function(e){"count"in e&&(this._count=e.count),this.features=o.assign(this.features,e),this._onDidChange.fire(),void 0!==e.commitTemplate&&this._onDidChangeCommitTemplate.fire(this.commitTemplate)},e.prototype.$registerGroup=function(e,t,n){var i=new p(this.handle,e,this,{},n,t,[]);this._groups.push(i),this._groupsByHandle[e]=i},e.prototype.$updateGroup=function(e,t){var n=this._groupsByHandle[e];n&&(n.features=o.assign(n.features,t),this._onDidChange.fire())},e.prototype.$updateGroupLabel=function(e,t){var n=this._groupsByHandle[e];n&&(n.label=t,this._onDidChange.fire())},e.prototype.$updateGroupResourceStates=function(e,t){var n=this,r=this._groupsByHandle[e];r&&(r.resources=t.map(function(t){var o=t[0],s=t[1],a=t[2],c=t[3],l=t[4],u=t[5],d=c[0],h=c[1]||d,p={icon:d&&i.default.parse(d),iconDark:h&&i.default.parse(h),strikeThrough:l,faded:u};return new f(n.handle,e,o,i.default.parse(s),a,r,p)}),this._onDidChange.fire())},e.prototype.$unregisterGroup=function(e){var t=this._groupsByHandle[e];t&&(delete this._groupsByHandle[e],this._groups.splice(this._groups.indexOf(t),1))},e.prototype.getOriginalResource=function(e){return this.features.hasQuickDiffProvider?this.proxy.$provideOriginalResource(this.handle,e):n.TPromise.as(null)},e.prototype.dispose=function(){},e}();g=v([y(4,c.ISCMService),y(5,u.ICommandService)],g);var m=function(e){function t(t,n,i,r){var o=e.call(this)||this;return o.instantiationService=n,o.scmService=i,o.commandService=r,o._sourceControls=Object.create(null),o._sourceControlDisposables=Object.create(null),o._disposables=[],o._proxy=t.get(d.ExtHostContext.ExtHostSCM),o.scmService.onDidChangeProvider(o.onDidChangeProvider,o,o._disposables),o.scmService.input.onDidChange(o._proxy.$onInputBoxValueChange,o._proxy,o._disposables),o}return h(t,e),t.prototype.$registerSourceControl=function(e,t,n){var i=new g(this._proxy,e,t,n,this.scmService,this.commandService);this._sourceControls[e]=i,this._sourceControlDisposables[e]=this.scmService.registerSCMProvider(i)},t.prototype.$updateSourceControl=function(e,t){var n=this._sourceControls[e];n&&n.$updateSourceControl(t)},t.prototype.$unregisterSourceControl=function(e){var t=this._sourceControls[e];t&&(this._sourceControlDisposables[e].dispose(),delete this._sourceControlDisposables[e],t.dispose(),delete this._sourceControls[e])},t.prototype.$registerGroup=function(e,t,n,i){var r=this._sourceControls[e];r&&r.$registerGroup(t,n,i)},t.prototype.$updateGroup=function(e,t,n){var i=this._sourceControls[e];i&&i.$updateGroup(t,n)},t.prototype.$updateGroupLabel=function(e,t,n){var i=this._sourceControls[e];i&&i.$updateGroupLabel(t,n)},t.prototype.$updateGroupResourceStates=function(e,t,n){var i=this._sourceControls[e];i&&i.$updateGroupResourceStates(t,n)},t.prototype.$unregisterGroup=function(e,t){var n=this._sourceControls[e];n&&n.$unregisterGroup(t)},t.prototype.$setInputBoxValue=function(e){this.scmService.input.value=e},t.prototype.onDidChangeProvider=function(e){var t=this,n=Object.keys(this._sourceControls).filter(function(n){return t._sourceControls[n]===e})[0];this._proxy.$onActiveSourceControlChange(n&&parseInt(n))},t.prototype.dispose=function(){var e=this;Object.keys(this._sourceControls).forEach(function(t){return e._sourceControls[t].dispose()}),this._sourceControls=Object.create(null),this._disposables=s.dispose(this._disposables)},t}(d.MainThreadSCMShape);m=v([y(0,a.IThreadService),y(1,l.IInstantiationService),y(2,c.ISCMService),y(3,u.ICommandService)],m),t.MainThreadSCM=m}),define(u[1255],d([1,0,4,18,12,56,83,51,6,19,14,53,37,391,346,356,23,258,61,105]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,m,b,S,_){"use strict";function E(e,t){var n=null;if(e.isAttachedToEditor())for(var i=0,r=t.listCodeEditors();i<r.length;i++){var o=r[i];if(o.getModel()===e){if(o.isFocused())return o;n=o}}return n}Object.defineProperty(t,"__esModule",{value:!0});var C=function(){function e(e,t){this.configurationService=e,this.codeEditorService=t,this.name="TrimWhitespaceParticipant"}return e.prototype.participate=function(e,t){this.configurationService.lookup("files.trimTrailingWhitespace",{overrideIdentifier:e.textEditorModel.getLanguageIdentifier().language,resource:e.getResource()}).value&&this.doTrimTrailingWhitespace(e.textEditorModel,t.reason===a.SaveReason.AUTO)},e.prototype.doTrimTrailingWhitespace=function(e,t){var n=[new d.Selection(1,1,1,1)],i=[],r=E(e,this.codeEditorService);r&&(n=r.getSelections(),t&&i.push.apply(i,n.map(function(e){return new h.Position(e.positionLineNumber,e.positionColumn)})));var o=p.trimTrailingWhitespace(e,i);o.length&&e.pushEditOperations(n,o,function(e){return n})},e}();C=v([y(0,m.IConfigurationService),y(1,o.ICodeEditorService)],C);var w=function(){function e(e,t){this.configurationService=e,this.codeEditorService=t,this.name="FinalNewLineParticipant"}return e.prototype.participate=function(e,t){this.configurationService.lookup("files.insertFinalNewline",{overrideIdentifier:e.textEditorModel.getLanguageIdentifier().language,resource:e.getResource()}).value&&this.doInsertFinalNewLine(e.textEditorModel)},e.prototype.doInsertFinalNewLine=function(e){var t=e.getLineCount(),n=e.getLineContent(t),i=-1===r.lastNonWhitespaceIndex(n);if(t&&!i){var o=[new d.Selection(1,1,1,1)],s=E(e,this.codeEditorService);s&&(o=s.getSelections()),e.pushEditOperations(o,[_.EditOperation.insert(new h.Position(t,e.getLineMaxColumn(t)),e.getEOL())],function(e){return o}),s&&s.setSelections(o)}},e}();w=v([y(0,m.IConfigurationService),y(1,o.ICodeEditorService)],w),t.FinalNewLineParticipant=w;var I=function(){function e(e,t){this._editorService=e,this._configurationService=t,this.name="FormatOnSaveParticipant"}return e.prototype.participate=function(e,t){var i=this,r=e.textEditorModel;if(t.reason!==a.SaveReason.AUTO&&this._configurationService.lookup("editor.formatOnSave",{overrideIdentifier:r.getLanguageIdentifier().language,resource:e.getResource()}).value){var o=r.getVersionId(),s=r.getOptions(),c=s.tabSize,l=s.insertSpaces;return new n.TPromise(function(e,t){setTimeout(t,750),f.getDocumentFormattingEdits(r,{tabSize:c,insertSpaces:l}).then(e,t)}).then(function(e){if(e&&o===r.getVersionId()){var t=E(r,i._editorService);t?i._editsWithEditor(t,e):i._editWithModel(r,e)}})}},e.prototype._editsWithEditor=function(e,t){g.EditOperationsCommand.execute(e,t)},e.prototype._editWithModel=function(t,n){var i=n[0].range,r=new d.Selection(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn);t.pushEditOperations([r],n.map(e._asIdentEdit),function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t].range;if(u.Range.areIntersectingOrTouching(i,r))return[new d.Selection(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn)]}})},e._asIdentEdit=function(e){var t=e.text,n=e.range;return{text:t,range:u.Range.lift(n),identifier:void 0,forceMoveMarkers:!0}},e}();I=v([y(0,o.ICodeEditorService),y(1,m.IConfigurationService)],I);var T=function(){function e(e){this.name="ExtHostSaveParticipant",this._proxy=e.get(S.ExtHostContext.ExtHostDocumentSaveParticipant)}return e.prototype.participate=function(e,t){var i=this;return new n.TPromise(function(r,o){setTimeout(o,1750),i._proxy.$participateInSave(e.getResource(),t.reason).then(function(e){for(var t=0,i=e;t<i.length;t++)if(!i[t])return n.TPromise.wrapError(new Error("listener failed"))}).then(r,o)})},e}();T=v([y(0,s.IThreadService)],T);var k=function(){function e(e,t,n){this._telemetryService=e,this._saveParticipants=[t.createInstance(C),t.createInstance(I),t.createInstance(w),t.createInstance(T)],b.TextFileEditorModel.setSaveParticipant(this)}return e.prototype.participate=function(e,t){var r=this,o=Object.create(null),s=this._saveParticipants.map(function(i){return function(){var r=i.name,s=Date.now();return n.TPromise.as(i.participate(e,t)).then(function(){o["Success-"+r]=Date.now()-s},function(e){o["Failure-"+r]=Date.now()-s})}});return i.sequence(s).then(function(){r._telemetryService.publicLog("saveParticipantStats",o)})},e}();k=v([y(0,l.ITelemetryService),y(1,c.IInstantiationService),y(2,s.IThreadService)],k),t.SaveParticipant=k}),define(u[1256],d([1,0,199,61]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t){var n=e.call(this)||this;return n.statusbarService=t,n.mapIdToDisposable=Object.create(null),n}return h(t,e),t.prototype.$setEntry=function(e,t,n,i,r,o,s,a){this.$dispose(e);var c=this.statusbarService.addEntry({text:n,tooltip:i,command:r,color:o,extensionId:t},s,a);this.mapIdToDisposable[e]=c},t.prototype.$dispose=function(e){var t=this.mapIdToDisposable[e];t&&t.dispose(),delete this.mapIdToDisposable[e]},t}(i.MainThreadStatusBarShape);r=v([y(0,n.IStatusbarService)],r),t.MainThreadStatusBar=r}),define(u[1257],d([1,0,4,31,61]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this)||this;return n._storageService=t,n}return h(t,e),t.prototype.$getValue=function(e,t){var r=this._storageService.get(t,e?i.StorageScope.GLOBAL:i.StorageScope.WORKSPACE);if(!r)return n.TPromise.as(void 0);var o;try{return o=JSON.parse(r),n.TPromise.as(o)}catch(e){return n.TPromise.wrapError(e)}},t.prototype.$setValue=function(e,t,r){var o;try{o=JSON.stringify(r),this._storageService.store(t,o,e?i.StorageScope.GLOBAL:i.StorageScope.WORKSPACE)}catch(e){return n.TPromise.wrapError(e)}},t}(r.MainThreadStorageShape);o=v([y(0,i.IStorageService)],o),t.MainThreadStorage=o}),define(u[1258],d([1,0,4,213,83,61]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t,n){var i=e.call(this)||this;return i._taskService=n,i._proxy=t.get(o.ExtHostContext.ExtHostTask),i}return h(t,e),t.prototype.$registerTaskProvider=function(e){var t=this;return this._taskService.registerTaskProvider(e,{provideTasks:function(){return t._proxy.$provideTasks(e)}}),n.TPromise.as(void 0)},t.prototype.$unregisterTaskProvider=function(e){return this._taskService.unregisterTaskProvider(e),n.TPromise.as(void 0)},t}(o.MainThreadTaskShape);s=v([y(0,r.IThreadService),y(1,i.ITaskService)],s),t.MainThreadTask=s}),define(u[1259],d([1,0,19,61]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t){var n=e.call(this)||this;return n._telemetryService=t,n}return h(t,e),t.prototype.$publicLog=function(e,t){this._telemetryService.publicLog(e,t)},t.prototype.$getTelemetryInfo=function(){return this._telemetryService.getTelemetryInfo()},t}(i.MainThreadTelemetryShape);r=v([y(0,n.ITelemetryService)],r),t.MainThreadTelemetry=r}),define(u[1260],d([1,0,5,120,83,4,61]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,n){var i=e.call(this)||this;return i.terminalService=n,i._proxy=t.get(s.ExtHostContext.ExtHostTerminalService),i._toDispose=[],i._toDispose.push(n.onInstanceDisposed(function(e){return i._onTerminalDisposed(e)})),i._toDispose.push(n.onInstanceProcessIdReady(function(e){return i._onTerminalProcessIdReady(e)})),i._toDispose.push(n.onInstanceData(function(e){return i._onTerminalData(e.instance,e.data)})),i}return h(t,e),t.prototype.dispose=function(){this._toDispose=n.dispose(this._toDispose)},t.prototype.$createTerminal=function(e,t,n,i){var r={name:e,executable:t,args:n,waitOnExit:i,ignoreConfigurationCwd:!0};return o.TPromise.as(this.terminalService.createInstance(r).id)},t.prototype.$show=function(e,t){var n=this.terminalService.getInstanceFromId(e);n&&(this.terminalService.setActiveInstance(n),this.terminalService.showPanel(!t))},t.prototype.$hide=function(e){this.terminalService.getActiveInstance().id===e&&this.terminalService.hidePanel()},t.prototype.$registerOnData=function(e){var t=this.terminalService.getInstanceFromId(e);t&&t.enableApiOnData()},t.prototype.$dispose=function(e){var t=this.terminalService.getInstanceFromId(e);t&&t.dispose()},t.prototype.$sendText=function(e,t,n){var i=this.terminalService.getInstanceFromId(e);i&&i.sendText(t,n)},t.prototype._onTerminalDisposed=function(e){this._proxy.$acceptTerminalClosed(e.id)},t.prototype._onTerminalProcessIdReady=function(e){this._proxy.$acceptTerminalProcessId(e.id,e.processId)},t.prototype._onTerminalData=function(e,t){this._proxy.$acceptTerminalData(e.id,t)},t}(s.MainThreadTerminalServiceShape);a=v([y(0,r.IThreadService),y(1,i.ITerminalService)],a),t.MainThreadTerminalService=a}),define(u[1261],d([1,0,8,4,83,61,20,166,383]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(t,n){var i=e.call(this)||this;return i.messageService=n,i._proxy=t.get(o.ExtHostContext.ExtHostTreeViews),i}return h(t,e),t.prototype.$registerView=function(e){a.ViewsRegistry.registerTreeViewDataProvider(e,new u(e,this._proxy,this.messageService))},t.prototype.$refresh=function(e,t){var n=a.ViewsRegistry.getTreeViewDataProvider(e);n&&n.refresh(t)},t}(o.MainThreadTreeViewsShape);l=v([y(0,r.IThreadService),y(1,s.IMessageService)],l),t.MainThreadTreeViews=l;var u=function(){function e(e,t,i){this.treeViewId=e,this._proxy=t,this.messageService=i,this._onDidChange=new n.Emitter,this.onDidChange=this._onDidChange.event,this.childrenMap=new Map,this.itemsMap=new Map}return e.prototype.getElements=function(){var e=this;return this._proxy.$getElements(this.treeViewId).then(function(t){return e.postGetElements(null,t),t},function(t){return e.messageService.show(s.Severity.Error,t)})},e.prototype.getChildren=function(e){var t=this;return e.children?i.TPromise.as(e.children):this._proxy.$getChildren(this.treeViewId,e.handle).then(function(n){return t.postGetElements(e.handle,n),n},function(e){return t.messageService.show(s.Severity.Error,e)})},e.prototype.refresh=function(e){if(e){var t=this.itemsMap.get(e);t&&this._onDidChange.fire(t)}else this._onDidChange.fire()},e.prototype.clearChildren=function(e){var t=this.childrenMap.get(e);if(t){for(var n=0,i=t;n<i.length;n++){var r=i[n];this.clearChildren(r),this.itemsMap.delete(r)}this.childrenMap.delete(e)}},e.prototype.postGetElements=function(e,t){this.setElements(e,t)},e.prototype.setElements=function(e,t){if(t&&t.length){for(var n=0,i=t;n<i.length;n++){var r=i[n];this.itemsMap.set(r.handle,r),r.children&&r.children.length&&this.setElements(r.handle,r.children)}e&&this.childrenMap.set(e,t.map(function(e){return e.handle}))}},e.prototype.populateElementsToExpand=function(e,t){for(var n=0,i=e;n<i.length;n++){var r=i[n];r.collapsibleState===c.TreeItemCollapsibleState.Expanded&&(t.push(r),r.children&&r.children.length&&this.populateElementsToExpand(r.children,t))}},e}()}),define(u[1262],d([1,0,7,156,27,22,51,33,319,4,61,71,43,83]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=function(e){function t(t,n,i,r,o,s,a){var c=e.call(this)||this;return c._searchService=t,c._contextService=n,c._textFileService=i,c._editorService=r,c._textModelResolverService=o,c._fileService=s,c._toDispose=[],c._activeSearches=Object.create(null),c._proxy=a.get(u.ExtHostContext.ExtHostWorkspace),c._contextService.onDidChangeWorkspaceRoots(c._onDidChangeWorkspace,c,c._toDispose),c}return h(t,e),t.prototype._onDidChangeWorkspace=function(){this._proxy.$acceptWorkspaceData(this._contextService.getWorkspace2())},t.prototype.$startSearch=function(e,t,r,o){var s=this,a=this._contextService.getWorkspace2();if(a){var c=this._searchService.search({folderQueries:a.roots.map(function(e){return{folder:e}}),type:i.QueryType.File,maxResults:r,includePattern:(d={},d[e]=!0,d),excludePattern:(h={},h[t]=!0,h)}).then(function(e){return e.results.map(function(e){return e.resource})},function(e){if(!n.isPromiseCanceledError(e))return l.TPromise.wrapError(e)});this._activeSearches[o]=c;var u=function(){return delete s._activeSearches[o]};return c.done(u,u),c;var d,h}},t.prototype.$cancelSearch=function(e){var t=this._activeSearches[e];if(t)return delete this._activeSearches[e],t.cancel(),l.TPromise.as(!0)},t.prototype.$saveAll=function(e){return this._textFileService.saveAll(e).then(function(e){return e.results.every(function(e){return!0===e.success})})},t.prototype.$applyWorkspaceEdit=function(e){var t,n=this._editorService.getActiveEditor();if(n){var i=n.getControl();a.isCommonCodeEditor(i)&&(t=i)}return c.bulkEdit(this._textModelResolverService,t,e,this._fileService).then(function(){return!0})},t}(u.MainThreadWorkspaceShape);g=v([y(0,i.ISearchService),y(1,r.IWorkspaceContextService),y(2,s.ITextFileService),y(3,o.IWorkbenchEditorService),y(4,d.ITextModelService),y(5,p.IFileService),y(6,f.IThreadService)],g),t.MainThreadWorkspace=g}),define(u[1263],d([1,0,12,740,1233,39]),function(e,t,n,i,r,o){"use strict";function s(e){return e.onMessage(function(e){console.log("%c[Extension → Window]%c[len: "+n.pad(e.length,5," ")+"]","color: darkgreen","color: grey",e)}),{onMessage:e.onMessage,send:function(t){e.send(t),console.log("%c[Window → Extension]%c[len: "+n.pad(t.length,5," ")+"]","color: darkgreen","color: grey",t)}}}Object.defineProperty(t,"__esModule",{value:!0});var a=!1,c=function(e){function t(t,n){var r=e.call(this,!0)||this;return(a||n.logExtensionHostCommunication)&&(t=s(t)),r._remoteCom=i.createProxyProtocol(t),r._remoteCom.setManyHandler(r),r}return h(t,e),t.prototype._callOnRemote=function(e,t,n){return this._remoteCom.callOnRemote(e,t,n)},t}(r.AbstractThreadService);c=v([y(1,o.IEnvironmentService)],c),t.MainThreadService=c}),define(u[281],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ITimerService=n.createDecorator("timerService")}),define(u[1265],d([1,0,263,1266,96]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){this.isEmptyWorkbench=t,this.start=e.start,this.appReady=e.appReady,this.windowLoad=e.windowLoad,this.beforeLoadWorkbenchMain=e.beforeLoadWorkbenchMain,this.afterLoadWorkbenchMain=e.afterLoadWorkbenchMain,this.isInitialStartup=e.isInitialStartup,this.hasAccessibilitySupport=e.hasAccessibilitySupport}return Object.defineProperty(e.prototype,"startupMetrics",{get:function(){return this._startupMetrics||this._computeStartupMetrics(),this._startupMetrics},enumerable:!0,configurable:!0}),e.prototype._computeStartupMetrics=function(){var e,t,o,s,a,c,l,u,d,h=Date.now(),p=!!this.isInitialStartup,f=p?this.start:this.windowLoad;try{e=r.totalmem(),t=r.freemem(),s=r.platform(),a=r.release(),c=r.arch(),l=r.loadavg(),u=process.getProcessMemoryInfo(),d=Math.round(100*n.virtualMachineHint.value());var g=r.cpus();g&&g.length>0&&(o={count:g.length,speed:g[0].speed,model:g[0].model})}catch(e){console.error(e)}for(var v=Object.create(null),m=0,y=i.ticks();m<y.length;m++){var b=y[m];v[b.name]=b.duration}this._startupMetrics={version:1,ellapsed:this.workbenchStarted-f,timers:{ellapsedExtensions:this.afterExtensionLoad-this.beforeExtensionLoad,ellapsedExtensionsReady:this.afterExtensionLoad-f,ellapsedRequire:this.afterLoadWorkbenchMain-this.beforeLoadWorkbenchMain,ellapsedViewletRestore:this.restoreViewletDuration,ellapsedEditorRestore:this.restoreEditorsDuration,ellapsedWorkbench:this.workbenchStarted-this.beforeWorkbenchOpen,ellapsedWindowLoadToRequire:this.beforeLoadWorkbenchMain-this.windowLoad,ellapsedTimersToTimersComputed:Date.now()-h},timers2:v,platform:s,release:a,arch:c,totalmem:e,freemem:t,meminfo:u,cpus:o,loadavg:l,initialStartup:p,isVMLikelyhood:d,hasAccessibilitySupport:!!this.hasAccessibilitySupport,emptyWorkbench:this.isEmptyWorkbench},p&&(this._startupMetrics.timers.ellapsedAppReady=this.appReady-this.start,this._startupMetrics.timers.ellapsedWindowLoad=this.windowLoad-this.appReady)},e}();t.TimerService=o}),define(u[394],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ITitleService=n.createDecorator("titleService")}),define(u[99],d([1,0,16,6,34,245,23,8,70,79]),function(e,t,n,i,r,o,s,a,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IUntitledEditorService=i.createDecorator("untitledEditorService"),t.UNTITLED_SCHEMA="untitled";var u=function(){function e(e,t){this.instantiationService=e,this.configurationService=t,this.mapResourceToInput=new c.ResourceMap,this.mapResourceToAssociatedFilePath=new c.ResourceMap,this._onDidChangeContent=new a.Emitter,this._onDidChangeDirty=new a.Emitter,this._onDidChangeEncoding=new a.Emitter,this._onDidDisposeModel=new a.Emitter}return Object.defineProperty(e.prototype,"onDidDisposeModel",{get:function(){return this._onDidDisposeModel.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChangeContent",{get:function(){return this._onDidChangeContent.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChangeDirty",{get:function(){return this._onDidChangeDirty.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChangeEncoding",{get:function(){return this._onDidChangeEncoding.event},enumerable:!0,configurable:!0}),e.prototype.get=function(e){return this.mapResourceToInput.get(e)},e.prototype.getAll=function(e){var t=this;return e?r.coalesce(e.map(function(e){return t.get(e)})):this.mapResourceToInput.values()},e.prototype.exists=function(e){return this.mapResourceToInput.has(e)},e.prototype.revertAll=function(e,t){var n=[];return this.getAll(e).forEach(function(e){e&&(e.revert(),e.dispose(),n.push(e.getResource()))}),n},e.prototype.isDirty=function(e){var t=this.get(e);return t&&t.isDirty()},e.prototype.getDirty=function(e){var t=this;return(e?e.map(function(e){return t.get(e)}).filter(function(e){return!!e}):this.mapResourceToInput.values()).filter(function(e){return e.isDirty()}).map(function(e){return e.getResource()})},e.prototype.loadOrCreate=function(e){return void 0===e&&(e=Object.create(null)),this.createOrGet(e.resource,e.modeId,e.initialValue,e.encoding).resolve()},e.prototype.createOrGet=function(e,n,i,r){var o=!1;return e&&(o=e.scheme===l.Schemas.file,e=e.with({scheme:t.UNTITLED_SCHEMA}),o&&this.mapResourceToAssociatedFilePath.set(e,!0)),e&&this.mapResourceToInput.has(e)?this.mapResourceToInput.get(e):this.doCreate(e,o,n,i,r)},e.prototype.doCreate=function(e,i,r,s,c){var l=this;if(!e){var u=this.mapResourceToInput.size+1;do{e=n.default.from({scheme:t.UNTITLED_SCHEMA,path:"Untitled-"+u}),u++}while(this.mapResourceToInput.has(e))}if(!r&&!i){var d=this.configurationService.getConfiguration();d.files&&d.files.defaultLanguage&&(r=d.files.defaultLanguage)}var h=this.instantiationService.createInstance(o.UntitledEditorInput,e,i,r,s,c),p=h.onDidModelChangeContent(function(){l._onDidChangeContent.fire(e)}),f=h.onDidChangeDirty(function(){l._onDidChangeDirty.fire(e)}),g=h.onDidModelChangeEncoding(function(){l._onDidChangeEncoding.fire(e)}),v=h.onDispose(function(){l._onDidDisposeModel.fire(e)});return a.once(h.onDispose)(function(){l.mapResourceToInput.delete(h.getResource()),l.mapResourceToAssociatedFilePath.delete(h.getResource()),p.dispose(),f.dispose(),g.dispose(),v.dispose()}),this.mapResourceToInput.set(e,h),h},e.prototype.hasAssociatedFilePath=function(e){return this.mapResourceToAssociatedFilePath.has(e)},e.prototype.suggestFileName=function(e){var t=this.get(e);return t?t.suggestFileName():void 0},e.prototype.getEncoding=function(e){var t=this.get(e);return t?t.getEncoding():void 0},e.prototype.dispose=function(){this._onDidChangeContent.dispose(),this._onDidChangeDirty.dispose(),this._onDidChangeEncoding.dispose(),this._onDidDisposeModel.dispose()},e}();u=v([y(0,i.IInstantiationService),y(1,s.IConfigurationService)],u),t.UntitledEditorService=u}),define(u[1269],d([1,0,107,44,83,5,51,4,43,42,99,45,61,71,56]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function e(e,t){void 0===e&&(e=18e4),void 0===t&&(t=83886080),this._maxAge=e,this._maxLength=t,this._data=new Array,this._length=0}return e.prototype.dispose=function(){this._data=o.dispose(this._data)},e.prototype.add=function(e){var t,n,i=this,r=e.object.textEditorModel.getValueLength(),o=function(){var o=i._data.indexOf(n);o>=0&&(i._length-=r,e.dispose(),clearTimeout(t),i._data.splice(o,1))};t=setTimeout(o,this._maxAge),n={length:r,dispose:o},this._data.push(n),this._length+=r,this._cleanup()},e.prototype._cleanup=function(){for(;this._length>this._maxLength;)this._data[0].dispose()},e}();t.BoundModelReferenceCollection=m;var b=function(e){function t(t,n,i,r,o,s,a,c,l,u){var d=e.call(this)||this;return d._modelReferenceCollection=new m,d._modelService=i,d._modeService=r,d._textModelResolverService=c,d._textFileService=o,d._codeEditorService=s,d._fileService=a,d._untitledEditorService=l,d._editorGroupService=u,d._proxy=n.get(p.ExtHostContext.ExtHostDocuments),d._modelIsSynced={},d._toDispose=[],d._toDispose.push(d._modelReferenceCollection),d._toDispose.push(t.onDocumentAdd(function(e){return e.forEach(d._onModelAdded,d)})),d._toDispose.push(t.onDocumentRemove(function(e){return e.forEach(d._onModelRemoved,d)})),i.onModelModeChanged(d._onModelModeChanged,d,d._toDispose),d._toDispose.push(o.models.onModelSaved(function(e){d._shouldHandleFileEvent(e)&&d._proxy.$acceptModelSaved(e.resource.toString())})),d._toDispose.push(o.models.onModelReverted(function(e){d._shouldHandleFileEvent(e)&&d._proxy.$acceptDirtyStateChanged(e.resource.toString(),!1)})),d._toDispose.push(o.models.onModelDirty(function(e){d._shouldHandleFileEvent(e)&&d._proxy.$acceptDirtyStateChanged(e.resource.toString(),!0)})),d._modelToDisposeMap=Object.create(null),d._resourceContentProvider=Object.create(null),d}return h(t,e),t.prototype.dispose=function(){var e=this;Object.keys(this._modelToDisposeMap).forEach(function(t){e._modelToDisposeMap[t].dispose()}),this._modelToDisposeMap=Object.create(null),this._toDispose=o.dispose(this._toDispose)},t.prototype._shouldHandleFileEvent=function(e){var t=this._modelService.getModel(e.resource);return t&&!t.isTooLargeForHavingARichMode()},t.prototype._onModelAdded=function(e){var t=this;if(e.isTooLargeForHavingARichMode())return null;var n=e.uri;this._modelIsSynced[n.toString()]=!0,this._modelToDisposeMap[n.toString()]=e.onDidChangeContent(function(e){t._proxy.$acceptModelChanged(n.toString(),e,t._textFileService.isDirty(n))})},t.prototype._onModelModeChanged=function(e){var t=e.model,n=e.oldModeId,i=t.uri;this._modelIsSynced[i.toString()]&&this._proxy.$acceptModelModeChanged(t.uri.toString(),n,t.getLanguageIdentifier().language)},t.prototype._onModelRemoved=function(e){this._modelIsSynced[e]&&(delete this._modelIsSynced[e],this._modelToDisposeMap[e].dispose(),delete this._modelToDisposeMap[e])},t.prototype.$trySaveDocument=function(e){return this._textFileService.save(e)},t.prototype.$tryOpenDocument=function(e){if(!e.scheme||!e.fsPath&&!e.authority)return a.TPromise.wrapError(new Error("Invalid uri. Scheme and authority or path must be set."));var t;switch(e.scheme){case"untitled":t=this._handleUnititledScheme(e);break;case"file":default:t=this._handleAsResourceInput(e)}return t.then(function(t){if(!t)return a.TPromise.wrapError(new Error("cannot open "+e.toString()))},function(t){return a.TPromise.wrapError(new Error("cannot open "+e.toString()+". Detail: "+n.toErrorMessage(t)))})},t.prototype.$tryCreateDocument=function(e){return this._doCreateUntitled(void 0,e?e.language:void 0,e?e.content:void 0)},t.prototype._handleAsResourceInput=function(e){var t=this;return this._textModelResolverService.createModelReference(e).then(function(e){return t._modelReferenceCollection.add(e),!!e.object})},t.prototype._handleUnititledScheme=function(e){var t=this,n=e.with({scheme:"file"});return this._fileService.resolveFile(n).then(function(e){return a.TPromise.wrapError(new Error("file already exists on disk"))},function(e){return t._doCreateUntitled(n).then(function(e){return!!e})})},t.prototype._doCreateUntitled=function(e,t,n){var i=this;return this._untitledEditorService.loadOrCreate({resource:e,modeId:t,initialValue:n}).then(function(e){var t=e.getResource();if(!i._modelIsSynced[t.toString()])throw new Error("expected URI "+t.toString()+" to have come to LIFE");return i._proxy.$acceptDirtyStateChanged(t.toString(),!0),t})},t.prototype.$registerTextContentProvider=function(e,t){var n=this;this._resourceContentProvider[e]=this._textModelResolverService.registerTextModelContentProvider(t,{provideTextContent:function(t){return n._proxy.$provideTextDocumentContent(e,t).then(function(e){if("string"==typeof e){var i=e.substr(0,1+e.search(/\r?\n/)),r=n._modeService.getOrCreateModeByFilenameOrFirstLine(t.fsPath,i);return n._modelService.createModel(e,r,t)}})}})},t.prototype.$unregisterTextContentProvider=function(e){var t=this._resourceContentProvider[e];t&&(t.dispose(),delete this._resourceContentProvider[e])},t.prototype.$onVirtualDocumentChange=function(e,t){var n=this._modelService.getModel(e);if(n){var i={lines:t.lines,length:t.length,BOM:t.BOM,EOL:t.EOL,containsRTL:t.containsRTL,isBasicASCII:t.isBasicASCII};n.equals(i)||n.setValueFromTextSource(i)}},t}(p.MainThreadDocumentsShape);b=v([y(1,r.IThreadService),y(2,i.IModelService),y(3,l.IModeService),y(4,s.ITextFileService),y(5,g.ICodeEditorService),y(6,c.IFileService),y(7,f.ITextModelService),y(8,u.IUntitledEditorService),y(9,d.IEditorGroupService)],b),t.MainThreadDocuments=b}),define(u[1270],d([1,0,85,15,6,83,61,59,1236,1237,1238,1239,1269,1242,1243,1261,1248,1249,1250,1251,1252,1253,1256,1257,1259,1260,1262,410,1245,1258,1254,1241,814,1195,1255,396]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A,L,P,D,O,R,M,N){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var F=function(){function e(e,t,n){this.threadService=e,this.instantiationService=t,this.extensionService=n,this.initExtensionSystem()}return e.prototype.getId=function(){return"vs.api.extHost"},e.prototype.initExtensionSystem=function(){var e=this,t=function(t){return e.instantiationService.createInstance(t)},n=this.instantiationService.createInstance(O.MainThreadDocumentsAndEditors),i=new s.InstanceCollection;i.define(s.MainContext.MainThreadCommands).set(t(c.MainThreadCommands)),i.define(s.MainContext.MainThreadConfiguration).set(t(l.MainThreadConfiguration)),i.define(s.MainContext.MainThreadDebugService).set(t(u.MainThreadDebugService)),i.define(s.MainContext.MainThreadDiagnostics).set(t(d.MainThreadDiagnostics)),i.define(s.MainContext.MainThreadDocuments).set(this.instantiationService.createInstance(h.MainThreadDocuments,n)),i.define(s.MainContext.MainThreadEditors).set(this.instantiationService.createInstance(p.MainThreadEditors,n)),i.define(s.MainContext.MainThreadErrors).set(t(f.MainThreadErrors)),i.define(s.MainContext.MainThreadTreeViews).set(t(g.MainThreadTreeViews)),i.define(s.MainContext.MainThreadLanguageFeatures).set(t(m.MainThreadLanguageFeatures)),i.define(s.MainContext.MainThreadLanguages).set(t(b.MainThreadLanguages)),i.define(s.MainContext.MainThreadMessageService).set(t(S.MainThreadMessageService)),i.define(s.MainContext.MainThreadOutputService).set(t(_.MainThreadOutputService)),i.define(s.MainContext.MainThreadProgress).set(t(E.MainThreadProgress)),i.define(s.MainContext.MainThreadQuickOpen).set(t(C.MainThreadQuickOpen)),i.define(s.MainContext.MainThreadStatusBar).set(t(w.MainThreadStatusBar)),i.define(s.MainContext.MainThreadStorage).set(t(I.MainThreadStorage)),i.define(s.MainContext.MainThreadTelemetry).set(t(T.MainThreadTelemetry)),i.define(s.MainContext.MainThreadTerminalService).set(t(k.MainThreadTerminalService)),i.define(s.MainContext.MainThreadWorkspace).set(t(x.MainThreadWorkspace)),i.define(s.MainContext.MainThreadSCM).set(t(D.MainThreadSCM)),i.define(s.MainContext.MainThreadTask).set(t(P.MainThreadTask)),this.extensionService instanceof A.MainProcessExtensionService&&i.define(s.MainContext.MainProcessExtensionService).set(this.extensionService),i.finish(!0,this.threadService),t(R.JSONValidationExtensionPoint),this.instantiationService.createInstance(M.LanguageConfigurationFileHandler),t(L.MainThreadFileSystemEventService),t(N.SaveParticipant)},e}();F=v([y(0,o.IThreadService),y(1,r.IInstantiationService),y(2,a.IExtensionService)],F),t.ExtHostContribution=F,i.Registry.as(n.Extensions.Workbench).registerWorkbenchContribution(F)}),define(u[1271],d([1,0,520,4,9,12,28,24,16,7,21,11,245,30,5,99,65,33,343,849,309,339,22,54,104,43,6,42,44,53,45,228,32,87,51,56,126,1015]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A,L,P,D,O,R,M,N,F,W,B){"use strict";function V(e){if(e instanceof f.SideBySideEditorInput&&(e=e.master),e instanceof p.UntitledEditorInput)return e;var t=e;return a.areFunctions(t.setEncoding,t.getEncoding)?t:null}function z(e,t){e.style.display!==t&&(e.style.display=t)}function H(e){z(e,"")}function K(e){z(e,"none")}function U(e){return!!e&&!e.getConfiguration().readOnly}function j(e){return U(W.getCodeEditor(e))}Object.defineProperty(t,"__esModule",{value:!0});var G=function(){function e(){this.indentation=!1,this.selectionStatus=!1,this.mode=!1,this.encoding=!1,this.EOL=!1,this.tabFocusMode=!1,this.screenReaderMode=!1,this.metadata=!1}return e.prototype.combine=function(e){this.indentation=this.indentation||e.indentation,this.selectionStatus=this.selectionStatus||e.selectionStatus,this.mode=this.mode||e.mode,this.encoding=this.encoding||e.encoding,this.EOL=this.EOL||e.EOL,this.tabFocusMode=this.tabFocusMode||e.tabFocusMode,this.screenReaderMode=this.screenReaderMode||e.screenReaderMode,this.metadata=this.metadata||e.metadata},e}(),q=function(){function e(){this._selectionStatus=null,this._mode=null,this._encoding=null,this._EOL=null,this._tabFocusMode=!1,this._screenReaderMode=!1,this._metadata=null}return Object.defineProperty(e.prototype,"selectionStatus",{get:function(){return this._selectionStatus},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mode",{get:function(){return this._mode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"encoding",{get:function(){return this._encoding},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EOL",{get:function(){return this._EOL},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"indentation",{get:function(){return this._indentation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabFocusMode",{get:function(){return this._tabFocusMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"screenReaderMode",{get:function(){return this._screenReaderMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._metadata},enumerable:!0,configurable:!0}),e.prototype.update=function(e){var t=new G,n=!1;return void 0!==e.selectionStatus&&this._selectionStatus!==e.selectionStatus&&(this._selectionStatus=e.selectionStatus,n=!0,t.selectionStatus=!0),void 0!==e.indentation&&this._indentation!==e.indentation&&(this._indentation=e.indentation,n=!0,t.indentation=!0),void 0!==e.mode&&this._mode!==e.mode&&(this._mode=e.mode,n=!0,t.mode=!0),void 0!==e.encoding&&this._encoding!==e.encoding&&(this._encoding=e.encoding,n=!0,t.encoding=!0),void 0!==e.EOL&&this._EOL!==e.EOL&&(this._EOL=e.EOL,n=!0,t.EOL=!0),void 0!==e.tabFocusMode&&this._tabFocusMode!==e.tabFocusMode&&(this._tabFocusMode=e.tabFocusMode,n=!0,t.tabFocusMode=!0),void 0!==e.screenReaderMode&&this._screenReaderMode!==e.screenReaderMode&&(this._screenReaderMode=e.screenReaderMode,n=!0,t.screenReaderMode=!0),void 0!==e.metadata&&this._metadata!==e.metadata&&(this._metadata=e.metadata,n=!0,t.metadata=!0),n?t:null},e}(),$=n.localize(0,null),Y=n.localize(1,null),X=n.localize(2,null),Q=n.localize(3,null),Z=n.localize(4,null),J=n.localize(5,null),ee=n.localize(6,null),te=n.localize(7,null),ne=n.localize(8,null),ie=function(){function e(e,t,n,i,r,o,s){this.editorService=e,this.editorGroupService=t,this.quickOpenService=n,this.instantiationService=i,this.untitledEditorService=r,this.modeService=o,this.textFileService=s,this.toDispose=[],this.activeEditorListeners=[],this.state=new q}return e.prototype.render=function(e){var t=this;return this.element=r.append(e,r.$(".editor-statusbar-item")),this.tabFocusModeElement=r.append(this.element,r.$("a.editor-status-tabfocusmode.status-bar-info")),this.tabFocusModeElement.title=n.localize(9,null),this.tabFocusModeElement.onclick=function(){return t.onTabFocusModeClick()},this.tabFocusModeElement.textContent=ee,K(this.tabFocusModeElement),this.screenRedearModeElement=r.append(this.element,r.$("a.editor-status-screenreadermode.status-bar-info")),this.screenRedearModeElement.textContent=te,this.screenRedearModeElement.title=ne,K(this.screenRedearModeElement),this.selectionElement=r.append(this.element,r.$("a.editor-status-selection")),this.selectionElement.title=n.localize(10,null),this.selectionElement.onclick=function(){return t.onSelectionClick()},K(this.selectionElement),this.indentationElement=r.append(this.element,r.$("a.editor-status-indentation")),this.indentationElement.title=n.localize(11,null),this.indentationElement.onclick=function(){return t.onIndentationClick()},K(this.indentationElement),this.encodingElement=r.append(this.element,r.$("a.editor-status-encoding")),this.encodingElement.title=n.localize(12,null),this.encodingElement.onclick=function(){return t.onEncodingClick()},K(this.encodingElement),this.eolElement=r.append(this.element,r.$("a.editor-status-eol")),this.eolElement.title=n.localize(13,null),this.eolElement.onclick=function(){return t.onEOLClick()},K(this.eolElement),this.modeElement=r.append(this.element,r.$("a.editor-status-mode")),this.modeElement.title=n.localize(14,null),this.modeElement.onclick=function(){return t.onModeClick()},K(this.modeElement),this.metadataElement=r.append(this.element,r.$("span.editor-status-metadata")),this.metadataElement.title=n.localize(15,null),K(this.metadataElement),this.delayedRender=null,this.toRender=null,this.toDispose.push({dispose:function(){t.delayedRender&&(t.delayedRender.dispose(),t.delayedRender=null)}},this.editorGroupService.onEditorsChanged(function(){return t.onEditorsChanged()}),this.untitledEditorService.onDidChangeEncoding(function(e){return t.onResourceEncodingChange(e)}),this.textFileService.models.onModelEncodingChanged(function(e){return t.onResourceEncodingChange(e.resource)}),R.TabFocus.onDidChangeTabFocus(function(e){return t.onTabFocusModeChange()})),g.combinedDisposable(this.toDispose)},e.prototype.updateState=function(e){var t=this,n=this.state.update(e);n&&(this.toRender?this.toRender.combine(n):(this.toRender=n,this.delayedRender=r.runAtThisOrScheduleAtNextAnimationFrame(function(){t.delayedRender=null;var e=t.toRender;t.toRender=null,t._renderNow(e)})))},e.prototype._renderNow=function(e){e.tabFocusMode&&(this.state.tabFocusMode&&!0===this.state.tabFocusMode?H(this.tabFocusModeElement):K(this.tabFocusModeElement)),e.screenReaderMode&&(this.state.screenReaderMode&&!0===this.state.screenReaderMode?H(this.screenRedearModeElement):K(this.screenRedearModeElement)),e.indentation&&(this.state.indentation?(this.indentationElement.textContent=this.state.indentation,H(this.indentationElement)):K(this.indentationElement)),e.selectionStatus&&(this.state.selectionStatus&&!this.state.screenReaderMode?(this.selectionElement.textContent=this.state.selectionStatus,H(this.selectionElement)):K(this.selectionElement)),e.encoding&&(this.state.encoding?(this.encodingElement.textContent=this.state.encoding,H(this.encodingElement)):K(this.encodingElement)),e.EOL&&(this.state.EOL?(this.eolElement.textContent="\r\n"===this.state.EOL?J:Z,H(this.eolElement)):K(this.eolElement)),e.mode&&(this.state.mode?(this.modeElement.textContent=this.state.mode,H(this.modeElement)):K(this.modeElement)),e.metadata&&(this.state.metadata?(this.metadataElement.textContent=this.state.metadata,H(this.metadataElement)):K(this.metadataElement))},e.prototype.getSelectionLabel=function(e){return e&&e.selections?1===e.selections.length?e.charactersSelected?o.format($,e.selections[0].positionLineNumber,e.selections[0].positionColumn,e.charactersSelected):o.format(Y,e.selections[0].positionLineNumber,e.selections[0].positionColumn):e.charactersSelected?o.format(X,e.selections.length,e.charactersSelected):e.selections.length>0?o.format(Q,e.selections.length):null:null},e.prototype.onModeClick=function(){var e=this.instantiationService.createInstance(oe,oe.ID,oe.LABEL);e.run().done(null,l.onUnexpectedError),e.dispose()},e.prototype.onIndentationClick=function(){var e=this.instantiationService.createInstance(se,se.ID,se.LABEL);e.run().done(null,l.onUnexpectedError),e.dispose()},e.prototype.onSelectionClick=function(){this.quickOpenService.show(":")},e.prototype.onEOLClick=function(){var e=this.instantiationService.createInstance(ae,ae.ID,ae.LABEL);e.run().done(null,l.onUnexpectedError),e.dispose()},e.prototype.onEncodingClick=function(){var e=this.instantiationService.createInstance(ce,ce.ID,ce.LABEL);e.run().done(null,l.onUnexpectedError),e.dispose()},e.prototype.onTabFocusModeClick=function(){R.TabFocus.setTabFocusMode(!1)},e.prototype.onEditorsChanged=function(){var e=this,t=this.editorService.getActiveEditor(),n=W.getCodeEditor(t);if(this.onScreenReaderModeChange(n),this.onSelectionChange(n),this.onModeChange(n),this.onEOLChange(n),this.onEncodingChange(t),this.onIndentationChange(n),this.onMetadataChange(t),g.dispose(this.activeEditorListeners),n)this.activeEditorListeners.push(n.onDidChangeConfiguration(function(t){t.accessibilitySupport&&e.onScreenReaderModeChange(n)})),this.activeEditorListeners.push(n.onDidChangeCursorPosition(function(t){e.onSelectionChange(n)})),this.activeEditorListeners.push(n.onDidChangeModelLanguage(function(t){e.onModeChange(n)})),this.activeEditorListeners.push(n.onDidChangeModelContent(function(t){e.onEOLChange(n)})),this.activeEditorListeners.push(n.onDidChangeModelOptions(function(t){e.onIndentationChange(n)}));else if(t instanceof C.BaseBinaryResourceEditor||t instanceof w.BinaryResourceDiffEditor){var i=[];if(t instanceof w.BinaryResourceDiffEditor){var r=t.getDetailsEditor();r instanceof C.BaseBinaryResourceEditor&&i.push(r);var o=t.getMasterEditor();o instanceof C.BaseBinaryResourceEditor&&i.push(o)}else i.push(t);i.forEach(function(n){e.activeEditorListeners.push(n.onMetadataChanged(function(n){e.onMetadataChange(t)}))})}},e.prototype.onModeChange=function(e){var t={mode:null};if(e){var n=e.getModel();if(n){var i=n.getLanguageIdentifier().language;t={mode:this.modeService.getLanguageName(i)}}}this.updateState(t)},e.prototype.onIndentationChange=function(e){var t={indentation:null};if(e){var i=e.getModel();if(i){var r=i.getOptions();t.indentation=r.insertSpaces?n.localize(16,null,r.tabSize):n.localize(17,null,r.tabSize)}}this.updateState(t)},e.prototype.onMetadataChange=function(e){var t={metadata:null};(e instanceof C.BaseBinaryResourceEditor||e instanceof w.BinaryResourceDiffEditor)&&(t.metadata=e.getMetadata()),this.updateState(t)},e.prototype.onScreenReaderModeChange=function(e){var t=!1;e&&(t=2===e.getConfiguration().accessibilitySupport),this.updateState({screenReaderMode:t})},e.prototype.onSelectionChange=function(e){var t={};if(e){t.selections=e.getSelections()||[],t.charactersSelected=0;var n=e.getModel();if(n&&t.selections.forEach(function(e){t.charactersSelected+=n.getValueLengthInRange(e)}),1===t.selections.length){var i=e.getVisibleColumnFromPosition(e.getPosition()),r=t.selections[0].clone();r=new D.Selection(r.selectionStartLineNumber,r.selectionStartColumn,r.positionLineNumber,i),t.selections[0]=r}}this.updateState({selectionStatus:this.getSelectionLabel(t)})},e.prototype.onEOLChange=function(e){var t={EOL:null};if(e&&!e.getConfiguration().readOnly){var n=e.getModel();n&&(t.EOL=n.getEOL())}this.updateState(t)},e.prototype.onEncodingChange=function(e){if(!e||this.isActiveEditor(e)){var t={encoding:null};if(W.getCodeEditor(e)){var n=V(e.input);if(n){var i=n.getEncoding(),r=x.SUPPORTED_ENCODINGS[i];t.encoding=r?r.labelShort:i}}this.updateState(t)}},e.prototype.onResourceEncodingChange=function(e){var t=this.editorService.getActiveEditor();if(t){var n=f.toResource(t.input,{supportSideBySide:!0,filter:["file","untitled"]});if(n&&n.toString()===e.toString())return this.onEncodingChange(t)}},e.prototype.onTabFocusModeChange=function(){var e={tabFocusMode:R.TabFocus.getTabFocusMode()};this.updateState(e)},e.prototype.isActiveEditor=function(e){var t=this.editorService.getActiveEditor();return t&&e&&t===e},e}();ie=v([y(0,I.IWorkbenchEditorService),y(1,O.IEditorGroupService),y(2,T.IQuickOpenService),y(3,A.IInstantiationService),y(4,m.IUntitledEditorService),y(5,L.IModeService),y(6,F.ITextFileService)],ie),t.EditorStatus=ie;var re=function(e){function t(i,r,o){var s=e.call(this,t.ID,n.localize(18,null,i))||this;return s.fileExtension=i,s.commandService=r,s.enabled=o.isEnabled(),s}return h(t,e),t.prototype.run=function(){return this.commandService.executeCommand("workbench.extensions.action.showLanguageExtensions",this.fileExtension).then(function(){})},t}(u.Action);re.ID="workbench.action.showLanguageExtensions",re=v([y(1,M.ICommandService),y(2,N.IExtensionGalleryService)],re),t.ShowLanguageExtensionsAction=re;var oe=function(e){function t(t,n,i,r,o,s,a,c,l,u,d,h){var p=e.call(this,t,n)||this;return p.modeService=i,p.modelService=r,p.editorService=o,p.configurationEditingService=s,p.configurationService=a,p.quickOpenService=c,p.preferencesService=l,p.instantiationService=u,p.commandService=d,p.configurationEditService=h,p}return h(t,e),t.prototype.run=function(){var e=this,t=this.editorService.getActiveEditor(),i=W.getCodeEditor(t);if(!i)return this.quickOpenService.pick([{label:n.localize(20,null)}]);var r,o,a=i.getModel(),l=f.toResource(t.input,{supportSideBySide:!0,filter:"file"});a&&(o=a.getLanguageIdentifier().language,r=this.modeService.getLanguageName(o));var u=this.modeService.getRegisteredLanguageNames().sort().map(function(t,i){var o;o=r===t?n.localize(21,null,e.modeService.getModeIdForLanguageName(t.toLowerCase())):n.localize(22,null,e.modeService.getModeIdForLanguageName(t.toLowerCase()));var s,a=e.modeService.getExtensions(t);if(a&&a.length)s=c.default.file(a[0]);else{var l=e.modeService.getFilenames(t);l&&l.length&&(s=c.default.file(l[0]))}return{label:t,resource:s,description:o}});l&&(u[0].separator={border:!0,label:n.localize(23,null)});var d,h,p;if(l){var g=s.extname(l.fsPath)||s.basename(l.fsPath);(p=this.instantiationService.createInstance(re,g)).enabled&&u.unshift(p),h={label:n.localize(24,null,r)},u.unshift(h),d={label:n.localize(25,null,g)},u.unshift(d)}var v={label:n.localize(26,null)};return l&&u.unshift(v),this.quickOpenService.pick(u,{placeHolder:n.localize(27,null)}).then(function(n){if(n)if(n!==p)if(n!==d)if(n!==h){t=e.editorService.getActiveEditor();var i=W.getCodeEditor(t);if(i){var r=[],s=i.getModel();s&&r.push(s);var a;a=n===v?e.modeService.getOrCreateModeByFilenameOrFirstLine(f.toResource(t.input,{supportSideBySide:!0,filter:["file","untitled"]}).fsPath,s.getLineContent(1)):e.modeService.getOrCreateModeByLanguageName(n.label),r.forEach(function(t){e.modelService.setMode(t,a)})}}else e.preferencesService.configureSettingsForLanguage(o);else e.configureFileAssociation(l);else p.run()})},t.prototype.configureFileAssociation=function(e){var r=this,o=s.extname(e.fsPath),a=s.basename(e.fsPath),c=this.modeService.getModeIdByFilenameOrFirstLine(a),l=this.modeService.getRegisteredLanguageNames().sort().map(function(e,t){var i=r.modeService.getModeIdForLanguageName(e.toLowerCase());return{id:i,label:e,description:i===c?n.localize(28,null):void 0}});i.TPromise.timeout(50).done(function(){r.quickOpenService.pick(l,{placeHolder:n.localize(29,null,o||a)}).done(function(e){if(e){var n=r.configurationService.lookup(t.FILE_ASSOCIATION_KEY),i=void 0;i=o&&"."!==a[0]?"*"+o:a;var s=b.ConfigurationTarget.USER;n.workspace&&n.workspace[i]&&(s=b.ConfigurationTarget.WORKSPACE);var c=s===b.ConfigurationTarget.WORKSPACE?n.workspace:n.user;c||(c=Object.create(null)),c[i]=e.id,r.configurationEditingService.writeConfiguration(s,{key:t.FILE_ASSOCIATION_KEY,value:c})}})})},t}(u.Action);oe.ID="workbench.action.editor.changeLanguageMode",oe.LABEL=n.localize(19,null),oe.FILE_ASSOCIATION_KEY="files.associations",oe=v([y(2,L.IModeService),y(3,P.IModelService),y(4,I.IWorkbenchEditorService),y(5,b.IConfigurationEditingService),y(6,k.IWorkspaceConfigurationService),y(7,T.IQuickOpenService),y(8,B.IPreferencesService),y(9,A.IInstantiationService),y(10,M.ICommandService),y(11,b.IConfigurationEditingService)],oe),t.ChangeModeAction=oe;var se=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.editorService=i,o.quickOpenService=r,o}return h(t,e),t.prototype.run=function(){var e=this.editorService.getActiveEditor(),t=W.getCodeEditor(e);if(!t)return this.quickOpenService.pick([{label:n.localize(31,null)}]);if(!U(t))return this.quickOpenService.pick([{label:n.localize(32,null)}]);var i=[t.getAction(E.IndentUsingSpaces.ID),t.getAction(E.IndentUsingTabs.ID),t.getAction(E.DetectIndentation.ID),t.getAction(E.IndentationToSpacesAction.ID),t.getAction(E.IndentationToTabsAction.ID),t.getAction(_.TrimTrailingWhitespaceAction.ID)].map(function(e){return{id:e.id,label:e.label,detail:d.language===d.LANGUAGE_DEFAULT?null:e.alias,run:function(){t.focus(),e.run()}}});return i[0].separator={label:n.localize(33,null)},i[3].separator={label:n.localize(34,null),border:!0},this.quickOpenService.pick(i,{placeHolder:n.localize(35,null),matchOnDetail:!0}).then(function(e){return e&&e.run()})},t}(u.Action);se.ID="workbench.action.editor.changeIndentation",se.LABEL=n.localize(30,null),se=v([y(2,I.IWorkbenchEditorService),y(3,T.IQuickOpenService)],se);var ae=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.editorService=i,o.quickOpenService=r,o}return h(t,e),t.prototype.run=function(){var e=this,t=this.editorService.getActiveEditor(),i=W.getCodeEditor(t);if(!i)return this.quickOpenService.pick([{label:n.localize(37,null)}]);if(!U(i))return this.quickOpenService.pick([{label:n.localize(38,null)}]);var r=i.getModel(),o=[{label:Z,eol:S.EndOfLineSequence.LF},{label:J,eol:S.EndOfLineSequence.CRLF}],s=r&&"\n"===r.getEOL()?0:1;return this.quickOpenService.pick(o,{placeHolder:n.localize(39,null),autoFocus:{autoFocusIndex:s}}).then(function(n){if(n){t=e.editorService.getActiveEditor();var i=W.getCodeEditor(t);i&&U(i)&&i.getModel().setEOL(n.eol)}})},t}(u.Action);ae.ID="workbench.action.editor.changeEOL",ae.LABEL=n.localize(36,null),ae=v([y(2,I.IWorkbenchEditorService),y(3,T.IQuickOpenService)],ae),t.ChangeEOLAction=ae;var ce=function(e){function t(t,n,i,r,o,s){var a=e.call(this,t,n)||this;return a.editorService=i,a.quickOpenService=r,a.configurationService=o,a.fileService=s,a}return h(t,e),t.prototype.run=function(){var e=this,t=this.editorService.getActiveEditor();if(!W.getCodeEditor(t)||!t.input)return this.quickOpenService.pick([{label:n.localize(41,null)}]);var r=V(t.input);if(!r)return this.quickOpenService.pick([{label:n.localize(42,null)}]);var o,s;return d.language===d.LANGUAGE_DEFAULT?(o={label:n.localize(43,null)},s={label:n.localize(44,null)}):(o={label:n.localize(45,null),detail:"Save with Encoding"},s={label:n.localize(46,null),detail:"Reopen with Encoding"}),(r instanceof p.UntitledEditorInput?i.TPromise.as(o):j(t)?this.quickOpenService.pick([s,o],{placeHolder:n.localize(47,null),matchOnDetail:!0}):i.TPromise.as(s)).then(function(o){if(o){var a=f.toResource(t.input,{filter:["file","untitled"],supportSideBySide:!0});return i.TPromise.timeout(50).then(function(){return a&&"file"===a.scheme?e.fileService.resolveContent(a,{autoGuessEncoding:!0,acceptTextOnly:!0}).then(function(e){return e.encoding},function(e){return null}):i.TPromise.as(null)}).then(function(i){var c,l,u=o===s,d=e.configurationService.lookup("files.encoding",{resource:a}).value,h=Object.keys(x.SUPPORTED_ENCODINGS).sort(function(e,t){return e===d?-1:t===d?1:x.SUPPORTED_ENCODINGS[e].order-x.SUPPORTED_ENCODINGS[t].order}).filter(function(e){return(e!==i||i===d)&&(!u||!x.SUPPORTED_ENCODINGS[e].encodeOnly)}).map(function(e,t){return e===r.getEncoding()?c=t:x.SUPPORTED_ENCODINGS[e].alias===r.getEncoding()&&(l=t),{id:e,label:x.SUPPORTED_ENCODINGS[e].labelLong}});return i&&d!==i&&x.SUPPORTED_ENCODINGS[i]&&(h[0].separator={border:!0},h.unshift({id:i,label:x.SUPPORTED_ENCODINGS[i].labelLong,description:n.localize(48,null)})),e.quickOpenService.pick(h,{placeHolder:u?n.localize(49,null):n.localize(50,null),autoFocus:{autoFocusIndex:"number"==typeof c?c:"number"==typeof l?l:void 0}}).then(function(n){n&&(t=e.editorService.getActiveEditor(),(r=V(t.input))&&r.getEncoding()!==n.id&&r.setEncoding(n.id,u?f.EncodingMode.Decode:f.EncodingMode.Encode))})})}})},t}(u.Action);ce.ID="workbench.action.editor.changeEncoding",ce.LABEL=n.localize(40,null),ce=v([y(2,I.IWorkbenchEditorService),y(3,T.IQuickOpenService),y(4,k.IWorkspaceConfigurationService),y(5,x.IFileService)],ce),t.ChangeEncodingAction=ce}),define(u[1272],d([1,0,7,139,5,51,99,23,43]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=c.CONTENT_CHANGE_EVENT_BUFFER_DELAY+500,u=function(){function e(e,t,n,i){this.backupFileService=e,this.textFileService=t,this.untitledEditorService=n,this.configurationService=i,this.toDispose=[],this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;this.backupFileService.backupEnabled&&(this.toDispose.push(this.textFileService.models.onModelContentChanged(function(t){return e.onTextFileModelChanged(t)})),this.toDispose.push(this.textFileService.models.onModelSaved(function(t){return e.discardBackup(t.resource)})),this.toDispose.push(this.textFileService.models.onModelDisposed(function(t){return e.discardBackup(t)})),this.toDispose.push(this.untitledEditorService.onDidChangeContent(function(t){return e.onUntitledModelChanged(t)})),this.toDispose.push(this.untitledEditorService.onDidDisposeModel(function(t){return e.discardBackup(t)})),this.toDispose.push(this.configurationService.onDidUpdateConfiguration(function(t){return e.onConfigurationChange(e.configurationService.getConfiguration())})))},e.prototype.onConfigurationChange=function(e){e&&e.files?this.configuredAutoSaveAfterDelay=e.files.autoSave===c.AutoSaveConfiguration.AFTER_DELAY&&e.files.autoSaveDelay<=l:this.configuredAutoSaveAfterDelay=!1},e.prototype.onTextFileModelChanged=function(e){if(e.kind===o.StateChange.REVERTED)this.discardBackup(e.resource);else if(e.kind===o.StateChange.CONTENT_CHANGE&&!this.configuredAutoSaveAfterDelay){var t=this.textFileService.models.get(e.resource);this.backupFileService.backupResource(t.getResource(),t.getValue(),t.getVersionId()).done(null,n.onUnexpectedError)}},e.prototype.onUntitledModelChanged=function(e){var t=this;this.untitledEditorService.isDirty(e)?this.untitledEditorService.loadOrCreate({resource:e}).then(function(n){return t.backupFileService.backupResource(e,n.getValue(),n.getVersionId())}).done(null,n.onUnexpectedError):this.discardBackup(e)},e.prototype.discardBackup=function(e){this.backupFileService.discardResourceBackup(e).done(null,n.onUnexpectedError)},e.prototype.dispose=function(){this.toDispose=r.dispose(this.toDispose)},e.prototype.getId=function(){return"vs.backup.backupModelTracker"},e}();u=v([y(0,i.IBackupFileService),y(1,o.ITextFileService),y(2,s.IUntitledEditorService),y(3,a.IConfigurationService)],u),t.BackupModelTracker=u}),define(u[1273],d([1,0,4,99,47,7,139,45,22,63,51,79]),function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function e(e,t,n,i,r,o){this.untitledEditorService=e,this.partService=t,this.editorService=n,this.backupFileService=i,this.textFileService=r,this.groupService=o,this.restoreBackups()}return e.prototype.restoreBackups=function(){var e=this;this.backupFileService.backupEnabled&&this.partService.joinCreation().then(function(){e.doRestoreBackups().done(null,o.onUnexpectedError)})},e.prototype.doRestoreBackups=function(){var e=this;return this.backupFileService.getWorkspaceFileBackups().then(function(t){return e.doResolveOpenedBackups(t).then(function(t){if(t.length>0)return e.doOpenEditors(t).then(function(){return e.doResolveOpenedBackups(t)})})})},e.prototype.doResolveOpenedBackups=function(e){var t=this,r=this.groupService.getStacksModel(),o=[],s=[];return e.forEach(function(e){r.isOpen(e)?e.scheme===d.Schemas.file?o.push(t.textFileService.models.loadOrCreate(e).then(null,function(){return s.push(e)})):e.scheme===i.UNTITLED_SCHEMA&&o.push(t.untitledEditorService.loadOrCreate({resource:e}).then(null,function(){return s.push(e)})):s.push(e)}),n.TPromise.join(o).then(function(){return s},function(){return s})},e.prototype.doOpenEditors=function(e){var t=this,n=this.groupService.getStacksModel().groups.length>0,i=e.map(function(e,i){return t.resolveInput(e,i,n)});return this.editorService.openEditors(i.map(function(e){return{input:e,position:l.Position.ONE}})).then(function(){})},e.prototype.resolveInput=function(t,n,r){var o={pinned:!0,preserveFocus:!0,inactive:n>0||r};return t.scheme!==i.UNTITLED_SCHEMA||e.UNTITLED_REGEX.test(t.fsPath)?{resource:t,options:o}:{filePath:t.fsPath,options:o}},e.prototype.getId=function(){return"vs.backup.backupRestorer"},e}();h.UNTITLED_REGEX=/Untitled-\d+/,h=v([y(0,i.IUntitledEditorService),y(1,r.IPartService),y(2,c.IWorkbenchEditorService),y(3,s.IBackupFileService),y(4,u.ITextFileService),y(5,a.IEditorGroupService)],h),t.BackupRestorer=h}),define(u[1274],d([1,0,15,85,1272,1273]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.Registry.as(i.Extensions.Workbench).registerWorkbenchContribution(r.BackupModelTracker),n.Registry.as(i.Extensions.Workbench).registerWorkbenchContribution(o.BackupRestorer)}),define(u[1275],d([1,0,628,7,93,51,11,63,62,45,69,5,22,175,99,34]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function e(e,t,n,i,r,o,s){this.textFileService=e,this.lifecycleService=t,this.editorService=i,this.activityBarService=r,this.windowService=o,this.untitledEditorService=s,this.toUnbind=[],this.isDocumentedEdited=!1,this.stacks=n.getStacksModel(),this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.untitledEditorService.onDidChangeDirty(function(t){return e.onUntitledDidChangeDirty(t)})),this.toUnbind.push(this.textFileService.models.onModelsDirty(function(t){return e.onTextFilesDirty(t)})),this.toUnbind.push(this.textFileService.models.onModelsSaved(function(t){return e.onTextFilesSaved(t)})),this.toUnbind.push(this.textFileService.models.onModelsSaveError(function(t){return e.onTextFilesSaveError(t)})),this.toUnbind.push(this.textFileService.models.onModelsReverted(function(t){return e.onTextFilesReverted(t)})),this.lifecycleService.onShutdown(this.dispose,this)},e.prototype.onUntitledDidChangeDirty=function(e){var t=this.untitledEditorService.isDirty(e);(!this.isDocumentedEdited&&t||this.isDocumentedEdited&&!t)&&this.updateDocumentEdited(),(t||this.lastDirtyCount>0)&&this.updateActivityBadge()},e.prototype.onTextFilesDirty=function(e){var t=this;this.textFileService.getAutoSaveMode()===o.AutoSaveMode.AFTER_SHORT_DELAY||this.isDocumentedEdited||this.updateDocumentEdited(),this.textFileService.getAutoSaveMode()!==o.AutoSaveMode.AFTER_SHORT_DELAY&&this.updateActivityBadge(),this.doOpenDirtyResources(g.distinct(e.filter(function(e){var n=t.textFileService.models.get(e.resource);return n&&n.isDirty()&&!n.hasState(o.ModelState.PENDING_SAVE)&&!t.stacks.isOpen(e.resource)}).map(function(e){return e.resource}),function(e){return e.toString()}))},e.prototype.doOpenDirtyResources=function(e){var t=this.editorService.getActiveEditor(),n=t?t.position:a.Position.ONE;this.editorService.openEditors(e.map(function(e){return{input:{resource:e,options:{inactive:!0,pinned:!0,preserveFocus:!0}},position:n}})).done(null,i.onUnexpectedError)},e.prototype.onTextFilesSaved=function(e){this.isDocumentedEdited&&this.updateDocumentEdited(),this.lastDirtyCount>0&&this.updateActivityBadge()},e.prototype.onTextFilesSaveError=function(e){this.isDocumentedEdited||this.updateDocumentEdited(),this.updateActivityBadge()},e.prototype.onTextFilesReverted=function(e){this.isDocumentedEdited&&this.updateDocumentEdited(),this.lastDirtyCount>0&&this.updateActivityBadge()},e.prototype.updateActivityBadge=function(){var e=this.textFileService.getDirty().length;this.lastDirtyCount=e,d.dispose(this.badgeHandle),e>0&&(this.badgeHandle=this.activityBarService.showActivity(r.VIEWLET_ID,new p.NumberBadge(e,function(t){return n.localize(0,null,e)}),"explorer-viewlet-label"))},e.prototype.updateDocumentEdited=function(){if(s.platform===s.Platform.Mac){var e=this.textFileService.isDirty();this.isDocumentedEdited=e,this.windowService.setDocumentEdited(e)}},e.prototype.getId=function(){return"vs.files.dirtyFilesTracker"},e.prototype.dispose=function(){this.toUnbind=d.dispose(this.toUnbind)},e}();m=v([y(0,o.ITextFileService),y(1,u.ILifecycleService),y(2,l.IEditorGroupService),y(3,h.IWorkbenchEditorService),y(4,p.IActivityBarService),y(5,c.IWindowService),y(6,f.IUntitledEditorService)],m),t.DirtyFilesTracker=m}),define(u[222],d([1,0,4,16,79,15,28,30,159,99,22,6,190,27,720,82,70,8,39]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var E=function(){function e(e,t,n,i,r){this.untitledEditorService=t,this.workspaceContextService=n,this.instantiationService=i,this.environmentService=r,this.editorPart=e,this.fileInputFactory=o.Registry.as(a.Extensions.Editors).getFileInputFactory()}return e.prototype.getActiveEditor=function(){return this.editorPart.getActiveEditor()},e.prototype.getActiveEditorInput=function(){return this.editorPart.getActiveEditorInput()},e.prototype.getVisibleEditors=function(){return this.editorPart.getVisibleEditors()},e.prototype.isVisible=function(e,t){return!!e&&this.getVisibleEditors().some(function(n){if(!n.input)return!1;if(e.matches(n.input))return!0;if(t&&n.input instanceof a.SideBySideEditorInput){var i=n.input;return e.matches(i.master)||e.matches(i.details)}return!1})},e.prototype.openEditor=function(e,t,o){if(!e)return n.TPromise.as(null);if(e instanceof a.EditorInput)return this.doOpenEditor(e,this.toOptions(t),o);var s=e;if(s.resource instanceof i.default){var c=s.resource.scheme;if(c===r.Schemas.http||c===r.Schemas.https)return window.open(s.resource.toString(!0)),n.TPromise.as(null)}var l=e,u=this.createInput(l);return u?this.doOpenEditor(u,a.TextEditorOptions.from(l),t):n.TPromise.as(null)},e.prototype.toOptions=function(e){return!e||e instanceof a.EditorOptions?e:e.selection?a.TextEditorOptions.create(e):a.EditorOptions.create(e)},e.prototype.doOpenEditor=function(e,t,n){return this.editorPart.openEditor(e,t,n)},e.prototype.openEditors=function(e){var t=this,n=e.map(function(e){return t.createInput(e.input)}).map(function(n,i){return{input:n,options:e[i].input instanceof a.EditorInput?t.toOptions(e[i].options):a.TextEditorOptions.from(e[i].input),position:e[i].position}});return this.editorPart.openEditors(n)},e.prototype.replaceEditors=function(e,t){var n=this,i=e.map(function(e){return n.createInput(e.toReplace)}),r=e.map(function(e){return n.createInput(e.replaceWith)}),o=e.map(function(e,t){var o=e.toReplace instanceof a.EditorInput?n.toOptions(e.options):a.TextEditorOptions.from(e.replaceWith);return{toReplace:i[t],replaceWith:r[t],options:o}});return this.editorPart.replaceEditors(o,t)},e.prototype.closeEditor=function(e,t){return this.doCloseEditor(e,t)},e.prototype.doCloseEditor=function(e,t){return this.editorPart.closeEditor(e,t)},e.prototype.closeEditors=function(e,t){return this.editorPart.closeEditors(e,t)},e.prototype.closeAllEditors=function(e){return this.editorPart.closeAllEditors(e)},e.prototype.createInput=function(e){if(e instanceof a.EditorInput)return e;var t=e;if(t.masterResource&&t.detailResource){var n=this.createInput({resource:t.masterResource}),o=this.createInput({resource:t.detailResource});return new a.SideBySideEditorInput(t.label||n.getName(),"string"==typeof t.description?t.description:n.getDescription(),o,n)}var c=e;if(c.leftResource&&c.rightResource){var u=this.createInput({resource:c.leftResource}),d=this.createInput({resource:c.rightResource}),h=c.label||this.toDiffLabel(c.leftResource,c.rightResource,this.workspaceContextService,this.environmentService);return new p.DiffEditorInput(h,c.description,u,d)}var f=e;if(!f.resource||"string"==typeof f.filePath||f.resource instanceof i.default&&f.resource.scheme===l.UNTITLED_SCHEMA)return this.untitledEditorService.createOrGet(f.filePath?i.default.file(f.filePath):f.resource,f.language,f.contents,f.encoding);var g=e;if(g.resource instanceof i.default&&g.resource.scheme===r.Schemas.file)return this.createOrGet(g.resource,this.instantiationService,g.label,g.description,g.encoding);if(g.resource instanceof i.default){var h=g.label||s.basename(g.resource.fsPath),v=void 0;return"string"==typeof g.description?v=g.description:g.resource.scheme===r.Schemas.file&&(v=s.dirname(g.resource.fsPath)),this.createOrGet(g.resource,this.instantiationService,h,v)}return null},e.prototype.createOrGet=function(t,n,i,o,s){if(e.CACHE.has(t)){var a=e.CACHE.get(t);return a instanceof c.ResourceEditorInput?(a.setName(i),a.setDescription(o)):a.setPreferredEncoding(s),a}var l;return l=t.scheme===r.Schemas.file?this.fileInputFactory.createFileInput(t,s,n):n.createInstance(c.ResourceEditorInput,i,o,t),e.CACHE.set(t,l),S.once(l.onDispose)(function(){e.CACHE.delete(t)}),l},e.prototype.toDiffLabel=function(e,t,n,i){var r=m.getPathLabel(e.fsPath,n,i),o=m.getPathLabel(t.fsPath,n,i);return g.localize(0,null,r,o)},e}();E.CACHE=new b.ResourceMap,E=v([y(1,l.IUntitledEditorService),y(2,f.IWorkspaceContextService),y(3,d.IInstantiationService),y(4,_.IEnvironmentService)],E),t.WorkbenchEditorService=E;var C=function(e){function t(t,n,i,r,o){return e.call(this,r,t,i,n,o)||this}return h(t,e),t.prototype.setEditorOpenHandler=function(e){this.editorOpenHandler=e},t.prototype.setEditorCloseHandler=function(e){this.editorCloseHandler=e},t.prototype.doOpenEditor=function(t,i,r){var o=this;return(this.editorOpenHandler?this.editorOpenHandler(t,i,r):n.TPromise.as(void 0)).then(function(s){return s?n.TPromise.as(s):e.prototype.doOpenEditor.call(o,t,i,r)})},t.prototype.doCloseEditor=function(t,i){var r=this;return(this.editorCloseHandler?this.editorCloseHandler(t,i):n.TPromise.as(void 0)).then(function(){return e.prototype.doCloseEditor.call(r,t,i)})},t}(E);C=v([y(0,l.IUntitledEditorService),y(1,d.IInstantiationService),y(2,f.IWorkspaceContextService),y(3,u.IWorkbenchEditorService),y(4,_.IEnvironmentService)],C),t.DelegatingWorkbenchEditorService=C}),define(u[1277],d([1,0,521,4,7,9,11,133,82,21,63,30,89,138,49,22,41,45,20,19,6,38,17,35,62,312,54,5,127,113,200,70,222,118,13,74,29,1012]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A,L,P,D,O,R,M,N,F,W,B){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var V=function(e){function t(t,n,i,r,o,s,a,c,l,u,d,h){var p=e.call(this,t,n,i,r,o,s,a,c,l,u,h)||this;return p.windowService=d,p.tabDisposeables=[],p.editorLabels=[],p}return h(t,e),t.prototype.initActions=function(t){e.prototype.initActions.call(this,this.createScopedInstantiationService())},t.prototype.createScopedInstantiationService=function(){var e=this,t=this.editorGroupService.getStacksModel(),n=this.instantiationService.createInstance(M.DelegatingWorkbenchEditorService);return n.setEditorCloseHandler(function(n,r){var o=t.groupAt(n);return o&&t.isActive(o)&&!o.isActive(r)&&e.editorGroupService.focusGroup(o),e.blockRevealActiveTab=!0,i.TPromise.as(void 0)}),this.instantiationService.createChild(new N.ServiceCollection([m.IWorkbenchEditorService,n]))},t.prototype.setContext=function(t){e.prototype.setContext.call(this,t),this.editorActionsToolbar.context={group:t}},t.prototype.create=function(t){var n=this;e.prototype.create.call(this,t),this.titleContainer=t,this.tabsContainer=document.createElement("div"),this.tabsContainer.setAttribute("role","tablist"),o.addClass(this.tabsContainer,"tabs-container"),this.toUnbind.push(o.addDisposableListener(this.tabsContainer,o.EventType.SCROLL,function(e){o.hasClass(n.tabsContainer,"scroll")&&n.scrollbar.updateState({scrollLeft:n.tabsContainer.scrollLeft})})),this.toUnbind.push(o.addDisposableListener(this.tabsContainer,o.EventType.DBLCLICK,function(e){var t=e.target;if(t instanceof HTMLElement&&0===t.className.indexOf("tabs-container")){o.EventHelper.stop(e);var i=n.context;i&&n.editorService.openEditor({options:{pinned:!0,index:i.count}}).done(null,r.onUnexpectedError)}})),this.scrollbar=new P.ScrollableElement(this.tabsContainer,{horizontal:D.ScrollbarVisibility.Auto,vertical:D.ScrollbarVisibility.Hidden,scrollYToX:!0,useShadows:!1,horizontalScrollbarSize:3}),this.scrollbar.onScroll(function(e){n.tabsContainer.scrollLeft=e.scrollLeft}),this.titleContainer.appendChild(this.scrollbar.getDomNode()),this.toUnbind.push(o.addDisposableListener(this.tabsContainer,o.EventType.DRAG_OVER,function(e){o.addClass(n.tabsContainer,"scroll");var t=e.target;t instanceof HTMLElement&&0===t.className.indexOf("tabs-container")&&n.updateDropFeedback(n.tabsContainer,!0)})),this.toUnbind.push(o.addDisposableListener(this.tabsContainer,o.EventType.DRAG_LEAVE,function(e){n.updateDropFeedback(n.tabsContainer,!1),o.removeClass(n.tabsContainer,"scroll")})),this.toUnbind.push(o.addDisposableListener(this.tabsContainer,o.EventType.DRAG_END,function(e){n.updateDropFeedback(n.tabsContainer,!1),o.removeClass(n.tabsContainer,"scroll")})),this.toUnbind.push(o.addDisposableListener(this.tabsContainer,o.EventType.DROP,function(e){n.updateDropFeedback(n.tabsContainer,!1),o.removeClass(n.tabsContainer,"scroll");var t=e.target;if(t instanceof HTMLElement&&0===t.className.indexOf("tabs-container")){var i=n.context;if(i){var r=n.stacks.positionOfGroup(i),s=i.count;n.onDrop(e,i,r,s)}}}));var i=document.createElement("div");o.addClass(i,"editor-actions"),this.titleContainer.appendChild(i),this.createEditorActionsToolBar(i)},t.prototype.updateDropFeedback=function(e,t,n){var i="number"==typeof n,r=i&&this.context&&this.context.isActive(this.context.getEditor(n)),o=i?this.getColor(r?W.TAB_ACTIVE_BACKGROUND:W.TAB_INACTIVE_BACKGROUND):null;e.style.backgroundColor=t?this.getColor(W.EDITOR_DRAG_AND_DROP_BACKGROUND):o;var s=this.getColor(B.activeContrastBorder);s&&t?(e.style.outlineWidth="2px",e.style.outlineStyle="dashed",e.style.outlineColor=s,e.style.outlineOffset=i?"-5px":"-3px"):(e.style.outlineWidth=null,e.style.outlineStyle=null,e.style.outlineColor=s,e.style.outlineOffset=null)},t.prototype.allowDragging=function(e){return"tabs-container"===e.className},t.prototype.doUpdate=function(){var e=this;if(this.context){var t=this.context,n=this.stacks.isActive(t);n?o.addClass(this.titleContainer,"active"):o.removeClass(this.titleContainer,"active");var i=this.context.getEditors(),r=this.getUniqueTabLabels(i);i.forEach(function(s,a){var c=e.tabsContainer.children[a];if(c instanceof HTMLElement){var l=t.isPinned(a),u=t.isActive(s),h=s.isDirty(),p=r[a],f=p.name,g=p.hasAmbiguousName&&p.description?p.description:"",v=p.title||"";c.setAttribute("aria-label",f+", tab"),c.title=v,c.style.borderLeftColor=0!==a?e.getColor(W.TAB_BORDER)||e.getColor(B.contrastBorder):null,c.style.borderRightColor=a===i.length-1?e.getColor(W.TAB_BORDER)||e.getColor(B.contrastBorder):null,c.style.outlineColor=e.getColor(B.activeContrastBorder);var m=e.editorGroupService.getTabOptions();["off","left"].forEach(function(e){(m.tabCloseButton===e?o.addClass:o.removeClass)(c,"close-button-"+e)});var y=e.editorLabels[a];y.setLabel({name:f,description:g,resource:d.toResource(s,{supportSideBySide:!0})},{extraClasses:["tab-label"],italic:!l}),u?(o.addClass(c,"active"),c.setAttribute("aria-selected","true"),c.style.backgroundColor=e.getColor(W.TAB_ACTIVE_BACKGROUND),y.element.style.color=e.getColor(n?W.TAB_ACTIVE_FOREGROUND:W.TAB_UNFOCUSED_ACTIVE_FOREGROUND),e.activeTab=c):(o.removeClass(c,"active"),c.setAttribute("aria-selected","false"),c.style.backgroundColor=e.getColor(W.TAB_INACTIVE_BACKGROUND),y.element.style.color=e.getColor(n?W.TAB_INACTIVE_FOREGROUND:W.TAB_UNFOCUSED_INACTIVE_FOREGROUND)),h?o.addClass(c,"dirty"):o.removeClass(c,"dirty")}}),this.updateEditorActionsToolbar(),this.layout()}},t.prototype.getUniqueTabLabels=function(e){var t=[],n=new Map,i=new Map;return e.forEach(function(e){var r=e.getDescription(),o={editor:e,name:e.getName(),description:r,title:e.getTitle(u.Verbosity.LONG)};t.push(o),R.getOrSet(n,o.name,[]).push(o),"string"==typeof r&&R.getOrSet(i,""+o.name+o.description,[]).push(o)}),n.forEach(function(e){if(e.length>1&&(e=e.filter(function(e){return"string"==typeof e.description&&1===i.get(""+e.name+e.description).length})).length>1){var t=c.shorten(e.map(function(e){return e.editor.getDescription()}));e.forEach(function(e,n){e.description=t[n],e.hasAmbiguousName=!0})}}),t},t.prototype.doRefresh=function(){var e=this.context;if(!(e&&e.activeEditor))return this.clearTabs(),void this.clearEditorActionsToolbar();this.handleTabs(e.count),o.removeClass(this.titleContainer,"empty"),this.doUpdate()},t.prototype.clearTabs=function(){o.clearNode(this.tabsContainer),this.tabDisposeables=L.dispose(this.tabDisposeables),this.editorLabels=[],o.addClass(this.titleContainer,"empty")},t.prototype.handleTabs=function(e){var t=this.tabsContainer.children.length;if(t!==e)if(t<e)for(n=t;n<e;n++)this.tabsContainer.appendChild(this.createTab(n));else for(var n=0;n<t-e;n++)this.tabsContainer.lastChild.remove(),this.editorLabels.pop(),this.tabDisposeables.pop().dispose()},t.prototype.createTab=function(e){var t=this,i=document.createElement("div");i.draggable=!0,i.tabIndex=0,i.setAttribute("role","presentation"),o.addClass(i,"tab");var r=this.instantiationService.createInstance(f.EditorLabel,i,void 0);this.editorLabels.push(r);var s=document.createElement("div");o.addClass(s,"tab-close"),i.appendChild(s);var a=new g.ActionBar(s,{ariaLabel:n.localize(0,null),actionRunner:new z(function(){return t.context},e)});a.push(this.closeEditorAction,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(this.closeEditorAction)});var c=this.hookTabListeners(i,e);return this.tabDisposeables.push(L.combinedDisposable([c,a,r])),i},t.prototype.layout=function(){if(this.activeTab){var e=this.tabsContainer.offsetWidth,t=this.tabsContainer.scrollWidth;if(this.scrollbar.updateState({width:e,scrollWidth:t}),this.blockRevealActiveTab)this.blockRevealActiveTab=!1;else{var n=this.tabsContainer.scrollLeft,i=this.activeTab.offsetLeft,r=this.activeTab.offsetWidth,o=r<=e;o&&n+e<i+r?this.scrollbar.updateState({scrollLeft:n+(i+r-(n+e))}):(n>i||!o)&&this.scrollbar.updateState({scrollLeft:this.activeTab.offsetLeft})}}},t.prototype.hookTabListeners=function(e,t){var n=this,i=[];i.push(o.addDisposableListener(e,o.EventType.MOUSE_DOWN,function(i){e.blur();var o=n.toTabContext(t),s=o.editor,a=o.position;0!==i.button||n.isTabActionBar(i.target||i.srcElement)||setTimeout(function(){return n.editorService.openEditor(s,null,a).done(null,r.onUnexpectedError)})})),i.push(o.addDisposableListener(e,o.EventType.MOUSE_UP,function(i){o.EventHelper.stop(i),e.blur(),1!==i.button||n.isTabActionBar(i.target||i.srcElement)||n.closeEditorAction.run(n.toTabContext(t)).done(null,r.onUnexpectedError)})),i.push(o.addDisposableListener(e,o.EventType.KEY_DOWN,function(i){var r=new p.StandardKeyboardEvent(i);if(r.shiftKey&&68===r.keyCode){o.EventHelper.stop(i);var s=n.toTabContext(t),a=s.group,c=s.editor;n.onContextMenu({group:a,editor:c},i,e)}})),i.push(o.addDisposableListener(e,o.EventType.KEY_UP,function(e){var i=new p.StandardKeyboardEvent(e),s=!1,a=n.toTabContext(t),c=a.group,l=a.position,u=a.editor;if(i.equals(3)||i.equals(10))s=!0,n.editorService.openEditor(u,null,l).done(null,r.onUnexpectedError);else if([15,17,16,18,14,13].some(function(e){return i.equals(e)})){var d=void 0;d=i.equals(15)||i.equals(16)?t-1:i.equals(17)||i.equals(18)?t+1:i.equals(14)?0:c.count-1;var h=c.getEditor(d);h&&(s=!0,n.editorService.openEditor(h,{preserveFocus:!0},l).done(null,r.onUnexpectedError),n.tabsContainer.childNodes[d].focus())}s&&o.EventHelper.stop(e,!0),n.scrollbar.updateState({scrollLeft:n.tabsContainer.scrollLeft})})),i.push(o.addDisposableListener(e,o.EventType.DBLCLICK,function(e){o.EventHelper.stop(e);var i=n.toTabContext(t),r=i.group,s=i.editor;n.editorGroupService.pinEditor(r,s)})),i.push(o.addDisposableListener(e,o.EventType.CONTEXT_MENU,function(i){o.EventHelper.stop(i,!0);var r=n.toTabContext(t),s=r.group,a=r.editor;n.onContextMenu({group:s,editor:a},i,e)},!0)),i.push(o.addDisposableListener(e,o.EventType.DRAG_START,function(e){var i=n.toTabContext(t),r=i.group,o=i.editor;n.onEditorDragStart({editor:o,group:r}),e.dataTransfer.effectAllowed="copyMove";var s=d.toResource(o,{supportSideBySide:!0,filter:"file"});if(s){var c=s.toString();e.dataTransfer.setData("URL",c),e.dataTransfer.setData("DownloadURL",[a.MIME_BINARY,o.getName(),c].join(":"))}}));var s=0;return i.push(o.addDisposableListener(e,o.EventType.DRAG_ENTER,function(i){s++,n.updateDropFeedback(e,!0,t)})),i.push(o.addDisposableListener(e,o.EventType.DRAG_LEAVE,function(i){0===--s&&n.updateDropFeedback(e,!1,t)})),i.push(o.addDisposableListener(e,o.EventType.DRAG_END,function(i){s=0,n.updateDropFeedback(e,!1,t),n.onEditorDragEnd()})),i.push(o.addDisposableListener(e,o.EventType.DROP,function(i){s=0,n.updateDropFeedback(e,!1,t);var r=n.toTabContext(t),o=r.group,a=r.position;n.onDrop(i,o,a,t)})),L.combinedDisposable(i)},t.prototype.isTabActionBar=function(e){return!!o.findParentWithClass(e,"monaco-action-bar","tab")},t.prototype.toTabContext=function(e){var t=this.context;return{group:t,position:this.stacks.positionOfGroup(t),editor:t.getEditor(e)}},t.prototype.onDrop=function(e,n,i,s){this.updateDropFeedback(this.tabsContainer,!1),o.removeClass(this.tabsContainer,"scroll");var a=t.getDraggedEditor();a?(o.EventHelper.stop(e,!0),this.isMoveOperation(e,a.group,n)?this.editorGroupService.moveEditor(a.editor,a.group,n,{index:s}):this.editorService.openEditor(a.editor,{pinned:!0,index:s},i).done(null,r.onUnexpectedError),this.onEditorDragEnd()):this.handleExternalDrop(e,i,s)},t.prototype.handleExternalDrop=function(e,t,n){var i=this,s=O.extractResources(e).filter(function(e){return"file"===e.resource.scheme||"untitled"===e.resource.scheme});if(s.length){o.EventHelper.stop(e,!0);var a=s.filter(function(e){return e.isExternal}).map(function(e){return e.resource});a.length&&this.windowService.addToRecentlyOpen(a.map(function(e){return{path:e.fsPath,isFile:!0}})),this.editorService.openEditors(s.map(function(e){return{input:{resource:e.resource,options:{pinned:!0,index:n}},position:t}})).then(function(){return i.editorGroupService.focusGroup(t),i.windowService.focusWindow()}).done(null,r.onUnexpectedError)}},t.prototype.isMoveOperation=function(e,t,n){return!(e.ctrlKey&&!s.isMacintosh||e.altKey&&s.isMacintosh)||t.id===n.id},t}(x.TitleControl);V=v([y(0,b.IContextMenuService),y(1,C.IInstantiationService),y(2,m.IWorkbenchEditorService),y(3,S.IEditorGroupService),y(4,I.IContextKeyService),y(5,w.IKeybindingService),y(6,E.ITelemetryService),y(7,_.IMessageService),y(8,T.IMenuService),y(9,A.IQuickOpenService),y(10,k.IWindowService),y(11,F.IThemeService)],V),t.TabsTitleControl=V;var z=function(e){function t(t,n){var i=e.call(this)||this;return i.group=t,i.index=n,i}return h(t,e),t.prototype.run=function(t,n){var r=this.group();return r?e.prototype.run.call(this,t,{group:r,editor:r.getEditor(this.index)}):i.TPromise.as(void 0)},t}(l.ActionRunner);F.registerThemingParticipant(function(e,t){e.getColor(B.activeContrastBorder)&&t.addRule("\n\t\t\t.monaco-workbench > .part.editor > .content > .one-editor-silo > .container > .title .tabs-container > .tab.active,\n\t\t\t.monaco-workbench > .part.editor > .content > .one-editor-silo > .container > .title .tabs-container > .tab.active:hover  {\n\t\t\t\toutline: 1px solid;\n\t\t\t\toutline-offset: -5px;\n\t\t\t}\n\n\t\t\t.monaco-workbench > .part.editor > .content > .one-editor-silo > .container > .title .tabs-container > .tab:hover  {\n\t\t\t\toutline: 1px dashed;\n\t\t\t\toutline-offset: -5px;\n\t\t\t}\n\n\t\t\t.monaco-workbench > .part.editor > .content > .one-editor-silo > .container > .title .tabs-container > .tab.active > .tab-close .action-label,\n\t\t\t.monaco-workbench > .part.editor > .content > .one-editor-silo > .container > .title .tabs-container > .tab.active:hover > .tab-close .action-label,\n\t\t\t.monaco-workbench > .part.editor > .content > .one-editor-silo > .container > .title .tabs-container > .tab.dirty > .tab-close .action-label,\n\t\t\t.monaco-workbench > .part.editor > .content > .one-editor-silo > .container > .title .tabs-container > .tab:hover > .tab-close .action-label {\n\t\t\t\topacity: 1 !important;\n\t\t\t}\n\t\t")})}),define(u[1278],d([1,0,34,8,86,24,40,151,294,9,7,18,11,22,63,45,19,6,118,17,59,1277,312,1200,30,200,62,56,13,29,74,55,1022]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A,L,P,D,O,R){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var M;!function(e){e[e.NONE=0]="NONE",e[e.TWO_TO_ONE=1]="TWO_TO_ONE",e[e.THREE_TO_TWO=2]="THREE_TO_TWO",e[e.TWO_AND_THREE_TO_ONE=3]="TWO_AND_THREE_TO_ONE"}(M=t.Rochade||(t.Rochade={}));var N;!function(e){e[e.INFINITE=0]="INFINITE",e[e.DONE=1]="DONE",e[e.STOP=2]="STOP"}(N=t.ProgressState||(t.ProgressState={}));var F=function(e){function t(t,n,r,o,a,c,l,u,h,p){var f=e.call(this,p)||this;f.editorService=r,f.editorGroupService=o,f.telemetryService=a,f.contextKeyService=c,f.extensionService=l,f.instantiationService=u,f.windowService=h,f.stacks=o.getStacksModel(),f.parent=t,f.dimension=new s.Dimension(0,0),f.silos=[],f.silosSize=[],f.silosMinimized=[],f.visibleEditors=[],f.visibleEditorFocusTrackers=[],f._onGroupFocusChanged=new i.Emitter,f.toUnbind.push(f._onGroupFocusChanged),f.onStacksChangeScheduler=new d.RunOnceScheduler(function(){return f.handleStacksChanged()},0),f.toUnbind.push(f.onStacksChangeScheduler),f.stacksChangedBuffer=[],f.updateTabOptions(f.editorGroupService.getTabOptions());var g=n||"vertical";return f.layoutVertically="horizontal"!==g,f.create(),f.registerListeners(),f}return h(t,e),Object.defineProperty(t.prototype,"totalSize",{get:function(){return this.dimension&&this.dimension.width&&this.dimension.height?this.layoutVertically?this.dimension.width:this.dimension.height:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minSize",{get:function(){return this.layoutVertically?t.MIN_EDITOR_WIDTH:t.MIN_EDITOR_HEIGHT},enumerable:!0,configurable:!0}),t.prototype.isSiloMinimized=function(e){return this.silosSize[e]===this.minSize&&this.silosMinimized[e]},t.prototype.enableMinimizedState=function(){var e=this;g.POSITIONS.forEach(function(t){return e.silosMinimized[t]=e.silosSize[t]===e.minSize})},t.prototype.updateMinimizedState=function(){var e=this;g.POSITIONS.forEach(function(t){e.silosSize[t]!==e.minSize&&(e.silosMinimized[t]=!1)})},Object.defineProperty(t.prototype,"snapToMinimizeThresholdSize",{get:function(){return this.layoutVertically?t.SNAP_TO_MINIMIZED_THRESHOLD_WIDTH:t.SNAP_TO_MINIMIZED_THRESHOLD_HEIGHT},enumerable:!0,configurable:!0}),t.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.stacks.onModelChanged(function(t){return e.onStacksChanged(t)})),this.toUnbind.push(this.editorGroupService.onTabOptionsChanged(function(t){return e.updateTabOptions(t,!0)})),this.extensionService.onReady().then(function(){return e.onExtensionsReady()})},t.prototype.updateTabOptions=function(e,t){var n=this,i=this.tabOptions?this.tabOptions.tabCloseButton:"right";this.tabOptions=e,t&&g.POSITIONS.forEach(function(e){var t=n.getTitleAreaControl(e),r=s.$(t.getContainer());n.tabOptions.showTabs?r.addClass("tabs"):r.removeClass("tabs");var o=r.hasClass("show-file-icons");n.tabOptions.showIcons?r.addClass("show-file-icons"):r.removeClass("show-file-icons"),t&&(t instanceof w.TabsTitleControl!==n.tabOptions.showTabs?(t.dispose(),r.empty(),n.createTitleControl(n.stacks.groupAt(e),n.silos[e],r,n.getInstantiationService(e))):o===n.tabOptions.showIcons&&i===n.tabOptions.tabCloseButton||t.refresh()),n.updateStyles()})},t.prototype.onExtensionsReady=function(){var e=this;g.POSITIONS.forEach(function(t){return e.getTitleAreaControl(t).update()})},t.prototype.onStacksChanged=function(e){this.stacksChangedBuffer.push(e),this.onStacksChangeScheduler.schedule()},t.prototype.handleStacksChanged=function(){var e=this,t=this.stacksChangedBuffer;this.stacksChangedBuffer=[],g.POSITIONS.forEach(function(t){var n=e.getTitleAreaControl(t),i=e.stacks.groupAt(t),r=n.hasContext();n.setContext(i),!i&&r&&n.refresh()}),t.forEach(function(t){var n=e.stacks.positionOfGroup(t.group);n>=0&&(t.structural?e.getTitleAreaControl(n).refresh():e.getTitleAreaControl(n).update())})},Object.defineProperty(t.prototype,"onGroupFocusChanged",{get:function(){return this._onGroupFocusChanged.event},enumerable:!0,configurable:!0}),t.prototype.show=function(e,t,n,i){var r=this.getVisibleEditorCount();this.visibleEditors[t]=e,n&&this.lastActiveEditor||this.doSetActive(e,t),this.trackFocus(e,t);var o=this.silos[t].child();if(e.getContainer().build(o),!i||2!==i.length&&3!==i.length)0===r&&this.dimension?(this.silosSize[t]=this.totalSize,this.layoutContainers()):t===g.Position.TWO&&this.sashOne.isHidden()&&this.sashTwo.isHidden()&&this.dimension?(this.silosSize[g.Position.ONE]=this.totalSize/2,this.silosSize[g.Position.TWO]=this.totalSize-this.silosSize[g.Position.ONE],this.sashOne.show(),this.sashOne.layout(),this.layoutContainers()):t===g.Position.THREE&&this.sashTwo.isHidden()&&this.dimension&&(this.silosSize[g.Position.ONE]=this.totalSize/3,this.silosSize[g.Position.TWO]=this.totalSize/3,this.silosSize[g.Position.THREE]=this.totalSize-this.silosSize[g.Position.ONE]-this.silosSize[g.Position.TWO],this.sashOne.layout(),this.sashTwo.show(),this.sashTwo.layout(),this.layoutContainers());else{var s=!!this.totalSize;s||(this.silosInitialRatio=i),2===i.length?s&&(this.silosSize[t]=this.totalSize*i[t]):3===i.length&&(s&&(this.silosSize[t]=this.totalSize*i[t]),this.sashTwo.isHidden()&&(this.sashTwo.show(),this.sashTwo.layout())),this.sashOne.isHidden()&&(this.sashOne.show(),this.sashOne.layout()),s&&this.layoutContainers()}e.getContainer().show()},t.prototype.getVisibleEditorCount=function(){return this.visibleEditors.filter(function(e){return!!e}).length},t.prototype.trackFocus=function(e,t){var n=this;this.visibleEditorFocusTrackers[t]&&this.visibleEditorFocusTrackers[t].dispose(),this.visibleEditorFocusTrackers[t]=l.trackFocus(e.getContainer().getHTMLElement()),this.visibleEditorFocusTrackers[t].addFocusListener(function(){
n.onFocusGained(e)})},t.prototype.onFocusGained=function(e){this.setActive(e)},t.prototype.setActive=function(e){var t=this;if(this.lastActiveEditor!==e){if(this.doSetActive(e,this.visibleEditors.indexOf(e)),this.isSiloMinimized(this.lastActivePosition)){this.telemetryService&&this.telemetryService.publicLog("workbenchEditorMaximized");var n=this.totalSize,i=!1;g.POSITIONS.forEach(function(e){t.lastActivePosition!==e&&t.visibleEditors[e]&&(t.silosSize[e]=t.minSize,n-=t.silosSize[e])}),n>this.minSize&&(this.silosSize[this.lastActivePosition]=n,this.sashOne.isHidden()||this.sashOne.layout(),this.sashTwo.isHidden()||this.sashTwo.layout(),i=!0),this.enableMinimizedState(),i&&this.layoutContainers()}this._onGroupFocusChanged.fire()}},t.prototype.focusNextNonMinimized=function(){var e=this;if(!o.isUndefinedOrNull(this.lastActivePosition)&&this.silosMinimized[this.lastActivePosition]){var t=null,n=this.minSize;g.POSITIONS.forEach(function(i){i!==e.lastActivePosition&&e.visibleEditors[i]&&e.silosSize[i]>n&&(t=i,n=e.silosSize[i])}),o.isUndefinedOrNull(t)||this.editorGroupService.focusGroup(t)}},t.prototype.hide=function(e,t,n){var i=M.NONE,r=this.getVisibleEditorCount(),s=!!this.visibleEditors[g.Position.TWO],a=!!this.visibleEditors[g.Position.THREE];if(e!==this.visibleEditors[t])return i;if(this.clearPosition(t),e.getContainer().offDOM().hide(),n&&(1===r?(this.silosSize[t]=0,this.sashOne.hide(),this.sashTwo.hide(),this.layoutContainers()):s&&!a?(this.silosSize[g.Position.ONE]=this.totalSize,this.silosSize[g.Position.TWO]=0,this.sashOne.hide(),this.sashTwo.hide(),t===g.Position.ONE&&(this.rochade(g.Position.TWO,g.Position.ONE),i=M.TWO_TO_ONE),this.layoutContainers()):s&&a&&(this.silosSize[g.Position.ONE]=this.totalSize/2,this.silosSize[g.Position.TWO]=this.totalSize-this.silosSize[g.Position.ONE],this.silosSize[g.Position.THREE]=0,this.sashOne.layout(),this.sashTwo.hide(),t===g.Position.TWO?(this.rochade(g.Position.THREE,g.Position.TWO),i=M.THREE_TO_TWO):t===g.Position.ONE&&(this.rochade(g.Position.TWO,g.Position.ONE),this.rochade(g.Position.THREE,g.Position.TWO),i=M.TWO_AND_THREE_TO_ONE),this.layoutContainers())),this.lastActiveEditor===e&&(this.doSetActive(null,null),n)){var c=void 0;switch(t){case g.Position.ONE:c=s?g.Position.ONE:null;break;case g.Position.TWO:c=g.Position.ONE;break;case g.Position.THREE:c=g.Position.TWO}o.isUndefinedOrNull(c)||this.doSetActive(this.visibleEditors[c],c)}return i},t.prototype.doSetActive=function(e,t){this.lastActivePosition=t,this.lastActiveEditor=e},t.prototype.clearPosition=function(e){this.visibleEditorFocusTrackers[e]&&(this.visibleEditorFocusTrackers[e].dispose(),this.visibleEditorFocusTrackers[e]=null),this.visibleEditors[e]=null},t.prototype.rochade=function(e,t){this.silos[e].child().appendTo(this.silos[t]),this.silos[t].child().appendTo(this.silos[e]);var n=this.visibleEditors[e];n.changePosition(t);var i=this.visibleEditorFocusTrackers[e];this.visibleEditorFocusTrackers[t]=i,this.visibleEditorFocusTrackers[e]=null;var r=this.silosMinimized[e];this.silosMinimized[t]=r,this.silosMinimized[e]=null,this.visibleEditors[t]=n,this.visibleEditors[e]=null,this.lastActivePosition===e&&this.doSetActive(this.lastActiveEditor,t)},t.prototype.move=function(e,t){if(1===Math.abs(e-t))this.silos[e].child().appendTo(this.silos[t]),this.silos[t].child().appendTo(this.silos[e]),this.visibleEditors[e].changePosition(t),this.visibleEditors[t].changePosition(e),this.lastActivePosition===e?this.doSetActive(this.lastActiveEditor,t):this.lastActivePosition===t&&this.doSetActive(this.lastActiveEditor,e);else{var i=void 0,r=void 0,o=void 0;e===g.Position.ONE?(i=g.Position.THREE,r=g.Position.ONE,o=g.Position.TWO):(i=g.Position.TWO,r=g.Position.THREE,o=g.Position.ONE),this.silos[g.Position.ONE].child().appendTo(this.silos[i]),this.silos[g.Position.TWO].child().appendTo(this.silos[r]),this.silos[g.Position.THREE].child().appendTo(this.silos[o]),this.visibleEditors[g.Position.ONE].changePosition(i),this.visibleEditors[g.Position.TWO].changePosition(r),this.visibleEditors[g.Position.THREE].changePosition(o),this.lastActivePosition===g.Position.ONE?this.doSetActive(this.lastActiveEditor,i):this.lastActivePosition===g.Position.TWO?this.doSetActive(this.lastActiveEditor,r):this.lastActivePosition===g.Position.THREE&&this.doSetActive(this.lastActiveEditor,o)}n.move(this.visibleEditors,e,t),n.move(this.visibleEditorFocusTrackers,e,t),n.move(this.silosSize,e,t),n.move(this.silosMinimized,e,t),this.sashOne.isHidden()||this.sashOne.layout(),this.sashTwo.isHidden()||this.sashTwo.layout(),this.layoutContainers(),this.updateStyles()},t.prototype.setGroupOrientation=function(e){this.layoutVertically="horizontal"!==e,this.parent.hasClass("vertical-layout")!==this.layoutVertically&&(this.parent.removeClass("vertical-layout","horizontal-layout"),this.parent.addClass(this.layoutVertically?"vertical-layout":"horizontal-layout"),this.sashOne.setOrientation(this.layoutVertically?a.Orientation.VERTICAL:a.Orientation.HORIZONTAL),this.sashTwo.setOrientation(this.layoutVertically?a.Orientation.VERTICAL:a.Orientation.HORIZONTAL),this.updateStyles(),this.arrangeGroups())},t.prototype.getGroupOrientation=function(){return this.layoutVertically?"vertical":"horizontal"},t.prototype.arrangeGroups=function(e){var t=this;if(this.dimension){var n=this.totalSize,i=this.getVisibleEditorCount();if(!(i<=1)){switch(e){case m.GroupArrangement.MINIMIZE_OTHERS:g.POSITIONS.forEach(function(e){t.visibleEditors[e]&&e!==t.lastActivePosition&&(t.silosSize[e]=t.minSize,n-=t.minSize)}),this.silosSize[this.lastActivePosition]=n;break;case m.GroupArrangement.EVEN:g.POSITIONS.forEach(function(e){t.visibleEditors[e]&&(t.silosSize[e]=n/i)});break;default:var r=0;g.POSITIONS.forEach(function(e){t.visibleEditors[e]&&(t.silosMinimized[e]?(t.silosSize[e]=t.minSize,n-=t.minSize):r+=t.silosSize[e])});var o=n/r;g.POSITIONS.forEach(function(e){t.visibleEditors[e]&&!t.silosMinimized[e]&&(t.silosSize[e]*=o)})}this.enableMinimizedState(),this.layoutControl(this.dimension)}}},t.prototype.getRatio=function(){var e=this,t=[];if(this.dimension){var n=this.totalSize;g.POSITIONS.forEach(function(i){e.visibleEditors[i]&&t.push(e.silosSize[i]/n)})}return t},t.prototype.resizeGroup=function(e,t){var n;!function(e){e[e.ONE=1]="ONE",e[e.TWO=2]="TWO",e[e.THREE=3]="THREE"}(n||(n={}));var i=this.getVisibleEditorCount();if(!(i<=n.ONE)){var r=this.totalSize,o=this.getActivePosition();switch(i){case n.TWO:switch(o){case g.Position.ONE:this.silosSize[g.Position.ONE]=this.boundSiloSize(g.Position.ONE,t),this.silosSize[g.Position.TWO]=r-this.silosSize[g.Position.ONE];break;case g.Position.TWO:this.silosSize[g.Position.TWO]=this.boundSiloSize(g.Position.TWO,t),this.silosSize[g.Position.ONE]=r-this.silosSize[g.Position.TWO]}break;case n.THREE:switch(o){case g.Position.ONE:this.silosSize[g.Position.ONE]=this.boundSiloSize(g.Position.ONE,t),this.distributeRemainingSilosSize(g.Position.TWO,g.Position.THREE,r-this.silosSize[g.Position.ONE]);break;case g.Position.TWO:this.silosSize[g.Position.TWO]=this.boundSiloSize(g.Position.TWO,t),this.distributeRemainingSilosSize(g.Position.ONE,g.Position.THREE,r-this.silosSize[g.Position.TWO]);break;case g.Position.THREE:this.silosSize[g.Position.THREE]=this.boundSiloSize(g.Position.THREE,t),this.distributeRemainingSilosSize(g.Position.ONE,g.Position.TWO,r-this.silosSize[g.Position.THREE])}}this.layout(this.dimension)}},t.prototype.boundSiloSize=function(e,t){var n=this.getVisibleEditorCount(),i=0;return i=Math.max(this.minSize,this.silosSize[e]+t),i=Math.min(i,this.totalSize-this.minSize*(n-1))},t.prototype.distributeRemainingSilosSize=function(e,t,n){var i=0;i=this.silosSize[e]/(this.silosSize[e]+this.silosSize[t]),this.silosSize[e]=i*n,this.silosSize[e]=Math.max(this.silosSize[e],this.minSize),this.silosSize[e]=Math.min(this.silosSize[e],n-this.minSize),this.silosSize[t]=n-this.silosSize[e]},t.prototype.getActiveEditor=function(){return this.lastActiveEditor},t.prototype.getActivePosition=function(){return this.lastActivePosition},t.prototype.create=function(){var e=this;this.parent.addClass(this.layoutVertically?"vertical-layout":"horizontal-layout"),this.enableDropTarget(this.parent.getHTMLElement()),this.silos[g.Position.ONE]=s.$(this.parent).div({class:"one-editor-silo editor-one"}),this.sashOne=new a.Sash(this.parent.getHTMLElement(),this,{baseSize:5,orientation:this.layoutVertically?a.Orientation.VERTICAL:a.Orientation.HORIZONTAL}),this.toUnbind.push(this.sashOne.addListener("start",function(){return e.onSashOneDragStart()})),this.toUnbind.push(this.sashOne.addListener("change",function(t){return e.onSashOneDrag(t)})),this.toUnbind.push(this.sashOne.addListener("end",function(){return e.onSashOneDragEnd()})),this.toUnbind.push(this.sashOne.addListener("reset",function(){return e.onSashOneReset()})),this.sashOne.hide(),this.silos[g.Position.TWO]=s.$(this.parent).div({class:"one-editor-silo editor-two"}),this.sashTwo=new a.Sash(this.parent.getHTMLElement(),this,{baseSize:5,orientation:this.layoutVertically?a.Orientation.VERTICAL:a.Orientation.HORIZONTAL}),this.toUnbind.push(this.sashTwo.addListener("start",function(){return e.onSashTwoDragStart()})),this.toUnbind.push(this.sashTwo.addListener("change",function(t){return e.onSashTwoDrag(t)})),this.toUnbind.push(this.sashTwo.addListener("end",function(){return e.onSashTwoDragEnd()})),this.toUnbind.push(this.sashTwo.addListener("reset",function(){return e.onSashTwoReset()})),this.sashTwo.hide(),this.silos[g.Position.THREE]=s.$(this.parent).div({class:"one-editor-silo editor-three"}),g.POSITIONS.forEach(function(n){var i=e.silos[n],r=s.$(i).div({class:"container"}),o=e.instantiationService.createChild(new _.ServiceCollection([E.IContextKeyService,e.contextKeyService.createScoped(r.getHTMLElement())]));r.setProperty(t.INSTANTIATION_SERVICE_KEY,o);var a=s.$(r).div({class:"title"});e.tabOptions.showTabs&&a.addClass("tabs"),e.tabOptions.showIcons&&a.addClass("show-file-icons"),e.hookTitleDragListener(a),e.createTitleControl(e.stacks.groupAt(n),i,a,o);var l=new c.ProgressBar(s.$(r));e.toUnbind.push(R.attachProgressBarStyler(l,e.themeService)),l.getContainer().hide(),r.setProperty(t.PROGRESS_BAR_CONTROL_KEY,l)}),this.updateStyles()},t.prototype.updateStyles=function(){var t=this;e.prototype.updateStyles.call(this),this.silos.forEach(function(e,n){e.style("background-color",t.getColor(D.editorBackground)),e.style("border-left-color",n>g.Position.ONE?t.getColor(O.EDITOR_GROUP_BORDER)||t.getColor(D.contrastBorder):null),e.style("border-top-color",n>g.Position.ONE?t.getColor(O.EDITOR_GROUP_BORDER)||t.getColor(D.contrastBorder):null)}),g.POSITIONS.forEach(function(e){var n=t.getTitleAreaControl(e).getContainer(),i=t.getColor(O.EDITOR_GROUP_HEADER_TABS_BORDER)||t.getColor(D.contrastBorder);n.style.backgroundColor=t.getColor(t.tabOptions.showTabs?O.EDITOR_GROUP_HEADER_TABS_BACKGROUND:O.EDITOR_GROUP_HEADER_NO_TABS_BACKGROUND),n.style.borderBottomWidth=i&&t.tabOptions.showTabs?"1px":null,n.style.borderBottomStyle=i&&t.tabOptions.showTabs?"solid":null,n.style.borderBottomColor=t.tabOptions.showTabs?i:null})},t.prototype.enableDropTarget=function(e){function n(){c&&(c.destroy(),c=void 0),g.POSITIONS.forEach(function(e){h.silos[e].removeClass("dragged-over")})}function i(e){var t=k.EditorOptions.create({pinned:!0}),n=h.editorService.getActiveEditor(),i=L.getCodeEditor(n);return i&&n.position===m.positionOfGroup(e.group)&&e.editor.matches(n.input)&&(t=k.TextEditorOptions.fromEditor(i,{pinned:!0})),t}function r(t,r,o){h.updateFromDropping(e,!1),n();var s=h.editorService,a=h.editorGroupService,c="number"==typeof o,l=1===m.groups.length?g.Position.TWO:g.Position.THREE,d=I.TitleControl.getDraggedEditor();if(d)if(t.ctrlKey&&!p.isMacintosh||t.altKey&&p.isMacintosh)c?s.openEditor(d.editor,i(d),l).then(function(){o!==l&&a.moveGroup(l,o)}).done(null,u.onUnexpectedError):s.openEditor(d.editor,i(d),r).done(null,u.onUnexpectedError);else{var f=m.positionOfGroup(d.group);c?1===d.group.count?a.moveGroup(f,o):s.openEditor(d.editor,i(d),l).then(function(){o!==l&&a.moveGroup(l,o),a.moveEditor(d.editor,m.positionOfGroup(d.group),o)}).done(null,u.onUnexpectedError):a.moveEditor(d.editor,f,r)}else{var v=x.extractResources(t).filter(function(e){return"file"===e.resource.scheme||"untitled"===e.resource.scheme});if(v.length){var y=v.filter(function(e){return e.isExternal}).map(function(e){return e.resource});y.length&&h.windowService.addToRecentlyOpen(y.map(function(e){return{path:e.fsPath,isFile:!0}})),h.windowService.focusWindow().then(function(){return s.openEditors(v.map(function(e){return{input:{resource:e.resource,options:{pinned:!0}},position:c?l:r}}))}).then(function(){c&&o!==l&&a.moveGroup(l,o),a.focusGroup(c?o:r)}).done(null,u.onUnexpectedError)}}}function o(e,n,i){var r,o=e.target,s="number"==typeof c.getProperty(v),a=e.ctrlKey&&!p.isMacintosh||e.altKey&&p.isMacintosh,l=I.TitleControl.getDraggedEditor(),u=h.layoutVertically?o.clientWidth:o.clientHeight,d=s?u/5:u/10,f=h.layoutVertically?e.offsetX:e.offsetY,y=f<d,b=f+d>u;if(n===g.POSITIONS.length)r=null;else if(!a&&l&&1===l.group.count)switch(m.positionOfGroup(l.group)){case g.Position.ONE:i===g.Position.TWO&&b&&(r=g.Position.TWO);break;case g.Position.TWO:i===g.Position.ONE&&y&&(r=g.Position.ONE);break;default:r=null}else b?r=i===g.Position.ONE?g.Position.TWO:g.Position.THREE:y&&(r=i===g.Position.ONE?g.Position.ONE:g.Position.TWO);var S="number"==typeof r;S?c.setProperty(v,r):c.removeProperty(v),S&&b?c.style(h.layoutVertically?{left:"50%",width:"50%"}:{top:"50%",height:"50%"}):S&&y?c.style(h.layoutVertically?{width:"50%"}:{height:"50%"}):h.layoutVertically?c.style({left:"0",width:"100%"}):c.style({top:h.tabOptions.showTabs?t.EDITOR_TITLE_HEIGHT+"px":0,height:h.tabOptions.showTabs?"calc(100% - "+t.EDITOR_TITLE_HEIGHT+"px":"100%"}),c.style({opacity:1}),g.POSITIONS.forEach(function(e){e===i?h.silos[e].addClass("dragged-over"):h.silos[e].removeClass("dragged-over")})}function a(e){if(!c){var i=h.visibleEditors.filter(function(e){return!!e}).map(function(e){return e.getContainer()});i.forEach(function(a,u){if(a&&l.isAncestor(e,a.getHTMLElement())){var d=h.getColor(D.activeContrastBorder);(c=s.$("div").style({top:h.tabOptions.showTabs?t.EDITOR_TITLE_HEIGHT+"px":0,height:h.tabOptions.showTabs?"calc(100% - "+t.EDITOR_TITLE_HEIGHT+"px":"100%",backgroundColor:h.getColor(O.EDITOR_DRAG_AND_DROP_BACKGROUND),outlineColor:d,outlineOffset:d?"-2px":null,outlineStyle:d?"dashed":null,outlineWidth:d?"2px":null}).id(f)).appendTo(a),c.on(l.EventType.DROP,function(e){l.EventHelper.stop(e,!0),r(e,u,c.getProperty(v))}),c.on(l.EventType.DRAG_OVER,function(e){o(e,i.length,u)}),c.on([l.EventType.DRAG_LEAVE,l.EventType.DRAG_END],function(){n()}),c.once(l.EventType.MOUSE_OVER,function(){setTimeout(function(){n()},300)})}})}}var c,d=this,h=this,f="monaco-workbench-editor-drop-overlay",v="splitToPosition",m=this.editorGroupService.getStacksModel();this.toUnbind.push(l.addDisposableListener(e,l.EventType.DROP,function(t){t.target===e||l.isAncestor(t.target,e)?(l.EventHelper.stop(t,!0),r(t,g.Position.ONE)):d.updateFromDropping(e,!1)}));var y=0;this.toUnbind.push(l.addDisposableListener(e,l.EventType.DRAG_ENTER,function(t){if(I.TitleControl.getDraggedEditor()||t.dataTransfer.types.length){y++,d.updateFromDropping(e,!0);var i=t.target;i&&(c&&i.id!==f&&n(),a(i),c&&d.updateFromDropping(e,!1))}})),this.toUnbind.push(l.addDisposableListener(e,l.EventType.DRAG_LEAVE,function(t){0===--y&&d.updateFromDropping(e,!1)})),[e,window].forEach(function(t){d.toUnbind.push(l.addDisposableListener(t,l.EventType.DRAG_END,function(t){y=0,d.updateFromDropping(e,!1),n()}))})},t.prototype.createTitleControl=function(e,n,i,r){var o=r.createInstance(this.tabOptions.showTabs?w.TabsTitleControl:T.NoTabsTitleControl);o.create(i.getHTMLElement()),o.setContext(e),o.refresh(!0),n.child().setProperty(t.TITLE_AREA_CONTROL_KEY,o)},t.prototype.findPosition=function(e){for(var t=e.parentElement;t;){for(var n=0;n<g.POSITIONS.length;n++){var i=g.POSITIONS[n];if(this.silos[i].getHTMLElement()===t)return i}t=t.parentElement}return null},t.prototype.hookTitleDragListener=function(e){var n=this,i=!1;e.on(l.EventType.MOUSE_DOWN,function(o){var a=n.findPosition(e.getHTMLElement()),c=n.getTitleAreaControl(a);if(c.allowDragging(o.target||o.srcElement)&&(i=!1,c.setDragged(!1),!(n.getVisibleEditorCount()<=1)&&0===o.button)){l.EventHelper.stop(o);var u=s.$("div").style({top:t.EDITOR_TITLE_HEIGHT+"px",height:"calc(100% - "+t.EDITOR_TITLE_HEIGHT+"px)"}).id("monaco-workbench-editor-move-overlay");u.appendTo(n.silos[a]),n.dragging=!0;var d=n.getVisibleEditorCount(),h=new r.StandardMouseEvent(o),p=n.layoutVertically?h.posx:h.posy,f=null;n.silos[a].addClass("drag");var v=s.$(window);v.on(l.EventType.MOUSE_MOVE,function(e){l.EventHelper.stop(e,!1);var t=new r.StandardMouseEvent(e),o=(n.layoutVertically?t.posx:t.posy)-p,s=null;switch(Math.abs(o)>5&&(i=!0),a){case g.Position.ONE:s=Math.max(-1,Math.min(o,n.totalSize-n.silosSize[g.Position.ONE]));break;case g.Position.TWO:s=2===d?Math.min(n.silosSize[g.Position.ONE],Math.max(-1,n.silosSize[g.Position.ONE]+o)):Math.min(n.totalSize-n.silosSize[g.Position.TWO],Math.max(-1,n.silosSize[g.Position.ONE]+o));break;case g.Position.THREE:s=Math.min(n.silosSize[g.Position.ONE]+n.silosSize[g.Position.TWO],Math.max(-1,n.silosSize[g.Position.ONE]+n.silosSize[g.Position.TWO]+o))}if(f!==s){f=s;var c=n.findMoveTarget(a,o);switch(a){case g.Position.ONE:c===g.Position.ONE||null===c?(n.posSilo(g.Position.TWO,n.silosSize[g.Position.ONE]+"px","auto","1px"),n.posSilo(g.Position.THREE,"auto",0)):c===g.Position.TWO?(n.posSilo(g.Position.TWO,0,"auto",0),n.silos[g.Position.TWO].addClass("draggedunder"),n.posSilo(g.Position.THREE,"auto",0)):c===g.Position.THREE&&(n.posSilo(g.Position.TWO,0,"auto"),n.posSilo(g.Position.THREE,"auto",n.silosSize[g.Position.ONE]+"px"),n.silos[g.Position.THREE].addClass("draggedunder"));break;case g.Position.TWO:c===g.Position.ONE?(n.posSilo(g.Position.ONE,n.silosSize[g.Position.TWO]+"px","auto"),n.silos[g.Position.ONE].addClass("draggedunder")):c===g.Position.TWO||null===c?(n.posSilo(g.Position.ONE,0,"auto"),n.posSilo(g.Position.THREE,"auto",0)):c===g.Position.THREE&&(n.posSilo(g.Position.THREE,"auto",n.silosSize[g.Position.TWO]+"px"),n.silos[g.Position.THREE].addClass("draggedunder"),n.posSilo(g.Position.ONE,0,"auto"));break;case g.Position.THREE:c===g.Position.ONE?(n.posSilo(g.Position.ONE,n.silosSize[g.Position.THREE]+"px","auto"),n.silos[g.Position.ONE].addClass("draggedunder")):c===g.Position.TWO?(n.posSilo(g.Position.ONE,0,"auto"),n.posSilo(g.Position.TWO,n.silosSize[g.Position.ONE]+n.silosSize[g.Position.THREE]+"px","auto"),n.silos[g.Position.TWO].addClass("draggedunder")):c!==g.Position.THREE&&null!==c||(n.posSilo(g.Position.ONE,0,"auto"),n.posSilo(g.Position.TWO,n.silosSize[g.Position.ONE]+"px","auto"))}null!==s&&(n.posSilo(a,s+"px"),n.updateFromDragging(a,!0))}}).once(l.EventType.MOUSE_UP,function(e){l.EventHelper.stop(e,!1),u.destroy(),n.dragging=!1,i&&c.setDragged(!0),n.silos[a].removeClass("drag"),n.updateFromDragging(a,!1),g.POSITIONS.forEach(function(e){return n.silos[e].removeClass("draggedunder")}),n.posSilo(g.Position.ONE,0,"auto"),n.posSilo(g.Position.TWO,"auto","auto","1px"),n.posSilo(g.Position.THREE,"auto",0);var t=new r.StandardMouseEvent(e),o=(n.layoutVertically?t.posx:t.posy)-p,s=n.findMoveTarget(a,o);null!==s?n.editorGroupService.moveGroup(a,s):n.layoutContainers(),i||a===n.getActivePosition()||n.editorGroupService.focusGroup(a),v.off("mousemove")})}})},t.prototype.updateFromDragging=function(e,t){var n=this.silos[e];if(n.hasClass("dragging")!==t){var i=null;t?(this.parent.addClass("dragging"),n.addClass("dragging"),i=this.getColor(O.EDITOR_GROUP_BORDER)||this.getColor(D.contrastBorder)):(this.parent.removeClass("dragging"),n.removeClass("dragging")),n.style(this.layoutVertically?"border-left-color":"border-top-color",i),n.style(this.layoutVertically?"border-right-color":"border-bottom-color",i),t||this.updateStyles()}},t.prototype.updateFromDropping=function(e,t){var n=this.stacks.groups.length,i=this.getColor(t?O.EDITOR_DRAG_AND_DROP_BACKGROUND:n>0?O.EDITOR_GROUP_BACKGROUND:null);e.style.backgroundColor=i;var r=this.getColor(D.activeContrastBorder);e.style.outlineColor=t?r:null,e.style.outlineStyle=t&&r?"dashed":null,e.style.outlineWidth=t&&r?"2px":null,e.style.outlineOffset=t&&r?"-2px":null},t.prototype.posSilo=function(e,t,n,i){var r;this.layoutVertically?(r={left:t},"number"!=typeof n&&"string"!=typeof n||(r.right=n),"number"!=typeof i&&"string"!=typeof i||(r.borderLeftWidth=i)):(r={top:t},"number"!=typeof n&&"string"!=typeof n||(r.bottom=n),"number"!=typeof i&&"string"!=typeof i||(r.borderTopWidth=i)),this.silos[e].style(r)},t.prototype.findMoveTarget=function(e,t){var n=this.getVisibleEditorCount();switch(e){case g.Position.ONE:if(2===n&&(t>=this.silosSize[g.Position.ONE]/2||t>=this.silosSize[g.Position.TWO]/2))return g.Position.TWO;if(3===n&&(t>=this.silosSize[g.Position.ONE]/2+this.silosSize[g.Position.TWO]||t>=this.silosSize[g.Position.THREE]/2+this.silosSize[g.Position.TWO]))return g.Position.THREE;if(3===n&&(t>=this.silosSize[g.Position.ONE]/2||t>=this.silosSize[g.Position.TWO]/2))return g.Position.TWO;break;case g.Position.TWO:if(2===n&&t>0)return null;if(2===n&&(Math.abs(t)>=this.silosSize[g.Position.TWO]/2||Math.abs(t)>=this.silosSize[g.Position.ONE]/2))return g.Position.ONE;if(3===n&&(t<0&&Math.abs(t)>=this.silosSize[g.Position.TWO]/2||t<0&&Math.abs(t)>=this.silosSize[g.Position.ONE]/2))return g.Position.ONE;if(3===n&&(t>0&&Math.abs(t)>=this.silosSize[g.Position.TWO]/2||t>0&&Math.abs(t)>=this.silosSize[g.Position.THREE]/2))return g.Position.THREE;break;case g.Position.THREE:if(t>0)return null;if(Math.abs(t)>=this.silosSize[g.Position.THREE]/2+this.silosSize[g.Position.TWO]||Math.abs(t)>=this.silosSize[g.Position.ONE]/2+this.silosSize[g.Position.TWO])return g.Position.ONE;if(Math.abs(t)>=this.silosSize[g.Position.THREE]/2||Math.abs(t)>=this.silosSize[g.Position.TWO]/2)return g.Position.TWO}return null},t.prototype.centerSash=function(e,t){var n=this.silosSize[e]+this.silosSize[t],i=n/2;this.silosSize[e]=i,this.silosSize[t]=n-i,this.layoutContainers()},t.prototype.onSashOneDragStart=function(){this.startSiloOneSize=this.silosSize[g.Position.ONE]},t.prototype.onSashOneDrag=function(e){var t=this.silosSize[g.Position.ONE],n=this.layoutVertically?e.currentX-e.startX:e.currentY-e.startY,i=this.startSiloOneSize+n;this.sashTwo.isHidden()?(i<this.minSize?i=this.minSize:this.totalSize-i<this.minSize?i=this.totalSize-this.minSize:i-this.snapToMinimizeThresholdSize<=this.minSize?i=this.minSize:this.totalSize-i-this.snapToMinimizeThresholdSize<=this.minSize&&(i=this.totalSize-this.minSize),this.silosSize[g.Position.ONE]=i,this.silosSize[g.Position.TWO]=this.totalSize-i):(i<this.minSize?i=this.minSize:this.totalSize-i-this.silosSize[g.Position.THREE]<this.minSize?(this.totalSize-i-this.silosSize[g.Position.TWO]<this.minSize?(i=this.totalSize-2*this.minSize,this.silosSize[g.Position.TWO]=this.silosSize[g.Position.THREE]=this.minSize):this.totalSize-i-this.silosSize[g.Position.TWO]-this.snapToMinimizeThresholdSize<=this.minSize?this.silosSize[g.Position.THREE]=this.minSize:this.silosSize[g.Position.THREE]=this.silosSize[g.Position.THREE]-(i-t),this.sashTwo.layout()):i-this.snapToMinimizeThresholdSize<=this.minSize?i=this.minSize:this.totalSize-this.silosSize[g.Position.THREE]-i-this.snapToMinimizeThresholdSize<=this.minSize&&(i=this.totalSize-this.silosSize[g.Position.THREE]-this.minSize),this.silosSize[g.Position.ONE]=i,this.silosSize[g.Position.TWO]=this.totalSize-this.silosSize[g.Position.ONE]-this.silosSize[g.Position.THREE]),this.enableMinimizedState(),this.layoutContainers()},t.prototype.onSashOneDragEnd=function(){this.sashOne.layout(),this.sashTwo.layout(),this.focusNextNonMinimized()},t.prototype.onSashOneReset=function(){this.centerSash(g.Position.ONE,g.Position.TWO),this.sashOne.layout()},t.prototype.onSashTwoDragStart=function(){this.startSiloThreeSize=this.silosSize[g.Position.THREE]},t.prototype.onSashTwoDrag=function(e){var t=this.silosSize[g.Position.THREE],n=this.layoutVertically?-e.currentX+e.startX:-e.currentY+e.startY,i=this.startSiloThreeSize+n;i<this.minSize?i=this.minSize:this.totalSize-i-this.silosSize[g.Position.ONE]<this.minSize?(this.totalSize-i-this.silosSize[g.Position.TWO]<this.minSize?(i=this.totalSize-2*this.minSize,this.silosSize[g.Position.ONE]=this.silosSize[g.Position.TWO]=this.minSize):this.totalSize-i-this.silosSize[g.Position.TWO]-this.snapToMinimizeThresholdSize<=this.minSize?this.silosSize[g.Position.ONE]=this.minSize:this.silosSize[g.Position.ONE]=this.silosSize[g.Position.ONE]-(i-t),this.sashOne.layout()):i-this.snapToMinimizeThresholdSize<=this.minSize?i=this.minSize:this.totalSize-this.silosSize[g.Position.ONE]-i-this.snapToMinimizeThresholdSize<=this.minSize&&(i=this.totalSize-this.silosSize[g.Position.ONE]-this.minSize),this.silosSize[g.Position.THREE]=i,this.silosSize[g.Position.TWO]=this.totalSize-this.silosSize[g.Position.ONE]-this.silosSize[g.Position.THREE],this.enableMinimizedState(),this.layoutContainers()},t.prototype.onSashTwoDragEnd=function(){this.sashOne.layout(),this.sashTwo.layout(),this.focusNextNonMinimized()},t.prototype.onSashTwoReset=function(){this.centerSash(g.Position.TWO,g.Position.THREE),this.sashTwo.layout()},t.prototype.getVerticalSashTop=function(e){return 0},t.prototype.getVerticalSashLeft=function(e){return e===this.sashOne?this.silosSize[g.Position.ONE]:this.silosSize[g.Position.TWO]+this.silosSize[g.Position.ONE]},t.prototype.getVerticalSashHeight=function(e){return this.dimension.height},t.prototype.getHorizontalSashTop=function(e){return e===this.sashOne?this.silosSize[g.Position.ONE]:this.silosSize[g.Position.TWO]+this.silosSize[g.Position.ONE]},t.prototype.getHorizontalSashLeft=function(e){return 0},t.prototype.getHorizontalSashWidth=function(e){return this.dimension.width},t.prototype.isDragging=function(){return this.dragging},t.prototype.layout=function(e){e instanceof s.Dimension?this.layoutControl(e):this.layoutEditor(e)},t.prototype.layoutControl=function(e){var t=this,n=this.dimension;this.dimension=e,n&&n.width&&n.height||(n=e);var i=0,r=!1,s=this.layoutVertically?n.width:n.height;if(g.POSITIONS.forEach(function(e){if(t.visibleEditors[e]){if(!t.isSiloMinimized(e)){var n=void 0;t.silosInitialRatio&&o.isNumber(t.silosInitialRatio[e])?(n=t.silosInitialRatio[e],delete t.silosInitialRatio[e],r=!0):n=t.silosSize[e]/s,t.silosSize[e]=Math.max(Math.round(t.totalSize*n),t.minSize)}i+=t.silosSize[e]}}),r&&this.enableMinimizedState(),i>0){var a=i-this.totalSize;if(a<0){var c=null;g.POSITIONS.forEach(function(e){t.visibleEditors[e]&&null===c&&!t.isSiloMinimized(e)&&(c=e)}),null===c&&(c=g.Position.ONE),this.silosSize[c]-=a}else a>0&&g.POSITIONS.forEach(function(e){var n=t.silosSize[e]-t.minSize;n>=a?(t.silosSize[e]-=a,a=0):n>0&&(t.silosSize[e]-=n,a-=n)})}this.sashOne.layout(),this.sashTwo.layout(),this.layoutContainers()},t.prototype.layoutContainers=function(){var e=this;g.POSITIONS.forEach(function(t){var n=e.layoutVertically?e.silosSize[t]:e.dimension.width,i=e.layoutVertically?e.dimension.height:e.silosSize[t];e.silos[t].size(n,i)}),this.layoutVertically?this.silos[g.Position.TWO].position(0,null,null,this.silosSize[g.Position.ONE]):this.silos[g.Position.TWO].position(this.silosSize[g.Position.ONE],null,null,0),g.POSITIONS.forEach(function(t){e.visibleEditors[t]&&e.silos[t].isHidden()?e.silos[t].show():e.visibleEditors[t]||e.silos[t].isHidden()||e.silos[t].hide()}),g.POSITIONS.forEach(function(t){e.layoutEditor(t)}),g.POSITIONS.forEach(function(t){e.getTitleAreaControl(t).layout()}),this.updateMinimizedState()},t.prototype.layoutEditor=function(e){var n=this.silosSize[e];if(n&&this.visibleEditors[e]){var i=this.layoutVertically?n:this.dimension.width,r=(this.layoutVertically?this.dimension.height:this.silosSize[e])-t.EDITOR_TITLE_HEIGHT;e!==g.Position.ONE&&(this.layoutVertically?i--:r--),this.visibleEditors[e].layout(new s.Dimension(i,r))}},t.prototype.getInstantiationService=function(e){return this.getFromContainer(e,t.INSTANTIATION_SERVICE_KEY)},t.prototype.getProgressBar=function(e){return this.getFromContainer(e,t.PROGRESS_BAR_CONTROL_KEY)},t.prototype.getTitleAreaControl=function(e){return this.getFromContainer(e,t.TITLE_AREA_CONTROL_KEY)},t.prototype.getFromContainer=function(e,t){var n=this.silos[e];return n?n.child().getProperty(t):void 0},t.prototype.updateProgress=function(e,t){var n=this.getProgressBar(e);if(n)switch(t){case N.INFINITE:n.infinite().getContainer().show();break;case N.DONE:n.done().getContainer().hide();break;case N.STOP:n.stop().getContainer().hide()}},t.prototype.dispose=function(){var t=this;e.prototype.dispose.call(this),g.POSITIONS.forEach(function(e){t.clearPosition(e)}),g.POSITIONS.forEach(function(e){t.getTitleAreaControl(e).dispose(),t.getProgressBar(e).dispose()}),this.sashOne.dispose(),this.sashTwo.dispose(),this.silos.forEach(function(e){e.destroy()}),this.lastActiveEditor=null,this.lastActivePosition=null,this.visibleEditors=null},t}(O.Themable);F.TITLE_AREA_CONTROL_KEY="__titleAreaControl",F.PROGRESS_BAR_CONTROL_KEY="__progressBar",F.INSTANTIATION_SERVICE_KEY="__instantiationService",F.MIN_EDITOR_WIDTH=170,F.MIN_EDITOR_HEIGHT=70,F.EDITOR_TITLE_HEIGHT=35,F.SNAP_TO_MINIMIZED_THRESHOLD_WIDTH=50,F.SNAP_TO_MINIMIZED_THRESHOLD_HEIGHT=20,F=v([y(2,f.IWorkbenchEditorService),y(3,m.IEditorGroupService),y(4,b.ITelemetryService),y(5,E.IContextKeyService),y(6,C.IExtensionService),y(7,S.IInstantiationService),y(8,A.IWindowService),y(9,P.IThemeService)],F),t.EditorGroupsControl=F}),define(u[373],d([1,0,4,522,26,21,7,24,241,30,159,190,389,428,368,222,43,19,31,146,6,118,22,13,45,42,51,1010]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var L=function(e){function t(n,i,r,o,s,a,c,l,u){var d=e.call(this,t.ID,n,i,r,o,a,l,u,c)||this;return d.editorService=s,d}return h(t,e),t.prototype.getTitle=function(){return this.input?this.input.getName():i.localize(0,null)},t.prototype.createEditorControl=function(e,t){var i=this;this.nextDiffAction=new P(this,!0),this.previousDiffAction=new P(this,!1);var r=this.instantiationService.createInstance(m.DelegatingWorkbenchEditorService);return r.setEditorOpenHandler(function(e,t,r){if(a.isUndefinedOrNull(r)||!1===r||r===i.position){var o=i.input;if(e&&t&&o){if(e.matches(o.modifiedInput))return i.setInput(i.input,t).then(function(){return i});if(e.matches(o.originalInput)){var s=i.getControl().getOriginalEditor();if(t instanceof l.TextEditorOptions)return t.apply(s),n.TPromise.as(i)}}}return n.TPromise.as(null)}),this.instantiationService.createChild(new w.ServiceCollection([I.IWorkbenchEditorService,r])).createInstance(f.DiffEditorWidget,e.getHTMLElement(),t)},t.prototype.setInput=function(t,i){var r=this,o=this.input;if(e.prototype.setInput.call(this,t,i),!(i&&i.forceOpen)&&t.matches(o)){var s=i;return s&&a.isFunction(s.apply)&&s.apply(this.getControl()),n.TPromise.as(null)}return this.diffNavigator&&this.diffNavigator.dispose(),t.resolve(!0).then(function(e){if(!(e instanceof g.TextDiffEditorModel)&&r.openAsBinary(t,i))return null;if(!r.input||r.input!==t)return null;var n=r.getControl();n.setModel(e.textDiffEditorModel);var o=!0;if(i instanceof l.TextDiffEditorOptions){var s=i;o=a.isUndefinedOrNull(s.autoRevealFirstChange)?o:s.autoRevealFirstChange}r.diffNavigator=new p.DiffNavigator(n,{alwaysRevealFirst:o}),r.diffNavigator.addListener(p.DiffNavigator.Events.UPDATED,function(){r.nextDiffAction.updateEnablement(),r.previousDiffAction.updateEnablement()}),i&&a.isFunction(i.apply)&&i.apply(n)},function(e){return r.isFileBinaryError(e)&&r.openAsBinary(t,i)?null:n.TPromise.wrapError(e)})},t.prototype.openAsBinary=function(e,t){if(e instanceof d.DiffEditorInput){var n=e.originalInput,i=e.modifiedInput,r=new d.DiffEditorInput(e.getName(),e.getDescription(),n,i,!0);return a.isFunction(n.setForceOpenAsBinary)&&n.setForceOpenAsBinary(),a.isFunction(i.setForceOpenAsBinary)&&i.setForceOpenAsBinary(),this.editorService.openEditor(r,t,this.position).done(null,s.onUnexpectedError),!0}return!1},t.prototype.computeConfiguration=function(t){var n=e.prototype.computeConfiguration.call(this,t);return a.isObject(t.diffEditor)&&r.mixin(n,t.diffEditor),n},t.prototype.getConfigurationOverrides=function(){var t=e.prototype.getConfigurationOverrides.call(this);return t.readOnly=this.isReadOnly(),t},t.prototype.getAriaLabel=function(){var e=this.input&&this.input.getName();return this.isReadOnly()?e?i.localize(1,null,e):i.localize(2,null):e?i.localize(3,null,e):i.localize(4,null)},t.prototype.isReadOnly=function(){var e=this.input;return e instanceof d.DiffEditorInput&&e.modifiedInput instanceof u.ResourceEditorInput},t.prototype.isFileBinaryError=function(e){var t=this;return a.isArray(e)?e.some(function(e){return t.isFileBinaryError(e)}):e.fileOperationResult===b.FileOperationResult.FILE_IS_BINARY},t.prototype.clearInput=function(){this.diffNavigator&&this.diffNavigator.dispose(),this.getControl().setModel(null),e.prototype.clearInput.call(this)},t.prototype.getDiffNavigator=function(){return this.diffNavigator},t.prototype.getActions=function(){return[this.previousDiffAction,this.nextDiffAction]},t.prototype.getSecondaryActions=function(){var t=e.prototype.getSecondaryActions.call(this),n=new D(this);return n.order=50,t.push.apply(t,[n]),t},t.prototype.getControl=function(){return e.prototype.getControl.call(this)},t.prototype.dispose=function(){this.diffNavigator&&this.diffNavigator.dispose(),e.prototype.dispose.call(this)},t}(c.BaseTextEditor);L.ID=l.TEXT_DIFF_EDITOR_ID,L=v([y(0,S.ITelemetryService),y(1,C.IInstantiationService),y(2,_.IStorageService),y(3,E.ITextResourceConfigurationService),y(4,I.IWorkbenchEditorService),y(5,T.IThemeService),y(6,k.IEditorGroupService),y(7,x.IModeService),y(8,A.ITextFileService)],L),t.TextDiffEditor=L;var P=function(e){function t(n,r){var o=e.call(this,r?t.ID_NEXT:t.ID_PREV)||this;return o.editor=n,o.next=r,o.label=o.next?i.localize(5,null):i.localize(6,null),o.class=o.next?"textdiff-editor-action next":"textdiff-editor-action previous",o.enabled=!1,o}return h(t,e),t.prototype.run=function(){return this.next?this.editor.getDiffNavigator().next():this.editor.getDiffNavigator().previous(),null},t.prototype.updateEnablement=function(){this.enabled=this.editor.getDiffNavigator().canNavigate()},t}(o.Action);P.ID_NEXT="workbench.action.compareEditor.nextChange",P.ID_PREV="workbench.action.compareEditor.previousChange";var D=function(e){function t(n){var i=e.call(this,t.ID)||this;return i.editor=n,i}return h(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return t.isInlineMode(this.editor)?t.SIDEBYSIDE_LABEL:t.INLINE_LABEL},enumerable:!0,configurable:!0}),t.prototype.run=function(){var e=t.isInlineMode(this.editor);return this.editor.getControl().updateOptions({renderSideBySide:e}),n.TPromise.as(!0)},t.isInlineMode=function(e){var t=e.getControl();return t&&!t.renderSideBySide},t}(o.Action);D.ID="toggle.diff.editorMode",D.INLINE_LABEL=i.localize(7,null),D.SIDEBYSIDE_LABEL=i.localize(8,null)}),define(u[1280],d([1,0,517,24,72,45,30,22,63,48,373,32,20,21]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p){"use strict";function f(){r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:s.EditorCommands.MoveActiveEditor,weight:r.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:l.EditorContextKeys.textFocus,primary:null,handler:function(e,t){return g(t,e)},description:{description:n.localize(0,null),args:[{name:n.localize(1,null),description:n.localize(2,null),constraint:_}]}})}function g(e,t){void 0===e&&(e={});var n=t.get(o.IEditorGroupService).getTabOptions().showTabs;e.to=e.to||s.ActiveEditorMovePositioning.RIGHT,e.by=n?e.by||s.ActiveEditorMovePositioningBy.TAB:s.ActiveEditorMovePositioningBy.GROUP,e.value=i.isUndefined(e.value)?1:e.value;var r=t.get(a.IWorkbenchEditorService).getActiveEditor();if(r)switch(e.by){case s.ActiveEditorMovePositioningBy.TAB:return v(e,r,t);case s.ActiveEditorMovePositioningBy.GROUP:return m(e,r,t)}}function v(e,t,n){var i=n.get(o.IEditorGroupService),r=i.getStacksModel().groupAt(t.position),a=r.indexOf(t.input);switch(e.to){case s.ActiveEditorMovePositioning.FIRST:a=0;break;case s.ActiveEditorMovePositioning.LAST:a=r.count-1;break;case s.ActiveEditorMovePositioning.LEFT:a-=e.value;break;case s.ActiveEditorMovePositioning.RIGHT:a+=e.value;break;case s.ActiveEditorMovePositioning.CENTER:a=Math.round(r.count/2)-1;break;case s.ActiveEditorMovePositioning.POSITION:a=e.value-1}a=a<0?0:a>=r.count?r.count-1:a,i.moveEditor(t.input,r,r,{index:a})}function m(e,t,n){var i=t.position;switch(e.to){case s.ActiveEditorMovePositioning.LEFT:i-=1;break;case s.ActiveEditorMovePositioning.RIGHT:i+=1;break;case s.ActiveEditorMovePositioning.FIRST:i=c.Position.ONE;break;case s.ActiveEditorMovePositioning.LAST:i=c.Position.THREE;break;case s.ActiveEditorMovePositioning.CENTER:i=c.Position.TWO;break;case s.ActiveEditorMovePositioning.POSITION:i=e.value-1}i=-1!==c.POSITIONS.indexOf(i)?i:t.position,n.get(o.IEditorGroupService).moveEditor(t.input,t.position,i)}function y(){function e(e,t){var n=e.get(a.IWorkbenchEditorService),i=[n.getActiveEditor()].concat(n.getVisibleEditors()).filter(function(e){return e instanceof u.TextDiffEditor});i.length>0&&(t?i[0].getDiffNavigator().next():i[0].getDiffNavigator().previous())}r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.compareEditor.nextChange",weight:r.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:s.TextCompareEditorVisible,primary:null,handler:function(t){return e(t,!0)}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.compareEditor.previousChange",weight:r.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:s.TextCompareEditorVisible,primary:null,handler:function(t){return e(t,!1)}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"_workbench.printStacksModel",weight:r.KeybindingsRegistry.WEIGHT.workbenchContrib(0),handler:function(e){console.log(e.get(o.IEditorGroupService).getStacksModel().toString()+"\n\n")},when:void 0,primary:void 0}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"_workbench.validateStacksModel",weight:r.KeybindingsRegistry.WEIGHT.workbenchContrib(0),handler:function(e){e.get(o.IEditorGroupService).getStacksModel().validate()},when:void 0,primary:void 0})}function b(){var e={"workbench.action.files.newFile":"explorer.newFile","workbench.action.files.newFolder":"explorer.newFolder"};Object.keys(e).forEach(function(t){var i=e[t];r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:t,weight:r.KeybindingsRegistry.WEIGHT.workbenchContrib(0),handler:function(e){var r=e.get(h.IMessageService),o=e.get(d.ICommandService);r.show(h.Severity.Warning,{message:n.localize(3,null,t,i),actions:[new p.Action("openKeybindings",n.localize(4,null),null,!0,function(){return o.executeCommand("workbench.action.openGlobalKeybindings")}),h.CloseAction]})},when:void 0,primary:void 0})})}function S(){function e(e){switch(e){case 0:return 21;case 1:return 22;case 2:return 23;case 3:return 24;case 4:return 25;case 5:return 26;case 6:return 27;case 7:return 28;case 8:return 29;case 9:return 30}}for(var t=0;t<9;t++)!function(t){var n=t,i=t+1;r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.openEditorAtIndex"+i,weight:r.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:void 0,primary:512|e(i),mac:{primary:256|e(i)},handler:function(e){var t=e.get(a.IWorkbenchEditorService),i=e.get(o.IEditorGroupService),r=t.getActiveEditor();if(r){var s=i.getStacksModel().groupAt(r.position).getEditor(n);if(s)return t.openEditor(s)}}})}(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.setup=function(){f(),y(),S(),b()};var _=function(e){if(!i.isObject(e))return!1;var t=e;return!!i.isString(t.to)&&(!(!i.isUndefined(t.by)&&!i.isString(t.by))&&!(!i.isUndefined(t.value)&&!i.isNumber(t.value)))}}),define(u[1281],d([1,0,15,515,16,84,218,98,30,355,341,190,245,159,6,373,51,339,1271,50,88,35,95,60,206,1280,22,169,72,17]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A,L,P,D){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.Registry.as(c.Extensions.Editors).registerEditor(new a.EditorDescriptor(l.TextResourceEditor.ID,i.localize(0,null),"vs/workbench/browser/parts/editor/textResourceEditor","TextResourceEditor"),[new I.SyncDescriptor(p.UntitledEditorInput),new I.SyncDescriptor(f.ResourceEditorInput)]),n.Registry.as(c.Extensions.Editors).registerEditor(new a.EditorDescriptor(m.TextDiffEditor.ID,i.localize(1,null),"vs/workbench/browser/parts/editor/textDiffEditor","TextDiffEditor"),[new I.SyncDescriptor(d.DiffEditorInput)]),n.Registry.as(c.Extensions.Editors).registerEditor(new a.EditorDescriptor(S.BinaryResourceDiffEditor.ID,i.localize(2,null),"vs/workbench/browser/parts/editor/binaryDiffEditor","BinaryResourceDiffEditor"),[new I.SyncDescriptor(d.DiffEditorInput)]),n.Registry.as(c.Extensions.Editors).registerEditor(new a.EditorDescriptor(u.SideBySideEditor.ID,i.localize(3,null),"vs/workbench/browser/parts/editor/sideBySideEditor","SideBySideEditor"),[new I.SyncDescriptor(c.SideBySideEditorInput)]);var O=function(){function e(e){this.textFileService=e}return e.prototype.serialize=function(e){if(!this.textFileService.isHotExitEnabled)return null;var t=e,n=t.getResource();t.hasAssociatedFilePath&&(n=r.default.file(n.fsPath));var i={resource:n.toString(),resourceJSON:n.toJSON(),modeId:t.getModeId(),encoding:t.getEncoding()};return JSON.stringify(i)},e.prototype.deserialize=function(e,t){return e.invokeFunction(function(e){var n=JSON.parse(t),i=n.resourceJSON?r.default.revive(n.resourceJSON):r.default.parse(n.resource),o="file"===i.scheme?i.fsPath:void 0,s=n.modeId,a=n.encoding;return e.get(A.IWorkbenchEditorService).createInput({resource:i,filePath:o,language:s,encoding:a})})},e}();O=v([y(0,b.ITextFileService)],O),n.Registry.as(c.Extensions.Editors).registerEditorInputFactory(p.UntitledEditorInput.ID,O);var R=function(){function e(){}return e.prototype.serialize=function(e){var t=e;if(t.details&&t.master){var i=n.Registry.as(c.Extensions.Editors),r=i.getEditorInputFactory(t.details.getTypeId()),o=i.getEditorInputFactory(t.master.getTypeId());if(r&&o){var s=r.serialize(t.details),a=o.serialize(t.master);if(s&&a)return JSON.stringify({name:t.getName(),description:t.getDescription(),detailsSerialized:s,masterSerialized:a,detailsTypeId:t.details.getTypeId(),masterTypeId:t.master.getTypeId()})}}return null},e.prototype.deserialize=function(e,t){var i=JSON.parse(t),r=n.Registry.as(c.Extensions.Editors),o=r.getEditorInputFactory(i.detailsTypeId),s=r.getEditorInputFactory(i.masterTypeId);if(o&&s){var a=o.deserialize(e,i.detailsSerialized),l=s.deserialize(e,i.masterSerialized);if(a&&l)return new c.SideBySideEditorInput(i.name,i.description,a,l)}return null},e}();n.Registry.as(c.Extensions.Editors).registerEditorInputFactory(c.SideBySideEditorInput.ID,R),n.Registry.as(s.Extensions.Statusbar).registerStatusbarItem(new s.StatusbarItemDescriptor(_.EditorStatus,s.StatusbarAlignment.RIGHT,100));var M=n.Registry.as(E.Extensions.WorkbenchActions);M.registerWorkbenchAction(new w.SyncActionDescriptor(_.ChangeModeAction,_.ChangeModeAction.ID,_.ChangeModeAction.LABEL,{primary:T.KeyChord(2089,43)}),"Change Language Mode"),M.registerWorkbenchAction(new w.SyncActionDescriptor(_.ChangeEOLAction,_.ChangeEOLAction.ID,_.ChangeEOLAction.LABEL),"Change End of Line Sequence"),M.registerWorkbenchAction(new w.SyncActionDescriptor(_.ChangeEncodingAction,_.ChangeEncodingAction.ID,_.ChangeEncodingAction.LABEL),"Change File Encoding");var N=function(e){function t(t){var n=e.call(this)||this;return n.instantiationService=t,n}return h(t,e),t.prototype.hasActions=function(e){return!!this.getEntry(e)},t.prototype.getActions=function(e){var t=[];return this.getEntry(e)&&(this.openToSideActionInstance?this.openToSideActionInstance.updateClass():this.openToSideActionInstance=this.instantiationService.createInstance(k.OpenToSideAction),t.push(this.openToSideActionInstance)),t},t.prototype.getEntry=function(e){return e&&e.element?k.toEditorQuickOpenEntry(e.element):null},t}(C.ActionBarContributor);N=v([y(0,g.IInstantiationService)],N),t.QuickOpenActionContributor=N,n.Registry.as(C.Extensions.Actionbar).registerActionBarContributor(C.Scope.VIEWER,N);var F=D.ContextKeyExpr.and(L.inQuickOpenContext,D.ContextKeyExpr.has("inEditorsPicker"));n.Registry.as(o.Extensions.Quickopen).registerQuickOpenHandler(new o.QuickOpenHandlerDescriptor("vs/workbench/browser/parts/editor/editorPicker","GroupOnePicker",k.NAVIGATE_IN_GROUP_ONE_PREFIX,"inEditorsPicker",[{prefix:k.NAVIGATE_IN_GROUP_ONE_PREFIX,needsEditor:!1,description:i.localize(4,null)},{prefix:k.NAVIGATE_IN_GROUP_TWO_PREFIX,needsEditor:!1,description:i.localize(5,null)},{prefix:k.NAVIGATE_IN_GROUP_THREE_PREFIX,needsEditor:!1,description:i.localize(6,null)}])),n.Registry.as(o.Extensions.Quickopen).registerQuickOpenHandler(new o.QuickOpenHandlerDescriptor("vs/workbench/browser/parts/editor/editorPicker","GroupTwoPicker",k.NAVIGATE_IN_GROUP_TWO_PREFIX,"inEditorsPicker",[])),n.Registry.as(o.Extensions.Quickopen).registerQuickOpenHandler(new o.QuickOpenHandlerDescriptor("vs/workbench/browser/parts/editor/editorPicker","GroupThreePicker",k.NAVIGATE_IN_GROUP_THREE_PREFIX,"inEditorsPicker",[])),n.Registry.as(o.Extensions.Quickopen).registerQuickOpenHandler(new o.QuickOpenHandlerDescriptor("vs/workbench/browser/parts/editor/editorPicker","AllEditorsPicker",k.NAVIGATE_ALL_EDITORS_GROUP_PREFIX,"inEditorsPicker",[{prefix:k.NAVIGATE_ALL_EDITORS_GROUP_PREFIX,needsEditor:!1,description:i.localize(7,null)}]));var W=i.localize(8,null);M.registerWorkbenchAction(new w.SyncActionDescriptor(k.OpenNextEditorInGroup,k.OpenNextEditorInGroup.ID,k.OpenNextEditorInGroup.LABEL),"View: Open Next Editor in Group",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.OpenPreviousEditorInGroup,k.OpenPreviousEditorInGroup.ID,k.OpenPreviousEditorInGroup.LABEL),"View: Open Previous Editor in Group",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.OpenNextRecentlyUsedEditorAction,k.OpenNextRecentlyUsedEditorAction.ID,k.OpenNextRecentlyUsedEditorAction.LABEL),"View: Open Next Recently Used Editor",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.OpenPreviousRecentlyUsedEditorAction,k.OpenPreviousRecentlyUsedEditorAction.ID,k.OpenPreviousRecentlyUsedEditorAction.LABEL),"View: Open Previous Recently Used Editor",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.ShowAllEditorsAction,k.ShowAllEditorsAction.ID,k.ShowAllEditorsAction.LABEL,{primary:T.KeyChord(2089,2094),mac:{primary:2562}}),"View: Show All Editors",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.ShowEditorsInGroupOneAction,k.ShowEditorsInGroupOneAction.ID,k.ShowEditorsInGroupOneAction.LABEL),"View: Show Editors in First Group",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.ShowEditorsInGroupTwoAction,k.ShowEditorsInGroupTwoAction.ID,k.ShowEditorsInGroupTwoAction.LABEL),"View: Show Editors in Second Group",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.ShowEditorsInGroupThreeAction,k.ShowEditorsInGroupThreeAction.ID,k.ShowEditorsInGroupThreeAction.LABEL),"View: Show Editors in Third Group",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.OpenNextEditor,k.OpenNextEditor.ID,k.OpenNextEditor.LABEL,{primary:2060,mac:{primary:2577,secondary:[3161]}}),"View: Open Next Editor",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.OpenPreviousEditor,k.OpenPreviousEditor.ID,k.OpenPreviousEditor.LABEL,{primary:2059,mac:{primary:2575,secondary:[3159]}}),"View: Open Previous Editor",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.ReopenClosedEditorAction,k.ReopenClosedEditorAction.ID,k.ReopenClosedEditorAction.LABEL,{primary:3122}),"View: Reopen Closed Editor",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.ClearRecentFilesAction,k.ClearRecentFilesAction.ID,k.ClearRecentFilesAction.LABEL),"View: Clear Recent Files",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.KeepEditorAction,k.KeepEditorAction.ID,k.KeepEditorAction.LABEL,{primary:T.KeyChord(2089,3)}),"View: Keep Editor",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.CloseAllEditorsAction,k.CloseAllEditorsAction.ID,k.CloseAllEditorsAction.LABEL,{primary:T.KeyChord(2089,2101)}),"View: Close All Editors",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.CloseLeftEditorsInGroupAction,k.CloseLeftEditorsInGroupAction.ID,k.CloseLeftEditorsInGroupAction.LABEL),"View: Close Editors to the Left",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.CloseRightEditorsInGroupAction,k.CloseRightEditorsInGroupAction.ID,k.CloseRightEditorsInGroupAction.LABEL),"View: Close Editors to the Right",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.CloseUnmodifiedEditorsInGroupAction,k.CloseUnmodifiedEditorsInGroupAction.ID,k.CloseUnmodifiedEditorsInGroupAction.LABEL,{primary:T.KeyChord(2089,51)}),"View: Close Unmodified Editors in Group",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.CloseEditorsInGroupAction,k.CloseEditorsInGroupAction.ID,k.CloseEditorsInGroupAction.LABEL,{primary:T.KeyChord(2089,53)}),"View: Close All Editors in Group",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.CloseOtherEditorsInGroupAction,k.CloseOtherEditorsInGroupAction.ID,k.CloseOtherEditorsInGroupAction.LABEL,{primary:null,mac:{primary:2610}}),"View: Close Other Editors",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.CloseEditorsInOtherGroupsAction,k.CloseEditorsInOtherGroupsAction.ID,k.CloseEditorsInOtherGroupsAction.LABEL),"View: Close Editors in Other Groups",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.SplitEditorAction,k.SplitEditorAction.ID,k.SplitEditorAction.LABEL,{primary:2136}),"View: Split Editor",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.JoinTwoGroupsAction,k.JoinTwoGroupsAction.ID,k.JoinTwoGroupsAction.LABEL),"View: Join Editors of Two Groups",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.NavigateBetweenGroupsAction,k.NavigateBetweenGroupsAction.ID,k.NavigateBetweenGroupsAction.LABEL),"View: Navigate Between Editor Groups",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.FocusActiveGroupAction,k.FocusActiveGroupAction.ID,k.FocusActiveGroupAction.LABEL),"View: Focus Active Editor Group",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.FocusFirstGroupAction,k.FocusFirstGroupAction.ID,k.FocusFirstGroupAction.LABEL,{primary:2070}),"View: Focus First Editor Group",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.FocusSecondGroupAction,k.FocusSecondGroupAction.ID,k.FocusSecondGroupAction.LABEL,{primary:2071}),"View: Focus Second Editor Group",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.FocusThirdGroupAction,k.FocusThirdGroupAction.ID,k.FocusThirdGroupAction.LABEL,{primary:2072}),"View: Focus Third Editor Group",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.FocusLastEditorInStackAction,k.FocusLastEditorInStackAction.ID,k.FocusLastEditorInStackAction.LABEL,{primary:533,mac:{primary:277}}),"View: Open Last Editor in Group",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.EvenGroupWidthsAction,k.EvenGroupWidthsAction.ID,k.EvenGroupWidthsAction.LABEL),"View: Even Editor Group Widths",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.MaximizeGroupAction,k.MaximizeGroupAction.ID,k.MaximizeGroupAction.LABEL),"View: Maximize Editor Group and Hide Sidebar",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.MinimizeOtherGroupsAction,k.MinimizeOtherGroupsAction.ID,k.MinimizeOtherGroupsAction.LABEL),"View: Minimize Other Editor Groups",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.MoveEditorLeftInGroupAction,k.MoveEditorLeftInGroupAction.ID,k.MoveEditorLeftInGroupAction.LABEL,{primary:3083,mac:{primary:T.KeyChord(2089,3087)}}),"View: Move Editor Left",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.MoveEditorRightInGroupAction,k.MoveEditorRightInGroupAction.ID,k.MoveEditorRightInGroupAction.LABEL,{primary:3084,mac:{primary:T.KeyChord(2089,3089)}}),"View: Move Editor Right",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.MoveGroupLeftAction,k.MoveGroupLeftAction.ID,k.MoveGroupLeftAction.LABEL,{primary:T.KeyChord(2089,15)}),"View: Move Editor Group Left",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.MoveGroupRightAction,k.MoveGroupRightAction.ID,k.MoveGroupRightAction.LABEL,{primary:T.KeyChord(2089,17)}),"View: Move Editor Group Right",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.MoveEditorToPreviousGroupAction,k.MoveEditorToPreviousGroupAction.ID,k.MoveEditorToPreviousGroupAction.LABEL,{primary:2575,mac:{primary:2319}}),"View: Move Editor into Previous Group",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.MoveEditorToNextGroupAction,k.MoveEditorToNextGroupAction.ID,k.MoveEditorToNextGroupAction.LABEL,{primary:2577,mac:{primary:2321}}),"View: Move Editor into Next Group",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.FocusPreviousGroup,k.FocusPreviousGroup.ID,k.FocusPreviousGroup.LABEL,{primary:T.KeyChord(2089,2063)}),"View: Focus Previous Group",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.FocusNextGroup,k.FocusNextGroup.ID,k.FocusNextGroup.LABEL,{primary:T.KeyChord(2089,2065)}),"View: Focus Next Group",W),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.NavigateForwardAction,k.NavigateForwardAction.ID,k.NavigateForwardAction.LABEL,{primary:null,win:{primary:529},mac:{primary:1363},linux:{primary:3155}}),"Go Forward"),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.NavigateBackwardsAction,k.NavigateBackwardsAction.ID,k.NavigateBackwardsAction.LABEL,{primary:null,win:{primary:527},mac:{primary:339},linux:{primary:2643}}),"Go Back"),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.OpenPreviousEditorFromHistoryAction,k.OpenPreviousEditorFromHistoryAction.ID,k.OpenPreviousEditorFromHistoryAction.LABEL),"Open Previous Editor from History"),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.ClearEditorHistoryAction,k.ClearEditorHistoryAction.ID,k.ClearEditorHistoryAction.LABEL),"Clear Editor History"),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.RevertAndCloseEditorAction,k.RevertAndCloseEditorAction.ID,k.RevertAndCloseEditorAction.LABEL),"View: Revert and Close Editor",W);var B={primary:2050,mac:{primary:258}},V={primary:3074,mac:{primary:1282}};M.registerWorkbenchAction(new w.SyncActionDescriptor(k.OpenNextRecentlyUsedEditorInGroupAction,k.OpenNextRecentlyUsedEditorInGroupAction.ID,k.OpenNextRecentlyUsedEditorInGroupAction.LABEL,B),"Open Next Recently Used Editor in Group"),M.registerWorkbenchAction(new w.SyncActionDescriptor(k.OpenPreviousRecentlyUsedEditorInGroupAction,k.OpenPreviousRecentlyUsedEditorInGroupAction.ID,k.OpenPreviousRecentlyUsedEditorInGroupAction.LABEL,V),"Open Previous Recently Used Editor in Group");P.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.quickOpenNavigateNextInEditorPicker",weight:P.KeybindingsRegistry.WEIGHT.workbenchContrib(50),handler:L.getQuickNavigateHandler("workbench.action.quickOpenNavigateNextInEditorPicker",!0),when:F,primary:B.primary,mac:B.mac});P.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.quickOpenNavigatePreviousInEditorPicker",weight:P.KeybindingsRegistry.WEIGHT.workbenchContrib(50),handler:L.getQuickNavigateHandler("workbench.action.quickOpenNavigatePreviousInEditorPicker",!1),when:F,primary:V.primary,mac:V.mac}),x.setup()}),define(u[1282],d([1,0,4,16,145,26,244,12,132,232,156,99,44,27,23,1173,39,70]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,m,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var S=function(){function e(e,t,n,i,r){this.modelService=e,this.untitledEditorService=t,this.contextService=i,this.configurationService=r,this.diskSearch=new _(!n.isBuilt||n.verbose)}return e.prototype.extendQuery=function(e){var t=this.configurationService.getConfiguration();if(!e.fileEncoding){var n=t&&t.files&&t.files.encoding;e.fileEncoding=n}if(!e.disregardExcludeSettings){var i=t&&t.files&&t.files.exclude;i&&(e.excludePattern?o.mixin(e.excludePattern,i,!1):e.excludePattern=i)}},e.prototype.search=function(e){var t=this;this.extendQuery(e);var i;return new n.PPromise(function(n,r,o){var s=t.diskSearch.search(e),a=t.getLocalResults(e);process.nextTick(function(){return a.values().filter(function(e){return!!e}).forEach(o)}),i=s.then(function(e){n({limitHit:e.limitHit,results:e.results.filter(function(e){return!a.has(e.resource)}),stats:e.stats})},function(e){r(e)},function(e){e.resource?a.has(e.resource)||o(e):o(e)})},function(){return i&&i.cancel()})},e.prototype.getLocalResults=function(e){var t=this,n=new b.ResourceMap;return e.type===u.QueryType.Text&&this.modelService.getModels().forEach(function(i){var r=i.uri;if(r){if("untitled"===r.scheme){if(!t.untitledEditorService.exists(r))return}else if("file"!==r.scheme)return;if(t.matches(r,e)){var o=i.findMatches(e.contentPattern.pattern,!1,e.contentPattern.isRegExp,e.contentPattern.isCaseSensitive,e.contentPattern.isWordMatch?e.contentPattern.wordSeparators:null,!1,e.maxResults);if(o.length){var s=new u.FileMatch(r);n.set(r,s),o.forEach(function(e){s.lineMatches.push(new u.LineMatch(i.getLineContent(e.range.startLineNumber),e.range.startLineNumber-1,[[e.range.startColumn-1,e.range.endColumn-e.range.startColumn]]))})}else n.set(r,null)}}}),n},e.prototype.matches=function(e,t){var n=t.filePattern,i=t.includePattern;if(n){if("file"!==e.scheme)return!1;if(!s.matches(e.fsPath,a.stripWildcards(n).toLowerCase()))return!1}if(i){if("file"!==e.scheme)return!1;if(!r.match(i,e.fsPath))return!1}var o=u.getMergedExcludes(t,!0);return"file"!==e.scheme||!r.match(o,e.fsPath)},e.prototype.clearCache=function(e){return this.diskSearch.clearCache(e)},e}();S=v([y(0,h.IModelService),y(1,d.IUntitledEditorService),y(2,m.IEnvironmentService),y(3,p.IWorkspaceContextService),y(4,f.IConfigurationService)],S),t.SearchService=S;var _=function(){function t(t,n){void 0===n&&(n=36e5);var r=new l.Client(i.default.parse(e.toUrl("bootstrap")).fsPath,{serverName:"Search",timeout:n,args:["--type=searchService"],freshExecArgv:!0,env:{AMD_ENTRYPOINT:"vs/workbench/services/search/node/searchApp",PIPE_LOGGING:"true",VERBOSE_LOGGING:t}}),o=c.getNextTickChannel(r.getChannel("search"));this.raw=new g.SearchChannelClient(o)}return t.prototype.search=function(e){var n,i={folderQueries:e.folderQueries?e.folderQueries.map(function(e){return{excludePattern:e.excludePattern,fileEncoding:e.fileEncoding,folder:e.folder.fsPath}}):[],extraFiles:e.extraFileResources?e.extraFileResources.map(function(e){return e.fsPath}):[],filePattern:e.filePattern,excludePattern:e.excludePattern,includePattern:e.includePattern,maxResults:e.maxResults,sortByScore:e.sortByScore,cacheKey:e.cacheKey,useRipgrep:e.useRipgrep,disregardIgnoreFiles:e.disregardIgnoreFiles,searchPaths:e.searchPaths};return e.type===u.QueryType.Text&&(i.contentPattern=e.contentPattern),n=e.type===u.QueryType.File?this.raw.fileSearch(i):this.raw.textSearch(i),t.collectResults(n)},t.collectResults=function(e){var t=this,i=[];return new n.PPromise(function(n,r,o){e.done(function(e){n({limitHit:e.limitHit,results:i,stats:e.stats})},r,function(e){if(Array.isArray(e)){var n=e.map(function(e){return t.createFileMatch(e)});i=i.concat(n),n.forEach(o)}else if(e.path){var r=t.createFileMatch(e);i.push(r),o(r)}else o(e)})},function(){return e.cancel()})},t.createFileMatch=function(e){var t=new u.FileMatch(i.default.file(e.path));if(e.lineMatches)for(var n=0;n<e.lineMatches.length;n++)t.lineMatches.push(new u.LineMatch(e.lineMatches[n].preview,e.lineMatches[n].lineNumber,e.lineMatches[n].offsetAndLengths));return t},t.prototype.clearCache=function(e){return this.raw.clearCache(e)},t}();t.DiskSearch=_}),define(u[1283],d([1,0,732,4,16,28,7,26,8,11,51,30,69,43,5,99,1220,20,70,79]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,v,m,y,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var S=function(){function e(e,t,n,i,r,o,s,a,l,u,d,h){this.lifecycleService=e,this.contextService=t,this.configurationService=n,this.telemetryService=i,this.fileService=r,this.untitledEditorService=o,this.instantiationService=s,this.messageService=a,this.environmentService=l,this.backupFileService=u,this.windowsService=d,this.historyService=h,this.toUnbind=[],this._onAutoSaveConfigurationChange=new c.Emitter,this.toUnbind.push(this._onAutoSaveConfigurationChange),this._onFilesAssociationChange=new c.Emitter,this.toUnbind.push(this._onFilesAssociationChange),this._models=this.instantiationService.createInstance(v.TextFileEditorModelManager);var p=this.configurationService.getConfiguration();this.currentFilesAssociationConfig=p&&p.files&&p.files.associations,this.onConfigurationChange(p),this.telemetryService.publicLog("autoSave",this.getAutoSaveConfiguration()),this.registerListeners()}return Object.defineProperty(e.prototype,"models",{get:function(){return this._models},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onAutoSaveConfigurationChange",{get:function(){return this._onAutoSaveConfigurationChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onFilesAssociationChange",{get:function(){return this._onFilesAssociationChange.event},enumerable:!0,configurable:!0}),e.prototype.registerListeners=function(){var e=this;this.lifecycleService.onWillShutdown(function(t){return t.veto(e.beforeShutdown(t.reason))}),this.lifecycleService.onShutdown(this.dispose,this),this.toUnbind.push(this.configurationService.onDidUpdateConfiguration(function(t){return e.onConfigurationChange(e.configurationService.getConfiguration())}))},e.prototype.beforeShutdown=function(e){var t=this,r=this.getDirty();if(r.length){return(this.getAutoSaveMode()!==u.AutoSaveMode.OFF?this.saveAll(!1).then(function(){return t.getDirty()}):i.TPromise.as(r)).then(function(i){if(i.length)return t.isHotExitEnabled?t.backupBeforeShutdown(i,t.models,e).then(function(e){return e.didBackup?t.noVeto({cleanUpBackups:!1}):t.confirmBeforeShutdown()},function(e){var i=e[0];return t.messageService.show(m.Severity.Error,n.localize(0,null,i.message)),!0}):t.confirmBeforeShutdown()})}return this.noVeto({cleanUpBackups:!0})},e.prototype.backupBeforeShutdown=function(e,t,n){var r=this;return this.windowsService.getWindowCount().then(function(o){var s;switch(n){case h.ShutdownReason.CLOSE:s=!(!r.contextService.hasWorkspace()||r.configuredHotExit!==p.HotExitConfiguration.ON_EXIT_AND_WINDOW_CLOSE)||!(o>1||l.isMacintosh);break;case h.ShutdownReason.QUIT:case h.ShutdownReason.RELOAD:s=!0;break;case h.ShutdownReason.LOAD:s=!(!r.contextService.hasWorkspace()||r.configuredHotExit!==p.HotExitConfiguration.ON_EXIT_AND_WINDOW_CLOSE)}return s?(r.telemetryService.publicLog("hotExit:triggered",{reason:n,windowCount:o,fileCount:e.length}),r.backupAll(e,t).then(function(){return{didBackup:!0}})):i.TPromise.as({didBackup:!1})})},e.prototype.backupAll=function(e,t){var n=[],i=[];return e.forEach(function(e){e.scheme===b.Schemas.file?n.push(t.get(e)):e.scheme===g.UNTITLED_SCHEMA&&i.push(e)}),this.doBackupAll(n,i)},e.prototype.doBackupAll=function(e,t){var n=this;return i.TPromise.join(e.map(function(e){return n.backupFileService.backupResource(e.getResource(),e.getValue(),e.getVersionId())})).then(function(e){var r=t.filter(function(e){return n.untitledEditorService.exists(e)}).map(function(e){return n.untitledEditorService.loadOrCreate({resource:e})});return i.TPromise.join(r).then(function(e){var t=e.map(function(e){return n.backupFileService.backupResource(e.getResource(),e.getValue(),e.getVersionId())});return i.TPromise.join(t).then(function(){})})})},e.prototype.confirmBeforeShutdown=function(){var e=this,t=this.confirmSave();return t===d.ConfirmResult.SAVE?this.saveAll(!0).then(function(t){return!!t.results.some(function(e){return!e.success})||e.noVeto({cleanUpBackups:!0})}):t===d.ConfirmResult.DONT_SAVE?this.noVeto({cleanUpBackups:!0}):t===d.ConfirmResult.CANCEL||void 0},e.prototype.noVeto=function(e){return!!e.cleanUpBackups&&this.cleanupBackupsBeforeShutdown().then(function(){return!1},function(){return!1})},e.prototype.cleanupBackupsBeforeShutdown=function(){return this.environmentService.isExtensionDevelopment?i.TPromise.as(void 0):this.backupFileService.discardAllWorkspaceBackups()},e.prototype.onConfigurationChange=function(e){var t=this.getAutoSaveMode()!==u.AutoSaveMode.OFF;switch(e&&e.files&&e.files.autoSave||p.AutoSaveConfiguration.OFF){case p.AutoSaveConfiguration.AFTER_DELAY:this.configuredAutoSaveDelay=e&&e.files&&e.files.autoSaveDelay,this.configuredAutoSaveOnFocusChange=!1,this.configuredAutoSaveOnWindowChange=!1;break;case p.AutoSaveConfiguration.ON_FOCUS_CHANGE:this.configuredAutoSaveDelay=void 0,this.configuredAutoSaveOnFocusChange=!0,this.configuredAutoSaveOnWindowChange=!1;break;case p.AutoSaveConfiguration.ON_WINDOW_CHANGE:this.configuredAutoSaveDelay=void 0,this.configuredAutoSaveOnFocusChange=!1,this.configuredAutoSaveOnWindowChange=!0;break;default:this.configuredAutoSaveDelay=void 0,this.configuredAutoSaveOnFocusChange=!1,this.configuredAutoSaveOnWindowChange=!1}this._onAutoSaveConfigurationChange.fire(this.getAutoSaveConfiguration()),t||this.getAutoSaveMode()===u.AutoSaveMode.OFF||this.saveAll().done(null,s.onUnexpectedError);var n=e&&e.files&&e.files.associations;a.equals(this.currentFilesAssociationConfig,n)||(this.currentFilesAssociationConfig=n,this._onFilesAssociationChange.fire());var i=e&&e.files&&e.files.hotExit;i===p.HotExitConfiguration.OFF||i===p.HotExitConfiguration.ON_EXIT_AND_WINDOW_CLOSE?this.configuredHotExit=i:this.configuredHotExit=p.HotExitConfiguration.ON_EXIT},e.prototype.getDirty=function(e){var t=this.getDirtyFileModels(e).map(function(e){return e.getResource()});return t.push.apply(t,this.untitledEditorService.getDirty(e)),t},e.prototype.isDirty=function(e){return!!this._models.getAll(e).some(function(e){return e.isDirty()})||this.untitledEditorService.getDirty().some(function(t){return!e||t.toString()===e.toString()})},e.prototype.save=function(e,t){if(t&&t.force&&e.scheme===b.Schemas.file&&!this.isDirty(e)){var n=this._models.get(e);n&&n.save({force:!0,reason:u.SaveReason.EXPLICIT}).then(function(){return!n.isDirty()})}return this.saveAll([e]).then(function(e){return 1===e.results.length&&e.results[0].success})},e.prototype.saveAll=function(e,t){var n=[],i=[];return(Array.isArray(e)?this.getDirty(e):this.getDirty()).forEach(function(t){t.scheme===b.Schemas.file?n.push(t):!Array.isArray(e)&&!0!==e||t.scheme!==g.UNTITLED_SCHEMA||i.push(t)}),this.doSaveAll(n,i,t)},e.prototype.doSaveAll=function(e,t,n){var o=this;return this.doSaveAllFiles(e,n).then(function(n){for(var s=[],a=0;a<t.length;a++){var c=t[a];if(o.untitledEditorService.exists(c)){var l=void 0;if(o.untitledEditorService.hasAssociatedFilePath(c))l=c.fsPath;else if(!(l=o.promptForPath(o.suggestFileName(c))))return i.TPromise.as({results:e.concat(t).map(function(e){return{source:e}})});s.push(r.default.file(l))}}var u=[];return s.forEach(function(e,i){var r=o.saveAs(t[i],e).then(function(e){n.results.push({source:t[i],target:e,success:!!e})});u.push(r)}),i.TPromise.join(u).then(function(){return n})})},e.prototype.doSaveAllFiles=function(e,t){var n=this.getDirtyFileModels(Array.isArray(e)?e:void 0).filter(function(e){return!e.hasState(u.ModelState.CONFLICT)||t!==u.SaveReason.AUTO&&t!==u.SaveReason.FOCUS_CHANGE&&t!==u.SaveReason.WINDOW_CHANGE}),r=new y.ResourceMap;return n.forEach(function(e){r.set(e.getResource(),{source:e.getResource()})}),i.TPromise.join(n.map(function(e){return e.save({reason:t}).then(function(){e.isDirty()||(r.get(e.getResource()).success=!0)})})).then(function(e){return{results:r.values()}})},e.prototype.getFileModels=function(e){var t=this;if(Array.isArray(e)){var n=[];return e.forEach(function(e){n.push.apply(n,t.getFileModels(e))}),n}return this._models.getAll(e)},e.prototype.getDirtyFileModels=function(e){return this.getFileModels(e).filter(function(e){return e.isDirty()})},e.prototype.saveAs=function(e,t){if(!t){var n=e.fsPath;e.scheme===g.UNTITLED_SCHEMA&&(n=this.suggestFileName(e));var o=this.promptForPath(n);o&&(t=r.default.file(o))}return t?e.toString()===t.toString()?this.save(e).then(function(){return e}):this.doSaveAs(e,t):i.TPromise.as(null)},e.prototype.doSaveAs=function(e,t){var n=this,r=i.TPromise.as(null);return e.scheme===b.Schemas.file?r=i.TPromise.as(this._models.get(e)):e.scheme===g.UNTITLED_SCHEMA&&this.untitledEditorService.exists(e)&&(r=this.untitledEditorService.loadOrCreate({resource:e})),r.then(function(i){return i?n.doSaveTextFileAs(i,e,t):n.fileService.copyFile(e,t)}).then(function(){return n.revert(e).then(function(){return t})})},e.prototype.doSaveTextFileAs=function(e,t,n){var r=this,o=this.models.get(n);return(o&&o.isResolved()?i.TPromise.as(o):this.fileService.resolveFile(n).then(function(e){return e},function(){return null}).then(function(e){return e||r.fileService.updateContent(n,"")}).then(function(e){return r.models.loadOrCreate(n)})).then(function(t){return t.updatePreferredEncoding(e.getEncoding()),t.textEditorModel.setValue(e.getValue()),t.save()},function(o){return o.fileOperationResult===p.FileOperationResult.FILE_IS_BINARY||o.fileOperationResult===p.FileOperationResult.FILE_TOO_LARGE?r.fileService.del(n).then(function(){return r.doSaveTextFileAs(e,t,n)}):i.TPromise.wrapError(o)})},e.prototype.suggestFileName=function(e){var t=this.historyService.getLastActiveWorkspaceRoot();return t?r.default.file(o.join(t.fsPath,this.untitledEditorService.suggestFileName(e))).fsPath:this.untitledEditorService.suggestFileName(e)},e.prototype.revert=function(e,t){return this.revertAll([e],t).then(function(e){return 1===e.results.length&&e.results[0].success})},e.prototype.revertAll=function(e,t){var n=this;return this.doRevertAllFiles(e,t).then(function(t){return n.untitledEditorService.revertAll(e).forEach(function(e){return t.results.push({source:e,success:!0})}),t})},e.prototype.doRevertAllFiles=function(e,t){var n=t&&t.force?this.getFileModels(e):this.getDirtyFileModels(e),r=new y.ResourceMap;return n.forEach(function(e){r.set(e.getResource(),{source:e.getResource()})}),i.TPromise.join(n.map(function(e){return e.revert(t&&t.soft).then(function(){e.isDirty()||(r.get(e.getResource()).success=!0)},function(t){if(t.fileOperationResult!==p.FileOperationResult.FILE_NOT_FOUND)return i.TPromise.wrapError(t);r.get(e.getResource()).success=!0})})).then(function(e){return{results:r.values()}})},e.prototype.getAutoSaveMode=function(){return this.configuredAutoSaveOnFocusChange?u.AutoSaveMode.ON_FOCUS_CHANGE:this.configuredAutoSaveOnWindowChange?u.AutoSaveMode.ON_WINDOW_CHANGE:this.configuredAutoSaveDelay&&this.configuredAutoSaveDelay>0?this.configuredAutoSaveDelay<=1e3?u.AutoSaveMode.AFTER_SHORT_DELAY:u.AutoSaveMode.AFTER_LONG_DELAY:u.AutoSaveMode.OFF},e.prototype.getAutoSaveConfiguration=function(){return{autoSaveDelay:this.configuredAutoSaveDelay&&this.configuredAutoSaveDelay>0?this.configuredAutoSaveDelay:void 0,autoSaveFocusChange:this.configuredAutoSaveOnFocusChange,autoSaveApplicationChange:this.configuredAutoSaveOnWindowChange}},Object.defineProperty(e.prototype,"isHotExitEnabled",{get:function(){return!this.environmentService.isExtensionDevelopment&&this.configuredHotExit!==p.HotExitConfiguration.OFF},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.toUnbind=f.dispose(this.toUnbind),this._models.clear()},e}();t.TextFileService=S}),define(u[1284],d([1,0,4,16,18,6,5,44,365,51,79,99,258]),function(e,t,n,i,r,o,s,a,c,l,u,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(e){function t(t,n){var i=e.call(this)||this;return i.instantiationService=t,i.textFileService=n,i.providers=Object.create(null),i}return h(t,e),t.prototype.createReferencedObject=function(e){var t=this,n=i.default.parse(e);return n.scheme===u.Schemas.file?this.textFileService.models.loadOrCreate(n):this.resolveTextModelContent(e).then(function(){return t.instantiationService.createInstance(c.ResourceEditorModel,n)})},t.prototype.destroyReferencedObject=function(e){var t=this;e.done(function(e){e instanceof p.TextFileEditorModel?t.textFileService.models.disposeModel(e):e.dispose()})},t.prototype.registerTextModelContentProvider=function(e,t){var n=this.providers;return(n[e]||(n[e]=[])).unshift(t),s.toDisposable(function(){var i=n[e];if(i){var r=i.indexOf(t);-1!==r&&(i.splice(r,1),0===i.length&&delete n[e])}})},t.prototype.resolveTextModelContent=function(e){var t=i.default.parse(e),o=(this.providers[t.scheme]||[]).map(function(e){return function(){return e.provideTextContent(t)}});return r.first(o).then(function(e){return e||(console.error("Unable to open '"+t+"' resource is not available."),n.TPromise.wrapError(new Error("resource is not available")))})},t}(s.ReferenceCollection);f=v([y(0,o.IInstantiationService),y(1,l.ITextFileService)],f);var g=function(){function e(e,t,n,i){this.textFileService=e,this.untitledEditorService=t,this.instantiationService=n,this.modelService=i,this.resourceModelCollection=n.createInstance(f)}return e.prototype.createModelReference=function(e){return this._createModelReference(e)},e.prototype._createModelReference=function(e){if(e.scheme===d.UNTITLED_SCHEMA)return this.untitledEditorService.loadOrCreate({resource:e}).then(function(e){return new s.ImmortalReference(e)});if("inmemory"===e.scheme)return this.modelService.getModel(e)?n.TPromise.as(new s.ImmortalReference(this.instantiationService.createInstance(c.ResourceEditorModel,e))):n.TPromise.wrapError(new Error("Cant resolve inmemory resource"));var t=this.resourceModelCollection.acquire(e.toString());return t.object.then(function(e){return{object:e,dispose:function(){return t.dispose()}}},function(e){return t.dispose(),n.TPromise.wrapError(e)})},e.prototype.registerTextModelContentProvider=function(e,t){return this.resourceModelCollection.registerTextModelContentProvider(e,t)},e}();g=v([y(0,l.ITextFileService),y(1,d.IUntitledEditorService),y(2,o.IInstantiationService),y(3,a.IModelService)],g),t.TextModelResolverService=g}),define(u[57],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IViewletService=n.createDecorator("viewletService")}),define(u[1286],d([1,0,40,4,7,151,22,47,57,31,41,5,45,66,13]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=function(){function e(t,n,i,r,s,a,c,u,d,h,p){var f=this;this.storageService=s,this.contextViewService=a,this.editorService=c,this.editorGroupService=u,this.partService=d,this.viewletService=h,this.parent=t,this.workbenchContainer=n,this.titlebar=i.titlebar,this.activitybar=i.activitybar,this.editor=i.editor,this.sidebar=i.sidebar,this.panel=i.panel,this.statusbar=i.statusbar,this.quickopen=r,this.toUnbind=[],this.partLayoutInfo=this.getPartLayoutInfo(),this.panelHeightBeforeMaximized=0,this.panelMaximized=!1,this.sashX=new o.Sash(this.workbenchContainer.getHTMLElement(),this,{baseSize:5}),this.sashY=new o.Sash(this.workbenchContainer.getHTMLElement(),this,{baseSize:4,orientation:o.Orientation.HORIZONTAL}),this.sidebarWidth=this.storageService.getInteger(e.sashXWidthSettingsKey,l.StorageScope.GLOBAL,-1),this.panelHeight=this.storageService.getInteger(e.sashYHeightSettingsKey,l.StorageScope.GLOBAL,0),this.layoutEditorGroupsVertically="horizontal"!==this.editorGroupService.getGroupOrientation(),this.toUnbind.push(p.onThemeChange(function(e){return f.layout()})),this.toUnbind.push(u.onEditorsChanged(function(){return f.onEditorsChanged()})),this.toUnbind.push(u.onGroupOrientationChanged(function(e){return f.onGroupOrientationChanged()})),this.registerSashListeners()}return e.prototype.getPartLayoutInfo=function(){return{titlebar:{height:22},activitybar:{width:50},sidebar:{minWidth:170},panel:{minHeight:77},editor:{minWidth:220,minHeight:70},statusbar:{height:22}}},e.prototype.registerSashListeners=function(){var t=this,n=0,o=0;this.sashX.addListener("start",function(e){t.startSidebarWidth=t.sidebarWidth,n=e.startX}),this.sashY.addListener("start",function(e){t.startPanelHeight=t.panelHeight,o=e.startY}),this.sashX.addListener("change",function(e){var o=!1,s=t.partService.getSideBarPosition(),c=t.partService.isVisible(a.Parts.SIDEBAR_PART),l=s===a.Position.LEFT?t.startSidebarWidth+e.currentX-n:t.startSidebarWidth-e.currentX+n,u=i.TPromise.as(null);if(c)if(l+50<t.partLayoutInfo.sidebar.minWidth){u=t.partService.setSideBarHidden(!0),n=s===a.Position.LEFT?Math.max(t.activitybarWidth,e.currentX-120):Math.min(e.currentX+120,t.workbenchSize.width-t.activitybarWidth),t.sidebarWidth=t.startSidebarWidth}else t.sidebarWidth=Math.max(t.partLayoutInfo.sidebar.minWidth,l),o=l>=t.partLayoutInfo.sidebar.minWidth;else(s===a.Position.LEFT&&e.currentX-n>=t.partLayoutInfo.sidebar.minWidth||s===a.Position.RIGHT&&n-e.currentX>=t.partLayoutInfo.sidebar.minWidth)&&(t.startSidebarWidth=t.partLayoutInfo.sidebar.minWidth-(s===a.Position.LEFT?e.currentX-n:n-e.currentX),t.sidebarWidth=t.partLayoutInfo.sidebar.minWidth,u=t.partService.setSideBarHidden(!1));o&&u.done(function(){return t.layout()},r.onUnexpectedError)}),this.sashY.addListener("change",function(e){var n=!1,s=t.partService.isVisible(a.Parts.PANEL_PART),c=t.startPanelHeight-(e.currentY-o),l=i.TPromise.as(null);if(s)if(c+50<t.partLayoutInfo.panel.minHeight){l=t.partService.setPanelHidden(!0),o=Math.min(t.sidebarHeight-t.statusbarHeight-t.titlebarHeight,e.currentY+27),t.panelHeight=t.startPanelHeight}else t.panelHeight=Math.max(t.partLayoutInfo.panel.minHeight,c),n=c>=t.partLayoutInfo.panel.minHeight;else o-e.currentY>=t.partLayoutInfo.panel.minHeight&&(t.startPanelHeight=0,t.panelHeight=t.partLayoutInfo.panel.minHeight,l=t.partService.setPanelHidden(!1));n&&l.done(function(){return t.layout()},r.onUnexpectedError)}),this.sashX.addListener("end",function(){t.storageService.store(e.sashXWidthSettingsKey,t.sidebarWidth,l.StorageScope.GLOBAL)}),this.sashY.addListener("end",function(){t.storageService.store(e.sashYHeightSettingsKey,t.panelHeight,l.StorageScope.GLOBAL)}),this.sashY.addListener("reset",function(){t.panelHeight=.4*t.sidebarHeight,t.storageService.store(e.sashYHeightSettingsKey,t.panelHeight,l.StorageScope.GLOBAL),t.partService.setPanelHidden(!1).done(function(){return t.layout()},r.onUnexpectedError)}),this.sashX.addListener("reset",function(){var n=t.viewletService.getActiveViewlet(),i=n&&n.getOptimalWidth();t.sidebarWidth=Math.max(170,i||0),t.storageService.store(e.sashXWidthSettingsKey,t.sidebarWidth,l.StorageScope.GLOBAL),t.partService.setSideBarHidden(!1).done(function(){return t.layout()},r.onUnexpectedError)})},e.prototype.onEditorsChanged=function(){if(this.workbenchSize&&(this.sidebarWidth||this.panelHeight)){var e=this.editorService.getVisibleEditors().length;if(e>1){var t=this.layoutEditorGroupsVertically&&this.workbenchSize.width-this.sidebarWidth<220*e,n=!this.layoutEditorGroupsVertically&&this.workbenchSize.height-this.panelHeight<70*e;(t||n)&&this.layout()}}},e.prototype.onGroupOrientationChanged=function(){var e="horizontal"!==this.editorGroupService.getGroupOrientation(),t=this.layoutEditorGroupsVertically!==e;this.layoutEditorGroupsVertically=e,t&&this.layout()},e.prototype.layout=function(t){this.workbenchSize=this.parent.getClientArea();var i,r=!this.partService.isVisible(a.Parts.ACTIVITYBAR_PART),o=!this.partService.isVisible(a.Parts.TITLEBAR_PART),s=!this.partService.isVisible(a.Parts.PANEL_PART),c=!this.partService.isVisible(a.Parts.STATUSBAR_PART),u=!this.partService.isVisible(a.Parts.SIDEBAR_PART),d=this.partService.getSideBarPosition();u?i=0:-1!==this.sidebarWidth?i=Math.max(this.partLayoutInfo.sidebar.minWidth,this.sidebarWidth):(i=this.workbenchSize.width/5,this.sidebarWidth=i),this.statusbarHeight=c?0:this.partLayoutInfo.statusbar.height,this.titlebarHeight=o?0:this.partLayoutInfo.titlebar.height/p.getZoomFactor();var h=this.sidebarHeight-70;this.sidebarHeight=this.workbenchSize.height-this.statusbarHeight-this.titlebarHeight;var f=new n.Dimension(i,this.sidebarHeight);this.activitybarWidth=r?0:this.partLayoutInfo.activitybar.width;var g,v=new n.Dimension(this.activitybarWidth,f.height),m=f.height-70;g=s?0:this.panelHeight===h?m:this.panelHeight>0?Math.min(m,Math.max(this.partLayoutInfo.panel.minHeight,this.panelHeight)):.4*f.height,t&&t.toggleMaximizedPanel&&(g=this.panelMaximized?Math.max(this.partLayoutInfo.panel.minHeight,Math.min(this.panelHeightBeforeMaximized,m)):m),this.panelMaximized=g===m,g/m<.7&&(this.panelHeightBeforeMaximized=g);var y=new n.Dimension(this.workbenchSize.width-f.width-v.width,g);this.panelWidth=y.width;var b={width:0,height:0,remainderLeft:0,remainderRight:0};b.width=y.width,b.height=f.height-y.height,u&&(b.width=Math.min(this.workbenchSize.width-v.width,this.workbenchSize.width-this.activitybarWidth),d===a.Position.LEFT?(b.remainderLeft=Math.round((this.workbenchSize.width-b.width+v.width)/2),b.remainderRight=this.workbenchSize.width-b.width-b.remainderLeft):(b.remainderRight=Math.round((this.workbenchSize.width-b.width+v.width)/2),b.remainderLeft=this.workbenchSize.width-b.width-b.remainderRight));var S=this.partLayoutInfo.editor.minWidth,_=this.partLayoutInfo.editor.minHeight,E=this.editorService.getVisibleEditors().length;if(E>1&&(this.layoutEditorGroupsVertically?S*=E:_*=E),b.width<S){C=S-b.width;b.width=S,y.width=S,f.width-=C,f.width=Math.max(170,f.width)}if(b.height<_){var C=_-b.height;b.height=_,y.height-=C,y.height=Math.max(77,y.height)}u||(this.sidebarWidth=f.width,this.storageService.store(e.sashXWidthSettingsKey,this.sidebarWidth,l.StorageScope.GLOBAL)),s||(this.panelHeight=y.height,this.storageService.store(e.sashYHeightSettingsKey,this.panelHeight,l.StorageScope.GLOBAL)),this.workbenchContainer.position(0,0,0,0,"relative").size(this.workbenchSize.width,this.workbenchSize.height);var w=this.workbenchContainer.getHTMLElement();w.scrollTop>0&&(w.scrollTop=0),w.scrollLeft>0&&(w.scrollLeft=0),o?this.titlebar.getContainer().hide():this.titlebar.getContainer().show(),this.editor.getContainer().size(b.width,b.height),this.panel.getContainer().size(y.width,y.height);var I=this.statusbarHeight+y.height;u?(this.editor.getContainer().position(this.titlebarHeight,b.remainderRight,I,b.remainderLeft),this.panel.getContainer().position(b.height+this.titlebarHeight,b.remainderRight,this.statusbarHeight,b.remainderLeft)):d===a.Position.LEFT?(this.editor.getContainer().position(this.titlebarHeight,0,I,f.width+v.width),this.panel.getContainer().position(b.height+this.titlebarHeight,0,this.statusbarHeight,f.width+v.width)):(this.editor.getContainer().position(this.titlebarHeight,f.width,I,0),this.panel.getContainer().position(b.height+this.titlebarHeight,f.width,this.statusbarHeight,0)),this.activitybar.getContainer().size(null,v.height),d===a.Position.LEFT?(this.activitybar.getContainer().getHTMLElement().style.right="",this.activitybar.getContainer().position(this.titlebarHeight,null,0,0)):(this.activitybar.getContainer().getHTMLElement().style.left="",this.activitybar.getContainer().position(this.titlebarHeight,0,0,null)),r?this.activitybar.getContainer().hide():this.activitybar.getContainer().show(),this.sidebar.getContainer().size(f.width,f.height),d===a.Position.LEFT?this.sidebar.getContainer().position(this.titlebarHeight,b.width,0,v.width):this.sidebar.getContainer().position(this.titlebarHeight,null,0,b.width),this.statusbar.getContainer().position(this.workbenchSize.height-this.statusbarHeight),c?this.statusbar.getContainer().hide():this.statusbar.getContainer().show(),this.quickopen.layout(this.workbenchSize),this.sashX.layout(),this.sashY.layout(),this.titlebar.layout(new n.Dimension(this.workbenchSize.width,this.titlebarHeight)),this.editor.layout(new n.Dimension(b.width,b.height)),this.sidebar.layout(f),this.panel.layout(y),this.activitybar.layout(v),this.contextViewService.layout()},e.prototype.getVerticalSashTop=function(e){return this.titlebarHeight},e.prototype.getVerticalSashLeft=function(e){var t=this.partService.isVisible(a.Parts.SIDEBAR_PART);return this.partService.getSideBarPosition()===a.Position.LEFT?t?this.sidebarWidth+this.activitybarWidth:this.activitybarWidth:t?this.workbenchSize.width-this.sidebarWidth-this.activitybarWidth:this.workbenchSize.width-this.activitybarWidth},e.prototype.getVerticalSashHeight=function(e){return this.sidebarHeight},e.prototype.getHorizontalSashTop=function(e){return 2+(this.partService.isVisible(a.Parts.PANEL_PART)?this.sidebarHeight-this.panelHeight+this.titlebarHeight:this.sidebarHeight+this.titlebarHeight)},e.prototype.getHorizontalSashLeft=function(e){return this.partService.getSideBarPosition()===a.Position.LEFT?this.getVerticalSashLeft(e):0},e.prototype.getHorizontalSashWidth=function(e){return this.panelWidth},e.prototype.isPanelMaximized=function(){return this.panelMaximized},e.prototype.resizePart=function(e,t){var n=this.editorService.getVisibleEditors().length,i=this.workbenchSize.width*(t/100),r=this.workbenchSize.height*(t/100),o=!1,s=0;switch(e){case a.Parts.SIDEBAR_PART:s=this.sidebarWidth+i,this.sidebarWidth=Math.max(this.partLayoutInfo.sidebar.minWidth,s),this.layoutEditorGroupsVertically&&this.workbenchSize.width-this.sidebarWidth<220*n&&(this.sidebarWidth=this.workbenchSize.width-220*n),o=!0;break;case a.Parts.PANEL_PART:s=this.panelHeight+r,this.panelHeight=Math.max(this.partLayoutInfo.panel.minHeight,s),o=!0;break;case a.Parts.EDITOR_PART:if(1===this.editorService.getVisibleEditors().length)this.sidebarWidth=this.sidebarWidth-i,o=!0;else{var c=this.editorGroupService.getStacksModel(),l=c.positionOfGroup(c.activeGroup);this.editorGroupService.resizeGroup(l,i),o=!1}}o&&this.layout()},e.prototype.dispose=function(){this.toUnbind&&(d.dispose(this.toUnbind),this.toUnbind=null)},e}();g.sashXWidthSettingsKey="workbench.sidebar.width",g.sashYHeightSettingsKey="workbench.panel.height",g=v([y(4,l.IStorageService),y(5,u.IContextViewService),y(6,s.IWorkbenchEditorService),y(7,h.IEditorGroupService),y(8,a.IPartService),y(9,c.IViewletService),y(10,f.IThemeService)],g),t.WorkbenchLayout=g}),define(u[1287],d([1,0,510,9,4,40,200,21,49,175,8,41,32,6,38,5,57,47,13,74,29,86,89,1025]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var T=function(e){function t(t){var n=e.call(this,t.id,t.name,t.cssClass)||this;return n._activity=t,n._onDidChangeBadge=new u.Emitter,n.badge=null,n}return h(t,e),Object.defineProperty(t.prototype,"activity",{get:function(){return this._activity},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidChangeBadge",{get:function(){return this._onDidChangeBadge.event},enumerable:!0,configurable:!0}),t.prototype.activate=function(){this.checked||this._setChecked(!0)},t.prototype.deactivate=function(){this.checked&&this._setChecked(!1)},t.prototype.getBadge=function(){return this.badge},t.prototype.setBadge=function(e){this.badge=e,this._onDidChangeBadge.fire(this)},t}(a.Action);t.ActivityAction=T;var k=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.viewlet=t,r.viewletService=n,r.partService=i,r.lastRun=0,r}return h(t,e),t.prototype.run=function(e){var n=this;if(e instanceof MouseEvent&&2===e.button)return r.TPromise.as(!1);var i=Date.now();if(i>this.lastRun&&i-this.lastRun<t.preventDoubleClickDelay)return r.TPromise.as(!0);this.lastRun=i;var o=this.partService.isVisible(S.Parts.SIDEBAR_PART),s=this.viewletService.getActiveViewlet();return o&&s&&s.getId()===this.viewlet.id?this.partService.setSideBarHidden(!0):this.viewletService.openViewlet(this.viewlet.id,!0).then(function(){return n.activate()})},t}(T);k.preventDoubleClickDelay=300,k=v([y(1,b.IViewletService),y(2,S.IPartService)],k),t.ViewletActivityAction=k;var x=function(e){function t(t,n,i){var r=e.call(this,null,t,n)||this;return r.themeService=i,r.themeService.onThemeChange(r.onThemeChange,r,r._callOnDispose),t.onDidChangeBadge(r.handleBadgeChangeEvenet,r,r._callOnDispose),r}return h(t,e),Object.defineProperty(t.prototype,"activity",{get:function(){return this._action.activity},enumerable:!0,configurable:!0}),t.prototype.updateStyles=function(){var e=this.themeService.getTheme();if(this.$label){var t=e.getColor(E.ACTIVITY_BAR_FOREGROUND);this.$label.style("background-color",t?t.toString():null)}if(this.$badgeContent){var n=e.getColor(E.ACTIVITY_BAR_BADGE_FOREGROUND),i=e.getColor(E.ACTIVITY_BAR_BADGE_BACKGROUND),r=e.getColor(C.contrastBorder);this.$badgeContent.style("color",n?n.toString():null),this.$badgeContent.style("background-color",i?i.toString():null),this.$badgeContent.style("border-style",r?"solid":null),this.$badgeContent.style("border-width",r?"1px":null),this.$badgeContent.style("border-color",r?r.toString():null)}},t.prototype.render=function(t){var n=this;e.prototype.render.call(this,t),this.$container=o.$(t).attr({tabIndex:"0",role:"button",title:this.activity.name}),this.$container.on(i.EventType.MOUSE_DOWN,function(){n.$container.addClass("clicked")}),this.$container.on(i.EventType.MOUSE_UP,function(){n.mouseUpTimeout&&clearTimeout(n.mouseUpTimeout),n.mouseUpTimeout=setTimeout(function(){n.$container.removeClass("clicked")},800)}),this.$label=o.$("a.action-label").appendTo(this.builder),this.activity.cssClass&&this.$label.addClass(this.activity.cssClass),this.$badge=this.builder.clone().div({class:"badge"},function(e){n.$badgeContent=e.div({class:"badge-content"})}),this.$badge.hide(),this.updateStyles()},t.prototype.onThemeChange=function(e){this.updateStyles()},t.prototype.setBadge=function(e){this.updateBadge(e)},t.prototype.updateBadge=function(e){this.$badgeContent.empty(),this.$badge.hide(),e&&(e instanceof l.NumberBadge?e.number&&(this.$badgeContent.text(e.number>99?"99+":e.number.toString()),this.$badge.show()):e instanceof l.TextBadge?(this.$badgeContent.text(e.text),this.$badge.show()):e instanceof l.IconBadge?this.$badge.show():e instanceof l.ProgressBadge&&this.$badge.show(),this.$label.attr("aria-label",this.activity.name+" - "+e.getDescription()))},t.prototype.handleBadgeChangeEvenet=function(){var e=this.getAction();e instanceof T&&this.updateBadge(e.getBadge())},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.mouseUpTimeout&&clearTimeout(this.mouseUpTimeout),this.$badge.destroy()},t}(c.BaseActionItem);x=v([y(2,_.IThemeService)],x),t.ActivityActionItem=x;var A=function(e){function t(n,i,r,o,s,a){var c=e.call(this,n,{draggable:!0},a)||this;return c.action=n,c.contextMenuService=i,c.activityBarService=r,c.keybindingService=o,c.cssClass=n.class,c._keybinding=c.getKeybindingLabel(c.viewlet.id),t.manageExtensionAction||(t.manageExtensionAction=s.createInstance(D)),t.toggleViewletPinnedAction||(t.toggleViewletPinnedAction=s.createInstance(R,void 0)),c}return h(t,e),Object.defineProperty(t.prototype,"viewlet",{get:function(){return this.action.activity},enumerable:!0,configurable:!0}),t.prototype.getKeybindingLabel=function(e){var t=this.keybindingService.lookupKeybinding(e);return t?t.getLabel():null},t.prototype.render=function(n){var r=this;e.prototype.render.call(this,n),this.$container.on("contextmenu",function(e){i.EventHelper.stop(e,!0),r.showContextMenu(n)}),this.$container.on(i.EventType.DRAG_START,function(e){e.dataTransfer.effectAllowed="move",r.setDraggedViewlet(r.viewlet),r.getAction().checked||r.getAction().run()});var o=0;this.$container.on(i.EventType.DRAG_ENTER,function(e){var i=t.getDraggedViewlet();i&&i.id!==r.viewlet.id&&(o++,r.updateFromDragging(n,!0))}),this.$container.on(i.EventType.DRAG_LEAVE,function(e){t.getDraggedViewlet()&&0===--o&&r.updateFromDragging(n,!1)}),this.$container.on(i.EventType.DRAG_END,function(e){t.getDraggedViewlet()&&(o=0,r.updateFromDragging(n,!1),t.clearDraggedViewlet())}),this.$container.on(i.EventType.DROP,function(e){i.EventHelper.stop(e,!0);var o=t.getDraggedViewlet();o&&o.id!==r.viewlet.id&&(r.updateFromDragging(n,!1),t.clearDraggedViewlet(),r.activityBarService.move(o.id,r.viewlet.id))}),this.keybinding=this._keybinding,[this.$badge,this.$label].forEach(function(e){return new s.DelayedDragHandler(e.getHTMLElement(),function(){t.getDraggedViewlet()||r.getAction().checked||r.getAction().run()})}),this.updateStyles()},t.prototype.updateFromDragging=function(e,t){var n=this.themeService.getTheme().getColor(E.ACTIVITY_BAR_DRAG_AND_DROP_BACKGROUND);e.style.backgroundColor=t&&n?n.toString():null},t.getDraggedViewlet=function(){return t.draggedViewlet},t.prototype.setDraggedViewlet=function(e){t.draggedViewlet=e},t.clearDraggedViewlet=function(){t.draggedViewlet=void 0},t.prototype.showContextMenu=function(e){var i=this,o=[t.toggleViewletPinnedAction];this.viewlet.extensionId&&(o.push(new c.Separator),o.push(t.manageExtensionAction));var s=this.activityBarService.isPinned(this.viewlet.id);t.toggleViewletPinnedAction.label=s?n.localize(0,null):n.localize(1,null),this.contextMenuService.showContextMenu({getAnchor:function(){return e},getActionsContext:function(){return i.viewlet},getActions:function(){return r.TPromise.as(o)}})},t.prototype.focus=function(){this.$container.domFocus()},Object.defineProperty(t.prototype,"keybinding",{set:function(e){if(this._keybinding=e,this.$label){var t;t=e?n.localize(2,null,this.activity.name,e):this.activity.name,this.$label.title(t),this.$badge.title(t),this.$container.title(t)}},enumerable:!0,configurable:!0}),t.prototype._updateClass=function(){this.cssClass&&this.$badge.removeClass(this.cssClass),this.cssClass=this.getAction().class,this.$badge.addClass(this.cssClass)},t.prototype._updateChecked=function(){this.getAction().checked?this.$container.addClass("checked"):this.$container.removeClass("checked")},t.prototype._updateEnabled=function(){this.getAction().enabled?this.builder.removeClass("disabled"):this.builder.addClass("disabled")},t.prototype.dispose=function(){e.prototype.dispose.call(this),t.clearDraggedViewlet(),this.$label.destroy()},t}(x);A=v([y(1,d.IContextMenuService),y(2,l.IActivityBarService),y(3,g.IKeybindingService),y(4,f.IInstantiationService),y(5,_.IThemeService)],A),t.ViewletActionItem=A;var L=function(e){function t(t){var i=e.call(this,{id:"activitybar.additionalViewlets.action",name:n.localize(3,null),cssClass:"toggle-more"})||this;return i.showMenu=t,i}return h(t,e),t.prototype.run=function(e){return this.showMenu(),r.TPromise.as(!0)},t}(T);t.ViewletOverflowActivityAction=L;var P=function(e){function t(t,n,i,r,o,s,a){var c=e.call(this,t,null,a)||this;return c.getOverflowingViewlets=n,c.getBadge=i,c.instantiationService=r,c.viewletService=o,c.contextMenuService=s,c.cssClass=t.class,c.name=t.label,c}return h(t,e),t.prototype.updateStyles=function(){var e=this.themeService.getTheme();if(this.$label){var t=e.getColor(E.ACTIVITY_BAR_FOREGROUND);this.$label.style("background-color",t?t.toString():null)}},t.prototype.render=function(t){e.prototype.render.call(this,t),this.$label=o.$("a.action-label").attr({tabIndex:"0",role:"button",title:this.name,class:this.cssClass}).appendTo(this.builder),this.updateStyles()},t.prototype.showMenu=function(){var e=this;this.actions&&m.dispose(this.actions),this.actions=this.getActions(),this.contextMenuService.showContextMenu({getAnchor:function(){return e.builder.getHTMLElement()},getActions:function(){return r.TPromise.as(e.actions)},onHide:function(){return m.dispose(e.actions)}})},t.prototype.getActions=function(){var e=this,t=this.viewletService.getActiveViewlet();return this.getOverflowingViewlets().map(function(i){var r=e.instantiationService.createInstance(O,i);r.radio=t&&t.getId()===r.id;var o,s=e.getBadge(r.viewlet);return s instanceof l.NumberBadge?o=s.number:s instanceof l.TextBadge&&(o=s.text),r.label=o?n.localize(4,null,r.viewlet.name,o):r.viewlet.name,r})},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.actions=m.dispose(this.actions)},t}(x);P=v([y(3,f.IInstantiationService),y(4,b.IViewletService),y(5,d.IContextMenuService),y(6,_.IThemeService)],P),t.ViewletOverflowActivityActionItem=P;var D=function(e){function t(t){var i=e.call(this,"activitybar.manage.extension",n.localize(5,null))||this;return i.commandService=t,i}return h(t,e),t.prototype.run=function(e){return this.commandService.executeCommand("_extensions.manage",e.extensionId)},t}(a.Action);D=v([y(0,p.ICommandService)],D);var O=function(e){function t(t,n,i){var r=e.call(this,t.id,t.name)||this;return r._viewlet=t,r.partService=n,r.viewletService=i,r}return h(t,e),Object.defineProperty(t.prototype,"viewlet",{get:function(){return this._viewlet},enumerable:!0,configurable:!0}),t.prototype.run=function(){var e=this.partService.isVisible(S.Parts.SIDEBAR_PART),t=this.viewletService.getActiveViewlet();return e&&t&&t.getId()===this.viewlet.id?this.partService.setSideBarHidden(!0):this.viewletService.openViewlet(this.viewlet.id,!0)},t}(a.Action);O=v([y(1,S.IPartService),y(2,b.IViewletService)],O);var R=function(e){function t(t,i){var r=e.call(this,"activitybar.show.toggleViewletPinned",t?t.name:n.localize(6,null))||this;return r.viewlet=t,r.activityBarService=i,r.checked=r.viewlet&&r.activityBarService.isPinned(r.viewlet.id),r}return h(t,e),t.prototype.run=function(e){var t=this.viewlet||e;return this.activityBarService.isPinned(t.id)?this.activityBarService.unpin(t.id):this.activityBarService.pin(t.id),r.TPromise.as(!0)},t}(a.Action);R=v([y(1,l.IActivityBarService)],R),t.ToggleViewletPinnedAction=R;var M=function(e){function t(t){return e.call(this,t)||this}return h(t,e),t}(T);t.GlobalActivityAction=M;var N=function(e){function t(t,n,i){var r=e.call(this,t,{draggable:!1},n)||this;return r.contextMenuService=i,r}return h(t,e),t.prototype.render=function(t){var n=this;e.prototype.render.call(this,t),this.$container.on(i.EventType.MOUSE_DOWN,function(e){i.EventHelper.stop(e,!0);var t=new w.StandardMouseEvent(e);n.showContextMenu({x:t.posx,y:t.posy})}),this.$container.on(i.EventType.KEY_UP,function(e){var t=new I.StandardKeyboardEvent(e);(t.equals(3)||t.equals(10))&&(i.EventHelper.stop(e,!0),n.showContextMenu(n.$container.getHTMLElement()))})},t.prototype.showContextMenu=function(e){var t=this._action.activity.getActions();this.contextMenuService.showContextMenu({getAnchor:function(){return e},getActions:function(){return r.TPromise.as(t)},onHide:function(){return m.dispose(t)}})},t}(x);N=v([y(1,_.IThemeService),y(2,d.IContextMenuService)],N),t.GlobalActivityActionItem=N,_.registerThemingParticipant(function(e,t){var n=e.getColor(C.activeContrastBorder);if(n)t.addRule('\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item:before {\n\t\t\t\tcontent: "";\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 9px;\n\t\t\t\tleft: 9px;\n\t\t\t\theight: 32px;\n\t\t\t\twidth: 32px;\n\t\t\t\topacity: 0.6;\n\t\t\t}\n\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item.active:before,\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item.active:hover:before,\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item.checked:before,\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item.checked:hover:before {\n\t\t\t\toutline: 1px solid;\n\t\t\t}\n\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item:hover:before {\n\t\t\t\toutline: 1px dashed;\n\t\t\t}\n\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item.active:before,\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item.checked:before,\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item:hover:before {\n\t\t\t\topacity: 1;\n\t\t\t}\n\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item:focus:before {\n\t\t\t\tborder-left-color: '+n+";\n\t\t\t}\n\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item.active:before,\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item.active:hover:before,\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item.checked:before,\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item.checked:hover:before,\n\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item:hover:before {\n\t\t\t\toutline-color: "+n+";\n\t\t\t}\n\t\t");else{var i=e.getColor(C.focusBorder);i&&t.addRule("\n\t\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item.active .action-label,\n\t\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item.checked .action-label,\n\t\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item:focus .action-label,\n\t\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item:hover .action-label {\n\t\t\t\t\topacity: 1;\n\t\t\t\t}\n\n\t\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item .action-label {\n\t\t\t\t\topacity: 0.6;\n\t\t\t\t}\n\n\t\t\t\t.monaco-workbench > .activitybar > .content .monaco-action-bar .action-item:focus:before {\n\t\t\t\t\tborder-left-color: "+i+";\n\t\t\t\t}\n\t\t\t")}})}),define(u[1288],d([1,0,511,4,9,34,7,40,49,380,15,212,1287,57,47,6,59,31,161,41,86,5,444,13,74,29,1024]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var A=function(e){function t(n,i,r,s,a,c,l,u){var d=e.call(this,n,{hasTitle:!1},u)||this;d.viewletService=i,d.extensionService=r,d.storageService=s,d.contextMenuService=a,d.instantiationService=c,d.partService=l,d.globalActivityIdToActions=Object.create(null),d.viewletIdToActionItems=Object.create(null),d.viewletIdToActions=Object.create(null),d.viewletIdToActivityStack=Object.create(null),d.memento=d.getMemento(d.storageService,_.Scope.GLOBAL);var h=d.memento[t.PINNED_VIEWLETS];return d.pinnedViewlets=h?h.map(function(e){return"workbench.view.git"===e?"workbench.view.scm":e}).filter(o.uniqueFilter(function(e){return e})):d.viewletService.getViewlets().map(function(e){return e.id}),d.registerListeners(),d}return h(t,e),t.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.viewletService.onDidViewletOpen(function(t){return e.onDidViewletOpen(t)})),this.toUnbind.push(this.viewletService.onDidViewletClose(function(t){return e.onDidViewletClose(t)}))},t.prototype.onDidViewletOpen=function(e){var t=e.getId();this.viewletIdToActions[t]&&this.viewletIdToActions[t].activate();var n=this.activeUnpinnedViewlet&&this.activeUnpinnedViewlet.id!==e.getId();(!this.getPinnedViewlets().some(function(t){return t.id===e.getId()})||n)&&this.updateViewletSwitcher()},t.prototype.onDidViewletClose=function(e){var t=e.getId();this.viewletIdToActions[t]&&this.viewletIdToActions[t].deactivate()},t.prototype.showGlobalActivity=function(e,t){if(!t)throw s.illegalArgument("badge");var n=this.globalActivityIdToActions[e];if(!n)throw s.illegalArgument("globalActivityId");return n.setBadge(t),w.toDisposable(function(){return n.setBadge(void 0)})},t.prototype.showActivity=function(e,t,n){var i=this;if(!t)throw s.illegalArgument("badge");var r={badge:t,clazz:n};return(this.viewletIdToActivityStack[e]||(this.viewletIdToActivityStack[e]=[])).unshift(r),this.updateActivity(e),{dispose:function(){var t=i.viewletIdToActivityStack[e];if(t){var n=t.indexOf(r);n<0||(t.splice(n,1),0===t.length&&delete i.viewletIdToActivityStack[e],i.updateActivity(e))}}}},t.prototype.updateActivity=function(e){var t=this.viewletIdToActions[e];if(t){var n=this.viewletIdToActivityStack[e];if(n&&n.length){var i=n[0],r=i.badge,o=i.clazz;t.setBadge(r),o&&(t.class=o)}else t.setBadge(void 0)}},t.prototype.createContentArea=function(e){var t=this,n=a.$(e),i=a.$(".content").appendTo(n);return this.createViewletSwitcher(i.clone()),this.createGlobalActivityActionBar(i.getHTMLElement()),a.$(e).on("contextmenu",function(e){r.EventHelper.stop(e,!0),t.showContextMenu(e)},this.toUnbind),a.$(e).on(r.EventType.DROP,function(e){var n=p.ViewletActionItem.getDraggedViewlet();n&&(r.EventHelper.stop(e,!0),p.ViewletActionItem.clearDraggedViewlet(),t.pinnedViewlets[t.pinnedViewlets.length-1]!==n.id&&t.move(n.id,t.pinnedViewlets[t.pinnedViewlets.length-1]))}),i},t.prototype.updateStyles=function(){e.prototype.updateStyles.call(this);var t=this.getContainer(),n=this.getColor(k.ACTIVITY_BAR_BACKGROUND);t.style("background-color",n);var i=this.getColor(k.ACTIVITY_BAR_BORDER)||this.getColor(x.contrastBorder),r=this.partService.getSideBarPosition()===g.Position.LEFT;t.style("box-sizing",i&&r?"border-box":null),t.style("border-right-width",i&&r?"1px":null),t.style("border-right-style",i&&r?"solid":null),t.style("border-right-color",r?i:null),t.style("border-left-width",i&&!r?"1px":null),t.style("border-left-style",i&&!r?"solid":null),t.style("border-left-color",r?null:i)},t.prototype.showContextMenu=function(e){var t=this,r=new C.StandardMouseEvent(e),o=this.viewletService.getViewlets().map(function(e){return t.instantiationService.createInstance(p.ToggleViewletPinnedAction,e)});o.push(new c.Separator),o.push(this.instantiationService.createInstance(I.ToggleActivityBarVisibilityAction,I.ToggleActivityBarVisibilityAction.ID,n.localize(0,null))),this.contextMenuService.showContextMenu({getAnchor:function(){return{x:r.posx+1,y:r.posy}},getActions:function(){return i.TPromise.as(o)},onHide:function(){return w.dispose(o)}})},t.prototype.createViewletSwitcher=function(e){var t=this;this.viewletSwitcherBar=new c.ActionBar(e,{actionItemProvider:function(e){return e instanceof p.ViewletOverflowActivityAction?t.viewletOverflowActionItem:t.viewletIdToActionItems[e.id]},orientation:c.ActionsOrientation.VERTICAL,ariaLabel:n.localize(1,null),animated:!1}),this.updateViewletSwitcher(),this.extensionService.onReady().then(function(){return t.updateViewletSwitcher()})},t.prototype.createGlobalActivityActionBar=function(e){var t=this,i=u.Registry.as(l.GlobalActivityExtensions).getActivities().map(function(e){return t.instantiationService.createInstance(e)}).map(function(e){return new p.GlobalActivityAction(e)});this.globalActionBar=new c.ActionBar(e,{actionItemProvider:function(e){return t.instantiationService.createInstance(p.GlobalActivityActionItem,e)},orientation:c.ActionsOrientation.VERTICAL,ariaLabel:n.localize(2,null),animated:!1}),i.forEach(function(e){t.globalActivityIdToActions[e.id]=e,t.globalActionBar.push(e)})},t.prototype.updateViewletSwitcher=function(){var e=this;if(this.viewletSwitcherBar){var n=this.getPinnedViewlets(),i=this.viewletService.getActiveViewlet();i&&!n.some(function(e){return e.id===i.getId()})?(this.activeUnpinnedViewlet=this.viewletService.getViewlet(i.getId()),n.push(this.activeUnpinnedViewlet)):this.activeUnpinnedViewlet=void 0;var r=!1;if(this.dimension){var s=Math.floor(this.dimension.height/t.ACTIVITY_ACTION_HEIGHT);(r=n.length>s)&&(n=n.slice(0,s-1))}var a=Object.keys(this.viewletIdToActions),c=!o.equals(n.map(function(e){return e.id}),a);this.viewletOverflowAction&&c&&(this.viewletSwitcherBar.pull(this.viewletSwitcherBar.length()-1),this.viewletOverflowAction.dispose(),this.viewletOverflowAction=null,this.viewletOverflowActionItem.dispose(),this.viewletOverflowActionItem=null);var l=n.map(function(e){return e.id});a.forEach(function(t){-1===l.indexOf(t)&&e.pullViewlet(t)});var u=n.filter(function(t){return!e.viewletIdToActions[t.id]}).map(function(t){return e.toAction(t)});if(u.length){this.viewletSwitcherBar.push(u,{label:!0,icon:!0});var d=this.viewletService.getActiveViewlet();if(d){var h=this.viewletIdToActions[d.getId()];h&&h.activate()}Object.keys(this.viewletIdToActions).forEach(function(t){e.updateActivity(t)})}c&&r&&(this.viewletOverflowAction=this.instantiationService.createInstance(p.ViewletOverflowActivityAction,function(){return e.viewletOverflowActionItem.showMenu()}),this.viewletOverflowActionItem=this.instantiationService.createInstance(p.ViewletOverflowActivityActionItem,this.viewletOverflowAction,function(){return e.getOverflowingViewlets()},function(t){return e.viewletIdToActivityStack[t.id]&&e.viewletIdToActivityStack[t.id][0].badge}),this.viewletSwitcherBar.push(this.viewletOverflowAction,{label:!0,icon:!0}))}},t.prototype.getOverflowingViewlets=function(){var e=this.getPinnedViewlets();this.activeUnpinnedViewlet&&e.push(this.activeUnpinnedViewlet);var t=Object.keys(this.viewletIdToActions);return e.filter(function(e){return-1===t.indexOf(e.id)})},t.prototype.getVisibleViewlets=function(){var e=this.viewletService.getViewlets(),t=Object.keys(this.viewletIdToActions);return e.filter(function(e){return t.indexOf(e.id)>=0})},t.prototype.getPinnedViewlets=function(){var e=this;return this.pinnedViewlets.map(function(t){return e.viewletService.getViewlet(t)}).filter(function(e){return!!e})},t.prototype.pullViewlet=function(e){var t=Object.keys(this.viewletIdToActions).indexOf(e);if(t>=0){this.viewletSwitcherBar.pull(t);var n=this.viewletIdToActions[e];n.dispose(),delete this.viewletIdToActions[e],this.viewletIdToActionItems[n.id].dispose(),delete this.viewletIdToActionItems[n.id]}},t.prototype.toAction=function(e){var t=this.instantiationService.createInstance(p.ViewletActivityAction,e);return this.viewletIdToActionItems[t.id]=this.instantiationService.createInstance(p.ViewletActionItem,t),this.viewletIdToActions[e.id]=t,t},t.prototype.getPinned=function(){return this.pinnedViewlets},t.prototype.unpin=function(e){var t=this;if(this.isPinned(e)){var n=this.viewletService.getActiveViewlet(),r=this.viewletService.getDefaultViewletId(),o=this.getVisibleViewlets();(n&&n.getId()===e?r!==e&&this.isPinned(r)?this.viewletService.openViewlet(r,!0):1===o.length?this.partService.setSideBarHidden(!0):this.viewletService.openViewlet(o.filter(function(t){return t.id!==e})[0].id,!0):i.TPromise.as(null)).then(function(){var n=t.pinnedViewlets.indexOf(e);t.pinnedViewlets.splice(n,1),t.updateViewletSwitcher()})}},t.prototype.isPinned=function(e){return this.pinnedViewlets.indexOf(e)>=0},t.prototype.pin=function(e,t){var n=this;void 0===t&&(t=!0),this.isPinned(e)||this.viewletService.openViewlet(e,!0).then(function(){n.pinnedViewlets.push(e),n.pinnedViewlets=o.distinct(n.pinnedViewlets),t&&n.updateViewletSwitcher()})},t.prototype.move=function(e,t){var n=this;this.isPinned(e)||this.pin(e,!1);var i=this.pinnedViewlets.indexOf(e),r=this.pinnedViewlets.indexOf(t);this.pinnedViewlets.splice(i,1),this.pinnedViewlets.splice(r,0,e);for(var o=Object.keys(this.viewletIdToActions),s=Math.min(i,r);s<o.length;s++)this.pullViewlet(o[s]);setTimeout(function(){n.updateViewletSwitcher()},0)},t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t);return this.dimension=n[1],this.updateViewletSwitcher(),n},t.prototype.dispose=function(){this.viewletSwitcherBar&&(this.viewletSwitcherBar.dispose(),this.viewletSwitcherBar=null),this.globalActionBar&&(this.globalActionBar.dispose(),this.globalActionBar=null),e.prototype.dispose.call(this)},t.prototype.shutdown=function(){this.memento[t.PINNED_VIEWLETS]=this.pinnedViewlets,e.prototype.shutdown.call(this)},t}(d.Part);A.ACTIVITY_ACTION_HEIGHT=50,A.PINNED_VIEWLETS="workbench.activity.pinnedViewlets",A=v([y(1,f.IViewletService),y(2,b.IExtensionService),y(3,S.IStorageService),y(4,E.IContextMenuService),y(5,m.IInstantiationService),y(6,g.IPartService),y(7,T.IThemeService)],A),t.ActivitybarPart=A}),define(u[103],d([1,0,534,4,9,7,15,21,57,22,353]),function(e,t,n,i,r,o,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.getOptimalWidth=function(){return null},t}(u.Composite);t.Viewlet=d;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.create=function(t){var n=this;return e.prototype.create.call(this,t),this.viewerContainer=t.div(),this.viewer=this.createViewer(this.viewerContainer),this.toUnbind.push(this.viewer.addListener("selection",function(e){return n.onSelection(e)})),this.toUnbind.push(this.viewer.addListener("focus",function(e){return n.onFocus(e)})),i.TPromise.as(null)},t.prototype.getViewer=function(){return this.viewer},t.prototype.setVisible=function(t){var n;return t?(n=e.prototype.setVisible.call(this,t),this.getViewer().onVisible()):(this.getViewer().onHidden(),n=e.prototype.setVisible.call(this,t)),n},t.prototype.focus=function(){if(this.viewer){var e=this.viewer.getSelection();e.length>0&&this.reveal(e[0],.5).done(null,o.onUnexpectedError),this.viewer.DOMFocus()}},t.prototype.reveal=function(e,t){return this.viewer?(this.wasLayouted||this.viewer.layout(),this.viewer.reveal(e,t)):i.TPromise.as(null)},t.prototype.layout=function(e){this.viewer&&(this.wasLayouted=!0,this.viewer.layout(e.height))},t.prototype.getControl=function(){return this.viewer},t.prototype.dispose=function(){this.viewer&&this.viewer.dispose(),e.prototype.dispose.call(this)},t}(d);t.ViewerViewlet=p;var f=function(e){function t(t,n,i,r,o,s,a){var c=e.call(this,t,n,i,r,o,s)||this;return c._extensionId=a,a&&c.appendStaticArguments([i]),c}return h(t,e),Object.defineProperty(t.prototype,"extensionId",{get:function(){return this._extensionId},enumerable:!0,configurable:!0}),t}(u.CompositeDescriptor);t.ViewletDescriptor=f,t.Extensions={Viewlets:"workbench.contributions.viewlets"};var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.registerViewlet=function(t){e.prototype.registerComposite.call(this,t)},t.prototype.getViewlet=function(e){return this.getComposite(e)},t.prototype.getViewlets=function(){return this.getComposites()},t.prototype.setDefaultViewletId=function(e){this.defaultViewletId=e},t.prototype.getDefaultViewletId=function(){return this.defaultViewletId},t}(u.CompositeRegistry);t.ViewletRegistry=g,s.Registry.add(t.Extensions.Viewlets,new g);var m=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n)||this;return s.viewletService=r,s.editorService=o,s.viewletId=i,s.enabled=!!s.viewletService&&!!s.editorService,s}return h(t,e),t.prototype.run=function(){if(this.otherViewletShowing()||!this.sidebarHasFocus())return this.viewletService.openViewlet(this.viewletId,!0);var e=this.editorService.getActiveEditor();return e&&e.focus(),i.TPromise.as(!0)},t.prototype.otherViewletShowing=function(){var e=this.viewletService.getActiveViewlet();return!e||e.getId()!==this.viewletId},t.prototype.sidebarHasFocus=function(){var e=this.viewletService.getActiveViewlet(),t=document.activeElement;return e&&t&&r.isAncestor(t,e.getContainer().getHTMLElement())},t}(a.Action);m=v([y(3,c.IViewletService),y(4,l.IWorkbenchEditorService)],m),t.ToggleViewletAction=m;var b=function(e){function t(t,r,o){return e.call(this,"workbench.action.collapse",n.localize(0,null),o,r,function(e){return t.getHighlight()?i.TPromise.as(null):(t.collapseAll(),t.clearSelection(),t.clearFocus(),t.DOMFocus(),t.focusFirst(),i.TPromise.as(null))})||this}return h(t,e),t}(a.Action);t.CollapseAction=b}),define(u[1290],d([1,0,560,4,60,14,48,25,17,67,78,57]),function(e,t,n,i,r,o,s,a,c,l,u,d){"use strict";function p(e,t,n){var r=e.get(l.IDebugService),o=t.getPosition(),s=t.getModel().uri,a=r.getModel().getBreakpoints().filter(function(e){return e.lineNumber===o.lineNumber&&e.column===o.column&&e.uri.toString()===s.toString()}).pop();return a?n?r.removeBreakpoints(a.getId()):i.TPromise.as(null):r.getConfigurationManager().canSetBreakpointsIn(t.getModel())?r.addBreakpoints(s,[{lineNumber:o.lineNumber,column:o.column}]):i.TPromise.as(null)}Object.defineProperty(t,"__esModule",{value:!0});var f=function(e){function t(){return e.call(this,{id:"editor.debug.action.toggleBreakpoint",label:n.localize(0,null),alias:"Debug: Toggle Breakpoint",precondition:null,kbOpts:{kbExpr:s.EditorContextKeys.textFocus,primary:67}})||this}return h(t,e),t.prototype.run=function(e,t){var n=e.get(l.IDebugService),r=t.getPosition(),o=t.getModel().uri,s=n.getModel().getBreakpoints().filter(function(e){return e.lineNumber===r.lineNumber&&e.uri.toString()===o.toString()});return s.length?i.TPromise.join(s.map(function(e){return n.removeBreakpoints(e.getId())})):n.getConfigurationManager().canSetBreakpointsIn(t.getModel())?n.addBreakpoints(o,[{lineNumber:r.lineNumber}]):i.TPromise.as(null)},t}(a.EditorAction);f=v([a.editorAction],f);var g=function(e){function t(){return e.call(this,{id:"editor.debug.action.toggleColumnBreakpoint",label:n.localize(1,null),alias:"Debug: Column Breakpoint",precondition:null,kbOpts:{kbExpr:s.EditorContextKeys.textFocus,primary:1091}})||this}return h(t,e),t.prototype.run=function(e,t){return p(e,t,!0)},t}(a.EditorAction);g=v([a.editorAction],g);var m=function(e){function t(){return e.call(this,{id:"editor.debug.action.toggleColumnBreakpointContextMenu",label:n.localize(2,null),alias:"Toggle Column Breakpoint",precondition:c.ContextKeyExpr.and(l.CONTEXT_IN_DEBUG_MODE,l.CONTEXT_NOT_IN_DEBUG_REPL,s.EditorContextKeys.writable),menuOpts:{group:"debug",order:1}})||this}return h(t,e),t.prototype.run=function(e,t){return p(e,t,!1)},t}(a.EditorAction);m=v([a.editorAction],m);var y=function(e){function t(){return e.call(this,{id:"editor.debug.action.conditionalBreakpoint",label:n.localize(3,null),alias:"Debug: Add Conditional Breakpoint...",precondition:null})||this}return h(t,e),t.prototype.run=function(e,t){var n=e.get(l.IDebugService),i=t.getPosition(),r=i.lineNumber,o=i.column;n.getConfigurationManager().canSetBreakpointsIn(t.getModel())&&t.getContribution(l.EDITOR_CONTRIBUTION_ID).showBreakpointWidget(r,o)},t}(a.EditorAction);y=v([a.editorAction],y);var b=function(e){function t(){return e.call(this,{id:"editor.debug.action.runToCursor",label:n.localize(4,null),alias:"Debug: Run to Cursor",precondition:c.ContextKeyExpr.and(l.CONTEXT_IN_DEBUG_MODE,l.CONTEXT_NOT_IN_DEBUG_REPL,s.EditorContextKeys.writable,l.CONTEXT_DEBUG_STATE.isEqualTo("stopped")),menuOpts:{group:"debug",order:2}})||this}return h(t,e),t.prototype.run=function(e,t){var n=e.get(l.IDebugService);if(n.state!==l.State.Stopped)return i.TPromise.as(null);var r=t.getPosition(),o=t.getModel().uri,s=n.getViewModel().focusedProcess.session.onDidEvent(function(e){if("stopped"===e.event||"exit"===e.event){var t=n.getModel().getBreakpoints().filter(function(e){return e.lineNumber===r.lineNumber&&e.uri.toString()===o.toString()}).pop();t&&n.removeBreakpoints(t.getId()),s.dispose()}});return(!!n.getModel().getBreakpoints().filter(function(e){return e.column===r.column&&e.lineNumber===r.lineNumber&&e.uri.toString()===o.toString()}).pop()?i.TPromise.as(null):n.addBreakpoints(o,[{lineNumber:r.lineNumber,column:r.column}])).then(function(){n.getViewModel().focusedThread.continue()})},t}(a.EditorAction);b=v([a.editorAction],b);var S=function(e){function t(){return e.call(this,{id:"editor.debug.action.selectionToRepl",label:n.localize(5,null),alias:"Debug: Evaluate",precondition:c.ContextKeyExpr.and(s.EditorContextKeys.hasNonEmptySelection,l.CONTEXT_IN_DEBUG_MODE,l.CONTEXT_NOT_IN_DEBUG_REPL),menuOpts:{group:"debug",order:0}})||this}return h(t,e),t.prototype.run=function(e,t){var n=e.get(l.IDebugService),i=e.get(u.IPanelService),r=t.getModel().getValueInRange(t.getSelection());return n.addReplExpression(r).then(function(){return i.openPanel(l.REPL_ID,!0)}).then(function(e){})},t}(a.EditorAction);S=v([a.editorAction],S);var _=function(e){function t(){return e.call(this,{id:"editor.debug.action.selectionToWatch",label:n.localize(6,null),alias:"Debug: Add to Watch",precondition:c.ContextKeyExpr.and(s.EditorContextKeys.hasNonEmptySelection,l.CONTEXT_IN_DEBUG_MODE,l.CONTEXT_NOT_IN_DEBUG_REPL),menuOpts:{group:"debug",order:1}})||this}return h(t,e),t.prototype.run=function(e,t){var n=e.get(l.IDebugService),i=e.get(d.IViewletService),r=t.getModel().getValueInRange(t.getSelection());return i.openViewlet(l.VIEWLET_ID).then(function(){return n.addWatchExpression(r)})},t}(a.EditorAction);_=v([a.editorAction],_);var E=function(e){function t(){return e.call(this,{id:"editor.debug.action.showDebugHover",label:n.localize(7,null),alias:"Debug: Show Hover",precondition:l.CONTEXT_IN_DEBUG_MODE,kbOpts:{kbExpr:s.EditorContextKeys.textFocus,primary:r.KeyChord(2089,2087)}})||this}return h(t,e),t.prototype.run=function(e,t){var n=t.getPosition(),r=t.getModel().getWordAtPosition(n);if(!r)return i.TPromise.as(null);var s=new o.Range(n.lineNumber,n.column,n.lineNumber,r.endColumn);return t.getContribution(l.EDITOR_CONTRIBUTION_ID).showHover(s,!0)},t}(a.EditorAction);E=v([a.editorAction],E);var C=function(e){function t(){return e.call(this,{id:"closeBreakpointWidget",precondition:l.CONTEXT_BREAKPOINT_WIDGET_VISIBLE,kbOpts:{weight:a.CommonEditorRegistry.commandWeight(8),kbExpr:s.EditorContextKeys.focus,primary:9,secondary:[1033]}})||this}return h(t,e),t.prototype.runEditorCommand=function(e,t,n){return t.getContribution(l.EDITOR_CONTRIBUTION_ID).closeBreakpointWidget()},t}(a.EditorCommand);a.CommonEditorRegistry.registerEditorCommand(new C)}),define(u[1291],d([1,0,569,4,36,176,7,72,90,20,27,67,162,92,57]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerCommands=function(){a.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"_workbench.startDebug",weight:a.KeybindingsRegistry.WEIGHT.workbenchContrib(),handler:function(e,t){var n=e.get(d.IDebugService);t||(t=n.getViewModel().selectedConfigurationName),"string"==typeof t?(n.getViewModel().setSelectedConfigurationName(t),n.startDebugging()):n.createProcess(t)},when:d.CONTEXT_NOT_IN_DEBUG_MODE,primary:void 0}),a.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.customDebugRequest",weight:a.KeybindingsRegistry.WEIGHT.workbenchContrib(),handler:function(e,t,n){var i=e.get(d.IDebugService).getViewModel().focusedProcess;if(i)return i.session.custom(t,n)},when:d.CONTEXT_IN_DEBUG_MODE,primary:void 0}),a.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"debug.logToDebugConsole",weight:a.KeybindingsRegistry.WEIGHT.workbenchContrib(),handler:function(e,t){"string"==typeof t&&e.get(d.IDebugService).logToRepl(t,r.default.Warning)},when:void 0,primary:void 0}),a.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"debug.toggleBreakpoint",weight:a.KeybindingsRegistry.WEIGHT.workbenchContrib(5),when:d.CONTEXT_BREAKPOINTS_FOCUSED,primary:10,handler:function(e){var t=e.get(c.IListService),n=e.get(d.IDebugService),i=t.getFocused();if(!(i instanceof o.List)){var r=i.getFocus();n.enableOrDisableBreakpoints(!r.enabled,r).done(null,s.onUnexpectedError)}}}),a.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"debug.renameWatchExpression",weight:a.KeybindingsRegistry.WEIGHT.workbenchContrib(5),when:d.CONTEXT_WATCH_EXPRESSIONS_FOCUSED,primary:60,mac:{primary:3},handler:function(e){var t=e.get(c.IListService),n=e.get(d.IDebugService),i=t.getFocused();if(!(i instanceof o.List)){var r=i.getFocus();r instanceof h.Expression&&n.getViewModel().setSelectedExpression(r)}}}),a.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"debug.setVariable",weight:a.KeybindingsRegistry.WEIGHT.workbenchContrib(5),when:d.CONTEXT_VARIABLES_FOCUSED,primary:60,mac:{primary:3},handler:function(e){var t=e.get(c.IListService),n=e.get(d.IDebugService),i=t.getFocused();if(!(i instanceof o.List)){var r=i.getFocus();r instanceof h.Variable&&n.getViewModel().setSelectedExpression(r)}}}),a.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"debug.removeWatchExpression",weight:a.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:d.CONTEXT_WATCH_EXPRESSIONS_FOCUSED,primary:20,mac:{primary:2049},handler:function(e){var t=e.get(c.IListService),n=e.get(d.IDebugService),i=t.getFocused();if(!(i instanceof o.List)){var r=i.getFocus();r instanceof h.Expression&&n.removeWatchExpressions(r.getId())}}}),a.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"debug.removeBreakpoint",weight:a.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:d.CONTEXT_BREAKPOINTS_FOCUSED,primary:20,mac:{primary:2049},handler:function(e){var t=e.get(c.IListService),n=e.get(d.IDebugService),i=t.getFocused();if(!(i instanceof o.List)){var r=i.getFocus();r instanceof h.Breakpoint?n.removeBreakpoints(r.getId()).done(null,s.onUnexpectedError):r instanceof h.FunctionBreakpoint&&n.removeFunctionBreakpoints(r.getId()).done(null,s.onUnexpectedError)}}}),a.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"debug.installAdditionalDebuggers",weight:a.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:void 0,primary:void 0,handler:function(e){return e.get(f.IViewletService).openViewlet(p.VIEWLET_ID,!0).then(function(e){return e}).then(function(e){e.search("tag:debuggers @sort:installs"),e.focus()})}}),a.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"debug.addConfiguration",weight:a.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:void 0,primary:void 0,handler:function(e){var t=e.get(d.IDebugService).getConfigurationManager();return e.get(u.IWorkspaceContextService).hasWorkspace()?t.openConfigFile(!1).done(function(e){if(e){var t=e.getControl();if(t)return t.getContribution(d.EDITOR_CONTRIBUTION_ID).addLaunchConfiguration()}}):(e.get(l.IMessageService).show(r.default.Info,n.localize(0,null)),i.TPromise.as(null))}})}}),define(u[210],d([1,0,604,4,21,18,9,36,28,49,41,5,92,445,87,141,6,20,103,57,22,451,43,27,62,59,16,32,23,13,29,58,975]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A,L,P,D,O,R){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var M=function(e){function t(n){var i=e.call(this,"extensions.install",t.InstallLabel,t.Class,!1)||this;return i.extensionsWorkbenchService=n,i.disposables=[],i.disposables.push(i.extensionsWorkbenchService.onChange(function(){return i.update()})),i.update(),i}return h(t,e),Object.defineProperty(t.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e,this.update()},enumerable:!0,configurable:!0}),t.prototype.update=function(){if(!this.extension||this.extension.type===g.LocalExtensionType.System)return this.enabled=!1,this.class=t.Class,void(this.label=t.InstallLabel);this.enabled=this.extensionsWorkbenchService.canInstall(this.extension)&&this.extension.state===p.ExtensionState.Uninstalled,this.extension.state===p.ExtensionState.Installing?(this.label=t.InstallingLabel,this.class=t.InstallingClass):(this.label=t.InstallLabel,this.class=t.Class)},t.prototype.run=function(){return this.extensionsWorkbenchService.install(this.extension)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=d.dispose(this.disposables)},t}(r.Action);M.InstallLabel=n.localize(0,null),M.InstallingLabel=n.localize(1,null),M.Class="extension-action prominent install",M.InstallingClass="extension-action install installing",M=v([y(0,p.IExtensionsWorkbenchService)],M),t.InstallAction=M;var N=function(e){function t(n,i,r){var o=e.call(this,"extensions.uninstall",t.UninstallLabel,t.UninstallClass,!1)||this;return o.extensionsWorkbenchService=n,o.messageService=i,o.instantiationService=r,o.disposables=[],o.disposables.push(o.extensionsWorkbenchService.onChange(function(){return o.update()})),o.update(),o}return h(t,e),Object.defineProperty(t.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e,this.update()},enumerable:!0,configurable:!0}),t.prototype.update=function(){var e=this;if(this.extension){if(this.extension.state===p.ExtensionState.Uninstalling)return this.label=t.UninstallingLabel,this.class=t.UnInstallingClass,void(this.enabled=!1);this.label=t.UninstallLabel,this.class=t.UninstallClass;var n=this.extensionsWorkbenchService.local.filter(function(t){return t.id===e.extension.id});n.length&&n[0].type===g.LocalExtensionType.User?this.enabled=!0:this.enabled=!1}else this.enabled=!1},t.prototype.run=function(){return this.extensionsWorkbenchService.uninstall(this.extension)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=d.dispose(this.disposables)},t}(r.Action);N.UninstallLabel=n.localize(2,null),N.UninstallingLabel=n.localize(3,null),N.UninstallClass="extension-action uninstall",N.UnInstallingClass="extension-action uninstall uninstalling",N=v([y(0,p.IExtensionsWorkbenchService),y(1,S.IMessageService),y(2,b.IInstantiationService)],N),t.UninstallAction=N;var F=function(e){function t(t){var n=e.call(this,"extensions.combinedInstall","","",!1)||this;return n.disposables=[],n.installAction=t.createInstance(M),n.uninstallAction=t.createInstance(N),n.disposables.push(n.installAction,n.uninstallAction),n.installAction.onDidChange(n.update,n,n.disposables),n.uninstallAction.onDidChange(n.update,n,n.disposables),n.update(),n}return h(t,e),Object.defineProperty(t.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e,this.installAction.extension=e,this.uninstallAction.extension=e},enumerable:!0,configurable:!0}),t.prototype.update=function(){this.extension&&this.extension.type!==g.LocalExtensionType.System?this.installAction.enabled?(this.enabled=!0,this.label=this.installAction.label,this.class=this.installAction.class):this.uninstallAction.enabled?(this.enabled=!0,this.label=this.uninstallAction.label,this.class=this.uninstallAction.class):this.extension.state===p.ExtensionState.Installing?(this.enabled=!1,this.label=this.installAction.label,this.class=this.installAction.class):this.extension.state===p.ExtensionState.Uninstalling?(this.enabled=!1,this.label=this.uninstallAction.label,this.class=this.uninstallAction.class):(this.enabled=!1,this.label=this.installAction.label,this.class=this.installAction.class):(this.enabled=!1,this.class=t.NoExtensionClass)},t.prototype.run=function(){return this.installAction.enabled?this.installAction.run():this.uninstallAction.enabled?this.uninstallAction.run():i.TPromise.as(null)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=d.dispose(this.disposables)},t}(r.Action);F.NoExtensionClass="extension-action prominent install no-extension",F=v([y(0,b.IInstantiationService)],F),t.CombinedInstallAction=F;var W=function(e){function t(n){var i=e.call(this,"extensions.update",t.Label,t.DisabledClass,!1)||this;return i.extensionsWorkbenchService=n,i.disposables=[],i.disposables.push(i.extensionsWorkbenchService.onChange(function(){return i.update()})),i.update(),i}return h(t,e),Object.defineProperty(t.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e,this.update()},enumerable:!0,configurable:!0}),t.prototype.update=function(){if(!this.extension)return this.enabled=!1,this.class=t.DisabledClass,void(this.label=t.Label);if(this.extension.type!==g.LocalExtensionType.User)return this.enabled=!1,this.class=t.DisabledClass,void(this.label=t.Label);var e=this.extensionsWorkbenchService.canInstall(this.extension),i=this.extension.state===p.ExtensionState.Installed;this.enabled=e&&i&&this.extension.outdated,this.class=this.enabled?t.EnabledClass:t.DisabledClass,this.label=n.localize(5,null,this.extension.latestVersion)},t.prototype.run=function(){return this.extensionsWorkbenchService.install(this.extension)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=d.dispose(this.disposables)},t}(r.Action);W.EnabledClass="extension-action prominent update",W.DisabledClass=W.EnabledClass+" disabled",W.Label=n.localize(4,null),W=v([y(0,p.IExtensionsWorkbenchService)],W),t.UpdateAction=W;var B=function(e){function t(t,n,i){var r=e.call(this,null,t,{icon:!0,label:!0})||this;r.menuActionGroups=n,r.contextMenuService=i,r.disposables=[];for(var o=0,s=n;o<s.length;o++){var a=s[o];r.disposables=r.disposables.concat(a)}return r}return h(t,e),Object.defineProperty(t.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e;for(var t=0,n=this.menuActionGroups;t<n.length;t++)for(var i=0,r=n[t];i<r.length;i++)r[i].extension=e},enumerable:!0,configurable:!0}),t.prototype.showMenu=function(){var e=this.getActions(),t=s.getDomNodePagePosition(this.builder.getHTMLElement()),n={x:t.left,y:t.top+t.height+10};this.contextMenuService.showContextMenu({getAnchor:function(){return n},getActions:function(){return i.TPromise.wrap(e)},actionRunner:this.actionRunner})},t.prototype.getActions=function(){for(var e=[],t=0,n=this.menuActionGroups.filter(function(e){return e.some(function(e){return e.enabled})});t<n.length;t++){var i=n[t];e=e.concat(i,[new l.Separator])}return e.length?e.slice(0,e.length-1):e},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=d.dispose(this.disposables)},t}(l.ActionItem);B=v([y(2,u.IContextMenuService)],B),t.DropDownMenuActionItem=B;var V=function(e){function t(i,r,o,s){var a=e.call(this,t.ID)||this;return a.workspaceContextService=i,a.extensionsWorkbenchService=r,a.extensionEnablementService=o,a.instantiationService=s,a.disposables=[],a._actionItem=a.instantiationService.createInstance(B,a,[[s.createInstance(z,n.localize(6,null)),s.createInstance(H,n.localize(7,null))],[s.createInstance(U,n.localize(8,null)),s.createInstance(j,n.localize(9,null))],[s.createInstance(N)]]),a.disposables.push(a._actionItem),a.disposables.push(a.extensionsWorkbenchService.onChange(function(){return a.update()})),a.update(),a}return h(t,e),Object.defineProperty(t.prototype,"actionItem",{get:function(){return this._actionItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e,this._actionItem.extension=e,this.update()},enumerable:!0,configurable:!0}),t.prototype.update=function(){if(this.class=t.HideManageExtensionClass,this.tooltip="",this.enabled=!1,this.extension&&this.extension.type!==g.LocalExtensionType.System){var e=this.extension.state;this.enabled=e===p.ExtensionState.Installed,this.class=this.enabled||e===p.ExtensionState.Uninstalling?t.Class:t.HideManageExtensionClass,this.tooltip=e===p.ExtensionState.Uninstalling?n.localize(10,null):""}},t.prototype.run=function(){return this._actionItem.showMenu(),i.TPromise.wrap(null)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=d.dispose(this.disposables)},t}(r.Action);V.ID="extensions.manage",V.Class="extension-action manage",V.HideManageExtensionClass=V.Class+" hide",V=v([y(0,T.IWorkspaceContextService),y(1,p.IExtensionsWorkbenchService),y(2,g.IExtensionEnablementService),y(3,b.IInstantiationService)],V),t.ManageExtensionAction=V;var z=function(e){function t(n,i,r,o,s){var a=e.call(this,t.ID,n)||this;return a.workspaceContextService=i,a.extensionsWorkbenchService=r,a.extensionEnablementService=o,a.instantiationService=s,a.disposables=[],a.disposables.push(a.extensionsWorkbenchService.onChange(function(){return a.update()})),a.update(),a}return h(t,e),Object.defineProperty(t.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e,this.update()},enumerable:!0,configurable:!0}),t.prototype.update=function(){this.enabled=!1,this.extension&&(this.enabled=!this.extension.disabledGlobally&&this.extension.disabledForWorkspace&&this.extensionEnablementService.canEnable(this.extension.id))},t.prototype.run=function(){return this.extensionsWorkbenchService.setEnablement(this.extension,!0,!0)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=d.dispose(this.disposables)},t}(r.Action);z.ID="extensions.enableForWorkspace",z.LABEL=n.localize(11,null),z=v([y(1,T.IWorkspaceContextService),y(2,p.IExtensionsWorkbenchService),y(3,g.IExtensionEnablementService),y(4,b.IInstantiationService)],z),t.EnableForWorkspaceAction=z;var H=function(e){function t(n,i,r,o){var s=e.call(this,t.ID,n)||this;return s.extensionsWorkbenchService=i,s.extensionEnablementService=r,s.instantiationService=o,s.disposables=[],s.disposables.push(s.extensionsWorkbenchService.onChange(function(){return s.update()})),s.update(),s}return h(t,e),Object.defineProperty(t.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e,this.update()},enumerable:!0,configurable:!0}),t.prototype.update=function(){this.enabled=!1,this.extension&&(this.enabled=this.extension.disabledGlobally&&this.extensionEnablementService.canEnable(this.extension.id))},t.prototype.run=function(){return this.extensionsWorkbenchService.setEnablement(this.extension,!0,!1)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=d.dispose(this.disposables)},t}(r.Action);H.ID="extensions.enableGlobally",H.LABEL=n.localize(12,null),H=v([y(1,p.IExtensionsWorkbenchService),y(2,g.IExtensionEnablementService),y(3,b.IInstantiationService)],H),t.EnableGloballyAction=H;var K=function(e){function t(i,r,o){var s=e.call(this,t.ID,n.localize(13,null),t.DisabledClass,!1)||this;return s.instantiationService=i,s.extensionsWorkbenchService=r,s.extensionEnablementService=o,s.disposables=[],s._actionItem=s.instantiationService.createInstance(B,s,[[i.createInstance(z,z.LABEL),i.createInstance(H,H.LABEL)]]),s.disposables.push(s._actionItem),s.disposables.push(s.extensionsWorkbenchService.onChange(function(){return s.update()})),s.update(),s}return h(t,e),Object.defineProperty(t.prototype,"actionItem",{get:function(){return this._actionItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e,this._actionItem.extension=e,this.update()},enumerable:!0,configurable:!0}),t.prototype.update=function(){if(!this.extension)return this.enabled=!1,void(this.class=t.DisabledClass);this.enabled=this.extension.state===p.ExtensionState.Installed&&(this.extension.disabledGlobally||this.extension.disabledForWorkspace)&&this.extensionEnablementService.canEnable(this.extension.id),this.class=this.enabled?t.EnabledClass:t.DisabledClass},t.prototype.run=function(){return this._actionItem.showMenu(),i.TPromise.wrap(null)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=d.dispose(this.disposables)},t}(r.Action);K.ID="extensions.enable",K.EnabledClass="extension-action prominent enable",K.DisabledClass=K.EnabledClass+" disabled",K=v([y(0,b.IInstantiationService),y(1,p.IExtensionsWorkbenchService),y(2,g.IExtensionEnablementService)],K),t.EnableAction=K;var U=function(e){function t(n,i,r,o){var s=e.call(this,t.ID,n)||this;return s.workspaceContextService=i,s.extensionsWorkbenchService=r,s.instantiationService=o,s.disposables=[],s.disposables.push(s.extensionsWorkbenchService.onChange(function(){return s.update()})),s.update(),s}return h(t,e),Object.defineProperty(t.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e,this.update()},enumerable:!0,configurable:!0}),t.prototype.update=function(){this.enabled=!1,this.extension&&this.workspaceContextService.hasWorkspace()&&(this.enabled=this.extension.type!==g.LocalExtensionType.System&&!this.extension.disabledGlobally&&!this.extension.disabledForWorkspace)},t.prototype.run=function(){return this.extensionsWorkbenchService.setEnablement(this.extension,!1,!0)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=d.dispose(this.disposables)},t}(r.Action);U.ID="extensions.disableForWorkspace",U.LABEL=n.localize(14,null),U=v([y(1,T.IWorkspaceContextService),y(2,p.IExtensionsWorkbenchService),y(3,b.IInstantiationService)],U),t.DisableForWorkspaceAction=U;var j=function(e){function t(n,i,r){var o=e.call(this,t.ID,n)||this;return o.extensionsWorkbenchService=i,o.instantiationService=r,o.disposables=[],o.disposables.push(o.extensionsWorkbenchService.onChange(function(){return o.update()})),o.update(),o}return h(t,e),Object.defineProperty(t.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e,this.update()},enumerable:!0,configurable:!0}),t.prototype.update=function(){this.enabled=!1,this.extension&&(this.enabled=this.extension.type!==g.LocalExtensionType.System&&!this.extension.disabledGlobally&&!this.extension.disabledForWorkspace)},t.prototype.run=function(){return this.extensionsWorkbenchService.setEnablement(this.extension,!1,!1)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=d.dispose(this.disposables)},t}(r.Action);j.ID="extensions.disableGlobally",j.LABEL=n.localize(15,null),j=v([y(1,p.IExtensionsWorkbenchService),y(2,b.IInstantiationService)],j),t.DisableGloballyAction=j;var G=function(e){function t(i,r){var o=e.call(this,t.ID,n.localize(16,null),t.DisabledClass,!1)||this;return o.instantiationService=i,o.extensionsWorkbenchService=r,o.disposables=[],o._actionItem=o.instantiationService.createInstance(B,o,[[i.createInstance(U,U.LABEL),i.createInstance(j,j.LABEL)]]),o.disposables.push(o._actionItem),o.disposables.push(o.extensionsWorkbenchService.onChange(function(){return o.update()})),o.update(),o}return h(t,e),Object.defineProperty(t.prototype,"actionItem",{get:function(){return this._actionItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e,this._actionItem.extension=e,this.update()},enumerable:!0,configurable:!0}),t.prototype.update=function(){if(!this.extension)return this.enabled=!1,void(this.class=t.DisabledClass);this.enabled=this.extension.state===p.ExtensionState.Installed&&this.extension.type!==g.LocalExtensionType.System&&!this.extension.disabledGlobally&&!this.extension.disabledForWorkspace,this.class=this.enabled?t.EnabledClass:t.DisabledClass},t.prototype.run=function(){return this._actionItem.showMenu(),i.TPromise.wrap(null)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=d.dispose(this.disposables)},t}(r.Action);G.ID="extensions.disable",G.EnabledClass="extension-action disable",G.DisabledClass=G.EnabledClass+" disabled",G=v([y(0,b.IInstantiationService),y(1,p.IExtensionsWorkbenchService)],G),t.DisableAction=G;var q=function(e){function t(t,n,i){void 0===t&&(t=Q.ID),void 0===n&&(n=Q.LABEL);var r=e.call(this,t,n,"",!0)||this;return r.extensionsWorkbenchService=i,r}return h(t,e),t.prototype.run=function(){return this.extensionsWorkbenchService.checkForUpdates()},t}(r.Action);q.ID="workbench.extensions.action.checkForUpdates",q.LABEL=n.localize(17,null),q=v([y(2,p.IExtensionsWorkbenchService)],q),t.CheckForUpdatesAction=q;var $=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n,"",!0)||this;return s.autoUpdateValue=i,s.extensionsWorkbenchService=o,s.updateEnablement(),r.onDidUpdateConfiguration(function(){return s.updateEnablement()}),s}return h(t,e),t.prototype.updateEnablement=function(){this.enabled=this.extensionsWorkbenchService.isAutoUpdateEnabled!==this.autoUpdateValue},t.prototype.run=function(){return this.extensionsWorkbenchService.setAutoUpdate(this.autoUpdateValue)},t}(r.Action);$=v([y(3,P.IConfigurationService),y(4,p.IExtensionsWorkbenchService)],$),t.ToggleAutoUpdateAction=$;var Y=function(e){function t(n,i,r,o){return void 0===n&&(n=t.ID),void 0===i&&(i=t.LABEL),e.call(this,n,i,!0,r,o)||this}return h(t,e),t}($);Y.ID="workbench.extensions.action.enableAutoUpdate",Y.LABEL=n.localize(18,null),Y=v([y(2,P.IConfigurationService),y(3,p.IExtensionsWorkbenchService)],Y),t.EnableAutoUpdateAction=Y;var X=function(e){function t(t,n,i,r){return void 0===t&&(t=Y.ID),void 0===n&&(n=Y.LABEL),e.call(this,t,n,!1,i,r)||this}return h(t,e),t}($);X.ID="workbench.extensions.action.disableAutoUpdate",X.LABEL=n.localize(19,null),X=v([y(2,P.IConfigurationService),y(3,p.IExtensionsWorkbenchService)],X),t.DisableAutoUpdateAction=X;var Q=function(e){function t(n,i,r){void 0===n&&(n=t.ID),void 0===i&&(i=t.LABEL);var o=e.call(this,n,i,"",!1)||this;return o.extensionsWorkbenchService=r,o.disposables=[],o.disposables.push(o.extensionsWorkbenchService.onChange(function(){return o.update()})),o.update(),o}return h(t,e),Object.defineProperty(t.prototype,"outdated",{get:function(){return this.extensionsWorkbenchService.local.filter(function(e){return e.outdated&&e.state!==p.ExtensionState.Installing})},enumerable:!0,configurable:!0}),t.prototype.update=function(){this.enabled=this.outdated.length>0},t.prototype.run=function(){var e=this;return i.TPromise.join(this.outdated.map(function(t){return e.extensionsWorkbenchService.install(t)}))},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=d.dispose(this.disposables)},t}(r.Action);Q.ID="workbench.extensions.action.updateAllExtensions",Q.LABEL=n.localize(20,null),Q=v([y(2,p.IExtensionsWorkbenchService)],Q),t.UpdateAllAction=Q;var Z=function(e){function t(i,r,s,a){var c=e.call(this,"extensions.reload",n.localize(21,null),t.DisabledClass,!1)||this;return c.extensionsWorkbenchService=i,c.messageService=r,c.windowService=s,c.extensionService=a,c.disposables=[],c.reloadMessaage="",c.throttler=new o.Throttler,c.disposables.push(c.extensionsWorkbenchService.onChange(function(){return c.update()})),c.update(),c}return h(t,e),Object.defineProperty(t.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e,this.update()},enumerable:!0,configurable:!0}),t.prototype.update=function(){var e=this;this.throttler.queue(function(){if(e.enabled=!1,e.tooltip="",e.reloadMessaage="",!e.extension)return i.TPromise.wrap(null);var t=e.extension.state;return t===p.ExtensionState.Installing||t===p.ExtensionState.Uninstalling?i.TPromise.wrap(null):e.extensionService.getExtensions().then(function(t){return e.computeReloadState(t)})}).done(function(){e.class=e.enabled?t.EnabledClass:t.DisabledClass})},t.prototype.computeReloadState=function(e){var t=this,i=this.extensionsWorkbenchService.local.some(function(e){return e.id===t.extension.id}),r=this.extension.state===p.ExtensionState.Uninstalled,o=this.extension.disabledForWorkspace||this.extension.disabledGlobally,s=e.filter(function(e){return m.areSameExtensions(e,t.extension)}),a=s.length>0,c=s.length>0&&this.extension.version!==s[0].version;if(i){if(c&&!o)return this.enabled=!0,this.tooltip=n.localize(22,null),void(this.reloadMessaage=n.localize(23,null,this.extension.displayName));if(!a&&!o)return this.enabled=!0,this.tooltip=n.localize(24,null),void(this.reloadMessaage=n.localize(25,null,this.extension.displayName));if(a&&o)return this.enabled=!0,this.tooltip=n.localize(26,null),void(this.reloadMessaage=n.localize(27,null,this.extension.displayName))}else if(r&&a)return this.enabled=!0,this.tooltip=n.localize(28,null),void(this.reloadMessaage=n.localize(29,null,this.extension.displayName))},t.prototype.run=function(){return this.messageService.confirm({message:this.reloadMessaage,type:"question",primaryButton:n.localize(30,null)})?this.windowService.reloadWindow():i.TPromise.wrap(null)},t}(r.Action);Z.EnabledClass="extension-action reload",Z.DisabledClass=Z.EnabledClass+" disabled",Z=v([y(0,p.IExtensionsWorkbenchService),y(1,S.IMessageService),y(2,k.IWindowService),y(3,x.IExtensionService)],Z),t.ReloadAction=Z;var J=function(e){function t(t,n,i,r){return e.call(this,t,n,p.VIEWLET_ID,i,r)||this}return h(t,e),t}(_.ToggleViewletAction);J.ID=p.VIEWLET_ID,J.LABEL=n.localize(31,null),J=v([y(2,E.IViewletService),y(3,C.IWorkbenchEditorService)],J),t.OpenExtensionsViewletAction=J;var ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t}(J);ee.ID="workbench.extensions.action.installExtensions",ee.LABEL=n.localize(32,null),t.InstallExtensionsAction=ee;var te=function(e){function t(t,n,i,r){var o=e.call(this,t,n,"clear-extensions",!0)||this;return o.viewletService=i,o.extensionsWorkbenchService=r,o}return h(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(p.VIEWLET_ID,!0).then(function(e){return e}).then(function(e){e.search("@installed"),e.focus()})},t}(r.Action);te.ID="workbench.extensions.action.showInstalledExtensions",te.LABEL=n.localize(33,null),te=v([y(2,E.IViewletService),y(3,p.IExtensionsWorkbenchService)],te),t.ShowInstalledExtensionsAction=te;var ne=function(e){function t(t,n,i,r){var o=e.call(this,t,n,"null",!0)||this;return o.viewletService=i,o.extensionsWorkbenchService=r,o}return h(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(p.VIEWLET_ID,!0).then(function(e){return e}).then(function(e){e.search("@disabled "),e.focus()})},t}(r.Action);ne.ID="workbench.extensions.action.showDisabledExtensions",ne.LABEL=n.localize(34,null),ne=v([y(2,E.IViewletService),y(3,p.IExtensionsWorkbenchService)],ne),t.ShowDisabledExtensionsAction=ne;var ie=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n,"clear-extensions",!0)||this;return s.viewletService=r,s.extensionsWorkbenchService=o,s.disposables=[],s.enabled=!1,i(s.onSearchChange,s,s.disposables),s}return h(t,e),t.prototype.onSearchChange=function(e){this.enabled=!!e},t.prototype.run=function(){return this.viewletService.openViewlet(p.VIEWLET_ID,!0).then(function(e){return e}).then(function(e){e.search(""),e.focus()})},t.prototype.dispose=function(){this.disposables=d.dispose(this.disposables)},t}(r.Action);ie.ID="workbench.extensions.action.clearExtensionsInput",ie.LABEL=n.localize(35,null),ie=v([y(3,E.IViewletService),y(4,p.IExtensionsWorkbenchService)],ie),t.ClearExtensionsInputAction=ie;var re=function(e){function t(t,n,i){var r=e.call(this,t,n,null,!0)||this;return r.viewletService=i,r}return h(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(p.VIEWLET_ID,!0).then(function(e){return e}).then(function(e){e.search("@outdated "),e.focus()})},t.prototype.isEnabled=function(){return!0},t}(r.Action);re.ID="workbench.extensions.action.listOutdatedExtensions",re.LABEL=n.localize(36,null),re=v([y(2,E.IViewletService)],re),t.ShowOutdatedExtensionsAction=re;var oe=function(e){function t(t,n,i){var r=e.call(this,t,n,null,!0)||this;return r.viewletService=i,r}return h(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(p.VIEWLET_ID,!0).then(function(e){return e}).then(function(e){e.search("@sort:installs "),e.focus()})},t.prototype.isEnabled=function(){return!0},t}(r.Action);oe.ID="workbench.extensions.action.showPopularExtensions",oe.LABEL=n.localize(37,null),oe=v([y(2,E.IViewletService)],oe),t.ShowPopularExtensionsAction=oe;var se=function(e){function t(t,n,i){var r=e.call(this,t,n,null,!0)||this;return r.viewletService=i,r}return h(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(p.VIEWLET_ID,!0).then(function(e){return e}).then(function(e){e.search("@recommended "),e.focus()})},t.prototype.isEnabled=function(){return!0},t}(r.Action);se.ID="workbench.extensions.action.showRecommendedExtensions",se.LABEL=n.localize(38,null),se=v([y(2,E.IViewletService)],se),t.ShowRecommendedExtensionsAction=se;var ae=function(e){function t(t,n,i,r){var o=e.call(this,t,n,null,i.hasWorkspace())||this;return o.viewletService=r,o}return h(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(p.VIEWLET_ID,!0).then(function(e){return e}).then(function(e){e.search("@recommended:workspace "),e.focus()})},t.prototype.isEnabled=function(){return!0},t}(r.Action);ae.ID="workbench.extensions.action.showWorkspaceRecommendedExtensions",ae.LABEL=n.localize(39,null),ae=v([y(2,T.IWorkspaceContextService),y(3,E.IViewletService)],ae),t.ShowWorkspaceRecommendedExtensionsAction=ae;var ce=function(e){function t(t,n,i){var r=e.call(this,t,n,null,!0)||this;return r.viewletService=i,r}return h(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(p.VIEWLET_ID,!0).then(function(e){return e}).then(function(e){e.search("@recommended:keymaps "),e.focus()})},t.prototype.isEnabled=function(){return!0},t}(r.Action);ce.ID="workbench.extensions.action.showRecommendedKeymapExtensions",ce.LABEL=n.localize(40,null),ce.SHORT_LABEL=n.localize(41,null),ce=v([y(2,E.IViewletService)],ce),t.ShowRecommendedKeymapExtensionsAction=ce;var le=function(e){function t(t,n,i){var r=e.call(this,t,n,null,!0)||this;return r.viewletService=i,r}return h(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(p.VIEWLET_ID,!0).then(function(e){return e}).then(function(e){e.search("@sort:installs category:languages "),e.focus()})},t.prototype.isEnabled=function(){return!0},t}(r.Action);le.ID="workbench.extensions.action.showLanguageExtensions",le.LABEL=n.localize(42,null),le.SHORT_LABEL=n.localize(43,null),le=v([y(2,E.IViewletService)],le),t.ShowLanguageExtensionsAction=le;var ue=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n,null,!0)||this;if(s.sortBy=r,s.viewletService=o,s.disposables=[],void 0===r)throw new Error("bad arguments");return s.query=w.Query.parse(""),s.enabled=!1,i(s.onSearchChange,s,s.disposables),s}return h(t,e),t.prototype.onSearchChange=function(e){var t=w.Query.parse(e);this.query=new w.Query(t.value,this.sortBy||t.sortBy),this.enabled=e&&this.query.isValid()&&!this.query.equals(t)},t.prototype.run=function(){var e=this;return this.viewletService.openViewlet(p.VIEWLET_ID,!0).then(function(e){return e}).then(function(t){t.search(e.query.toString()),t.focus()})},t.prototype.isEnabled=function(){return!0},t}(r.Action);ue=v([y(4,E.IViewletService)],ue),t.ChangeSortAction=ue;var de=function(e){function t(t,n,i,r,o,s,a){var c=e.call(this,t,n,null,r.hasWorkspace())||this;return c.fileService=i,c.contextService=r,c.extensionsService=o,c.editorService=s,c.messageService=a,c}return h(t,e),t.prototype.run=function(e){return this.openExtensionsFile()},t.prototype.openExtensionsFile=function(){var e=this;return this.contextService.hasWorkspace()?this.getOrCreateExtensionsFile().then(function(t){return e.editorService.openEditor({resource:t.extensionsFileResource,options:{forceOpen:!0,pinned:t.created}})},function(e){return i.TPromise.wrapError(new Error(n.localize(46,null,e)))}):(this.messageService.show(a.default.Info,n.localize(45,null)),i.TPromise.as(void 0))},t.prototype.getOrCreateExtensionsFile=function(){var e=this,t=A.default.file(c.join(this.contextService.getWorkspace().resource.fsPath,".vscode","extensions.json"));return this.fileService.resolveContent(t).then(function(e){return{created:!1,extensionsFileResource:t}},function(n){return e.fileService.updateContent(t,f.ExtensionsConfigurationInitialContent).then(function(){return{created:!0,extensionsFileResource:t}})})},t}(r.Action);de.ID="workbench.extensions.action.configureWorkspaceRecommendedExtensions",de.LABEL=n.localize(44,null),de=v([y(2,I.IFileService),y(3,T.IWorkspaceContextService),y(4,p.IExtensionsWorkbenchService),y(5,C.IWorkbenchEditorService),y(6,S.IMessageService)],de),t.ConfigureWorkspaceRecommendedExtensionsAction=de;var he=function(e){function t(){return e.call(this,"extensions.install",n.localize(47,null),"",!1)||this}return h(t,e),Object.defineProperty(t.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e,this.update()},enumerable:!0,configurable:!0}),t.prototype.update=function(){this.extension&&this.extension.type===g.LocalExtensionType.System?this.class=t.Class+" system":this.class=t.Class+" user"},t.prototype.run=function(){return i.TPromise.as(null)},t}(r.Action);he.Class="extension-action built-in-status",t.BuiltinStatusLabelAction=he;var pe=function(e){function t(n,i,r,o){void 0===n&&(n=t.ID),void 0===i&&(i=t.LABEL);var s=e.call(this,n,i)||this;return s.extensionsWorkbenchService=r,s.extensionEnablementService=o,s.disposables=[],s.update(),s.disposables.push(s.extensionsWorkbenchService.onChange(function(){return s.update()})),s}return h(t,e),t.prototype.update=function(){this.enabled=this.extensionsWorkbenchService.local.some(function(e){return e.type===g.LocalExtensionType.User&&!e.disabledForWorkspace&&!e.disabledGlobally})},t.prototype.run=function(){var e=this;return i.TPromise.join(this.extensionsWorkbenchService.local.map(function(t){return e.extensionsWorkbenchService.setEnablement(t,!1)}))},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=d.dispose(this.disposables)},t}(r.Action);pe.ID="workbench.extensions.action.disableAll",pe.LABEL=n.localize(48,null),pe=v([y(2,p.IExtensionsWorkbenchService),y(3,g.IExtensionEnablementService)],pe),t.DisableAllAction=pe;var fe=function(e){function t(n,i,r,o,s){void 0===n&&(n=t.ID),void 0===i&&(i=t.LABEL);var a=e.call(this,n,i)||this;return a.workspaceContextService=r,a.extensionsWorkbenchService=o,a.extensionEnablementService=s,a.disposables=[],a.update(),a.disposables.push(a.extensionsWorkbenchService.onChange(function(){return a.update()})),a}return h(t,e),t.prototype.update=function(){this.enabled=this.workspaceContextService.hasWorkspace()&&this.extensionsWorkbenchService.local.some(function(e){return e.type===g.LocalExtensionType.User&&!e.disabledForWorkspace&&!e.disabledGlobally})},t.prototype.run=function(){var e=this;return i.TPromise.join(this.extensionsWorkbenchService.local.map(function(t){return e.extensionsWorkbenchService.setEnablement(t,!1,!0)}))},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=d.dispose(this.disposables)},t}(r.Action);fe.ID="workbench.extensions.action.disableAllWorkspace",fe.LABEL=n.localize(49,null),fe=v([y(2,T.IWorkspaceContextService),y(3,p.IExtensionsWorkbenchService),y(4,g.IExtensionEnablementService)],fe),t.DisableAllWorkpsaceAction=fe;var ge=function(e){function t(n,i,r,o){void 0===n&&(n=t.ID),void 0===i&&(i=t.LABEL);var s=e.call(this,n,i)||this;return s.extensionsWorkbenchService=r,s.extensionEnablementService=o,s.disposables=[],s.update(),s.disposables.push(s.extensionsWorkbenchService.onChange(function(){return s.update()})),s}return h(t,e),t.prototype.update=function(){var e=this;this.enabled=this.extensionsWorkbenchService.local.some(function(t){return e.extensionEnablementService.canEnable(t.id)&&t.disabledGlobally})},t.prototype.run=function(){var e=this;return i.TPromise.join(this.extensionsWorkbenchService.local.map(function(t){return e.extensionsWorkbenchService.setEnablement(t,!0)}))},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=d.dispose(this.disposables)},t}(r.Action);ge.ID="workbench.extensions.action.enableAll",ge.LABEL=n.localize(50,null),ge=v([y(2,p.IExtensionsWorkbenchService),y(3,g.IExtensionEnablementService)],ge),t.EnableAllAction=ge;var ve=function(e){function t(n,i,r,o,s){void 0===n&&(n=t.ID),void 0===i&&(i=t.LABEL);var a=e.call(this,n,i)||this;return a.workspaceContextService=r,a.extensionsWorkbenchService=o,a.extensionEnablementService=s,a.disposables=[],a.update(),a.disposables.push(a.extensionsWorkbenchService.onChange(function(){return a.update()})),a}return h(t,e),t.prototype.update=function(){var e=this;this.enabled=this.workspaceContextService.hasWorkspace()&&this.extensionsWorkbenchService.local.some(function(t){return e.extensionEnablementService.canEnable(t.id)&&!t.disabledGlobally&&t.disabledForWorkspace})},t.prototype.run=function(){var e=this;return i.TPromise.join(this.extensionsWorkbenchService.local.map(function(t){return e.extensionsWorkbenchService.setEnablement(t,!0,!0)}))},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=d.dispose(this.disposables)},t}(r.Action);ve.ID="workbench.extensions.action.enableAllWorkspace",ve.LABEL=n.localize(51,null),ve=v([y(2,T.IWorkspaceContextService),y(3,p.IExtensionsWorkbenchService),y(4,g.IExtensionEnablementService)],ve),t.EnableAllWorkpsaceAction=ve,L.CommandsRegistry.registerCommand("workbench.extensions.action.showLanguageExtensions",function(e,t){return e.get(E.IViewletService).openViewlet(p.VIEWLET_ID,!0).then(function(e){return e}).then(function(e){e.search("ext:"+t.replace(/^\./,"")),e.focus()})}),t.extensionButtonProminentBackground=O.registerColor("extensionButton.prominentBackground",{dark:"#327e36",light:"#327e36",hc:null},n.localize(52,null)),t.extensionButtonProminentForeground=O.registerColor("extensionButton.prominentForeground",{dark:R.Color.white,light:R.Color.white,hc:null},n.localize(53,null)),t.extensionButtonProminentHoverBackground=O.registerColor("extensionButton.prominentHoverBackground",{dark:"#28632b",light:"#28632b",hc:null},n.localize(54,null)),D.registerThemingParticipant(function(e,n){var i=e.getColor(O.foreground);i&&n.addRule(".monaco-action-bar .action-item .action-label.extension-action.built-in-status { border-color: "+i+"; }");var r=e.getColor(O.buttonBackground);r&&n.addRule(".monaco-action-bar .action-item .action-label.extension-action { background-color: "+r+"; }");var o=e.getColor(O.buttonForeground);o&&n.addRule(".monaco-action-bar .action-item .action-label.extension-action { color: "+o+"; }");var s=e.getColor(O.buttonHoverBackground);s&&n.addRule(".monaco-action-bar .action-item:hover .action-label.extension-action { background-color: "+s+"; }");var a=e.getColor(O.contrastBorder);a&&n.addRule(".monaco-action-bar .action-item .action-label.extension-action { border: 1px solid "+a+"; }");var c=e.getColor(t.extensionButtonProminentBackground);t.extensionButtonProminentBackground&&n.addRule(".monaco-action-bar .action-item .action-label.extension-action.prominent { background-color: "+c+"; }");var l=e.getColor(t.extensionButtonProminentForeground);t.extensionButtonProminentForeground&&n.addRule(".monaco-action-bar .action-item .action-label.extension-action.prominent { color: "+l+"; }");var u=e.getColor(t.extensionButtonProminentHoverBackground);t.extensionButtonProminentHoverBackground&&n.addRule(".monaco-action-bar .action-item:hover .action-label.extension-action.prominent { background-color: "+u+"; }")})}),define(u[1293],d([1,0,603,4,183,18,34,11,8,1329,21,7,36,5,150,9,98,57,19,6,87,92,990,23,448,49,210,264,243,38,127,20,119,128,90,47,13,225,55,970]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,b,S,_,E,C,w,I,T,k,x,A,L,P,D,O,R,M,N,F,W,B,V,z,H){"use strict";function K(t){return'<!DOCTYPE html>\n\t\t<html>\n\t\t\t<head>\n\t\t\t\t<meta http-equiv="Content-type" content="text/html;charset=UTF-8">\n\t\t\t\t<meta http-equiv="Content-Security-Policy" content="default-src \'none\'; img-src https:; media-src https:; script-src \'none\'; style-src file:; child-src \'none\'; frame-src \'none\';">\n\t\t\t\t<link rel="stylesheet" type="text/css" href="'+e.toUrl("./media/markdown.css")+'">\n\t\t\t</head>\n\t\t\t<body>'+t+"</body>\n\t\t</html>"}function U(e){for(var t=(new DOMParser).parseFromString(e,"text/html"),n=t.documentElement.querySelectorAll("svg"),i=0;i<n.length;i++)n[i].parentNode.removeChild(n[i]);return t.documentElement.outerHTML}Object.defineProperty(t,"__esModule",{value:!0});var j=function(){function e(e){this._onChange=new c.Emitter,this.currentId=null;var t=b.append(e,b.$(".navbar"));this.actions=[],this.actionbar=new A.ActionBar(t,{animated:!1})}return Object.defineProperty(e.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:!0,configurable:!0}),e.prototype.push=function(e,t){var n=this,i=function(){return n._update(e)},r=new u.Action(e,t,null,!0,i);this.actions.push(r),this.actionbar.push(r),1===this.actions.length&&i()},e.prototype.clear=function(){this.actions=f.dispose(this.actions),this.actionbar.clear()},e.prototype.update=function(){this._update(this.currentId)},e.prototype._update=function(e){return void 0===e&&(e=this.currentId),this.currentId=e,this._onChange.fire(e),this.actions.forEach(function(t){return t.enabled=t.id!==e}),i.TPromise.as(null)},e.prototype.dispose=function(){this.actionbar=f.dispose(this.actionbar)},e}(),G={Readme:"readme",Contributions:"contributions",Changelog:"changelog",Dependencies:"dependencies"},q=function(e){function t(n,i,r,o,s,a,c,l,u,d,h,p){var g=e.call(this,t.ID,n,c)||this;return g.galleryService=i,g.configurationService=r,g.instantiationService=o,g.viewletService=s,g.extensionsWorkbenchService=a,g.themeService=c,g.keybindingService=l,g.messageService=u,g.openerService=d,g.listService=h,g.partService=p,g.layoutParticipants=[],g.contentDisposables=[],g.transientDisposables=[],g._highlight=null,g.highlightDisposable=f.empty,g.disposables=[],g.extensionReadme=null,g.extensionChangelog=null,g.extensionManifest=null,g.extensionDependencies=null,g}return h(t,e),t.prototype.createEditor=function(e){var t=e.getHTMLElement(),i=b.append(t,b.$(".extension-editor")),r=b.append(i,b.$(".header"));this.icon=b.append(r,b.$("img.icon",{draggable:!1}));var o=b.append(r,b.$(".details")),s=b.append(o,b.$(".title"));this.name=b.append(s,b.$("span.name.clickable",{title:n.localize(0,null)})),this.identifier=b.append(s,b.$("span.identifier",{title:n.localize(1,null)}));var a=b.append(o,b.$(".subtitle"));this.publisher=b.append(a,b.$("span.publisher.clickable",{title:n.localize(2,null)})),this.installCount=b.append(a,b.$("span.install",{title:n.localize(3,null)})),this.rating=b.append(a,b.$("span.rating.clickable",{title:n.localize(4,null)})),this.license=b.append(a,b.$("span.license.clickable")),this.license.textContent=n.localize(5,null),this.license.style.display="none",this.description=b.append(o,b.$(".description"));var l=b.append(o,b.$(".actions"));this.extensionActionBar=new A.ActionBar(l,{animated:!1,actionItemProvider:function(e){return e.id===L.EnableAction.ID?e.actionItem:e.id===L.DisableAction.ID?e.actionItem:null}}),this.disposables.push(this.extensionActionBar),c.chain(c.fromEventEmitter(this.extensionActionBar,"run")).map(function(e){return e.error}).filter(function(e){return!!e}).on(this.onError,this,this.disposables);var u=b.append(i,b.$(".body"));this.navbar=new j(u),this.content=b.append(u,b.$(".content"))},t.prototype.setInput=function(t,i){var r=this,o=t.extension;this.transientDisposables=f.dispose(this.transientDisposables),this.telemetryService.publicLog("extensionGallery:openExtension",o.telemetryData),this.extensionReadme=new l.default(function(){return o.getReadme()}),this.extensionChangelog=new l.default(function(){return o.getChangelog()}),this.extensionManifest=new l.default(function(){return o.getManifest()}),this.extensionDependencies=new l.default(function(){return r.extensionsWorkbenchService.loadDependencies(o)}),c.once(g.domEvent(this.icon,"error"))(function(){return r.icon.src=o.iconUrlFallback},null,this.transientDisposables),this.icon.src=o.iconUrl,this.name.textContent=o.displayName,this.identifier.textContent=o.id,this.publisher.textContent=o.publisherDisplayName,this.description.textContent=o.description,o.url&&(this.name.onclick=b.finalHandler(function(){return window.open(o.url)}),this.rating.onclick=b.finalHandler(function(){return window.open(o.url+"#review-details")}),this.publisher.onclick=b.finalHandler(function(){r.viewletService.openViewlet(I.VIEWLET_ID,!0).then(function(e){return e}).done(function(e){return e.search('publisher:"'+o.publisherDisplayName+'"')})}),o.licenseUrl?(this.license.onclick=b.finalHandler(function(){return window.open(o.licenseUrl)}),this.license.style.display="initial"):(this.license.onclick=null,this.license.style.display="none"));var s=this.instantiationService.createInstance(x.InstallWidget,this.installCount,{extension:o});this.transientDisposables.push(s);var a=this.instantiationService.createInstance(x.RatingsWidget,this.rating,{extension:o});this.transientDisposables.push(a);var u=this.instantiationService.createInstance(L.BuiltinStatusLabelAction),d=this.instantiationService.createInstance(L.CombinedInstallAction),h=this.instantiationService.createInstance(L.UpdateAction),p=this.instantiationService.createInstance(L.EnableAction),v=this.instantiationService.createInstance(L.DisableAction),m=this.instantiationService.createInstance(L.ReloadAction);return d.extension=o,u.extension=o,h.extension=o,p.extension=o,v.extension=o,m.extension=o,this.extensionActionBar.clear(),this.extensionActionBar.push([m,h,p,v,d,u],{icon:!0,label:!0}),this.transientDisposables.push(p,h,m,v,d,u),this.navbar.clear(),this.navbar.onChange(this.onNavbarChange.bind(this,o),this,this.transientDisposables),this.navbar.push(G.Readme,n.localize(6,null)),this.navbar.push(G.Contributions,n.localize(7,null)),this.navbar.push(G.Changelog,n.localize(8,null)),this.navbar.push(G.Dependencies,n.localize(9,null)),this.content.innerHTML="",e.prototype.setInput.call(this,t,i)},t.prototype.changePosition=function(t){this.navbar.update(),e.prototype.changePosition.call(this,t)},t.prototype.onNavbarChange=function(e,t){switch(this.contentDisposables=f.dispose(this.contentDisposables),this.content.innerHTML="",t){case G.Readme:return this.openReadme();case G.Contributions:return this.openContributions();case G.Changelog:return this.openChangelog();case G.Dependencies:return this.openDependencies(e)}},t.prototype.openMarkdown=function(e,t){var n=this;return this.loadContents(function(){return e.then(r.marked.parse).then(K).then(U).then(function(e){var t=n.extensionsWorkbenchService.allowedBadgeProviders,i=t.length>0?{allowScripts:!1,allowSvgs:!1,svgWhiteList:t}:void 0,r=new P.default(n.content,n.partService.getContainer(B.Parts.EDITOR_PART),i),o=s.insert(n.layoutParticipants,r);n.contentDisposables.push(f.toDisposable(o)),r.style(n.themeService.getTheme()),r.contents=[e],r.onDidClickLink(function(e){e&&["http","https","mailto"].indexOf(e.scheme)>=0&&n.openerService.open(e)},null,n.contentDisposables),n.themeService.onThemeChange(function(e){return r.style(e)},null,n.contentDisposables),n.contentDisposables.push(r)}).then(null,function(){b.append(n.content,b.$("p.nocontent")).textContent=t})})},t.prototype.openReadme=function(){return this.openMarkdown(this.extensionReadme.get(),n.localize(10,null))},t.prototype.openChangelog=function(){return this.openMarkdown(this.extensionChangelog.get(),n.localize(11,null))},t.prototype.openContributions=function(){var e=this;return this.loadContents(function(){return e.extensionManifest.get().then(function(t){var i=b.$("div",{class:"subcontent"}),r=new R.DomScrollableElement(i,{}),o=function(){return r.scanDomNode()},a=s.insert(e.layoutParticipants,{layout:o});e.contentDisposables.push(f.toDisposable(a));var c=![e.renderSettings(i,t,o),e.renderCommands(i,t,o),e.renderLanguages(i,t,o),e.renderThemes(i,t,o),e.renderJSONValidation(i,t,o),e.renderDebuggers(i,t,o),e.renderViews(i,t,o)].reduce(function(e,t){return t||e},!1);r.scanDomNode(),c?b.append(e.content,b.$("p.nocontent")).textContent=n.localize(12,null):(b.append(e.content,r.getDomNode()),e.contentDisposables.push(r))})})},t.prototype.openDependencies=function(e){var t=this;if(0!==e.dependencies.length)return this.loadContents(function(){return t.extensionDependencies.get().then(function(e){var n=b.$("div",{class:"subcontent"}),i=new R.DomScrollableElement(n,{});b.append(t.content,i.getDomNode()),t.contentDisposables.push(i);var r=t.renderDependencies(n,e),o=s.insert(t.layoutParticipants,{layout:function(){i.scanDomNode();var e=i.getScrollState();r.layout(e.height)}});t.contentDisposables.push(f.toDisposable(o)),t.contentDisposables.push(r),i.scanDomNode()},function(e){b.append(t.content,b.$("p.nocontent")).textContent=e,t.messageService.show(p.default.Error,e)})});b.append(this.content,b.$("p.nocontent")).textContent=n.localize(13,null)},t.prototype.renderDependencies=function(e,t){var n=this.instantiationService.createInstance(T.Renderer),i=this.instantiationService.createInstance(T.Controller),r=new F.Tree(e,{dataSource:new T.DataSource,renderer:n,controller:i},{indentPixels:40,twistiePixels:20,keyboardSupport:!1});return this.contentDisposables.push(H.attachListStyler(r,this.themeService)),r.setInput(t),this.contentDisposables.push(r.addListener("selection",function(e){e&&e.payload&&"keyboard"===e.payload.origin&&i.openExtension(r,!1)})),this.contentDisposables.push(this.listService.register(r)),r},t.prototype.renderSettings=function(e,t,i){var r=t.contributes,o=r&&r.configuration,s=o&&o.properties,a=s?Object.keys(s):[];if(!a.length)return!1;var c=b.$("details",{open:!0,ontoggle:i},b.$("summary",null,n.localize(14,null,a.length)),b.$.apply(void 0,["table",null,b.$("tr",null,b.$("th",null,n.localize(15,null)),b.$("th",null,n.localize(16,null)),b.$("th",null,n.localize(17,null)))].concat(a.map(function(e){return b.$("tr",null,b.$("td",null,b.$("code",null,e)),b.$("td",null,s[e].description),b.$("td",null,b.$("code",null,s[e].default)))}))));return b.append(e,c),!0},t.prototype.renderDebuggers=function(e,t,i){var r=t.contributes,o=r&&r.debuggers||[];if(!o.length)return!1;var s=b.$("details",{open:!0,ontoggle:i},b.$("summary",null,n.localize(18,null,o.length)),b.$.apply(void 0,["table",null,b.$("tr",null,b.$("th",null,n.localize(19,null)),b.$("th",null,n.localize(20,null)))].concat(o.map(function(e){return b.$("tr",null,b.$("td",null,e.label),b.$("td",null,e.type))}))));return b.append(e,s),!0},t.prototype.renderViews=function(e,t,i){var r=t.contributes,o=r&&r.views||{},s=Object.keys(o).reduce(function(e,t){var n=o[t];return e.push.apply(e,n.map(function(e){return m({},e,{location:t})})),e},[]);if(!s.length)return!1;var a=b.$("details",{open:!0,ontoggle:i},b.$("summary",null,n.localize(21,null,s.length)),b.$.apply(void 0,["table",null,b.$("tr",null,b.$("th",null,n.localize(22,null)),b.$("th",null,n.localize(23,null)),b.$("th",null,n.localize(24,null)))].concat(s.map(function(e){return b.$("tr",null,b.$("td",null,e.id),b.$("td",null,e.name),b.$("td",null,e.location))}))));return b.append(e,a),!0},t.prototype.renderThemes=function(e,t,i){var r=t.contributes,o=r&&r.themes||[];if(!o.length)return!1;var s=b.$("details",{open:!0,ontoggle:i},b.$("summary",null,n.localize(25,null,o.length)),b.$.apply(void 0,["ul",null].concat(o.map(function(e){return b.$("li",null,e.label)}))));return b.append(e,s),!0},t.prototype.renderJSONValidation=function(e,t,i){var r=t.contributes,o=r&&r.jsonValidation||[];if(!o.length)return!1;var s=b.$("details",{open:!0,ontoggle:i},b.$("summary",null,n.localize(26,null,o.length)),b.$.apply(void 0,["ul",null].concat(o.map(function(e){return b.$("li",null,e.fileMatch)}))));return b.append(e,s),!0},t.prototype.renderCommands=function(e,t,i){var r=this,o=t.contributes,c=(o&&o.commands||[]).map(function(e){return{id:e.command,title:e.title,keybindings:[],menus:[]}}),l=s.index(c,function(e){return e.id}),u=o&&o.menus||{};if(Object.keys(u).forEach(function(e){u[e].forEach(function(t){var n=l[t.command];n?n.menus.push(e):(n={id:t.command,title:"",keybindings:[],menus:[e]},l[n.id]=n,c.push(n))})}),(o&&o.keybindings||[]).forEach(function(e){var t=r.resolveKeybinding(e);if(t){var n=l[e.command];n?n.keybindings.push(t):(n={id:e.command,title:"",keybindings:[t],menus:[]},l[n.id]=n,c.push(n))}}),!c.length)return!1;var d=function(e){var t=b.$("");return new z.KeybindingLabel(t,a.OS).set(e,null),t},h=b.$("details",{open:!0,ontoggle:i},b.$("summary",null,n.localize(27,null,c.length)),b.$.apply(void 0,["table",null,b.$("tr",null,b.$("th",null,n.localize(28,null)),b.$("th",null,n.localize(29,null)),b.$("th",null,n.localize(30,null)),b.$("th",null,n.localize(31,null)))].concat(c.map(function(e){return b.$("tr",null,b.$("td",null,b.$("code",null,e.id)),b.$("td",null,e.title),b.$.apply(void 0,["td",null].concat(e.keybindings.map(function(e){return d(e)}))),b.$.apply(void 0,["td",null].concat(e.menus.map(function(e){return b.$("code",null,e)}))))}))));return b.append(e,h),!0},t.prototype.renderLanguages=function(e,t,i){var r=t.contributes,o=(r&&r.languages||[]).map(function(e){return{id:e.id,name:(e.aliases||[])[0]||e.id,extensions:e.extensions||[],hasGrammar:!1,hasSnippets:!1}}),a=s.index(o,function(e){return e.id});if((r&&r.grammars||[]).forEach(function(e){var t=a[e.language];t?t.hasGrammar=!0:(t={id:e.language,name:e.language,extensions:[],hasGrammar:!0,hasSnippets:!1},a[t.id]=t,o.push(t))}),(r&&r.snippets||[]).forEach(function(e){var t=a[e.language];t?t.hasSnippets=!0:(t={id:e.language,name:e.language,extensions:[],hasGrammar:!1,hasSnippets:!0},a[t.id]=t,o.push(t))}),!o.length)return!1;var c=b.$("details",{open:!0,ontoggle:i},b.$("summary",null,n.localize(32,null,o.length)),b.$.apply(void 0,["table",null,b.$("tr",null,b.$("th",null,n.localize(33,null)),b.$("th",null,n.localize(34,null)),b.$("th",null,n.localize(35,null)),b.$("th",null,n.localize(36,null)),b.$("th",null,n.localize(37,null)))].concat(o.map(function(e){return b.$("tr",null,b.$("td",null,e.id),b.$("td",null,e.name),b.$.apply(void 0,["td",null].concat(b.join(e.extensions.map(function(e){return b.$("code",null,e)})," "))),b.$("td",null,document.createTextNode(e.hasGrammar?"✔︎":"—")),b.$("td",null,document.createTextNode(e.hasSnippets?"✔︎":"—")))}))));return b.append(e,c),!0},t.prototype.resolveKeybinding=function(e){var t;switch(process.platform){case"win32":t=e.win;break;case"linux":t=e.linux;break;case"darwin":t=e.mac}var n=D.KeybindingIO.readKeybinding(t||e.key,a.OS);return n?this.keybindingService.resolveKeybinding(n)[0]:null},t.prototype.loadContents=function(e){var t=this;b.addClass(this.content,"loading");var n=e();n=o.always(n,function(){return b.removeClass(t.content,"loading")}),this.contentDisposables.push(f.toDisposable(function(){return n.cancel()}))},t.prototype.layout=function(){this.layoutParticipants.forEach(function(e){return e.layout()})},t.prototype.onError=function(e){d.isPromiseCanceledError(e)||this.messageService.show(p.default.Error,e)},t.prototype.dispose=function(){this._highlight=null,this.transientDisposables=f.dispose(this.transientDisposables),this.disposables=f.dispose(this.disposables),e.prototype.dispose.call(this)},t}(S.BaseEditor);q.ID="workbench.editor.extension",q=v([y(0,E.ITelemetryService),y(1,w.IExtensionGalleryService),y(2,k.IConfigurationService),y(3,C.IInstantiationService),y(4,_.IViewletService),y(5,I.IExtensionsWorkbenchService),y(6,V.IThemeService),y(7,O.IKeybindingService),y(8,M.IMessageService),y(9,N.IOpenerService),y(10,W.IListService),y(11,B.IPartService)],q),t.ExtensionEditor=q}),define(u[1294],d([1,0,9,5,49,6,20,8,150,92,210,141,448,140,41,59]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function e(){}return e.prototype.getHeight=function(){return 62},e.prototype.getTemplateId=function(){return"extension"},e}();t.Delegate=m;var b={icon:!0,label:!0},S=function(){function e(e,t,n,i,r){this.instantiationService=e,this.contextMenuService=t,this.messageService=n,this.extensionsWorkbenchService=i,this.extensionService=r}return Object.defineProperty(e.prototype,"templateId",{get:function(){return"extension"},enumerable:!0,configurable:!0}),e.prototype.renderTemplate=function(e){var t=this,i=n.append(e,n.$(".extension")),o=n.append(i,n.$("img.icon")),a=n.append(i,n.$(".details")),c=n.append(a,n.$(".header-container")),l=n.append(c,n.$(".header")),d=n.append(l,n.$("span.name")),f=n.append(l,n.$("span.version")),g=n.append(l,n.$("span.install-count")),v=n.append(l,n.$("span.ratings")),m=n.append(a,n.$(".description.ellipsis")),y=n.append(a,n.$(".footer")),S=n.append(y,n.$(".author.ellipsis")),_=new r.ActionBar(y,{animated:!1,actionItemProvider:function(e){return e.id===u.ManageExtensionAction.ID?e.actionItem:null}});_.addListener(p.EventType.RUN,function(e){var n=e.error;return n&&t.messageService.show(s.Severity.Error,n)});var E=this.instantiationService.createInstance(h.Label,f,function(e){return e.version}),C=this.instantiationService.createInstance(h.InstallWidget,g,{small:!0}),w=this.instantiationService.createInstance(h.RatingsWidget,v,{small:!0}),I=this.instantiationService.createInstance(u.BuiltinStatusLabelAction),T=this.instantiationService.createInstance(u.InstallAction),k=this.instantiationService.createInstance(u.UpdateAction),x=this.instantiationService.createInstance(u.ReloadAction),A=this.instantiationService.createInstance(u.ManageExtensionAction);return _.push([x,k,T,I,A],b),{root:e,element:i,icon:o,name:d,installCount:g,ratings:v,author:S,description:m,disposables:[E,C,w,I,k,x,A,_],extensionDisposables:[],set extension(e){E.extension=e,C.extension=e,w.extension=e,I.extension=e,T.extension=e,k.extension=e,x.extension=e,A.extension=e}}},e.prototype.renderPlaceholder=function(e,t){n.addClass(t.element,"loading"),t.root.removeAttribute("aria-label"),t.extensionDisposables=i.dispose(t.extensionDisposables),t.icon.src="",t.name.textContent="",t.author.textContent="",t.description.textContent="",t.installCount.style.display="none",t.ratings.style.display="none",t.extension=null},e.prototype.renderElement=function(e,t,r){var o=this;n.removeClass(r.element,"loading"),r.extensionDisposables=i.dispose(r.extensionDisposables),this.extensionService.getExtensions().then(function(t){var i=t.some(function(t){return d.areSameExtensions(t,e)}),s=o.extensionsWorkbenchService.local.some(function(t){return t.id===e.id});n.toggleClass(r.element,"disabled",s&&!i)}),a.once(c.domEvent(r.icon,"error"))(function(){return r.icon.src=e.iconUrlFallback},null,r.extensionDisposables),r.icon.src=e.iconUrl,r.icon.complete?r.icon.style.visibility="inherit":(r.icon.style.visibility="hidden",r.icon.onload=function(){return r.icon.style.visibility="inherit"}),r.root.setAttribute("aria-label",e.displayName),r.name.textContent=e.displayName,r.author.textContent=e.publisherDisplayName,r.description.textContent=e.description,r.installCount.style.display="",r.ratings.style.display="",r.extension=e},e.prototype.disposeTemplate=function(e){e.disposables=i.dispose(e.disposables)},e}();S=v([y(0,o.IInstantiationService),y(1,f.IContextMenuService),y(2,s.IMessageService),y(3,l.IExtensionsWorkbenchService),y(4,g.IExtensionService)],S),t.Renderer=S}),define(u[1295],d([1,0,605,4,115,102,84,92,57]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(t,n){var i=e.call(this)||this;return i.label=t,i.action=n,i}return h(t,e),t.prototype.getLabel=function(){return this.label},t.prototype.getAriaLabel=function(){return this.label},t.prototype.run=function(e){return e!==r.Mode.PREVIEW&&(this.action(),!0)},t}(o.QuickOpenEntry),u=function(e){function t(t){var n=e.call(this)||this;return n.viewletService=t,n}return h(t,e),t.prototype.getResults=function(e){var t=this,r=n.localize(0,null);return i.TPromise.as(new o.QuickOpenModel([new l(r,function(){t.viewletService.openViewlet(a.VIEWLET_ID,!0).then(function(e){return e}).done(function(e){e.search(""),e.focus()})})]))},t.prototype.getEmptyLabel=function(e){return""},t.prototype.getAutoFocus=function(e){return{autoFocusFirstEntry:!0}},t}(s.QuickOpenHandler);u=v([y(0,c.IViewletService)],u),t.ExtensionsHandler=u;var d=function(e){function t(t){var n=e.call(this)||this;return n.viewletService=t,n}return h(t,e),t.prototype.getResults=function(e){var t=this,r=[];if(e){var s=n.localize(1,null,e),c=function(){t.viewletService.openViewlet(a.VIEWLET_ID,!0).then(function(e){return e}).done(function(t){t.search(e),t.focus()})};r.push(new l(s,c))}return i.TPromise.as(new o.QuickOpenModel(r))},t.prototype.getEmptyLabel=function(e){return n.localize(2,null)},t.prototype.getAutoFocus=function(e){return{autoFocusFirstEntry:!0}},t}(s.QuickOpenHandler);d=v([y(0,c.IViewletService)],d),t.GalleryExtensionsHandler=d}),define(u[1296],d([1,0,608,28,4,131,5,145,94,87,44,31,80,20,6,210,36,27,79,43,92,23,65]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,m,b,S,_,E,C,w){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var I=Object.create(null),T=function(){function e(e,t,n,i,r,o,s,a,c,l,u){this._galleryService=e,this._modelService=t,this.storageService=n,this.choiceService=i,this.extensionsService=r,this.instantiationService=o,this.fileService=s,this.contextService=a,this.configurationService=c,this.configurationEditingService=l,this.messageService=u,this._recommendations=Object.create(null),this._availableRecommendations=Object.create(null),this.importantRecommendations=Object.create(null),this._disposables=[],this._galleryService.isEnabled()&&(this._suggestTips(),this._suggestWorkspaceRecommendations())}return e.prototype.getWorkspaceRecommendations=function(){return this.contextService.hasWorkspace()?this.fileService.resolveContent(this.contextService.toResource(i.join(".vscode","extensions.json"))).then(function(e){var t=c.parse(e.value,[]);if(t.recommendations){var n=new RegExp(l.EXTENSION_IDENTIFIER_PATTERN);return t.recommendations.filter(function(e,i){return t.recommendations.indexOf(e)===i&&n.test(e)})}return[]},function(e){return[]}):r.TPromise.as([])},e.prototype.getRecommendations=function(){var e=this._getAllRecommendationsInProduct();return Object.keys(this._recommendations).filter(function(t){return-1!==e.indexOf(t)})},e.prototype.getKeymapRecommendations=function(){return h.default.keymapExtensionTips||[]},e.prototype._getAllRecommendationsInProduct=function(){var e=this;return this._allRecommendations||(this._allRecommendations=Object.keys(this.importantRecommendations).slice(),o.forEach(this._availableRecommendations,function(t){var n=t.value;(i=e._allRecommendations).push.apply(i,n);var i})),this._allRecommendations},e.prototype._suggestTips=function(){var e=this,t=h.default.extensionTips;if(t){this.importantRecommendations=h.default.extensionImportantTips||Object.create(null),this.importantRecommendationsIgnoreList=JSON.parse(this.storageService.get("extensionsAssistant/importantRecommendationsIgnore",d.StorageScope.GLOBAL,"[]"));for(var n=0,i=JSON.parse(this.storageService.get("extensionsAssistant/recommendations",d.StorageScope.GLOBAL,"[]"));n<i.length;n++){var r=i[n];this._recommendations[r]=!0}this._availableRecommendations=Object.create(null),o.forEach(t,function(t){var n=t.key,i=t.value,r=e._availableRecommendations[i];r?r.push(n):e._availableRecommendations[i]=[n]}),o.forEach(h.default.extensionImportantTips,function(t){var n=t.key,i=t.value.pattern,r=e._availableRecommendations[i];r?r.push(n):e._availableRecommendations[i]=[n]}),this._modelService.onModelAdded(this._suggest,this,this._disposables),this._modelService.getModels().forEach(function(t){return e._suggest(t)})}},e.prototype._suggest=function(e){var t=this,i=e.uri;i&&i.scheme!==S.Schemas.inMemory&&i.scheme!==S.Schemas.internal&&i.scheme!==S.Schemas.vscode&&setImmediate(function(){o.forEach(t._availableRecommendations,function(e){var n=e.key,r=e.value;if(a.match(n,i.fsPath))for(var o=0,s=r;o<s.length;o++){var c=s[o];t._recommendations[c]=!0}}),t.storageService.store("extensionsAssistant/recommendations",JSON.stringify(Object.keys(t._recommendations)),d.StorageScope.GLOBAL),t.configurationService.getConfiguration(E.ConfigurationKey).ignoreRecommendations||t.extensionsService.getInstalled(l.LocalExtensionType.User).done(function(e){Object.keys(t.importantRecommendations).filter(function(e){return-1===t.importantRecommendationsIgnoreList.indexOf(e)}).filter(function(t){return e.every(function(e){return e.manifest.publisher+"."+e.manifest.name!==t})}).forEach(function(e){var r=t.importantRecommendations[e],o=r.pattern,s=r.name;if(a.match(o,i.fsPath)){var c=n.localize(0,null,s),l=t.instantiationService.createInstance(g.ShowRecommendedExtensionsAction,g.ShowRecommendedExtensionsAction.ID,n.localize(1,null)),u=[l.label,n.localize(2,null),n.localize(3,null)];t.choiceService.choose(m.default.Info,c,u,2).done(function(n){switch(n){case 0:return l.run();case 1:return t.importantRecommendationsIgnoreList.push(e),t.storageService.store("extensionsAssistant/importantRecommendationsIgnore",JSON.stringify(t.importantRecommendationsIgnoreList),d.StorageScope.GLOBAL),t.ignoreExtensionRecommendations()}})}})})})},e.prototype._suggestWorkspaceRecommendations=function(){var e=this,t="extensionsAssistant/workspaceRecommendationsIgnore";this.storageService.getBoolean(t,d.StorageScope.WORKSPACE,!1)||this.configurationService.getConfiguration(E.ConfigurationKey).ignoreRecommendations||this.getWorkspaceRecommendations().done(function(i){i.length&&e.extensionsService.getInstalled(l.LocalExtensionType.User).done(function(r){if(i.filter(function(e){return r.every(function(t){return t.manifest.publisher+"."+t.manifest.name!==e})}).length){var o=n.localize(4,null),s=e.instantiationService.createInstance(g.ShowWorkspaceRecommendedExtensionsAction,g.ShowWorkspaceRecommendedExtensionsAction.ID,n.localize(5,null)),a=[s.label,n.localize(6,null),n.localize(7,null)];e.choiceService.choose(m.default.Info,o,a,2).done(function(n){switch(n){case 0:return s.run();case 1:return e.storageService.store(t,!0,d.StorageScope.WORKSPACE)}})}})})},e.prototype.ignoreExtensionRecommendations=function(){var e=this,t=n.localize(8,null),i=[n.localize(9,null),n.localize(10,null),n.localize(11,null)];this.choiceService.choose(m.default.Info,t,i,2).done(function(t){switch(t){case 0:return e.messageService.hideAll(),e.setIgnoreRecommendationsConfig(!0);case 1:return e.setIgnoreRecommendationsConfig(!1)}})},e.prototype.setIgnoreRecommendationsConfig=function(e){var t=w.ConfigurationTarget.USER;if(this.configurationEditingService.writeConfiguration(t,{key:"extensions.ignoreRecommendations",value:e}),e){this.storageService.store("extensionsAssistant/workspaceRecommendationsIgnore",!0,d.StorageScope.WORKSPACE)}},e.prototype.getKeywordsForExtension=function(e){return(h.default.extensionKeywords||{})[e]||[]},e.prototype.getRecommendationsForExtension=function(e){var t="."+e,n=Object.create(null);return o.forEach(h.default.extensionTips||I,function(e){var i=e.key,r=e.value;a.match(r,t)&&(n[i]=!0)}),o.forEach(h.default.extensionImportantTips||I,function(e){var i=e.key,r=e.value;a.match(r.pattern,t)&&(n[i]=!0)}),Object.keys(n)},e.prototype.dispose=function(){this._disposables=s.dispose(this._disposables)},e}();T=v([y(0,l.IExtensionGalleryService),y(1,u.IModelService),y(2,d.IStorageService),y(3,p.IChoiceService),y(4,l.IExtensionManagementService),y(5,f.IInstantiationService),y(6,_.IFileService),y(7,b.IWorkspaceContextService),y(8,C.IConfigurationService),y(9,w.IConfigurationEditingService),y(10,p.IMessageService)],T),t.ExtensionTipsService=T}),define(u[1297],d([1,0,4,617,7,107,24,28,21,93,51,241,268,57,43,19,27,31,146,160,6,20,22,13,45,42]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var A=function(e){function t(n,i,r,o,s,a,c,l,u,d,h,p,f){var g=e.call(this,t.ID,n,o,a,l,d,p,f,h)||this;return g.fileService=i,g.viewletService=r,g.contextService=s,g.historyService=c,g.editorService=u,g.toUnbind.push(g.fileService.onFileChanges(function(e){return g.onFilesChanged(e)})),g.toUnbind.push(h.getStacksModel().onWillCloseEditor(function(e){return g.onWillCloseEditor(e)})),g}return h(t,e),t.prototype.onFilesChanged=function(e){var t=e.getDeleted();t&&t.length&&this.clearTextEditorViewState(t.map(function(e){return e.resource.toString()}))},t.prototype.onWillCloseEditor=function(e){e.editor===this.input&&this.position===this.editorGroupService.getStacksModel().positionOfGroup(e.group)&&this.doSaveTextEditorViewState(this.input)},t.prototype.getTitle=function(){return this.input?this.input.getName():i.localize(0,null)},Object.defineProperty(t.prototype,"input",{get:function(){return this._input},enumerable:!0,configurable:!0}),t.prototype.setInput=function(t,l){var u=this,d=this.input;e.prototype.setInput.call(this,t,l);var h=l&&l.forceOpen;if(d){var f=this.getControl().getSelection();f&&this.historyService.add(d,{selection:{startLineNumber:f.startLineNumber,startColumn:f.startColumn}})}return!h&&t.matches(d)?(l&&s.isFunction(l.apply)&&l.apply(this.getControl()),n.TPromise.as(null)):(this.doSaveTextEditorViewState(d),t.resolve(!0).then(function(e){if(e instanceof p.BinaryEditorModel)return u.openAsBinary(t,l);var n=e,i=!!u.input,r=n.isDisposed(),o=i&&u.input.getResource().toString()!==n.getResource().toString();if(!i||r||o)return null;var a=u.getControl();a.setModel(n.textEditorModel);var c=u.loadTextEditorViewState(u.input.getResource().toString());c&&a.restoreViewState(c),l&&s.isFunction(l.apply)&&l.apply(a)},function(e){if(e.fileOperationResult===g.FileOperationResult.FILE_IS_BINARY)return u.openAsBinary(t,l);if(e.fileOperationResult!==g.FileOperationResult.FILE_IS_DIRECTORY||!u.openAsFolder(t))return e.fileOperationResult===g.FileOperationResult.FILE_NOT_FOUND&&a.isValidBasename(a.basename(t.getResource().fsPath))?n.TPromise.wrapError(r.create(o.toErrorMessage(e),{actions:[new c.Action("workbench.files.action.createMissingFile",i.localize(1,null),null,!0,function(){return u.fileService.updateContent(t.getResource(),"").then(function(){return u.editorService.openEditor({resource:t.getResource(),options:{pinned:!0}})})}),w.CancelAction]})):n.TPromise.wrapError(e)}))},t.prototype.openAsBinary=function(e,t){e.setForceOpenAsBinary(),this.editorService.openEditor(e,t,this.position).done(null,r.onUnexpectedError)},t.prototype.openAsFolder=function(e){var t=this;return this.editorService.closeEditor(this.position,this.input).done(function(){t.contextService.isInsideWorkspace(e.getResource())&&t.viewletService.openViewlet(l.VIEWLET_ID,!0).done(function(t){return t.getExplorerView().select(e.getResource(),!0)},r.onUnexpectedError)},r.onUnexpectedError),!0},t.prototype.getAriaLabel=function(){var e=this.input,t=e&&e.getName();return t?i.localize(2,null,t):i.localize(3,null)},t.prototype.clearInput=function(){this.doSaveTextEditorViewState(this.input),this.getControl().setModel(null),e.prototype.clearInput.call(this)},t.prototype.shutdown=function(){this.doSaveTextEditorViewState(this.input),e.prototype.shutdown.call(this)},t.prototype.doSaveTextEditorViewState=function(e){e&&!e.isDisposed()&&this.saveTextEditorViewState(e.getResource().toString())},t}(d.BaseTextEditor);A.ID=l.TEXT_FILE_EDITOR_ID,A=v([y(0,m.ITelemetryService),y(1,g.IFileService),y(2,f.IViewletService),y(3,C.IInstantiationService),y(4,b.IWorkspaceContextService),y(5,S.IStorageService),y(6,E.IHistoryService),y(7,_.ITextResourceConfigurationService),y(8,I.IWorkbenchEditorService),y(9,T.IThemeService),y(10,k.IEditorGroupService),y(11,x.IModeService),y(12,u.ITextFileService)],A),t.TextFileEditor=A}),define(u[344],d([1,0,620,28,36,4,22,30,62,57,27,93,153,7,255,82,45,20]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,v,m){"use strict";function y(e,t){E(e).then(function(n){n&&(n.item.isDirectory?n.tree.toggleExpansion(n.item):e.get(s.IWorkbenchEditorService).openEditor({resource:n.item.resource},t).done(null,p.onUnexpectedError))})}function b(e,t){w(e).then(function(n){n&&e.get(s.IWorkbenchEditorService).openEditor(n.item.editorInput,null,t)})}function S(e,t,n){E(e).then(function(e){e&&e.explorer.getViewletState().actionProvider.runAction(e.tree,e.item,t,n).done(null,p.onUnexpectedError)})}function _(e){var t=e.get(l.IViewletService),n=t.getActiveViewlet();return n&&n.getId()===d.VIEWLET_ID?t.openViewlet(d.VIEWLET_ID,!1):o.TPromise.as(void 0)}function E(e){return C(e).then(function(e){if(e){var t=e.tree,n=e.explorer;if(t&&t.getFocus())return{explorer:n,tree:t,item:t.getFocus()}}})}function C(e){return _(e).then(function(e){if(e&&e.getExplorerView()){var t=e.getExplorerView().getViewer();if(!t.getHighlight()&&t.isDOMFocused())return{explorer:e,tree:t}}})}function w(e){return _(e).then(function(e){if(e&&e.getOpenEditorsView()){var t=e.getOpenEditorsView().getViewer(),n=t.getFocus();if(!t.getHighlight()&&t.isDOMFocused()&&n instanceof h.OpenEditor)return{explorer:e,tree:t,item:n}}})}function I(e){return E(e).then(function(t){return t?t.item:w(e).then(function(e){if(e)return e.item})})}Object.defineProperty(t,"__esModule",{value:!0}),t.copyPathCommand=function(e,t){if(!t){var i=e.get(v.IEditorGroupService),o=e.get(s.IWorkbenchEditorService).getActiveEditor();t=o?a.toResource(o.input,{supportSideBySide:!0,filter:"file"}):void 0,o&&i.focusGroup(o.position)}t?e.get(f.IClipboardService).writeText(g.getPathLabel(t)):e.get(m.IMessageService).show(r.default.Info,n.localize(0,null))},t.openFolderPickerCommand=function(e,t){e.get(c.IWindowService).pickFolderAndOpen(t)},t.openWindowCommand=function(e,t,n){e.get(c.IWindowsService).openWindow(t,{forceNewWindow:n})},t.openFileInNewWindowCommand=function(e){var t=e.get(c.IWindowService),n=e.get(s.IWorkbenchEditorService),r=a.toResource(n.getActiveEditorInput(),{supportSideBySide:!0,filter:"file"});t.pickFileAndOpen(!0,r?i.dirname(r.fsPath):void 0)},t.revealInOSCommand=function(e,t){if(!t){var o=e.get(s.IWorkbenchEditorService);t=a.toResource(o.getActiveEditorInput(),{supportSideBySide:!0,filter:"file"})}t?e.get(c.IWindowsService).showItemInFolder(i.normalize(t.fsPath,!0)):e.get(m.IMessageService).show(r.default.Info,n.localize(1,null))},t.revealInExplorerCommand=function(e,t){var n=e.get(l.IViewletService),i=e.get(u.IWorkspaceContextService);n.openViewlet(d.VIEWLET_ID,!1).then(function(e){if(i.isInsideWorkspace(t)){var n=e.getExplorerView();n&&(n.expand(),n.select(t,!0))}else{var r=e.getOpenEditorsView();r&&r.expand()}})},t.withFocussedFilesExplorerViewItem=E,t.withFocussedFilesExplorer=C,t.renameFocusedFilesExplorerViewItemCommand=function(e){S(e,"renameFile")},t.deleteFocusedFilesExplorerViewItemCommand=function(e){S(e,"moveFileToTrash",{useTrash:!1})},t.moveFocusedFilesExplorerViewItemToTrashCommand=function(e){S(e,"moveFileToTrash",{useTrash:!0})},t.copyFocusedFilesExplorerViewItem=function(e){S(e,"filesExplorer.copy")},t.copyPathOfFocusedExplorerItem=function(e){I(e).then(function(n){var i=d.explorerItemToFileResource(n);i&&t.copyPathCommand(e,i.resource)})},t.openFocusedExplorerItemSideBySideCommand=function(e){I(e).then(function(t){t instanceof h.FileStat?y(e,!0):b(e,!0)})},t.revealInOSFocusedFilesExplorerItem=function(e){I(e).then(function(n){var i=d.explorerItemToFileResource(n);i&&t.revealInOSCommand(e,i.resource)})}}),define(u[171],d([1,0,4,618,11,18,28,16,7,107,12,140,36,376,21,110,5,93,82,51,43,30,153,99,22,103,45,54,160,57,63,6,20,27,56,139,62,344,39,960]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A,L,P,D,O,R,M,N,F,W,B,V,z){"use strict";function H(e,t,n){return void 0===n&&(n=!1),!(t=K(t))||0===t.length||/^\s+$/.test(t)?i.localize(66,null):!n&&e.children&&e.children.some(function(e){return r.isLinux?e.name===t:e.name.toLowerCase()===t.toLowerCase()})?i.localize(67,null,t):s.isValidBasename(t)?r.isWindows&&t.length+e.resource.fsPath.length+1>255?i.localize(69,null,t):null:i.localize(68,null,t)}function K(e){return e?(e=u.trim(u.trim(e," "),"\t"),e=u.rtrim(e,".")):e}Object.defineProperty(t,"__esModule",{value:!0});var U=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r._messageService=i,r}return h(t,e),Object.defineProperty(t.prototype,"messageService",{get:function(){return this._messageService},enumerable:!0,configurable:!0}),t.prototype.onError=function(e){"string"===e.message&&(e=e.message),this._messageService.show(M.Severity.Error,l.toErrorMessage(e,!1))},t.prototype.onErrorWithRetry=function(e,t,n){var r=[new g.Action(this.id,i.localize(0,null),null,!0,function(){return t()}),M.CancelAction];n&&r.unshift(n);var o={actions:r,message:l.toErrorMessage(e,!1)};this._messageService.show(M.Severity.Error,o)},t}(g.Action);t.BaseErrorReportingAction=U;var j=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n,r)||this;return s._fileService=i,s._textFileService=o,s.enabled=!1,s}return h(t,e),Object.defineProperty(t.prototype,"fileService",{get:function(){return this._fileService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textFileService",{get:function(){return this._textFileService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},set:function(e){this._element=e},enumerable:!0,configurable:!0}),t.prototype._isEnabled=function(){return!0},t.prototype._updateEnablement=function(){this.enabled=!(!this._fileService||!this._isEnabled())},t}(U);j=v([y(2,C.IFileService),y(3,M.IMessageService),y(4,E.ITextFileService)],j),t.BaseFileAction=j;var G=function(e){function t(n,r,o,s,a,c){var l=e.call(this,t.ID,i.localize(1,null),o,s,a)||this;return l.tree=n,l.element=r,l.renameAction=c.createInstance($,r),l._updateEnablement(),l}return h(t,e),t.prototype.validateFileName=function(e,t){return this.renameAction.validateFileName(this.element.parent,t)},t.prototype.run=function(e){var t=this;if(!e)return n.TPromise.wrapError(new Error("No context provided to BaseEnableFileRenameAction."));var i=e.viewletState;if(!i)return n.TPromise.wrapError(new Error("Invalid viewlet state provided to BaseEnableFileRenameAction."));var r=e.stat;if(!r)return n.TPromise.wrapError(new Error("Invalid stat provided to BaseEnableFileRenameAction."));i.setEditable(r,{action:this.renameAction,validator:function(e){var n=t.validateFileName(t.element.parent,e);return n?{content:n,formatContent:!0,type:m.MessageType.ERROR}:null}}),this.tree.refresh(r,!1).then(function(){t.tree.setHighlight(r);var e=t.tree.addListener(d.EventType.HIGHLIGHT,function(n){n.highlight||(i.clearEditable(r),t.tree.refresh(r).done(null,c.onUnexpectedError),e.dispose())})}).done(null,c.onUnexpectedError)},t}(j);G.ID="renameFile",G=v([y(2,C.IFileService),y(3,M.IMessageService),y(4,E.ITextFileService),y(5,R.IInstantiationService)],G),t.TriggerRenameFileAction=G;var q=function(e){function t(t,n,i,r,o,s){var a=e.call(this,t,n,r,o,s)||this;return a.element=i,a}return h(t,e),t.prototype.run=function(e){var t=this;if(!e)return n.TPromise.wrapError(new Error("No context provided to BaseRenameFileAction."));var i=e.value;return i?(i=K(i))===K(this.element.name)||this.validateFileName(this.element.parent,i)?n.TPromise.as(null):this.runAction(i).then(null,function(e){t.onError(e)}):n.TPromise.wrapError(new Error("No new name provided to BaseRenameFileAction."))},t.prototype.validateFileName=function(e,t){var n=this.element.name,i=t;return r.isLinux||(n=n.toLowerCase(),i=i.toLowerCase()),K(n)===K(i)?null:H(e,t,!1)},t}(j);q=v([y(3,C.IFileService),y(4,M.IMessageService),y(5,E.ITextFileService)],q),t.BaseRenameAction=q;var $=function(e){function t(n,r,o,s,a){var c=e.call(this,t.ID,i.localize(2,null),n,r,o,s)||this;return c.backupFileService=a,c._updateEnablement(),c}return h(t,e),t.prototype.runAction=function(e){var t=this,i=this.textFileService.getDirty().filter(function(e){return s.isEqualOrParent(e.fsPath,t.element.resource.fsPath,!r.isLinux)}),o=[];return n.TPromise.join(i.map(function(n){var i,r=s.join(t.element.parent.resource.fsPath,e);i=s.isEqual(t.element.resource.fsPath,n.fsPath)?a.default.file(r):a.default.file(s.join(r,n.fsPath.substr(t.element.resource.fsPath.length+1))),o.push(i);var c=t.textFileService.models.get(n);return t.backupFileService.backupResource(i,c.getValue(),c.getVersionId())})).then(function(){return t.textFileService.revertAll(i,{soft:!0})}).then(function(){return t.fileService.rename(t.element.resource,e).then(null,function(i){return n.TPromise.join(o.map(function(e){return t.backupFileService.discardResourceBackup(e)})).then(function(){t.onErrorWithRetry(i,function(){return t.runAction(e)})})})}).then(function(){return n.TPromise.join(o.map(function(e){return t.textFileService.models.loadOrCreate(e)}))})},t}(q);$.ID="workbench.files.action.renameFile",$=v([y(1,C.IFileService),y(2,M.IMessageService),y(3,E.ITextFileService),y(4,W.IBackupFileService)],$);var Y=function(e){function t(t,n,i,r,o,s,a,c,l){var u=e.call(this,t,n,a,c,l)||this;return s&&(u.presetFolder=s.isDirectory?s:s.parent),u.tree=i,u.isFile=r,u.renameAction=o,u}return h(t,e),t.prototype.run=function(e){var t=this;if(!e)return n.TPromise.wrapError(new Error("No context provided to BaseNewAction."));var i=e.viewletState;if(!i)return n.TPromise.wrapError(new Error("Invalid viewlet state provided to BaseNewAction."));var r=this.presetFolder;if(!r){var o=this.tree.getFocus();if(o)r=o.isDirectory?o:o.parent;else{var s=this.tree.getInput();r=s instanceof I.Model?s.roots[0]:s}}return r?this.tree.reveal(r,.5).then(function(){return t.tree.expand(r).then(function(){var e=I.NewStatPlaceholder.addNewStatPlaceholder(r,!t.isFile);return t.renameAction.element=e,i.setEditable(e,{action:t.renameAction,validator:function(e){var n=t.renameAction.validateFileName(r,e);return n?{content:n,formatContent:!0,type:m.MessageType.ERROR}:null}}),t.tree.refresh(r).then(function(){return t.tree.expand(r).then(function(){return t.tree.reveal(e,.5).then(function(){t.tree.setHighlight(e);var n=t.tree.addListener(d.EventType.HIGHLIGHT,function(i){i.highlight||(e.destroy(),t.tree.refresh(r).done(null,c.onUnexpectedError),n.dispose())})})})})})}):n.TPromise.wrapError(new Error("Invalid parent folder to create."))},t}(j);Y=v([y(6,C.IFileService),y(7,M.IMessageService),y(8,E.ITextFileService)],Y),t.BaseNewAction=Y;var X=function(e){function t(t,n,r,o,s,a){var c=e.call(this,"explorer.newFile",i.localize(3,null),t,!0,a.createInstance(ie,n),null,r,o,s)||this;return c.class="explorer-action new-file",c._updateEnablement(),c}return h(t,e),t}(Y);X=v([y(2,C.IFileService),y(3,M.IMessageService),y(4,E.ITextFileService),y(5,R.IInstantiationService)],X),t.NewFileAction=X;var Q=function(e){function t(t,n,r,o,s,a){var c=e.call(this,"explorer.newFolder",i.localize(4,null),t,!1,a.createInstance(re,n),null,r,o,s)||this;return c.class="explorer-action new-folder",c._updateEnablement(),c}return h(t,e),t}(Y);Q=v([y(2,C.IFileService),y(3,M.IMessageService),y(4,E.ITextFileService),y(5,R.IInstantiationService)],Q),t.NewFolderAction=Q;var Z=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n)||this;return s.viewletService=i,s.instantiationService=r,s.messageService=o,s}return h(t,e),t.prototype.run=function(){var e=this;return this.viewletService.openViewlet(S.VIEWLET_ID,!0).then(function(t){return n.TPromise.timeout(100).then(function(){t.focus();var n=t,r=n.getExplorerView();if(!r)return e.messageService.show(M.Severity.Info,i.localize(5,null));r.isExpanded()||r.expand();var o=e.toDispose=e.instantiationService.createInstance(e.getAction(),r.getViewer(),null);return n.getActionRunner().run(o)})})},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.toDispose&&(this.toDispose.dispose(),this.toDispose=null)},t}(g.Action);Z=v([y(2,D.IViewletService),y(3,R.IInstantiationService),y(4,M.IMessageService)],Z),t.BaseGlobalNewAction=Z;var J=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.editorService=i,r}return h(t,e),t.prototype.run=function(){return this.editorService.openEditor({options:{pinned:!0}})},t}(g.Action);J.ID="workbench.action.files.newUntitledFile",J.LABEL=i.localize(6,null),J=v([y(2,k.IWorkbenchEditorService)],J),t.GlobalNewUntitledFileAction=J;var ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.getAction=function(){return X},t}(Z);ee.ID="explorer.newFile",ee.LABEL=i.localize(7,null),t.GlobalNewFileAction=ee;var te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.getAction=function(){return Q},t}(Z);te.ID="explorer.newFolder",te.LABEL=i.localize(8,null),t.GlobalNewFolderAction=te;var ne=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.validateFileName=function(t,n){return this.element instanceof I.NewStatPlaceholder?H(t,n,!1):e.prototype.validateFileName.call(this,t,n)},t}(q);t.BaseCreateAction=ne;var ie=function(e){function t(n,i,r,o,s){var a=e.call(this,t.ID,t.LABEL,n,i,o,s)||this;return a.editorService=r,a._updateEnablement(),a}return h(t,e),t.prototype.runAction=function(e){var t=this;return this.fileService.createFile(a.default.file(s.join(this.element.parent.resource.fsPath,e))).then(function(e){return t.editorService.openEditor({resource:e.resource,options:{pinned:!0}})},function(n){t.onErrorWithRetry(n,function(){return t.runAction(e)})})},t}(ne);ie.ID="workbench.files.action.createFileFromExplorer",ie.LABEL=i.localize(9,null),ie=v([y(1,C.IFileService),y(2,k.IWorkbenchEditorService),y(3,M.IMessageService),y(4,E.ITextFileService)],ie),t.CreateFileAction=ie;var re=function(e){function t(n,i,r,o){var s=e.call(this,t.ID,t.LABEL,null,i,r,o)||this;return s._updateEnablement(),s}return h(t,e),t.prototype.runAction=function(e){var t=this;return this.fileService.createFolder(a.default.file(s.join(this.element.parent.resource.fsPath,e))).then(null,function(n){t.onErrorWithRetry(n,function(){return t.runAction(e)})})},t}(ne);re.ID="workbench.files.action.createFolderFromExplorer",re.LABEL=i.localize(10,null),re=v([y(1,C.IFileService),y(2,M.IMessageService),y(3,E.ITextFileService)],re),t.CreateFolderAction=re;var oe=function(e){function t(t,n,i,r,o,a,c,l){var u=e.call(this,t,n,a,c,l)||this;return u.tree=i,u.element=r,u.useTrash=o&&!s.isUNC(r.resource.fsPath),u._updateEnablement(),u}return h(t,e),t.prototype.run=function(e){var t=this;this.tree&&this.tree.clearHighlight(),e&&(e.event?(r.isMacintosh&&e.event.altKey||!r.isMacintosh&&e.event.shiftKey)&&(this.useTrash=!1):"boolean"==typeof e.useTrash&&(this.useTrash=e.useTrash));var o;o=this.useTrash?r.isWindows?i.localize(11,null):i.localize(12,null):i.localize(13,null);var a=n.TPromise.as(null),c=this.textFileService.getDirty().filter(function(e){return s.isEqualOrParent(e.fsPath,t.element.resource.fsPath,!r.isLinux)});if(c.length){var l=void 0;if(l=this.element.isDirectory?1===c.length?i.localize(14,null):i.localize(15,null,c.length):i.localize(16,null),!this.messageService.confirm({message:l,type:"warning",detail:i.localize(17,null),primaryButton:o}))return n.TPromise.as(null);this.skipConfirm=!0,a=this.textFileService.revertAll(c)}return a.then(function(){if(!t.skipConfirm){var e;if(e=t.useTrash?{message:t.element.isDirectory?i.localize(18,null,t.element.name):i.localize(19,null,t.element.name),detail:r.isWindows?i.localize(20,null):i.localize(21,null),primaryButton:o,type:"question"}:{message:t.element.isDirectory?i.localize(22,null,t.element.name):i.localize(23,null,t.element.name),detail:i.localize(24,null),primaryButton:o,type:"warning"},!t.messageService.confirm(e))return n.TPromise.as(null)}return t.fileService.del(t.element.resource,t.useTrash).then(function(){t.element.parent&&t.tree.setFocus(t.element.parent)},function(e){var n;t.useTrash&&(n=new g.Action("permanentDelete",i.localize(25,null),null,!0,function(){return t.useTrash=!1,t.skipConfirm=!0,t.run()})),t.onErrorWithRetry(e,function(){return t.run()},n),t.tree.DOMFocus()})})},t}(j);oe=v([y(5,C.IFileService),y(6,M.IMessageService),y(7,E.ITextFileService)],oe),t.BaseDeleteFileAction=oe;var se=function(e){function t(n,r,o,s,a){return e.call(this,t.ID,i.localize(26,null),n,r,!0,o,s,a)||this}return h(t,e),t}(oe);se.ID="moveFileToTrash",se=v([y(2,C.IFileService),y(3,M.IMessageService),y(4,E.ITextFileService)],se),t.MoveFileToTrashAction=se;var ae=function(e){function t(n,r,o,s,a,c,l){var u=e.call(this,t.ID,i.localize(27,null),s,c,l)||this;return u.editorService=a,u.tree=n,u.element=r,o&&(u.class=o),u._updateEnablement(),u}return h(t,e),t.prototype.getViewer=function(){return this.tree},t.prototype.run=function(e){var t=this;return n.TPromise.as(null).then(function(){var l=e.input;if(l.files&&l.files.length>0){var u;if(t.element)u=t.element;else{var d=t.tree.getInput();u=t.tree.getFocus()||(d instanceof I.Model?d.roots[0]:d)}u.isDirectory||(u=u.parent);for(var h=[],p=0;p<l.files.length;p++){var f=l.files[p];h.push(f)}return t.fileService.resolveFile(u.resource).then(function(e){var l={};e.children.forEach(function(e){l[r.isLinux?e.name:e.name.toLowerCase()]=e});var d=!0;if(h.some(function(e){return!!l[r.isLinux?e.name:e.name.toLowerCase()]})){var p={message:i.localize(28,null),detail:i.localize(29,null),primaryButton:i.localize(30,null),type:"warning"};d=t.messageService.confirm(p)}if(d){var f=[];return h.forEach(function(e){f.push(function(){var i=a.default.file(e.path),r=a.default.file(s.join(u.resource.fsPath,s.basename(e.path))),o=n.TPromise.as(null);return t.textFileService.isDirty(r)&&(o=t.textFileService.revertAll([r],{soft:!0})),o.then(function(){return t.fileService.importFile(i,u.resource).then(function(e){1===h.length&&t.editorService.openEditor({resource:e.stat.resource,options:{pinned:!0}}).done(null,c.onUnexpectedError)},function(e){return t.onError(e)})})})}),o.sequence(f)}})}}).then(function(){t.tree.clearHighlight()},function(e){t.onError(e),t.tree.clearHighlight()})},t}(j);ae.ID="workbench.files.action.importFile",ae=v([y(3,C.IFileService),y(4,k.IWorkbenchEditorService),y(5,M.IMessageService),y(6,E.ITextFileService)],ae),t.ImportFileAction=ae;var ce,le=function(e){function t(n,r,o,s,a){var c=e.call(this,t.ID,i.localize(31,null),o,s,a)||this;return c.tree=n,c.element=r,c._updateEnablement(),c}return h(t,e),t.prototype.run=function(){return ce=this.element,this.tree&&this.tree.clearHighlight(),this.tree.DOMFocus(),n.TPromise.as(null)},t}(j);le.ID="filesExplorer.copy",le=v([y(2,C.IFileService),y(3,M.IMessageService),y(4,E.ITextFileService)],le),t.CopyFileAction=le;var ue=function(e){function t(n,r,o,s,a,c){var l=e.call(this,t.ID,i.localize(32,null),o,s,a)||this;if(l.instantiationService=c,l.tree=n,l.element=r,!l.element){var u=l.tree.getInput();l.element=u instanceof I.Model?u.roots[0]:u}return l._updateEnablement(),l}return h(t,e),t.prototype._isEnabled=function(){return!!ce&&(ce.root.find(ce.resource)?!(!s.isEqual(this.element.resource.fsPath,ce.resource.fsPath)&&s.isEqualOrParent(this.element.resource.fsPath,ce.resource.fsPath,!r.isLinux)):(ce=null,!1))},t.prototype.run=function(){var e,t=this;return e=this.element.resource.toString()===ce.resource.toString()?this.element.parent:this.element.isDirectory?this.element:this.element.parent,this.instantiationService.createInstance(de,this.tree,ce,e).run().then(function(){t.tree.DOMFocus()})},t}(j);ue.ID="filesExplorer.paste",ue=v([y(2,C.IFileService),y(3,M.IMessageService),y(4,E.ITextFileService),y(5,R.IInstantiationService)],ue),t.PasteFileAction=ue,t.pasteIntoFocusedFilesExplorerViewItem=function(e){var t=e.get(R.IInstantiationService);V.withFocussedFilesExplorer(e).then(function(e){if(e){var n=t.createInstance(ue,e.tree,e.tree.getFocus());n._isEnabled()&&n.run().done(null,c.onUnexpectedError)}})};var de=function(e){function t(t,n,r,o,s,a,c){var l=e.call(this,"workbench.files.action.duplicateFile",i.localize(33,null),o,a,c)||this;return l.editorService=s,l.tree=t,l.element=n,l.target=r&&r.isDirectory?r:n.parent,l._updateEnablement(),l}return h(t,e),t.prototype.run=function(){var e=this;return this.tree&&this.tree.clearHighlight(),this.fileService.copyFile(this.element.resource,this.findTarget()).then(function(t){if(!t.isDirectory)return e.editorService.openEditor({resource:t.resource,options:{pinned:!0}})},function(t){return e.onError(t)})},t.prototype.findTarget=function(){for(var e=this.element.name,t=a.default.file(s.join(this.target.resource.fsPath,e));;){if(!this.element.root.find(t))break;e=this.toCopyName(e,this.element.isDirectory),t=a.default.file(s.join(this.target.resource.fsPath,e))}return t},t.prototype.toCopyName=function(e,t){if(!t&&e.match(/(.*\.)(\d+)(\..*)$/))return e.replace(/(.*\.)(\d+)(\..*)$/,function(e,t,n,i){return t+(parseInt(n)+1)+i});var n=e.lastIndexOf(".");return!t&&n>=0?u.format("{0}.1{1}",e.substr(0,n),e.substr(n)):t&&e.match(/(\d+)$/)?e.replace(/(\d+)$/,function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return String(parseInt(t[0])+1)}):u.format("{0}.1",e)},t}(j);de=v([y(3,C.IFileService),y(4,k.IWorkbenchEditorService),y(5,M.IMessageService),y(6,E.ITextFileService)],de),t.DuplicateFileAction=de;var he=function(e){function t(n,i,r,o){var s=e.call(this,t.ID,t.LABEL)||this;return s.editorService=o,s.tree=n,s.preserveFocus=r,s.resource=i,s.updateEnablement(),s}return h(t,e),t.prototype.updateEnablement=function(){var e=this.editorService.getActiveEditor();this.enabled=!e||e.position!==O.Position.THREE},t.prototype.run=function(){return this.tree.clearHighlight(),this.editorService.openEditor({resource:this.resource,options:{preserveFocus:this.preserveFocus}},!0)},t}(g.Action);he.ID="explorer.openToSide",he.LABEL=i.localize(34,null),he=v([y(3,k.IWorkbenchEditorService)],he),t.OpenToSideAction=he;var pe,fe=function(e){function t(t,n){var r=e.call(this,"workbench.files.action.selectForCompare",i.localize(35,null))||this;return r.tree=n,r.resource=t,r.enabled=!0,r}return h(t,e),t.prototype.run=function(){return pe=this.resource,this.tree&&(this.tree.clearHighlight(),this.tree.DOMFocus()),n.TPromise.as(null)},t}(g.Action);t.SelectResourceForCompareAction=fe;var ge=function(e){function t(t,n,i,r,o,s,a,c,l){var u=e.call(this,t,n)||this;return u.quickOpenService=i,u.instantiationService=r,u.editorService=o,u.historyService=s,u.contextService=a,u.messageService=c,u.environmentService=l,u}return h(t,e),t.prototype.run=function(){var e=this,t=w.toResource(this.editorService.getActiveEditorInput(),{filter:["file","untitled"]});if(t){pe=t;var r=this.historyService.getHistory().map(function(t){var n,i,r;if(n=t instanceof w.EditorInput?w.toResource(t,{filter:["file","untitled"]}):t.resource)return i=s.basename(n.fsPath),r="file"===n.scheme?_.getPathLabel(s.dirname(n.fsPath),e.contextService,e.environmentService):void 0,{input:t,resource:n,label:i,description:r}}).filter(function(e){return!!e});return this.quickOpenService.pick(r,{placeHolder:i.localize(37,null),autoFocus:{autoFocusFirstEntry:!0},matchOnDescription:!0}).then(function(t){if(t){var n=e.instantiationService.createInstance(ve,t.resource,null);n._isEnabled()?n.run().done(function(){return n.dispose()}):e.messageService.show(M.Severity.Info,i.localize(38,null,s.basename(pe.fsPath)))}})}return this.messageService.show(M.Severity.Info,i.localize(39,null)),n.TPromise.as(!0)},t}(g.Action);ge.ID="workbench.files.action.compareFileWith",ge.LABEL=i.localize(36,null),ge=v([y(2,L.IQuickOpenService),y(3,R.IInstantiationService),y(4,k.IWorkbenchEditorService),y(5,P.IHistoryService),y(6,N.IWorkspaceContextService),y(7,M.IMessageService),y(8,z.IEnvironmentService)],ge),t.GlobalCompareResourcesAction=ge;var ve=function(e){function t(n,i,r){var o=e.call(this,"workbench.files.action.compareFiles",t.computeLabel())||this;return o.editorService=r,o.tree=i,o.resource=n,o}return h(t,e),t.computeLabel=function(){return pe?i.localize(40,null,s.basename(pe.fsPath)):i.localize(41,null)},t.prototype.getLabel=function(){return t.computeLabel()},t.prototype._isEnabled=function(){if(!pe)return!1;if(this.tree){var e=this.tree.getInput();if((e instanceof I.FileStat||e instanceof I.Model)&&!(e instanceof I.Model?e.findClosest(pe):e.find(pe)))return pe=null,!1}return this.resource.toString()!==pe.toString()},t.prototype.run=function(){return this.tree&&this.tree.clearHighlight(),this.editorService.openEditor({leftResource:pe,rightResource:this.resource})},t}(g.Action);ve=v([y(2,k.IWorkbenchEditorService)],ve),t.CompareResourcesAction=ve;var me=function(e){function t(t,n){return e.call(this,"workbench.files.action.refreshFilesExplorer",i.localize(42,null),n,!0,function(e){return t.refresh()})||this}return h(t,e),t}(g.Action);t.RefreshViewExplorerAction=me;var ye=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}return h(t,e),t.prototype.run=function(e){var t=this;return this.doRun(e).then(function(){return!0},function(e){return t.onError(e)})},t}(U);t.BaseSaveFileAction=ye;var be=function(e){function t(t,n,i,r,o,s,a){var c=e.call(this,t,n,a)||this;return c.editorService=i,c.textFileService=r,c.editorGroupService=o,c.untitledEditorService=s,c.enabled=!0,c}return h(t,e),t.prototype.setResource=function(e){this.resource=e},t.prototype.doRun=function(e){var t,i=this;if(t=this.resource?this.resource:w.toResource(this.editorService.getActiveEditorInput(),{supportSideBySide:!0,filter:["file","untitled"]})){if(this.isSaveAs()||"untitled"===t.scheme){var r;if("untitled"===t.scheme)r=this.untitledEditorService.getEncoding(t);else if("file"===t.scheme){var o=this.textFileService.models.get(t);r=o&&o.getEncoding()}var s,c=this.editorService.getActiveEditor();if(u=F.getCodeEditor(c)){var l=w.toResource(c.input,{supportSideBySide:!0,filter:["file","untitled"]});l&&l.toString()===t.toString()&&(s=u.saveViewState())}return(!this.isSaveAs()&&"untitled"===t.scheme&&this.untitledEditorService.hasAssociatedFilePath(t)?this.textFileService.save(t).then(function(e){return e?a.default.file(t.fsPath):null}):this.textFileService.saveAs(t)).then(function(e){if(e&&e.toString()!==t.toString()){var n={resource:e,encoding:r,options:{pinned:!0,viewState:s}};return i.editorService.replaceEditors([{toReplace:{resource:t},replaceWith:n}]).then(function(){return!0})}})}if(!this.resource){var u=this.editorService.getActiveEditor();u&&this.editorGroupService.pinEditor(u.position,u.input)}return this.textFileService.save(t,{force:!0})}return n.TPromise.as(!1)},t}(ye);be=v([y(2,k.IWorkbenchEditorService),y(3,E.ITextFileService),y(4,A.IEditorGroupService),y(5,T.IUntitledEditorService),y(6,M.IMessageService)],be),t.BaseSaveOneFileAction=be;var Se=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.isSaveAs=function(){return!1},t}(be);Se.ID="workbench.action.files.save",Se.LABEL=i.localize(43,null),t.SaveFileAction=Se;var _e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.isSaveAs=function(){return!0},t}(be);_e.ID="workbench.action.files.saveAs",_e.LABEL=i.localize(44,null),t.SaveFileAsAction=_e;var Ee=function(e){function t(t,n,i,r,o,s,a){var c=e.call(this,t,n,a)||this;return c.editorService=i,c.editorGroupService=r,c.textFileService=o,c.untitledEditorService=s,c.toDispose=[],c.lastIsDirty=c.textFileService.isDirty(),c.enabled=c.lastIsDirty,c.registerListeners(),c}return h(t,e),t.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.textFileService.models.onModelsDirty(function(t){return e.updateEnablement(!0)})),this.toDispose.push(this.textFileService.models.onModelsSaved(function(t){return e.updateEnablement(!1)})),this.toDispose.push(this.textFileService.models.onModelsReverted(function(t){return e.updateEnablement(!1)})),this.toDispose.push(this.textFileService.models.onModelsSaveError(function(t){return e.updateEnablement(!0)})),this.includeUntitled()&&this.toDispose.push(this.untitledEditorService.onDidChangeDirty(function(t){return e.updateEnablement(e.untitledEditorService.isDirty(t))}))},t.prototype.updateEnablement=function(e){this.lastIsDirty!==e&&(this.enabled=this.textFileService.isDirty(),this.lastIsDirty=this.enabled)},t.prototype.doRun=function(e){var t=this,n=this.editorGroupService.getStacksModel(),i=Object.create(null);return this.untitledEditorService.getDirty().forEach(function(e){var r=[],o=[],s=t.untitledEditorService.getEncoding(e);n.groups.forEach(function(t,n){var i=t.activeEditor,s=w.toResource(i,{supportSideBySide:!0});r[n]=s&&s.toString()===e.toString(),o[n]=-1,t.getEditors().forEach(function(t,i){var r=w.toResource(t,{supportSideBySide:!0});r&&r.toString()===e.toString()&&(o[n]=i)})}),i[e.toString()]={encoding:s,indexInGroups:o,activeInGroups:r}}),this.textFileService.saveAll(this.getSaveAllArguments(e)).then(function(e){var n=[];if(e.results.forEach(function(e){if(e.success&&"untitled"===e.source.scheme){var t=i[e.source.toString()];t&&t.indexInGroups.forEach(function(i,r){i>=0&&n.push({input:{resource:e.target,encoding:t.encoding,options:{pinned:!0,index:i,preserveFocus:!0,inactive:!t.activeInGroups[r]}},position:r})})}}),n.length)return t.editorService.openEditors(n).then(function(){return!0})})},t.prototype.dispose=function(){this.toDispose=b.dispose(this.toDispose),e.prototype.dispose.call(this)},t}(ye);Ee=v([y(2,k.IWorkbenchEditorService),y(3,A.IEditorGroupService),y(4,E.ITextFileService),y(5,T.IUntitledEditorService),y(6,M.IMessageService)],Ee),t.BaseSaveAllAction=Ee;var Ce=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),Object.defineProperty(t.prototype,"class",{get:function(){return"explorer-action save-all"},enumerable:!0,configurable:!0}),t.prototype.getSaveAllArguments=function(){return this.includeUntitled()},t.prototype.includeUntitled=function(){return!0},t}(Ee);Ce.ID="workbench.action.files.saveAll",Ce.LABEL=i.localize(45,null),t.SaveAllAction=Ce;var we=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),Object.defineProperty(t.prototype,"class",{get:function(){return"explorer-action save-all"},enumerable:!0,configurable:!0}),t.prototype.getSaveAllArguments=function(e){if(!e)return this.includeUntitled();var t=[];return e.group.getEditors().forEach(function(e){var n=w.toResource(e,{supportSideBySide:!0,filter:["file","untitled"]});n&&t.push(n)}),t},t.prototype.includeUntitled=function(){return!0},t}(Ee);we.ID="workbench.files.action.saveAllInGroup",we.LABEL=i.localize(46,null),t.SaveAllInGroupAction=we;var Ie=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.getSaveAllArguments=function(){return this.includeUntitled()},t.prototype.includeUntitled=function(){return!1},t}(Ee);Ie.ID="workbench.action.files.saveFiles",Ie.LABEL=i.localize(47,null),t.SaveFilesAction=Ie;var Te=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.editorService=i,o.textFileService=r,o.enabled=!0,o}return h(t,e),t.prototype.setResource=function(e){this.resource=e},t.prototype.run=function(){var e;return(e=this.resource?this.resource:w.toResource(this.editorService.getActiveEditorInput(),{supportSideBySide:!0,filter:"file"}))&&"untitled"!==e.scheme?this.textFileService.revert(e,!0):n.TPromise.as(!0)},t}(g.Action);Te.ID="workbench.action.files.revert",Te.LABEL=i.localize(48,null),Te=v([y(2,k.IWorkbenchEditorService),y(3,E.ITextFileService)],Te),t.RevertFileAction=Te;var ke=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.viewletService=i,r}return h(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(S.VIEWLET_ID,!0).then(function(e){var t=e.getOpenEditorsView();t&&(t.expand(),t.getViewer().DOMFocus())})},t}(g.Action);ke.ID="workbench.files.action.focusOpenEditorsView",ke.LABEL=i.localize(49,null),ke=v([y(2,D.IViewletService)],ke),t.FocusOpenEditorsView=ke;var xe=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.viewletService=i,r}return h(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(S.VIEWLET_ID,!0).then(function(e){var t=e.getExplorerView();t&&(t.expand(),t.getViewer().DOMFocus())})},t}(g.Action);xe.ID="workbench.files.action.focusFilesExplorer",xe.LABEL=i.localize(50,null),xe=v([y(2,D.IViewletService)],xe),t.FocusFilesExplorer=xe;var Ae=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n)||this;return s.editorService=i,s.instantiationService=r,s.messageService=o,s}return h(t,e),t.prototype.run=function(){var e=w.toResource(this.editorService.getActiveEditorInput(),{supportSideBySide:!0,filter:"file"});return e?this.instantiationService.invokeFunction.apply(this.instantiationService,[V.revealInExplorerCommand,e]):this.messageService.show(p.default.Info,i.localize(52,null)),n.TPromise.as(!0)},t}(g.Action);Ae.ID="workbench.files.action.showActiveFileInExplorer",Ae.LABEL=i.localize(51,null),Ae=v([y(2,k.IWorkbenchEditorService),y(3,R.IInstantiationService),y(4,M.IMessageService)],Ae),t.ShowActiveFileInExplorer=Ae;var Le=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.viewletService=i,r}return h(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(S.VIEWLET_ID,!0).then(function(e){var t=e.getExplorerView();if(t){var n=t.getViewer();if(n){var i=new x.CollapseAction(n,!0,null);i.run().done(),i.dispose()}}})},t}(g.Action);Le.ID="workbench.files.action.collapseExplorerFolders",Le.LABEL=i.localize(53,null),Le=v([y(2,D.IViewletService)],Le),t.CollapseExplorerView=Le;var Pe=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.viewletService=i,r}return h(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(S.VIEWLET_ID,!0).then(function(e){var t=e.getExplorerView();t&&t.refresh()})},t}(g.Action);Pe.ID="workbench.files.action.refreshFilesExplorer",Pe.LABEL=i.localize(54,null),Pe=v([y(2,D.IViewletService)],Pe),t.RefreshExplorerView=Pe;var De=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.editorService=i,o.windowService=r,o}return h(t,e),t.prototype.run=function(e,t){var n=w.toResource(this.editorService.getActiveEditorInput(),{supportSideBySide:!0,filter:"file"});return this.windowService.pickFileAndOpen(!1,n?s.dirname(n.fsPath):void 0,t)},t}(g.Action);De.ID="workbench.action.files.openFile",De.LABEL=i.localize(55,null),De=v([y(2,k.IWorkbenchEditorService),y(3,B.IWindowService)],De),t.OpenFileAction=De;var Oe=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n)||this;return s.windowsService=i,s.editorService=r,s.messageService=o,s}return h(t,e),t.prototype.run=function(){var e=w.toResource(this.editorService.getActiveEditorInput(),{supportSideBySide:!0,filter:"file"});return e?this.windowsService.openWindow([e.fsPath],{forceNewWindow:!0}):this.messageService.show(p.default.Info,i.localize(57,null)),n.TPromise.as(!0)},t}(g.Action);Oe.ID="workbench.action.files.showOpenedFileInNewWindow",Oe.LABEL=i.localize(56,null),Oe=v([y(2,B.IWindowsService),y(3,k.IWorkbenchEditorService),y(4,M.IMessageService)],Oe),t.ShowOpenedFileInNewWindow=Oe;var Re=function(e){function t(n,i){var r=e.call(this,"revealFileInOS",t.LABEL)||this;return r.resource=n,r.instantiationService=i,r.order=45,r}return h(t,e),t.prototype.run=function(){return this.instantiationService.invokeFunction.apply(this.instantiationService,[V.revealInOSCommand,this.resource]),n.TPromise.as(!0)},t}(g.Action);Re.LABEL=r.isWindows?i.localize(58,null):r.isMacintosh?i.localize(59,null):i.localize(60,null),Re=v([y(1,R.IInstantiationService)],Re),t.RevealInOSAction=Re;var Me=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n)||this;return s.editorService=i,s.instantiationService=r,s.messageService=o,s}return h(t,e),t.prototype.run=function(){return this.instantiationService.invokeFunction.apply(this.instantiationService,[V.revealInOSCommand]),n.TPromise.as(!0)},t}(g.Action);Me.ID="workbench.action.files.revealActiveFileInWindows",Me.LABEL=r.isWindows?i.localize(61,null):r.isMacintosh?i.localize(62,null):i.localize(63,null),Me=v([y(2,k.IWorkbenchEditorService),y(3,R.IInstantiationService),y(4,M.IMessageService)],Me),t.GlobalRevealInOSAction=Me;var Ne=function(e){function t(n,i){var r=e.call(this,"copyFilePath",t.LABEL)||this;return r.resource=n,r.instantiationService=i,r.order=140,r}return h(t,e),t.prototype.run=function(){return this.instantiationService.invokeFunction.apply(this.instantiationService,[V.copyPathCommand,this.resource]),n.TPromise.as(!0)},t}(g.Action);Ne.LABEL=i.localize(64,null),Ne=v([y(1,R.IInstantiationService)],Ne),t.CopyPathAction=Ne;var Fe=function(e){function t(t,n,i,r,o,s){var a=e.call(this,t,n)||this;return a.editorService=i,a.editorGroupService=r,a.messageService=o,a.instantiationService=s,a}return h(t,e),t.prototype.run=function(){return this.instantiationService.invokeFunction.apply(this.instantiationService,[V.copyPathCommand]),n.TPromise.as(!0)},t}(g.Action);Fe.ID="workbench.action.files.copyPathOfActiveFile",Fe.LABEL=i.localize(65,null),Fe=v([y(2,k.IWorkbenchEditorService),y(3,A.IEditorGroupService),y(4,M.IMessageService),y(5,R.IInstantiationService)],Fe),t.GlobalCopyPathAction=Fe,t.validateFileName=H,t.getWellFormedFileName=K;var We;We||(We=f.register("FileActionsDiagnostics",function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log(e[1]+" - "+e[0]+" (time: "+e[2].getTime()+" ["+e[2].toUTCString()+"])")}))}),define(u[429],d([1,0,4,622,7,107,28,21,16,171,43,39,22,51,6,20,42,44,5,258,71,70,45,190,159,17]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,m,b,S,_,E,C,w,I,T,k){"use strict";function x(){for(;L.length>0;)L.pop()()}Object.defineProperty(t,"__esModule",{value:!0}),t.CONFLICT_RESOLUTION_CONTEXT="saveConflictResolutionContext",t.CONFLICT_RESOLUTION_SCHEME="conflictResolution";var A=function(){function e(e,n,i,r,o,s,a,c,l){this.messageService=e,this.textFileService=n,this.textModelResolverService=i,this.modelService=r,this.modeService=o,this.instantiationService=s,this.editorGroupService=a,this.editorService=l,this.messages=new C.ResourceMap,this.conflictResolutionContext=new k.RawContextKey(t.CONFLICT_RESOLUTION_CONTEXT,!1).bindTo(c),this.toUnbind=[],this.textModelResolverService.registerTextModelContentProvider(t.CONFLICT_RESOLUTION_SCHEME,this),_.TextFileEditorModel.setSaveErrorHandler(this),this.registerListeners()}return e.prototype.provideTextContent=function(e){var t=this;return this.textFileService.resolveTextContent(c.default.file(e.fsPath)).then(function(n){var i=t.modelService.getModel(e);return i?t.modelService.updateModel(i,n.value):i=t.modelService.createModel(n.value,t.modeService.getOrCreateModeByFilenameOrFirstLine(e.fsPath),e),i})},e.prototype.getId=function(){return"vs.files.saveerrorhandler"},e.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.textFileService.models.onModelSaved(function(t){return e.onFileSavedOrReverted(t.resource)})),this.toUnbind.push(this.textFileService.models.onModelReverted(function(t){return e.onFileSavedOrReverted(t.resource)})),this.toUnbind.push(this.editorGroupService.onEditorsChanged(function(){return e.onEditorsChanged()}))},e.prototype.onEditorsChanged=function(){var e=!1,n=this.editorService.getActiveEditor();if(n&&n.input instanceof I.DiffEditorInput&&n.input.originalInput instanceof T.ResourceEditorInput){var i=n.input.originalInput.getResource();e=i&&i.scheme===t.CONFLICT_RESOLUTION_SCHEME}this.conflictResolutionContext.set(e)},e.prototype.onFileSavedOrReverted=function(e){var t=this.messages.get(e);t&&(t(),this.messages.delete(e))},e.prototype.onSaveError=function(e,t){var c,d=this,h=t.getResource();if(e.fileOperationResult===u.FileOperationResult.FILE_MODIFIED_SINCE)c=this.instantiationService.createInstance(P,t,null);else{var p=e.fileOperationResult===u.FileOperationResult.FILE_READ_ONLY,f=[];f.push(new a.Action("workbench.files.action.saveAs",l.SaveFileAsAction.LABEL,null,!0,function(){var e=d.instantiationService.createInstance(l.SaveFileAsAction,l.SaveFileAsAction.ID,l.SaveFileAsAction.LABEL);return e.setResource(h),e.run().done(function(){return e.dispose()},r.onUnexpectedError),n.TPromise.as(!0)})),f.push(new a.Action("workbench.files.action.discard",i.localize(0,null),null,!0,function(){var e=d.instantiationService.createInstance(l.RevertFileAction,l.RevertFileAction.ID,l.RevertFileAction.LABEL);return e.setResource(h),e.run().done(function(){return e.dispose()},r.onUnexpectedError),n.TPromise.as(!0)})),p?f.push(new a.Action("workbench.files.action.overwrite",i.localize(1,null),null,!0,function(){return t.isDisposed()||t.save({overwriteReadonly:!0}).done(null,r.onUnexpectedError),n.TPromise.as(!0)})):f.push(new a.Action("workbench.files.action.retry",i.localize(2,null),null,!0,function(){var e=d.instantiationService.createInstance(l.SaveFileAction,l.SaveFileAction.ID,l.SaveFileAction.LABEL);return e.setResource(h),e.run().done(function(){return e.dispose()},r.onUnexpectedError),n.TPromise.as(!0)})),f.push(g.CancelAction);c={message:p?i.localize(3,null,s.basename(h.fsPath)):i.localize(4,null,s.basename(h.fsPath),o.toErrorMessage(e,!1)),actions:f}}this.messages.set(t.getResource(),this.messageService.show(g.Severity.Error,c))},e.prototype.dispose=function(){this.toUnbind=S.dispose(this.toUnbind),this.messages.clear()},e}();A=v([y(0,g.IMessageService),y(1,p.ITextFileService),y(2,E.ITextModelService),y(3,b.IModelService),y(4,m.IModeService),y(5,f.IInstantiationService),y(6,w.IEditorGroupService),y(7,k.IContextKeyService),y(8,h.IWorkbenchEditorService)],A),t.SaveErrorHandler=A;var L=[],P=function(){return function(e,r,o,l,u){var d=this;this.messageService=o,this.editorService=l,this.environmentService=u,this.model=e;var h=e.getResource();this.message=r||i.localize(5,null,s.basename(h.fsPath)),this.actions=[new a.Action("workbench.files.action.resolveConflict",i.localize(6,null),null,!0,function(){if(!d.model.isDisposed()){var e=s.basename(h.fsPath),r=i.localize(7,null,e,e,d.environmentService.appNameLong);return d.editorService.openEditor({leftResource:c.default.from({scheme:t.CONFLICT_RESOLUTION_SCHEME,path:h.fsPath}),rightResource:h,label:r,options:{pinned:!0}}).then(function(){L.push(d.messageService.show(g.Severity.Info,i.localize(8,null)))})}return n.TPromise.as(!0)})]}}();P=v([y(2,g.IMessageService),y(3,h.IWorkbenchEditorService),y(4,d.IEnvironmentService)],P),t.acceptLocalChangesCommand=function(e,t){var n=e.get(h.IWorkbenchEditorService),i=e.get(E.ITextModelService),r=n.getActiveEditor(),o=r.input,s=r.position;i.createModelReference(t).then(function(e){var t=e.object,i=t.getValue();return x(),t.revert().then(function(){return t.textEditorModel.setValue(i),t.save().then(function(){return n.openEditor({resource:t.getResource()},s).then(function(){o.dispose(),e.dispose()})})})})},t.revertLocalChangesCommand=function(e,t){var n=e.get(h.IWorkbenchEditorService),i=e.get(E.ITextModelService),r=n.getActiveEditor(),o=r.input,s=r.position;i.createModelReference(t).then(function(e){var t=e.object;return x(),t.revert().then(function(){return n.openEditor({resource:t.getResource()},s).then(function(){o.dispose(),e.dispose()})})})}}),define(u[1301],d([1,0,16,103,621,35,15,64,50,85,30,43,98,93,1207,429,354,1297,1001,95,57,22,11,104,1275]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var x=function(e){function t(t,n,i,r){return e.call(this,t,n,f.VIEWLET_ID,i,r)||this}return h(t,e),t}(i.ToggleViewletAction);x.ID=f.VIEWLET_ID,x.LABEL=r.localize(0,null),x=v([y(2,C.IViewletService),y(3,w.IWorkbenchEditorService)],x),t.OpenExplorerViewletAction=x,s.Registry.as(i.Extensions.Viewlets).registerViewlet(new i.ViewletDescriptor("vs/workbench/parts/files/browser/explorerViewlet","ExplorerViewlet",f.VIEWLET_ID,r.localize(1,null),"explore",0)),s.Registry.as(i.Extensions.Viewlets).setDefaultViewletId(f.VIEWLET_ID);var A={primary:3107};s.Registry.as(c.Extensions.WorkbenchActions).registerWorkbenchAction(new o.SyncActionDescriptor(x,x.ID,x.LABEL,A),"View: Show Explorer",r.localize(2,null)),s.Registry.as(u.Extensions.Editors).registerEditor(new p.EditorDescriptor(S.TextFileEditor.ID,r.localize(3,null),"vs/workbench/parts/files/browser/editors/textFileEditor","TextFileEditor"),[new E.SyncDescriptor(b.FileEditorInput)]),s.Registry.as(u.Extensions.Editors).registerEditor(new p.EditorDescriptor(_.BinaryFileEditor.ID,r.localize(4,null),"vs/workbench/parts/files/browser/editors/binaryFileEditor","BinaryFileEditor"),[new E.SyncDescriptor(b.FileEditorInput)]),s.Registry.as(u.Extensions.Editors).registerFileInputFactory({createFileInput:function(e,t,n){return n.createInstance(b.FileEditorInput,e,t)}});var L=function(){function e(e){this.configurationService=e}return e.prototype.serialize=function(e){var t=e,n=t.getResource(),i={resource:n.toString(),resourceJSON:n.toJSON()},r=t.getPreferredEncoding();return r&&r!==this.configurationService.lookup("files.encoding",{resource:n}).value&&(i.encoding=r),JSON.stringify(i)},e.prototype.deserialize=function(e,t){return e.invokeFunction(function(e){var i=JSON.parse(t),r=i.resourceJSON?n.default.revive(i.resourceJSON):n.default.parse(i.resource),o=i.encoding;return e.get(w.IWorkbenchEditorService).createInput({resource:r,encoding:o})})},e}();L=v([y(0,T.IWorkspaceConfigurationService)],L),s.Registry.as(u.Extensions.Editors).registerEditorInputFactory(f.FILE_EDITOR_INPUT_ID,L),s.Registry.as(l.Extensions.Workbench).registerWorkbenchContribution(g.FileEditorTracker),s.Registry.as(l.Extensions.Workbench).registerWorkbenchContribution(m.SaveErrorHandler),s.Registry.as(l.Extensions.Workbench).registerWorkbenchContribution(k.DirtyFilesTracker);var P=s.Registry.as(a.Extensions.Configuration);P.registerConfiguration({id:"files",order:9,title:r.localize(5,null),type:"object",properties:{"files.exclude":{type:"object",description:r.localize(6,null),default:{"**/.git":!0,"**/.svn":!0,"**/.hg":!0,"**/CVS":!0,"**/.DS_Store":!0},scope:a.ConfigurationScope.FOLDER,additionalProperties:{anyOf:[{type:"boolean",description:r.localize(7,null)},{type:"object",properties:{when:{type:"string",pattern:"\\w*\\$\\(basename\\)\\w*",default:"$(basename).ext",description:r.localize(8,null)}}}]}},"files.associations":{type:"object",description:r.localize(9,null)},"files.encoding":{type:"string",enum:Object.keys(d.SUPPORTED_ENCODINGS),default:"utf8",description:r.localize(10,null),scope:a.ConfigurationScope.FOLDER},"files.autoGuessEncoding":{type:"boolean",default:!1,description:r.localize(11,null),scope:a.ConfigurationScope.FOLDER},"files.eol":{type:"string",enum:["\n","\r\n"],default:I.isLinux||I.isMacintosh?"\n":"\r\n",description:r.localize(12,null)},"files.trimTrailingWhitespace":{type:"boolean",default:!1,description:r.localize(13,null),overridable:!0,scope:a.ConfigurationScope.FOLDER},"files.insertFinalNewline":{type:"boolean",default:!1,description:r.localize(14,null),overridable:!0,scope:a.ConfigurationScope.FOLDER},"files.autoSave":{type:"string",enum:[d.AutoSaveConfiguration.OFF,d.AutoSaveConfiguration.AFTER_DELAY,d.AutoSaveConfiguration.ON_FOCUS_CHANGE,,d.AutoSaveConfiguration.ON_WINDOW_CHANGE],enumDescriptions:[r.localize(15,null),r.localize(16,null),r.localize(17,null),r.localize(18,null)],default:d.AutoSaveConfiguration.OFF,description:r.localize(19,null,d.AutoSaveConfiguration.OFF,d.AutoSaveConfiguration.AFTER_DELAY,d.AutoSaveConfiguration.ON_FOCUS_CHANGE,d.AutoSaveConfiguration.ON_WINDOW_CHANGE,d.AutoSaveConfiguration.AFTER_DELAY)},"files.autoSaveDelay":{type:"number",default:1e3,description:r.localize(20,null,d.AutoSaveConfiguration.AFTER_DELAY)},"files.watcherExclude":{type:"object",default:I.isWindows?{"**/.git/objects/**":!0,"**/.git/subtree-cache/**":!0,"**/node_modules/*/**":!0}:{"**/.git/objects/**":!0,"**/.git/subtree-cache/**":!0,"**/node_modules/**":!0},description:r.localize(21,null),scope:a.ConfigurationScope.FOLDER},"files.hotExit":{type:"string",enum:[d.HotExitConfiguration.OFF,d.HotExitConfiguration.ON_EXIT,d.HotExitConfiguration.ON_EXIT_AND_WINDOW_CLOSE],default:d.HotExitConfiguration.ON_EXIT,enumDescriptions:[r.localize(22,null),r.localize(23,null),r.localize(24,null)],description:r.localize(25,null,d.HotExitConfiguration.ON_EXIT,d.HotExitConfiguration.ON_EXIT_AND_WINDOW_CLOSE)},"files.useExperimentalFileWatcher":{type:"boolean",default:!1,description:r.localize(26,null)},"files.defaultLanguage":{type:"string",description:r.localize(27,null)}}}),P.registerConfiguration({id:"editor",order:5,title:r.localize(28,null),type:"object",properties:{"editor.formatOnSave":{type:"boolean",default:!1,description:r.localize(29,null),overridable:!0}}}),P.registerConfiguration({id:"explorer",order:10,title:r.localize(30,null),type:"object",properties:{"explorer.openEditors.visible":{type:"number",description:r.localize(31,null),default:9},"explorer.openEditors.dynamicHeight":{type:"boolean",description:r.localize(32,null),default:!0},"explorer.autoReveal":{type:"boolean",description:r.localize(33,null),default:!0},"explorer.enableDragAndDrop":{type:"boolean",description:r.localize(34,null),default:!0}}})}),define(u[411],d([1,0,4,625,5,26,9,16,133,179,28,7,24,21,233,110,11,145,138,88,51,43,70,171,265,274,121,153,22,47,27,23,17,41,6,20,109,19,35,180,139,55,13]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A,L,P,D,O,R,M,N,F,W,B,V,z,H,K,U,j){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var G=function(){function e(e,t,n,i,r){this.progressService=e,this.messageService=t,this.fileService=n,this.partService=i,this.contextService=r}return e.prototype.getId=function(e,t){return t instanceof L.Model?"model":t.root.resource.toString()+":"+t.getId()},e.prototype.hasChildren=function(e,t){return t instanceof L.Model||t instanceof L.FileStat&&t.isDirectory},e.prototype.getChildren=function(e,t){var i=this;if(t instanceof L.Model)return n.TPromise.as(t.roots);if(t.isDirectoryResolved)return n.TPromise.as(t.children);var r=this.fileService.resolveFile(t.resource,{resolveSingleChildDescendants:!0}).then(function(e){for(var n=L.FileStat.create(e,t.root),i=0;i<n.children.length;i++)t.addChild(n.children[i]);return t.isDirectoryResolved=!0,t.children},function(e){return i.messageService.show(W.Severity.Error,e),[]});return this.progressService.showWhile(r,this.partService.isCreated()?800:3200),r},e.prototype.getParent=function(e,t){return t?e.getInput()===t?n.TPromise.as(null):t instanceof L.FileStat&&t.parent?n.TPromise.as(t.parent):n.TPromise.as(null):n.TPromise.as(null)},e}();G=v([y(0,B.IProgressService),y(1,W.IMessageService),y(2,w.IFileService),y(3,D.IPartService),y(4,O.IWorkspaceContextService)],G),t.FileDataSource=G;var q=function(e){function t(t){var n=e.call(this)||this;return n.state=t,n}return h(t,e),t.prototype.hasActions=function(t,n){return!(n instanceof L.NewStatPlaceholder)&&e.prototype.hasActions.call(this,t,n)},t.prototype.getActions=function(t,i){return i instanceof L.NewStatPlaceholder?n.TPromise.as([]):e.prototype.getActions.call(this,t,i)},t.prototype.hasSecondaryActions=function(t,n){return!(n instanceof L.NewStatPlaceholder)&&e.prototype.hasSecondaryActions.call(this,t,n)},t.prototype.getSecondaryActions=function(t,i){return i instanceof L.NewStatPlaceholder?n.TPromise.as([]):e.prototype.getSecondaryActions.call(this,t,i)},t.prototype.runAction=function(e,t,i,r){var s=this;if(void 0===r&&(r={}),r=o.mixin({viewletState:this.state,stat:t},r),!p.isString(i)){var a=i;return a.enabled?a.run(r):null}var c=i,l=this.hasActions(e,t)?this.getActions(e,t):n.TPromise.as([]);return l.then(function(i){for(var o=0,a=i.length;o<a;o++)if(i[o].id===c&&i[o].enabled)return i[o].run(r);return(l=s.hasSecondaryActions(e,t)?s.getSecondaryActions(e,t):n.TPromise.as([])).then(function(e){for(var t=0,n=e.length;t<n;t++)if(e[t].id===c&&e[t].enabled)return e[t].run(r);return null})})},t}(E.ContributableActionProvider);t.FileActionProvider=q;var $=function(){function e(){this._actionProvider=new q(this),this.editableStats=new I.ResourceMap}return Object.defineProperty(e.prototype,"actionProvider",{get:function(){return this._actionProvider},enumerable:!0,configurable:!0}),e.prototype.getEditableData=function(e){return this.editableStats.get(e.resource)},e.prototype.setEditable=function(e,t){t&&this.editableStats.set(e.resource,t)},e.prototype.clearEditable=function(e){this.editableStats.delete(e.resource)},e}();t.FileViewletState=$;var Y=function(e){function t(t){var n=e.call(this)||this;return n.viewletState=t,n}return h(t,e),t.prototype.run=function(t,n){return e.prototype.run.call(this,t,{viewletState:this.viewletState})},t}(f.ActionRunner);t.ActionRunner=Y;var X=function(){function e(e,t,n,i){this.contextViewService=t,this.instantiationService=n,this.themeService=i,this.state=e}return e.prototype.getHeight=function(t,n){return e.ITEM_HEIGHT},e.prototype.getTemplateId=function(t,n){return e.FILE_TEMPLATE_ID},e.prototype.disposeTemplate=function(e,t,n){n.label.dispose()},e.prototype.renderTemplate=function(e,t,n){return{label:this.instantiationService.createInstance(_.FileLabel,n,void 0),container:n}},e.prototype.renderElement=function(e,t,n,i){var r=this.state.getEditableData(t);if(r)i.label.element.style.display="none",this.renderInputBox(i.container,e,t,r);else{i.label.element.style.display="block";var o=["explorer-item"];i.label.setFile(t.resource,{hidePath:!0,isFolder:t.isDirectory,extraClasses:o})}},e.prototype.renderInputBox=function(e,t,n,o){var c=this,d=this.instantiationService.createInstance(_.FileLabel,e,void 0),h=["explorer-item","explorer-item-edited"],p={hidePath:!0,hideLabel:!0,isFolder:n.isDirectory||n instanceof L.NewStatPlaceholder&&n.isDirectoryPlaceholder(),extraClasses:h};d.setFile(n.resource,p);var f=new m.InputBox(d.element,this.contextViewService,{validationOptions:{validation:o.validator,showMessage:!0},ariaLabel:i.localize(0,null)}),g=U.attachInputBoxStyler(f,this.themeService),v=u.dirname(n.resource.fsPath);f.onDidChange(function(e){d.setFile(a.default.file(u.join(v,e)),p)});var y=n.name||"",b=y.lastIndexOf(".");f.value=y,f.select({start:0,end:b>0&&!n.isDirectory?b:y.length}),f.focus();var S=l.once(function(i){t.clearHighlight(),i&&f.value&&c.state.actionProvider.runAction(t,n,o.action,{value:f.value}),setTimeout(function(){t.DOMFocus(),r.dispose(E),e.removeChild(d.element)},0)}),E=[f,s.addStandardDisposableListener(f.inputElement,s.EventType.KEY_DOWN,function(e){e.equals(3)?f.validate()&&S(!0):e.equals(9)&&S(!1)}),s.addDisposableListener(f.inputElement,s.EventType.BLUR,function(){S(f.isInputValid())}),d,g]},e}();X.ITEM_HEIGHT=22,X.FILE_TEMPLATE_ID="file",X=v([y(1,N.IContextViewService),y(2,F.IInstantiationService),y(3,j.IThemeService)],X),t.FileRenderer=X;var Q=function(){function e(){}return e.prototype.getAriaLabel=function(e,t){return i.localize(1,null,t.name)},e}();t.FileAccessibilityProvider=Q;var Z=function(e){function t(t,n,i,r,o,s,a,c){var l=e.call(this,{clickBehavior:A.ClickBehavior.ON_MOUSE_UP,keyboardSupport:!1})||this;return l.editorService=n,l.contextMenuService=i,l.instantiationService=r,l.telemetryService=o,l.contextService=s,l.contributedContextMenu=a.createMenu(z.MenuId.ExplorerContext,c),l.state=t,l}return h(t,e),t.prototype.onLeftClick=function(e,t,n,i){void 0===i&&(i="mouse");var r={origin:i},o="mouse"===i&&2===n.detail;if(e.getHighlight())return n.preventDefault(),n.stopPropagation(),e.clearHighlight(r),!1;if(t instanceof L.Model)return e.clearFocus(r),e.clearSelection(r),!1;if(n&&n.browserEvent&&"mousedown"===n.browserEvent.type||n.preventDefault(),n.stopPropagation(),e.DOMFocus(),e.toggleExpansion(t),!n.shiftKey||t instanceof L.NewStatPlaceholder){if(!(t instanceof L.NewStatPlaceholder)){var s=!o;e.setFocus(t,r),o&&n.preventDefault(),e.setSelection([t],r),t.isDirectory||this.openEditor(t,{preserveFocus:s,sideBySide:n&&(n.ctrlKey||n.metaKey),pinned:o})}}else{var a=e.getSelection();a&&a.length>0&&a[0]===t&&e.clearSelection(r)}return!0},t.prototype.onContextMenu=function(e,t,n){var i=this;if(n.target&&n.target.tagName&&"input"===n.target.tagName.toLowerCase())return!1;if(n.preventDefault(),n.stopPropagation(),e.setFocus(t),!this.state.actionProvider.hasSecondaryActions(e,t))return!0;var r={x:n.posx+1,y:n.posy};return this.contextMenuService.showContextMenu({getAnchor:function(){return r},getActions:function(){return i.state.actionProvider.getSecondaryActions(e,t).then(function(e){return H.fillInActions(i.contributedContextMenu,t instanceof L.FileStat?{arg:t.resource}:null,e),e})},getActionItem:this.state.actionProvider.getActionItem.bind(this.state.actionProvider,e,t),getActionsContext:function(e){return{viewletState:i.state,stat:t,event:e}},onHide:function(t){t&&e.DOMFocus()}}),!0},t.prototype.openEditor=function(e,t){e&&!e.isDirectory&&(this.telemetryService.publicLog("workbenchActionExecuted",{id:"workbench.files.openFile",from:"explorer"}),this.editorService.openEditor({resource:e.resource,options:t},t.sideBySide).done(null,d.onUnexpectedError))},t}(A.DefaultController);Z=v([y(1,P.IWorkbenchEditorService),y(2,N.IContextMenuService),y(3,F.IInstantiationService),y(4,V.ITelemetryService),y(5,O.IWorkspaceContextService),y(6,z.IMenuService),y(7,M.IContextKeyService)],Z),t.FileController=Z;var J=function(){function e(){}return e.prototype.compare=function(e,t,n){return t.isDirectory&&!n.isDirectory?-1:n.isDirectory&&!t.isDirectory?1:t instanceof L.NewStatPlaceholder?-1:n instanceof L.NewStatPlaceholder?1:t.isRoot?-1:n.isRoot?1:g.compareFileNames(t.name,n.name)},e}();t.FileSorter=J;var ee=function(){function e(e,t){var n=this;this.contextService=e,this.configurationService=t,this.hiddenExpressionPerRoot=new Map,this.contextService.onDidChangeWorkspaceRoots(function(){return n.updateConfiguration()})}return e.prototype.updateConfiguration=function(){var e=this,t=!1;return this.contextService.getWorkspace2().roots.forEach(function(n){var i=e.configurationService.getConfiguration(void 0,{resource:n}),r=i&&i.files&&i.files.exclude||Object.create(null);t=t||!o.equals(e.hiddenExpressionPerRoot.get(n.toString()),r),e.hiddenExpressionPerRoot.set(n.toString(),o.clone(r))}),t},e.prototype.isVisible=function(e,t){return this.doIsVisible(t)},e.prototype.doIsVisible=function(t){if(t instanceof L.NewStatPlaceholder)return!0;var n=t.parent&&t.parent.children&&t.parent.children;n&&n.length>e.MAX_SIBLINGS_FILTER_THRESHOLD&&(n=void 0);var i=this.hiddenExpressionPerRoot.get(t.root.resource.toString())||Object.create(null);return!S.match(i,u.normalize(u.relative(t.root.resource.fsPath,t.resource.fsPath),!0),function(){return n&&n.map(function(e){return e.name})})},e}();ee.MAX_SIBLINGS_FILTER_THRESHOLD=2e3,ee=v([y(0,O.IWorkspaceContextService),y(1,R.IConfigurationService)],ee),t.FileFilter=ee;var te=function(){function e(e,t,n,i,r,o,s,a){this.messageService=e,this.contextService=t,this.progressService=n,this.fileService=i,this.configurationService=r,this.instantiationService=o,this.textFileService=s,this.backupFileService=a,this.toDispose=[],this.onConfigurationUpdated(r.getConfiguration()),this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.configurationService.onDidUpdateConfiguration(function(t){return e.onConfigurationUpdated(e.configurationService.getConfiguration())}))},e.prototype.onConfigurationUpdated=function(e){this.dropEnabled=e&&e.explorer&&e.explorer.enableDragAndDrop},e.prototype.getDragURI=function(e,t){return this.contextService.getWorkspace2().roots.some(function(e){return e.toString()===t.resource.toString()})?null:t.isDirectory?a.default.from({scheme:"folder",path:t.resource.fsPath}).toString():t.resource.toString()},e.prototype.getDragLabel=function(e,t){if(t.length>1)return String(t.length);var n=t[0];return u.basename(n.resource.fsPath)},e.prototype.onDragStart=function(e,t,n){var i=t.getData(),r=null;i.length>0&&(r=i[0]),r&&r.isDirectory&&e.isExpanded(r)&&e.collapse(r,!1),t instanceof x.DesktopDragAndDropData||r&&!r.isDirectory&&n.dataTransfer.setData("DownloadURL",[c.MIME_BINARY,r.name,r.resource.toString()].join(":"))},e.prototype.onDragOver=function(e,t,n,i){if(!this.dropEnabled||n instanceof L.Model)return k.DRAG_OVER_REJECT;var r=i&&(i.ctrlKey&&!b.isMacintosh||i.altKey&&b.isMacintosh),o=t instanceof x.DesktopDragAndDropData;if(o){for(var s=t.getData().types,a=[],c=0;c<s.length;c++)a.push(s[c]);if(0===a.length||!a.some(function(e){return"Files"===e}))return k.DRAG_OVER_REJECT}else{if(t instanceof x.ExternalElementsDragAndDropData)return k.DRAG_OVER_REJECT;var l=t.getData();if(!Array.isArray(l))return k.DRAG_OVER_REJECT;if(l.some(function(e){return e instanceof L.NewStatPlaceholder||(e.resource.toString()===n.resource.toString()||(!(r||!u.isEqual(u.dirname(e.resource.fsPath),n.resource.fsPath))||!!u.isEqualOrParent(n.resource.fsPath,e.resource.fsPath,!b.isLinux)))}))return k.DRAG_OVER_REJECT}if(n.isDirectory)return o||r?k.DRAG_OVER_ACCEPT_BUBBLE_DOWN_COPY(!0):k.DRAG_OVER_ACCEPT_BUBBLE_DOWN(!0);var d=this.contextService.getWorkspace2();return d&&d.roots.every(function(e){return e.toString()!==n.resource.toString()})?o||r?k.DRAG_OVER_ACCEPT_BUBBLE_UP_COPY:k.DRAG_OVER_ACCEPT_BUBBLE_UP:k.DRAG_OVER_REJECT},e.prototype.drop=function(e,t,r,o){var s=this,c=n.TPromise.as(null);if(t instanceof x.DesktopDragAndDropData)c=this.instantiationService.createInstance(T.ImportFileAction,e,r,null).run({input:{files:t.getData().files}});else{var l=t.getData()[0],h=o.ctrlKey&&!b.isMacintosh||o.altKey&&b.isMacintosh;c=e.expand(r).then(function(){if(h)return s.instantiationService.createInstance(T.DuplicateFileAction,e,l,r).run();var t=[],o=function(){return n.TPromise.join(t.map(function(e){return s.textFileService.models.loadOrCreate(e)}))},c=function(e,i){return i&&s.messageService.show(W.Severity.Error,e),n.TPromise.join(t.map(function(e){return s.backupFileService.discardResourceBackup(e)}))},d=s.textFileService.getDirty().filter(function(e){return u.isEqualOrParent(e.fsPath,l.resource.fsPath,!b.isLinux)});return n.TPromise.join(d.map(function(e){var n;n=u.isEqual(l.resource.fsPath,e.fsPath)?a.default.file(u.join(r.resource.fsPath,l.name)):a.default.file(u.join(r.resource.fsPath,e.fsPath.substr(l.parent.resource.fsPath.length+1))),t.push(n);var i=s.textFileService.models.get(e);return s.backupFileService.backupResource(n,i.getValue(),i.getVersionId())})).then(function(){return s.textFileService.revertAll(d,{soft:!0})}).then(function(){var e=a.default.file(u.join(r.resource.fsPath,l.name)),t=!1;return s.fileService.moveFile(l.resource,e).then(null,function(n){if(n.fileOperationResult===w.FileOperationResult.FILE_MOVE_CONFLICT){t=!0;var r={message:i.localize(2,null,l.name),detail:i.localize(3,null),primaryButton:i.localize(4,null),type:"warning"};if(s.messageService.confirm(r)){var a=s.textFileService.getDirty().filter(function(t){return u.isEqualOrParent(t.fsPath,e.fsPath,!b.isLinux)});return s.textFileService.revertAll(a,{soft:!0}).then(function(){return s.fileService.moveFile(l.resource,e,!0).then(o,function(e){return c(e,!0)})})}return c()}return c(n,!0)})}).then(o,c)},d.onUnexpectedError)}this.progressService.showWhile(c,800),c.done(null,d.onUnexpectedError)},e}();te=v([y(0,W.IMessageService),y(1,O.IWorkspaceContextService),y(2,B.IProgressService),y(3,w.IFileService),y(4,R.IConfigurationService),y(5,F.IInstantiationService),y(6,C.ITextFileService),y(7,K.IBackupFileService)],te),t.FileDragAndDrop=te}),define(u[1303],d([1,0,627,7,4,138,121,265,274,49,9,63,6,19,45,41,38,153,88,93,51,22,267,171,99,206]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var A=u.$,L=function(){function e(){}return e.prototype.getId=function(e,t){return t instanceof I.EditorStacksModel?"root":t instanceof I.EditorGroup?t.id.toString():t.getId()},e.prototype.hasChildren=function(e,t){return t instanceof I.EditorStacksModel||t instanceof I.EditorGroup},e.prototype.getChildren=function(e,t){if(t instanceof I.EditorStacksModel)return r.TPromise.as(t.groups);var n=t;return r.TPromise.as(n.getEditors().map(function(e){return new S.OpenEditor(e,n)}))},e.prototype.getParent=function(e,t){return r.TPromise.as(null)},e}();t.DataSource=L;var P=function(){function e(e,t,n){this.actionProvider=e,this.instantiationService=t,this.keybindingService=n}return e.prototype.getHeight=function(t,n){return e.ITEM_HEIGHT},e.prototype.getTemplateId=function(t,n){return n instanceof I.EditorGroup?e.EDITOR_GROUP_TEMPLATE_ID:e.OPEN_EDITOR_TEMPLATE_ID},e.prototype.renderTemplate=function(t,n,i){var r=this;if(n===e.EDITOR_GROUP_TEMPLATE_ID){var s=Object.create(null);return s.root=u.append(i,A(".editor-group")),s.name=u.append(s.root,A("span.name")),s.actionBar=new l.ActionBar(i),this.actionProvider.getEditorGroupActions().forEach(function(e){var t=r.keybindingService.lookupKeybinding(e.id);s.actionBar.push(e,{icon:!0,label:!1,keybinding:t?t.getLabel():void 0})}),s}var a=Object.create(null);return a.container=i,a.actionBar=new l.ActionBar(i),this.actionProvider.getOpenEditorActions().forEach(function(e){var t=r.keybindingService.lookupKeybinding(e.id);a.actionBar.push(e,{icon:!0,label:!1,keybinding:t?t.getLabel():void 0})}),a.root=this.instantiationService.createInstance(o.EditorLabel,i,void 0),a},e.prototype.renderElement=function(t,n,i,r){i===e.EDITOR_GROUP_TEMPLATE_ID?this.renderEditorGroup(t,n,r):this.renderOpenEditor(t,n,r)},e.prototype.renderEditorGroup=function(e,t,n){n.name.textContent=t.label,n.actionBar.context={group:t}},e.prototype.renderOpenEditor=function(e,t,n){t.isDirty()?u.addClass(n.container,"dirty"):u.removeClass(n.container,"dirty"),n.root.setEditor(t.editorInput,{italic:t.isPreview(),extraClasses:["open-editor"]}),n.actionBar.context={group:t.editorGroup,editor:t.editorInput}},e.prototype.disposeTemplate=function(t,n,i){n===e.OPEN_EDITOR_TEMPLATE_ID&&(i.actionBar.dispose(),i.root.dispose()),n===e.EDITOR_GROUP_TEMPLATE_ID&&i.actionBar.dispose()},e}();P.ITEM_HEIGHT=22,P.EDITOR_GROUP_TEMPLATE_ID="editorgroup",P.OPEN_EDITOR_TEMPLATE_ID="openeditor",P=v([y(1,p.IInstantiationService),y(2,b.IKeybindingService)],P),t.Renderer=P;var D=function(e){function t(t,n,i,r,o,a){var c=e.call(this,{clickBehavior:s.ClickBehavior.ON_MOUSE_DOWN,keyboardSupport:!1})||this;return c.actionProvider=t,c.model=n,c.editorService=i,c.editorGroupService=r,c.contextMenuService=o,c.telemetryService=a,c}return h(t,e),t.prototype.onClick=function(t,n,r){if(n instanceof S.OpenEditor&&r.browserEvent&&1===r.browserEvent.button){var o=this.model.positionOfGroup(n.editorGroup);return this.editorService.closeEditor(o,n.editorInput).done(null,i.onUnexpectedError),!0}return e.prototype.onClick.call(this,t,n,r)},t.prototype.onLeftClick=function(e,t,n,i){void 0===i&&(i="mouse");var r={origin:i},o="mouse"===i&&2===n.detail;if(n&&n.browserEvent&&"mousedown"===n.browserEvent.type||n.preventDefault(),n.stopPropagation(),!(t instanceof S.OpenEditor))return!0;if(e.DOMFocus(),n.shiftKey){var s=e.getSelection();s&&s.length>0&&s[0]===t&&e.clearSelection(r)}else e.setFocus(t,r),o&&n.preventDefault(),e.setSelection([t],r),this.openEditor(t,{preserveFocus:!o,pinned:o,sideBySide:n.ctrlKey||n.metaKey});return!0},t.prototype.onLeft=function(e,t){return!0},t.prototype.onRight=function(e,t){return!0},t.prototype.onContextMenu=function(e,t,n){var i=this;if(n.target&&n.target.tagName&&"input"===n.target.tagName.toLowerCase())return!1;if(t===e.getInput())return!1;n.preventDefault(),n.stopPropagation(),e.setFocus(t);var r=t instanceof I.EditorGroup?t:t.editorGroup,o=t instanceof S.OpenEditor?t.editorInput:void 0,s={x:n.posx+1,y:n.posy};return this.contextMenuService.showContextMenu({getAnchor:function(){return s},getActions:function(){return i.actionProvider.getSecondaryActions(e,t)},onHide:function(t){t&&e.DOMFocus()},getActionsContext:function(){return{group:r,editor:o}}}),!0},t.prototype.openEditor=function(e,t){var n=this;if(e){this.telemetryService.publicLog("workbenchActionExecuted",{id:"workbench.files.openFile",from:"openEditors"});var r=this.model.positionOfGroup(e.editorGroup);t.sideBySide&&r!==d.Position.THREE&&r++,this.editorGroupService.activateGroup(this.model.groupAt(r)),this.editorService.openEditor(e.editorInput,t,r).done(function(){return n.editorGroupService.activateGroup(n.model.groupAt(r))},i.onUnexpectedError)}},t}(s.DefaultController);D=v([y(2,w.IWorkbenchEditorService),y(3,g.IEditorGroupService),y(4,m.IContextMenuService),y(5,f.ITelemetryService)],D),t.Controller=D;var O=function(){function e(){}return e.prototype.getAriaLabel=function(e,t){return t instanceof I.EditorGroup?n.localize(0,null,t.label):n.localize(1,null,t.editorInput.getName())},e}();t.AccessibilityProvider=O;var R=function(e){function t(t,n,i,r){var o=e.call(this)||this;return o.model=t,o.instantiationService=n,o.textFileService=i,o.untitledEditorService=r,o}return h(t,e),t.prototype.hasActions=function(e,t){var n=this.model.groups.length>1;return t instanceof S.OpenEditor||t instanceof I.EditorGroup&&n},t.prototype.getActions=function(e,t){return t instanceof S.OpenEditor?r.TPromise.as(this.getOpenEditorActions()):t instanceof I.EditorGroup?r.TPromise.as(this.getEditorGroupActions()):r.TPromise.as([])},t.prototype.getOpenEditorActions=function(){return[this.instantiationService.createInstance(x.CloseEditorAction,x.CloseEditorAction.ID,x.CloseEditorAction.LABEL)]},t.prototype.getEditorGroupActions=function(){return[this.instantiationService.createInstance(T.SaveAllInGroupAction,T.SaveAllInGroupAction.ID,T.SaveAllInGroupAction.LABEL),this.instantiationService.createInstance(x.CloseUnmodifiedEditorsInGroupAction,x.CloseUnmodifiedEditorsInGroupAction.ID,x.CloseUnmodifiedEditorsInGroupAction.LABEL),this.instantiationService.createInstance(x.CloseEditorsInGroupAction,x.CloseEditorsInGroupAction.ID,x.CloseEditorsInGroupAction.LABEL)]},t.prototype.hasSecondaryActions=function(e,t){return t instanceof S.OpenEditor||t instanceof I.EditorGroup},t.prototype.getSecondaryActions=function(t,i){var r=this;return e.prototype.getSecondaryActions.call(this,t,i).then(function(e){var o=r.textFileService.getAutoSaveMode()===C.AutoSaveMode.AFTER_SHORT_DELAY;if(i instanceof I.EditorGroup)o||(e.push(r.instantiationService.createInstance(T.SaveAllInGroupAction,T.SaveAllInGroupAction.ID,n.localize(2,null))),e.push(new l.Separator)),e.push(r.instantiationService.createInstance(x.CloseUnmodifiedEditorsInGroupAction,x.CloseUnmodifiedEditorsInGroupAction.ID,n.localize(3,null))),e.push(r.instantiationService.createInstance(x.CloseEditorsInGroupAction,x.CloseEditorsInGroupAction.ID,n.localize(4,null)));else{var s=i,a=s.getResource();if(a){if(e.unshift(r.instantiationService.createInstance(T.OpenToSideAction,t,a,!1)),!s.isUntitled()&&!o){e.push(new l.Separator);var c=r.instantiationService.createInstance(T.SaveFileAction,T.SaveFileAction.ID,T.SaveFileAction.LABEL);c.setResource(a),c.enabled=s.isDirty(),e.push(c);var u=r.instantiationService.createInstance(T.RevertFileAction,T.RevertFileAction.ID,T.RevertFileAction.LABEL);u.setResource(a),u.enabled=s.isDirty(),e.push(u)}if(s.isUntitled()){if(e.push(new l.Separator),r.untitledEditorService.hasAssociatedFilePath(a)){var d=r.instantiationService.createInstance(T.SaveFileAction,T.SaveFileAction.ID,T.SaveFileAction.LABEL);d.setResource(a),e.push(d)}var h=r.instantiationService.createInstance(T.SaveFileAsAction,T.SaveFileAsAction.ID,T.SaveFileAsAction.LABEL);h.setResource(a),e.push(h)}e.push(new l.Separator);var p=r.instantiationService.createInstance(T.CompareResourcesAction,a,t);p._isEnabled()&&e.push(p),e.push(r.instantiationService.createInstance(T.SelectResourceForCompareAction,a,t)),e.push(new l.Separator)}e.push(r.instantiationService.createInstance(x.CloseEditorAction,x.CloseEditorAction.ID,n.localize(5,null)));var f=r.instantiationService.createInstance(x.CloseOtherEditorsInGroupAction,x.CloseOtherEditorsInGroupAction.ID,n.localize(6,null));f.enabled=s.editorGroup.count>1,e.push(f),e.push(r.instantiationService.createInstance(x.CloseUnmodifiedEditorsInGroupAction,x.CloseUnmodifiedEditorsInGroupAction.ID,n.localize(7,null))),e.push(r.instantiationService.createInstance(x.CloseEditorsInGroupAction,x.CloseEditorsInGroupAction.ID,n.localize(8,null)))}return e})},t}(_.ContributableActionProvider);R=v([y(1,p.IInstantiationService),y(2,C.ITextFileService),y(3,k.IUntitledEditorService)],R),t.ActionProvider=R;var M=function(e){function t(t,n){var i=e.call(this)||this;return i.editorService=t,i.editorGroupService=n,i}return h(t,e),t.prototype.getDragURI=function(e,t){if(!(t instanceof S.OpenEditor))return null;var n=t.getResource();return n?n.toString():t.editorInput.getName()},t.prototype.getDragLabel=function(e,t){return t.length>1?String(t.length):t[0].editorInput.getName()},t.prototype.onDragOver=function(e,t,n,i){if(!(n instanceof S.OpenEditor||n instanceof I.EditorGroup))return a.DRAG_OVER_REJECT;if(t instanceof c.ExternalElementsDragAndDropData){var r=E.explorerItemToFileResource(t.getData()[0]);return r?r.isDirectory?a.DRAG_OVER_REJECT:a.DRAG_OVER_ACCEPT:a.DRAG_OVER_REJECT}return t instanceof c.DesktopDragAndDropData?a.DRAG_OVER_REJECT:t instanceof c.ElementsDragAndDropData?a.DRAG_OVER_ACCEPT:a.DRAG_OVER_REJECT},t.prototype.drop=function(e,t,n,r){var o,s=this.editorGroupService.getStacksModel(),a=s.positionOfGroup(n instanceof I.EditorGroup?n:n.editorGroup),l=n instanceof S.OpenEditor?n.editorGroup.indexOf(n.editorInput):void 0;if(t instanceof c.ExternalElementsDragAndDropData){var u=E.explorerItemToFileResource(t.getData()[0]);u.options={index:l,pinned:!0},this.editorService.openEditor(u,a).done(null,i.onUnexpectedError)}else{var d=t.getData();Array.isArray(d)&&(o=d[0])}o&&(o instanceof S.OpenEditor?this.editorGroupService.moveEditor(o.editorInput,s.positionOfGroup(o.editorGroup),a,{index:l}):this.editorGroupService.moveGroup(s.positionOfGroup(o),a))},t}(s.DefaultDragAndDrop);M=v([y(0,w.IWorkbenchEditorService),y(1,g.IEditorGroupService)],M),t.DragAndDrop=M}),define(u[1304],d([1,0,4,656,7,12,244,115,102,84,57,125,120,78,54,21,38]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VIEW_PICKER_PREFIX="view ";var S=function(e){function t(t,n,i){var r=e.call(this)||this;return r.label=t,r.category=n,r.open=i,r}return h(t,e),t.prototype.getLabel=function(){return this.label},t.prototype.getCategory=function(){return this.category},t.prototype.getAriaLabel=function(){return i.localize(0,null,this.getLabel())},t.prototype.run=function(t,n){return t===a.Mode.OPEN?this.runOpen(n):e.prototype.run.call(this,t,n)},t.prototype.runOpen=function(e){var t=this;return setTimeout(function(){t.open()},0),!0},t}(c.QuickOpenEntryGroup);t.ViewEntry=S;var _=function(e){function t(t,n,i,r){var o=e.call(this)||this;return o.viewletService=t,o.outputService=n,o.terminalService=i,o.panelService=r,o}return h(t,e),t.prototype.getResults=function(e){e=e.trim();var t,i=o.stripWildcards(e).toLowerCase(),r=this.getViewEntries().filter(function(t){if(!e)return!0;if(!s.matches(t.getLabel(),i)&&!s.matches(t.getCategory(),i))return!1;var n=c.QuickOpenEntry.highlight(t,e),r=n.labelHighlights,o=n.descriptionHighlights;return t.setHighlights(r,o),!0});return r.forEach(function(e,n){t!==e.getCategory()?(t=e.getCategory(),e.setShowBorder(n>0),e.setGroupLabel(t)):(e.setShowBorder(!1),e.setGroupLabel(void 0))}),n.TPromise.as(new c.QuickOpenModel(r))},t.prototype.getViewEntries=function(){var e=this,t=[];this.viewletService.getViewlets().forEach(function(n,o){var s=i.localize(1,null),a=new S(n.name,s,function(){return e.viewletService.openViewlet(n.id,!0).done(null,r.onUnexpectedError)});t.push(a)});var n=this.terminalService.terminalInstances;return this.panelService.getPanels().filter(function(e){return e.id!==d.OUTPUT_PANEL_ID&&!(e.id===p.TERMINAL_PANEL_ID&&n.length>0)}).forEach(function(n,o){var s=i.localize(2,null),a=new S(n.name,s,function(){return e.panelService.openPanel(n.id,!0).done(null,r.onUnexpectedError)});t.push(a)}),n.forEach(function(n,o){var s=i.localize(3,null),a=new S(i.localize(4,null,o+1,n.title),s,function(){e.terminalService.showPanel(!0).done(function(){e.terminalService.setActiveInstance(n)},r.onUnexpectedError)});t.push(a)}),this.outputService.getChannels().forEach(function(n,o){var s=i.localize(5,null),a=new S(n.label,s,function(){return e.outputService.getChannel(n.id).show().done(null,r.onUnexpectedError)});t.push(a)}),t},t.prototype.getAutoFocus=function(e,t){return{autoFocusFirstEntry:!!e||!!t.quickNavigateConfiguration}},t}(l.QuickOpenHandler);_=v([y(0,u.IViewletService),y(1,d.IOutputService),y(2,p.ITerminalService),y(3,f.IPanelService)],_),t.ViewPickerHandler=_;var E=function(e){function n(n,i,r){return e.call(this,n,i,t.VIEW_PICKER_PREFIX,r)||this}return h(n,e),n}(l.QuickOpenAction);E.ID="workbench.action.openView",E.LABEL=i.localize(6,null),E=v([y(2,g.IQuickOpenService)],E),t.OpenViewPickerAction=E;var C=function(e){function i(t,n,i,r){var o=e.call(this,t,n)||this;return o.quickOpenService=i,o.keybindingService=r,o}return h(i,e),i.prototype.run=function(){var e=this.keybindingService.lookupKeybindings(this.id);return this.quickOpenService.show(t.VIEW_PICKER_PREFIX,{quickNavigateConfiguration:{keybindings:e}}),n.TPromise.as(!0)},i}(m.Action);C.ID="workbench.action.quickOpenView",C.LABEL=i.localize(7,null),C=v([y(2,g.IQuickOpenService),y(3,b.IKeybindingService)],C),t.QuickOpenViewPickerAction=C}),define(u[1305],d([1,0,11,655,84,15,35,50,1088,234,1087,1019,1304,169,17,72]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var v=o.Registry.as(a.Extensions.WorkbenchActions);v.registerWorkbenchAction(new s.SyncActionDescriptor(l.ClearCommandHistoryAction,l.ClearCommandHistoryAction.ID,l.ClearCommandHistoryAction.LABEL),"Clear Command History"),v.registerWorkbenchAction(new s.SyncActionDescriptor(l.ShowAllCommandsAction,l.ShowAllCommandsAction.ID,l.ShowAllCommandsAction.LABEL,{primary:3118,secondary:[59]}),"Show All Commands"),v.registerWorkbenchAction(new s.SyncActionDescriptor(u.GotoLineAction,u.GotoLineAction.ID,u.GotoLineAction.LABEL,{primary:2085,mac:{primary:293}}),"Go to Line..."),v.registerWorkbenchAction(new s.SyncActionDescriptor(c.GotoSymbolAction,c.GotoSymbolAction.ID,c.GotoSymbolAction.LABEL,{primary:3117}),"Go to Symbol in File...");var m=f.ContextKeyExpr.and(p.inQuickOpenContext,f.ContextKeyExpr.has("inViewsPicker")),y={primary:2095,mac:{primary:303},linux:{primary:null}};v.registerWorkbenchAction(new s.SyncActionDescriptor(h.OpenViewPickerAction,h.OpenViewPickerAction.ID,h.OpenViewPickerAction.LABEL),"Open View"),v.registerWorkbenchAction(new s.SyncActionDescriptor(h.QuickOpenViewPickerAction,h.QuickOpenViewPickerAction.ID,h.QuickOpenViewPickerAction.LABEL,y),"Quick Open View");g.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.quickOpenNavigateNextInViewPicker",weight:g.KeybindingsRegistry.WEIGHT.workbenchContrib(50),handler:p.getQuickNavigateHandler("workbench.action.quickOpenNavigateNextInViewPicker",!0),when:m,primary:y.primary,linux:y.linux,mac:y.mac});g.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.quickOpenNavigatePreviousInViewPicker",weight:g.KeybindingsRegistry.WEIGHT.workbenchContrib(50),handler:p.getQuickNavigateHandler("workbench.action.quickOpenNavigatePreviousInViewPicker",!1),when:m,primary:1024|y.primary,linux:y.linux,mac:{primary:1024|y.mac.primary}}),o.Registry.as(r.Extensions.Quickopen).registerQuickOpenHandler(new r.QuickOpenHandlerDescriptor("vs/workbench/parts/quickopen/browser/commandsHandler","CommandsHandler",l.ALL_COMMANDS_PREFIX,"inCommandsPicker",i.localize(0,null))),o.Registry.as(r.Extensions.Quickopen).registerQuickOpenHandler(new r.QuickOpenHandlerDescriptor("vs/workbench/parts/quickopen/browser/gotoLineHandler","GotoLineHandler",u.GOTO_LINE_PREFIX,null,[{prefix:u.GOTO_LINE_PREFIX,needsEditor:!0,description:n.isMacintosh?i.localize(1,null):i.localize(2,null)}])),o.Registry.as(r.Extensions.Quickopen).registerQuickOpenHandler(new r.QuickOpenHandlerDescriptor("vs/workbench/parts/quickopen/browser/gotoSymbolHandler","GotoSymbolHandler",c.GOTO_SYMBOL_PREFIX,"inFileSymbolsPicker",[{prefix:c.GOTO_SYMBOL_PREFIX,needsEditor:!0,description:i.localize(3,null)},{prefix:c.GOTO_SYMBOL_PREFIX+c.SCOPE_PREFIX,needsEditor:!0,description:i.localize(4,null)}])),o.Registry.as(r.Extensions.Quickopen).registerQuickOpenHandler(new r.QuickOpenHandlerDescriptor("vs/workbench/parts/quickopen/browser/helpHandler","HelpHandler",d.HELP_PREFIX,null,i.localize(5,null))),o.Registry.as(r.Extensions.Quickopen).registerQuickOpenHandler(new r.QuickOpenHandlerDescriptor("vs/workbench/parts/quickopen/browser/viewPickerHandler","ViewPickerHandler",h.VIEW_PICKER_PREFIX,"inViewsPicker",[{prefix:h.VIEW_PICKER_PREFIX,needsEditor:!1,description:i.localize(6,null)}]))}),define(u[1306],d([1,0,659,21,15,85,1170,54,103,282,50,35,92,163,57,22,1171]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var S=function(e){function t(t,n,i,r){return e.call(this,t,n,l.VIEWLET_ID,i,r)||this}return h(t,e),t}(c.ToggleViewletAction);S.ID=l.VIEWLET_ID,S.LABEL=n.localize(0,null),S=v([y(2,g.IViewletService),y(3,m.IWorkbenchEditorService)],S);var _=function(e){function t(n,i,r,o,s){void 0===n&&(n=t.ID),void 0===i&&(i=t.LABEL);var a=e.call(this,"scm.switchprovider","Switch SCM Provider","",!0)||this;return a.scmService=r,a.quickOpenService=o,a.viewletService=s,a}return h(t,e),t.prototype.run=function(){var e=this,t=this.scmService.providers.map(function(t){return{label:t.label,run:function(){return e.scmService.activeProvider=t}}});return t.push({label:n.localize(1,null),run:function(){return e.viewletService.openViewlet(p.VIEWLET_ID,!0).then(function(e){return e}).then(function(e){e.search('category:"SCM Providers" @sort:installs'),e.focus()}),e.scmService.activeProvider},separator:{border:!0}}),this.quickOpenService.pick(t)},t}(i.Action);_.ID="scm.switch",_.LABEL="Switch SCM Provider",_=v([y(2,f.ISCMService),y(3,a.IQuickOpenService),y(4,g.IViewletService)],_),t.SwitchProvider=_,r.Registry.as(o.Extensions.Workbench).registerWorkbenchContribution(s.DirtyDiffDecorator);var E=new c.ViewletDescriptor("vs/workbench/parts/scm/electron-browser/scmViewlet","SCMViewlet",l.VIEWLET_ID,n.localize(2,null),"scm",36);r.Registry.as(c.Extensions.Viewlets).registerViewlet(E),r.Registry.as(o.Extensions.Workbench).registerWorkbenchContribution(b.StatusUpdater),r.Registry.as(u.Extensions.WorkbenchActions).registerWorkbenchAction(new d.SyncActionDescriptor(S,l.VIEWLET_ID,n.localize(3,null),{primary:null,win:{primary:3109},linux:{primary:3109},mac:{primary:1317}}),"View: Show SCM",n.localize(4,null)),r.Registry.as(u.Extensions.WorkbenchActions).registerWorkbenchAction(new d.SyncActionDescriptor(_,_.ID,_.LABEL),"SCM: Switch SCM Provider","SCM")}),define(u[1307],d([1,0,661,4,8,5,17,35,21,180,41,49,57,92,163,412,360]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var b=function(e){function t(t,n){var i=e.call(this,"scm.switchProvider",t.label,"",!0)||this;return i.provider=t,i.scmService=n,i}return h(t,e),Object.defineProperty(t.prototype,"checked",{get:function(){return this.scmService.activeProvider===this.provider},enumerable:!0,configurable:!0}),t.prototype.run=function(){return this.scmService.activeProvider=this.provider,i.TPromise.as(null)},t}(c.Action);b=v([y(1,g.ISCMService)],b);var S=function(e){function t(t){var i=e.call(this,"scm.installAdditionalSCMProviders",n.localize(0,null),"",!0)||this;return i.viewletService=t,i}return h(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(f.VIEWLET_ID,!0).then(function(e){return e}).then(function(e){e.search('category:"SCM Providers" @sort:installs'),e.focus()})},t}(c.Action),_=function(){function e(e,t,n,i){this.contextKeyService=e,this.scmService=t,this.menuService=n,this.viewletService=i,this.disposables=[],this.titleDisposable=o.empty,this.titleActions=[],this.titleSecondaryActions=[],this._onDidChangeTitle=new r.Emitter,this.setActiveProvider(this.scmService.activeProvider),this.scmService.onDidChangeProvider(this.setActiveProvider,this,this.disposables)}return Object.defineProperty(e.prototype,"onDidChangeTitle",{get:function(){return this._onDidChangeTitle.event},enumerable:!0,configurable:!0}),e.prototype.setActiveProvider=function(e){var t=this;if(this.titleDisposable&&(this.titleDisposable.dispose(),this.titleDisposable=o.empty),e){var n=this.menuService.createMenu(a.MenuId.SCMTitle,this.contextKeyService),i=function(){t.titleActions=[],t.titleSecondaryActions=[],l.fillInActions(n,null,{primary:t.titleActions,secondary:t.titleSecondaryActions}),t._onDidChangeTitle.fire()},r=n.onDidChange(i);i(),this.titleDisposable=o.toDisposable(function(){r.dispose(),n.dispose(),t.titleActions=[],t.titleSecondaryActions=[]})}},e.prototype.getTitleActions=function(){return this.titleActions},e.prototype.getTitleSecondaryActions=function(){var e=this,t=this.scmService.providers.map(function(t){return new b(t,e.scmService)}),i=[];return this.titleSecondaryActions.length>0&&(i=i.concat(this.titleSecondaryActions)),t.length>0&&t.push(new d.Separator),t.push(new S(this.viewletService)),i.length>0&&i.push(new d.Separator),i.push(new u.ContextSubMenu(n.localize(1,null),t)),i},e.prototype.getResourceGroupActions=function(e){return this.getActions(a.MenuId.SCMResourceGroupContext,e).primary},e.prototype.getResourceGroupContextActions=function(e){return this.getActions(a.MenuId.SCMResourceGroupContext,e).secondary},e.prototype.getResourceActions=function(e){return this.getActions(a.MenuId.SCMResourceContext,e).primary},e.prototype.getResourceContextActions=function(e){return this.getActions(a.MenuId.SCMResourceContext,e).secondary},e.prototype.getActions=function(t,n){if(!this.scmService.activeProvider)return e.NoActions;var i=this.contextKeyService.createScoped();i.createKey("scmResourceGroup",m.getSCMResourceContextKey(n));var r=this.menuService.createMenu(t,i),o={primary:[],secondary:[]};return l.fillInActions(r,{shouldForwardArgs:!0},o,function(e){return"inline"===e}),r.dispose(),i.dispose(),o},e.prototype.dispose=function(){this.disposables=o.dispose(this.disposables)},e}();_.NoActions={primary:[],secondary:[]},_=v([y(0,s.IContextKeyService),y(1,g.ISCMService),y(2,a.IMenuService),y(3,p.IViewletService)],_),t.SCMMenus=_}),define(u[1308],d([1,0,662,4,8,7,11,150,5,103,9,89,19,176,282,138,201,163,45,22,6,41,17,32,38,20,90,35,21,180,1307,49,13,110,44,233,412,55,36,360]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A,L,P,D,O,R,M,N,F,W,B,V,z){"use strict";function H(e){if(B.isSCMResource(e)){var t=e.resourceGroup;return(n=t.provider).id+"/"+t.id+"/"+e.sourceUri.toString()}var n=e.provider;return n.id+"/"+e.id}function K(e,t){return W.comparePaths(e.sourceUri.fsPath,t.sourceUri.fsPath)}Object.defineProperty(t,"__esModule",{value:!0});var U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.onClick=function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.actionRunner.run(this._commandAction,this._context).done(void 0,function(e){return t._messageService.show(z.default.Error,e)})},t}(D.MenuItemActionItem),j=function(){function e(e,t,n){this.scmMenus=e,this.actionItemProvider=t,this.themeService=n}return Object.defineProperty(e.prototype,"templateId",{get:function(){return e.TEMPLATE_ID},enumerable:!0,configurable:!0}),e.prototype.renderTemplate=function(e){var t=u.append(e,u.$(".resource-group")),n=u.append(t,u.$(".name")),i=u.append(t,u.$(".actions")),r=new R.ActionBar(i,{actionItemProvider:this.actionItemProvider}),o=u.append(t,u.$(".count")),s=new b.CountBadge(o),a=V.attachBadgeStyler(s,this.themeService);return{name:n,count:s,actionBar:r,dispose:function(){r.dispose(),a.dispose()}}},e.prototype.renderElement=function(e,t,n){n.name.textContent=e.label,n.count.setCount(e.resources.length),n.actionBar.clear(),n.actionBar.context=e,n.actionBar.push(this.scmMenus.getResourceGroupActions(e))},e.prototype.disposeTemplate=function(e){e.dispose()},e}();j.TEMPLATE_ID="resource group";var G=function(e){function t(t){var n=e.call(this)||this;return n.getSelectedResources=t,n}return h(t,e),t.prototype.runAction=function(t,n){if(t instanceof L.MenuItemAction){var i=this.getSelectedResources(),r=i.filter(function(e){return e!==n});return i.length===r.length||1===i.length?t.run(n):t.run.apply(t,[n].concat(r))}return e.prototype.runAction.call(this,t,n)},t}(P.ActionRunner),q=function(){function e(e,t,n,i,r){this.scmMenus=e,this.actionItemProvider=t,this.getSelectedResources=n,this.themeService=i,this.instantiationService=r}return Object.defineProperty(e.prototype,"templateId",{get:function(){return e.TEMPLATE_ID},enumerable:!0,configurable:!0}),e.prototype.renderTemplate=function(e){var t=u.append(e,u.$(".resource")),n=u.append(t,u.$(".name")),i=this.instantiationService.createInstance(m.FileLabel,n,void 0),r=u.append(t,u.$(".actions")),o=new R.ActionBar(r,{actionItemProvider:this.actionItemProvider,actionRunner:new G(this.getSelectedResources)});return{element:t,name:n,fileLabel:i,decorationIcon:u.append(t,u.$(".decoration-icon")),actionBar:o}},e.prototype.renderElement=function(e,t,n){n.fileLabel.setFile(e.sourceUri),n.actionBar.clear(),n.actionBar.context=e,n.actionBar.push(this.scmMenus.getResourceActions(e)),u.toggleClass(n.name,"strike-through",e.decorations.strikeThrough),u.toggleClass(n.element,"faded",e.decorations.faded);var i=this.themeService.getTheme().type===M.LIGHT?e.decorations.icon:e.decorations.iconDark;n.decorationIcon.style.backgroundImage=i?"url('"+i+"')":""},e.prototype.disposeTemplate=function(e){},e}();q.TEMPLATE_ID="resource",q=v([y(3,M.IThemeService),y(4,C.IInstantiationService)],q);var $=function(){function e(){}return e.prototype.getHeight=function(){return 22},e.prototype.getTemplateId=function(e){return B.isSCMResource(e)?q.TEMPLATE_ID:j.TEMPLATE_ID},e}(),Y=function(e){function t(t,n,i,r,o,s,a,l,u,d,h,p,f,v,m){var y=e.call(this,g.VIEWLET_ID,t,d)||this;return y.scmService=n,y.instantiationService=i,y.contextViewService=r,y.contextKeyService=o,y.keybindingService=s,y.messageService=a,y.listService=l,y.contextMenuService=u,y.themeService=d,y.menuService=h,y.modelService=p,y.commandService=f,y.groupService=v,y.editorService=m,y.providerChangeDisposable=c.empty,y.disposables=[],y.menus=y.instantiationService.createInstance(O.SCMMenus),y.menus.onDidChangeTitle(y.updateTitleArea,y,y.disposables),y.disposables.push(y.menus),y}return h(t,e),t.prototype.setActiveProvider=function(e){if(this.providerChangeDisposable.dispose(),this.activeProvider=e,e){var t=[e.onDidChange(this.update,this)];e.onDidChangeCommitTemplate&&t.push(e.onDidChangeCommitTemplate(this.updateInputBox,this)),this.providerChangeDisposable=c.combinedDisposable(t)}else this.providerChangeDisposable=c.empty;this.updateInputBox(),this.updateTitleArea(),this.update()},t.prototype.create=function(t){var o=this;e.prototype.create.call(this,t),t.addClass("scm-viewlet");var c=t.getHTMLElement();this.inputBoxContainer=u.append(c,u.$(".scm-editor")),this.inputBox=new N.InputBox(this.inputBoxContainer,this.contextViewService,{placeholder:n.localize(0,null,s.isMacintosh?"Cmd+Enter":"Ctrl+Enter"),flexibleHeight:!0}),this.disposables.push(V.attachInputBoxStyler(this.inputBox,this.themeService)),this.disposables.push(this.inputBox),this.inputBox.value=this.scmService.input.value,this.inputBox.onDidChange(function(e){return o.scmService.input.value=e},null,this.disposables),this.scmService.input.onDidChange(function(e){return o.inputBox.value=e},null,this.disposables),this.disposables.push(this.inputBox.onDidHeightChange(function(){return o.layout()})),r.chain(a.domEvent(this.inputBox.inputElement,"keydown")).map(function(e){return new d.StandardKeyboardEvent(e)}).filter(function(e){return e.equals(2051)||e.equals(2097)}).on(this.onDidAcceptInput,this,this.disposables),this.listContainer=u.append(c,u.$(".scm-status.show-file-icons"));var l=new $,h=function(e){return o.getActionItem(e)},p=[new j(this.menus,h,this.themeService),this.instantiationService.createInstance(q,this.menus,h,function(){return o.getSelectedResources()})];return this.list=new f.List(this.listContainer,l,p,{identityProvider:H,keyboardSupport:!1}),this.disposables.push(V.attachListStyler(this.list,this.themeService)),this.disposables.push(this.listService.register(this.list)),r.chain(this.list.onOpen).map(function(e){return e.elements[0]}).filter(function(e){return!!e&&B.isSCMResource(e)}).on(this.open,this,this.disposables),r.chain(this.list.onPin).map(function(e){return e.elements[0]}).filter(function(e){return!!e&&B.isSCMResource(e)}).on(this.pin,this,this.disposables),this.list.onContextMenu(this.onListContextMenu,this,this.disposables),this.disposables.push(this.list),this.setActiveProvider(this.scmService.activeProvider),this.scmService.onDidChangeProvider(this.setActiveProvider,this,this.disposables),this.themeService.onThemeChange(this.update,this,this.disposables),i.TPromise.as(null)},t.prototype.onDidAcceptInput=function(){if(this.activeProvider&&this.activeProvider.acceptInputCommand){var e=this.activeProvider.acceptInputCommand.id,t=this.activeProvider.acceptInputCommand.arguments;(n=this.commandService).executeCommand.apply(n,[e].concat(t)).done(void 0,o.onUnexpectedError);var n}},t.prototype.update=function(){var e=this.scmService.activeProvider;if(e){var t=e.resources.reduce(function(e,t){return e.concat([t],t.resources.sort(K))},[]);this.list.splice(0,this.list.length,t)}else this.list.splice(0,this.list.length)},t.prototype.updateInputBox=function(){this.activeProvider&&void 0!==this.activeProvider.commitTemplate&&(this.inputBox.value=this.activeProvider.commitTemplate)},t.prototype.layout=function(e){if(void 0===e&&(e=this.cachedDimension),e){this.cachedDimension=e,this.inputBox.layout();var t=this.inputBox.height,n=e.height-(t+12);this.listContainer.style.height=n+"px",this.list.layout(n),u.toggleClass(this.inputBoxContainer,"scroll",t>=134)}},t.prototype.getOptimalWidth=function(){return 400},t.prototype.focus=function(){e.prototype.focus.call(this),this.inputBox.focus()},t.prototype.open=function(e){if(e.command){(t=this.commandService).executeCommand.apply(t,[e.command.id].concat(e.command.arguments)).done(void 0,o.onUnexpectedError);var t}},t.prototype.pin=function(){var e=this.editorService.getActiveEditor(),t=this.editorService.getActiveEditorInput();this.groupService.pinEditor(e.position,t)},t.prototype.getTitle=function(){var e=n.localize(1,null),t=this.scmService.activeProvider&&this.scmService.activeProvider.label;return t?n.localize(2,null,e,t):e},t.prototype.getActions=function(){return this.menus.getTitleActions()},t.prototype.getSecondaryActions=function(){return this.menus.getTitleSecondaryActions()},t.prototype.getActionItem=function(e){if(e instanceof L.MenuItemAction)return new U(e,this.keybindingService,this.messageService)},t.prototype.onListContextMenu=function(e){var t,n=this,r=e.element;t=B.isSCMResource(r)?this.menus.getResourceContextActions(r):this.menus.getResourceGroupContextActions(r),this.contextMenuService.showContextMenu({getAnchor:function(){return e.anchor},getActions:function(){return i.TPromise.as(t)},getActionsContext:function(){return r},actionRunner:new G(function(){return n.getSelectedResources()})})},t.prototype.getSelectedResources=function(){return this.list.getSelectedElements().filter(function(e){return B.isSCMResource(e)})},t.prototype.dispose=function(){this.disposables=c.dispose(this.disposables),e.prototype.dispose.call(this)},t}(l.Viewlet);Y=v([y(0,p.ITelemetryService),y(1,S.ISCMService),y(2,C.IInstantiationService),y(3,w.IContextViewService),y(4,I.IContextKeyService),y(5,k.IKeybindingService),y(6,x.IMessageService),y(7,A.IListService),y(8,w.IContextMenuService),y(9,M.IThemeService),y(10,L.IMenuService),y(11,F.IModelService),y(12,T.ICommandService),y(13,_.IEditorGroupService),y(14,E.IWorkbenchEditorService)],Y),t.SCMViewlet=Y}),define(u[251],d([1,0,669,9,7,28,4,16,21,103,57,211,193,197,121,126,22,19,60,38,30,6,90,93,11]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k){"use strict";function x(e,t,n){if("number"==typeof t){var i=n.resolveKeybinding(_.createKeybinding(t,k.OS));return A(e,i.length>0?i[0]:null)}return A(e,t)}function A(e,t){return t?e+" ("+t.getLabel()+")":e}Object.defineProperty(t,"__esModule",{value:!0}),t.isSearchViewletFocussed=function(e){var t=e.getActiveViewlet(),n=document.activeElement;return t&&t.getId()===f.VIEWLET_ID&&n&&i.isAncestor(n,t.getContainer().getHTMLElement())},t.appendKeyBindingLabel=x;var L=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.viewletService=i,r}return h(t,e),t.prototype.run=function(){return this.viewletService.getActiveViewlet().toggleCaseSensitive(),s.TPromise.as(null)},t}(c.Action);L=v([y(2,u.IViewletService)],L),t.ToggleCaseSensitiveAction=L;var P=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.viewletService=i,r}return h(t,e),t.prototype.run=function(){return this.viewletService.getActiveViewlet().toggleWholeWords(),s.TPromise.as(null)},t}(c.Action);P=v([y(2,u.IViewletService)],P),t.ToggleWholeWordAction=P;var D=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.viewletService=i,r}return h(t,e),t.prototype.run=function(){return this.viewletService.getActiveViewlet().toggleRegex(),s.TPromise.as(null)},t}(c.Action);D=v([y(2,u.IViewletService)],D),t.ToggleRegexAction=D;var O=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.viewletService=i,r}return h(t,e),t.prototype.run=function(){return this.viewletService.getActiveViewlet().searchAndReplaceWidget.showNextSearchTerm(),s.TPromise.as(null)},t}(c.Action);O.ID="search.history.showNext",O.LABEL=n.localize(0,null),O=v([y(2,u.IViewletService)],O),t.ShowNextSearchTermAction=O;var R=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.viewletService=i,r}return h(t,e),t.prototype.run=function(){return this.viewletService.getActiveViewlet().searchAndReplaceWidget.showPreviousSearchTerm(),s.TPromise.as(null)},t}(c.Action);R.ID="search.history.showPrevious",R.LABEL=n.localize(1,null),R=v([y(2,u.IViewletService)],R),t.ShowPreviousSearchTermAction=R;var M=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.viewletService=i,r}return h(t,e),t.prototype.run=function(){return this.viewletService.getActiveViewlet().focusNextInputBox(),s.TPromise.as(null)},t}(c.Action);M.ID="search.focus.nextInputBox",M.LABEL=n.localize(2,null),M=v([y(2,u.IViewletService)],M),t.FocusNextInputAction=M;var N=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.viewletService=i,r}return h(t,e),t.prototype.run=function(){return this.viewletService.getActiveViewlet().focusPreviousInputBox(),s.TPromise.as(null)},t}(c.Action);N.ID="search.focus.previousInputBox",N.LABEL=n.localize(3,null),N=v([y(2,u.IViewletService)],N),t.FocusPreviousInputAction=N;var F=function(e){function t(t,n,i,r){return e.call(this,t,n,f.VIEWLET_ID,i,r)||this}return h(t,e),t.prototype.run=function(){var t=this,n=this.viewletService.getActiveViewlet(),i=n&&n.getId()===f.VIEWLET_ID;return e.prototype.run.call(this).then(function(){if(!i){var e=t.viewletService.getActiveViewlet();e&&e.getId()===f.VIEWLET_ID&&e.searchAndReplaceWidget.toggleReplace(!1)}})},t}(l.ToggleViewletAction);F=v([y(2,u.IViewletService),y(3,b.IWorkbenchEditorService)],F),t.OpenSearchViewletAction=F;var W=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.editorService=i,r}return h(t,e),t.prototype.run=function(){var e=this.editorService.getActiveEditor();return e&&e.focus(),s.TPromise.as(!0)},t}(c.Action);W=v([y(2,b.IWorkbenchEditorService)],W),t.FocusActiveEditorAction=W;var B=function(e){function t(t,n,i,r,o,s){var a=e.call(this,t,n)||this;return a.viewletService=i,a.expandSearchReplaceWidget=r,a.selectWidgetText=o,a.focusReplace=s,a}return h(t,e),t.prototype.run=function(){var e=this,t=this.viewletService.getActiveViewlet(),n=t&&t.getId()===f.VIEWLET_ID;return this.viewletService.openViewlet(f.VIEWLET_ID,!0).then(function(t){if(!n||e.expandSearchReplaceWidget){var i=t.searchAndReplaceWidget;i.toggleReplace(e.expandSearchReplaceWidget),i.focus(e.selectWidgetText,e.focusReplace)}})},t}(c.Action);t.FindOrReplaceInFilesAction=B;var V=function(e){function t(t,n,i){return e.call(this,t,n,i,!1,!0,!1)||this}return h(t,e),t}(B);V=v([y(2,u.IViewletService)],V),t.FindInFilesAction=V;var z=function(e){function t(t,n,i){return e.call(this,t,n,i,!0,!1,!0)||this}return h(t,e),t}(B);z.ID="workbench.action.replaceInFiles",z.LABEL=n.localize(4,null),z=v([y(2,u.IViewletService)],z),t.ReplaceInFilesAction=z;var H=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.viewletService=i,r}return h(t,e),t.prototype.run=function(){var e=this.viewletService.getActiveViewlet().searchAndReplaceWidget;return e.toggleReplace(!1),e.focus(),s.TPromise.as(null)},t}(c.Action);H=v([y(2,u.IViewletService)],H),t.CloseReplaceAction=H;var K=function(e){function i(t,r){var o=e.call(this,i.ID,n.localize(5,null))||this;return o.instantiationService=r,o.resource=t,o}return h(i,e),i.prototype.run=function(e){return this.instantiationService.invokeFunction.apply(this.instantiationService,[t.findInFolderCommand,this.resource])},i}(c.Action);K.ID="filesExplorer.findInFolder",K=v([y(1,w.IInstantiationService)],K),t.FindInFolderAction=K,t.findInFolderCommand=function(e,t){var n=e.get(I.IListService),i=e.get(u.IViewletService);if(!a.default.isUri(t)){var s=n.getFocused()?n.getFocused().getFocus():void 0;if(s){var c=T.explorerItemToFileResource(s);c&&(t=c.isDirectory?c.resource:a.default.file(o.dirname(c.resource.fsPath)))}}i.openViewlet(f.VIEWLET_ID,!0).then(function(e){t&&e.searchInFolder(t)}).done(null,r.onUnexpectedError)};var U=function(e){function t(t){var i=e.call(this,"refresh")||this;return i.viewlet=t,i.label=n.localize(6,null),i.enabled=!1,i.class="search-action refresh",i}return h(t,e),t.prototype.run=function(){return this.viewlet.onQueryChanged(!0),s.TPromise.as(null)},t}(c.Action);t.RefreshAction=U;var j=function(e){function t(t){var n=e.call(this,t.getControl(),!1)||this;return n.class="search-action collapse",n}return h(t,e),t}(g.CollapseAllAction);t.CollapseAllAction=j;var G=function(e){function t(t){var i=e.call(this,"clearSearchResults")||this;return i.viewlet=t,i.label=n.localize(7,null),i.enabled=!1,i.class="search-action clear-search-results",i}return h(t,e),t.prototype.run=function(){return this.viewlet.clearSearchResults(),s.TPromise.as(null)},t}(c.Action);t.ClearSearchResultsAction=G;var q=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.viewletService=i,r}return h(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(f.VIEWLET_ID).then(function(e){e.selectNextMatch()})},t}(c.Action);q.ID="search.action.focusNextSearchResult",q.LABEL=n.localize(8,null),q=v([y(2,u.IViewletService)],q),t.FocusNextSearchResultAction=q;var $=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.viewletService=i,r}return h(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(f.VIEWLET_ID).then(function(e){e.selectPreviousMatch()})},t}(c.Action);$.ID="search.action.focusPreviousSearchResult",$.LABEL=n.localize(9,null),$=v([y(2,u.IViewletService)],$),t.FocusPreviousSearchResultAction=$;var Y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.getElementToFocusAfterRemoved=function(e,t){var n=this.getNextElementAfterRemoved(e,t);return n||(n=this.getPreviousElementAfterRemoved(e,t)),n},t.prototype.getNextElementAfterRemoved=function(e,t){var n=this.getNavigatorAt(t,e);if(t instanceof d.FileMatch)for(;n.next()&&!(n.current()instanceof d.FileMatch););else n.next();return n.current()},t.prototype.getPreviousElementAfterRemoved=function(e,t){var n=this.getNavigatorAt(t,e),i=n.previous();return t instanceof d.Match&&1===t.parent().matches().length&&(i=n.previous()),i},t.prototype.getNavigatorAt=function(e,t){for(var n=t.getNavigator();n.current()!==e&&n.next(););return n},t}(c.Action);t.AbstractSearchAndReplaceAction=Y;var X=function(e){function t(t,i){var r=e.call(this,"remove",n.localize(10,null),"action-remove")||this;return r.viewer=t,r.element=i,r}return h(t,e),t.prototype.run=function(){var e=this.getElementToFocusAfterRemoved(this.viewer,this.element);e&&this.viewer.setFocus(e);var t;if(this.element instanceof d.FileMatch){var n=this.element.parent();n.remove(this.element),t=n}else{var i=this.element.parent();i.remove(this.element),t=0===i.count()?i.parent():i}return this.viewer.DOMFocus(),this.viewer.refresh(t)},t}(Y);t.RemoveAction=X;var Q=function(e){function t(t,i,r,o,s,a){var c=e.call(this,f.ReplaceAllInFileActionId,x(n.localize(11,null),s.lookupKeybinding(f.ReplaceAllInFileActionId),s),"action-replace-all")||this;return c.viewer=t,c.fileMatch=i,c.viewlet=r,c.replaceService=o,c.telemetryService=a,c}return h(t,e),t.prototype.run=function(){var e=this;this.telemetryService.publicLog("replaceAll.action.selected");var t=this.getElementToFocusAfterRemoved(this.viewer,this.fileMatch);return this.fileMatch.parent().replace(this.fileMatch).then(function(){t&&e.viewer.setFocus(t),e.viewer.DOMFocus(),e.viewlet.open(e.fileMatch,!0)})},t}(Y);Q=v([y(3,p.IReplaceService),y(4,E.IKeybindingService),y(5,S.ITelemetryService)],Q),t.ReplaceAllAction=Q;var Z=function(e){function t(t,i,r,o,s,a,c){var l=e.call(this,f.ReplaceActionId,x(n.localize(12,null),s.lookupKeybinding(f.ReplaceActionId),s),"action-replace")||this;return l.viewer=t,l.element=i,l.viewlet=r,l.replaceService=o,l.editorService=a,l.telemetryService=c,l}return h(t,e),t.prototype.run=function(){var e=this;return this.enabled=!1,this.telemetryService.publicLog("replace.action.selected"),this.element.parent().replace(this.element).then(function(){var t=e.getElementToFocusAfterReplace();t&&e.viewer.setFocus(t);var n=e.getElementToShowReplacePreview(t);e.viewer.DOMFocus(),!n||e.hasToOpenFile()?e.viewlet.open(e.element,!0):e.replaceService.openReplacePreview(n,!0)})},t.prototype.getElementToFocusAfterReplace=function(){var e=this.viewer.getNavigator(),t=!1,n=null;do{if((n=e.current())instanceof d.Match){if(n.parent().id()===this.element.parent().id()){if(t=!0,this.element.range().getStartPosition().isBeforeOrEqual(n.range().getStartPosition()))break}else if(t)break}else if(t&&!this.viewer.isExpanded(n))break}while(e.next());return n},t.prototype.getElementToShowReplacePreview=function(e){if(this.hasSameParent(e))return e;var t=this.getPreviousElementAfterRemoved(this.viewer,this.element);return this.hasSameParent(t)?t:null},t.prototype.hasSameParent=function(e){return e&&e instanceof d.Match&&e.parent().resource()===this.element.parent().resource()},t.prototype.hasToOpenFile=function(){var e=C.toResource(this.editorService.getActiveEditorInput(),{filter:"file"});return!!e&&o.isEqual(e.fsPath,this.element.parent().resource().fsPath)},t}(Y);Z=v([y(3,p.IReplaceService),y(4,E.IKeybindingService),y(5,b.IWorkbenchEditorService),y(6,S.ITelemetryService)],Z),t.ReplaceAction=Z;var J=function(e){function t(t){var i=e.call(this,"configureGlobalExclusionsAction")||this;return i.preferencesService=t,i.label=n.localize(13,null),i.enabled=!0,i.class="search-configure-exclusions",i}return h(t,e),t.prototype.run=function(){return this.preferencesService.openGlobalSettings().then(null,r.onUnexpectedError)},t}(c.Action);J=v([y(0,m.IPreferencesService)],J),t.ConfigureGlobalExclusionsAction=J}),define(u[1310],d([1,0,670,28,9,5,4,49,201,138,211,27,14,251,6,55,13,82]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var _=function(){function e(){}return e.prototype.getId=function(e,t){return t instanceof u.FileMatch?t.id():t instanceof u.Match?t.id():"root"},e.prototype._getChildren=function(e){return e instanceof u.FileMatch?e.matches():e instanceof u.SearchResult?e.matches():[]},e.prototype.getChildren=function(e,t){return s.TPromise.as(this._getChildren(t))},e.prototype.hasChildren=function(e,t){return t instanceof u.FileMatch||t instanceof u.SearchResult},e.prototype.getParent=function(e,t){var n=null;return t instanceof u.Match?n=t.parent():t instanceof u.FileMatch&&(n=t.parent()),s.TPromise.as(n)},e.prototype.shouldAutoexpand=function(t,n){var i=this._getChildren(n).length;return i>0&&i<e.AUTOEXPAND_CHILD_LIMIT},e}();_.AUTOEXPAND_CHILD_LIMIT=10,t.SearchDataSource=_;var E=function(){function e(){}return e.prototype.compare=function(e,t,n){return t instanceof u.FileMatch&&n instanceof u.FileMatch?t.resource().fsPath.localeCompare(n.resource().fsPath)||t.name().localeCompare(n.name()):t instanceof u.Match&&n instanceof u.Match?p.Range.compareRangesUsingStarts(t.range(),n.range()):void 0},e}();t.SearchSorter=E;var C=function(e){function t(t,n,i,r,o){var s=e.call(this)||this;return s.viewlet=n,s.contextService=i,s.instantiationService=r,s.themeService=o,s}return h(t,e),t.prototype.getHeight=function(e,t){return 22},t.prototype.getTemplateId=function(e,n){return n instanceof u.FileMatch?t.FILE_MATCH_TEMPLATE_ID:n instanceof u.Match?t.MATCH_TEMPLATE_ID:null},t.prototype.renderTemplate=function(e,n,i){return n===t.FILE_MATCH_TEMPLATE_ID?this.renderFileMatchTemplate(e,n,i):n===t.MATCH_TEMPLATE_ID?this.renderMatchTemplate(e,n,i):null},t.prototype.renderElement=function(e,n,i,r){t.FILE_MATCH_TEMPLATE_ID===i?this.renderFileMatch(e,n,r):t.MATCH_TEMPLATE_ID===i&&this.renderMatch(e,n,r)},t.prototype.renderFileMatchTemplate=function(e,t,n){var i=r.append(n,r.$(".filematch")),o=this.instantiationService.createInstance(l.FileLabel,i,void 0),s=new c.CountBadge(r.append(i,r.$(".badge")));return this._register(m.attachBadgeStyler(s,this.themeService)),{label:o,badge:s,actions:new a.ActionBar(i,{animated:!1})}},t.prototype.renderMatchTemplate=function(e,t,n){r.addClass(n,"linematch");var i=r.append(n,r.$("a.plain.match"));return{parent:i,before:r.append(i,r.$("span")),match:r.append(i,r.$("span.findInFileMatch")),replace:r.append(i,r.$("span.replaceMatch")),after:r.append(i,r.$("span")),actions:new a.ActionBar(n,{animated:!1})}},t.prototype.renderFileMatch=function(e,t,i){i.label.setFile(t.resource());var r=t.count();i.badge.setCount(r),i.badge.setTitleFormat(r>1?n.localize(0,null,r):n.localize(1,null,r));var o=e.getInput();i.actions.clear();var s=[];o.searchModel.isReplaceActive()&&r>0&&s.push(this.instantiationService.createInstance(f.ReplaceAllAction,e,t,this.viewlet)),s.push(new f.RemoveAction(e,t)),i.actions.push(s,{icon:!0,label:!1})},t.prototype.renderMatch=function(e,t,n){var i=t.preview(),o=e.getInput().searchModel,s=o.isReplaceActive()&&!!o.replaceString;n.before.textContent=i.before,n.match.textContent=i.inside,r.toggleClass(n.match,"replace",s),n.replace.textContent=s?t.replaceString:"",n.after.textContent=i.after,n.parent.title=(i.before+(s?t.replaceString:i.inside)+i.after).trim().substr(0,999),n.actions.clear(),o.isReplaceActive()?n.actions.push([this.instantiationService.createInstance(f.ReplaceAction,e,t,this.viewlet),new f.RemoveAction(e,t)],{icon:!0,label:!1}):n.actions.push([new f.RemoveAction(e,t)],{icon:!0,label:!1})},t.prototype.disposeTemplate=function(e,n,i){t.FILE_MATCH_TEMPLATE_ID===n&&i.label.dispose()},t}(o.Disposable);C.FILE_MATCH_TEMPLATE_ID="fileMatch",C.MATCH_TEMPLATE_ID="match",C=v([y(2,d.IWorkspaceContextService),y(3,g.IInstantiationService),y(4,b.IThemeService)],C),t.SearchRenderer=C;var w=function(){function e(e){this.contextService=e}return e.prototype.getAriaLabel=function(e,t){if(t instanceof u.FileMatch){var r=S.getPathLabel(t.resource(),this.contextService)||t.resource().fsPath;return n.localize(2,null,t.count(),t.name(),i.dirname(r))}if(t instanceof u.Match){var o=t,s=e.getInput().searchModel,a=s.isReplaceActive()&&!!s.replaceString,c=o.preview(),l=o.range();return a?n.localize(3,null,c.inside,o.replaceString,l.startColumn+1,o.text()):n.localize(4,null,c.inside,l.startColumn+1,o.text())}},e}();w=v([y(0,d.IWorkspaceContextService)],w),t.SearchAccessibilityProvider=w;var I=function(){function e(){}return e.prototype.isVisible=function(e,t){return!(t instanceof u.FileMatch)||t.matches().length>0},e}();t.SearchFilter=I}),define(u[374],d([1,0,672,12,9,4,91,21,49,220,110,362,72,38,17,41,8,57,251,235,432,197,55,13,74]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var x=function(e){function t(){var n=e.call(this,t.ID,"","action-replace-all",!1)||this;return n._searchWidget=null,n}return h(t,e),Object.defineProperty(t,"INSTANCE",{get:function(){return null===t.fgInstance&&(t.fgInstance=new t),t.fgInstance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"searchWidget",{set:function(e){this._searchWidget=e},enumerable:!0,configurable:!0}),t.prototype.run=function(){return this._searchWidget?this._searchWidget.triggerReplaceAll():o.TPromise.as(null)},t}(a.Action);x.fgInstance=null,x.ID="search.action.replaceAll";var A=function(e){function t(t,n,i,r,o,s){var a=e.call(this)||this;return a.contextViewService=i,a.themeService=r,a.keyBindingService=o,a.keyBindingService2=s,a._onSearchSubmit=a._register(new b.Emitter),a.onSearchSubmit=a._onSearchSubmit.event,a._onSearchCancel=a._register(new b.Emitter),a.onSearchCancel=a._onSearchCancel.event,a._onReplaceToggled=a._register(new b.Emitter),a.onReplaceToggled=a._onReplaceToggled.event,a._onReplaceStateChange=a._register(new b.Emitter),a.onReplaceStateChange=a._onReplaceStateChange.event,a._onReplaceValueChanged=a._register(new b.Emitter),a.onReplaceValueChanged=a._onReplaceValueChanged.event,a._onReplaceAll=a._register(new b.Emitter),a.onReplaceAll=a._onReplaceAll.event,a.searchHistory=new C.HistoryNavigator,a.replaceActive=w.ReplaceActiveKey.bindTo(a.keyBindingService),a.searchInputBoxFocussed=w.SearchInputBoxFocussedKey.bindTo(a.keyBindingService),a.replaceInputBoxFocussed=w.ReplaceInputBoxFocussedKey.bindTo(a.keyBindingService),a.render(t,n),a}return h(t,e),t.prototype.focus=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!1),!t&&this.searchInput.inputBox.hasFocus()||t&&this.replaceInput.hasFocus()||(t&&this.isReplaceShown()?(this.replaceInput.focus(),e&&this.replaceInput.select()):(this.searchInput.focus(),e&&this.searchInput.select()))},t.prototype.setWidth=function(e){this.searchInput.setWidth(e-2),this.replaceInput.width=e-28},t.prototype.clear=function(){this.searchInput.clear(),this.replaceInput.value="",this.setReplaceAllActionState(!1)},t.prototype.isReplaceShown=function(){return!r.hasClass(this.replaceContainer,"disabled")},t.prototype.getReplaceValue=function(){return this.replaceInput.value},t.prototype.toggleReplace=function(e){void 0!==e&&e===this.isReplaceShown()||this.onToggleReplaceButton()},t.prototype.showNextSearchTerm=function(){var e=this.searchHistory.next();e&&this.searchInput.setValue(e)},t.prototype.showPreviousSearchTerm=function(){var e;0===this.searchInput.getValue().length?e=this.searchHistory.current():(this.searchHistory.addIfNotPresent(this.searchInput.getValue()),e=this.searchHistory.previous()),e&&this.searchInput.setValue(e)},t.prototype.searchInputHasFocus=function(){return this.searchInputBoxFocussed.get()},t.prototype.replaceInputHasFocus=function(){return this.replaceInput.hasFocus()},t.prototype.render=function(e,t){this.domNode=e.div({class:"search-widget"}).style({position:"relative"}).getHTMLElement(),this.renderToggleReplaceButton(this.domNode),this.renderSearchInput(this.domNode,t),this.renderReplaceInput(this.domNode)},t.prototype.renderToggleReplaceButton=function(e){var t=this;this.toggleReplaceButton=this._register(new d.Button(e)),I.attachButtonStyler(this.toggleReplaceButton,this.themeService,{buttonBackground:k.SIDE_BAR_BACKGROUND,buttonHoverBackground:k.SIDE_BAR_BACKGROUND}),this.toggleReplaceButton.icon="toggle-replace-button collapse",this.toggleReplaceButton.addListener("click",function(){return t.onToggleReplaceButton()}),this.toggleReplaceButton.getElement().title=n.localize(2,null)},t.prototype.renderSearchInput=function(e,t){var i=this,o={label:n.localize(3,null),validation:function(e){return i.validatSearchInput(e)},placeholder:n.localize(4,null),appendCaseSensitiveLabel:_.appendKeyBindingLabel("",this.keyBindingService2.lookupKeybinding(w.ToggleCaseSensitiveActionId),this.keyBindingService2),appendWholeWordsLabel:_.appendKeyBindingLabel("",this.keyBindingService2.lookupKeybinding(w.ToggleWholeWordActionId),this.keyBindingService2),appendRegexLabel:_.appendKeyBindingLabel("",this.keyBindingService2.lookupKeybinding(w.ToggleRegexActionId),this.keyBindingService2)},s=r.append(e,r.$(".search-container.input-box"));this.searchInput=this._register(new l.FindInput(s,this.contextViewService,o)),this._register(I.attachFindInputBoxStyler(this.searchInput,this.themeService)),this.searchInput.onKeyUp(function(e){return i.onSearchInputKeyUp(e)}),this.searchInput.setValue(t.value||""),this.searchInput.setRegex(!!t.isRegex),this.searchInput.setCaseSensitive(!!t.isCaseSensitive),this.searchInput.setWholeWords(!!t.isWholeWords),this._register(this.onSearchSubmit(function(){i.searchHistory.add(i.searchInput.getValue())})),this.searchInputFocusTracker=this._register(r.trackFocus(this.searchInput.inputBox.inputElement)),this._register(this.searchInputFocusTracker.addFocusListener(function(){i.searchInputBoxFocussed.set(!0)})),this._register(this.searchInputFocusTracker.addBlurListener(function(){i.searchInputBoxFocussed.set(!1)}))},t.prototype.renderReplaceInput=function(e){var i=this;this.replaceContainer=r.append(e,r.$(".replace-container.disabled"));var o=r.append(this.replaceContainer,r.$(".input-box"));this.replaceInput=this._register(new u.InputBox(o,this.contextViewService,{ariaLabel:n.localize(5,null),placeholder:n.localize(6,null)})),this._register(I.attachInputBoxStyler(this.replaceInput,this.themeService)),this.onkeyup(this.replaceInput.inputElement,function(e){return i.onReplaceInputKeyUp(e)}),this.replaceInput.onDidChange(function(){return i._onReplaceValueChanged.fire()}),this.searchInput.inputBox.onDidChange(function(){return i.onSearchInputChanged()}),this.replaceAllAction=x.INSTANCE,this.replaceAllAction.searchWidget=this,this.replaceAllAction.label=t.REPLACE_ALL_DISABLED_LABEL,this.replaceActionBar=this._register(new c.ActionBar(this.replaceContainer)),this.replaceActionBar.push([this.replaceAllAction],{icon:!0,label:!1}),this.replaceInputFocusTracker=this._register(r.trackFocus(this.replaceInput.inputElement)),this._register(this.replaceInputFocusTracker.addFocusListener(function(){i.replaceInputBoxFocussed.set(!0)})),this._register(this.replaceInputFocusTracker.addBlurListener(function(){i.replaceInputBoxFocussed.set(!1)}))},t.prototype.triggerReplaceAll=function(){return this._onReplaceAll.fire(),o.TPromise.as(null)},t.prototype.onToggleReplaceButton=function(){r.toggleClass(this.replaceContainer,"disabled"),r.toggleClass(this.toggleReplaceButton.getElement(),"collapse"),r.toggleClass(this.toggleReplaceButton.getElement(),"expand"),this.updateReplaceActiveState(),this._onReplaceToggled.fire()},t.prototype.setReplaceAllActionState=function(e){this.replaceAllAction.enabled!==e&&(this.replaceAllAction.enabled=e,this.replaceAllAction.label=e?t.REPLACE_ALL_ENABLED_LABEL(this.keyBindingService2):t.REPLACE_ALL_DISABLED_LABEL,this.updateReplaceActiveState())},t.prototype.isReplaceActive=function(){return this.replaceActive.get()},t.prototype.updateReplaceActiveState=function(){var e=this.isReplaceActive(),t=this.isReplaceShown()&&this.replaceAllAction.enabled;e!==t&&(this.replaceActive.set(t),this._onReplaceStateChange.fire(t))},t.prototype.validatSearchInput=function(e){if(0===e.length)return null;if(!this.searchInput.getRegex())return null;var t;try{t=new RegExp(e)}catch(e){return{content:e.message}}return i.regExpLeadsToEndlessLoop(t)?{content:n.localize(7,null)}:void 0},t.prototype.onSearchInputChanged=function(){this.setReplaceAllActionState(!1)},t.prototype.onSearchInputKeyUp=function(e){switch(e.keyCode){case 3:return void this.submitSearch();case 9:return void this._onSearchCancel.fire();default:return}},t.prototype.onReplaceInputKeyUp=function(e){switch(e.keyCode){case 3:return void this.submitSearch();default:return}},t.prototype.submitSearch=function(e){void 0===e&&(e=!0),this.searchInput.getValue()&&this._onSearchSubmit.fire(e)},t.prototype.dispose=function(){this.setReplaceAllActionState(!1),this.replaceAllAction.searchWidget=null,this.replaceActionBar=null,e.prototype.dispose.call(this)},t}(s.Widget);A.REPLACE_ALL_DISABLED_LABEL=n.localize(0,null),A.REPLACE_ALL_ENABLED_LABEL=function(e){var t=e.lookupKeybinding(x.ID);return _.appendKeyBindingLabel(n.localize(1,null),t,e)},A=v([y(2,m.IContextViewService),y(3,T.IThemeService),y(4,g.IContextKeyService),y(5,f.IKeybindingService)],A),t.SearchWidget=A,t.registerContributions=function(){p.KeybindingsRegistry.registerCommandAndKeybindingRule({id:x.ID,weight:p.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:g.ContextKeyExpr.and(w.SearchViewletVisibleKey,w.ReplaceActiveKey,E.CONTEXT_FIND_WIDGET_NOT_VISIBLE),primary:2563,handler:function(e){_.isSearchViewletFocussed(e.get(S.IViewletService))&&x.INSTANCE.run()}})}}),define(u[1312],d([1,0,15,116,103,64,668,93,35,49,88,50,84,72,6,27,54,57,251,197,1092,374,17,257,211,32,90,125,169,952]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A,L,P){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.registerSingleton(k.ISearchWorkbenchService,k.SearchWorkbenchService),C.registerContributions(),w.registerContributions(),f.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.search.toggleQueryDetails",weight:f.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:E.SearchViewletVisibleKey,primary:3112,handler:function(e){e.get(S.IViewletService).openViewlet(E.VIEWLET_ID,!0).then(function(e){return e.toggleQueryDetails()})}}),f.KeybindingsRegistry.registerCommandAndKeybindingRule({id:E.FocusSearchFromResults,weight:f.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:I.ContextKeyExpr.and(E.SearchViewletVisibleKey,E.FirstMatchFocusKey),primary:16,handler:function(e,t){e.get(S.IViewletService).getActiveViewlet().focusPreviousInputBox()}}),f.KeybindingsRegistry.registerCommandAndKeybindingRule({id:E.OpenMatchToSide,weight:f.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:I.ContextKeyExpr.and(E.SearchViewletVisibleKey,E.FileMatchOrMatchFocusKey),primary:2051,mac:{primary:259},handler:function(e,t){var n=e.get(S.IViewletService).getActiveViewlet(),i=n.getControl();n.open(i.getFocus(),!1,!0,!0)}}),f.KeybindingsRegistry.registerCommandAndKeybindingRule({id:E.CancelActionId,weight:f.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:I.ContextKeyExpr.and(E.SearchViewletVisibleKey,A.ListFocusContext),primary:9,handler:function(e,t){e.get(S.IViewletService).getActiveViewlet().cancelSearch()}}),f.KeybindingsRegistry.registerCommandAndKeybindingRule({id:E.RemoveActionId,weight:f.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:I.ContextKeyExpr.and(E.SearchViewletVisibleKey,E.FileMatchOrMatchFocusKey),primary:20,mac:{primary:2049},handler:function(e,t){var n=e.get(S.IViewletService).getActiveViewlet(),i=n.getControl();e.get(g.IInstantiationService).createInstance(_.RemoveAction,i,i.getFocus(),n).run()}}),f.KeybindingsRegistry.registerCommandAndKeybindingRule({id:E.ReplaceActionId,weight:f.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:I.ContextKeyExpr.and(E.SearchViewletVisibleKey,E.ReplaceActiveKey,E.MatchFocusKey),primary:3094,handler:function(e,t){var n=e.get(S.IViewletService).getActiveViewlet(),i=n.getControl();e.get(g.IInstantiationService).createInstance(_.ReplaceAction,i,i.getFocus(),n).run()}}),f.KeybindingsRegistry.registerCommandAndKeybindingRule({id:E.ReplaceAllInFileActionId,weight:f.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:I.ContextKeyExpr.and(E.SearchViewletVisibleKey,E.ReplaceActiveKey,E.FileFocusKey),primary:3075,handler:function(e,t){var n=e.get(S.IViewletService).getActiveViewlet(),i=n.getControl();e.get(g.IInstantiationService).createInstance(_.ReplaceAllAction,i,i.getFocus(),n).run()}}),f.KeybindingsRegistry.registerCommandAndKeybindingRule({id:E.CloseReplaceWidgetActionId,weight:f.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:I.ContextKeyExpr.and(E.SearchViewletVisibleKey,E.ReplaceInputBoxFocussedKey),primary:9,handler:function(e,t){e.get(g.IInstantiationService).createInstance(_.CloseReplaceAction,E.CloseReplaceWidgetActionId,"").run()}}),f.KeybindingsRegistry.registerCommandAndKeybindingRule({id:_.ShowNextSearchTermAction.ID,weight:f.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:I.ContextKeyExpr.and(E.SearchViewletVisibleKey,E.SearchInputBoxFocussedKey),primary:T.ShowNextFindTermKeybinding.primary,handler:function(e,t){e.get(g.IInstantiationService).createInstance(_.ShowNextSearchTermAction,_.ShowNextSearchTermAction.ID,"").run()}}),f.KeybindingsRegistry.registerCommandAndKeybindingRule({id:_.ShowPreviousSearchTermAction.ID,weight:f.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:I.ContextKeyExpr.and(E.SearchViewletVisibleKey,E.SearchInputBoxFocussedKey),primary:T.ShowPreviousFindTermKeybinding.primary,handler:function(e,t){e.get(g.IInstantiationService).createInstance(_.ShowPreviousSearchTermAction,_.ShowPreviousSearchTermAction.ID,"").run()}}),f.KeybindingsRegistry.registerCommandAndKeybindingRule({id:_.FocusNextInputAction.ID,weight:f.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:I.ContextKeyExpr.and(E.SearchViewletVisibleKey,E.InputBoxFocussedKey),primary:18,handler:function(e,t){e.get(g.IInstantiationService).createInstance(_.FocusNextInputAction,_.FocusNextInputAction.ID,"").run()}}),f.KeybindingsRegistry.registerCommandAndKeybindingRule({id:_.FocusPreviousInputAction.ID,weight:f.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:I.ContextKeyExpr.and(E.SearchViewletVisibleKey,E.InputBoxFocussedKey,E.SearchInputBoxFocussedKey.toNegated()),primary:16,handler:function(e,t){e.get(g.IInstantiationService).createInstance(_.FocusPreviousInputAction,_.FocusPreviousInputAction.ID,"").run()}}),x.CommandsRegistry.registerCommand(_.FindInFolderAction.ID,_.findInFolderCommand);var D=function(e){function t(t,n){var i=e.call(this)||this;return i._instantiationService=t,i._contextService=n,i}return h(t,e),t.prototype.hasSecondaryActions=function(e){var t=e.element,n=a.explorerItemToFileResource(t);return!!n&&n.isDirectory},t.prototype.getSecondaryActions=function(e){var t=[];if(this.hasSecondaryActions(e)){var n=a.explorerItemToFileResource(e.element),i=this._instantiationService.createInstance(_.FindInFolderAction,n.resource);i.order=55,t.push(i),t.push(new l.Separator("",56))}return t},t}(u.ActionBarContributor);D=v([y(0,g.IInstantiationService),y(1,m.IWorkspaceContextService)],D);var O=s.localize(0,null),R="#",M=function(e){function t(t,n,i){return e.call(this,t,n,R,i)||this}return h(t,e),t}(p.QuickOpenAction);M=v([y(2,b.IQuickOpenService)],M),n.Registry.as(r.Extensions.Viewlets).registerViewlet(new r.ViewletDescriptor("vs/workbench/parts/search/browser/searchViewlet","SearchViewlet",E.VIEWLET_ID,s.localize(1,null),"search",10));var N=n.Registry.as(d.Extensions.WorkbenchActions);N.registerWorkbenchAction(new c.SyncActionDescriptor(_.OpenSearchViewletAction,E.VIEWLET_ID,s.localize(2,null),{primary:3108},E.SearchViewletVisibleKey.toNegated()),"View: Show Search",s.localize(3,null)),N.registerWorkbenchAction(new c.SyncActionDescriptor(_.FocusActiveEditorAction,E.FocusActiveEditorActionId,"",{primary:3108},I.ContextKeyExpr.and(E.SearchViewletVisibleKey,E.SearchInputBoxFocussedKey)),""),N.registerWorkbenchAction(new c.SyncActionDescriptor(_.FindInFilesAction,E.FindInFilesActionId,s.localize(4,null),{primary:3108},E.SearchInputBoxFocussedKey.toNegated()),"Find in Files"),N.registerWorkbenchAction(new c.SyncActionDescriptor(_.FocusNextSearchResultAction,_.FocusNextSearchResultAction.ID,_.FocusNextSearchResultAction.LABEL,{primary:62}),""),N.registerWorkbenchAction(new c.SyncActionDescriptor(_.FocusPreviousSearchResultAction,_.FocusPreviousSearchResultAction.ID,_.FocusPreviousSearchResultAction.LABEL,{primary:1086}),""),N.registerWorkbenchAction(new c.SyncActionDescriptor(_.ReplaceInFilesAction,_.ReplaceInFilesAction.ID,_.ReplaceInFilesAction.LABEL,{primary:3110}),"Replace in Files"),N.registerWorkbenchAction(new c.SyncActionDescriptor(_.ToggleCaseSensitiveAction,E.ToggleCaseSensitiveActionId,"",T.ToggleCaseSensitiveKeybinding,I.ContextKeyExpr.and(E.SearchViewletVisibleKey,E.SearchInputBoxFocussedKey)),""),N.registerWorkbenchAction(new c.SyncActionDescriptor(_.ToggleWholeWordAction,E.ToggleWholeWordActionId,"",T.ToggleWholeWordKeybinding,I.ContextKeyExpr.and(E.SearchViewletVisibleKey,E.SearchInputBoxFocussedKey)),""),N.registerWorkbenchAction(new c.SyncActionDescriptor(_.ToggleRegexAction,E.ToggleRegexActionId,"",T.ToggleRegexKeybinding,I.ContextKeyExpr.and(E.SearchViewletVisibleKey,E.SearchInputBoxFocussedKey)),""),N.registerWorkbenchAction(new c.SyncActionDescriptor(M,"workbench.action.showAllSymbols",O,{primary:2098}),"Go to Symbol in Workspace..."),n.Registry.as(u.Extensions.Actionbar).registerActionBarContributor(u.Scope.VIEWER,D),n.Registry.as(p.Extensions.Quickopen).registerDefaultQuickOpenHandler(new p.QuickOpenHandlerDescriptor("vs/workbench/parts/search/browser/openAnythingHandler","OpenAnythingHandler","",P.defaultQuickOpenContextKey,s.localize(5,null))),n.Registry.as(p.Extensions.Quickopen).registerQuickOpenHandler(new p.QuickOpenHandlerDescriptor("vs/workbench/parts/search/browser/openAnythingHandler","OpenSymbolHandler",R,"inWorkspaceSymbolsPicker",[{prefix:R,needsEditor:!1,description:s.localize(6,null)}])),n.Registry.as(L.Extensions.OutputChannels).registerChannel("search",s.localize(7,null)),n.Registry.as(o.Extensions.Configuration).registerConfiguration({id:"search",order:13,title:s.localize(8,null),type:"object",properties:{"search.exclude":{type:"object",description:s.localize(9,null),default:{"**/node_modules":!0,"**/bower_components":!0},additionalProperties:{anyOf:[{type:"boolean",description:s.localize(10,null)},{type:"object",properties:{when:{type:"string",pattern:"\\w*\\$\\(basename\\)\\w*",default:"$(basename).ext",description:s.localize(11,null)}}}]},scope:o.ConfigurationScope.FOLDER},"search.useRipgrep":{type:"boolean",description:s.localize(12,null),default:!0},"search.useIgnoreFilesByDefault":{type:"boolean",description:s.localize(13,null),default:!1},"search.quickOpen.includeSymbols":{type:"boolean",description:s.localize(14,null),default:!1}}})}),define(u[1313],d([1,0,701,21,34,60,35,20,15,50,54,137,92,87,57,18,65,104,29,22]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E){"use strict";function C(e,t,n){return{id:"themes.findmore",label:n,separator:{border:!0},alwaysShow:!0,run:function(){return e.openViewlet(p.VIEWLET_ID,!0).then(function(e){e.search(t),e.focus()})}}}Object.defineProperty(t,"__esModule",{value:!0});var w=function(e){function t(t,n,i,r,o,s,a,c){var l=e.call(this,t,n)||this;return l.quickOpenService=i,l.messageService=r,l.themeService=o,l.extensionGalleryService=s,l.viewletService=a,l.configurationService=c,l}return h(t,e),t.prototype.run=function(){var e=this;return this.themeService.getColorThemes().then(function(t){var i=e.themeService.getColorTheme(),o=C(e.viewletService,"category:themes",n.localize(1,null)),s=t.map(function(e){return{id:e.id,label:e.label,description:e.description}}).sort(function(e,t){return e.label.localeCompare(t.label)}),a=function(t,n){t===o&&(t=i);var r=null;n&&(r=void 0!==e.configurationService.lookup(d.COLOR_THEME_SETTING).workspace?b.ConfigurationTarget.WORKSPACE:b.ConfigurationTarget.USER),e.themeService.setColorTheme(t.id,r).done(null,function(t){e.themeService.setColorTheme(i.id,null)})},c=n.localize(2,null),l=r.firstIndex(s,function(e){return e.id===i.id}),u=new m.Delayer(100);return e.extensionGalleryService.isEnabled()&&s.push(o),e.quickOpenService.pick(s,{placeHolder:c,autoFocus:{autoFocusIndex:l}}).then(function(e){return u.trigger(function(){return a(e||i,!0)},0)},null,function(e){return u.trigger(function(){return a(e,!1)})})})},t}(i.Action);w.ID="workbench.action.selectTheme",w.LABEL=n.localize(0,null),w=v([y(2,u.IQuickOpenService),y(3,a.IMessageService),y(4,d.IWorkbenchThemeService),y(5,f.IExtensionGalleryService),y(6,g.IViewletService),y(7,S.IWorkspaceConfigurationService)],w),t.SelectColorThemeAction=w;var I=function(e){function t(t,n,i,r,o,s,a,c){var l=e.call(this,t,n)||this;return l.quickOpenService=i,l.messageService=r,l.themeService=o,l.extensionGalleryService=s,l.viewletService=a,l.configurationService=c,l}return h(t,e),t.prototype.run=function(){var e=this;return this.themeService.getFileIconThemes().then(function(t){var i=e.themeService.getFileIconTheme(),o=C(e.viewletService,"tag:icon-theme",n.localize(4,null)),s=t.map(function(e){return{id:e.id,label:e.label,description:e.description}}).sort(function(e,t){return e.label.localeCompare(t.label)});s.splice(0,0,{id:"",label:n.localize(5,null),description:n.localize(6,null)});var c=function(t,r){t===o&&(t=i);var s=null;r&&(s=void 0!==e.configurationService.lookup(d.ICON_THEME_SETTING).workspace?b.ConfigurationTarget.WORKSPACE:b.ConfigurationTarget.USER),e.themeService.setFileIconTheme(t&&t.id,s).done(null,function(t){e.messageService.show(a.Severity.Info,n.localize(7,null,t.message)),e.themeService.setFileIconTheme(i.id,null)})},l=n.localize(8,null),u=r.firstIndex(s,function(e){return e.id===i.id}),h=new m.Delayer(100);return e.extensionGalleryService.isEnabled()&&s.push(o),e.quickOpenService.pick(s,{placeHolder:l,autoFocus:{autoFocusIndex:u}}).then(function(e){return h.trigger(function(){return c(e||i,!0)},0)},null,function(e){return h.trigger(function(){return c(e,!1)})})})},t}(i.Action);I.ID="workbench.action.selectIconTheme",I.LABEL=n.localize(3,null),I=v([y(2,u.IQuickOpenService),y(3,a.IMessageService),y(4,d.IWorkbenchThemeService),y(5,f.IExtensionGalleryService),y(6,g.IViewletService),y(7,S.IWorkspaceConfigurationService)],I);var T=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.themeService=i,o.editorService=r,o}return h(t,e),t.prototype.run=function(){var e=this.themeService.getColorTheme(),t={};c.Registry.as(_.Extensions.ColorContribution).getColors().map(function(n){var i=e.getColor(n.id,!1);i&&(t[n.id]=i.toRGBAHex(!0))});var n=JSON.stringify({type:e.type,colors:t,tokenColors:e.tokenColors},null,"\t");return this.editorService.openEditor({contents:n,language:"json"})},t}(i.Action);T.ID="workbench.action.generateColorTheme",T.LABEL=n.localize(9,null),T=v([y(2,d.IWorkbenchThemeService),y(3,E.IWorkbenchEditorService)],T);var k=n.localize(10,null),x=new s.SyncActionDescriptor(w,w.ID,w.LABEL,{primary:o.KeyChord(2089,2098)});c.Registry.as(l.Extensions.WorkbenchActions).registerWorkbenchAction(x,"Preferences: Color Theme",k);var A=new s.SyncActionDescriptor(I,I.ID,I.LABEL);c.Registry.as(l.Extensions.WorkbenchActions).registerWorkbenchAction(A,"Preferences: File Icon Theme",k);var L=n.localize(11,null),P=new s.SyncActionDescriptor(T,T.ID,T.LABEL);c.Registry.as(l.Extensions.WorkbenchActions).registerWorkbenchAction(P,"Developer: Generate Color Theme From Current Settings",L)}),define(u[148],d([1,0,706,4,55,7,9,40,161,5,49,15,88,103,200,269,59,41,174,166,19,13,6,31,27,17,86,74,29]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,b,S,_,E,C,w,I,T,k,x,A,L,P,D){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var O=function(e){function t(t,n,i){var r=e.call(this,{ariaHeaderLabel:t.ariaHeaderLabel,sizing:t.sizing,bodySize:t.initialBodySize?t.initialBodySize:88,initialState:t.collapsed?E.CollapsibleState.COLLAPSED:E.CollapsibleState.EXPANDED})||this;return r.keybindingService=n,r.contextMenuService=i,r.id=t.id,r.name=t.name,r.actionRunner=t.actionRunner,r.toDispose=[],r}return h(t,e),t.prototype.changeState=function(t){this.updateTreeVisibility(this.tree,t===E.CollapsibleState.EXPANDED),e.prototype.changeState.call(this,t)},t.prototype.create=function(){return i.TPromise.as(null)},t.prototype.renderHeader=function(e){var t=this;this.toolBar=new b.ToolBar(a.$("div.actions").appendTo(e).getHTMLElement(),this.contextMenuService,{orientation:u.ActionsOrientation.HORIZONTAL,actionItemProvider:function(e){return t.getActionItem(e)},ariaLabel:n.localize(0,null,this.name),getKeyBinding:function(e){return t.keybindingService.lookupKeybinding(e.id)}}),this.toolBar.actionRunner=this.actionRunner,this.updateActions(),this.dragHandler=new g.DelayedDragHandler(e,function(){t.isExpanded()||t.expand()})},t.prototype.updateActions=function(){this.toolBar.setActions(p.prepareActions(this.getActions()),p.prepareActions(this.getSecondaryActions()))()},t.prototype.renderViewTree=function(e){var t=document.createElement("div");return e.appendChild(t),t},t.prototype.getViewer=function(){return this.tree},t.prototype.isVisible=function(){return this._isVisible},t.prototype.setVisible=function(e){return this._isVisible!==e&&(this._isVisible=e,this.updateTreeVisibility(this.tree,e&&this.state===E.CollapsibleState.EXPANDED)),i.TPromise.as(null)},t.prototype.focusBody=function(){this.focusTree()},t.prototype.reveal=function(e,t){return this.tree?this.tree.reveal(e,t):i.TPromise.as(null)},t.prototype.layoutBody=function(e){this.tree&&(this.treeContainer.style.height=e+"px",this.tree.layout(e))},t.prototype.getActions=function(){return[]},t.prototype.getSecondaryActions=function(){return[]},t.prototype.getActionItem=function(e){return null},t.prototype.shutdown=function(){},t.prototype.getOptimalWidth=function(){return 0},t.prototype.dispose=function(){this.isDisposed=!0,this.treeContainer=null,this.tree&&this.tree.dispose(),this.dragHandler&&this.dragHandler.dispose(),this.toDispose=l.dispose(this.toDispose),this.toolBar&&this.toolBar.dispose(),e.prototype.dispose.call(this)},t.prototype.updateTreeVisibility=function(e,t){e&&(t?a.$(e.getHTMLElement()).show():a.$(e.getHTMLElement()).hide(),t?e.onVisible():e.onHidden())},t.prototype.focusTree=function(){if(this.tree){var e=this.tree.getSelection();e.length>0&&this.reveal(e[0],.5).done(null,o.onUnexpectedError),this.tree.DOMFocus()}},t}(E.AbstractCollapsibleView);t.CollapsibleView=O;var R=function(e){function t(t,n,i,r,o,s,a,l,u,d,h){var p=e.call(this,t,r,a)||this;return p.location=n,p.viewletStateStorageId=i,p.storageService=o,p.instantiationService=s,p.contextService=l,p.contextKeyService=u,p.contextMenuService=d,p.viewsContextKeys=new Set,p.areExtensionsReady=!1,p.views=[],p.viewletSettings=p.getMemento(o,c.Scope.WORKSPACE),p.viewsStates=p.loadViewsStates(),p._register(C.ViewsRegistry.onViewsRegistered(function(){return p.onViewDescriptorsChanged()})),p._register(C.ViewsRegistry.onViewsDeregistered(function(){return p.onViewDescriptorsChanged()})),p._register(u.onDidChangeContext(function(e){return p.onContextChanged(e)})),h.onReady().then(function(){p.areExtensionsReady=!0,p.onViewsUpdated()}),p}return h(t,e),t.prototype.create=function(t){var n=this;return e.prototype.create.call(this,t),this.viewletContainer=s.append(t.getHTMLElement(),s.$("")),this.splitView=this._register(new E.SplitView(this.viewletContainer)),this._register(this.splitView.onFocus(function(e){return n.lastFocusedView=e})),this._register(s.addDisposableListener(this.viewletContainer,"contextmenu",function(e){return n.onContextMenu(new L.StandardMouseEvent(e))})),this.onViewDescriptorsChanged().then(function(){n.lastFocusedView=n.views[0],n.focus()})},t.prototype.getTitle=function(){var e=d.Registry.as(f.Extensions.Viewlets).getViewlet(this.getId()).name;return this.hasSingleView()&&this.views[0]&&(e+=": "+this.views[0].name),e},t.prototype.getActions=function(){return this.hasSingleView()&&this.views[0]?this.views[0].getActions():[]},t.prototype.getSecondaryActions=function(){var e=[];return this.hasSingleView()&&this.views[0]&&(e=this.views[0].getSecondaryActions()),e.length&&e.push(new u.Separator),e.push.apply(e,this.getToggleVisibilityActions(this.getViewDescriptorsFromRegistry())),e},t.prototype.setVisible=function(t){var n=this;return e.prototype.setVisible.call(this,t).then(function(){return i.TPromise.join(n.views.filter(function(e){return e.isVisible()!==t}).map(function(e){return e.setVisible(t)}))}).then(function(){})},t.prototype.focus=function(){e.prototype.focus.call(this),this.lastFocusedView&&this.lastFocusedView.focus()},t.prototype.layout=function(e){this.dimension=e,this.layoutViews()},t.prototype.getOptimalWidth=function(){return Math.max.apply(Math,this.views.map(function(e){return e.getOptimalWidth()||0}))+16},t.prototype.shutdown=function(){this.saveViewsStates(),this.views.forEach(function(e){return e.shutdown()}),e.prototype.shutdown.call(this)},t.prototype.layoutViews=function(){if(this.splitView){this.splitView.layout(this.dimension.height);for(var e=0,t=this.views;e<t.length;e++){var n=t[e],i=this.createViewState(n);this.viewsStates.set(n.id,i)}}},t.prototype.onContextMenu=function(e){var t=this,n={x:e.posx,y:e.posy};this.contextMenuService.showContextMenu({getAnchor:function(){return n},getActions:function(){return i.TPromise.as(t.getSecondaryActions())}})},t.prototype.getToggleVisibilityActions=function(e){return[]},t.prototype.toggleViewVisibility=function(e){var t=this.getView(e.id),n=this.viewsStates.get(e.id);t?(n=n||this.createViewState(t)).isHidden=!0:(n=n||{collapsed:!0,size:void 0,isHidden:!1}).isHidden=!1,this.viewsStates.set(e.id,n),this.updateViews()},t.prototype.onViewDescriptorsChanged=function(){this.viewsContextKeys.clear();for(var e=0,t=this.getViewDescriptorsFromRegistry();e<t.length;e++){var n=t[e];if(n.when)for(var i=0,r=n.when.keys();i<r.length;i++){var o=r[i];this.viewsContextKeys.add(o)}}return this.updateViews()},t.prototype.onContextChanged=function(e){if(e){for(var t=!1,n=0,i=e;n<i.length;n++){var r=i[n];if(this.viewsContextKeys.has(r)){t=!0;break}}t&&this.updateViews()}},t.prototype.updateViews=function(){var e=this;if(this.splitView){var t=this.getViewDescriptorsFromRegistry().reduce(function(t,n){var i=e.isCurrentlyVisible(n),r=e.canBeVisible(n);return r&&t[0].push(n),!i&&r&&t[1].push(n),i&&!r&&t[2].push(n),t},[[],[],[]]),n=t[0],r=t[1],o=t[2],s=[];if(r.length||o.length){for(var a=0,c=this.views;a<c.length;a++){h=c[a];(g=this.viewsStates.get(h.id))&&h.size===g.size&&!h.isExpanded()===g.collapsed||(g=m({},this.createViewState(h),{isHidden:g&&g.isHidden}),this.viewsStates.set(h.id,g),this.splitView.updateWeight(h,g.size))}if(o.length)for(var l=0,u=o;l<u.length;l++){var d=u[l],h=this.getView(d.id);this.views.splice(this.views.indexOf(h),1),this.splitView.removeView(h),this.lastFocusedView===h&&(this.lastFocusedView=null)}for(var p=0,f=r;p<f.length;p++){var d=f[p],g=this.viewsStates.get(d.id),v=n.indexOf(d),h=this.createView(d,{id:d.id,name:d.name,actionRunner:this.getActionRunner(),collapsed:g?g.collapsed:void 0,viewletSettings:this.viewletSettings});s.push(h),this.views.splice(v,0,h),this.attachHeaderViewStyler(h,this.themeService),this.splitView.addView(h,g&&g.size?Math.max(g.size,1):d.size,v)}return i.TPromise.join(s.map(function(e){return e.create()})).then(function(){return e.onViewsUpdated()})}}return i.TPromise.as(null)},t.prototype.attachHeaderViewStyler=function(e,t,n){return r.attachStyler(t,{headerForeground:P.SIDE_BAR_SECTION_HEADER_FOREGROUND,headerBackground:P.SIDE_BAR_SECTION_HEADER_BACKGROUND,headerHighContrastBorder:n&&n.noContrastBorder?null:D.contrastBorder},e)},t.prototype.isCurrentlyVisible=function(e){return!!this.getView(e.id)},t.prototype.canBeVisible=function(e){var t=this.viewsStates.get(e.id);return(!t||!t.isHidden)&&this.contextKeyService.contextMatchesRules(e.when)},t.prototype.onViewsUpdated=function(){if(!this.splitView)return i.TPromise.as(null);if(this.hasSingleView())this.views[0]&&(this.views[0].hideHeader(),this.views[0].isExpanded()||this.views[0].expand());else for(var e=0,t=this.views;e<t.length;e++)t[e].showHeader();return this.updateTitleArea(),this.dimension&&this.layoutViews(),this.setVisible(this.isVisible())},t.prototype.hasSingleView=function(){return!(this.views.length>1)&&(!(C.ViewLocation.getContributedViewLocation(this.location.id)&&!this.areExtensionsReady)||1===this.viewsStates.size)},t.prototype.getViewDescriptorsFromRegistry=function(){return C.ViewsRegistry.getViews(this.location).sort(function(e,t){return void 0===t.order||null===t.order?-1:void 0===e.order||null===e.order?1:e.order-t.order})},t.prototype.saveViewsStates=function(){var e=this,t={};this.viewsStates.forEach(function(n,i){var r=e.getView(i);r&&(n=r?e.createViewState(r):n,t[i]={size:n.size,collapsed:n.collapsed,isHidden:n.isHidden})}),this.storageService.store(this.viewletStateStorageId,JSON.stringify(t),this.contextService.hasWorkspace()?k.StorageScope.WORKSPACE:k.StorageScope.GLOBAL)},t.prototype.loadViewsStates=function(){var e=JSON.parse(this.storageService.get(this.viewletStateStorageId,this.contextService.hasWorkspace()?k.StorageScope.WORKSPACE:k.StorageScope.GLOBAL,"{}"));return Object.keys(e).reduce(function(t,n){var i=e[n];return t.set(n,i),t},new Map)},t.prototype.createView=function(e,t){return this.instantiationService.createInstance(e.ctor,t)},t.prototype.getView=function(e){return this.views.filter(function(t){return t.id===e})[0]},t.prototype.createViewState=function(e){var t=!e.isExpanded(),n=t&&e instanceof O?e.previousSize:e.size;return{collapsed:t,size:n&&n>0?n:void 0,isHidden:!1}},t}(f.Viewlet);R=v([y(3,w.ITelemetryService),y(4,k.IStorageService),y(5,T.IInstantiationService),y(6,I.IThemeService),y(7,x.IWorkspaceContextService),y(8,A.IContextKeyService),y(9,_.IContextMenuService),y(10,S.IExtensionService)],R),t.ComposedViewsViewlet=R}),define(u[1315],d([1,0,9,148,67,134,333,6,59,109,27,19,31,13,166,17,41,984]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var S=function(e){function t(t,n,i,o,s,a,c,l,u,d){var h=e.call(this,r.VIEWLET_ID,g.ViewLocation.Debug,r.VIEWLET_ID+".state",t,a,o,c,s,l,u,d)||this;return h.progressService=n,h.debugService=i,h.progressRunner=null,h._register(h.debugService.onDidChangeState(function(e){return h.onDebugServiceStateChange(e)})),h}return h(t,e),t.prototype.create=function(t){var i=this;return e.prototype.create.call(this,t).then(function(){return n.addClass(i.viewletContainer,"debug-viewlet")})},t.prototype.focus=function(){e.prototype.focus.call(this),this.contextService.hasWorkspace()||this.views[0].focusBody(),this.startDebugActionItem&&this.startDebugActionItem.focus()},t.prototype.getActions=function(){return this.actions||(this.actions=[],this.actions.push(this.instantiationService.createInstance(o.StartAction,o.StartAction.ID,o.StartAction.LABEL)),this.contextService.hasWorkspace()&&this.actions.push(this.instantiationService.createInstance(o.ConfigureAction,o.ConfigureAction.ID,o.ConfigureAction.LABEL)),this.actions.push(this._register(this.instantiationService.createInstance(o.ToggleReplAction,o.ToggleReplAction.ID,o.ToggleReplAction.LABEL)))),this.actions},t.prototype.getSecondaryActions=function(){return[]},t.prototype.getActionItem=function(e){return e.id===o.StartAction.ID&&this.contextService.hasWorkspace()?(this.startDebugActionItem=this.instantiationService.createInstance(s.StartDebugActionItem,null,e),this.startDebugActionItem):null},t.prototype.onDebugServiceStateChange=function(e){this.progressRunner&&this.progressRunner.done(),e===r.State.Initializing?this.progressRunner=this.progressService.show(!0):this.progressRunner=null},t}(i.ComposedViewsViewlet);S=v([y(0,d.ITelemetryService),y(1,l.IProgressService),y(2,r.IDebugService),y(3,a.IInstantiationService),y(4,u.IWorkspaceContextService),y(5,p.IStorageService),y(6,f.IThemeService),y(7,m.IContextKeyService),y(8,b.IContextMenuService),y(9,c.IExtensionService)],S),t.DebugViewlet=S}),define(u[1316],d([1,0,575,28,18,9,40,4,7,140,88,128,174,103,148,67,162,311,134,41,6,35,19,38,17,90,55,13]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,b,S,_,E,C,w,I,T,k,x,A,L,P){"use strict";function D(e){var t=document.createElement("div");return o.addClass(t,"debug-view-content"),e.appendChild(t),t}Object.defineProperty(t,"__esModule",{value:!0});var O=s.$,R=function(e){function t(t,i,o,s,a,l,u,d,h){var f=e.call(this,m({},t,{sizing:p.ViewSizing.Flexible,ariaHeaderLabel:n.localize(0,null)}),a,i)||this;return f.telemetryService=o,f.debugService=s,f.instantiationService=l,f.listService=d,f.themeService=h,f.settings=t.viewletSettings,f.variablesFocusedContext=b.CONTEXT_VARIABLES_FOCUSED.bindTo(u),f.onFocusStackFrameScheduler=new r.RunOnceScheduler(function(){f.tree.clearHighlight(),f.tree.refresh().then(function(){var e=f.debugService.getViewModel().focusedStackFrame;if(e)return e.getScopes().then(function(e){if(e.length>0&&!e[0].expensive)return f.tree.expand(e[0])})}).done(null,c.onUnexpectedError)},400),f}return h(t,e),t.prototype.renderHeader=function(t){var i=O("div.title").appendTo(t);O("span").text(n.localize(1,null)).appendTo(i),e.prototype.renderHeader.call(this,t)},t.prototype.renderBody=function(e){var t=this;o.addClass(e,"debug-variables"),this.treeContainer=D(e),this.tree=new d.Tree(this.treeContainer,{dataSource:new _.VariablesDataSource,renderer:this.instantiationService.createInstance(_.VariablesRenderer),accessibilityProvider:new _.VariablesAccessibilityProvider,controller:this.instantiationService.createInstance(_.VariablesController,new _.VariablesActionProvider(this.instantiationService),I.MenuId.DebugVariablesContext)},{ariaLabel:n.localize(2,null),twistiePixels:20,keyboardSupport:!1}),this.toDispose.push(L.attachListStyler(this.tree,this.themeService)),this.toDispose.push(this.listService.register(this.tree,[this.variablesFocusedContext]));var i=this.debugService.getViewModel();this.tree.setInput(i);var r=this.instantiationService.createInstance(f.CollapseAction,this.tree,!1,"explorer-action collapse-explorer");this.toolBar.setActions(u.prepareActions([r]))(),this.toDispose.push(i.onDidFocusStackFrame(function(e){t.tree.getContentHeight()?t.onFocusStackFrameScheduler.schedule():t.onFocusStackFrameScheduler.schedule(0)})),this.toDispose.push(this.debugService.onDidChangeState(function(e){r.enabled=e===b.State.Running||e===b.State.Stopped})),this.toDispose.push(this.debugService.getViewModel().onDidSelectExpression(function(e){e&&e instanceof S.Variable&&t.tree.refresh(e,!1).then(function(){t.tree.setHighlight(e),t.tree.addOneTimeListener(l.EventType.HIGHLIGHT,function(e){e.highlight||t.debugService.getViewModel().setSelectedExpression(null)})}).done(null,c.onUnexpectedError)}))},t.prototype.shutdown=function(){this.settings[t.MEMENTO]=this.state===p.CollapsibleState.COLLAPSED,e.prototype.shutdown.call(this)},t}(g.CollapsibleView);R.MEMENTO="variablesview.memento",R=v([y(1,C.IContextMenuService),y(2,T.ITelemetryService),y(3,b.IDebugService),y(4,k.IKeybindingService),y(5,w.IInstantiationService),y(6,x.IContextKeyService),y(7,A.IListService),y(8,P.IThemeService)],R),t.VariablesView=R;var M=function(e){function t(t,i,o,s,l,u,d,h){var f=e.call(this,m({},t,{ariaHeaderLabel:n.localize(3,null),sizing:p.ViewSizing.Flexible}),s,i)||this;return f.debugService=o,f.instantiationService=l,f.listService=d,f.themeService=h,f.settings=t.viewletSettings,f.toDispose.push(f.debugService.getModel().onDidChangeWatchExpressions(function(e){e instanceof S.Expression&&f.expand()})),f.watchExpressionsFocusedContext=b.CONTEXT_WATCH_EXPRESSIONS_FOCUSED.bindTo(u),f.onWatchExpressionsUpdatedScheduler=new r.RunOnceScheduler(function(){f.tree.refresh().done(function(){return f.toReveal instanceof S.Expression?f.tree.reveal(f.toReveal):a.TPromise.as(!0)},c.onUnexpectedError)},50),f}return h(t,e),t.prototype.renderHeader=function(t){var i=O("div.title").appendTo(t);O("span").text(n.localize(4,null)).appendTo(i),e.prototype.renderHeader.call(this,t)},t.prototype.renderBody=function(e){var t=this;o.addClass(e,"debug-watch"),this.treeContainer=D(e);var i=new _.WatchExpressionsActionProvider(this.instantiationService);this.tree=new d.Tree(this.treeContainer,{dataSource:new _.WatchExpressionsDataSource,renderer:this.instantiationService.createInstance(_.WatchExpressionsRenderer,i,this.actionRunner),accessibilityProvider:new _.WatchExpressionsAccessibilityProvider,controller:this.instantiationService.createInstance(_.WatchExpressionsController,i,I.MenuId.DebugWatchContext),dnd:this.instantiationService.createInstance(_.WatchExpressionsDragAndDrop)},{ariaLabel:n.localize(5,null),twistiePixels:20,keyboardSupport:!1}),this.toDispose.push(L.attachListStyler(this.tree,this.themeService)),this.toDispose.push(this.listService.register(this.tree,[this.watchExpressionsFocusedContext])),this.tree.setInput(this.debugService.getModel());var r=this.instantiationService.createInstance(E.AddWatchExpressionAction,E.AddWatchExpressionAction.ID,E.AddWatchExpressionAction.LABEL),s=this.instantiationService.createInstance(f.CollapseAction,this.tree,!0,"explorer-action collapse-explorer"),a=this.instantiationService.createInstance(E.RemoveAllWatchExpressionsAction,E.RemoveAllWatchExpressionsAction.ID,E.RemoveAllWatchExpressionsAction.LABEL);this.toolBar.setActions(u.prepareActions([r,s,a]))(),this.toDispose.push(this.debugService.getModel().onDidChangeWatchExpressions(function(e){t.onWatchExpressionsUpdatedScheduler.isScheduled()||t.onWatchExpressionsUpdatedScheduler.schedule(),t.toReveal=e})),this.toDispose.push(this.debugService.getViewModel().onDidSelectExpression(function(e){e&&e instanceof S.Expression&&t.tree.refresh(e,!1).then(function(){t.tree.setHighlight(e),t.tree.addOneTimeListener(l.EventType.HIGHLIGHT,function(e){e.highlight||t.debugService.getViewModel().setSelectedExpression(null)})}).done(null,c.onUnexpectedError)}))},t.prototype.shutdown=function(){this.settings[t.MEMENTO]=this.state===p.CollapsibleState.COLLAPSED,e.prototype.shutdown.call(this)},t}(g.CollapsibleView);M.MEMENTO="watchexpressionsview.memento",M=v([y(1,C.IContextMenuService),y(2,b.IDebugService),y(3,k.IKeybindingService),y(4,w.IInstantiationService),y(5,x.IContextKeyService),y(6,A.IListService),y(7,P.IThemeService)],M),t.WatchExpressionsView=M;var N=function(e){function t(t,i,o,s,a,l,u,d){var h=e.call(this,m({},t,{ariaHeaderLabel:n.localize(6,null),sizing:p.ViewSizing.Flexible}),a,i)||this;return h.telemetryService=o,h.debugService=s,h.instantiationService=l,h.listService=u,h.themeService=d,h.settings=t.viewletSettings,h.onCallStackChangeScheduler=new r.RunOnceScheduler(function(){var e=h.debugService.getModel(),t=h.debugService.getModel().getProcesses();if(!h.debugService.getViewModel().isMultiProcessView()&&t.length){var i=t[0].getAllThreads();e=1===i.length?i[0]:t[0]}e instanceof S.Thread&&e.stoppedDetails?(h.pauseMessageLabel.text(e.stoppedDetails.description||n.localize(7,null,e.stoppedDetails.reason)),e.stoppedDetails.text&&h.pauseMessageLabel.title(e.stoppedDetails.text),"exception"===e.stoppedDetails.reason?h.pauseMessageLabel.addClass("exception"):h.pauseMessageLabel.removeClass("exception"),h.pauseMessage.show()):h.pauseMessage.hide(),(h.tree.getInput()===e?h.tree.refresh():h.tree.setInput(e)).done(function(){return h.updateTreeSelection()},c.onUnexpectedError)},50),h}return h(t,e),t.prototype.renderHeader=function(t){var i=O("div.debug-call-stack-title").appendTo(t);O("span.title").text(n.localize(8,null)).appendTo(i),this.pauseMessage=O("span.pause-message").appendTo(i),this.pauseMessage.hide(),this.pauseMessageLabel=O("span.label").appendTo(this.pauseMessage),e.prototype.renderHeader.call(this,t)},t.prototype.renderBody=function(e){var t=this;o.addClass(e,"debug-call-stack"),this.treeContainer=D(e);var i=this.instantiationService.createInstance(_.CallStackActionProvider),r=this.instantiationService.createInstance(_.CallStackController,i,I.MenuId.DebugCallStackContext);this.tree=new d.Tree(this.treeContainer,{dataSource:this.instantiationService.createInstance(_.CallStackDataSource),renderer:this.instantiationService.createInstance(_.CallStackRenderer),accessibilityProvider:this.instantiationService.createInstance(_.CallstackAccessibilityProvider),controller:r},{ariaLabel:n.localize(9,null),twistiePixels:20,keyboardSupport:!1}),this.toDispose.push(L.attachListStyler(this.tree,this.themeService)),this.toDispose.push(this.listService.register(this.tree)),this.toDispose.push(this.tree.addListener("selection",function(e){if(e&&e.payload&&"keyboard"===e.payload.origin){var n=t.tree.getFocus();n instanceof S.ThreadAndProcessIds?r.showMoreStackFrames(t.tree,n):n instanceof S.StackFrame&&r.focusStackFrame(n,e,!1)}})),this.toDispose.push(this.debugService.getModel().onDidChangeCallStack(function(){t.onCallStackChangeScheduler.isScheduled()||t.onCallStackChangeScheduler.schedule()})),this.toDispose.push(this.debugService.getViewModel().onDidFocusStackFrame(function(){return t.updateTreeSelection().done(void 0,c.onUnexpectedError)})),this.debugService.state===b.State.Stopped&&this.onCallStackChangeScheduler.schedule()},t.prototype.updateTreeSelection=function(){var e=this;if(!this.tree.getInput())return a.TPromise.as(null);var t=this.debugService.getViewModel().focusedStackFrame,n=this.debugService.getViewModel().focusedProcess;if(!t)return n?(this.tree.setSelection([n]),this.tree.reveal(n)):(this.tree.clearSelection(),a.TPromise.as(null));var i=t.thread;return this.tree.expandAll([i.process,i]).then(function(){return e.tree.setSelection([t]),e.tree.reveal(t)})},t.prototype.shutdown=function(){this.settings[t.MEMENTO]=this.state===p.CollapsibleState.COLLAPSED,e.prototype.shutdown.call(this)},t}(g.CollapsibleView);N.MEMENTO="callstackview.memento",N=v([y(1,C.IContextMenuService),y(2,T.ITelemetryService),y(3,b.IDebugService),y(4,k.IKeybindingService),y(5,w.IInstantiationService),y(6,A.IListService),y(7,P.IThemeService)],N),t.CallStackView=N;var F=function(e){function t(i,r,o,s,a,c,l,u){var d=e.call(this,m({},i,{ariaHeaderLabel:n.localize(10,null),sizing:p.ViewSizing.Fixed,initialBodySize:t.getExpandedBodySize(o.getModel().getBreakpoints().length+o.getModel().getFunctionBreakpoints().length+o.getModel().getExceptionBreakpoints().length)}),s,r)||this;return d.debugService=o,d.instantiationService=a,d.listService=l,d.themeService=u,d.settings=i.viewletSettings,d.breakpointsFocusedContext=b.CONTEXT_BREAKPOINTS_FOCUSED.bindTo(c),d.toDispose.push(d.debugService.getModel().onDidChangeBreakpoints(function(){return d.onBreakpointsChange()})),d}return h(t,e),t.prototype.renderHeader=function(t){var i=O("div.title").appendTo(t);O("span").text(n.localize(11,null)).appendTo(i),e.prototype.renderHeader.call(this,t)},t.prototype.renderBody=function(e){var t=this;o.addClass(e,"debug-breakpoints"),this.treeContainer=D(e);var r=new _.BreakpointsActionProvider(this.instantiationService,this.debugService),s=this.instantiationService.createInstance(_.BreakpointsController,r,I.MenuId.DebugBreakpointsContext);this.tree=new d.Tree(this.treeContainer,{dataSource:new _.BreakpointsDataSource,renderer:this.instantiationService.createInstance(_.BreakpointsRenderer,r,this.actionRunner),accessibilityProvider:this.instantiationService.createInstance(_.BreakpointsAccessibilityProvider),controller:s,sorter:{compare:function(e,t,n){var r=t,o=n;return r instanceof S.ExceptionBreakpoint?-1:o instanceof S.ExceptionBreakpoint?1:r instanceof S.FunctionBreakpoint?-1:o instanceof S.FunctionBreakpoint?1:r.uri.toString()!==o.uri.toString()?i.basename(r.uri.fsPath).localeCompare(i.basename(o.uri.fsPath)):r.lineNumber===o.lineNumber?r.column-o.column:r.lineNumber-o.lineNumber}}},{ariaLabel:n.localize(12,null),twistiePixels:20,keyboardSupport:!1}),this.toDispose.push(L.attachListStyler(this.tree,this.themeService)),this.toDispose.push(this.listService.register(this.tree,[this.breakpointsFocusedContext])),this.toDispose.push(this.tree.addListener("selection",function(e){if(e&&e.payload&&"keyboard"===e.payload.origin){var n=t.tree.getFocus();n instanceof S.Breakpoint&&s.openBreakpointSource(n,e,!1)}}));var a=this.debugService.getModel();this.tree.setInput(a),this.toDispose.push(this.debugService.getViewModel().onDidSelectFunctionBreakpoint(function(e){e&&e instanceof S.FunctionBreakpoint&&t.tree.refresh(e,!1).then(function(){t.tree.setHighlight(e),t.tree.addOneTimeListener(l.EventType.HIGHLIGHT,function(e){e.highlight||t.debugService.getViewModel().setSelectedFunctionBreakpoint(null)})}).done(null,c.onUnexpectedError)}))},t.prototype.getActions=function(){return[this.instantiationService.createInstance(E.AddFunctionBreakpointAction,E.AddFunctionBreakpointAction.ID,E.AddFunctionBreakpointAction.LABEL),this.instantiationService.createInstance(E.ToggleBreakpointsActivatedAction,E.ToggleBreakpointsActivatedAction.ID,E.ToggleBreakpointsActivatedAction.ACTIVATE_LABEL),this.instantiationService.createInstance(E.RemoveAllBreakpointsAction,E.RemoveAllBreakpointsAction.ID,E.RemoveAllBreakpointsAction.LABEL)]},t.prototype.onBreakpointsChange=function(){var e=this.debugService.getModel();this.setBodySize(t.getExpandedBodySize(e.getBreakpoints().length+e.getExceptionBreakpoints().length+e.getFunctionBreakpoints().length)),this.tree&&this.tree.refresh()},t.getExpandedBodySize=function(e){return 22*Math.min(t.MAX_VISIBLE_FILES,e)},t.prototype.shutdown=function(){this.settings[t.MEMENTO]=this.state===p.CollapsibleState.COLLAPSED,e.prototype.shutdown.call(this)},t}(g.CollapsibleView);F.MAX_VISIBLE_FILES=9,F.MEMENTO="breakopintsview.memento",F=v([y(1,C.IContextMenuService),y(2,b.IDebugService),y(3,k.IKeybindingService),y(4,w.IInstantiationService),y(5,x.IContextKeyService),y(6,A.IListService),y(7,P.IThemeService)],F),t.BreakpointsView=F});var b=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,a)}c((i=i.apply(e,t||[])).next())})},S=this&&this.__generator||function(e,t){function n(e){return function(t){return i([e,t])}}function i(n){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,o&&(s=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){c.label=n[1];break}if(6===n[0]&&c.label<s[1]){c.label=s[1],s=n;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(n);break}s[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],o=0}finally{r=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var r,o,s,a,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};define(u[1317],d([1,0,613,4,5,26,34,8,7,36,352,174,20,87,141,38,41,17,32,9,1150,6,1294,92,451,90,59,13,55,148,290,22,45,42,19,109,201]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,_,E,C,w,I,T,k,x,A,L,P,D,O,R,M,N,F,W,B,V,z,H){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var K=function(e){function t(t,n,i,r,o,s,a,c,l,u,h,p,f,g,v,y,b){var S=e.call(this,m({},t,{ariaHeaderLabel:t.name,sizing:d.ViewSizing.Flexible,collapsed:!!t.collapsed,initialBodySize:62}),i,r)||this;return S.options=t,S.messageService=n,S.instantiationService=o,S.listService=s,S.themeService=a,S.contextKeyService=c,S.extensionService=l,S.commandService=u,S.extensionsWorkbenchService=h,S.editorService=p,S.editorInputService=f,S.tipsService=g,S.modeService=v,S.telemetryService=y,S.progressService=b,S.disposables=[],S}return h(t,e),t.prototype.renderHeader=function(e){var t=I.append(e,I.$("div.title"));I.append(t,I.$("span")).textContent=this.options.name,this.badge=new H.CountBadge(I.append(e,I.$(".count-badge-wrapper"))),this.disposables.push(R.attachBadgeStyler(this.badge,this.themeService))},t.prototype.renderBody=function(e){this.extensionsList=I.append(e,I.$(".extensions-list")),this.messageBox=I.append(e,I.$(".message"));var t=new x.Delegate,i=this.instantiationService.createInstance(x.Renderer);this.list=new T.PagedList(this.extensionsList,t,[i],{ariaLabel:n.localize(0,null),keyboardSupport:!1}),this.disposables.push(R.attachListStyler(this.list.widget,this.themeService)),this.disposables.push(this.listService.register(this.list.widget)),a.chain(this.list.onSelectionChange).map(function(e){return e.elements[0]}).filter(function(e){return!!e}).on(this.openExtension,this,this.disposables),a.chain(this.list.onPin).map(function(e){return e.elements[0]}).filter(function(e){return!!e}).on(this.pin,this,this.disposables)},t.prototype.setVisible=function(t){var n=this;return e.prototype.setVisible.call(this,t).then(function(){t||n.setModel(new u.PagedModel([]))})},t.prototype.layoutBody=function(e){this.extensionsList.style.height=e+"px",this.list.layout(e)},t.prototype.show=function(e){return b(this,void 0,i.TPromise,function(){var t;return S(this,function(n){switch(n.label){case 0:return[4,this.query(e)];case 1:return t=n.sent(),this.setModel(t),[2,t]}})})},t.prototype.select=function(){this.list.setSelection(this.list.getFocus())},t.prototype.showPrevious=function(){this.list.focusPrevious(),this.list.reveal(this.list.getFocus()[0])},t.prototype.showPreviousPage=function(){this.list.focusPreviousPage(),this.list.reveal(this.list.getFocus()[0])},t.prototype.showNext=function(){this.list.focusNext(),this.list.reveal(this.list.getFocus()[0])},t.prototype.showNextPage=function(){this.list.focusNextPage(),this.list.reveal(this.list.getFocus()[0])},t.prototype.count=function(){return this.list.length},t.prototype.query=function(e){return b(this,void 0,i.TPromise,function(){var n,r,s,a,c,l,d,h,p,v,m,y,b=this;return S(this,function(S){switch(S.label){case 0:switch(n=L.Query.parse(e),r={sortOrder:f.SortOrder.Default},n.sortBy){case"installs":r=o.assign(r,{sortBy:f.SortBy.InstallCount});break;case"rating":r=o.assign(r,{sortBy:f.SortBy.AverageRating});break;case"name":r=o.assign(r,{sortBy:f.SortBy.Title})}return e&&!t.isInstalledExtensionsQuery(e)?[3,2]:(e=e?e.replace(/@installed/g,"").replace(/@sort:(\w+)(-\w*)?/g,"").trim().toLowerCase():"",[4,this.extensionsWorkbenchService.queryLocal()]);case 1:switch(c=S.sent(),r.sortBy){case f.SortBy.InstallCount:c=c.sort(function(e,t){return t.installCount-e.installCount});break;case f.SortBy.AverageRating:c=c.sort(function(e,t){return t.rating-e.rating});break;default:c=c.sort(function(e,t){return e.displayName.localeCompare(t.displayName)})}return r.sortOrder===f.SortOrder.Descending&&(c=c.reverse()),c=c.filter(function(t){return t.type===f.LocalExtensionType.User&&t.name.toLowerCase().indexOf(e)>-1}),[2,new u.PagedModel(c)];case 2:return/@outdated/i.test(e)?(e=e.replace(/@outdated/g,"").trim().toLowerCase(),[4,this.extensionsWorkbenchService.queryLocal()]):[3,4];case 3:return s=S.sent(),c=s.sort(function(e,t){return e.displayName.localeCompare(t.displayName)}).filter(function(t){return t.outdated&&t.name.toLowerCase().indexOf(e)>-1}),[2,new u.PagedModel(c)];case 4:return/@disabled/i.test(e)?(e=e.replace(/@disabled/g,"").trim().toLowerCase(),[4,this.extensionsWorkbenchService.queryLocal()]):[3,7];case 5:return s=S.sent(),[4,this.extensionService.getExtensions()];case 6:return a=S.sent(),c=s.sort(function(e,t){return e.displayName.localeCompare(t.displayName)}).filter(function(t){return a.every(function(e){return!g.areSameExtensions(e,t)})&&t.name.toLowerCase().indexOf(e)>-1}),[2,new u.PagedModel(c)];case 7:return t.isWorkspaceRecommendedExtensionsQuery(n.value)?[2,this.getWorkspaceRecommendationsModel(n,r)]:t.isKeymapsRecommendedExtensionsQuery(n.value)?[2,this.getKeymapRecommendationsModel(n,r)]:/@recommended:all/i.test(n.value)?[2,this.getAllRecommendationsModel(n,r)]:t.isRecommendedExtensionsQuery(n.value)?[2,this.getRecommendationsModel(n,r)]:(l=[],d=n.value,(h=/\bext:([^\s]+)\b/g).test(n.value)&&(p=[],d=n.value.replace(h,function(e,t){p.push.apply(p,b.tipsService.getRecommendationsForExtension(t));var n=b.tipsService.getKeywordsForExtension(t),i=b.modeService.getModeIdByFilenameOrFirstLine("."+t),r=i&&b.modeService.getLanguageName(i),o=r?' tag:"'+r+'"':"";return'tag:"__ext_'+t+'"'+n.map(function(e){return" tag:"+e})+o}),p.length&&(v=o.assign({},r,{names:p}),l.push(this.extensionsWorkbenchService.queryGallery(v)))),d&&(r=o.assign(r,{text:d.substr(0,350)})),l.push(this.extensionsWorkbenchService.queryGallery(r)),[4,i.TPromise.join(l)]);case 8:return m=S.sent(),y=2===m.length?u.mergePagers(m[0],m[1]):m[0],[2,new u.PagedModel(y)]}})})},t.prototype.getAllRecommendationsModel=function(e,t){var n=this,r=e.value.replace(/@recommended:all/g,"").trim().toLowerCase();return this.extensionsWorkbenchService.queryLocal().then(function(e){return e.filter(function(e){return e.type===f.LocalExtensionType.User})}).then(function(e){return i.TPromise.join([i.TPromise.as(n.tipsService.getRecommendations()),n.tipsService.getWorkspaceRecommendations()]).then(function(a){var c=a[0],l=a[1],d=s.distinct(c.concat(l)).filter(function(t){return e.every(function(e){return e.publisher+"."+e.name!==t})}).filter(function(e){return e.toLowerCase().indexOf(r)>-1});return d.length?n.extensionsWorkbenchService.queryGallery(o.assign(t,{names:d,pageSize:d.length})).then(function(e){return new u.PagedModel(e||[])}):i.TPromise.as(new u.PagedModel([]))})})},t.prototype.getRecommendationsModel=function(e,t){var n=this,r=e.value.replace(/@recommended/g,"").trim().toLowerCase();return this.extensionsWorkbenchService.queryLocal().then(function(e){return e.filter(function(e){return e.type===f.LocalExtensionType.User})}).then(function(e){var s=n.tipsService.getRecommendations().filter(function(t){return e.every(function(e){return e.publisher+"."+e.name!==t})}).filter(function(e){return e.toLowerCase().indexOf(r)>-1});return n.telemetryService.publicLog("extensionRecommendations:open",{count:s.length}),s.length?n.extensionsWorkbenchService.queryGallery(o.assign(t,{names:s,pageSize:s.length})).then(function(e){return new u.PagedModel(e)}):i.TPromise.as(new u.PagedModel([]))})},t.prototype.getWorkspaceRecommendationsModel=function(e,t){var n=this,r=e.value.replace(/@recommended:workspace/g,"").trim().toLowerCase();return this.tipsService.getWorkspaceRecommendations().then(function(e){var s=e.filter(function(e){return e.toLowerCase().indexOf(r)>-1});return n.telemetryService.publicLog("extensionWorkspaceRecommendations:open",{count:s.length}),s.length?n.extensionsWorkbenchService.queryGallery(o.assign(t,{names:s,pageSize:s.length})).then(function(e){return new u.PagedModel(e)}):i.TPromise.as(new u.PagedModel([]))})},t.prototype.getKeymapRecommendationsModel=function(e,t){var n=e.value.replace(/@recommended:keymaps/g,"").trim().toLowerCase(),r=this.tipsService.getKeymapRecommendations().filter(function(e){return e.toLowerCase().indexOf(n)>-1});return this.telemetryService.publicLog("extensionKeymapRecommendations:open",{count:r.length}),r.length?this.extensionsWorkbenchService.queryGallery(o.assign(t,{names:r,pageSize:r.length})).then(function(e){return new u.PagedModel(e)}):i.TPromise.as(new u.PagedModel([]))},t.prototype.setModel=function(e){this.list.model=e,this.list.scrollTop=0;var t=this.count();I.toggleClass(this.extensionsList,"hidden",0===t),I.toggleClass(this.messageBox,"hidden",t>0),this.badge.setCount(t),0===t&&this.isVisible()?this.messageBox.textContent=n.localize(1,null):this.messageBox.textContent=""},t.prototype.openExtension=function(e){var t=this;this.extensionsWorkbenchService.open(e).done(null,function(e){return t.onError(e)})},t.prototype.pin=function(){var e=this.editorService.getActiveEditor(),t=this.editorService.getActiveEditorInput();this.editorInputService.pinEditor(e.position,t)},t.prototype.onError=function(e){if(!c.isPromiseCanceledError(e)){var t=e&&e.message||"";if(/ECONNREFUSED/.test(t)){var i=c.create(n.localize(2,null),{actions:[this.instantiationService.createInstance(N.OpenGlobalSettingsAction,N.OpenGlobalSettingsAction.ID,N.OpenGlobalSettingsAction.LABEL),p.CloseAction]});this.messageService.show(l.default.Error,i)}else this.messageService.show(l.default.Error,e)}},t.prototype.dispose=function(){this.disposables=r.dispose(this.disposables),e.prototype.dispose.call(this)},t.isInstalledExtensionsQuery=function(e){return/@installed/i.test(e)},t.isOutdatedExtensionsQuery=function(e){return/@outdated/i.test(e)},t.isDisabledExtensionsQuery=function(e){return/@disabled/i.test(e)},t.isRecommendedExtensionsQuery=function(e){return/@recommended/i.test(e)},t.isWorkspaceRecommendedExtensionsQuery=function(e){return/@recommended:workspace/i.test(e)},t.isKeymapsRecommendedExtensionsQuery=function(e){return/@recommended:keymaps/i.test(e)},t}(M.CollapsibleView);K=v([y(1,p.IMessageService),y(2,_.IKeybindingService),y(3,E.IContextMenuService),y(4,k.IInstantiationService),y(5,P.IListService),y(6,O.IThemeService),y(7,C.IContextKeyService),y(8,D.IExtensionService),y(9,w.ICommandService),y(10,A.IExtensionsWorkbenchService),y(11,F.IWorkbenchEditorService),y(12,W.IEditorGroupService),y(13,f.IExtensionTipsService),y(14,B.IModeService),y(15,V.ITelemetryService),y(16,z.IProgressService)],K),t.ExtensionsListView=K;var U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.isInsalledExtensionsQuery=function(e){return K.isInstalledExtensionsQuery(e)||K.isOutdatedExtensionsQuery(e)||K.isDisabledExtensionsQuery(e)},t.prototype.show=function(n){return b(this,void 0,i.TPromise,function(){var i;return S(this,function(r){return t.isInsalledExtensionsQuery(n)?[2,e.prototype.show.call(this,n)]:(i="@installed",i=n?i+" "+n:i,[2,e.prototype.show.call(this,i)])})})},t}(K);t.InstalledExtensionsView=U;var j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.isRecommendedExtensionsQuery=function(e){return K.isRecommendedExtensionsQuery(e)||K.isWorkspaceRecommendedExtensionsQuery(e)},t.prototype.show=function(n){return b(this,void 0,i.TPromise,function(){var i;return S(this,function(r){return t.isRecommendedExtensionsQuery(n)?[2,e.prototype.show.call(this,n)]:(i="@recommended:all",i=n?i+" "+n:i,[2,e.prototype.show.call(this,i)])})})},t}(K);t.RecommendedExtensionsView=j}),define(u[1318],d([1,0,624,4,40,16,18,7,82,28,145,88,261,128,93,43,171,411,30,190,45,9,103,148,153,90,22,47,27,23,38,6,109,41,20,17,317,137,11,39,55,174]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,b,S,_,E,C,w,I,T,k,x,A,L,P,D,O,R,M,N,F,W,B,V,z,H,K,U,j){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var G=function(e){function t(i,r,o,a,c,l,d,h,p,f,v,y,b,S,_,E){var C=e.call(this,m({},i,{ariaHeaderLabel:n.localize(0,null),sizing:j.ViewSizing.Flexible}),y,o)||this;return C.messageService=r,C.instantiationService=a,C.editorGroupService=c,C.contextService=l,C.progressService=d,C.listService=h,C.editorService=p,C.fileService=f,C.partService=v,C.configurationService=S,C.themeService=_,C.environmentService=E,C.id=t.ID,C.settings=i.viewletSettings,C.viewletState=i.viewletState,C.actionRunner=i.actionRunner,C.autoReveal=!0,C.explorerRefreshDelayer=new s.ThrottledDelayer(t.EXPLORER_FILE_CHANGES_REFRESH_DELAY),C.explorerImportDelayer=new s.ThrottledDelayer(t.EXPLORER_IMPORT_REFRESH_DELAY),C.resourceContext=a.createInstance(V.ResourceContextKey),C.folderContext=g.ExplorerFolderContext.bindTo(b),C.filesExplorerFocussedContext=g.FilesExplorerFocussedContext.bindTo(b),C.explorerFocussedContext=g.ExplorerFocussedContext.bindTo(b),C.fileEventsFilter=a.createInstance(V.ResourceGlobMatcher,function(e){return C.getFileEventsExcludes(e)},function(e){return u.parse(e)}),C}return h(t,e),t.prototype.getFileEventsExcludes=function(e){var t=e?{resource:e}:void 0,n=this.configurationService.getConfiguration(void 0,t);return n&&n.files&&n.files.exclude||Object.create(null)},t.prototype.renderHeader=function(t){var n=this,i=r.$("div.title").appendTo(t),o=r.$("span").appendTo(i),s=function(){var e=n.contextService.getWorkspace2().roots.map(function(e){return c.getPathLabel(e.fsPath,void 0,n.environmentService)}).join();o.text(n.name).title(e)};this.toDispose.push(this.contextService.onDidChangeWorkspaceRoots(function(){return s()})),s(),e.prototype.renderHeader.call(this,t)},Object.defineProperty(t.prototype,"name",{get:function(){var e=this.contextService.getWorkspace2();return 1===e.roots.length?e.name:n.localize(1,null)},set:function(e){},enumerable:!0,configurable:!0}),t.prototype.renderBody=function(t){var n=this;this.treeContainer=e.prototype.renderViewTree.call(this,t),I.addClass(this.treeContainer,"explorer-folders-view"),I.addClass(this.treeContainer,"show-file-icons"),this.tree=this.createViewer(r.$(this.treeContainer)),this.toolBar&&this.toolBar.setActions(d.prepareActions(this.getActions()),this.getSecondaryActions())();var i=function(e){I.toggleClass(n.treeContainer,"align-icons-and-twisties",e.hasFileIcons&&!e.hasFolderIcons)};this.toDispose.push(this.themeService.onDidFileIconThemeChange(i)),this.toDispose.push(this.contextService.onDidChangeWorkspaceRoots(function(){return n.refreshFromEvent()})),i(this.themeService.getFileIconTheme())},t.prototype.getActions=function(){var e=[];e.push(this.instantiationService.createInstance(S.NewFileAction,this.getViewer(),null)),e.push(this.instantiationService.createInstance(S.NewFolderAction,this.getViewer(),null)),e.push(this.instantiationService.createInstance(S.RefreshViewExplorerAction,this,"explorer-action refresh-explorer")),e.push(this.instantiationService.createInstance(T.CollapseAction,this.getViewer(),!0,"explorer-action collapse-explorer"));for(var t=0;t<e.length;t++)e[t].order=10*(t+1);return e},t.prototype.create=function(){var e=this,t=this.configurationService.getConfiguration();return this.onConfigurationUpdated(t),this.doRefresh().then(function(){e.toDispose.push(e.editorGroupService.onEditorsChanged(function(){return e.onEditorsChanged()})),e.toDispose.push(e.configurationService.onDidUpdateConfiguration(function(t){return e.onConfigurationUpdated(e.configurationService.getConfiguration(),!0)}))})},t.prototype.onEditorsChanged=function(){if(this.autoReveal){var e=!0,n=!1,i=this.getActiveFile();i&&(this.settings[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE]=i.toString(),this.isVisible()&&this.contextService.isInsideWorkspace(i)&&(this.hasSelection(i)||this.select(i).done(null,a.onUnexpectedError),e=!1));var r=this.editorService.getActiveEditorInput();r&&!E.toResource(r,{supportSideBySide:!0,filter:"untitled"})||(this.settings[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE]=void 0,n=!0),e&&this.explorerViewer.clearSelection(),n&&this.explorerViewer.clearFocus()}},t.prototype.onConfigurationUpdated=function(e,t){if(!this.isDisposed){this.autoReveal=e&&e.explorer&&e.explorer.autoReveal;var n=!1;this.filter&&(n=this.filter.updateConfiguration()),t&&n&&this.doRefresh().done(null,a.onUnexpectedError)}},t.prototype.focusBody=function(){var e=!1;if(this.explorerViewer){if(this.autoReveal){var t=this.explorerViewer.getSelection();t.length>0&&this.reveal(t[0],.5).done(null,a.onUnexpectedError)}this.explorerViewer.DOMFocus(),e=!0}this.getActiveFile()||this.openFocusedElement(e)},t.prototype.setVisible=function(n){var r=this;return e.prototype.setVisible.call(this,n).then(function(){if(n){var e=i.TPromise.as(null);if(r.shouldRefresh&&(e=r.doRefresh(),r.shouldRefresh=!1),!r.autoReveal)return e;var s=r.getActiveFile();if(s)return e.then(function(){return r.select(s)});if(!r.partService.isCreated())return i.TPromise.as(null);var c=void 0;return r.settings[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE]&&(c=o.default.parse(r.settings[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE])),c&&r.isCreated&&r.model.findClosest(c)?(r.editorService.openEditor({resource:c,options:{revealIfVisible:!0}}).done(null,a.onUnexpectedError),e):e.then(function(){r.openFocusedElement()})}})},t.prototype.openFocusedElement=function(e){var t=this.explorerViewer.getFocus();t&&!t.isDirectory&&this.editorService.openEditor({resource:t.resource,options:{preserveFocus:e,revealIfVisible:!0}}).done(null,a.onUnexpectedError)},t.prototype.getActiveFile=function(){var e=this.editorService.getActiveEditorInput();return e instanceof C.DiffEditorInput?null:E.toResource(e,{supportSideBySide:!0,filter:"file"})},Object.defineProperty(t.prototype,"isCreated",{get:function(){return!(!this.explorerViewer||!this.explorerViewer.getInput())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"model",{get:function(){return this.instantiationService.createInstance(x.Model)},enumerable:!0,configurable:!0}),t.prototype.createViewer=function(e){var t=this,i=this.instantiationService.createInstance(_.FileDataSource),r=this.instantiationService.createInstance(_.FileRenderer,this.viewletState),o=this.instantiationService.createInstance(_.FileController,this.viewletState),s=new _.FileSorter;this.filter=this.instantiationService.createInstance(_.FileFilter);var a=this.instantiationService.createInstance(_.FileDragAndDrop),c=this.instantiationService.createInstance(_.FileAccessibilityProvider);return this.explorerViewer=new f.Tree(e.getHTMLElement(),{dataSource:i,renderer:r,controller:o,sorter:s,filter:this.filter,dnd:a,accessibilityProvider:c},{autoExpandSingleChildren:!0,ariaLabel:n.localize(2,null),twistiePixels:12,showTwistie:!1,keyboardSupport:!1}),this.toDispose.push(U.attachListStyler(this.explorerViewer,this.themeService)),this.toDispose.push(this.listService.register(this.explorerViewer,[this.explorerFocussedContext,this.filesExplorerFocussedContext])),this.toDispose.push(this.fileService.onAfterOperation(function(e){return t.onFileOperation(e)})),this.toDispose.push(this.fileService.onFileChanges(function(e){return t.onFileChanges(e)})),this.toDispose.push(this.explorerViewer.addListener("focus",function(e){t.resourceContext.set(e.focus&&e.focus.resource),t.folderContext.set(e.focus&&e.focus.isDirectory)})),this.toDispose.push(this.explorerViewer.addListener("selection",function(e){if(e&&e.payload&&"keyboard"===e.payload.origin){var n=t.tree.getSelection();Array.isArray(n)&&n[0]instanceof x.FileStat&&(n[0].isDirectory&&t.explorerViewer.toggleExpansion(n[0]),o.openEditor(n[0],{pinned:!1,sideBySide:!1,preserveFocus:!1}))}})),this.explorerViewer},t.prototype.getOptimalWidth=function(){var e=this.explorerViewer.getHTMLElement(),t=[].slice.call(e.querySelectorAll(".explorer-item > a"));return I.getLargestChildWidth(e,t)},t.prototype.onFileOperation=function(e){var t=this;if(this.isCreated)if(e.operation===b.FileOperation.CREATE||e.operation===b.FileOperation.IMPORT||e.operation===b.FileOperation.COPY){var n=e.target,r=o.default.file(l.dirname(n.resource.fsPath)),s=this.model.findAll(r);s.length&&s.forEach(function(e){(e.isDirectoryResolved?i.TPromise.as(null):t.fileService.resolveFile(e.resource)).then(function(i){if(i){var r=x.FileStat.create(i,e.root);x.FileStat.mergeLocalWithDisk(r,e)}var o=x.FileStat.create(n,e.root);e.removeChild(o),e.addChild(o),t.explorerViewer.refresh(e).then(function(){return t.reveal(o,.5).then(function(){t.explorerViewer.setFocus(o)})}).done(null,a.onUnexpectedError)})})}else if(e.operation===b.FileOperation.MOVE){var c=e.resource,u=e.target,d=o.default.file(l.dirname(c.fsPath)),h=o.default.file(l.dirname(u.resource.fsPath)),p=!1,f=this.explorerViewer.getFocus();if(f&&f.resource&&f.resource.toString()===c.toString()&&(p=!0),d&&h&&d.toString()===h.toString())(v=this.model.findAll(c)).forEach(function(e){e.rename(u),t.explorerViewer.refresh(e.parent).done(function(){p&&t.explorerViewer.setFocus(e)},a.onUnexpectedError)});else if(d&&h){var g=this.model.findAll(h),v=this.model.findAll(c);g.length&&v.length&&v.forEach(function(e,n){var i=e.parent;e.move(g[n],function(e){t.explorerViewer.refresh(i).done(e,a.onUnexpectedError)},function(){t.explorerViewer.refresh(g[n],!0).done(function(){return t.explorerViewer.expand(g[n])},a.onUnexpectedError)})})}}else e.operation===b.FileOperation.DELETE&&(v=this.model.findAll(e.resource)).forEach(function(e){if(e.parent){var n=e.parent;n.removeChild(e);var i=t.explorerViewer.isDOMFocused();t.explorerViewer.refresh(n).done(function(){i&&t.explorerViewer.DOMFocus()},a.onUnexpectedError)}})},t.prototype.onFileChanges=function(e){var n=this;setTimeout(function(){var i=n.settings[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE];i&&e.contains(o.default.parse(i),b.FileChangeType.DELETED)&&(n.settings[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE]=null)}),setTimeout(function(){!n.shouldRefresh&&n.shouldRefreshFromEvent(e)&&n.refreshFromEvent()},t.EXPLORER_FILE_CHANGES_REACT_DELAY)},t.prototype.shouldRefreshFromEvent=function(e){if((e=this.filterFileEvents(e)).gotAdded()||e.gotDeleted()){var t=e.getAdded(),n=e.getDeleted();if(!this.isCreated)return!1;for(var i={},r=0;r<t.length;r++){var s=t[r];if(this.contextService.isInsideWorkspace(s.resource)){var a=l.dirname(s.resource.fsPath);if(!i[a]){var c=this.model.findClosest(o.default.file(a));if(c&&c.isDirectoryResolved&&!this.model.findClosest(s.resource))return!0;c&&c.isDirectoryResolved||(i[a]=!0)}}}for(var u=0;u<n.length;u++){var d=n[u];if(this.contextService.isInsideWorkspace(d.resource)&&this.model.findClosest(d.resource))return!0}}return!1},t.prototype.filterFileEvents=function(e){var t=this;return new b.FileChangesEvent(e.changes.filter(function(e){return e.type!==b.FileChangeType.UPDATED&&(!!t.contextService.isInsideWorkspace(e.resource)&&!t.fileEventsFilter.matches(e.resource))}))},t.prototype.refreshFromEvent=function(){var e=this;this.isVisible()?this.explorerRefreshDelayer.trigger(function(){return e.explorerViewer.getHighlight()?i.TPromise.as(null):e.doRefresh()}).done(null,a.onUnexpectedError):this.shouldRefresh=!0},t.prototype.refresh=function(){var e=this;if(!this.explorerViewer||this.explorerViewer.getHighlight())return i.TPromise.as(null);this.explorerViewer.DOMFocus();var t;if(this.autoReveal&&!(t=this.getActiveFile())){var n=this.explorerViewer.getSelection();n&&1===n.length&&(t=n[0].resource)}return this.doRefresh().then(function(){return t?e.select(t,!0):i.TPromise.as(null)})},t.prototype.doRefresh=function(){var e=this,n=[];this.model.roots.forEach(function(e){var t={root:e,resource:e.resource,options:{resolveTo:[]}};n.push(t)});var r=[];if(this.settings[t.MEMENTO_EXPANDED_FOLDER_RESOURCES]&&(r=this.settings[t.MEMENTO_EXPANDED_FOLDER_RESOURCES].map(function(e){return o.default.parse(e)})),this.isCreated)n.forEach(function(t){e.getResolvedDirectories(t.root,t.options.resolveTo)});else{var s=this.getActiveFile();if(s){var a=this.contextService.getRoot(s);a&&n.filter(function(e){return e.root.resource.toString()===a.toString()}).pop().options.resolveTo.push(s)}r.forEach(function(t){var i=e.contextService.getRoot(t);i&&n.filter(function(e){return e.resource.toString()===i.toString()}).pop().options.resolveTo.push(t)})}var c=this.fileService.resolveFiles(n).then(function(t){t.map(function(e,t){return e.success?x.FileStat.create(e.stat,n[t].root,n[t].options.resolveTo):x.FileStat.create({resource:n[t].resource,name:l.basename(n[t].resource.fsPath),mtime:0,etag:void 0,isDirectory:!0,hasChildren:!1},n[t].root)}).forEach(function(t,n){return x.FileStat.mergeLocalWithDisk(t,e.model.roots[n])});var i=1===e.model.roots.length?e.model.roots[0]:e.model;if(i===e.explorerViewer.getInput())return e.explorerViewer.refresh();var o=e.explorerViewer.getExpandedElements(),s=o.length?[e.model.roots[0]].concat(o):r.map(function(t){return e.model.findClosest(t)});return e.explorerViewer.setInput(i).then(function(){return e.explorerViewer.expandAll(s)})},function(e){return i.TPromise.wrapError(e)});return this.progressService.showWhile(c,this.partService.isCreated()?800:3200),c},t.prototype.getResolvedDirectories=function(e,t){if(e.isDirectoryResolved){if(!e.isRoot){for(i=t.length-1;i>=0;i--){var n=t[i];l.isEqualOrParent(e.resource.fsPath,n.fsPath,!H.isLinux)&&t.splice(i)}t.push(e.resource)}for(var i=0;i<e.children.length;i++){var r=e.children[i];this.getResolvedDirectories(r,t)}}},t.prototype.select=function(e,t){var n=this;if(void 0===t&&(t=this.autoReveal),!e)return i.TPromise.as(null);var r=this.hasSelection(e);if(r)return t?this.reveal(r,.5):i.TPromise.as(null);if(!this.isCreated)return i.TPromise.as(null);var o=this.model.findClosest(e);if(o)return this.doSelect(o,t);var s={resolveTo:[e]},a=this.contextService.getRoot(e)||this.model.roots[0].resource;return this.fileService.resolveFile(a,s).then(function(i){var r=n.model.roots.filter(function(e){return e.resource.toString()===a.toString()}).pop(),o=x.FileStat.create(i,r,s.resolveTo);return x.FileStat.mergeLocalWithDisk(o,r),n.explorerViewer.refresh(r).then(function(){return n.doSelect(r.find(e),t)})},function(e){return n.messageService.show(W.Severity.Error,e)})},t.prototype.hasSelection=function(e){for(var t=this.explorerViewer.getSelection(),n=0;n<t.length;n++)if(t[n].resource.toString()===e.toString())return t[n];return null},t.prototype.doSelect=function(e,t){var n=this;if(!e)return i.TPromise.as(null);if(!this.filter.isVisible(this.tree,e)&&!(e=e.parent))return i.TPromise.as(null);return(t?this.reveal(e,.5):i.TPromise.as(null)).then(function(){e.isDirectory||n.explorerViewer.setSelection([e]),n.explorerViewer.setFocus(e)})},t.prototype.shutdown=function(){if(this.isCreated){var n=this.explorerViewer.getExpandedElements().filter(function(e){return e instanceof x.FileStat}).map(function(e){return e.resource.toString()});n.length?this.settings[t.MEMENTO_EXPANDED_FOLDER_RESOURCES]=n:delete this.settings[t.MEMENTO_EXPANDED_FOLDER_RESOURCES]}this.settings[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE]||delete this.settings[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE],e.prototype.shutdown.call(this)},t.prototype.dispose=function(){this.toolBar&&this.toolBar.dispose(),e.prototype.dispose.call(this)},t}(k.CollapsibleView);G.ID="workbench.explorer.fileView",G.EXPLORER_FILE_CHANGES_REACT_DELAY=500,G.EXPLORER_FILE_CHANGES_REFRESH_DELAY=100,G.EXPLORER_IMPORT_REFRESH_DELAY=300,G.MEMENTO_LAST_ACTIVE_FILE_RESOURCE="explorer.memento.lastActiveFileResource",G.MEMENTO_EXPANDED_FOLDER_RESOURCES="explorer.memento.expandedFolderResources",v([p.memoize],G.prototype,"model",null),G=v([y(1,W.IMessageService),y(2,F.IContextMenuService),y(3,M.IInstantiationService),y(4,w.IEditorGroupService),y(5,D.IWorkspaceContextService),y(6,N.IProgressService),y(7,A.IListService),y(8,L.IWorkbenchEditorService),y(9,b.IFileService),y(10,P.IPartService),y(11,R.IKeybindingService),y(12,B.IContextKeyService),y(13,O.IConfigurationService),y(14,z.IWorkbenchThemeService),y(15,K.IEnvironmentService)],G),t.ExplorerView=G}),define(u[1319],d([1,0,626,7,18,9,128,41,6,45,23,38,171,148,93,51,57,153,1303,99,206,439,17,90,267,55,13,29,174]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,b,S,_,E,C,w,I,T,k,x,A,L,P,D){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var O=o.$,R=function(e){function t(i,o,s,a,c,l,u,d,h,p,f,v){var y=e.call(this,m({},i,{ariaHeaderLabel:n.localize(1,null),sizing:D.ViewSizing.Fixed,initialBodySize:t.computeExpandedBodySize(c.getStacksModel())}),u,s)||this;return y.instantiationService=o,y.textFileService=a,y.configurationService=l,y.listService=d,y.untitledEditorService=h,y.viewletService=f,y.themeService=v,y.model=c.getStacksModel(),y.openEditorsFocussedContext=g.OpenEditorsFocussedContext.bindTo(p),y.explorerFocussedContext=g.ExplorerFocussedContext.bindTo(p),y.structuralRefreshDelay=0,y.structuralTreeRefreshScheduler=new r.RunOnceScheduler(function(){return y.structuralTreeUpdate()},y.structuralRefreshDelay),y}return h(t,e),t.prototype.renderHeader=function(t){var n=this,i=o.append(t,O(".title"));o.append(i,O("span")).textContent=this.name,this.dirtyCountElement=o.append(i,O(".monaco-count-badge")),this.toDispose.push(A.attachStylerCallback(this.themeService,{badgeBackground:P.badgeBackground,badgeForeground:P.badgeForeground,contrastBorder:P.contrastBorder},function(e){var t=e.badgeBackground?e.badgeBackground.toString():null,i=e.badgeForeground?e.badgeForeground.toString():null,r=e.contrastBorder?e.contrastBorder.toString():null;n.dirtyCountElement.style.backgroundColor=t,n.dirtyCountElement.style.color=i,n.dirtyCountElement.style.borderWidth=r?"1px":null,n.dirtyCountElement.style.borderStyle=r?"solid":null,n.dirtyCountElement.style.borderColor=r})),this.updateDirtyIndicator(),e.prototype.renderHeader.call(this,t)},t.prototype.getActions=function(){return[this.instantiationService.createInstance(I.ToggleEditorLayoutAction,I.ToggleEditorLayoutAction.ID,I.ToggleEditorLayoutAction.LABEL),this.instantiationService.createInstance(p.SaveAllAction,p.SaveAllAction.ID,p.SaveAllAction.LABEL),this.instantiationService.createInstance(w.CloseAllEditorsAction,w.CloseAllEditorsAction.ID,w.CloseAllEditorsAction.LABEL)]},t.prototype.renderBody=function(t){var i=this;this.treeContainer=e.prototype.renderViewTree.call(this,t),o.addClass(this.treeContainer,"explorer-open-editors"),o.addClass(this.treeContainer,"show-file-icons");var r=this.instantiationService.createInstance(E.DataSource),a=this.instantiationService.createInstance(E.ActionProvider,this.model),c=this.instantiationService.createInstance(E.Renderer,a),l=this.instantiationService.createInstance(E.Controller,a,this.model),u=this.instantiationService.createInstance(E.AccessibilityProvider),d=this.instantiationService.createInstance(E.DragAndDrop);this.tree=new s.Tree(this.treeContainer,{dataSource:r,renderer:c,controller:l,accessibilityProvider:u,dnd:d},{indentPixels:0,twistiePixels:22,ariaLabel:n.localize(2,null),showTwistie:!1,keyboardSupport:!1}),this.toDispose.push(A.attachListStyler(this.tree,this.themeService)),this.toDispose.push(this.listService.register(this.tree,[this.explorerFocussedContext,this.openEditorsFocussedContext])),this.toDispose.push(this.tree.addListener("selection",function(e){e&&e.payload&&"keyboard"===e.payload.origin&&l.openEditor(i.tree.getFocus(),{pinned:!1,sideBySide:!1,preserveFocus:!1})})),this.toDispose.push(this.tree.addListener("item:collapsed",function(e){e.item&&e.item.getElement()instanceof x.EditorGroup&&setTimeout(function(){return i.tree.expand(e.item.getElement())})})),this.fullRefreshNeeded=!0,this.structuralTreeUpdate()},t.prototype.create=function(){var t=this.configurationService.getConfiguration();return this.onConfigurationUpdated(t),this.registerListeners(),e.prototype.create.call(this)},t.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.model.onModelChanged(function(t){return e.onEditorStacksModelChanged(t)})),this.toDispose.push(this.configurationService.onDidUpdateConfiguration(function(t){return e.onConfigurationUpdated(e.configurationService.getConfiguration())})),this.toDispose.push(this.untitledEditorService.onDidChangeDirty(function(t){return e.updateDirtyIndicator()})),this.toDispose.push(this.textFileService.models.onModelsDirty(function(t){return e.updateDirtyIndicator()})),this.toDispose.push(this.textFileService.models.onModelsSaved(function(t){return e.updateDirtyIndicator()})),this.toDispose.push(this.textFileService.models.onModelsSaveError(function(t){return e.updateDirtyIndicator()})),this.toDispose.push(this.textFileService.models.onModelsReverted(function(t){return e.updateDirtyIndicator()})),this.toDispose.push(this.viewletService.onDidViewletOpen(function(t){t.getId()===g.VIEWLET_ID&&(e.fullRefreshNeeded=!0,e.structuralTreeUpdate(),e.updateDirtyIndicator())}))},t.prototype.onEditorStacksModelChanged=function(e){var t=this;if(!this.isDisposed&&this.isVisible()&&this.tree)if(e.structural)e.editor&&!this.groupToRefresh?this.groupToRefresh=e.group:this.fullRefreshNeeded=!0,this.structuralTreeRefreshScheduler.schedule(this.structuralRefreshDelay);else{var n=e.editor?new _.OpenEditor(e.editor,e.group):e.group;this.tree.refresh(n,!1).done(function(){return t.highlightActiveEditor()},i.onUnexpectedError)}},t.prototype.structuralTreeUpdate=function(){var e=this;this.setBodySize(this.getExpandedBodySize(this.model));var t=1===this.model.groups.length?this.model.groups[0]:this.model;this.fullRefreshNeeded=!0;var n=this.fullRefreshNeeded?null:this.groupToRefresh;(t!==this.tree.getInput()?this.tree.setInput(t):this.tree.refresh(n)).done(function(){return e.fullRefreshNeeded=!1,e.groupToRefresh=null,e.tree.expandAll(e.model.groups).then(function(){return e.highlightActiveEditor()})},i.onUnexpectedError)},t.prototype.highlightActiveEditor=function(){if(this.model.activeGroup&&this.model.activeGroup.activeEditor){var e=new _.OpenEditor(this.model.activeGroup.activeEditor,this.model.activeGroup);if(this.tree.clearFocus(),this.tree.clearSelection(),e){this.tree.setFocus(e),this.tree.setSelection([e]);var t=this.tree.getRelativeTop(e);(t<=0||t>=1)&&this.tree.reveal(e).done(null,i.onUnexpectedError)}}},t.prototype.onConfigurationUpdated=function(e){if(!this.isDisposed){var n=e&&e.explorer&&e.explorer.openEditors&&e.explorer.openEditors.visible;this.visibleOpenEditors="number"==typeof n?n:t.DEFAULT_VISIBLE_OPEN_EDITORS;var i=e&&e.explorer&&e.explorer.openEditors&&e.explorer.openEditors.dynamicHeight;this.dynamicHeight="boolean"==typeof i?i:t.DEFAULT_DYNAMIC_HEIGHT,this.setBodySize(this.getExpandedBodySize(this.model))}},t.prototype.updateDirtyIndicator=function(){var e=this.textFileService.getAutoSaveMode()!==b.AutoSaveMode.AFTER_SHORT_DELAY?this.textFileService.getDirty().length:this.untitledEditorService.getDirty().length;0===e?o.addClass(this.dirtyCountElement,"hidden"):(this.dirtyCountElement.textContent=n.localize(3,null,e),o.removeClass(this.dirtyCountElement,"hidden"))},t.prototype.getExpandedBodySize=function(e){return t.computeExpandedBodySize(e,this.visibleOpenEditors,this.dynamicHeight)},t.computeExpandedBodySize=function(e,n,i){void 0===n&&(n=t.DEFAULT_VISIBLE_OPEN_EDITORS),void 0===i&&(i=t.DEFAULT_DYNAMIC_HEIGHT);var r=e.groups.reduce(function(e,t){return e+t.count},0);e.groups.length>1&&(r+=e.groups.length);return(i?Math.min(Math.max(n,1),r):Math.max(n,1))*E.Renderer.ITEM_HEIGHT},t.prototype.setStructuralRefreshDelay=function(e){this.structuralRefreshDelay=e},t.prototype.getOptimalWidth=function(){var e=this.tree.getHTMLElement(),t=[].slice.call(e.querySelectorAll(".open-editor > a"));return o.getLargestChildWidth(e,t)},t}(f.CollapsibleView);R.DEFAULT_VISIBLE_OPEN_EDITORS=9,R.DEFAULT_DYNAMIC_HEIGHT=!0,R.ID="workbench.explorer.openEditorsView",R.NAME=n.localize(0,null),R=v([y(1,c.IInstantiationService),y(2,a.IContextMenuService),y(3,b.ITextFileService),y(4,l.IEditorGroupService),y(5,u.IConfigurationService),y(6,d.IKeybindingService),y(7,k.IListService),y(8,C.IUntitledEditorService),y(9,T.IContextKeyService),y(10,S.IViewletService),y(11,L.IThemeService)],R),t.OpenEditorsView=R}),define(u[1320],d([1,0,8,5,6,4,9,40,21,20,38,41,90,128,121,35,55,13,180,109,17,49,166,383,59,174,148,32,944]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,b,S,_,E,C,w,I,T,k,x,A,L,P){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var D=function(e){function t(t,n,i,r,o,s,a,c,l,u){var d=e.call(this,m({},t,{ariaHeaderLabel:t.name,sizing:A.ViewSizing.Flexible,collapsed:void 0===t.collapsed||t.collapsed}),i,r)||this;return d.options=t,d.messageService=n,d.instantiationService=o,d.listService=s,d.themeService=a,d.contextKeyService=c,d.extensionService=l,d.commandService=u,d.activated=!1,d.disposables=[],d.menus=d.instantiationService.createInstance(W,d.id),d.viewFocusContext=d.contextKeyService.createKey(d.id,void 0),d.menus.onDidChangeTitle(function(){return d.updateActions()},d,d.disposables),d.themeService.onThemeChange(function(){return d.tree.refresh()},d,d.disposables),t.collapsed||d.activate(),d}return h(t,e),t.prototype.renderHeader=function(t){var n=a.$("div.title").appendTo(t);a.$("span").text(this.options.name).appendTo(n),e.prototype.renderHeader.call(this,t)},t.prototype.renderBody=function(t){this.treeContainer=e.prototype.renderViewTree.call(this,t),s.addClass(this.treeContainer,"tree-explorer-viewlet-tree-view"),this.tree=this.createViewer(a.$(this.treeContainer)),this.setInput()},t.prototype.changeState=function(t){e.prototype.changeState.call(this,t),t===A.CollapsibleState.EXPANDED&&this.activate()},t.prototype.activate=function(){!this.activated&&this.extensionService&&(this.extensionService.activateByEvent("onView:"+this.id),this.activated=!0,this.setInput())},t.prototype.createViewer=function(e){var t=this,n=this.instantiationService.createInstance(R,this.id),i=this.instantiationService.createInstance(M),r=this.instantiationService.createInstance(N,this.id,this.menus),o=new f.Tree(e.getHTMLElement(),{dataSource:n,renderer:i,controller:r},{keyboardSupport:!1});return this.toDispose.push(S.attachListStyler(o,this.themeService)),this.toDispose.push(this.listService.register(o,[this.viewFocusContext])),o.addListener("selection",function(e){return t.onSelection()}),o},t.prototype.getActions=function(){return this.menus.getTitleActions().slice()},t.prototype.getSecondaryActions=function(){return this.menus.getTitleSecondaryActions()},t.prototype.getActionItem=function(e){return E.createActionItem(e,this.keybindingService,this.messageService)},t.prototype.setVisible=function(t){return e.prototype.setVisible.call(this,t)},t.prototype.setInput=function(){var e=this;return this.tree?(this.treeInputPromise||(this.listenToDataProvider()?this.treeInputPromise=this.tree.setInput(new O):this.treeInputPromise=new o.TPromise(function(t,n){e.dataProviderRegisteredListener=T.ViewsRegistry.onTreeViewDataProviderRegistered(function(n){e.id===n&&e.listenToDataProvider()&&(e.tree.setInput(new O).then(function(){return t(null)}),e.dataProviderRegisteredListener.dispose())})})),this.treeInputPromise):o.TPromise.as(null)},t.prototype.listenToDataProvider=function(){var e=this,t=T.ViewsRegistry.getTreeViewDataProvider(this.id);return!!t&&(this.dataProviderElementChangeListener&&this.dataProviderElementChangeListener.dispose(),this.dataProviderElementChangeListener=t.onDidChange(function(t){return e.refresh(t)}),!0)},t.prototype.getOptimalWidth=function(){var e=this.tree.getHTMLElement(),t=[].slice.call(e.querySelectorAll(".outline-item-label > a"));return s.getLargestChildWidth(e,t)},t.prototype.onSelection=function(){var e=this.tree.getSelection()[0];e&&e.command&&(t=this.commandService).executeCommand.apply(t,[e.command.id].concat(e.command.arguments||[]));var t},t.prototype.refresh=function(e){(e=e||this.tree.getInput()).children=null,this.tree.refresh(e)},t.prototype.dispose=function(){this.dataProviderRegisteredListener&&this.dataProviderRegisteredListener.dispose(),i.dispose(this.disposables),this.dataProviderElementChangeListener&&this.dataProviderElementChangeListener.dispose(),i.dispose(this.disposables),e.prototype.dispose.call(this)},t}(L.CollapsibleView);D=v([y(1,l.IMessageService),y(2,u.IKeybindingService),y(3,d.IContextMenuService),y(4,r.IInstantiationService),y(5,p.IListService),y(6,_.IThemeService),y(7,w.IContextKeyService),y(8,x.IExtensionService),y(9,P.ICommandService)],D),t.TreeView=D;var O=function(){return function(){this.label="root",this.handle=-1,this.collapsibleState=k.TreeItemCollapsibleState.Expanded}}(),R=function(){function e(e,t){this.id=e,this.progressService=t}return e.prototype.getId=function(e,t){return""+t.handle},e.prototype.hasChildren=function(e,t){return t.collapsibleState===k.TreeItemCollapsibleState.Collapsed||t.collapsibleState===k.TreeItemCollapsibleState.Expanded},e.prototype.getChildren=function(e,t){if(t.children)return o.TPromise.as(t.children);var n=this.getDataProvider();if(n){var i=t instanceof O?n.getElements():n.getChildren(t);return this.progressService.showWhile(i,100),i.then(function(e){return t.children=e,e})}return o.TPromise.as(null)},e.prototype.shouldAutoexpand=function(e,t){return t.collapsibleState===k.TreeItemCollapsibleState.Expanded},e.prototype.getParent=function(e,t){return o.TPromise.as(null)},e.prototype.getDataProvider=function(){return T.ViewsRegistry.getTreeViewDataProvider(this.id)},e}();R=v([y(1,C.IProgressService)],R);var M=function(){function e(e){this.themeService=e}return e.prototype.getHeight=function(t,n){return e.ITEM_HEIGHT},e.prototype.getTemplateId=function(t,n){return e.TREE_TEMPLATE_ID},e.prototype.renderTemplate=function(e,t,n){var i=a.$(n),r=a.$(".custom-view-tree-node-item");r.appendTo(i);var o=a.$(".custom-view-tree-node-item-icon").appendTo(r),s=a.$(".custom-view-tree-node-item-label").appendTo(r);return{label:a.$("a.label").appendTo(s),icon:o}},e.prototype.renderElement=function(e,t,n,i){i.label.text(t.label).title(t.label);var r=this.themeService.getTheme().type===_.LIGHT?t.icon:t.iconDark;r?(i.icon.getHTMLElement().style.backgroundImage="url('"+r+"')",s.addClass(i.icon.getHTMLElement(),"custom-view-tree-node-item-icon")):(i.icon.getHTMLElement().style.backgroundImage="",s.removeClass(i.icon.getHTMLElement(),"custom-view-tree-node-item-icon"))},e.prototype.disposeTemplate=function(e,t,n){},e}();M.ITEM_HEIGHT=22,M.TREE_TEMPLATE_ID="treeExplorer",M=v([y(0,_.IThemeService)],M);var N=function(e){function t(t,n,i,r){var o=e.call(this,{clickBehavior:g.ClickBehavior.ON_MOUSE_UP,keyboardSupport:!1})||this;return o.treeViewId=t,o.menus=n,o.contextMenuService=i,o._keybindingService=r,o}return h(t,e),t.prototype.onContextMenu=function(e,t,n){var i=this;e.setFocus(t);var r=this.menus.getResourceContextActions(t);if(!r.length)return!0;var s={x:n.posx+1,y:n.posy};return this.contextMenuService.showContextMenu({getAnchor:function(){return s},getActions:function(){return o.TPromise.as(r)},getActionItem:function(e){var t=i._keybindingService.lookupKeybinding(e.id);return t?new I.ActionItem(e,e,{label:!0,keybinding:t.getLabel()}):null},onHide:function(t){t&&e.DOMFocus()},getActionsContext:function(){return{$treeViewId:i.treeViewId,$treeItemHandle:t.handle}},actionRunner:new F(function(){return e.getSelection()})}),!0},t}(g.DefaultController);N=v([y(2,d.IContextMenuService),y(3,u.IKeybindingService)],N);var F=function(e){function t(t){var n=e.call(this)||this;return n.getSelectedResources=t,n}return h(t,e),t.prototype.runAction=function(t,n){if(t instanceof b.MenuItemAction){var i=this.getSelectedResources(),r=i.filter(function(e){return e!==n});return i.length===r.length||1===i.length?t.run(n):t.run.apply(t,[n].concat(r))}return e.prototype.runAction.call(this,t,n)},t}(c.ActionRunner),W=function(){function e(e,t,r){var o=this;this.id=e,this.contextKeyService=t,this.menuService=r,this.disposables=[],this.titleDisposable=i.empty,this.titleActions=[],this.titleSecondaryActions=[],this._onDidChangeTitle=new n.Emitter,this.titleDisposable&&(this.titleDisposable.dispose(),this.titleDisposable=i.empty);var s=this.contextKeyService.createScoped();s.createKey("view",e);var a=this.menuService.createMenu(b.MenuId.ViewTitle,s),c=function(){o.titleActions=[],o.titleSecondaryActions=[],E.fillInActions(a,null,{primary:o.titleActions,secondary:o.titleSecondaryActions}),o._onDidChangeTitle.fire()},l=a.onDidChange(c);c(),this.titleDisposable=i.toDisposable(function(){l.dispose(),a.dispose(),s.dispose(),o.titleActions=[],o.titleSecondaryActions=[]})}return Object.defineProperty(e.prototype,"onDidChangeTitle",{get:function(){return this._onDidChangeTitle.event},enumerable:!0,configurable:!0}),e.prototype.getTitleActions=function(){return this.titleActions},e.prototype.getTitleSecondaryActions=function(){return this.titleSecondaryActions},e.prototype.getResourceContextActions=function(e){return this.getActions(b.MenuId.ViewItemContext,{key:"viewItem",value:e.contextValue}).secondary},e.prototype.getActions=function(e,t){var n=this.contextKeyService.createScoped();n.createKey("view",this.id),n.createKey(t.key,t.value);var i=this.menuService.createMenu(e,n),r={primary:[],secondary:[]};return E.fillInActions(i,{shouldForwardArgs:!0},r),i.dispose(),n.dispose(),r},e.prototype.dispose=function(){this.disposables=i.dispose(this.disposables)},e}();W=v([y(1,w.IContextKeyService),y(2,b.IMenuService)],W)}),define(u[1321],d([1,0,707,131,117,166,1320,17]),function(e,t,n,i,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c;!function(e){e.isValidViewDescriptors=function(e,t){if(!Array.isArray(e))return t.error(n.localize(0,null)),!1;for(var i=0,r=e;i<r.length;i++){var o=r[i];if("string"!=typeof o.id)return t.error(n.localize(1,null,"id")),!1;if("string"!=typeof o.name)return t.error(n.localize(2,null,"name")),!1;if(o.when&&"string"!=typeof o.when)return t.error(n.localize(3,null,"when")),!1}return!0};var t={type:"object",properties:{id:{description:n.localize(4,null),type:"string"},name:{description:n.localize(5,null),type:"string"},when:{description:n.localize(6,null),type:"string"}}};e.viewsContribution={description:n.localize(7,null),type:"object",properties:{explorer:{description:n.localize(8,null),type:"array",items:t}}}}(c||(c={})),r.ExtensionsRegistry.registerExtensionPoint("views",[],c.viewsContribution).setHandler(function(e){for(var t=0,r=e;t<r.length;t++)!function(e){var t=e.value,r=e.collector;i.forEach(t,function(e){if(c.isValidViewDescriptors(e.value,r)){var t=o.ViewLocation.getContributedViewLocation(e.key);if(t){var i=e.value.map(function(e){return{id:e.id,name:e.name,ctor:s.TreeView,location:t,when:a.ContextKeyExpr.deserialize(e.when)}});o.ViewsRegistry.registerViews(i)}else r.warn(n.localize(9,null,e.key))}})}(r[t])})}),define(u[430],d([1,0,5,4,24,57,78]),function(e,t,n,i,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t,n){this.viewletService=e,this.panelService=t,this.scopeId=n,this.toDispose=[],this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.viewletService.onDidViewletOpen(function(t){return e.onScopeOpened(t.getId())})),this.toDispose.push(this.panelService.onDidPanelOpen(function(t){return e.onScopeOpened(t.getId())})),this.toDispose.push(this.viewletService.onDidViewletClose(function(t){return e.onScopeClosed(t.getId())})),this.toDispose.push(this.panelService.onDidPanelClose(function(t){return e.onScopeClosed(t.getId())}))},e.prototype.onScopeClosed=function(e){e===this.scopeId&&this.onScopeDeactivated()},e.prototype.onScopeOpened=function(e){e===this.scopeId&&this.onScopeActivated()},e}();t.ScopedService=a;var c=function(e){function t(t,n,i,o,s){var a=e.call(this,o,s,n)||this;return a.progressbar=t,a.isActive=i||r.isUndefinedOrNull(n),a.progressState=Object.create(null),a}return h(t,e),t.prototype.onScopeDeactivated=function(){this.isActive=!1},t.prototype.onScopeActivated=function(){this.isActive=!0,this.progressState.done||(this.progressState.whilePromise?this.doShowWhile():this.progressState.infinite?this.progressbar.infinite().getContainer().show():(this.progressState.total&&this.progressbar.total(this.progressState.total).getContainer().show(),this.progressState.worked&&this.progressbar.worked(this.progressState.worked).getContainer().show()))},t.prototype.clearProgressState=function(){this.progressState.infinite=void 0,this.progressState.done=void 0,this.progressState.worked=void 0,this.progressState.total=void 0,this.progressState.whilePromise=void 0},t.prototype.show=function(e,t){var n,i,o=this;return!1===e||!0===e?n=e:i=e,this.clearProgressState(),this.progressState.infinite=n,this.progressState.total=i,this.isActive&&(r.isUndefinedOrNull(n)?r.isUndefinedOrNull(i)||(r.isUndefinedOrNull(t)?this.progressbar.total(i).getContainer().show():this.progressbar.total(i).getContainer().showDelayed(t)):r.isUndefinedOrNull(t)?this.progressbar.infinite().getContainer().show():this.progressbar.infinite().getContainer().showDelayed(t)),{total:function(e){o.progressState.infinite=!1,o.progressState.total=e,o.isActive&&o.progressbar.total(e)},worked:function(e){!o.isActive||o.progressbar.hasTotal()?(o.progressState.infinite=!1,o.progressState.worked?o.progressState.worked+=e:o.progressState.worked=e,o.isActive&&o.progressbar.worked(e)):(o.progressState.infinite=!0,o.progressState.worked=void 0,o.progressState.total=void 0,o.progressbar.infinite().getContainer().show())},done:function(){o.progressState.infinite=!1,o.progressState.done=!0,o.isActive&&o.progressbar.stop().getContainer().hide()}}},t.prototype.showWhile=function(e,t){var n=this;!!this.progressState.whilePromise?e=i.TPromise.join([e,this.progressState.whilePromise]):this.clearProgressState(),this.progressState.whilePromise=e;var r=function(){n.progressState.whilePromise&&n.progressState.whilePromise!==e||(n.clearProgressState(),n.isActive&&n.progressbar.stop().getContainer().hide())};return this.doShowWhile(t),e.then(r,r)},t.prototype.doShowWhile=function(e){this.isActive&&(r.isUndefinedOrNull(e)?this.progressbar.infinite().getContainer().show():this.progressbar.infinite().getContainer().showDelayed(e))},t.prototype.dispose=function(){this.toDispose=n.dispose(this.toDispose)},t}(a);c=v([y(3,o.IViewletService),y(4,s.IPanelService)],c),t.WorkbenchProgressService=c}),define(u[390],d([1,0,512,155,4,15,5,40,140,12,8,24,7,269,49,294,88,212,430,31,118,20,109,55,1006]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,v,m,y,b,S,_,E,C,w){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var I=function(e){function t(t,n,i,r,o,s,a,c,l,d,h,p,f,g,v,m,y){var b=e.call(this,m,y,c)||this;return b.messageService=t,b.storageService=n,b.telemetryService=i,b.contextMenuService=r,b.partService=o,b.keybindingService=s,b.instantiationService=a,b.registry=l,b.activeCompositeSettingsKey=d,b.defaultCompositeId=h,b.nameForTelemetry=p,b.compositeCSSClass=f,b.actionContributionScope=g,b.titleForegroundColor=v,b._onDidCompositeOpen=new u.Emitter,b._onDidCompositeClose=new u.Emitter,b.instantiatedCompositeListeners=[],b.mapCompositeToCompositeContainer={},b.mapActionsBindingToComposite={},b.mapProgressServiceToComposite={},b.activeComposite=null,b.instantiatedComposites=[],b.compositeLoaderPromises={},b.lastActiveCompositeId=n.get(d,S.StorageScope.WORKSPACE,b.defaultCompositeId),b}return h(t,e),t.prototype.openComposite=function(e,t){return this.activeComposite&&this.activeComposite.getId()===e?(t&&this.activeComposite.focus(),r.TPromise.as(this.activeComposite)):this.doOpenComposite(e,t)},t.prototype.doOpenComposite=function(e,t){var n=this,o=i.defaultGenerator.nextId();this.currentCompositeOpenToken=o;return(this.activeComposite?this.hideActiveComposite():r.TPromise.as(null)).then(function(){return n.updateTitle(e),n.createComposite(e,!0).then(function(e){return n.currentCompositeOpenToken!==o||n.activeComposite&&n.activeComposite.getId()!==e.getId()?r.TPromise.as(null):n.activeComposite&&n.activeComposite.getId()===e.getId()?(t&&e.focus(),r.TPromise.as(e)):n.showComposite(e).then(function(){return t&&e.focus(),e})})}).then(function(e){return e&&n._onDidCompositeOpen.fire(e),e})},t.prototype.createComposite=function(e,t){for(var n=this,i=0;i<this.instantiatedComposites.length;i++)if(this.instantiatedComposites[i].getId()===e)return r.TPromise.as(this.instantiatedComposites[i]);var o=this.registry.getComposite(e);if(o){var s=this.compositeLoaderPromises[e];if(!s){var a=this.instantiationService.createInstance(b.WorkbenchProgressService,this.progressBar,o.id,t);s=this.instantiationService.createChild(new _.ServiceCollection([C.IProgressService,a])).createInstance(o).then(function(t){return n.mapProgressServiceToComposite[t.getId()]=a,n.instantiatedComposites.push(t),n.instantiatedCompositeListeners.push(t.onTitleAreaUpdate(function(){return n.onTitleAreaUpdate(t.getId())})),delete n.compositeLoaderPromises[e],t}),a.showWhile(s,this.partService.isCreated()?800:3200),this.compositeLoaderPromises[e]=s}return s}throw new Error(l.format("Unable to find composite with id {0}",e))},t.prototype.showComposite=function(e){var t=this;this.activeComposite=e;var n=this.activeComposite.getId();n!==this.defaultCompositeId?this.storageService.store(this.activeCompositeSettingsKey,n,S.StorageScope.WORKSPACE):this.storageService.remove(this.activeCompositeSettingsKey,S.StorageScope.WORKSPACE),this.lastActiveCompositeId=this.activeComposite.getId();var i,o=this.mapCompositeToCompositeContainer[e.getId()];return o?i=r.TPromise.as(null):(o=a.$().div({class:["composite",this.compositeCSSClass],id:e.getId()},function(t){i=e.create(t).then(function(){e.updateStyles()})}),this.mapCompositeToCompositeContainer[e.getId()]=o),this.mapProgressServiceToComposite[e.getId()]&&!o&&this.mapProgressServiceToComposite[e.getId()].showWhile(i,this.partService.isCreated()?800:3200),i.then(function(){if(t.activeComposite&&e.getId()===t.activeComposite.getId()){o.build(t.getContentArea()),o.show(),t.toolBar.actionRunner=e.getActionRunner();var n=t.registry.getComposite(e.getId());n&&n.name!==e.getTitle()&&t.updateTitle(e.getId(),e.getTitle());var i=t.mapActionsBindingToComposite[e.getId()];return i||(i=t.collectCompositeActions(e),t.mapActionsBindingToComposite[e.getId()]=i),i(),t.telemetryActionsListener&&(t.telemetryActionsListener.dispose(),t.telemetryActionsListener=null),t.telemetryActionsListener=t.toolBar.actionRunner.addListener(c.EventType.RUN,function(e){e.error&&!p.isPromiseCanceledError(e.error)&&t.messageService.show(E.Severity.Error,e.error),t.telemetryService&&t.telemetryService.publicLog("workbenchActionExecuted",{id:e.action.id,from:t.nameForTelemetry})}),e.setVisible(!0).then(function(){t.activeComposite&&e.getId()===t.activeComposite.getId()&&t.contentAreaSize&&e.layout(t.contentAreaSize)})}},function(e){return t.onError(e)})},t.prototype.onTitleAreaUpdate=function(e){if(this.activeComposite&&this.activeComposite.getId()===e){this.updateTitle(this.activeComposite.getId(),this.activeComposite.getTitle());var t=this.collectCompositeActions(this.activeComposite);this.mapActionsBindingToComposite[this.activeComposite.getId()]=t,t()}else delete this.mapActionsBindingToComposite[e]},t.prototype.updateTitle=function(e,t){var i=this.registry.getComposite(e);if(i){t||(t=i.name);var r=this.keybindingService.lookupKeybinding(e);this.titleLabel.updateTitle(e,t,r?r.getLabel():void 0),this.toolBar.setAriaLabel(n.localize(0,null,t))}},t.prototype.collectCompositeActions=function(e){var t=e.getActions().slice(0),n=e.getSecondaryActions().slice(0);t.push.apply(t,this.getActions()),n.push.apply(n,this.getSecondaryActions());var i=o.Registry.as(m.Extensions.Actionbar);return t.push.apply(t,i.getActionBarActionsForContext(this.actionContributionScope,e)),n.push.apply(n,i.getSecondaryActionBarActionsForContext(this.actionContributionScope,e)),this.toolBar.setActions(m.prepareActions(t),m.prepareActions(n))},t.prototype.getActiveComposite=function(){return this.activeComposite},t.prototype.getLastActiveCompositetId=function(){return this.lastActiveCompositeId},t.prototype.hideActiveComposite=function(){var e=this;if(!this.activeComposite)return r.TPromise.as(null);var t=this.activeComposite;this.activeComposite=null;var n=this.mapCompositeToCompositeContainer[t.getId()];return t.setVisible(!1).then(function(){return n.offDOM(),n.hide(),e.progressBar.stop().getContainer().hide(),e.toolBar.setActions([])(),e._onDidCompositeClose.fire(t),t})},t.prototype.createTitleArea=function(e){var t=this,n=a.$(e).div({class:["composite","title"]});return this.titleLabel=this.createTitleLabel(n),a.$(n).div({class:"title-actions"},function(e){t.toolBar=new f.ToolBar(e.getHTMLElement(),t.contextMenuService,{actionItemProvider:function(e){return t.actionItemProvider(e)},orientation:g.ActionsOrientation.HORIZONTAL,getKeyBinding:function(e){return t.keybindingService.lookupKeybinding(e.id)}})}),n},t.prototype.createTitleLabel=function(e){var t;a.$(e).div({class:"title-label"},function(e){t=e.span()});var i=this;return{updateTitle:function(e,i,r){t.safeInnerHtml(i),t.title(r?n.localize(1,null,i,r):i)},updateStyles:function(){t.style("color",i.getColor(i.titleForegroundColor))}}},t.prototype.updateStyles=function(){e.prototype.updateStyles.call(this),this.titleLabel.updateStyles()},t.prototype.actionItemProvider=function(e){var t;return this.activeComposite&&(t=this.activeComposite.getActionItem(e)),t||(t=o.Registry.as(m.Extensions.Actionbar).getActionItemForContext(this.actionContributionScope,f.CONTEXT,e)),t},t.prototype.createContentArea=function(e){var t=this;return a.$(e).div({class:"content"},function(e){t.progressBar=new v.ProgressBar(e),t.toUnbind.push(w.attachProgressBarStyler(t.progressBar,t.themeService)),t.progressBar.getContainer().hide()})},t.prototype.onError=function(e){this.messageService.show(E.Severity.Error,d.isString(e)?new Error(e):e)},t.prototype.getProgressIndicator=function(e){return this.mapProgressServiceToComposite[e]},t.prototype.getActions=function(){return[]},t.prototype.getSecondaryActions=function(){return[]},t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t);return this.contentAreaSize=n[1],this.activeComposite&&this.activeComposite.layout(this.contentAreaSize),n},t.prototype.shutdown=function(){this.instantiatedComposites.forEach(function(e){return e.shutdown()}),e.prototype.shutdown.call(this)},t.prototype.dispose=function(){this.mapCompositeToCompositeContainer=null,this.mapProgressServiceToComposite=null,this.mapActionsBindingToComposite=null;for(var t=0;t<this.instantiatedComposites.length;t++)this.instantiatedComposites[t].dispose();this.instantiatedComposites=[],this.instantiatedCompositeListeners=s.dispose(this.instantiatedCompositeListeners),this.progressBar.dispose(),this.toolBar.dispose(),e.prototype.dispose.call(this)},t}(y.Part);t.CompositePart=I}),define(u[1324],d([1,0,4,15,40,518,12,34,24,7,26,56,107,161,212,30,1278,430,23,47,63,31,6,118,20,19,109,267,8,17,13,29,74,1021,1281]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A,L,P,D,O,R,M){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var N=function(){function e(e,t){this._token=e,this.progressPromise=t}return Object.defineProperty(e.prototype,"token",{get:function(){return this._token},enumerable:!0,configurable:!0}),e.prototype.cancel=function(){this.progressPromise.cancel()},e}(),F=function(e){function t(t,n,i,r,o,s,c,l,u,d){var h=e.call(this,t,{hasTitle:!1},d)||this;h.messageService=i,h.telemetryService=r,h.storageService=o,h.partService=s,h.configurationService=c,h.instantiationService=u,h.onLayoutEmitter=new P.Emitter,h.onLayout=h.onLayoutEmitter.event,h._onEditorsChanged=new P.Emitter,h._onEditorsMoved=new P.Emitter,h._onEditorOpenFail=new P.Emitter,h._onGroupOrientationChanged=new P.Emitter,h._onTabOptionsChanged=new P.Emitter,h.visibleEditors=[],h.editorOpenToken=a.fill(C.POSITIONS.length,function(){return 0}),h.instantiatedEditors=a.fill(C.POSITIONS.length,function(){return[]}),h.mapEditorInstantiationPromiseToEditor=a.fill(C.POSITIONS.length,function(){return Object.create(null)}),h.pendingEditorInputsToClose=[],h.pendingEditorInputCloseTimeout=null,h.stacks=h.instantiationService.createInstance(L.EditorStacksModel,n),h.textCompareEditorVisible=m.TextCompareEditorVisible.bindTo(l);var p=c.getConfiguration();if(p&&p.workbench&&p.workbench.editor){var f=p.workbench.editor;h.tabOptions={previewEditors:f.enablePreview,showIcons:f.showIcons,showTabs:f.showTabs,tabCloseButton:f.tabCloseButton},h.revealIfOpen=f.revealIfOpen,h.telemetryService.publicLog("workbenchEditorConfiguration",f)}else h.tabOptions={previewEditors:!0,showIcons:!1,showTabs:!0,tabCloseButton:"right"},h.revealIfOpen=!1;return h.registerListeners(),h}return h(t,e),t.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.stacks.onEditorDirty(function(t){return e.onEditorDirty(t)})),this.toUnbind.push(this.stacks.onEditorDisposed(function(t){return e.onEditorDisposed(t)})),this.toUnbind.push(this.stacks.onEditorOpened(function(t){return e.onEditorOpened(t)})),this.toUnbind.push(this.stacks.onEditorClosed(function(t){return e.onEditorClosed(t)})),this.toUnbind.push(this.stacks.onGroupOpened(function(t){return e.onEditorGroupOpenedOrClosed()})),this.toUnbind.push(this.stacks.onGroupClosed(function(t){return e.onEditorGroupOpenedOrClosed()})),this.toUnbind.push(this.configurationService.onDidUpdateConfiguration(function(t){return e.onConfigurationUpdated(e.configurationService.getConfiguration())}))},t.prototype.onEditorGroupOpenedOrClosed=function(){this.updateStyles()},t.prototype.onConfigurationUpdated=function(e){var t=this;if(e&&e.workbench&&e.workbench.editor){var n=e.workbench.editor,i=n.enablePreview;this.tabOptions.previewEditors===i||i||this.stacks.groups.forEach(function(e){e.previewEditor&&t.pinEditor(e,e.previewEditor)});var r=u.clone(this.tabOptions);this.tabOptions={previewEditors:i,showIcons:n.showIcons,tabCloseButton:n.tabCloseButton,showTabs:!this.forceHideTabs&&n.showTabs},this.doNotFireTabOptionsChanged||u.equals(r,this.tabOptions)||this._onTabOptionsChanged.fire(this.tabOptions),this.revealIfOpen=n.revealIfOpen}},t.prototype.onEditorDirty=function(e){this.pinEditor(e.group,e.editor)},t.prototype.onEditorDisposed=function(e){this.pendingEditorInputsToClose.push(e),this.startDelayedCloseEditorsFromInputDispose()},t.prototype.onEditorOpened=function(e){this.telemetryService.publicLog("editorOpened",e.editor.getTelemetryDescriptor())},t.prototype.onEditorClosed=function(e){this.telemetryService.publicLog("editorClosed",e.editor.getTelemetryDescriptor())},t.prototype.hideTabs=function(e){this.forceHideTabs=e;var t=this.configurationService.getConfiguration();this.tabOptions.showTabs=!e&&(t&&t.workbench&&t.workbench.editor&&t.workbench.editor.showTabs),this._onTabOptionsChanged.fire(this.tabOptions)},t.prototype.resizeGroup=function(e,t){this.editorGroupsControl.resizeGroup(e,t)},Object.defineProperty(t.prototype,"onEditorsChanged",{get:function(){return this._onEditorsChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onEditorsMoved",{get:function(){return this._onEditorsMoved.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onEditorOpenFail",{get:function(){return this._onEditorOpenFail.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onGroupOrientationChanged",{get:function(){return this._onGroupOrientationChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onTabOptionsChanged",{get:function(){return this._onTabOptionsChanged.event},enumerable:!0,configurable:!0}),t.prototype.getTabOptions=function(){return this.tabOptions},t.prototype.openEditor=function(e,t,r,o){t||(t=null);var a=this.findPosition(e,t,r,o);if(!e||null===a||Object.keys(this.mapEditorInstantiationPromiseToEditor[a]).length>0||!this.editorGroupsControl||this.editorGroupsControl.isDragging())return n.TPromise.as(null);var c=i.Registry.as(m.Extensions.Editors).getEditor(e);return c?(a!==C.Position.ONE&&this.telemetryService.publicLog("workbenchSideEditorOpened",{position:a}),this.doOpenEditor(a,c,e,t,o)):n.TPromise.wrapError(new Error(s.format("Can not find a registered editor for the input {0}",e)))},t.prototype.doOpenEditor=function(e,t,i,r,o){var s=this,a=this.ensureGroup(e,!r||!r.preserveFocus),c=!this.tabOptions.previewEditors||r&&(r.pinned||"number"==typeof r.index)||i.isDirty(),l=0===a.count||!r||!r.inactive;if(a.openEditor(i,{active:l,pinned:c,index:r&&r.index}),!l)return n.TPromise.as(null);var u=++this.editorOpenToken[e],d=new N(u,n.TPromise.timeout(this.partService.isCreated()?800:3200).then(function(){var e=s.stacks.positionOfGroup(a);u===s.editorOpenToken[e]&&s.editorGroupsControl.updateProgress(e,b.ProgressState.INFINITE)}));return this.doShowEditor(a,t,i,r,o,d).then(function(e){return e?s.doSetInput(a,e,i,r,d):n.TPromise.as(null)})},t.prototype.doShowEditor=function(e,t,i,r,o,s){var a=this,l=this.stacks.positionOfGroup(e),u=this.visibleEditors[l];return u&&t.describes(u)?n.TPromise.as(u):(u&&this.doHideEditor(u,l,!1),this.doCreateEditor(e,t,s).then(function(t){var n=a.stacks.positionOfGroup(e);return t&&a.visibleEditors[n]&&t.getId()===a.visibleEditors[n].getId()?(a.editorGroupsControl.show(t,n,r&&r.preserveFocus,o),t.setVisible(!0,n),a.updateTextCompareEditorVisible(),a.editorGroupsControl.layout(n),t):(s.cancel(),null)},function(e){return a.messageService.show(k.Severity.Error,c.isString(e)?new Error(e):e)}))},t.prototype.doCreateEditor=function(e,t,n){var i=this;return this.doInstantiateEditor(e,t).then(function(o){var s=i.stacks.positionOfGroup(e);return n.token!==i.editorOpenToken[s]?(n.cancel(),null):(i.visibleEditors[s]=o,o.getContainer()||o.create(r.$().div({class:"editor-container",role:"tabpanel",id:t.getId()})),o)})},t.prototype.doInstantiateEditor=function(e,t){var i=this,r=this.stacks.positionOfGroup(e),o=this.instantiatedEditors[r].filter(function(e){return t.describes(e)})[0];if(o)return n.TPromise.as(o);var s=this.mapEditorInstantiationPromiseToEditor[r][t.getId()];if(s)return s;var a=this.instantiationService.createInstance(S.WorkbenchProgressService,this.editorGroupsControl.getProgressBar(r),t.getId(),!0),c=!1,l=this.editorGroupsControl.getInstantiationService(r).createChild(new T.ServiceCollection([A.IProgressService,a])).createInstance(t).then(function(r){var o=i.stacks.positionOfGroup(e);return c=!0,delete i.mapEditorInstantiationPromiseToEditor[o][t.getId()],i.instantiatedEditors[o].push(r),n.TPromise.as(r)});return c||(this.mapEditorInstantiationPromiseToEditor[r][t.getId()]=l),l.then(function(e){return a.dispose(),e})},t.prototype.doSetInput=function(e,t,n,i,r){var o=this,s=t.input,a=!s||!s.matches(n)||i&&i.forceOpen;return t.setInput(n,i).then(function(){r.cancel();var n=o.stacks.positionOfGroup(e);return-1===n?null:((!i||!i.preserveFocus)&&t.focus(),o.editorGroupsControl.updateProgress(n,b.ProgressState.DONE),a&&o._onEditorsChanged.fire(),t)},function(s){return o.doHandleSetInputError(s,e,t,n,i,r)})},t.prototype.doHandleSetInputError=function(e,t,n,i,r,s){var a=this.stacks.positionOfGroup(t);if(s.cancel(),this.partService.isCreated()&&!l.isPromiseCanceledError(e)){var u=o.localize(6,null,i.getName(),p.toErrorMessage(e)),d=void 0;d=e&&e.actions&&e.actions.length?l.create(u,{actions:e.actions}):u,this.messageService.show(k.Severity.Error,c.isString(d)?new Error(d):d)}this.editorGroupsControl.updateProgress(a,b.ProgressState.DONE),this._onEditorOpenFail.fire(i),t.activeEditor===i&&this.doCloseActiveEditor(t)},t.prototype.closeEditor=function(e,t){var i=this,r=this.stacks.groupAt(e);return r?this.handleDirty([{group:r,editor:t}],!0).then(function(e){e||i.doCloseEditor(r,t)}):n.TPromise.as(null)},t.prototype.doCloseEditor=function(e,t,n){void 0===n&&(n=this.stacks.isActive(e)),e.activeEditor&&e.activeEditor.matches(t)?this.doCloseActiveEditor(e,n):this.doCloseInactiveEditor(e,t)},t.prototype.doCloseActiveEditor=function(e,t){void 0===t&&(t=!0);var n=this.stacks.positionOfGroup(e);e.closeEditor(e.activeEditor),0===e.count?this.doCloseGroup(e,t):this.openEditor(e.activeEditor,t?null:m.EditorOptions.create({preserveFocus:!0}),n).done(null,l.onUnexpectedError)},t.prototype.doCloseInactiveEditor=function(e,t){e.closeEditor(t)},t.prototype.doCloseGroup=function(e,t){var n=this;void 0===t&&(t=!0);var i=this.stacks.positionOfGroup(e);this.modifyGroups(function(){return n.stacks.closeGroup(e)});var r=this.visibleEditors[i];r&&this.doHideEditor(r,i,!0),this._onEditorsChanged.fire();var o=this.stacks.activeGroup;o&&(t?this.focusGroup(o):this.activateGroup(o),this.onGroupFocusChanged())},t.prototype.doHideEditor=function(e,t,n){var i=this.editorGroupsControl.hide(e,t,n);this.editorGroupsControl.updateProgress(t,b.ProgressState.STOP),e.clearInput(),e.setVisible(!1),this.updateTextCompareEditorVisible(),this.visibleEditors[t]=null,this.rochade(i),i!==b.Rochade.NONE&&this._onEditorsMoved.fire()},t.prototype.updateTextCompareEditorVisible=function(){this.textCompareEditorVisible.set(this.visibleEditors.some(function(e){return e&&e.isVisible()&&e.getId()===m.TEXT_DIFF_EDITOR_ID}))},t.prototype.closeAllEditors=function(e){var t=this,n=this.stacks.groups.reverse();"number"==typeof e&&(n=n.filter(function(n){return t.stacks.positionOfGroup(n)!==e}));var i=a.flatten(n.map(function(e){return e.getEditors().map(function(t){return{group:e,editor:t}})}));return this.handleDirty(i).then(function(e){e||n.forEach(function(e){return t.doCloseEditors(e)})})},t.prototype.closeEditors=function(e,t){var i=this;void 0===t&&(t=Object.create(null));var r=this.stacks.groupAt(e);if(!r)return n.TPromise.as(null);var o=r.getEditors();t.unmodifiedOnly&&(o=o.filter(function(e){return!e.isDirty()}));var s;return s=c.isUndefinedOrNull(t.direction)?o.filter(function(e){return!t.except||!e.matches(t.except)}):t.direction===C.Direction.LEFT?o.slice(0,r.indexOf(t.except)):o.slice(r.indexOf(t.except)+1),this.handleDirty(s.map(function(e){return{group:r,editor:e}}),!0).then(function(e){e||i.doCloseEditors(r,t)})},t.prototype.doCloseEditors=function(e,t){var n=this;void 0===t&&(t=Object.create(null));var i=!1;if(t.except||(i=!t.unmodifiedOnly||!e.getEditors().some(function(e){return e.isDirty()})),i)e.closeEditors(e.activeEditor),this.doCloseActiveEditor(e);else if(t.unmodifiedOnly)if(e.activeEditor.isDirty())e.getEditors().filter(function(e){return!e.isDirty()&&!e.matches(t.except)}).forEach(function(t){return n.doCloseInactiveEditor(e,t)});else{var r=e.getEditors().filter(function(e){return e.isDirty()})[0];this.openEditor(r,null,this.stacks.positionOfGroup(e)).done(function(){n.doCloseEditors(e,t)},l.onUnexpectedError)}else t.except&&t.except.matches(e.activeEditor)?e.closeEditors(e.activeEditor,t.direction):this.openEditor(t.except,null,this.stacks.positionOfGroup(e)).done(function(){t.except.matches(e.activeEditor)&&n.doCloseEditors(e,t)},l.onUnexpectedError)},t.prototype.handleDirty=function(e,t){var i=this;return e.length?this.doHandleDirty(e.shift(),t).then(function(n){return n||i.handleDirty(e,t)}):n.TPromise.as(!1)},t.prototype.doHandleDirty=function(e,t){if(!e||!e.editor||!e.editor.isDirty()||t&&this.countEditors(e.editor)>1)return n.TPromise.as(!1);var i=e.editor;switch(i.confirmSave()){case m.ConfirmResult.SAVE:return i.save().then(function(e){return!e});case m.ConfirmResult.DONT_SAVE:return i.revert().then(function(e){return!e});case m.ConfirmResult.CANCEL:return n.TPromise.as(!0)}},t.prototype.countEditors=function(e){var t=this,n=[e];return e instanceof m.SideBySideEditorInput&&n.push(e.master),n.reduce(function(e,n){return e+=t.stacks.count(n)},0)},t.prototype.getStacksModel=function(){return this.stacks},t.prototype.getActiveEditorInput=function(){var e=this.getActiveEditor();return e?e.input:null},t.prototype.getActiveEditor=function(){return this.editorGroupsControl?this.editorGroupsControl.getActiveEditor():null},t.prototype.getVisibleEditors=function(){return this.visibleEditors?this.visibleEditors.filter(function(e){return!!e}):[]},t.prototype.moveGroup=function(e,t){var n=this,i="number"==typeof e?this.stacks.groupAt(e):e,r="number"==typeof t?this.stacks.groupAt(t):t;if(i&&r&&i!==r){var o=this.stacks.positionOfGroup(i),s=this.stacks.positionOfGroup(r);this.modifyGroups(function(){return n.stacks.moveGroup(i,s)}),this.editorGroupsControl.move(o,s),a.move(this.visibleEditors,o,s),a.move(this.editorOpenToken,o,s),a.move(this.mapEditorInstantiationPromiseToEditor,o,s),a.move(this.instantiatedEditors,o,s),this.focusGroup(i),this._onEditorsMoved.fire()}},t.prototype.moveEditor=function(e,t,n,i){var r="number"==typeof t?this.stacks.groupAt(t):t;if(r)if(t===n)this.doMoveEditorInsideGroups(e,r,i);else{var o="number"==typeof n?n:this.stacks.positionOfGroup(n);this.doMoveEditorAcrossGroups(e,r,o,i)}},t.prototype.doMoveEditorInsideGroups=function(e,t,n){var i=n&&n.index;"number"==typeof i&&t.indexOf(e)!==i&&(t.moveEditor(e,i),t.pin(e))},t.prototype.doMoveEditorAcrossGroups=function(e,t,n,i){if(1!==t.count||this.stacks.groupAt(n)||!(this.stacks.positionOfGroup(t)<n)){var r=i&&i.index,o=i&&i.inactive,s=i&&i.preserveFocus,a=m.EditorOptions.create({pinned:!0,index:r,inactive:o,preserveFocus:s}),c=this.getActiveEditor(),u=d.getCodeEditor(c);u&&c.position===this.stacks.positionOfGroup(t)&&e.matches(c.input)&&(a=m.TextEditorOptions.fromEditor(u,{pinned:!0,index:r,inactive:o,preserveFocus:s})),this.openEditor(e,a,n).done(null,l.onUnexpectedError),this.doCloseEditor(t,e,!1)}},t.prototype.arrangeGroups=function(e){this.editorGroupsControl.arrangeGroups(e)},t.prototype.setGroupOrientation=function(e){this.editorGroupsControl.setGroupOrientation(e),this._onGroupOrientationChanged.fire(),this.renameGroups()},t.prototype.getGroupOrientation=function(){return this.editorGroupsControl.getGroupOrientation()},t.prototype.createContentArea=function(e){var n=this,i=r.$(e).div().addClass("content");this.memento=this.getMemento(this.storageService,f.Scope.WORKSPACE);var o=this.memento[t.EDITOR_PART_UI_STATE_STORAGE_KEY];return this.editorGroupsControl=this.instantiationService.createInstance(b.EditorGroupsControl,i,o&&o.groupOrientation),this.toUnbind.push(this.editorGroupsControl.onGroupFocusChanged(function(){return n.onGroupFocusChanged()})),i},t.prototype.updateStyles=function(){e.prototype.updateStyles.call(this),this.getContainer().style("background-color",this.getColor(R.editorBackground));var t=this.getContentArea(),n=this.stacks.groups.length;n>1?t.addClass("multiple-groups"):t.removeClass("multiple-groups"),t.style("background-color",n>0?this.getColor(M.EDITOR_GROUP_BACKGROUND):null)},t.prototype.onGroupFocusChanged=function(){var e=this.editorGroupsControl.getActivePosition();"number"==typeof e&&this.stacks.setActive(this.stacks.groupAt(e)),this.editorGroupsControl.getActiveEditor()&&this._onEditorsChanged.fire()},t.prototype.replaceEditors=function(e,t){var n=this,i=[],r=[];e.forEach(function(e){e.toReplace.isDirty()||n.stacks.groups.forEach(function(o){if(void 0===t||n.stacks.positionOfGroup(o)===t){var s=o.indexOf(e.toReplace);if(s>=0){e.options?e.options.index=s:e.options=m.EditorOptions.create({index:s});var a={group:o,editor:e.toReplace,replaceWith:e.replaceWith,options:e.options};o.activeEditor.matches(e.toReplace)?i.push(a):r.push(a)}}})}),r.forEach(function(e){var t=e.group;t.openEditor(e.replaceWith,{active:!1,pinned:!0,index:e.options.index}),t.closeEditor(e.editor)});var o=this.openEditors(i.map(function(e){var t=e.group;return{input:e.replaceWith,position:n.stacks.positionOfGroup(t),options:e.options}}));return i.forEach(function(e){n.doCloseEditor(e.group,e.editor,!1)}),o},t.prototype.openEditors=function(e){if(!e.length)return n.TPromise.as([]);var t;this.stacks.activeGroup&&(t=this.stacks.positionOfGroup(this.stacks.activeGroup));var i=this.editorGroupsControl.getRatio();return this.doOpenEditors(e,t,i)},t.prototype.hasEditorsToRestore=function(){return this.stacks.groups.some(function(e){return e.count>0})},t.prototype.restoreEditors=function(){var e=this.stacks.groups.map(function(e,t){return{input:e.activeEditor,position:t,options:e.isPinned(e.activeEditor)?m.EditorOptions.create({pinned:!0}):void 0}});if(!e.length)return n.TPromise.as([]);var i;this.stacks.groups.length&&(i=this.stacks.positionOfGroup(this.stacks.activeGroup));var r=this.memento[t.EDITOR_PART_UI_STATE_STORAGE_KEY];return this.doOpenEditors(e,i,r&&r.ratio)},t.prototype.doOpenEditors=function(e,t,i){var r=this,o=e.filter(function(e){return e.position===C.Position.ONE}),s=e.filter(function(e){return e.position===C.Position.TWO}),a=e.filter(function(e){return e.position===C.Position.THREE}),c=this.stacks.groupAt(C.Position.ONE),l=this.stacks.groupAt(C.Position.TWO),u=this.stacks.groupAt(C.Position.THREE),d=o.length+(c?c.count:0),h=s.length+(l?l.count:0),p=a.length+(u?u.count:0);(!d&&(h||p)||!h&&p)&&(o.push.apply(o,s),o.push.apply(o,a),s.splice(0,s.length),a.splice(0,a.length)),"number"!=typeof t&&(t=C.Position.ONE);var f=a.length?3:s.length?2:1;i&&i.length===f||(i=this.getVisibleEditors().length?void 0:3===f?[.33,.33,.34]:2===f?[.5,.5]:[1]);var g=!1,v=this.stacks.groupAt(t);g=!this.stacks.activeGroup||!v||e.some(function(e){return!e.options||!e.options.inactive&&!e.options.preserveFocus});var y=[];return[o.shift(),s.shift(),a.shift()].forEach(function(e,n){if(e){var o,s=e.input,a=t!==n;e.options?"boolean"!=typeof(o=e.options).preserveFocus&&(o.preserveFocus=a):o=m.EditorOptions.create({preserveFocus:a}),y.push(r.openEditor(s,o,n,i))}}),n.TPromise.join(y).then(function(e){return g&&r.focusGroup(t),[o,s,a].forEach(function(e,t){var n=r.stacks.groupAt(t);n&&e.forEach(function(e){return n.openEditor(e.input,{pinned:!0})})}),r.editorGroupsControl.layout(r.dimension),e})},t.prototype.activateGroup=function(e){var t="number"==typeof e?this.stacks.groupAt(e):e;if(t){this.stacks.setActive(t);var n=this.visibleEditors[this.stacks.positionOfGroup(t)];n&&this.editorGroupsControl.setActive(n)}},t.prototype.focusGroup=function(e){var t="number"==typeof e?this.stacks.groupAt(e):e;if(t){this.activateGroup(t);var n=this.visibleEditors[this.stacks.positionOfGroup(t)];n&&n.focus()}},t.prototype.pinEditor=function(e,t){var n="number"==typeof e?this.stacks.groupAt(e):e;if(n){if(n.isPinned(t))return;n.pin(t)}},t.prototype.unpinEditor=function(e,t){var i=this;if(!t.isDirty()){var r="number"==typeof e?this.stacks.groupAt(e):e;if(r){if(r.isPreview(t))return;var o=n.TPromise.as(!1);r.previewEditor&&(o=this.handleDirty([{group:r,editor:r.previewEditor}],!0)),o.done(function(e){e||(r.isPreview(r.activeEditor)&&!r.activeEditor.matches(t)&&i.doCloseActiveEditor(r),r.unpin(t))})}}},t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t);return this.dimension=n[1],this.editorGroupsControl.layout(this.dimension),this.onLayoutEmitter.fire(t),n},t.prototype.shutdown=function(){var n={ratio:this.editorGroupsControl.getRatio(),groupOrientation:this.editorGroupsControl.getGroupOrientation()};n.ratio.length||"vertical"!==n.groupOrientation?this.memento[t.EDITOR_PART_UI_STATE_STORAGE_KEY]=n:delete this.memento[t.EDITOR_PART_UI_STATE_STORAGE_KEY];for(var i=0;i<this.instantiatedEditors.length;i++)for(var r=0;r<this.instantiatedEditors[i].length;r++)this.instantiatedEditors[i][r].shutdown();e.prototype.shutdown.call(this)},t.prototype.dispose=function(){var t=this;this._onEditorsChanged.dispose(),this._onEditorsMoved.dispose(),this._onEditorOpenFail.dispose(),this.editorOpenToken=[];for(i=0;i<C.POSITIONS.length;i++)this.editorOpenToken[i]=0;this.editorGroupsControl.dispose(),this.visibleEditors.forEach(function(e){e&&e.dispose()});for(var n=this,i=0;i<this.instantiatedEditors.length;i++)!function(e){for(var i=0;i<n.instantiatedEditors[e].length;i++)!function(i){if(n.visibleEditors.some(function(n){return n===t.instantiatedEditors[e][i]}))return"continue";n.instantiatedEditors[e][i].dispose()}(i)}(i);this.visibleEditors=null,e.prototype.dispose.call(this)},t.prototype.findPosition=function(e,t,n,i){if(i&&c.isNumber(n))return n;var r=this.getVisibleEditors(),o=this.getActiveEditor();if(0===r.length||!o)return C.Position.ONE;if(t&&t.revealIfVisible&&(s=this.stacks.findGroup(e,!0)))return this.stacks.positionOfGroup(s);if(!(t&&t.index||!0===n||"number"==typeof n)&&(this.revealIfOpen||t&&t.revealIfOpened)){var s=this.stacks.findGroup(e);if(s)return this.stacks.positionOfGroup(s)}if(c.isUndefinedOrNull(n)||!1===n)return this.editorGroupsControl.getActivePosition()||C.Position.ONE;if(!0===n){switch(o.position){case C.Position.ONE:return C.Position.TWO;case C.Position.TWO:return C.Position.THREE;case C.Position.THREE:return null}return null}return n===C.Position.THREE&&1===r.length?C.Position.TWO:n},t.prototype.startDelayedCloseEditorsFromInputDispose=function(){var e=this;null===this.pendingEditorInputCloseTimeout&&(this.pendingEditorInputCloseTimeout=setTimeout(function(){var t=[],n=[];e.pendingEditorInputsToClose.forEach(function(e){var i=e.group,r=e.editor;i.isActive(r)?t.push(e):i.contains(r)&&n.push(e)}),n.forEach(function(t){return e.doCloseEditor(t.group,t.editor,!1)}),t.sort(function(t,n){return e.stacks.positionOfGroup(n.group)-e.stacks.positionOfGroup(t.group)}).forEach(function(t){return e.doCloseEditor(t.group,t.editor,!1)}),e.pendingEditorInputCloseTimeout=null,e.pendingEditorInputsToClose=[]},0))},t.prototype.rochade=function(e,t){if(c.isUndefinedOrNull(t))switch(e){case b.Rochade.TWO_TO_ONE:this.rochade(C.Position.TWO,C.Position.ONE);break;case b.Rochade.THREE_TO_TWO:this.rochade(C.Position.THREE,C.Position.TWO);break;case b.Rochade.TWO_AND_THREE_TO_ONE:this.rochade(C.Position.TWO,C.Position.ONE),this.rochade(C.Position.THREE,C.Position.TWO)}else{var n=e,i=t;this.doRochade(this.visibleEditors,n,i,null),this.doRochade(this.editorOpenToken,n,i,null),this.doRochade(this.mapEditorInstantiationPromiseToEditor,n,i,Object.create(null)),this.doRochade(this.instantiatedEditors,n,i,[])}},t.prototype.doRochade=function(e,t,n,i){e[n]=e[t],e[t]=i},t.prototype.ensureGroup=function(e,t){var n=this;void 0===t&&(t=!0);var i=this.stacks.groupAt(e);return i?this.renameGroups():this.modifyGroups(function(){for(var r=0;r<e;r++)n.hasGroup(r)||n.stacks.openGroup("",!1,r);i=n.stacks.openGroup("",t,e)}),t&&this.stacks.setActive(i),i},t.prototype.modifyGroups=function(e){e(),this.renameGroups()},t.prototype.renameGroups=function(){var e=this.stacks.groups;if(e.length>0){var n="horizontal"!==this.editorGroupsControl.getGroupOrientation();e.length>2?(this.stacks.renameGroup(this.stacks.groupAt(C.Position.ONE),n?t.GROUP_LEFT:t.GROUP_TOP),this.stacks.renameGroup(this.stacks.groupAt(C.Position.TWO),n?t.GROUP_CENTER:t.GROUP_MIDDLE),this.stacks.renameGroup(this.stacks.groupAt(C.Position.THREE),n?t.GROUP_RIGHT:t.GROUP_BOTTOM)):e.length>1?(this.stacks.renameGroup(this.stacks.groupAt(C.Position.ONE),n?t.GROUP_LEFT:t.GROUP_TOP),this.stacks.renameGroup(this.stacks.groupAt(C.Position.TWO),n?t.GROUP_RIGHT:t.GROUP_BOTTOM)):this.stacks.renameGroup(this.stacks.groupAt(C.Position.ONE),n?t.GROUP_LEFT:t.GROUP_TOP)}},t.prototype.hasGroup=function(e){return!!this.stacks.groupAt(e)},t}(g.Part);F.GROUP_LEFT=o.localize(0,null),F.GROUP_CENTER=o.localize(1,null),F.GROUP_RIGHT=o.localize(2,null),F.GROUP_TOP=o.localize(3,null),F.GROUP_MIDDLE=o.localize(4,null),F.GROUP_BOTTOM=o.localize(5,null),F.EDITOR_PART_UI_STATE_STORAGE_KEY="editorpart.uiState",F=v([y(2,k.IMessageService),y(3,x.ITelemetryService),y(4,w.IStorageService),y(5,E.IPartService),y(6,_.IConfigurationService),y(7,D.IContextKeyService),y(8,I.IInstantiationService),y(9,O.IThemeService)],F),t.EditorPart=F}),define(u[1325],d([1,0,527,4,40,15,88,390,106,47,31,41,20,19,38,6,49,1135,13,74,29,431]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var w=function(e){function t(n,i,r,a,l,u,d,h,p){var f=e.call(this,i,r,a,l,u,d,h,p,o.Registry.as(c.Extensions.Panels),t.activePanelSettingsKey,o.Registry.as(c.Extensions.Panels).getDefaultPanelId(),"panel","panel",s.Scope.PANEL,null,n,{hasTitle:!0})||this;return f.panelIdToActions=Object.create(null),f.registerListeners(),f}return h(t,e),t.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.onDidPanelOpen(function(t){return e.updatePanelActions(t.getId(),!0)})),this.toUnbind.push(this.onDidPanelClose(function(t){return e.updatePanelActions(t.getId(),!1)}))},t.prototype.updatePanelActions=function(e,t){this.panelIdToActions[e]&&(t?this.panelIdToActions[e].activate():this.panelIdToActions[e].deactivate())},Object.defineProperty(t.prototype,"onDidPanelOpen",{get:function(){return this._onDidCompositeOpen.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidPanelClose",{get:function(){return this._onDidCompositeClose.event},enumerable:!0,configurable:!0}),t.prototype.updateStyles=function(){e.prototype.updateStyles.call(this),this.getContainer().style("background-color",this.getColor(E.PANEL_BACKGROUND)),this.getTitleArea().style("border-top-color",this.getColor(E.PANEL_BORDER)||this.getColor(C.contrastBorder))},t.prototype.openPanel=function(e,t){var n=this;if(this.blockOpeningPanel)return i.TPromise.as(null);var r=i.TPromise.as(null);if(!this.partService.isVisible(l.Parts.PANEL_PART))try{this.blockOpeningPanel=!0,r=this.partService.setPanelHidden(!1)}finally{this.blockOpeningPanel=!1}return r.then(function(){return n.openComposite(e,t)})},t.prototype.getPanels=function(){return o.Registry.as(c.Extensions.Panels).getPanels().sort(function(e,t){return e.order-t.order})},t.prototype.getActions=function(){return[this.instantiationService.createInstance(S.ToggleMaximizedPanelAction,S.ToggleMaximizedPanelAction.ID,S.ToggleMaximizedPanelAction.LABEL),this.instantiationService.createInstance(S.ClosePanelAction,S.ClosePanelAction.ID,S.ClosePanelAction.LABEL)]},t.prototype.getActivePanel=function(){return this.getActiveComposite()},t.prototype.getLastActivePanelId=function(){return this.getLastActiveCompositetId()},t.prototype.hideActivePanel=function(){return this.hideActiveComposite().then(function(e){})},t.prototype.createTitleLabel=function(e){var t=this,i=r.$(e).div({class:["panel-switcher-container"]});return this.panelSwitcherBar=new b.ActionBar(i,{orientation:b.ActionsOrientation.HORIZONTAL,ariaLabel:n.localize(0,null),animated:!1}),this.toUnbind.push(this.panelSwitcherBar),this.fillPanelSwitcher(),{updateTitle:function(e,n,i){var r=t.panelIdToActions[e];r&&(r.label=n)},updateStyles:function(){}}},t.prototype.fillPanelSwitcher=function(){var e=this,t=this.getPanels();this.panelSwitcherBar.push(t.map(function(t){var n=e.instantiationService.createInstance(S.PanelAction,t);return e.panelIdToActions[t.id]=n,e.toUnbind.push(n),n}))},t}(a.CompositePart);w.activePanelSettingsKey="workbench.panelpart.activepanelid",w=v([y(1,p.IMessageService),y(2,u.IStorageService),y(3,f.ITelemetryService),y(4,d.IContextMenuService),y(5,l.IPartService),y(6,g.IKeybindingService),y(7,m.IInstantiationService),y(8,_.IThemeService)],w),t.PanelPart=w,_.registerThemingParticipant(function(e,t){var n=e.getColor(E.PANEL_BACKGROUND);n&&n!==e.getColor(C.editorBackground)&&t.addRule("\n\t\t\t.monaco-workbench > .part.panel > .content .monaco-editor,\n\t\t\t.monaco-workbench > .part.panel > .content .monaco-editor .margin,\n\t\t\t.monaco-workbench > .part.panel > .content .monaco-editor .monaco-editor-background {\n\t\t\t\tbackground-color: "+n+";\n\t\t\t}\n\t\t");var i=e.getColor(E.PANEL_ACTIVE_TITLE_FOREGROUND),r=e.getColor(E.PANEL_ACTIVE_TITLE_BORDER);(i||r)&&t.addRule("\n\t\t\t.monaco-workbench > .part.panel > .title > .panel-switcher-container > .monaco-action-bar .action-item:hover .action-label,\n\t\t\t.monaco-workbench > .part.panel > .title > .panel-switcher-container > .monaco-action-bar .action-item .action-label.checked {\n\t\t\t\tcolor: "+i+";\n\t\t\t\tborder-bottom-color: "+r+";\n\t\t\t}\n\t\t");var o=e.getColor(E.PANEL_INACTIVE_TITLE_FOREGROUND);o&&t.addRule("\n\t\t\t.monaco-workbench > .part.panel > .title > .panel-switcher-container > .monaco-action-bar .action-item .action-label {\n\t\t\t\tcolor: "+o+";\n\t\t\t}\n\t\t");var s=e.getColor(C.focusBorder);if(s&&t.addRule("\n\t\t\t.monaco-workbench > .part.panel > .title > .panel-switcher-container > .monaco-action-bar .action-item .action-label:focus {\n\t\t\t\tcolor: "+i+";\n\t\t\t\tborder-bottom-color: "+s+" !important;\n\t\t\t\tborder-bottom: 1px solid;\n\t\t\t\toutline: none;\n\t\t\t}\n\t\t"),e.getColor(C.activeContrastBorder)){var a=e.getColor(C.activeContrastBorder);t.addRule("\n\t\t\t.monaco-workbench > .part.panel > .title > .panel-switcher-container > .monaco-action-bar .action-item .action-label.checked,\n\t\t\t.monaco-workbench > .part.panel > .title > .panel-switcher-container > .monaco-action-bar .action-item .action-label:hover {\n\t\t\t\toutline-color: "+a+";\n\t\t\t\toutline-width: 1px;\n\t\t\t\toutline-style: solid;\n\t\t\t\tborder-bottom: none;\n\t\t\t\tpadding-bottom: 0;\n\t\t\t\toutline-offset: 3px;\n\t\t\t}\n\n\t\t\t.monaco-workbench > .part.panel > .title > .panel-switcher-container > .monaco-action-bar .action-item .action-label:hover:not(.checked) {\n\t\t\t\toutline-style: dashed;\n\t\t\t}\n\t\t")}})}),define(u[1326],d([1,0,4,530,15,21,390,103,50,35,57,47,88,31,41,20,19,38,6,13,29,74,1004]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var I=function(e){function t(n,i,o,s,c,l,u,d,h){var f=e.call(this,i,o,s,c,l,u,d,h,r.Registry.as(a.Extensions.Viewlets),t.activeViewletSettingsKey,r.Registry.as(a.Extensions.Viewlets).getDefaultViewletId(),"sideBar","viewlet",p.Scope.VIEWLET,w.SIDE_BAR_TITLE_FOREGROUND,n,{hasTitle:!0,borderWidth:function(){return f.getColor(w.SIDE_BAR_BORDER)||f.getColor(C.contrastBorder)?1:0}})||this;return f}return h(t,e),Object.defineProperty(t.prototype,"onDidViewletOpen",{get:function(){return this._onDidCompositeOpen.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidViewletClose",{get:function(){return this._onDidCompositeClose.event},enumerable:!0,configurable:!0}),t.prototype.updateStyles=function(){e.prototype.updateStyles.call(this);var t=this.getContainer();t.style("background-color",this.getColor(w.SIDE_BAR_BACKGROUND)),t.style("color",this.getColor(w.SIDE_BAR_FOREGROUND));var n=this.getColor(w.SIDE_BAR_BORDER)||this.getColor(C.contrastBorder),i=this.partService.getSideBarPosition()===d.Position.LEFT;t.style("border-right-width",n&&i?"1px":null),t.style("border-right-style",n&&i?"solid":null),t.style("border-right-color",i?n:null),t.style("border-left-width",n&&!i?"1px":null),t.style("border-left-style",n&&!i?"solid":null),t.style("border-left-color",i?null:n)},t.prototype.openViewlet=function(e,t){var i=this;if(this.blockOpeningViewlet)return n.TPromise.as(null);var r=n.TPromise.as(null);if(!this.partService.isVisible(d.Parts.SIDEBAR_PART))try{this.blockOpeningViewlet=!0,r=this.partService.setSideBarHidden(!1)}finally{this.blockOpeningViewlet=!1}return r.then(function(){return i.openComposite(e,t)})},t.prototype.getActiveViewlet=function(){return this.getActiveComposite()},t.prototype.getLastActiveViewletId=function(){return this.getLastActiveCompositetId()},t.prototype.hideActiveViewlet=function(){return this.hideActiveComposite().then(function(e){})},t}(s.CompositePart);I.activeViewletSettingsKey="workbench.sidebar.activeviewletid",I=v([y(1,m.IMessageService),y(2,f.IStorageService),y(3,b.ITelemetryService),y(4,g.IContextMenuService),y(5,d.IPartService),y(6,S.IKeybindingService),y(7,_.IInstantiationService),y(8,E.IThemeService)],I),t.SidebarPart=I;var T=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.viewletService=i,o.partService=r,o}return h(t,e),t.prototype.run=function(){if(!this.partService.isVisible(d.Parts.SIDEBAR_PART))return this.partService.setSideBarHidden(!1);var e=this.viewletService.getActiveViewlet();return e&&e.focus(),n.TPromise.as(!0)},t}(o.Action);T.ID="workbench.action.focusSideBar",T.LABEL=i.localize(0,null),T=v([y(2,u.IViewletService),y(3,d.IPartService)],T),r.Registry.as(c.Extensions.WorkbenchActions).registerWorkbenchAction(new l.SyncActionDescriptor(T,T.ID,T.LABEL,{primary:2069}),"View: Focus into Side Bar",i.localize(1,null))}),define(u[1327],d([1,0,9,728,175,5,109,57,291,15,218,4,18,938]),function(e,t,n,i,r,o,s,a,c,l,u,d,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(){e.Instance=this}return e.prototype.render=function(e){return this._element=e,this._label=new c.OcticonLabel(this._element),this._element.classList.add("progress"),this.hide(),null},Object.defineProperty(e.prototype,"text",{set:function(e){this._label.text=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{set:function(e){this._label.title=e},enumerable:!0,configurable:!0}),e.prototype.hide=function(){n.hide(this._element)},e.prototype.show=function(){n.show(this._element)},e}(),f=function(){function e(e,t){this._activityBar=e,this._viewletService=t,this._stack=[]}return e.prototype.withProgress=function(e,t){var n=e.location;switch(n){case s.ProgressLocation.Window:this._withWindowProgress(e,t);break;case s.ProgressLocation.Scm:this._withViewletProgress("workbench.view.scm",t);break;default:console.warn("Bad progress location: "+n)}},e.prototype._withWindowProgress=function(e,t){var n=this,i=[e,new s.Progress(function(){return n._updateWindowProgress()})],r=t(i[1]),o=setTimeout(function(){o=void 0,n._stack.unshift(i),n._updateWindowProgress(),h.always(d.TPromise.join([d.TPromise.timeout(150),r]),function(){var e=n._stack.indexOf(i);n._stack.splice(e,1),n._updateWindowProgress()})},150);h.always(r,function(){return clearTimeout(o)})},e.prototype._updateWindowProgress=function(e){if(void 0===e&&(e=0),e>=this._stack.length)p.Instance.hide();else{var t=this._stack[e],n=t[0],r=t[1],o=n.title;if(r.value&&r.value.message&&(o=n.title?i.localize(0,null,r.value.message,n.title):r.value.message),!o)return void this._updateWindowProgress(e+1);var s=o;n.tooltip&&(s=i.localize(1,null,n.tooltip,o)),p.Instance.text=o,p.Instance.title=s,p.Instance.show()}},e.prototype._withViewletProgress=function(e,t){var n=this,i=t(s.emptyProgress),a=this._viewletService.getProgressIndicator(e);a&&a.showWhile(i);var c,l=setTimeout(function(){l=void 0;var t=n._activityBar.showActivity(e,new r.ProgressBadge(function(){return""}),"progress-badge"),i=Date.now();c={dispose:function(){var e=Date.now()-i;e<150?setTimeout(function(){return t.dispose()},150-e):t.dispose()}}},150);h.always(i,function(){clearTimeout(l),o.dispose(c)})},e}();f=v([y(0,r.IActivityBarService),y(1,a.IViewletService)],f),t.ProgressService2=f,l.Registry.as(u.Extensions.Statusbar).registerStatusbarItem(new u.StatusbarItemDescriptor(p,u.StatusbarAlignment.LEFT))}),define(u[1328],d([1,0,4,15,103,59]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){this.extensionService=t,this.sidebarPart=e,this.viewletRegistry=i.Registry.as(r.Extensions.Viewlets),this.loadExtensionViewlets()}return Object.defineProperty(e.prototype,"onDidViewletOpen",{get:function(){return this.sidebarPart.onDidViewletOpen},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidViewletClose",{get:function(){return this.sidebarPart.onDidViewletClose},enumerable:!0,configurable:!0}),e.prototype.loadExtensionViewlets=function(){var e=this;this.extensionViewlets=[],this.extensionViewletsLoaded=new n.TPromise(function(t){e.extensionViewletsLoadedPromiseComplete=t}),this.extensionService.onReady().then(function(){e.viewletRegistry.getViewlets().forEach(function(t){t.extensionId&&e.extensionViewlets.push(t)}),e.extensionViewletsLoadedPromiseComplete(void 0)})},e.prototype.openViewlet=function(e,t){var n=this;return-1!==this.getBuiltInViewlets().map(function(e){return e.id}).indexOf(e)?this.sidebarPart.openViewlet(e,t):this.extensionViewletsLoaded.then(function(){return n.viewletRegistry.getViewlet(e)?n.sidebarPart.openViewlet(e,t):n.sidebarPart.openViewlet(n.getDefaultViewletId(),t)})},e.prototype.getActiveViewlet=function(){return this.sidebarPart.getActiveViewlet()},e.prototype.getViewlets=function(){return this.getBuiltInViewlets().concat(this.extensionViewlets)},e.prototype.getBuiltInViewlets=function(){return this.viewletRegistry.getViewlets().filter(function(e){return!e.extensionId}).sort(function(e,t){return e.order-t.order})},e.prototype.getDefaultViewletId=function(){return this.viewletRegistry.getDefaultViewletId()},e.prototype.getViewlet=function(e){return this.getViewlets().filter(function(t){return t.id===e})[0]},e.prototype.getProgressIndicator=function(e){return this.sidebarPart.getProgressIndicator(e)},e}();s=v([y(1,o.IExtensionService)],s),t.ViewletService=s}),define(u[129],d([1,0,6,8,97]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r.remote.getCurrentWindow().id;t.IWindowIPCService=n.createDecorator("windowIPCService");var s=function(){function e(){this._onBroadcast=new i.Emitter,this.windowId=o,this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;r.ipcRenderer.on("vscode:broadcast",function(t,n){e._onBroadcast.fire(n)})},Object.defineProperty(e.prototype,"onBroadcast",{get:function(){return this._onBroadcast.event},enumerable:!0,configurable:!0}),e.prototype.getWindowId=function(){return this.windowId},e.prototype.getWindow=function(){return this.win},e.prototype.registerWindow=function(e){this.win=e},e.prototype.broadcast=function(e,t){r.ipcRenderer.send("vscode:broadcast",this.getWindowId(),t,{channel:e.channel,payload:e.payload})},e}();t.WindowIPCService=s}),define(u[168],d([1,0,16,131,4,21,129,62,22,536,80,136,7,20,27,39,65,23,87,104,28,11,54,66,238,281,45,78,47,57,38,96,97,82]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A,L,P,D,O,R,M,N){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var F=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.editorService=i,r}return h(t,e),t.prototype.run=function(){var e=this.editorService.getActiveEditor();return e?this.editorService.closeEditor(e.position,e.input):r.TPromise.as(null)},t}(o.Action);F.ID="workbench.action.closeActiveEditor",F.LABEL=l.localize(0,null),F=v([y(2,c.IWorkbenchEditorService)],F),t.CloseEditorAction=F;var W=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.windowService=i,r}return h(t,e),t.prototype.run=function(){return this.windowService.getWindow().close(),r.TPromise.as(!0)},t}(o.Action);W.ID="workbench.action.closeWindow",W.LABEL=l.localize(1,null),W=v([y(2,s.IWindowIPCService)],W),t.CloseWindowAction=W;var B=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n)||this;return s.contextService=i,s.messageService=r,s.windowService=o,s}return h(t,e),t.prototype.run=function(){return this.contextService.hasWorkspace()?this.windowService.closeFolder():(this.messageService.show(f.Severity.Info,l.localize(3,null)),r.TPromise.as(null))},t}(o.Action);B.ID="workbench.action.closeFolder",B.LABEL=l.localize(2,null),B=v([y(2,g.IWorkspaceContextService),y(3,f.IMessageService),y(4,a.IWindowService)],B),t.CloseFolderAction=B;var V=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.windowsService=i,r}return h(t,e),t.prototype.run=function(){return this.windowsService.openNewWindow()},t}(o.Action);V.ID="workbench.action.newWindow",V.LABEL=l.localize(4,null),V=v([y(2,a.IWindowsService)],V),t.NewWindowAction=V;var z=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.windowService=i,r}return h(t,e),t.prototype.run=function(){return this.windowService.toggleFullScreen()},t}(o.Action);z.ID="workbench.action.toggleFullScreen",z.LABEL=l.localize(5,null),z=v([y(2,a.IWindowService)],z),t.ToggleFullScreenAction=z;var H=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n)||this;return s.messageService=i,s.configurationService=r,s.configurationEditingService=o,s}return h(t,e),t.prototype.run=function(){var e=this.configurationService.lookup(t.menuBarVisibilityKey).value;"string"!=typeof e&&(e="default");var n;return n="visible"===e||"default"===e?"toggle":"default",this.configurationEditingService.writeConfiguration(b.ConfigurationTarget.USER,{key:t.menuBarVisibilityKey,value:n}),r.TPromise.as(null)},t}(o.Action);H.ID="workbench.action.toggleMenuBar",H.LABEL=l.localize(6,null),H.menuBarVisibilityKey="window.menuBarVisibility",H=v([y(2,f.IMessageService),y(3,S.IConfigurationService),y(4,b.IConfigurationEditingService)],H),t.ToggleMenuBarAction=H;var K=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.windowsService=i,r}return h(t,e),t.prototype.run=function(){return this.windowsService.toggleDevTools()},t}(o.Action);K.ID="workbench.action.toggleDevTools",K.LABEL=l.localize(7,null),K=v([y(2,a.IWindowService)],K),t.ToggleDevToolsAction=K;var U=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.configurationService=i,o.configurationEditingService=r,o}return h(t,e),t.prototype.setConfiguredZoomLevel=function(e){var n=b.ConfigurationTarget.USER;"number"==typeof this.configurationService.lookup(t.SETTING_KEY).workspace&&(n=b.ConfigurationTarget.WORKSPACE),e=Math.round(e);var i=function(){M.webFrame.setZoomLevel(e),T.setZoomFactor(M.webFrame.getZoomFactor()),T.setZoomLevel(M.webFrame.getZoomLevel(),!1)};this.configurationEditingService.writeConfiguration(n,{key:t.SETTING_KEY,value:e},{donotNotifyError:!0}).done(function(){return i()},function(e){return i()})},t}(o.Action);U.SETTING_KEY="window.zoomLevel",U=v([y(2,E.IWorkspaceConfigurationService),y(3,b.IConfigurationEditingService)],U),t.BaseZoomAction=U;var j=function(e){function t(t,n,i,r){return e.call(this,t,n,i,r)||this}return h(t,e),t.prototype.run=function(){return this.setConfiguredZoomLevel(M.webFrame.getZoomLevel()+1),r.TPromise.as(!0)},t}(U);j.ID="workbench.action.zoomIn",j.LABEL=l.localize(8,null),j=v([y(2,E.IWorkspaceConfigurationService),y(3,b.IConfigurationEditingService)],j),t.ZoomInAction=j;var G=function(e){function t(t,n,i,r){return e.call(this,t,n,i,r)||this}return h(t,e),t.prototype.run=function(){return this.setConfiguredZoomLevel(M.webFrame.getZoomLevel()-1),r.TPromise.as(!0)},t}(U);G.ID="workbench.action.zoomOut",G.LABEL=l.localize(9,null),G=v([y(2,E.IWorkspaceConfigurationService),y(3,b.IConfigurationEditingService)],G),t.ZoomOutAction=G;var q=function(e){function t(t,n,i,r){return e.call(this,t,n,i,r)||this}return h(t,e),t.prototype.run=function(){return this.setConfiguredZoomLevel(0),r.TPromise.as(!0)},t}(U);q.ID="workbench.action.zoomReset",q.LABEL=l.localize(10,null),q=v([y(2,E.IWorkspaceConfigurationService),y(3,b.IConfigurationEditingService)],q),t.ZoomResetAction=q;var $;!function(e){e[e.LoaderAvailable=1]="LoaderAvailable",e[e.BeginLoadingScript=10]="BeginLoadingScript",e[e.EndLoadingScriptOK=11]="EndLoadingScriptOK",e[e.EndLoadingScriptError=12]="EndLoadingScriptError",e[e.BeginInvokeFactory=21]="BeginInvokeFactory",e[e.EndInvokeFactory=22]="EndInvokeFactory",e[e.NodeBeginEvaluatingScript=31]="NodeBeginEvaluatingScript",e[e.NodeEndEvaluatingScript=32]="NodeEndEvaluatingScript",e[e.NodeBeginNativeRequire=33]="NodeBeginNativeRequire",e[e.NodeEndNativeRequire=34]="NodeEndNativeRequire"}($||($={}));var Y=function(t){function n(e,n,i,r,o){var s=t.call(this,e,n)||this;return s.windowService=i,s.timerService=r,s.environmentService=o,s}return h(n,t),n.prototype.run=function(){var e=this;return this.windowService.openDevTools(),setTimeout(function(){console.group("Startup Performance Measurement");var t=e.timerService.startupMetrics;console.log("OS: "+t.platform+" ("+t.release+")"),console.log("CPUs: "+t.cpus.model+" ("+t.cpus.count+" x "+t.cpus.speed+")"),console.log("Memory (System): "+(t.totalmem/1073741824).toFixed(2)+"GB ("+(t.freemem/1073741824).toFixed(2)+"GB free)"),console.log("Memory (Process): "+(t.meminfo.workingSetSize/1024).toFixed(2)+"MB working set ("+(t.meminfo.peakWorkingSetSize/1024).toFixed(2)+"MB peak, "+(t.meminfo.privateBytes/1024).toFixed(2)+"MB private, "+(t.meminfo.sharedBytes/1024).toFixed(2)+"MB shared)"),console.log("VM (likelyhood): "+t.isVMLikelyhood+"%"),console.log("Initial Startup: "+t.initialStartup),console.log("Screen Reader Active: "+t.hasAccessibilitySupport),console.log("Empty Workspace: "+t.emptyWorkbench);var n;if(e.environmentService.performance){var i=e.analyzeNodeModulesLoadTimes();n=i.duration,i.table}if(console.table(e.getStartupMetricsTable(n)),e.environmentService.performance){var r=e.analyzeLoaderStats();for(var o in r)console.groupCollapsed("Loader: "+o),console.table(r[o]),console.groupEnd()}console.groupEnd()},1e3),r.TPromise.as(!0)},n.prototype.getStartupMetricsTable=function(e){var t=[],n=this.timerService.startupMetrics;return n.initialStartup&&(t.push({Topic:"[main] start => app.isReady","Took (ms)":n.timers.ellapsedAppReady}),t.push({Topic:"[main] app.isReady => window.loadUrl()","Took (ms)":n.timers.ellapsedWindowLoad})),t.push({Topic:"[renderer] window.loadUrl() => begin to require(workbench.main.js)","Took (ms)":n.timers.ellapsedWindowLoadToRequire}),t.push({Topic:"[renderer] require(workbench.main.js)","Took (ms)":n.timers.ellapsedRequire}),e&&t.push({Topic:"[renderer] -> of which require() node_modules","Took (ms)":e}),t.push({Topic:"[renderer] create extension host => extensions onReady()","Took (ms)":n.timers.ellapsedExtensions}),t.push({Topic:"[renderer] restore viewlet","Took (ms)":n.timers.ellapsedViewletRestore}),t.push({Topic:"[renderer] restore editor view state","Took (ms)":n.timers.ellapsedEditorRestore}),t.push({Topic:"[renderer] overall workbench load","Took (ms)":n.timers.ellapsedWorkbench}),t.push({Topic:"------------------------------------------------------"}),t.push({Topic:"[main, renderer] start => extensions ready","Took (ms)":n.timers.ellapsedExtensionsReady}),t.push({Topic:"[main, renderer] start => workbench ready","Took (ms)":n.ellapsed}),t},n.prototype.analyzeNodeModulesLoadTimes=function(){for(var t=e.getStats(),n=[],i=0,r=0,o=t.length;r<o;r++)if(t[r].type===$.NodeEndNativeRequire&&t[r-1].type===$.NodeBeginNativeRequire&&t[r-1].detail===t[r].detail){var s={},a=t[r].timestamp-t[r-1].timestamp;s.Event="nodeRequire "+t[r].detail,s["Took (ms)"]=a.toFixed(2),i+=a,s["Start (ms)"]="**"+t[r-1].timestamp.toFixed(2),s["End (ms)"]="**"+t[r-1].timestamp.toFixed(2),n.push(s)}return i>0&&(n.push({Event:"------------------------------------------------------"}),(s={}).Event="[renderer] total require() node_modules",s["Took (ms)"]=i.toFixed(2),s["Start (ms)"]="**",s["End (ms)"]="**",n.push(s)),{table:n,duration:Math.round(i)}},n.prototype.analyzeLoaderStats=function(){function t(e){for(var t=0,n=0,i=e;n<i.length;n++)t+=i[n].duration;return t}for(var n=e.getStats().slice(0).sort(function(e,t){return e.detail<t.detail?-1:e.detail>t.detail?1:e.type<t.type?-1:e.type>t.type?1:0}),i=function(){function e(e,t){this.start=e,this.end=t,console.assert(e.detail===t.detail),this.duration=this.end.timestamp-this.start.timestamp,this.detail=e.detail}return e.prototype.toTableObject=function(){return e={},e.Path=this.start.detail,e["Took (ms)"]=this.duration.toFixed(2),e;var e},e.compareUsingStartTimestamp=function(e,t){return e.start.timestamp<t.start.timestamp?-1:e.start.timestamp>t.start.timestamp?1:0},e}(),r=(l={},l[$.BeginLoadingScript]=[],l[$.BeginInvokeFactory]=[],l[$.NodeBeginEvaluatingScript]=[],l[$.NodeBeginNativeRequire]=[],l),o=1;o<n.length-1;o++){var s=n[o],a=n[o+1];if(a.type-s.type>2)break;o+=1,r[s.type].push(new i(s,a))}r[$.BeginInvokeFactory].sort(i.compareUsingStartTimestamp),r[$.BeginInvokeFactory].sort(i.compareUsingStartTimestamp),r[$.NodeBeginEvaluatingScript].sort(i.compareUsingStartTimestamp),r[$.NodeBeginNativeRequire].sort(i.compareUsingStartTimestamp);var c={"Load Script":r[$.BeginLoadingScript].map(function(e){return e.toTableObject()}),"(Node) Load Script":r[$.NodeBeginNativeRequire].map(function(e){return e.toTableObject()}),"Eval Script":r[$.BeginInvokeFactory].map(function(e){return e.toTableObject()}),"(Node) Eval Script":r[$.NodeBeginEvaluatingScript].map(function(e){return e.toTableObject()})};return c["Load Script"].push((u={},u.Path="TOTAL TIME",u["Took (ms)"]=t(r[$.BeginLoadingScript]).toFixed(2),u)),c["Eval Script"].push((d={},d.Path="TOTAL TIME",d["Took (ms)"]=t(r[$.BeginInvokeFactory]).toFixed(2),d)),c["(Node) Load Script"].push((h={},h.Path="TOTAL TIME",h["Took (ms)"]=t(r[$.NodeBeginNativeRequire]).toFixed(2),h)),c["(Node) Eval Script"].push((p={},p.Path="TOTAL TIME",p["Took (ms)"]=t(r[$.NodeBeginEvaluatingScript]).toFixed(2),p)),c;var l,u,d,h,p},n}(o.Action);Y.ID="workbench.action.appPerf",Y.LABEL=l.localize(11,null),Y=v([y(2,a.IWindowService),y(3,x.ITimerService),y(4,m.IEnvironmentService)],Y),t.ShowStartupPerformance=Y;var X=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.windowService=i,r}return h(t,e),t.prototype.run=function(){return this.windowService.reloadWindow().then(function(){return!0})},t}(o.Action);X.ID="workbench.action.reloadWindow",X.LABEL=l.localize(12,null),X=v([y(2,a.IWindowService)],X),t.ReloadWindowAction=X;var Q=function(e){function t(t,n,i,r,o,s){var a=e.call(this,t,n)||this;return a.windowsService=i,a.windowService=r,a.quickOpenService=o,a.keybindingService=s,a}return h(t,e),t.prototype.run=function(){var e=this,t=this.windowService.getCurrentWindowId();return this.windowsService.getWindows().then(function(i){var r=l.localize(13,null),o=i.map(function(i){return{resource:i.filename?n.default.file(i.filename):i.path,isFolder:!i.filename&&!!i.path,label:i.title,description:t===i.id?l.localize(14,null):void 0,run:function(){setTimeout(function(){e.windowsService.showWindow(i.id).done(null,p.onUnexpectedError)})}}});e.quickOpenService.pick(o,{contextKey:"inWindowsPicker",autoFocus:{autoFocusFirstEntry:!0},placeHolder:r,quickNavigateConfiguration:e.isQuickNavigate()?{keybindings:e.keybindingService.lookupKeybindings(e.id)}:void 0})})},t}(o.Action);t.BaseSwitchWindow=Q;var Z=function(e){function t(t,n,i,r,o,s){return e.call(this,t,n,i,r,o,s)||this}return h(t,e),t.prototype.isQuickNavigate=function(){return!1},t}(Q);Z.ID="workbench.action.switchWindow",Z.LABEL=l.localize(15,null),Z=v([y(2,a.IWindowsService),y(3,a.IWindowService),y(4,I.IQuickOpenService),y(5,O.IKeybindingService)],Z),t.SwitchWindow=Z;var J=function(e){function t(t,n,i,r,o,s){return e.call(this,t,n,i,r,o,s)||this}return h(t,e),t.prototype.isQuickNavigate=function(){return!0},t}(Q);J.ID="workbench.action.quickSwitchWindow",J.LABEL=l.localize(16,null),J=v([y(2,a.IWindowsService),y(3,a.IWindowService),y(4,I.IQuickOpenService),y(5,O.IKeybindingService)],J),t.QuickSwitchWindow=J,t.inRecentFilesPickerContextKey="inRecentFilesPicker";var ee=function(e){function i(t,n,i,r,o,s,a,c){var l=e.call(this,t,n)||this;return l.windowsService=i,l.windowService=r,l.quickOpenService=o,l.contextService=s,l.environmentService=a,l.keybindingService=c,l}return h(i,e),i.prototype.run=function(){var e=this;return this.windowService.getRecentlyOpen().then(function(t){var n=t.files,i=t.folders;return e.openRecent(n,i)})},i.prototype.openRecent=function(e,i){function r(e,t,i,r){return{resource:n.default.file(e),isFolder:i,label:C.basename(e),description:N.getPathLabel(C.dirname(e),null,r),separator:t,run:function(t){setTimeout(function(){s(e,t)})}}}var o=this,s=function(e,t){var n=t.keymods.indexOf(2048)>=0;o.windowsService.openWindow([e],{forceNewWindow:n})},a=i.map(function(e,t){return r(e,0===t?{label:l.localize(17,null)}:void 0,!0,o.environmentService)}),c=e.map(function(e,t){return r(e,0===t?{label:l.localize(18,null),border:!0}:void 0,!1,o.environmentService)}),u=this.contextService.hasWorkspace();this.quickOpenService.pick(a.concat.apply(a,c),{contextKey:t.inRecentFilesPickerContextKey,autoFocus:{autoFocusFirstEntry:!u,autoFocusSecondEntry:u},placeHolder:w.isMacintosh?l.localize(19,null):l.localize(20,null),matchOnDescription:!0,quickNavigateConfiguration:this.isQuickNavigate()?{keybindings:this.keybindingService.lookupKeybindings(this.id)}:void 0}).done(null,p.onUnexpectedError)},i}(o.Action);t.BaseOpenRecentAction=ee;var te=function(e){function t(t,n,i,r,o,s,a,c){return e.call(this,t,n,i,r,o,s,a,c)||this}return h(t,e),t.prototype.isQuickNavigate=function(){return!1},t}(ee);te.ID="workbench.action.openRecent",te.LABEL=l.localize(21,null),te=v([y(2,a.IWindowsService),y(3,a.IWindowService),y(4,I.IQuickOpenService),y(5,g.IWorkspaceContextService),y(6,m.IEnvironmentService),y(7,O.IKeybindingService)],te),t.OpenRecentAction=te;var ne=function(e){function t(t,n,i,r,o,s,a,c){return e.call(this,t,n,i,r,o,s,a,c)||this}return h(t,e),t.prototype.isQuickNavigate=function(){return!0},t}(ee);ne.ID="workbench.action.quickOpenRecent",ne.LABEL=l.localize(22,null),ne=v([y(2,a.IWindowsService),y(3,a.IWindowService),y(4,I.IQuickOpenService),y(5,g.IWorkspaceContextService),y(6,m.IEnvironmentService),y(7,O.IKeybindingService)],ne),t.QuickOpenRecentAction=ne;var ie=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.messageService=i,o.editorService=r,o}return h(t,e),t.prototype.run=function(){this.messageService.hideAll();var e=this.editorService.getActiveEditor();return e&&e.focus(),r.TPromise.as(!0)},t}(o.Action);ie.ID="workbench.action.closeMessages",ie.LABEL=l.localize(23,null),ie=v([y(2,f.IMessageService),y(3,c.IWorkbenchEditorService)],ie),t.CloseMessagesAction=ie;var re=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.integrityService=i,o.extensionManagementService=r,o}return h(t,e),t.prototype._optimisticIsPure=function(){var e=!0,t=this.integrityService.isPure().then(function(t){e=t.isPure});return r.TPromise.any([r.TPromise.timeout(100),t]).then(function(){return e})},t.prototype.run=function(){var e=this;return this._optimisticIsPure().then(function(t){return e.extensionManagementService.getInstalled(_.LocalExtensionType.User).then(function(n){var i=e.generateNewIssueUrl(u.default.reportIssueUrl,d.default.name,d.default.version,u.default.commit,u.default.date,t,n);return window.open(i),r.TPromise.as(!0)})})},t.prototype.generateNewIssueUrl=function(e,t,n,i,r,o,s){var a=R.type()+" "+R.arch()+" "+R.release();return""+e+(-1===e.indexOf("?")?"?":"&")+"body="+encodeURIComponent("- VSCode Version: "+t+" "+n+(o?"":" **[Unsupported]**")+" ("+(u.default.commit||"Commit unknown")+", "+(u.default.date||"Date unknown")+")\n- OS Version: "+a+"\n- Extensions: "+this.generateExtensionTable(s)+"\n---\n\nSteps to Reproduce:\n\n1.\n2."+(s.length?"\n\n\x3c!-- Launch with `code --disable-extensions` to check. --\x3e\nReproduces without extensions: Yes/No":""))},t.prototype.generateExtensionTable=function(e){var t=i.groupBy(e,function(e){var t=e.manifest.contributes?Object.keys(e.manifest.contributes):[];return!e.manifest.activationEvents&&1===t.length&&"themes"===t[0]?"themes":"nonThemes"}),n=t.nonThemes,r=t.themes,o=r&&r.length?"\n("+r.length+" theme extensions excluded)":"";if(!(e=n||[]).length)return"none"+o;var s="\n\nExtension|Author (truncated)|Version\n---|---|---\n"+e.map(function(e){return e.manifest.name+"|"+e.manifest.publisher.substr(0,3)+"|"+e.manifest.version}).join("\n")+"\n"+o+"\n\n";return encodeURIComponent(s).length>1600?"the listing length exceeds browsers' URL characters limit":s},t}(o.Action);re.ID="workbench.action.reportIssues",re.LABEL=l.localize(24,null),re=v([y(2,k.IIntegrityService),y(3,_.IExtensionManagementService)],re),t.ReportIssueAction=re;var oe=function(t){function n(e,n,i,r,o){var s=t.call(this,e,n)||this;return s.integrityService=i,s.environmentService=r,s.timerService=o,s}return h(n,t),n.prototype.run=function(e){var t=this;return this.integrityService.isPure().then(function(n){var i=t.generatePerformanceIssueUrl(u.default.reportIssueUrl,d.default.name,d.default.version,u.default.commit,u.default.date,n.isPure,e);return window.open(i),r.TPromise.as(!0)})},n.prototype.generatePerformanceIssueUrl=function(e,t,n,i,r,o,s){s||(s="Additional Steps to Reproduce (if any):\n\n1.\n2.");var a;this.environmentService.performance&&(a=this.computeNodeModulesLoadTime());var c=this.timerService.startupMetrics,l=R.type()+" "+R.arch()+" "+R.release();return""+e+(-1===e.indexOf("?")?"?":"&")+"body="+encodeURIComponent("- VSCode Version: <code>"+t+" "+n+(o?"":" **[Unsupported]**")+" ("+(u.default.commit||"Commit unknown")+", "+(u.default.date||"Date unknown")+")</code>\n- OS Version: <code>"+l+"</code>\n- CPUs: <code>"+c.cpus.model+" ("+c.cpus.count+" x "+c.cpus.speed+")</code>\n- Memory (System): <code>"+(c.totalmem/1073741824).toFixed(2)+"GB ("+(c.freemem/1073741824).toFixed(2)+"GB free)</code>\n- Memory (Process): <code>"+(c.meminfo.workingSetSize/1024).toFixed(2)+"MB working set ("+(c.meminfo.peakWorkingSetSize/1024).toFixed(2)+"MB peak, "+(c.meminfo.privateBytes/1024).toFixed(2)+"MB private, "+(c.meminfo.sharedBytes/1024).toFixed(2)+"MB shared)</code>\n- Load (avg): <code>"+c.loadavg.map(function(e){return Math.round(e)}).join(", ")+"</code>\n- VM: <code>"+c.isVMLikelyhood+"%</code>\n- Initial Startup: <code>"+(c.initialStartup?"yes":"no")+"</code>\n- Screen Reader: <code>"+(c.hasAccessibilitySupport?"yes":"no")+"</code>\n- Empty Workspace: <code>"+(c.emptyWorkbench?"yes":"no")+"</code>\n- Timings:\n\n"+this.generatePerformanceTable(a)+"\n\n---\n\n"+s)},n.prototype.computeNodeModulesLoadTime=function(){for(var t=e.getStats(),n=0,i=0,r=t.length;i<r;i++)t[i].type===$.NodeEndNativeRequire&&t[i-1].type===$.NodeBeginNativeRequire&&t[i-1].detail===t[i].detail&&(n+=t[i].timestamp-t[i-1].timestamp);return Math.round(n)},n.prototype.generatePerformanceTable=function(e){return"|Component|Task|Time (ms)|\n|---|---|---|\n"+this.getStartupMetricsTable(e).map(function(e){return"|"+e.component+"|"+e.task+"|"+e.time+"|"}).join("\n")},n.prototype.getStartupMetricsTable=function(e){var t=[],n=this.timerService.startupMetrics;return n.initialStartup&&(t.push({component:"main",task:"start => app.isReady",time:n.timers.ellapsedAppReady}),t.push({component:"main",task:"app.isReady => window.loadUrl()",time:n.timers.ellapsedWindowLoad})),t.push({component:"renderer",task:"window.loadUrl() => begin to require(workbench.main.js)",time:n.timers.ellapsedWindowLoadToRequire}),t.push({component:"renderer",task:"require(workbench.main.js)",time:n.timers.ellapsedRequire}),e&&t.push({component:"renderer",task:"-> of which require() node_modules",time:e}),t.push({component:"renderer",task:"create extension host => extensions onReady()",time:n.timers.ellapsedExtensions}),t.push({component:"renderer",task:"restore viewlet",time:n.timers.ellapsedViewletRestore}),t.push({component:"renderer",task:"restore editor view state",time:n.timers.ellapsedEditorRestore}),t.push({component:"renderer",task:"overall workbench load",time:n.timers.ellapsedWorkbench}),t.push({component:"main + renderer",task:"start => extensions ready",time:n.timers.ellapsedExtensionsReady}),t.push({component:"main + renderer",task:"start => workbench ready",time:n.ellapsed}),t},n}(o.Action);oe.ID="workbench.action.reportPerformanceIssue",oe.LABEL=l.localize(25,null),oe=v([y(2,k.IIntegrityService),y(3,m.IEnvironmentService),y(4,x.ITimerService)],oe),t.ReportPerformanceIssueAction=oe;var se=function(e){function t(t,n){return e.call(this,t,n)||this}return h(t,e),t.prototype.run=function(){return window.open(t.URL),null},t}(o.Action);se.ID="workbench.action.keybindingsReference",se.LABEL=l.localize(26,null),se.URL=w.isLinux?u.default.keyboardShortcutsUrlLinux:w.isMacintosh?u.default.keyboardShortcutsUrlMac:u.default.keyboardShortcutsUrlWin,se.AVAILABLE=!!se.URL,t.KeybindingsReferenceAction=se;var ae=function(e){function t(t,n){return e.call(this,t,n)||this}return h(t,e),t.prototype.run=function(){return window.open(t.URL),null},t}(o.Action);ae.ID="workbench.action.openDocumentationUrl",ae.LABEL=l.localize(27,null),ae.URL=u.default.documentationUrl,ae.AVAILABLE=!!ae.URL,t.OpenDocumentationUrlAction=ae;var ce=function(e){function t(t,n){return e.call(this,t,n)||this}return h(t,e),t.prototype.run=function(){return window.open(t.URL),null},t}(o.Action);ce.ID="workbench.action.openIntroductoryVideosUrl",ce.LABEL=l.localize(28,null),ce.URL=u.default.introductoryVideosUrl,ce.AVAILABLE=!!ce.URL,t.OpenIntroductoryVideosUrlAction=ce;var le=function(e){function t(t,n){return e.call(this,t,n)||this}return h(t,e),t.prototype.run=function(){return window.open(t.URL),null},t}(o.Action);le.ID="workbench.action.openTipsAndTricksUrl",le.LABEL=l.localize(29,null),le.URL=u.default.tipsAndTricksUrl,le.AVAILABLE=!!le.URL,t.OpenTipsAndTricksUrlAction=le;var ue=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.windowsService=i,r}return h(t,e),t.prototype.run=function(){return this.windowsService.toggleSharedProcess()},t}(o.Action);ue.ID="workbench.action.toggleSharedProcess",ue.LABEL=l.localize(30,null),ue=v([y(2,a.IWindowsService)],ue),t.ToggleSharedProcessAction=ue;var de;!function(e){e[e.Next=0]="Next",e[e.Previous=1]="Previous"}(de||(de={}));var he=function(e){function t(t,n,i,r,o,s){var a=e.call(this,t,n)||this;return a.groupService=i,a.panelService=r,a.partService=o,a.viewletService=s,a}return h(t,e),t.prototype.run=function(){var e=this.partService.hasFocus(P.Parts.EDITOR_PART),t=this.partService.hasFocus(P.Parts.PANEL_PART),n=this.partService.hasFocus(P.Parts.SIDEBAR_PART),i="vertical"===this.groupService.getGroupOrientation(),o=this.partService.getSideBarPosition()===P.Position.LEFT;return e?this.navigateOnEditorFocus(i,o):t?this.navigateOnPanelFocus(i,o):n?this.navigateOnSidebarFocus(i,o):r.TPromise.as(!1)},t.prototype.navigateOnEditorFocus=function(e,t){return r.TPromise.as(!0)},t.prototype.navigateOnPanelFocus=function(e,t){return r.TPromise.as(!0)},t.prototype.navigateOnSidebarFocus=function(e,t){return r.TPromise.as(!0)},t.prototype.navigateToPanel=function(){if(!this.partService.isVisible(P.Parts.PANEL_PART))return r.TPromise.as(!1);var e=this.panelService.getActivePanel().getId();return this.panelService.openPanel(e,!0)},t.prototype.navigateToSidebar=function(){if(!this.partService.isVisible(P.Parts.SIDEBAR_PART))return r.TPromise.as(!1);var e=this.viewletService.getActiveViewlet().getId();return this.viewletService.openViewlet(e,!0)},t.prototype.navigateAcrossEditorGroup=function(e){var t=this.groupService.getStacksModel(),n=t.positionOfGroup(t.activeGroup),i=e===de.Next?n+1:n-1;return i<0||i>t.groups.length-1?r.TPromise.as(!1):(this.groupService.focusGroup(i),r.TPromise.as(!0))},t.prototype.navigateToLastActiveGroup=function(){var e=this.groupService.getStacksModel().activeGroup;return this.groupService.focusGroup(e),r.TPromise.as(!0)},t.prototype.navigateToFirstEditorGroup=function(){return this.groupService.focusGroup(0),r.TPromise.as(!0)},t.prototype.navigateToLastEditorGroup=function(){var e=this.groupService.getStacksModel().groups.length-1;return this.groupService.focusGroup(e),r.TPromise.as(!0)},t}(o.Action);he=v([y(2,A.IEditorGroupService),y(3,L.IPanelService),y(4,P.IPartService),y(5,D.IViewletService)],he),t.BaseNavigationAction=he;var pe=function(e){function t(t,n,i,r,o,s){return e.call(this,t,n,i,r,o,s)||this}return h(t,e),t.prototype.navigateOnEditorFocus=function(e,t){var n=this;return e?this.navigateAcrossEditorGroup(de.Previous).then(function(e){return!e&&t?n.navigateToSidebar():r.TPromise.as(!0)}):t?this.navigateToSidebar():r.TPromise.as(!1)},t.prototype.navigateOnPanelFocus=function(e,t){return t?this.navigateToSidebar():r.TPromise.as(!1)},t.prototype.navigateOnSidebarFocus=function(e,t){return t?r.TPromise.as(!1):e?this.navigateToLastEditorGroup():this.navigateToLastActiveGroup()},t}(he);pe.ID="workbench.action.navigateLeft",pe.LABEL=l.localize(31,null),pe=v([y(2,A.IEditorGroupService),y(3,L.IPanelService),y(4,P.IPartService),y(5,D.IViewletService)],pe),t.NavigateLeftAction=pe;var fe=function(e){function t(t,n,i,r,o,s){return e.call(this,t,n,i,r,o,s)||this}return h(t,e),t.prototype.navigateOnEditorFocus=function(e,t){var n=this;return e?this.navigateAcrossEditorGroup(de.Next).then(function(e){return e||t?r.TPromise.as(!0):n.navigateToSidebar()}):t?r.TPromise.as(!1):this.navigateToSidebar()},t.prototype.navigateOnPanelFocus=function(e,t){return t?r.TPromise.as(!1):this.navigateToSidebar()},t.prototype.navigateOnSidebarFocus=function(e,t){return t?e?this.navigateToFirstEditorGroup():this.navigateToLastActiveGroup():r.TPromise.as(!1)},t}(he);fe.ID="workbench.action.navigateRight",fe.LABEL=l.localize(32,null),fe=v([y(2,A.IEditorGroupService),y(3,L.IPanelService),y(4,P.IPartService),y(5,D.IViewletService)],fe),t.NavigateRightAction=fe;var ge=function(e){function t(t,n,i,r,o,s){return e.call(this,t,n,i,r,o,s)||this}return h(t,e),t.prototype.navigateOnEditorFocus=function(e,t){return e?r.TPromise.as(!1):this.navigateAcrossEditorGroup(de.Previous)},t.prototype.navigateOnPanelFocus=function(e,t){return e?this.navigateToLastActiveGroup():this.navigateToLastEditorGroup()},t}(he);ge.ID="workbench.action.navigateUp",ge.LABEL=l.localize(33,null),ge=v([y(2,A.IEditorGroupService),y(3,L.IPanelService),y(4,P.IPartService),y(5,D.IViewletService)],ge),t.NavigateUpAction=ge;var ve=function(e){function t(t,n,i,r,o,s){return e.call(this,t,n,i,r,o,s)||this}return h(t,e),t.prototype.navigateOnEditorFocus=function(e,t){var n=this;return e?this.navigateToPanel():this.navigateAcrossEditorGroup(de.Next).then(function(e){return e?r.TPromise.as(!0):n.navigateToPanel()})},t}(he);ve.ID="workbench.action.navigateDown",ve.LABEL=l.localize(34,null),ve=v([y(2,A.IEditorGroupService),y(3,L.IPanelService),y(4,P.IPartService),y(5,D.IViewletService)],ve),t.NavigateDownAction=ve;var me=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.partService=i,r}return h(t,e),t.prototype.resizePart=function(e){var t,n=this.partService.hasFocus(P.Parts.EDITOR_PART),i=this.partService.hasFocus(P.Parts.SIDEBAR_PART),r=this.partService.hasFocus(P.Parts.PANEL_PART);i?t=P.Parts.SIDEBAR_PART:r?t=P.Parts.PANEL_PART:n&&(t=P.Parts.EDITOR_PART),t&&this.partService.resizePart(t,e)},t}(o.Action);me.RESIZE_INCREMENT=6.5,me=v([y(2,P.IPartService)],me),t.BaseResizeViewAction=me;var ye=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}return h(t,e),t.prototype.run=function(){return this.resizePart(me.RESIZE_INCREMENT),r.TPromise.as(!0)},t}(me);ye.ID="workbench.action.increaseViewSize",ye.LABEL=l.localize(35,null),ye=v([y(2,P.IPartService)],ye),t.IncreaseViewSizeAction=ye;var be=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}return h(t,e),t.prototype.run=function(){return this.resizePart(-me.RESIZE_INCREMENT),r.TPromise.as(!0)},t}(me);be.ID="workbench.action.decreaseViewSize",be.LABEL=l.localize(36,null),be=v([y(2,P.IPartService)],be),t.DecreaseViewSizeAction=be});S=this&&this.__generator||function(e,t){function n(e){return function(t){return i([e,t])}}function i(n){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,o&&(s=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){c.label=n[1];break}if(6===n[0]&&c.label<s[1]){c.label=s[1],s=n;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(n);break}s[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],o=0}finally{r=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var r,o,s,a,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};define(u[440],d([1,0,538,107,323,26,16,4,21,11,1292,20,69,62,27,19,129,157,97,80,39,168,6,417,223,8,262,104,301]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,m,_,E,C,w,I,T,k,x,A,L,P,D){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EXTENSION_LOG_BROADCAST_CHANNEL="vscode:extensionLog",t.EXTENSION_ATTACH_BROADCAST_CHANNEL="vscode:extensionAttach",t.EXTENSION_TERMINATE_BROADCAST_CHANNEL="vscode:extensionTerminate";var O=function(){function e(){this._onMessage=new A.Emitter,this._buffer=[],this.onMessage=this._onMessage.event}return e.prototype.send=function(e){this._delegate?this._delegate.send(e):this._buffer.push(e)},e.prototype.resolve=function(e){var t=this;this._delegate=e,this._delegate.onMessage(function(e){return t._onMessage.fire(e)}),this._buffer.forEach(this._delegate.send,this._delegate),this._buffer=null},e}();t.LazyMessagePassingProtol=O;var R=function(){function h(e,t,n,i,r,o,s,a,c,l,u){var d=this;this.contextService=e,this.messageService=t,this.windowsService=n,this.windowService=i,this.windowIpcService=r,this.instantiationService=s,this.environmentService=a,this.configurationService=c,this.telemetryService=l,this.crashReporterService=u,this.messagingProtocol=new O,this.isExtensionDevelopmentHost=a.isExtensionDevelopment,this.isExtensionDevelopmentDebug="number"==typeof a.debugExtensionHost.port,this.isExtensionDevelopmentDebugBrk=!!a.debugExtensionHost.break,this.isExtensionDevelopmentTestFromCli=this.isExtensionDevelopmentHost&&!!a.extensionTestsPath&&!a.debugExtensionHost.break,o.onWillShutdown(this._onWillShutdown,this),o.onShutdown(function(e){return d.terminate()})}return h.prototype.start=function(i){var r=this;this.extensionService=i,a.TPromise.join([this.tryListenOnPipe(),this.tryFindDebugPort()]).then(function(i){var a=i[0],c=a[0],u=a[1],h=i[1],p={env:o.mixin(o.clone(process.env),{AMD_ENTRYPOINT:"vs/workbench/node/extensionHostProcess",PIPE_LOGGING:"true",VERBOSE_LOGGING:!0,VSCODE_WINDOW_ID:String(r.windowIpcService.getWindowId()),VSCODE_IPC_HOOK_EXTHOST:u,ELECTRON_NO_ASAR:"1"}),detached:!!l.isWindows,execArgv:h?["--nolazy",(r.isExtensionDevelopmentDebugBrk?"--debug-brk=":"--debug=")+h]:void 0,silent:!0},f=r.crashReporterService.getChildProcessStartOptions("extensionHost");f&&(p.env.CRASH_REPORTER_START_OPTIONS=JSON.stringify(f)),r.extensionHostProcess=_.fork(s.default.parse(e.toUrl("bootstrap")).fsPath,["--type=extensionHost"],p),r.extensionHostProcess.stdout.setEncoding("utf8"),r.extensionHostProcess.stderr.setEncoding("utf8");var g=L.fromEventEmitter(r.extensionHostProcess.stdout,"data"),v=L.fromEventEmitter(r.extensionHostProcess.stderr,"data"),m=A.any(A.mapEvent(g,function(e){return{data:"%c"+e,format:[""]}}),A.mapEvent(v,function(e){return{data:"%c"+e,format:["color: red"]}}));A.debounceEvent(m,function(e,t){return e?{data:e.data+t.data,format:e.format.concat(t.format)}:{data:t.data,format:t.format}},100)(function(e){console.group("Extension Host"),console.log.apply(console,[e.data].concat(e.format)),console.groupEnd()}),r.extensionHostProcess.on("message",function(e){e&&"__$console"===e.type&&r.logExtensionHostMessage(e)});var y=function(){return r.terminate()};process.once("exit",y),r.extensionHostProcess.on("error",function(e){return r.onError(e)}),r.extensionHostProcess.on("exit",function(e,t){return r.onExit(e,t,y)}),r.isExtensionDevelopmentHost&&h&&r.windowIpcService.broadcast({channel:t.EXTENSION_ATTACH_BROADCAST_CHANNEL,payload:{port:h}},r.environmentService.extensionDevelopmentPath);var b;return r.environmentService.isBuilt&&!r.isExtensionDevelopmentHost||(b=setTimeout(function(){var e=r.isExtensionDevelopmentDebugBrk?n.localize(0,null):n.localize(1,null);r.messageService.show(d.Severity.Warning,e)},1e4)),r.tryExtHostHandshake(c).then(function(){return clearTimeout(b)})}).done(void 0,function(e){console.error("ERROR starting extension host"),console.error(e)})},h.prototype.tryListenOnPipe=function(){return new a.TPromise(function(e,t){var n=x.createServer();n.on("error",t);var i=k.generateRandomPipeName();n.listen(i,function(){n.removeListener("error",t),e([n,i])})})},h.prototype.tryFindDebugPort=function(){var e=this,t=this.environmentService.debugExtensionHost.port;return"number"!=typeof t?a.TPromise.wrap(void 0):new a.TPromise(function(n,i){u.findFreePort(t,10,5e3,function(i){return i?(i!==t&&console.warn("%c[Extension Host] %cProvided debugging port "+t+" is not free, using "+i+" instead.","color: blue","color: black"),e.isExtensionDevelopmentDebugBrk?console.warn("%c[Extension Host] %cSTOPPED on first line for debugging on port "+i,"color: blue","color: black"):console.info("%c[Extension Host] %cdebugger listening on port "+i,"color: blue","color: black"),n(i)):(console.warn("%c[Extension Host] %cCould not find a free port for debugging","color: blue","color: black"),n(void 0))})})},h.prototype.tryExtHostHandshake=function(e){var t=this;return new a.TPromise(function(t,n){var i=setTimeout(function(){return n("timeout")},6e4);e.on("connection",function(e){clearTimeout(i);var n=new k.Protocol(e);t(n)})}).then(function(e){e.onMessage(function(n){if("ready"===n)return t.createExtHostInitData().then(function(t){return e.send(r.stringify(t))});"initialized"===n&&t.messagingProtocol.resolve(e)})})},h.prototype.createExtHostInitData=function(){var e=this;return a.TPromise.join([this.telemetryService.getTelemetryInfo(),this.extensionService.getExtensions()]).then(function(t){var n=t[0],i=t[1];return{parentPid:process.pid,environment:{appSettingsHome:e.environmentService.appSettingsHome,disableExtensions:e.environmentService.disableExtensions,userExtensionsHome:e.environmentService.extensionsPath,extensionDevelopmentPath:e.environmentService.extensionDevelopmentPath,extensionTestsPath:e.environmentService.extensionTestsPath,enableProposedApiForAll:!e.environmentService.isBuilt||!!e.environmentService.extensionDevelopmentPath&&C.default.nameLong.indexOf("Insiders")>=0,enableProposedApiFor:e.environmentService.args["enable-proposed-api"]||[]},workspace:e.contextService.getWorkspace2(),extensions:i,configuration:e.configurationService.getConfigurationData(),telemetryInfo:n}})},h.prototype.logExtensionHostMessage=function(e){var n=[];try{var i=JSON.parse(e.arguments);n.push.apply(n,Object.getOwnPropertyNames(i).map(function(e){return i[e]}))}catch(t){n.push(e.arguments)}var r=[];r="string"==typeof n[0]&&n[0].indexOf("%")>=0?["%c[Extension Host]%c "+n[0],"color: blue","color: black"].concat(n.slice(1)):["%c[Extension Host]","color: blue"].concat(n),this.isExtensionDevelopmentTestFromCli||console[e.severity].apply(console,r),this.isExtensionDevelopmentTestFromCli?(o=this.windowsService).log.apply(o,[e.severity].concat(n)):this.environmentService.isBuilt&&!this.isExtensionDevelopmentHost||this.windowIpcService.broadcast({channel:t.EXTENSION_LOG_BROADCAST_CHANNEL,payload:e},this.environmentService.extensionDevelopmentPath);var o},h.prototype.onError=function(e){var t=i.toErrorMessage(e);t!==this.lastExtensionHostError&&(this.lastExtensionHostError=t,this.messageService.show(d.Severity.Error,n.localize(2,null,t)))},h.prototype.onExit=function(e,t,i){var r=this;if(process.removeListener("exit",i),!this.terminating)if(this.isExtensionDevelopmentHost)this.isExtensionDevelopmentTestFromCli?E.ipcRenderer.send("vscode:exit",e):this.windowIpcService.getWindow().close();else{var o=new c.Action("openDevTools",n.localize(3,null),"",!0,function(){return b(r,void 0,a.TPromise,function(){return S(this,function(e){switch(e.label){case 0:return[4,this.windowService.openDevTools()];case 1:return e.sent(),[2,!1]}})})});this.messageService.show(d.Severity.Error,{message:n.localize(4,null),actions:[o,this.instantiationService.createInstance(I.ReloadWindowAction,I.ReloadWindowAction.ID,I.ReloadWindowAction.LABEL)]}),console.error("Extension host terminated unexpectedly. Code: ",e," Signal: ",t)}},h.prototype.terminate=function(){this.terminating=!0,this.extensionHostProcess&&this.messagingProtocol.send({type:"__$terminate"})},h.prototype._onWillShutdown=function(e){!this.isExtensionDevelopmentHost||this.isExtensionDevelopmentTestFromCli||this.isExtensionDevelopmentDebug||(this.windowIpcService.broadcast({channel:t.EXTENSION_TERMINATE_BROADCAST_CHANNEL,payload:!0},this.environmentService.extensionDevelopmentPath),e.veto(a.TPromise.timeout(100).then(function(){return!1})))},h}();R=v([y(0,f.IWorkspaceContextService),y(1,d.IMessageService),y(2,p.IWindowsService),y(3,p.IWindowService),y(4,m.IWindowIPCService),y(5,h.ILifecycleService),y(6,T.IInstantiationService),y(7,w.IEnvironmentService),y(8,P.IWorkspaceConfigurationService),y(9,g.ITelemetryService),y(10,D.ICrashReporterService)],R),t.ExtensionHostProcessWorker=R}),define(u[1332],d([1,0,542,11,16,7,24,4,76,34,9,36,49,21,200,40,47,43,30,22,45,20,19,104,62,41,129,39,38,65,394,137,66,32,57,63,59,221,74,97,29]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A,L,P,D,O,R,M,N,F,W,B,V,z,H,K){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var U=H.remote.dialog,j=[new f.Action("undo",n.localize(0,null),null,!0,function(){return document.execCommand("undo")&&a.TPromise.as(!0)}),new f.Action("redo",n.localize(1,null),null,!0,function(){return document.execCommand("redo")&&a.TPromise.as(!0)}),new p.Separator,new f.Action("editor.action.clipboardCutAction",n.localize(2,null),null,!0,function(){return document.execCommand("cut")&&a.TPromise.as(!0)}),new f.Action("editor.action.clipboardCopyAction",n.localize(3,null),null,!0,function(){return document.execCommand("copy")&&a.TPromise.as(!0)}),new f.Action("editor.action.clipboardPasteAction",n.localize(4,null),null,!0,function(){return document.execCommand("paste")&&a.TPromise.as(!0)}),new p.Separator,new f.Action("editor.action.selectAll",n.localize(5,null),null,!0,function(){return document.execCommand("selectAll")&&a.TPromise.as(!0)})],G=function(e){function t(t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,v,m,y,b,S){var _=e.call(this,d)||this;return _.windowIPCService=i,_.editorService=r,_.editorGroupService=o,_.partService=s,_.windowsService=a,_.windowService=c,_.configurationService=l,_.titleService=u,_.themeService=d,_.messageService=h,_.configurationEditingService=p,_.commandService=f,_.extensionService=g,_.viewletService=v,_.contextMenuService=m,_.keybindingService=y,_.environmentService=b,_.telemetryService=S,_.win=t,_.windowId=t.id,_.registerListeners(),_.setup(),_}return h(t,e),t.prototype.registerListeners=function(){function e(){i=void 0,r&&(r.destroy(),r=void 0)}var t=this;this.editorGroupService.onEditorsChanged(function(){var e=_.toResource(t.editorService.getActiveEditorInput(),{supportSideBySide:!0,filter:"file"});t.titleService.setRepresentedFilename(e?e.fsPath:"")});var i,r;window.document.body.addEventListener(u.EventType.DRAG_OVER,function(o){u.EventHelper.stop(o),i||(i=g.extractResources(o,!0).map(function(e){return e.resource}),t.includesFolder(i).done(function(o){if(o){var s=t.getColor(K.activeContrastBorder);r=m.$(window.document.getElementById(t.partService.getWorkbenchElementId())).div({id:"monaco-workbench-drop-overlay"}).style({backgroundColor:t.getColor(z.EDITOR_DRAG_AND_DROP_BACKGROUND),outlineColor:s,outlineOffset:s?"-2px":null,outlineStyle:s?"dashed":null,outlineWidth:s?"2px":null}).on(u.EventType.DROP,function(r){u.EventHelper.stop(r,!0),t.focus();var o=!0;i.length>20&&(o=t.messageService.confirm({message:n.localize(6,null,i.length),primaryButton:n.localize(7,null),type:"question"})),o&&t.windowsService.openWindow(i.map(function(e){return e.fsPath}),{forceReuseWindow:!0}),e()}).on([u.EventType.DRAG_LEAVE,u.EventType.DRAG_END],function(){e()}).once(u.EventType.MOUSE_OVER,function(){setTimeout(function(){e()},300)})}}))}),[u.EventType.DROP,u.EventType.DRAG_END].forEach(function(t){window.document.body.addEventListener(t,function(t){r&&t.target===r.getHTMLElement()||e()},!0)}),window.document.body.addEventListener(u.EventType.DROP,function(e){u.EventHelper.stop(e)});var o=this;window.open=function(e,t,n,i){return o.windowsService.openExternal(e),null}},t.prototype.setup=function(){var e=this;H.ipcRenderer.on("vscode:runAction",function(t,n){e.commandService.executeCommand(n,{from:"menu"}).done(function(t){e.telemetryService.publicLog("commandExecuted",{id:n,from:"menu"})},function(t){e.messageService.show(d.default.Error,t)})}),H.ipcRenderer.on("vscode:resolveKeybindings",function(t,n){var i=[];try{i=JSON.parse(n)}catch(e){}e.resolveKeybindings(i).done(function(e){e.length&&H.ipcRenderer.send("vscode:keybindingsResolved",JSON.stringify(e))},function(){return o.onUnexpectedError})}),this.extensionService.onReady().then(function(){H.ipcRenderer.send("vscode:extensionViewlets",JSON.stringify(e.viewletService.getViewlets().filter(function(e){return!!e.extensionId}).map(function(e){return{id:e.id,label:e.name}})))}),H.ipcRenderer.on("vscode:reportError",function(e,t){if(t){var n=JSON.parse(t);n.mainProcess=!0,o.onUnexpectedError(n)}}),H.ipcRenderer.on("vscode:openFiles",function(t,n){return e.onOpenFiles(n)}),this.partService.joinCreation().then(function(){H.ipcRenderer.send("vscode:workbenchLoaded",e.windowIPCService.getWindowId())}),H.ipcRenderer.on("vscode:showInfoMessage",function(t,n){e.messageService.show(d.default.Info,n)}),H.ipcRenderer.on("vscode.toggleAutoSave",function(t){e.toggleAutoSave()}),H.ipcRenderer.on("vscode:enterFullScreen",function(t){e.partService.joinCreation().then(function(){M.setFullscreen(!0)})}),H.ipcRenderer.on("vscode:leaveFullScreen",function(t){e.partService.joinCreation().then(function(){M.setFullscreen(!1)})}),H.ipcRenderer.on("vscode:enterHighContrast",function(t){var n=e.configurationService.getConfiguration("window");n&&n.autoDetectHighContrast&&e.partService.joinCreation().then(function(){e.themeService.setColorTheme(R.VS_HC_THEME,null)})}),H.ipcRenderer.on("vscode:leaveHighContrast",function(t){var n=e.configurationService.getConfiguration("window");n&&n.autoDetectHighContrast&&e.partService.joinCreation().then(function(){e.themeService.setColorTheme(R.VS_DARK_THEME,null)})}),H.ipcRenderer.on("vscode:keyboardLayoutChanged",function(e,t){V.KeyboardMapperFactory.INSTANCE._onKeyboardLayoutChanged(t)}),H.ipcRenderer.on("vscode:accessibilitySupportChanged",function(e,t){M.setAccessibilitySupport(t?2:1)});var t;this.configurationService.onDidUpdateConfiguration(function(n){var i=e.configurationService.getConfiguration(),r=0;if(i.window&&"number"==typeof i.window.zoomLevel){if(r=i.window.zoomLevel,t===r)return;t=r}H.webFrame.getZoomLevel()!==r&&(H.webFrame.setZoomLevel(r),M.setZoomFactor(H.webFrame.getZoomFactor()),M.setZoomLevel(H.webFrame.getZoomLevel(),!1))}),window.document.addEventListener("contextmenu",function(t){if(t.target instanceof HTMLElement){var n=t.target;!n.nodeName||"input"!==n.nodeName.toLowerCase()&&"textarea"!==n.nodeName.toLowerCase()||(t.preventDefault(),t.stopPropagation(),e.contextMenuService.showContextMenu({getAnchor:function(){return t},getActions:function(){return a.TPromise.as(j)}}))}})},t.prototype.resolveKeybindings=function(e){var t=this;return this.partService.joinCreation().then(function(){return l.coalesce(e.map(function(e){var n=t.keybindingService.lookupKeybinding(e);if(!n)return null;var i=n.getElectronAccelerator();if(i)return{id:e,label:i,isNative:!0};var r=n.getLabel();return r?{id:e,label:r,isNative:!1}:null}))})},t.prototype.onOpenFiles=function(e){var t=[],n=2===e.filesToDiff.length;!n&&e.filesToOpen&&t.push.apply(t,this.toInputs(e.filesToOpen,!1)),!n&&e.filesToCreate&&t.push.apply(t,this.toInputs(e.filesToCreate,!0)),n&&t.push.apply(t,this.toInputs(e.filesToDiff,!1)),t.length&&this.openResources(t,n).done(null,o.onUnexpectedError)},t.prototype.openResources=function(e,t){var n=this;return this.partService.joinCreation().then(function(){if(t&&2===e.length)return n.editorService.openEditor({leftResource:e[0].resource,rightResource:e[1].resource,options:{pinned:!0}});if(1===e.length)return n.editorService.openEditor(e[0]);var i=n.editorService.getActiveEditor();return n.editorService.openEditors(e.map(function(e,t){return{input:e,position:i?i.position:W.Position.ONE}}))})},t.prototype.toInputs=function(e,t){return e.map(function(e){var n,i=r.default.file(e.filePath);return n=t?{filePath:i.fsPath,options:{pinned:!0}}:{resource:i,options:{pinned:!0}},!t&&e.lineNumber&&(n.options.selection={startLineNumber:e.lineNumber,startColumn:e.columnNumber}),n})},t.prototype.toggleAutoSave=function(){var e=this.configurationService.lookup(t.AUTO_SAVE_SETTING),n=e.user;s.isUndefinedOrNull(n)&&(n=e.default);var i;i=[S.AutoSaveConfiguration.AFTER_DELAY,S.AutoSaveConfiguration.ON_FOCUS_CHANGE,S.AutoSaveConfiguration.ON_WINDOW_CHANGE].some(function(e){return e===n})?S.AutoSaveConfiguration.OFF:S.AutoSaveConfiguration.AFTER_DELAY,this.configurationEditingService.writeConfiguration(D.ConfigurationTarget.USER,{key:t.AUTO_SAVE_SETTING,value:i})},t.prototype.includesFolder=function(e){return a.TPromise.join(e.map(function(e){return c.stat(e.fsPath).then(function(e){return!!e.isDirectory()},function(e){return!1})})).then(function(e){return e.some(function(e){return!!e})})},t.prototype.close=function(){this.win.close()},t.prototype.showMessageBox=function(e){return U.showMessageBox(this.win,e)},t.prototype.showSaveDialog=function(e,t){return t?U.showSaveDialog(this.win,e,t):U.showSaveDialog(this.win,e)},t.prototype.focus=function(){return this.windowService.focusWindow()},t}(z.Themable);G.AUTO_SAVE_SETTING="files.autoSave",G=v([y(2,A.IWindowIPCService),y(3,E.IWorkbenchEditorService),y(4,C.IEditorGroupService),y(5,b.IPartService),y(6,k.IWindowsService),y(7,k.IWindowService),y(8,T.IWorkspaceConfigurationService),y(9,O.ITitleService),y(10,R.IWorkbenchThemeService),y(11,w.IMessageService),y(12,D.IConfigurationEditingService),y(13,N.ICommandService),y(14,B.IExtensionService),y(15,F.IViewletService),y(16,x.IContextMenuService),y(17,P.IKeybindingService),y(18,L.IEnvironmentService),y(19,I.ITelemetryService)],G),t.ElectronWindow=G}),define(u[1333],d([1,0,573,5,8,28,12,135,16,21,34,24,7,36,4,114,232,17,142,69,59,6,43,20,62,19,331,336,32,31,67,1051,162,330,134,1085,310,213,93,57,78,47,51,23,27,22,129,440]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A,L,P,D,O,R,M,N,F,W,B,V,z,H,K,U,j,G,q,$,Y){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var X="debug.breakpointactivated",Q="debug.selectedconfigname",Z=function(){function t(e,t,n,i,o,s,a,c,l,u,d,h,p,f,g,v,m,y,b,S){this.storageService=e,this.editorService=t,this.textFileService=n,this.viewletService=i,this.panelService=o,this.messageService=s,this.partService=a,this.windowsService=c,this.windowService=l,this.telemetryService=u,this.contextService=d,this.instantiationService=f,this.extensionService=g,this.markerService=v,this.taskService=m,this.fileService=y,this.configurationService=b,this.commandService=S,this.toDispose=[],this.toDisposeOnSessionEnd=new Map,this.breakpointsToSendOnResourceSaved=new Set,this._onDidChangeState=new r.Emitter,this._onDidEndProcess=new r.Emitter,this.sessionStates=new Map,this.configurationManager=this.instantiationService.createInstance(F.ConfigurationManager),this.inDebugMode=D.CONTEXT_IN_DEBUG_MODE.bindTo(h),this.debugType=D.CONTEXT_DEBUG_TYPE.bindTo(h),this.debugState=D.CONTEXT_DEBUG_STATE.bindTo(h),this.model=new R.Model(this.loadBreakpoints(),this.storageService.getBoolean(X,P.StorageScope.WORKSPACE,!0),this.loadFunctionBreakpoints(),this.loadExceptionBreakpoints(),this.loadWatchExpressions()),this.toDispose.push(this.model),this.viewModel=new M.ViewModel(this.storageService.get(Q,P.StorageScope.WORKSPACE,null)),this.registerListeners(p)}return t.prototype.registerListeners=function(e){var t=this;this.toDispose.push(this.fileService.onFileChanges(function(e){return t.onFileChanges(e)})),this.taskService&&(this.toDispose.push(this.taskService.addListener(B.TaskServiceEvents.Active,function(e){t.lastTaskEvent=e})),this.toDispose.push(this.taskService.addListener(B.TaskServiceEvents.Inactive,function(e){e.type===B.TaskType.SingleRun&&(t.lastTaskEvent=null)})),this.toDispose.push(this.taskService.addListener(B.TaskServiceEvents.Terminated,function(e){t.lastTaskEvent=null}))),e.onShutdown(this.store,this),e.onShutdown(this.dispose,this),this.toDispose.push(this.windowService.onBroadcast(this.onBroadcast,this)),this.toDispose.push(this.configurationService.onDidUpdateConfiguration(function(e){if(e.sourceConfig){var n=t.configurationManager.getConfigurationNames();n.every(function(e){return e!==t.viewModel.selectedConfigurationName})&&t.viewModel.setSelectedConfigurationName(n.length?n[0]:void 0)}}))},t.prototype.onBroadcast=function(e){var t=this,i=this.model.getProcesses().filter(function(e){return s.equalsIgnoreCase(e.configuration.type,"extensionhost")}).pop(),r=i?i.session:null;if(e.channel!==Y.EXTENSION_ATTACH_BROADCAST_CHANNEL)if(e.channel!==Y.EXTENSION_TERMINATE_BROADCAST_CHANNEL){if(r&&e.channel===Y.EXTENSION_LOG_BROADCAST_CHANNEL){var o=e.payload,a="warn"===o.severity?p.default.Warning:"error"===o.severity?p.default.Error:p.default.Info,c=[];try{var l=JSON.parse(o.arguments);c.push.apply(c,Object.getOwnPropertyNames(l).map(function(e){return l[e]}))}catch(e){c.push(o.arguments)}for(var u=[],h=0;h<c.length;h++){var f=c[h];if(void 0===f)u.push("undefined");else if(null===f)u.push("null");else if(d.isObject(f)||Array.isArray(f))u.length&&(this.logToRepl(u.join(" "),a),u=[]),this.logToRepl(new R.OutputNameValueElement(f.prototype,f,n.localize(0,null)),a);else if("string"==typeof f){for(var g="",v=0,m=f.length;v<m;v++)"%"!==f[v]||"s"!==f[v+1]&&"i"!==f[v+1]&&"d"!==f[v+1]?g+=f[v]:(h++,g+=d.isUndefinedOrNull(c[h])?"":c[h],v++);u.push(g)}else u.push(f)}u.length&&this.logToRepl(u.join(" ")+"\n",a)}}else r&&this.onSessionEnd(r);else setTimeout(function(){return t.rawAttach(r,e.payload.port)},300)},t.prototype.tryToAutoFocusStackFrame=function(e){var t=e.getCallStack();if(!t.length||this.viewModel.focusedStackFrame)return f.TPromise.as(null);var i=u.first(t,function(e){return e.source&&e.source.available},void 0);return i?(this.focusStackFrameAndEvaluate(i).done(null,h.onUnexpectedError),e.stoppedDetails&&(this.windowService.getWindow().focus(),g.alert(n.localize(1,null,e.stoppedDetails.reason,i.source?i.source.name:"",i.range.startLineNumber))),i.openInEditor(this.editorService)):f.TPromise.as(null)},t.prototype.registerSessionListeners=function(e,t){var i=this;this.toDisposeOnSessionEnd.get(t.getId()).push(t),this.toDisposeOnSessionEnd.get(t.getId()).push(t.onDidInitialize(function(r){g.status(n.localize(2,null));var o=function(){if(t&&t.capabilities.supportsConfigurationDoneRequest)return t.configurationDone().done(null,function(e){t&&t.disconnect().done(null,h.onUnexpectedError),i.messageService.show(p.default.Error,e.message)})};i.sendAllBreakpoints(e).then(o,o).done(function(){return i.fetchThreads(t)},h.onUnexpectedError)})),this.toDisposeOnSessionEnd.get(t.getId()).push(t.onDidStop(function(n){i.updateStateAndEmit(t.getId(),D.State.Stopped);var r=n.body.threadId;t.threads().then(function(o){if(o&&o.body&&o.body.threads){var s=o.body.threads.filter(function(e){return e.id===r}).pop();i.model.rawUpdate({sessionId:t.getId(),thread:s,threadId:r,stoppedDetails:n.body,allThreadsStopped:n.body.allThreadsStopped});var a=e&&e.getThread(r);a&&i.model.fetchCallStack(a).then(function(){return i.tryToAutoFocusStackFrame(a)})}},h.onUnexpectedError)})),this.toDisposeOnSessionEnd.get(t.getId()).push(t.onDidThread(function(e){"started"===e.body.reason?i.fetchThreads(t).done(void 0,h.onUnexpectedError):"exited"===e.body.reason&&i.model.clearThreads(t.getId(),!0,e.body.threadId)})),this.toDisposeOnSessionEnd.get(t.getId()).push(t.onDidTerminateDebugee(function(r){g.status(n.localize(3,null)),t&&t.getId()===r.body.sessionId&&(r.body&&r.body.restart&&e?i.restartProcess(e,r.body.restart).done(null,function(e){return i.messageService.show(p.default.Error,e.message)}):t.disconnect().done(null,h.onUnexpectedError))})),this.toDisposeOnSessionEnd.get(t.getId()).push(t.onDidContinued(function(e){var n=!1!==e.body.allThreadsContinued?void 0:e.body.threadId;i.model.clearThreads(t.getId(),!1,n),i.viewModel.focusedProcess.getId()===t.getId()&&i.focusStackFrameAndEvaluate(null,i.viewModel.focusedProcess).done(null,h.onUnexpectedError),i.updateStateAndEmit(t.getId(),D.State.Running)})),this.toDisposeOnSessionEnd.get(t.getId()).push(t.onDidOutput(function(t){if(t.body){var n="stderr"===t.body.category?p.default.Error:"console"===t.body.category?p.default.Warning:p.default.Info;"telemetry"===t.body.category?i.customTelemetryService&&i.telemetryService.isOptedIn&&i.customTelemetryService.publicLog(t.body.output,t.body.data):t.body.variablesReference?new R.ExpressionContainer(e,t.body.variablesReference,a.generateUuid()).getChildren().then(function(e){e.forEach(function(e){e.name=null,i.logToRepl(e,n)})}):"string"==typeof t.body.output&&i.logToRepl(t.body.output,n)}})),this.toDisposeOnSessionEnd.get(t.getId()).push(t.onDidBreakpoint(function(e){var t=e.body&&e.body.breakpoint?e.body.breakpoint.id:void 0,n=i.model.getBreakpoints().filter(function(e){return e.idFromAdapter===t}).pop();if(n)n.column||(e.body.breakpoint.column=void 0),i.model.updateBreakpoints((o={},o[n.getId()]=e.body.breakpoint,o));else{var r=i.model.getFunctionBreakpoints().filter(function(e){return e.idFromAdapter===t}).pop();r&&i.model.updateFunctionBreakpoints((s={},s[r.getId()]=e.body.breakpoint,s))}var o,s})),this.toDisposeOnSessionEnd.get(t.getId()).push(t.onDidExitAdapter(function(e){var n=i.viewModel.focusedProcess;n&&t&&n.getId()===t.getId()&&s.equalsIgnoreCase(n.configuration.type,"extensionhost")&&i.sessionStates.get(t.getId())===D.State.Running&&n&&i.contextService.hasWorkspace()&&n.configuration.noDebug&&i.windowsService.closeExtensionHostWindow(i.contextService.getWorkspace2().roots.map(function(e){return e.fsPath})),t&&t.getId()===e.body.sessionId&&i.onSessionEnd(t)}))},t.prototype.fetchThreads=function(e){var t=this;return e.threads().then(function(n){n&&n.body&&n.body.threads&&n.body.threads.forEach(function(n){return t.model.rawUpdate({sessionId:e.getId(),threadId:n.id,thread:n})})})},t.prototype.loadBreakpoints=function(){var e;try{e=JSON.parse(this.storageService.get("debug.breakpoint",P.StorageScope.WORKSPACE,"[]")).map(function(e){return new R.Breakpoint(c.default.parse(e.uri.external||e.source.uri.external),e.lineNumber,e.column,e.enabled,e.condition,e.hitCondition)})}catch(e){}return e||[]},t.prototype.loadFunctionBreakpoints=function(){var e;try{e=JSON.parse(this.storageService.get("debug.functionbreakpoint",P.StorageScope.WORKSPACE,"[]")).map(function(e){return new R.FunctionBreakpoint(e.name,e.enabled,e.hitCondition)})}catch(e){}return e||[]},t.prototype.loadExceptionBreakpoints=function(){var e;try{e=JSON.parse(this.storageService.get("debug.exceptionbreakpoint",P.StorageScope.WORKSPACE,"[]")).map(function(e){return new R.ExceptionBreakpoint(e.filter||e.name,e.label,e.enabled)})}catch(e){}return e||[]},t.prototype.loadWatchExpressions=function(){var e;try{e=JSON.parse(this.storageService.get("debug.watchexpressions",P.StorageScope.WORKSPACE,"[]")).map(function(e){return new R.Expression(e.name,e.id)})}catch(e){}return e||[]},Object.defineProperty(t.prototype,"state",{get:function(){var e=this.viewModel.focusedThread;if(e&&e.stopped)return D.State.Stopped;var t=this.viewModel.focusedProcess;return t&&this.sessionStates.has(t.getId())?this.sessionStates.get(t.getId()):this.sessionStates.size>0?D.State.Initializing:D.State.Inactive},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidChangeState",{get:function(){return this._onDidChangeState.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidEndProcess",{get:function(){return this._onDidEndProcess.event},enumerable:!0,configurable:!0}),t.prototype.updateStateAndEmit=function(e,t){e&&(t===D.State.Inactive?this.sessionStates.delete(e):this.sessionStates.set(e,t));var n=this.state,i=D.State[n];i&&this.debugState.set(i.toLowerCase()),this._onDidChangeState.fire(n)},t.prototype.focusStackFrameAndEvaluate=function(e,t){if(!t){var n=this.model.getProcesses();t=e?e.thread.process:n.length?n[0]:null}if(!e){var i=t?t.getAllThreads():null,r=i&&i.length?i[0].getCallStack():null;e=r&&r.length?r[0]:null}return this.viewModel.setFocusedStackFrame(e,t),this.updateStateAndEmit(),this.model.evaluateWatchExpressions(t,e)},t.prototype.enableOrDisableBreakpoints=function(e,t){return t?(this.model.setEnablement(t,e),t instanceof R.Breakpoint?this.sendBreakpoints(t.uri):t instanceof R.FunctionBreakpoint?this.sendFunctionBreakpoints():this.sendExceptionBreakpoints()):(this.model.enableOrDisableAllBreakpoints(e),this.sendAllBreakpoints())},t.prototype.addBreakpoints=function(e,t){return this.model.addBreakpoints(e,t),t.forEach(function(t){return g.status(n.localize(4,null,t.lineNumber,e.fsPath))}),this.sendBreakpoints(e)},t.prototype.removeBreakpoints=function(e){var t=this,i=this.model.getBreakpoints().filter(function(t){return!e||t.getId()===e});i.forEach(function(e){return g.status(n.localize(5,null,e.lineNumber,e.uri.fsPath))});var r=u.distinct(i,function(e){return e.uri.toString()}).map(function(e){return e.uri});return this.model.removeBreakpoints(i),f.TPromise.join(r.map(function(e){return t.sendBreakpoints(e)}))},t.prototype.setBreakpointsActivated=function(e){return this.model.setBreakpointsActivated(e),this.sendAllBreakpoints()},t.prototype.addFunctionBreakpoint=function(){this.model.addFunctionBreakpoint("")},t.prototype.renameFunctionBreakpoint=function(e,t){return this.model.updateFunctionBreakpoints((n={},n[e]={name:t},n)),this.sendFunctionBreakpoints();var n},t.prototype.removeFunctionBreakpoints=function(e){return this.model.removeFunctionBreakpoints(e),this.sendFunctionBreakpoints()},t.prototype.addReplExpression=function(e){var t=this;return this.telemetryService.publicLog("debugService/addReplExpression"),this.model.addReplExpression(this.viewModel.focusedProcess,this.viewModel.focusedStackFrame,e).then(function(){return t.focusStackFrameAndEvaluate(t.viewModel.focusedStackFrame,t.viewModel.focusedProcess)})},t.prototype.removeReplExpressions=function(){this.model.removeReplExpressions()},t.prototype.logToRepl=function(e,t){void 0===t&&(t=p.default.Info),"string"==typeof e&&0==="[2J".localeCompare(e)?this.model.removeReplExpressions():this.model.appendToRepl(e,t)},t.prototype.addWatchExpression=function(e){return this.model.addWatchExpression(this.viewModel.focusedProcess,this.viewModel.focusedStackFrame,e)},t.prototype.renameWatchExpression=function(e,t){return this.model.renameWatchExpression(this.viewModel.focusedProcess,this.viewModel.focusedStackFrame,e,t)},t.prototype.moveWatchExpression=function(e,t){this.model.moveWatchExpression(e,t)},t.prototype.removeWatchExpressions=function(e){this.model.removeWatchExpressions(e)},t.prototype.startDebugging=function(e,t){var i=this;return void 0===t&&(t=!1),this.textFileService.saveAll().then(function(){return i.configurationService.reloadConfiguration().then(function(){return i.extensionService.onReady().then(function(){0===i.model.getProcesses().length&&i.removeReplExpressions(),i.launchJsonChanged=!1;var r=i.getConfigurationManager();e=e||i.viewModel.selectedConfigurationName;var o=r.getConfiguration(e),s=r.getCompound(e);return s?s.configurations?f.TPromise.join(s.configurations.map(function(e){return i.startDebugging(e)})):f.TPromise.wrapError(new Error(n.localize(6,null))):e&&!o?f.TPromise.wrapError(new Error(n.localize(7,null,e))):r.getStartSessionCommand(o?o.type:void 0).then(function(e){if(t&&o&&(o.noDebug=!0),e&&e.command){var n=t?{noDebug:!0}:{};return i.commandService.executeCommand(e.command,o||n).then(function(t){if(i.contextService.hasWorkspace()){if(t&&"initialConfiguration"===t.status)return r.openConfigFile(!1,e.type);if(t&&"saveConfiguration"===t.status)return i.fileService.updateContent(r.configFileUri,t.content).then(function(){return r.openConfigFile(!1)})}})}return o?i.createProcess(o):i.contextService.hasWorkspace()&&e?r.openConfigFile(!1,e.type):void 0})})})})},t.prototype.createProcess=function(e){var t=this;return this.textFileService.saveAll().then(function(){return t.configurationManager.resloveConfiguration(e).then(function(e){if(e){if(!t.configurationManager.getAdapter(e.type)){var i=e.type?n.localize(8,null,e.type):n.localize(9,null);return f.TPromise.wrapError(h.create(i,{actions:[t.instantiationService.createInstance(N.ConfigureAction,N.ConfigureAction.ID,N.ConfigureAction.LABEL),I.CloseAction]}))}return t.runPreLaunchTask(e.preLaunchTask).then(function(i){var r=e.preLaunchTask?t.markerService.getStatistics().errors:0,o=i&&0===i.exitCode,s=i&&void 0!==i.exitCode&&0!==i.exitCode;if(o||0===r&&!s)return t.doCreateProcess(e);t.messageService.show(p.default.Error,{message:r>1?n.localize(10,null,e.preLaunchTask):1===r?n.localize(11,null,e.preLaunchTask):n.localize(12,null,e.preLaunchTask,i.exitCode),actions:[new l.Action("debug.continue",n.localize(13,null),null,!0,function(){return t.messageService.hideAll(),t.doCreateProcess(e)}),t.instantiationService.createInstance(W.ToggleMarkersPanelAction,W.ToggleMarkersPanelAction.ID,W.ToggleMarkersPanelAction.LABEL),I.CloseAction]})},function(e){t.messageService.show(e.severity,{message:e.message,actions:[t.instantiationService.createInstance(N.ConfigureAction,N.ConfigureAction.ID,N.ConfigureAction.LABEL),t.taskService.configureAction(),I.CloseAction]})})}},function(e){return t.contextService.hasWorkspace()?t.configurationManager.openConfigFile(!1).then(function(i){i&&t.messageService.show(p.default.Info,n.localize(15,null,e.message))}):t.messageService.show(p.default.Error,n.localize(14,null))})})},t.prototype.doCreateProcess=function(t){var n=this,i=a.generateUuid();return this.updateStateAndEmit(i,D.State.Initializing),this.telemetryService.getTelemetryInfo().then(function(e){var t=Object.create(null);return t["common.vscodemachineid"]=e.machineId,t["common.vscodesessionid"]=e.sessionId,t}).then(function(r){var o=n.configurationManager.getAdapter(t.type),s=o.aiKey,a=o.type,l=o.extensionDescription.publisher;n.customTelemetryService=null;var u;if(s){var d=(u=new m.Client(c.default.parse(e.toUrl("bootstrap")).fsPath,{serverName:"Debug Telemetry",timeout:3e5,args:[l+"."+a,JSON.stringify(r),s],env:{ELECTRON_RUN_AS_NODE:1,PIPE_LOGGING:"true",AMD_ENTRYPOINT:"vs/workbench/parts/debug/node/telemetryApp"}})).getChannel("telemetryAppender"),g=new A.TelemetryAppenderClient(d);n.customTelemetryService=new x.TelemetryService({appender:g},n.configurationService)}var v=n.instantiationService.createInstance(O.RawDebugSession,i,t.debugServer,o,n.customTelemetryService),y=n.model.addProcess(t,v);return n.toDisposeOnSessionEnd.set(v.getId(),[]),u&&n.toDisposeOnSessionEnd.get(v.getId()).push(u),n.registerSessionListeners(y,v),v.initialize({clientID:"vscode",adapterID:t.type,pathFormat:"path",linesStartAt1:!0,columnsStartAt1:!0,supportsVariableType:!0,supportsVariablePaging:!0,supportsRunInTerminalRequest:!0}).then(function(e){return n.model.setExceptionBreakpoints(v.capabilities.exceptionBreakpointFilters),"attach"===t.request?v.attach(t):v.launch(t)}).then(function(e){if(v.disconnected)return f.TPromise.as(null);n.viewModel.focusedProcess||n.focusStackFrameAndEvaluate(null,y);var i=t.internalConsoleOptions||n.configurationService.getConfiguration("debug").internalConsoleOptions;return("openOnSessionStart"===i||!n.viewModel.changedWorkbenchViewState&&"openOnFirstSessionStart"===i)&&n.panelService.openPanel(D.REPL_ID,!1).done(void 0,h.onUnexpectedError),n.viewModel.changedWorkbenchViewState||!n.partService.isVisible(K.Parts.SIDEBAR_PART)&&n.contextService.hasWorkspace()||(n.viewModel.changedWorkbenchViewState=!0,n.viewletService.openViewlet(D.VIEWLET_ID)),n.extensionService.activateByEvent("onDebug:"+t.type).done(null,h.onUnexpectedError),n.inDebugMode.set(!0),n.debugType.set(t.type),n.model.getProcesses().length>1&&n.viewModel.setMultiProcessView(!0),n.updateStateAndEmit(v.getId(),D.State.Running),n.telemetryService.publicLog("debugSessionStart",{type:t.type,breakpointCount:n.model.getBreakpoints().length,exceptionBreakpoints:n.model.getExceptionBreakpoints(),watchExpressionsCount:n.model.getWatchExpressions().length,extensionName:o.extensionDescription.publisher+"."+o.extensionDescription.name,isBuiltin:o.extensionDescription.isBuiltin,launchJsonExists:n.contextService.hasWorkspace()&&!!n.configurationService.getConfiguration("launch",{resource:n.contextService.getWorkspace().resource})})}).then(function(){return y},function(e){if(e instanceof Error&&"Canceled"===e.message)return f.TPromise.as(null);var i=e instanceof Error?e.message:e;n.telemetryService.publicLog("debugMisconfiguration",{type:t?t.type:void 0,error:i}),n.updateStateAndEmit(v.getId(),D.State.Inactive),v.disconnected||v.disconnect().done(null,h.onUnexpectedError),n.model.getReplElements().length>0&&n.panelService.openPanel(D.REPL_ID,!1).done(void 0,h.onUnexpectedError);var r=n.instantiationService.createInstance(N.ConfigureAction,N.ConfigureAction.ID,N.ConfigureAction.LABEL),o=e.actions&&e.actions.length?e.actions.concat([r]):[I.CloseAction,r];n.messageService.show(p.default.Error,{message:i,actions:o})})})},t.prototype.runPreLaunchTask=function(e){var t=this;return e?this.taskService.getTask(e).then(function(i){if(!i)return f.TPromise.wrapError(h.create(n.localize(16,null,e)));if(t.lastTaskEvent&&(t.lastTaskEvent.taskName===e||t.lastTaskEvent.taskId===i._id))return f.TPromise.as(null);if(t.lastTaskEvent)return f.TPromise.wrapError(h.create(n.localize(17,null,t.lastTaskEvent.taskName,e)));var r=t.taskService.run(i).then(function(e){return t.lastTaskEvent=null,e},function(e){t.lastTaskEvent=null});return i.isBackground?new f.TPromise(function(e,n){return t.taskService.addOneTimeListener(B.TaskServiceEvents.Inactive,function(){return e(null)})}):r}):f.TPromise.as(null)},t.prototype.rawAttach=function(e,t){var n=this;if(e)return e.attach({port:t});var i=this.configurationManager.getConfiguration(this.viewModel.selectedConfigurationName);return this.configurationManager.resloveConfiguration(i).then(function(e){e.request="attach",e.port=t,n.doCreateProcess(e)})},t.prototype.sourceIsNotAvailable=function(e){this.model.sourceIsNotAvailable(e)},t.prototype.restartProcess=function(e,t){var n=this;if(e.session.capabilities.supportsRestartRequest)return this.textFileService.saveAll().then(function(){return e.session.custom("restart",null)});var i=this.viewModel.focusedProcess,r=i&&e.getId()===i.getId();return e.session.disconnect(!0).then(function(){return new f.TPromise(function(i,r){setTimeout(function(){var o=e.configuration;n.launchJsonChanged&&(n.launchJsonChanged=!1,(o=n.configurationManager.getConfiguration(e.configuration.name)||o).type=e.configuration.type,o.noDebug=e.configuration.noDebug),o.__restart=t,n.createProcess(o).then(function(){return i(null)},function(e){return r(e)})},300)})}).then(function(){if(r){var t=n.model.getProcesses().filter(function(t){return t.configuration.name===e.configuration.name}).pop();t&&t!==n.viewModel.focusedProcess&&n.focusStackFrameAndEvaluate(null,t)}})},t.prototype.stopProcess=function(e){if(e)return e.session.disconnect(!1,!0);var t=this.model.getProcesses();if(t.length)return f.TPromise.join(t.map(function(e){return e.session.disconnect(!1,!0)}));this.sessionStates.clear(),this._onDidChangeState.fire()},t.prototype.onSessionEnd=function(e){var t=this.model.getBreakpoints().length>0,n=this.model.getProcesses().filter(function(t){return t.getId()===e.getId()}).pop();this.telemetryService.publicLog("debugSessionStop",{type:n&&n.configuration.type,success:e.emittedStopped||!t,sessionLengthInSeconds:e.getLengthInSeconds(),breakpointCount:this.model.getBreakpoints().length,watchExpressionsCount:this.model.getWatchExpressions().length}),this.model.removeProcess(e.getId()),n&&n.state!==D.ProcessState.INACTIVE&&this._onDidEndProcess.fire(n),this.toDisposeOnSessionEnd.set(e.getId(),i.dispose(this.toDisposeOnSessionEnd.get(e.getId())));var r=this.viewModel.focusedProcess;if(r&&r.getId()===e.getId()&&this.focusStackFrameAndEvaluate(null).done(null,h.onUnexpectedError),this.updateStateAndEmit(e.getId(),D.State.Inactive),0===this.model.getProcesses().length){var o={};this.model.getBreakpoints().forEach(function(e){o[e.getId()]={line:e.lineNumber,verified:!1,column:e.column,endLine:e.endLineNumber,endColumn:e.endColumn}}),this.model.updateBreakpoints(o),this.inDebugMode.reset(),this.debugType.reset(),this.viewModel.setMultiProcessView(!1),this.partService.isVisible(K.Parts.SIDEBAR_PART)&&this.configurationService.getConfiguration("debug").openExplorerOnEnd&&this.viewletService.openViewlet(V.VIEWLET_ID).done(null,h.onUnexpectedError)}},t.prototype.getModel=function(){return this.model},t.prototype.getViewModel=function(){return this.viewModel},t.prototype.getConfigurationManager=function(){return this.configurationManager},t.prototype.sendAllBreakpoints=function(e){var t=this;return f.TPromise.join(u.distinct(this.model.getBreakpoints(),function(e){return e.uri.toString()}).map(function(n){return t.sendBreakpoints(n.uri,!1,e)})).then(function(){return t.sendFunctionBreakpoints(e)}).then(function(){return t.sendExceptionBreakpoints(e)})},t.prototype.sendBreakpoints=function(e,t,n){var i=this;void 0===t&&(t=!1);return this.sendToOneOrAllProcesses(n,function(n){var r=n.session;if(!r.readyForBreakpoints)return f.TPromise.as(null);if(i.textFileService.isDirty(e))return i.breakpointsToSendOnResourceSaved.add(e.toString()),f.TPromise.as(null);var s=i.model.getBreakpoints().filter(function(t){return i.model.areBreakpointsActivated()&&t.enabled&&t.uri.toString()===e.toString()}),a=n.sources.get(e.toString()),c=a?a.raw:{path:o.normalize(e.fsPath,!0),name:o.basename(e.fsPath)};return r.setBreakpoints({source:c,lines:s.map(function(e){return e.lineNumber}),breakpoints:s.map(function(e){return{line:e.lineNumber,column:e.column,condition:e.condition,hitCondition:e.hitCondition}}),sourceModified:t}).then(function(e){if(e&&e.body){for(var t={},n=0;n<s.length;n++)t[s[n].getId()]=e.body.breakpoints[n],s[n].column||(t[s[n].getId()].column=void 0);i.model.updateBreakpoints(t)}})})},t.prototype.sendFunctionBreakpoints=function(e){var t=this;return this.sendToOneOrAllProcesses(e,function(e){var n=e.session;if(!n.readyForBreakpoints||!n.capabilities.supportsFunctionBreakpoints)return f.TPromise.as(null);var i=t.model.getFunctionBreakpoints().filter(function(e){return e.enabled&&t.model.areBreakpointsActivated()});return n.setFunctionBreakpoints({breakpoints:i}).then(function(e){if(e&&e.body){for(var n={},r=0;r<i.length;r++)n[i[r].getId()]=e.body.breakpoints[r];t.model.updateFunctionBreakpoints(n)}})})},t.prototype.sendExceptionBreakpoints=function(e){var t=this;return this.sendToOneOrAllProcesses(e,function(e){var n=e.session;if(!n.readyForBreakpoints||0===t.model.getExceptionBreakpoints().length)return f.TPromise.as(null);var i=t.model.getExceptionBreakpoints().filter(function(e){return e.enabled});return n.setExceptionBreakpoints({filters:i.map(function(e){return e.filter})})})},t.prototype.sendToOneOrAllProcesses=function(e,t){return e?t(e):f.TPromise.join(this.model.getProcesses().map(function(e){return t(e)})).then(function(){})},t.prototype.onFileChanges=function(e){var t=this;this.model.removeBreakpoints(this.model.getBreakpoints().filter(function(t){return e.contains(t.uri,w.FileChangeType.DELETED)})),e.getUpdated().forEach(function(e){t.breakpointsToSendOnResourceSaved.has(e.resource.toString())&&(t.breakpointsToSendOnResourceSaved.delete(e.resource.toString()),t.sendBreakpoints(e.resource,!0).done(null,h.onUnexpectedError)),e.resource.toString().indexOf(".vscode/launch.json")>=0&&(t.launchJsonChanged=!0)})},t.prototype.store=function(){var e=this.model.getBreakpoints();e.length?this.storageService.store("debug.breakpoint",JSON.stringify(e),P.StorageScope.WORKSPACE):this.storageService.remove("debug.breakpoint",P.StorageScope.WORKSPACE),this.model.areBreakpointsActivated()?this.storageService.remove(X,P.StorageScope.WORKSPACE):this.storageService.store(X,"false",P.StorageScope.WORKSPACE);var t=this.model.getFunctionBreakpoints();t.length?this.storageService.store("debug.functionbreakpoint",JSON.stringify(t),P.StorageScope.WORKSPACE):this.storageService.remove("debug.functionbreakpoint",P.StorageScope.WORKSPACE);var n=this.model.getExceptionBreakpoints();n.length?this.storageService.store("debug.exceptionbreakpoint",JSON.stringify(n),P.StorageScope.WORKSPACE):this.storageService.remove("debug.exceptionbreakpoint",P.StorageScope.WORKSPACE),this.storageService.store(Q,this.viewModel.selectedConfigurationName,P.StorageScope.WORKSPACE);var i=this.model.getWatchExpressions();i.length?this.storageService.store("debug.watchexpressions",JSON.stringify(i.map(function(e){return{name:e.name,id:e.getId()}})),P.StorageScope.WORKSPACE):this.storageService.remove("debug.watchexpressions",P.StorageScope.WORKSPACE)},t.prototype.dispose=function(){this.toDisposeOnSessionEnd.forEach(function(e){return i.dispose(e)}),this.toDispose=i.dispose(this.toDispose)},t}();Z=v([y(0,P.IStorageService),y(1,q.IWorkbenchEditorService),y(2,U.ITextFileService),y(3,z.IViewletService),y(4,H.IPanelService),y(5,I.IMessageService),y(6,K.IPartService),y(7,T.IWindowsService),y(8,$.IWindowIPCService),y(9,k.ITelemetryService),y(10,G.IWorkspaceContextService),y(11,b.IContextKeyService),y(12,_.ILifecycleService),y(13,C.IInstantiationService),y(14,E.IExtensionService),y(15,S.IMarkerService),y(16,B.ITaskService),y(17,w.IFileService),y(18,j.IConfigurationService),y(19,L.ICommandService)],Z),t.DebugService=Z}),define(u[1334],d([1,0,568,35,15,116,72,64,50,103,106,1316,85,67,47,78,972,134,1140,1333,971,57,22,1291,84,1146,166,989,985,1143]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var L=function(e){function t(t,n,i,r){return e.call(this,t,n,f.VIEWLET_ID,i,r)||this}return h(t,e),t}(l.ToggleViewletAction);L.ID=f.VIEWLET_ID,L.LABEL=n.localize(0,null),L=v([y(2,w.IViewletService),y(3,I.IWorkbenchEditorService)],L);var P=function(e){function t(t,n,i,r){return e.call(this,t,n,f.REPL_ID,i,r)||this}return h(t,e),t}(u.TogglePanelAction);P.ID="workbench.debug.action.toggleRepl",P.LABEL=n.localize(1,null),P=v([y(2,m.IPanelService),y(3,g.IPartService)],P),r.Registry.as(l.Extensions.Viewlets).registerViewlet(new l.ViewletDescriptor("vs/workbench/parts/debug/browser/debugViewlet","DebugViewlet",f.VIEWLET_ID,n.localize(2,null),"debug",40));var D={primary:3106},O={primary:3127};r.Registry.as(u.Extensions.Panels).registerPanel(new u.PanelDescriptor("vs/workbench/parts/debug/electron-browser/repl","Repl",f.REPL_ID,n.localize(3,null),"repl",30,P.ID)),r.Registry.as(u.Extensions.Panels).setDefaultPanelId(f.REPL_ID),A.ViewsRegistry.registerViews([{id:"workbench.debug.variablesView",name:"",ctor:d.VariablesView,order:10,size:40,location:A.ViewLocation.Debug}]),A.ViewsRegistry.registerViews([{id:"workbench.debug.watchExpressionsView",name:"",ctor:d.WatchExpressionsView,order:20,size:10,location:A.ViewLocation.Debug}]),A.ViewsRegistry.registerViews([{id:"workbench.debug.callStackView",name:"",ctor:d.CallStackView,order:30,size:30,location:A.ViewLocation.Debug}]),A.ViewsRegistry.registerViews([{id:"workbench.debug.breakPointsView",name:"",ctor:d.BreakpointsView,order:40,size:20,location:A.ViewLocation.Debug}]);var R=r.Registry.as(c.Extensions.WorkbenchActions);R.registerWorkbenchAction(new i.SyncActionDescriptor(P,P.ID,P.LABEL,O),"View: Debug Console",n.localize(4,null)),R.registerWorkbenchAction(new i.SyncActionDescriptor(L,L.ID,L.LABEL,D),"View: Show Debug",n.localize(5,null)),r.Registry.as(p.Extensions.Workbench).registerWorkbenchContribution(b.DebugEditorModelManager),r.Registry.as(p.Extensions.Workbench).registerWorkbenchContribution(_.DebugActionsWidget),r.Registry.as(p.Extensions.Workbench).registerWorkbenchContribution(C.DebugContentProvider),r.Registry.as(p.Extensions.Workbench).registerWorkbenchContribution(x.StatusBarColorProvider);var M=n.localize(6,null);R.registerWorkbenchAction(new i.SyncActionDescriptor(S.StartAction,S.StartAction.ID,S.StartAction.LABEL,{primary:63},f.CONTEXT_NOT_IN_DEBUG_MODE),"Debug: Start Debugging",M),R.registerWorkbenchAction(new i.SyncActionDescriptor(S.StepOverAction,S.StepOverAction.ID,S.StepOverAction.LABEL,{primary:68},f.CONTEXT_IN_DEBUG_MODE),"Debug: Step Over",M),R.registerWorkbenchAction(new i.SyncActionDescriptor(S.StepIntoAction,S.StepIntoAction.ID,S.StepIntoAction.LABEL,{primary:69},f.CONTEXT_IN_DEBUG_MODE,s.KeybindingsRegistry.WEIGHT.workbenchContrib(1)),"Debug: Step Into",M),R.registerWorkbenchAction(new i.SyncActionDescriptor(S.StepOutAction,S.StepOutAction.ID,S.StepOutAction.LABEL,{primary:1093},f.CONTEXT_IN_DEBUG_MODE),"Debug: Step Out",M),R.registerWorkbenchAction(new i.SyncActionDescriptor(S.RestartAction,S.RestartAction.ID,S.RestartAction.LABEL,{primary:3135},f.CONTEXT_IN_DEBUG_MODE),"Debug: Restart",M),R.registerWorkbenchAction(new i.SyncActionDescriptor(S.StopAction,S.StopAction.ID,S.StopAction.LABEL,{primary:1087},f.CONTEXT_IN_DEBUG_MODE),"Debug: Stop",M),R.registerWorkbenchAction(new i.SyncActionDescriptor(S.DisconnectAction,S.DisconnectAction.ID,S.DisconnectAction.LABEL),"Debug: Disconnect",M),R.registerWorkbenchAction(new i.SyncActionDescriptor(S.ContinueAction,S.ContinueAction.ID,S.ContinueAction.LABEL,{primary:63},f.CONTEXT_IN_DEBUG_MODE),"Debug: Continue",M),R.registerWorkbenchAction(new i.SyncActionDescriptor(S.PauseAction,S.PauseAction.ID,S.PauseAction.LABEL,{primary:64},f.CONTEXT_IN_DEBUG_MODE),"Debug: Pause",M),R.registerWorkbenchAction(new i.SyncActionDescriptor(S.ConfigureAction,S.ConfigureAction.ID,S.ConfigureAction.LABEL),"Debug: Open launch.json",M),R.registerWorkbenchAction(new i.SyncActionDescriptor(S.AddFunctionBreakpointAction,S.AddFunctionBreakpointAction.ID,S.AddFunctionBreakpointAction.LABEL),"Debug: Add Function Breakpoint",M),R.registerWorkbenchAction(new i.SyncActionDescriptor(S.ReapplyBreakpointsAction,S.ReapplyBreakpointsAction.ID,S.ReapplyBreakpointsAction.LABEL),"Debug: Reapply All Breakpoints",M),R.registerWorkbenchAction(new i.SyncActionDescriptor(S.RunAction,S.RunAction.ID,S.RunAction.LABEL,{primary:2111},f.CONTEXT_NOT_IN_DEBUG_MODE),"Debug: Start Without Debugging",M),R.registerWorkbenchAction(new i.SyncActionDescriptor(S.RemoveAllBreakpointsAction,S.RemoveAllBreakpointsAction.ID,S.RemoveAllBreakpointsAction.LABEL),"Debug: Remove All Breakpoints",M),R.registerWorkbenchAction(new i.SyncActionDescriptor(S.EnableAllBreakpointsAction,S.EnableAllBreakpointsAction.ID,S.EnableAllBreakpointsAction.LABEL),"Debug: Enable All Breakpoints",M),R.registerWorkbenchAction(new i.SyncActionDescriptor(S.DisableAllBreakpointsAction,S.DisableAllBreakpointsAction.ID,S.DisableAllBreakpointsAction.LABEL),"Debug: Disable All Breakpoints",M),R.registerWorkbenchAction(new i.SyncActionDescriptor(S.ClearReplAction,S.ClearReplAction.ID,S.ClearReplAction.LABEL),"Debug: Clear Console",M),R.registerWorkbenchAction(new i.SyncActionDescriptor(S.FocusReplAction,S.FocusReplAction.ID,S.FocusReplAction.LABEL),"Debug: Focus Debug Console",M),R.registerWorkbenchAction(new i.SyncActionDescriptor(S.SelectAndStartAction,S.SelectAndStartAction.ID,S.SelectAndStartAction.LABEL),"Debug: Select and Start Debugging",M),r.Registry.as(k.Extensions.Quickopen).registerQuickOpenHandler(new k.QuickOpenHandlerDescriptor("vs/workbench/parts/debug/browser/debugQuickOpen","DebugQuickOpenHandler","debug ","inLaunchConfigurationsPicker",n.localize(7,null))),o.registerSingleton(f.IDebugService,E.DebugService),r.Registry.as(a.Extensions.Configuration).registerConfiguration({id:"debug",order:20,title:n.localize(8,null),type:"object",properties:{"debug.allowBreakpointsEverywhere":{type:"boolean",description:n.localize(9,null),default:!1},"debug.openExplorerOnEnd":{type:"boolean",description:n.localize(10,null),default:!1},"debug.inlineValues":{type:"boolean",description:n.localize(11,null),default:!1},"debug.hideActionBar":{type:"boolean",description:n.localize(12,null),default:!1},"debug.internalConsoleOptions":f.INTERNAL_CONSOLE_OPTIONS_SCHEMA,launch:{type:"object",description:n.localize(13,null),default:{}}}}),T.registerCommands()}),define(u[437],d([1,0,610,4,21,36,28,168,92,6,20,39,97,62,43,16]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var b=p.remote.dialog,S=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n,null,!0)||this;return s.windowsService=i,s.fileService=r,s.environmentService=o,s}return h(t,e),t.prototype.run=function(){var e=this,t=this.environmentService.extensionsPath;return this.fileService.resolveFile(m.default.file(t)).then(function(n){var i;return i=n.hasChildren?n.children[0].resource.fsPath:s.normalize(t,!0),e.windowsService.showItemInFolder(i)})},t.prototype.isEnabled=function(){return!0},t}(r.Action);S.ID="workbench.extensions.action.openExtensionsFolder",S.LABEL=n.localize(0,null),S=v([y(2,f.IWindowsService),y(3,g.IFileService),y(4,d.IEnvironmentService)],S),t.OpenExtensionsFolderAction=S;var _=function(e){function t(n,i,r,o,s){void 0===n&&(n=t.ID),void 0===i&&(i=t.LABEL);var a=e.call(this,n,i,"extension-action install-vsix",!0)||this;return a.extensionsWorkbenchService=r,a.messageService=o,a.instantiationService=s,a}return h(t,e),t.prototype.run=function(){var e=this,t=b.showOpenDialog(p.remote.getCurrentWindow(),{filters:[{name:"VSIX Extensions",extensions:["vsix"]}],properties:["openFile"]});return t?i.TPromise.join(t.map(function(t){return e.extensionsWorkbenchService.install(t)})).then(function(){e.messageService.show(o.default.Info,{message:n.localize(2,null),actions:[e.instantiationService.createInstance(a.ReloadWindowAction,a.ReloadWindowAction.ID,n.localize(3,null))]})}):i.TPromise.as(null)},t}(r.Action);_.ID="workbench.extensions.action.installVSIX",_.LABEL=n.localize(1,null),_=v([y(2,c.IExtensionsWorkbenchService),y(3,u.IMessageService),y(4,l.IInstantiationService)],_),t.InstallVSIXAction=_});S=this&&this.__generator||function(e,t){function n(e){return function(t){return i([e,t])}}function i(n){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,o&&(s=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){c.label=n[1];break}if(6===n[0]&&c.label<s[1]){c.label=s[1],s=n;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(n);break}s[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],o=0}finally{r=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var r,o,s,a,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};define(u[349],d([1,0,612,18,4,7,5,40,8,150,49,89,57,9,19,6,59,92,210,87,437,303,1317,290,109,22,45,20,36,175,13,29,23,166,148,31,27,17,41,965]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,_,E,C,w,I,T,k,x,A,L,P,D,O,R,M,N,F,W,B,V,z,H,K){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var U=new H.RawContextKey("searchExtensions",!1),j=new H.RawContextKey("searchInstalledExtensions",!1),G=new H.RawContextKey("searchRecommendedExtensions",!1),q=function(e){function t(t,n,r,o,s,a,c,l,u,d,h,p,f,g,v,m){var y=e.call(this,E.VIEWLET_ID,W.ViewLocation.Extensions,E.VIEWLET_ID+".state",t,p,r,d,f,g,v,m)||this;return y.progressService=n,y.editorService=o,y.editorInputService=s,y.extensionsWorkbenchService=a,y.extensionManagementService=c,y.messageService=l,y.viewletService=u,y.configurationService=h,y.disposables=[],y.registerViews(),y.searchDelayer=new i.ThrottledDelayer(500),y.searchExtensionsContextKey=U.bindTo(g),y.searchInstalledExtensionsContextKey=j.bindTo(g),y.searchRecommendedExtensionsContextKey=G.bindTo(g),y.disposables.push(u.onDidViewletOpen(y.onViewletOpen,y,y.disposables)),y.isAutoUpdateEnabled=y.extensionsWorkbenchService.isAutoUpdateEnabled,y.configurationService.onDidUpdateConfiguration(function(){var e=y.extensionsWorkbenchService.isAutoUpdateEnabled;y.isAutoUpdateEnabled!==e&&(y.isAutoUpdateEnabled=e,y.secondaryActions=null,y.updateTitleArea())},y,y.disposables),y}return h(t,e),t.prototype.registerViews=function(){var e=[];e.push(this.createMarketPlaceExtensionsListViewDescriptor()),e.push(this.createInstalledExtensionsListViewDescriptor()),e.push(this.createSearchInstalledExtensionsListViewDescriptor()),e.push(this.createRecommendedExtensionsListViewDescriptor()),W.ViewsRegistry.registerViews(e)},t.prototype.createMarketPlaceExtensionsListViewDescriptor=function(){return{id:"extensions.listView",name:n.localize(0,null),location:W.ViewLocation.Extensions,ctor:k.ExtensionsListView,when:H.ContextKeyExpr.and(H.ContextKeyExpr.has("searchExtensions"),H.ContextKeyExpr.not("searchInstalledExtensions")),size:100}},t.prototype.createInstalledExtensionsListViewDescriptor=function(){return{id:"extensions.installedList",name:n.localize(1,null),location:W.ViewLocation.Extensions,ctor:k.InstalledExtensionsView,when:H.ContextKeyExpr.not("searchExtensions"),size:50}},t.prototype.createSearchInstalledExtensionsListViewDescriptor=function(){return{id:"extensions.searchInstalledList",name:n.localize(2,null),location:W.ViewLocation.Extensions,ctor:k.InstalledExtensionsView,when:H.ContextKeyExpr.has("searchInstalledExtensions"),size:50}},t.prototype.createRecommendedExtensionsListViewDescriptor=function(){return{id:"extensions.recommendedList",name:n.localize(3,null),location:W.ViewLocation.Extensions,ctor:k.RecommendedExtensionsView,when:H.ContextKeyExpr.not("searchExtensions"),size:50}},t.prototype.create=function(t){var i=this;t.addClass("extensions-viewlet"),this.root=t.getHTMLElement();var r=f.append(this.root,f.$(".header"));this.searchBox=f.append(r,f.$("input.search-box")),this.searchBox.placeholder=n.localize(4,null),this.disposables.push(f.addStandardDisposableListener(this.searchBox,f.EventType.FOCUS,function(){return f.addClass(i.searchBox,"synthetic-focus")})),this.disposables.push(f.addStandardDisposableListener(this.searchBox,f.EventType.BLUR,function(){return f.removeClass(i.searchBox,"synthetic-focus")})),this.extensionsBox=f.append(this.root,f.$(".extensions"));var o=c.chain(l.domEvent(this.searchBox,"keydown")).map(function(e){return new d.StandardKeyboardEvent(e)});o.filter(function(e){return 9===e.keyCode}).on(this.onEscape,this,this.disposables);var s=o.filter(function(){return i.count()>0});s.filter(function(e){return 3===e.keyCode}).on(this.onEnter,this,this.disposables),s.filter(function(e){return 16===e.keyCode}).on(this.onUpArrow,this,this.disposables),s.filter(function(e){return 18===e.keyCode}).on(this.onDownArrow,this,this.disposables),s.filter(function(e){return 11===e.keyCode}).on(this.onPageUpArrow,this,this.disposables),s.filter(function(e){return 12===e.keyCode}).on(this.onPageDownArrow,this,this.disposables);var u=l.domEvent(this.searchBox,"input");return u(function(e){return i.triggerSearch(e.immediate)},null,this.disposables),this.onSearchChange=c.mapEvent(u,function(e){return e.target.value}),this.extensionManagementService.getInstalled(w.LocalExtensionType.User).then(function(t){return 0===t.length&&(i.searchBox.value="@sort:installs"),i.searchExtensionsContextKey.set(!!i.searchBox.value),e.prototype.create.call(i,new a.Builder(i.extensionsBox))})},t.prototype.updateStyles=function(){e.prototype.updateStyles.call(this),this.searchBox.style.backgroundColor=this.getColor(N.inputBackground),this.searchBox.style.color=this.getColor(N.inputForeground);var t=this.getColor(N.inputBorder);this.searchBox.style.borderWidth=t?"1px":null,this.searchBox.style.borderStyle=t?"solid":null,this.searchBox.style.borderColor=t},t.prototype.setVisible=function(t){var n=this,i=this.isVisible()!==t;return i&&t&&(this.searchBox.focus(),this.searchBox.setSelectionRange(0,this.searchBox.value.length)),e.prototype.setVisible.call(this,t).then(function(){i&&t&&n.doSearch()})},t.prototype.focus=function(){this.searchBox.focus()},t.prototype.layout=function(t){f.toggleClass(this.root,"narrow",t.width<=300),e.prototype.layout.call(this,new a.Dimension(t.width,t.height-38))},t.prototype.getOptimalWidth=function(){return 400},t.prototype.getActions=function(){return this.primaryActions||(this.primaryActions=[this.instantiationService.createInstance(C.ClearExtensionsInputAction,C.ClearExtensionsInputAction.ID,C.ClearExtensionsInputAction.LABEL,this.onSearchChange)]),this.primaryActions},t.prototype.getSecondaryActions=function(){return this.secondaryActions||(this.secondaryActions=[this.instantiationService.createInstance(C.ShowInstalledExtensionsAction,C.ShowInstalledExtensionsAction.ID,C.ShowInstalledExtensionsAction.LABEL),this.instantiationService.createInstance(C.ShowOutdatedExtensionsAction,C.ShowOutdatedExtensionsAction.ID,C.ShowOutdatedExtensionsAction.LABEL),this.instantiationService.createInstance(C.ShowDisabledExtensionsAction,C.ShowDisabledExtensionsAction.ID,C.ShowDisabledExtensionsAction.LABEL),this.instantiationService.createInstance(C.ShowRecommendedExtensionsAction,C.ShowRecommendedExtensionsAction.ID,C.ShowRecommendedExtensionsAction.LABEL),this.instantiationService.createInstance(C.ShowWorkspaceRecommendedExtensionsAction,C.ShowWorkspaceRecommendedExtensionsAction.ID,C.ShowWorkspaceRecommendedExtensionsAction.LABEL),this.instantiationService.createInstance(C.ShowPopularExtensionsAction,C.ShowPopularExtensionsAction.ID,C.ShowPopularExtensionsAction.LABEL),new u.Separator,this.instantiationService.createInstance(C.ChangeSortAction,"extensions.sort.install",n.localize(5,null),this.onSearchChange,"installs"),this.instantiationService.createInstance(C.ChangeSortAction,"extensions.sort.rating",n.localize(6,null),this.onSearchChange,"rating"),this.instantiationService.createInstance(C.ChangeSortAction,"extensions.sort.name",n.localize(7,null),this.onSearchChange,"name"),new u.Separator,this.instantiationService.createInstance(C.CheckForUpdatesAction,C.CheckForUpdatesAction.ID,C.CheckForUpdatesAction.LABEL)].concat(this.isAutoUpdateEnabled?[this.instantiationService.createInstance(C.DisableAutoUpdateAction,C.DisableAutoUpdateAction.ID,C.DisableAutoUpdateAction.LABEL)]:[this.instantiationService.createInstance(C.UpdateAllAction,C.UpdateAllAction.ID,C.UpdateAllAction.LABEL),this.instantiationService.createInstance(C.EnableAutoUpdateAction,C.EnableAutoUpdateAction.ID,C.EnableAutoUpdateAction.LABEL)],[this.instantiationService.createInstance(I.InstallVSIXAction,I.InstallVSIXAction.ID,I.InstallVSIXAction.LABEL),new u.Separator,this.instantiationService.createInstance(C.DisableAllAction,C.DisableAllAction.ID,C.DisableAllAction.LABEL),this.instantiationService.createInstance(C.EnableAllAction,C.EnableAllAction.ID,C.EnableAllAction.LABEL)])),this.secondaryActions},t.prototype.search=function(e){var t=new Event("input",{bubbles:!0});t.immediate=!0,this.searchBox.value=e,this.searchBox.dispatchEvent(t)},t.prototype.triggerSearch=function(e){var t=this;void 0===e&&(e=!1),this.searchDelayer.trigger(function(){return t.doSearch()},e||!this.searchBox.value?0:500).done(null,function(e){return t.onError(e)})},t.prototype.doSearch=function(){return b(this,void 0,r.TPromise,function(){var e;return S(this,function(t){switch(t.label){case 0:return e=this.searchBox.value||"",this.searchExtensionsContextKey.set(!!e),this.searchInstalledExtensionsContextKey.set(k.InstalledExtensionsView.isInsalledExtensionsQuery(e)),this.searchRecommendedExtensionsContextKey.set(k.RecommendedExtensionsView.isRecommendedExtensionsQuery(e)),[4,this.updateViews()];case 1:return t.sent(),[4,this.progress(r.TPromise.join(this.views.map(function(t){return t.show(e)})))];case 2:return t.sent(),[2]}})})},t.prototype.count=function(){return this.views.reduce(function(e,t){return t.count()+e},0)},t.prototype.onEscape=function(){this.search("")},t.prototype.onEnter=function(){this.views[0].select()},t.prototype.onUpArrow=function(){this.views[0].showPrevious()},t.prototype.onDownArrow=function(){this.views[0].showNext()},t.prototype.onPageUpArrow=function(){this.views[0].showPreviousPage()},t.prototype.onPageDownArrow=function(){this.views[0].showNextPage()},t.prototype.onViewletOpen=function(e){var t=this;if(e&&e.getId()!==E.VIEWLET_ID){var n=this.editorInputService.getStacksModel(),i=n.groups.map(function(e){var i=n.positionOfGroup(e),o=e.getEditors().filter(function(e){return e instanceof T.ExtensionsInput}).map(function(e){return t.editorService.closeEditor(i,e)});return r.TPromise.join(o)});r.TPromise.join(i).done(null,o.onUnexpectedError)}},t.prototype.progress=function(e){var t=this.progressService.show(!0);return i.always(e,function(){return t.done()})},t.prototype.onError=function(e){if(!o.isPromiseCanceledError(e)){var t=e&&e.message||"";if(/ECONNREFUSED/.test(t)){var i=o.create(n.localize(8,null),{actions:[this.instantiationService.createInstance(x.OpenGlobalSettingsAction,x.OpenGlobalSettingsAction.ID,x.OpenGlobalSettingsAction.LABEL),D.CloseAction]});this.messageService.show(O.default.Error,i)}else this.messageService.show(O.default.Error,e)}},t.prototype.dispose=function(){this.disposables=s.dispose(this.disposables),e.prototype.dispose.call(this)},t}(B.ComposedViewsViewlet);q=v([y(0,g.ITelemetryService),y(1,A.IProgressService),y(2,m.IInstantiationService),y(3,L.IWorkbenchEditorService),y(4,P.IEditorGroupService),y(5,E.IExtensionsWorkbenchService),y(6,w.IExtensionManagementService),y(7,D.IMessageService),y(8,p.IViewletService),y(9,M.IThemeService),y(10,F.IConfigurationService),y(11,V.IStorageService),y(12,z.IWorkspaceContextService),y(13,H.IContextKeyService),y(14,K.IContextMenuService),y(15,_.IExtensionService)],q),t.ExtensionsViewlet=q;var $=function(){function e(e,t){this.activityBarService=e,this.extensionsWorkbenchService=t,t.onChange(this.onServiceChange,this,this.disposables)}return e.prototype.getId=function(){return"vs.extensions.statusupdater"},e.prototype.onServiceChange=function(){if(s.dispose(this.badgeHandle),this.extensionsWorkbenchService.local.some(function(e){return e.state===E.ExtensionState.Installing}))this.badgeHandle=this.activityBarService.showActivity(E.VIEWLET_ID,new R.ProgressBadge(function(){return n.localize(9,null)}),"extensions-badge progress-badge");else{var e=this.extensionsWorkbenchService.local.reduce(function(e,t){return e+(t.outdated?1:0)},0);if(e>0){var t=new R.NumberBadge(e,function(e){return n.localize(10,null,e)});this.badgeHandle=this.activityBarService.showActivity(E.VIEWLET_ID,t,"extensions-badge count-badge")}}},e.prototype.dispose=function(){this.disposables=s.dispose(this.disposables),s.dispose(this.badgeHandle)},e}();$=v([y(0,R.IActivityBarService),y(1,E.IExtensionsWorkbenchService)],$),t.StatusUpdater=$}),define(u[1337],d([1,0,80,39,59,6,20,69,31,281,62,19,85,15,168,4,52,639,8,11,76,96,1289,263,131,16]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,m,b,S,_,E,C,w,I,T,k){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var x=function(){function e(e,t,n,i,r,o){var s=this;this._windowsService=e,this._timerService=t,this._messageService=n,this._envService=i,this._storageService=r,this._telemetryService=o,setTimeout(function(){return s._checkTimersAndSuggestToProfile()},5e3)}return e.prototype.getId=function(){return"performance.ProfilingHint"},e.prototype._checkTimersAndSuggestToProfile=function(){if(this._timerService.isInitialStartup&&!this._envService.args["prof-startup"]&&Array.isArray(e._myPercentiles)){var t=e._myPercentiles,i=t[0],r=t[1],o=this._timerService.startupMetrics.ellapsed;if(!(o<i||o>r||I.virtualMachineHint.value()>=.5||1!==Math.ceil(1e3*Math.random())||"stable"===this._envService.appQuality)){var s="performance.didPromptToProfile."+n.default.commit;if(void 0===this._storageService.get(s,c.StorageScope.GLOBAL,void 0)){var a=this._messageService.confirm({type:"info",message:b.localize(0,null),detail:b.localize(1,null,this._envService.appNameLong),primaryButton:"Restart and profile"});this._telemetryService.publicLog("profileStartupInvite",{acceptedInvite:a}),a?(this._storageService.store(s,"didProfile",c.StorageScope.GLOBAL),this._windowsService.relaunch({addArgs:["--prof-startup"]})):this._storageService.store(s,"didReject",c.StorageScope.GLOBAL)}}}},e}();x._percentiles=(D={},D["Windows_6.3.9600"]=[35782,35782],D["Windows_6.1.7601"]=[11160,18366],D["Windows_10.0.16199"]=[10423,17222],D["Windows_10.0.16193"]=[7503,11033],D["Windows_10.0.16188"]=[8544,8807],D["Windows_10.0.15063"]=[11085,16837],D["Windows_10.0.14393"]=[12585,32662],D["Windows_10.0.10586"]=[7047,10944],D["Windows_10.0.10240"]=[16176,16176],D["Mac_16.7.0"]=[2192,4050],D["Mac_16.6.0"]=[8043,10608],D["Mac_16.5.0"]=[4912,11348],D["Mac_16.4.0"]=[3900,4200],D["Mac_16.3.0"]=[7327,7327],D["Mac_16.1.0"]=[6090,6555],D["Mac_16.0.0"]=[32574,32574],D["Mac_15.6.0"]=[16082,17469],D["Linux_4.9.0-3-amd64"]=[2092,2197],D["Linux_4.9.0-2-amd64"]=[9779,9779],D["Linux_4.8.0-52-generic"]=[12803,13257],D["Linux_4.8.0-51-generic"]=[2670,2797],D["Linux_4.8.0-040800-generic"]=[3954,3954],D["Linux_4.4.0-78-generic"]=[4218,5891],D["Linux_4.4.0-77-generic"]=[6166,6166],D["Linux_4.11.2"]=[1323,1323],D["Linux_4.10.15-200.fc25.x86_64"]=[9270,9480],D["Linux_4.10.13-1-ARCH"]=[7116,8511],D["Linux_4.10.11-100.fc24.x86_64"]=[1845,1845],D["Linux_4.10.0-21-generic"]=[14805,16050],D["Linux_3.19.0-84-generic"]=[4840,4840],D["Linux_3.11.10-29-desktop"]=[1637,2891],D),x._myPercentiles=x._percentiles[_.Platform[_.platform]+"_"+C.release()],x=v([y(0,u.IWindowsService),y(1,l.ITimerService),y(2,s.IMessageService),y(3,i.IEnvironmentService),y(4,c.IStorageService),y(5,d.ITelemetryService)],x);var A=function(){function e(e,t,n,i,r,o){var s=this;this._windowsService=e,this._messageService=t,this._environmentService=n,this._instantiationService=i,g.TPromise.join([o.onReady(),S.toPromise(S.filterEvent(r.onDidChangePhase,function(e){return e===a.LifecyclePhase.Running}))]).then(function(){s._stopProfiling()})}return e.prototype.getId=function(){return"performance.StartupProfiler"},e.prototype._stopProfiling=function(){var e=this,t=this._environmentService.profileStartup;t&&w.stopProfiling(t.dir,t.prefix).then(function(){E.readdir(t.dir).then(function(e){return e.filter(function(e){return 0===e.indexOf(t.prefix)})}).then(function(n){var i=n.reduce(function(e,n){return""+e+m.join(t.dir,n)+"\n"},"\n");if(e._messageService.confirm({type:"info",message:b.localize(2,null),detail:b.localize(3,null,i),primaryButton:b.localize(4,null),secondaryButton:b.localize(5,null)})){var r=e._instantiationService.createInstance(f.ReportPerformanceIssueAction,f.ReportPerformanceIssueAction.ID,f.ReportPerformanceIssueAction.LABEL);g.TPromise.join([e._windowsService.showItemInFolder(m.join(t.dir,n[0])),r.run(":warning: Make sure to **attach** these files from your *home*-directory: :warning:\n"+n.map(function(e){return"-`"+e+"`"}).join("\n"))]).then(function(){e._messageService.confirm({type:"info",message:b.localize(6,null),detail:b.localize(7,null,e._environmentService.appNameLong),primaryButton:b.localize(8,null),secondaryButton:null}),e._windowsService.relaunch({removeArgs:["--prof-startup"]})})}else e._windowsService.relaunch({removeArgs:["--prof-startup"]})})})},e}();A=v([y(0,u.IWindowsService),y(1,s.IMessageService),y(2,i.IEnvironmentService),y(3,o.IInstantiationService),y(4,a.ILifecycleService),y(5,r.IExtensionService)],A);var L=function(){function t(e,t,n){var i=this;this._timerService=e,this._telemetryService=t,g.TPromise.join([g.TPromise.timeout(7e3),n.onReady()]).then(function(){i._sendWorkbenchMainSizeTelemetry(),i._validateTimers()})}return t.prototype.getId=function(){return"performance.PerformanceTelemetry"},t.prototype._validateTimers=function(){var e=this._timerService.startupMetrics,t=[];T.forEach(e.timers,function(e){e.value<0&&t.push(e.key)}),this._telemetryService.publicLog("perf:invalidTimers",{invalidTimers:t})},t.prototype._sendWorkbenchMainSizeTelemetry=function(){var t=this,n=k.default.parse(e.toUrl("vs/workbench/electron-browser/workbench.main.js")).fsPath;E.stat(n).then(function(e){t._telemetryService.publicLog("perf:jsFileSize",{workbenchMain:e.size})})},t}();L=v([y(0,l.ITimerService),y(1,d.ITelemetryService),y(2,r.IExtensionService)],L);var P=p.Registry.as(h.Extensions.Workbench);P.registerWorkbenchContribution(x),P.registerWorkbenchContribution(A),P.registerWorkbenchContribution(L);var D}),define(u[1338],d([1,0,4,36,107,69,20,31,129,97,8]),function(e,t,n,i,r,o,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(t,n,i){this._messageService=t,this._windowService=n,this._storageService=i,this._onDidChangePhase=new u.Emitter,this._onWillShutdown=new u.Emitter,this._onShutdown=new u.Emitter,this._phase=o.LifecyclePhase.Starting,this._registerListeners();var r=this._storageService.getInteger(e._lastShutdownReasonKey,a.StorageScope.WORKSPACE);this._storageService.remove(e._lastShutdownReasonKey,a.StorageScope.WORKSPACE),r===o.ShutdownReason.RELOAD?this._startupKind=o.StartupKind.ReloadedWindow:r===o.ShutdownReason.LOAD?this._startupKind=o.StartupKind.ReopenedWindow:this._startupKind=o.StartupKind.NewWindow}return Object.defineProperty(e.prototype,"phase",{get:function(){return this._phase},set:function(e){this._phase!==e&&(this._phase=e,this._onDidChangePhase.fire(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startupKind",{get:function(){return this._startupKind},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChangePhase",{get:function(){return this._onDidChangePhase.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onWillShutdown",{get:function(){return this._onWillShutdown.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onShutdown",{get:function(){return this._onShutdown.event},enumerable:!0,configurable:!0}),e.prototype._registerListeners=function(){var t=this,n=this._windowService.getWindowId();l.ipcRenderer.on("vscode:beforeUnload",function(i,r){t.phase=o.LifecyclePhase.ShuttingDown,t._storageService.store(e._lastShutdownReasonKey,JSON.stringify(r.reason),a.StorageScope.WORKSPACE),t.onBeforeUnload(r.reason).done(function(i){i?(t._storageService.remove(e._lastShutdownReasonKey,a.StorageScope.WORKSPACE),t.phase=o.LifecyclePhase.Running,l.ipcRenderer.send(r.cancelChannel,n)):(t._onShutdown.fire(r.reason),l.ipcRenderer.send(r.okChannel,n))})})},e.prototype.onBeforeUnload=function(e){var t=this,o=[];if(this._onWillShutdown.fire({veto:function(e){o.push(e)},reason:e}),0===o.length)return n.TPromise.as(!1);for(var s=[],a=!1,c=0,l=o;c<l.length;c++){var u=l[c];if(!0===u)return n.TPromise.as(!0);n.TPromise.is(u)&&s.push(u.then(function(e){e&&(a=!0)},function(e){t._messageService.show(i.default.Error,r.toErrorMessage(e)),a=!0}))}return n.TPromise.join(s).then(function(){return a})},e}();d._lastShutdownReasonKey="lifecyle.lastShutdownReason",d=v([y(0,s.IMessageService),y(1,c.IWindowIPCService),y(2,a.IStorageService)],d),t.LifecycleService=d}),define(u[1339],d([1,0,129,726,80,4,1120,20,11,19,21]),function(e,t,n,i,r,o,s,a,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=function(e){function t(t,n,i){var r=e.call(this,t,i)||this;return r.windowService=n,r}return h(t,e),t.prototype.confirm=function(e){var t=[];e.primaryButton?t.push(e.primaryButton):t.push(i.localize(0,null)),e.secondaryButton?t.push(e.secondaryButton):void 0===e.secondaryButton&&t.push(i.localize(1,null));var n={title:e.title,message:e.message,buttons:t,defaultId:0,cancelId:1};return e.detail&&(n.detail=e.detail),e.type&&(n.type=e.type),0===this.showMessageBox(n)},t.prototype.choose=function(e,t,n,i,r){var s=this;if(void 0===r&&(r=!1),r){var c=e===a.Severity.Info?"question":e===a.Severity.Error?"error":e===a.Severity.Warning?"warning":"none";return o.TPromise.wrap(this.showMessageBox({message:t,buttons:n,type:c,cancelId:i}))}var l=null,d=new o.TPromise(function(i,r){var a=function(e){return function(){return i(e),o.TPromise.as(!0)}},c=n.map(function(e,t){return new u.Action("?",e,"",!0,a(t))});l=s.show(e,{message:t,actions:c},function(){return d.cancel()})},function(){return l()});return d},t.prototype.showMessageBox=function(e){var t=this;e.buttons=e.buttons.map(function(e){return t.mnemonicLabel(e)}),e.buttons=c.isLinux?e.buttons.reverse():e.buttons,void 0!==e.defaultId&&(e.defaultId=c.isLinux?e.buttons.length-e.defaultId-1:e.defaultId),void 0!==e.cancelId&&(e.cancelId=c.isLinux?e.buttons.length-e.cancelId-1:e.cancelId),e.noLink=!0,e.title=e.title||r.default.nameLong;var n=this.windowService.getWindow().showMessageBox(e);return c.isLinux?e.buttons.length-n-1:n},t.prototype.mnemonicLabel=function(e){return c.isWindows?e.replace(/&&/g,"&"):e.replace(/\(&&\w\)|&&/g,"")},t}(s.WorkbenchMessageService);d=v([y(1,n.IWindowIPCService),y(2,l.ITelemetryService)],d),t.MessageService=d}),define(u[1340],d([1,0,733,28,12,11,30,1283,99,43,27,69,19,23,42,129,1221,80,39,6,20,139,62,160]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var k=function(e){function t(t,n,i,r,o,s,a,c,l,u,d,h,p,f){var g=e.call(this,r,t,a,s,n,i,o,d,u,h,p,f)||this;return g.modeService=c,g.windowService=l,g}return h(t,e),t.prototype.resolveTextContent=function(e,t){return this.fileService.resolveStreamContent(e,t).then(function(e){return b.ModelBuilder.fromStringStream(e.value).then(function(t){return{resource:e.resource,name:e.name,mtime:e.mtime,etag:e.etag,encoding:e.encoding,value:t.value,valueLogicalHash:t.hash}})})},t.prototype.confirmSave=function(e){if(this.environmentService.isExtensionDevelopment)return s.ConfirmResult.DONT_SAVE;var r=this.getDirty(e);if(0===r.length)return s.ConfirmResult.DONT_SAVE;var a=[1===r.length?n.localize(0,null,i.basename(r[0].fsPath)):n.localize(1,null,r.length)];r.length>1&&(a.push(""),a.push.apply(a,r.slice(0,t.MAX_CONFIRM_FILES).map(function(e){return i.basename(e.fsPath)})),r.length>t.MAX_CONFIRM_FILES&&(r.length-t.MAX_CONFIRM_FILES==1?a.push(n.localize(2,null)):a.push(n.localize(3,null,r.length-t.MAX_CONFIRM_FILES))),a.push(""));var c={label:r.length>1?this.mnemonicLabel(n.localize(4,null)):this.mnemonicLabel(n.localize(5,null)),result:s.ConfirmResult.SAVE},l={label:this.mnemonicLabel(n.localize(6,null)),result:s.ConfirmResult.DONT_SAVE},u={label:n.localize(7,null),result:s.ConfirmResult.CANCEL},d=[];o.isWindows?d.push(c,l,u):o.isLinux?d.push(l,u,c):d.push(c,u,l);var h={title:S.default.nameLong,message:a.join("\n"),type:"warning",detail:n.localize(8,null),buttons:d.map(function(e){return e.label}),noLink:!0,cancelId:d.indexOf(u)};return o.isLinux&&(h.defaultId=2),d[this.windowService.getWindow().showMessageBox(h)].result},t.prototype.mnemonicLabel=function(e){return o.isWindows?e.replace(/&&/g,"&"):e.replace(/\(&&\w\)|&&/g,"")},t.prototype.promptForPath=function(e){return this.windowService.getWindow().showSaveDialog(this.getSaveDialogOptions(e?i.normalize(e,!0):void 0))},t.prototype.getSaveDialogOptions=function(e){var t=this,s={defaultPath:e};if(!o.isWindows)return s;var a,c=i.extname(e),l=this.modeService.getRegisteredLanguageNames().map(function(e){var n=t.modeService.getExtensions(e);if(!n||!n.length)return null;var i={name:e,extensions:n.slice(0,10).map(function(e){return r.trim(e,".")})};return c&&n.indexOf(c)>=0?(a=i,null):i}).filter(function(e){return!!e}),u={name:n.localize(9,null),extensions:["*"]};return a?(l.unshift(a),l.unshift(u)):l.unshift(u),l.push({name:n.localize(10,null),extensions:[""]}),s.filters=l,s},t}(a.TextFileService);k.MAX_CONFIRM_FILES=10,k=v([y(0,u.IWorkspaceContextService),y(1,l.IFileService),y(2,c.IUntitledEditorService),y(3,d.ILifecycleService),y(4,E.IInstantiationService),y(5,p.ITelemetryService),y(6,f.IConfigurationService),y(7,g.IModeService),y(8,m.IWindowIPCService),y(9,_.IEnvironmentService),y(10,C.IMessageService),y(11,w.IBackupFileService),y(12,I.IWindowsService),y(13,T.IHistoryService)],k),t.TextFileService=k}),define(u[1341],d([1,0,4,16,737,52,94,24,26,59,117,137,129,31,19,15,7,65,23,64,39,20,6,36,1231,13,29,40,8,76,1222,1223,273]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A,L,P,D,O,R){"use strict";function M(e){switch(e){case d.VS_LIGHT_THEME:return"vs "+K+"-themes-light_vs-json";case d.VS_DARK_THEME:return"vs-dark "+K+"-themes-dark_vs-json";case d.VS_HC_THEME:return"hc-black "+K+"-themes-hc_black-json";case"vs "+U+"-themes-light_plus-tmTheme":return"vs "+K+"-themes-light_plus-json";case"vs-dark "+U+"-themes-dark_plus-tmTheme":return"vs-dark "+K+"-themes-dark_plus-json"}return e}function N(e,t){return e?e.styleSheetContent?(V(e.styleSheetContent,Q),n.TPromise.as(t(e))):F(e.path).then(function(n){var i=W(e.id,e.path,n);return e.styleSheetContent=i.content,e.hasFileIcons=i.hasFileIcons,e.hasFolderIcons=i.hasFolderIcons,e.isLoaded=!0,V(e.styleSheetContent,Q),t(e)},function(t){return n.TPromise.wrapError(new Error(r.localize(18,null,e.path)))}):(V("",Q),n.TPromise.as(t(e)))}function F(e){return P.readFile(e).then(function(e){var t=[],i=s.parse(e.toString(),t);return t.length>0?n.TPromise.wrapError(new Error(r.localize(19,null,t.map(function(e){return R.getParseErrorMessage(e.error)}).join(", ")))):n.TPromise.as(i)})}function W(e,t,n){function r(e){return i.default.file(o.join(o.dirname(t),e)).toString()}function s(e,t){function n(e,t){if(t){var n=c[t];n||(n=c[t]=[]),n.push(e)}}if(e){var i=".show-file-icons";t&&(i=t+" "+i);var r=".monaco-tree-row.expanded";e.folder&&(n(i+" .folder-icon::before",e.folder),a.hasFolderIcons=!0),e.folderExpanded&&(n(i+" "+r+" .folder-icon::before",e.folderExpanded),a.hasFolderIcons=!0),e.file&&(n(i+" .file-icon::before",e.file),a.hasFileIcons=!0);var o=e.folderNames;if(o)for(var s in o)n(i+" ."+B(s.toLowerCase())+"-name-folder-icon.folder-icon::before",o[s]),a.hasFolderIcons=!0;var l=e.folderNamesExpanded;if(l)for(var s in l)n(i+" "+r+" ."+B(s.toLowerCase())+"-name-folder-icon.folder-icon::before",l[s]),a.hasFolderIcons=!0;var u=e.languageIds;if(u)for(var d in u)n(i+" ."+B(d)+"-lang-file-icon.file-icon::before",u[d]),a.hasFileIcons=!0;var h=e.fileExtensions;if(h)for(var p in h){for(var f=[],g=p.toLowerCase().split("."),v=0;v<g.length;v++)f.push("."+B(g.slice(v).join("."))+"-ext-file-icon");n(i+" "+f.join("")+".file-icon::before",h[p]),a.hasFileIcons=!0}var m=e.fileNames;if(m)for(var y in m){f=[];y=y.toLowerCase(),f.push("."+B(y)+"-name-file-icon");for(var g=y.split("."),v=1;v<g.length;v++)f.push("."+B(g.slice(v).join("."))+"-ext-file-icon");n(i+" "+f.join("")+".file-icon::before",m[y]),a.hasFileIcons=!0}}}var a={content:"",hasFileIcons:!1,hasFolderIcons:!1};if(!n.iconDefinitions)return a;var c={};if(s(n),s(n.light,".vs"),s(n.highContrast,".hc-black"),!a.hasFileIcons&&!a.hasFolderIcons)return a;var l=[],u=n.fonts;Array.isArray(u)&&(u.forEach(function(e){var t=e.src.map(function(e){return"url('"+r(e.path)+"') format('"+e.format+"')"}).join(", ");l.push("@font-face { src: "+t+"; font-family: '"+e.id+"'; font-weigth: "+e.weight+"; font-style: "+e.style+"; }")}),l.push(".show-file-icons .file-icon::before, .show-file-icons .folder-icon::before { font-family: '"+u[0].id+"'; font-size: "+(u[0].size||"150%")+"}"));for(var d in c){var h=c[d],p=n.iconDefinitions[d];if(p&&(p.iconPath&&l.push(h.join(", ")+" { content: ' '; background-image: url(\""+r(p.iconPath)+'"); }'),p.fontCharacter||p.fontColor)){var f="";p.fontColor&&(f+=" color: "+p.fontColor+";"),p.fontCharacter&&(f+=" content: '"+p.fontCharacter+"';"),p.fontSize&&(f+=" font-size: "+p.fontSize+";"),p.fontId&&(f+=" font-family: "+p.fontId+";"),l.push(h.join(", ")+" { "+f+" }")}}return a.content=l.join("\n"),a}function B(e){return window.CSS.escape(e)}function V(e,t){var n=document.head.getElementsByClassName(t);if(0===n.length){var i=document.createElement("style");i.type="text/css",i.className=t,i.innerHTML=e,document.head.appendChild(i)}else n[0].innerHTML=e}Object.defineProperty(t,"__esModule",{value:!0});var z="vs-dark vscode-theme-defaults-themes-dark_plus-json",H="colorThemeData",K="vscode-theme-defaults",U="vscode-theme-colorful-defaults",j=g.Registry.as(k.Extensions.ThemingContribution),G=u.ExtensionsRegistry.registerExtensionPoint("themes",[],{description:r.localize(0,null),type:"array",items:{type:"object",defaultSnippets:[{body:{label:"${1:label}",id:"${2:id}",uiTheme:d.VS_DARK_THEME,path:"./themes/${3:id}.tmTheme."}}],properties:{id:{description:r.localize(1,null),type:"string"},label:{description:r.localize(2,null),type:"string"},uiTheme:{description:r.localize(3,null),enum:[d.VS_LIGHT_THEME,d.VS_DARK_THEME,d.VS_HC_THEME]},path:{description:r.localize(4,null),type:"string"}},required:["path","uiTheme"]}}),q=u.ExtensionsRegistry.registerExtensionPoint("iconThemes",[],{description:r.localize(5,null),type:"array",items:{type:"object",defaultSnippets:[{body:{id:"${1:id}",label:"${2:label}",path:"./fileicons/${3:id}-icon-theme.json"}}],properties:{id:{description:r.localize(6,null),type:"string"},label:{description:r.localize(7,null),type:"string"},path:{description:r.localize(8,null),type:"string"}},required:["path","id"]}}),$={id:"",label:"",settingsId:null,hasFileIcons:!1,hasFolderIcons:!1,isLoaded:!0,extensionData:null},Y=function(){function e(e,t,n,i,r,o,s,a,c){var l=this;this.extensionService=t,this.storageService=n,this.windowService=i,this.configurationService=r,this.environmentService=o,this.messageService=s,this.telemetryService=a,this.instantiationService=c,this.themeExtensionsActivated=new Map,this.container=e,this.extensionsColorThemes=[],this.colorCustomizations={},this.numberOfColorCustomizations=0,this.onFileIconThemeChange=new L.Emitter,this.knownIconThemes=[],this.onColorThemeChange=new L.Emitter,this.currentIconTheme={id:"",label:"",settingsId:null,isLoaded:!1,hasFileIcons:!1,hasFolderIcons:!1,extensionData:null},this.updateColorCustomizations(!1);var u=null,h=this.storageService.get(H);if(h&&(u=T.fromStorageData(h)),!u){var p=Array.prototype.indexOf.call(document.body.classList,"vs")>=0;u=T.createUnloadedTheme(p?d.VS_LIGHT_THEME:d.VS_DARK_THEME)}u.setCustomColors(this.colorCustomizations),this.updateDynamicCSSRules(u),this.applyTheme(u,null,!0),G.setHandler(function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t],r={extensionId:i.description.id,extensionPublisher:i.description.publisher,extensionName:i.description.name,extensionIsBuiltin:i.description.isBuiltin};l.onThemes(i.description.extensionFolderPath,r,i.value,i.collector)}}),q.setHandler(function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t],r={extensionId:i.description.id,extensionPublisher:i.description.publisher,extensionName:i.description.name,extensionIsBuiltin:i.description.isBuiltin};l.onIconThemes(i.description.extensionFolderPath,r,i.value,i.collector)}}),this.migrate().then(function(e){l.initialize().then(null,m.onUnexpectedError).then(function(e){l.installConfigurationListener()})})}return Object.defineProperty(e.prototype,"onDidColorThemeChange",{get:function(){return this.onColorThemeChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidFileIconThemeChange",{get:function(){return this.onFileIconThemeChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onThemeChange",{get:function(){return this.onColorThemeChange.event},enumerable:!0,configurable:!0}),e.prototype.backupSettings=function(){var e=this.environmentService.appSettingsPath,t=e+"-"+(new Date).getTime()+".backup";return P.readFile(e).then(function(e){return P.writeFile(t,e).then(function(e){return t})},function(e){return e&&"ENOENT"===e.code?n.TPromise.as(null):n.TPromise.wrapError(e)})},e.prototype.migrate=function(){var e=this,t=this.storageService.get("workbench.theme",p.StorageScope.GLOBAL,void 0),i=this.storageService.get("workbench.iconTheme",p.StorageScope.GLOBAL,void 0);return a.isUndefined(t)&&a.isUndefined(i)?n.TPromise.as(null):this.backupSettings().then(function(o){var s=n.TPromise.as(null);return a.isUndefined(t)||(e.storageService.remove("workbench.theme",p.StorageScope.GLOBAL),s=e.findThemeData(t,z).then(function(t){var n=t?t.settingsId:"Default Dark+";return e.configurationWriter.writeConfiguration(d.COLOR_THEME_SETTING,n,b.ConfigurationTarget.USER).then(null,function(e){return null})})),a.isUndefined(i)||(e.storageService.remove("workbench.iconTheme",p.StorageScope.GLOBAL),s=s.then(function(t){return e._findIconThemeData(i).then(function(t){var n=t?t.settingsId:null;return e.configurationWriter.writeConfiguration(d.ICON_THEME_SETTING,n,b.ConfigurationTarget.USER).then(null,function(e){return null})})})),s.then(function(t){if(o){var n=r.localize(9,null,o);e.messageService.show(I.default.Info,n),console.log(n)}})})},e.prototype.initialize=function(){var e=this;this.updateColorCustomizations(!1);var t=this.configurationService.lookup(d.COLOR_THEME_SETTING).value,i=this.configurationService.lookup(d.ICON_THEME_SETTING).value||"";return n.Promise.join([this.findThemeDataBySettingsId(t,z).then(function(t){return e.setColorTheme(t&&t.id,null)}),this.findIconThemeBySettingsId(i).then(function(t){return e.setFileIconTheme(t&&t.id,null)})])},e.prototype.installConfigurationListener=function(){var e=this;this.configurationService.onDidUpdateConfiguration(function(t){var n=e.configurationService.lookup(d.COLOR_THEME_SETTING).value;n!==e.currentColorTheme.settingsId&&e.findThemeDataBySettingsId(n,null).then(function(t){t&&e.setColorTheme(t.id,null)});var i=e.configurationService.lookup(d.ICON_THEME_SETTING).value||"";i!==e.currentIconTheme.settingsId&&e.findIconThemeBySettingsId(i).then(function(t){e.setFileIconTheme(t&&t.id,null)}),e.updateColorCustomizations()})},e.prototype.getTheme=function(){return this.getColorTheme()},e.prototype.setColorTheme=function(e,t){var i=this;return e?e===this.currentColorTheme.id&&this.currentColorTheme.isLoaded?this.writeColorThemeConfiguration(t):(e=M(e),this.findThemeData(e,z).then(function(o){return o?o.ensureLoaded(i).then(function(r){return e===i.currentColorTheme.id&&!i.currentColorTheme.isLoaded&&i.currentColorTheme.hasEqualData(o)?(i.currentColorTheme=o,o.setCustomColors(i.colorCustomizations),n.TPromise.as(o)):(o.setCustomColors(i.colorCustomizations),i.updateDynamicCSSRules(o),i.applyTheme(o,t))},function(e){return n.TPromise.wrapError(new Error(r.localize(10,null,o.path,e.message)))}):null})):n.TPromise.as(null)},e.prototype.updateDynamicCSSRules=function(e){var t=[],n={},i={addRule:function(e){n[e]||(t.push(e),n[e]=!0)}};j.getThemingParticipants().forEach(function(t){return t(e,i)}),V(t.join("\n"),X)},e.prototype.applyTheme=function(e,t,i){var r=this;if(void 0===i&&(i=!1),this.container&&(this.currentColorTheme?A.$(this.container).removeClass(this.currentColorTheme.id):A.$(this.container).removeClass(d.VS_DARK_THEME,d.VS_LIGHT_THEME,d.VS_HC_THEME),A.$(this.container).addClass(e.id)),this.currentColorTheme=e,this.themingParticipantChangeListener||(this.themingParticipantChangeListener=j.onThemingParticipantAdded(function(e){return r.updateDynamicCSSRules(r.currentColorTheme)})),this.sendTelemetry(e.id,e.extensionData,"color"),i)return n.TPromise.as(null);if(this.onColorThemeChange.fire(this.currentColorTheme),t!==b.ConfigurationTarget.WORKSPACE){var o=e.getColor(x.editorBackground).toRGBHex(),s={id:e.id,background:o};this.windowService.broadcast({channel:"vscode:changeColorTheme",payload:JSON.stringify(s)})}return this.storageService.store(H,e.toStorageData()),this.writeColorThemeConfiguration(t)},e.prototype.writeColorThemeConfiguration=function(e){var t=this;return a.isUndefinedOrNull(e)?n.TPromise.as(this.currentColorTheme):this.configurationWriter.writeConfiguration(d.COLOR_THEME_SETTING,this.currentColorTheme.settingsId,e).then(function(e){return t.currentColorTheme})},e.prototype.getColorTheme=function(){return this.currentColorTheme},e.prototype.findThemeData=function(e,t){return this.getColorThemes().then(function(n){for(var i=void 0,r=0,o=n;r<o.length;r++){var s=o[r];if(s.id===e)return s;s.id===t&&(i=s)}return i})},e.prototype.findThemeDataBySettingsId=function(e,t){return this.getColorThemes().then(function(n){for(var i=void 0,r=0,o=n;r<o.length;r++){var s=o[r];if(s.settingsId===e)return s;s.id===t&&(i=s)}return i})},e.prototype.getColorThemes=function(){var e=this;return this.extensionService.onReady().then(function(t){return e.extensionsColorThemes})},e.prototype.hasCustomizationChanged=function(e,t){if(t.length!==this.numberOfColorCustomizations)return!0;for(var n=0,i=t;n<i.length;n++){var r=i[n],o=this.colorCustomizations[r];if(!o||o!==e[r])return!0}return!1},e.prototype.updateColorCustomizations=function(e){void 0===e&&(e=!0);var t=this.configurationService.lookup(d.CUSTOM_COLORS_SETTING).value||{},n=Object.keys(t);0===n.length&&(t=this.configurationService.lookup(d.DEPRECATED_CUSTOM_COLORS_SETTING).value||{},n=Object.keys(t)),this.hasCustomizationChanged(t,n)&&(this.colorCustomizations=t,this.numberOfColorCustomizations=n.length,this.currentColorTheme&&(this.currentColorTheme.setCustomColors(t),e&&(this.updateDynamicCSSRules(this.currentColorTheme),this.onColorThemeChange.fire(this.currentColorTheme))))},e.prototype.onThemes=function(e,t,n,i){var s=this;Array.isArray(n)?n.forEach(function(n){if(n.path&&a.isString(n.path)){var c=o.normalize(o.join(e,n.path));0!==c.indexOf(o.normalize(e))&&i.warn(r.localize(13,null,G.name,c,e));var l=T.fromExtensionTheme(n,c,t);s.extensionsColorThemes.push(l),ee.enum.push(l.settingsId),ee.enumDescriptions.push(l.description||"")}else i.error(r.localize(12,null,G.name,String(n.path)))}):i.error(r.localize(11,null,G.name))},e.prototype.onIconThemes=function(e,t,n,i){var s=this;Array.isArray(n)?n.forEach(function(n){if(n.path&&a.isString(n.path))if(n.id&&a.isString(n.id)){var c=o.normalize(o.join(e,n.path));0!==c.indexOf(o.normalize(e))&&i.warn(r.localize(17,null,G.name,c,e));var l={id:t.extensionId+"-"+n.id,label:n.label||o.basename(n.path),settingsId:n.id,description:n.description,path:c,extensionData:t,isLoaded:!1};s.knownIconThemes.push(l),te.enum.push(l.settingsId),te.enumDescriptions.push(l.description||"")}else i.error(r.localize(16,null,G.name,String(n.path)));else i.error(r.localize(15,null,G.name,String(n.path)))}):i.error(r.localize(14,null,G.name))},e.prototype.sendTelemetry=function(e,t,n){if(t){var i=n+t.extensionId;this.themeExtensionsActivated.get(i)||(this.telemetryService.publicLog("activatePlugin",{id:t.extensionId,name:t.extensionName,isBuiltin:t.extensionIsBuiltin,publisherDisplayName:t.extensionPublisher,themeId:e}),this.themeExtensionsActivated.set(i,!0))}},e.prototype.getFileIconThemes=function(){var e=this;return this.extensionService.onReady().then(function(t){return e.knownIconThemes})},e.prototype.getFileIconTheme=function(){return this.currentIconTheme},e.prototype.setFileIconTheme=function(e,t){var n=this;if((e=e||"")===this.currentIconTheme.id&&this.currentIconTheme.isLoaded)return this.writeFileIconConfiguration(t);var i=function(e){return n.currentIconTheme=e||$,n.container&&(e?A.$(n.container).addClass("file-icons-enabled"):A.$(n.container).removeClass("file-icons-enabled")),e&&n.sendTelemetry(e.id,e.extensionData,"fileIcon"),n.onFileIconThemeChange.fire(n.currentIconTheme),n.writeFileIconConfiguration(t)};return this._findIconThemeData(e).then(function(e){return N(e,i)})},e.prototype.writeFileIconConfiguration=function(e){var t=this;return a.isUndefinedOrNull(e)?n.TPromise.as(this.currentIconTheme):this.configurationWriter.writeConfiguration(d.ICON_THEME_SETTING,this.currentIconTheme.settingsId,e).then(function(e){return t.currentIconTheme})},Object.defineProperty(e.prototype,"configurationWriter",{get:function(){return this._configurationWriter||(this._configurationWriter=this.instantiationService.createInstance(Z)),this._configurationWriter},enumerable:!0,configurable:!0}),e.prototype._findIconThemeData=function(e){return this.getFileIconThemes().then(function(t){for(var n=0,i=t;n<i.length;n++){var r=i[n];if(r.id===e)return r}return null})},e.prototype.findIconThemeBySettingsId=function(e){return this.getFileIconThemes().then(function(t){for(var n=0,i=t;n<i.length;n++){var r=i[n];if(r.settingsId===e)return r}return null})},e}();Y=v([y(1,l.IExtensionService),y(2,p.IStorageService),y(3,h.IWindowIPCService),y(4,S.IConfigurationService),y(5,E.IEnvironmentService),y(6,C.IMessageService),y(7,f.ITelemetryService),y(8,w.IInstantiationService)],Y),t.WorkbenchThemeService=Y;var X="contributedColorTheme",Q="contributedIconTheme";D.register(),O.register();var Z=function(){function e(e,t){this.configurationService=e,this.configurationEditingService=t}return e.prototype.writeConfiguration=function(e,t,i){var r=this.configurationService.lookup(e);if(i===b.ConfigurationTarget.USER){if(t===r.user)return n.TPromise.as(null);if(t===r.default){if(a.isUndefined(r.user))return n.TPromise.as(null);t=void 0}}else if(i===b.ConfigurationTarget.WORKSPACE&&t===r.value)return n.TPromise.as(null);return this.configurationEditingService.writeConfiguration(i,{key:e,value:t})},e}();Z=v([y(0,S.IConfigurationService),y(1,b.IConfigurationEditingService)],Z);var J=g.Registry.as(_.Extensions.Configuration),ee={type:"string",description:r.localize(20,null),default:"Default Dark+",enum:[],enumDescriptions:[],errorMessage:r.localize(21,null)},te={type:["string","null"],default:"vs-seti",description:r.localize(22,null),enum:[null],enumDescriptions:[r.localize(23,null)],errorMessage:r.localize(24,null)},ne={type:["object"],description:r.localize(25,null),properties:D.colorsSchema.properties,default:{},defaultSnippets:[{body:{statusBarBackground:"#666666",panelBackground:"#555555",sideBarBackground:"#444444"}}]},ie=c.mixin({deprecationMessage:r.localize(26,null),description:r.localize(27,null)},ne,!1);J.registerConfiguration({id:"workbench",order:7.1,type:"object",properties:(re={},re[d.COLOR_THEME_SETTING]=ee,re[d.ICON_THEME_SETTING]=te,re[d.CUSTOM_COLORS_SETTING]=ne,re[d.DEPRECATED_CUSTOM_COLORS_SETTING]=ie,re)});var re}),define(u[363],d([1,0,6]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWorkspaceEditingService=n.createDecorator("workspaceEditingService")}),define(u[208],d([1,0,21,503,62,27,363,16,57]),function(e,t,n,i,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.windowService=i,r}return h(t,e),t.prototype.run=function(e,t){return this.windowService.pickFolderAndOpen(void 0,t)},t}(n.Action);l.ID="workbench.action.files.openFolder",l.LABEL=i.localize(0,null),l=v([y(2,r.IWindowService)],l),t.OpenFolderAction=l;var u=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.windowService=i,r}return h(t,e),t.prototype.run=function(e,t){return this.windowService.pickFileFolderAndOpen(void 0,t)},t}(n.Action);u.ID="workbench.action.files.openFileFolder",u.LABEL=i.localize(1,null),u=v([y(2,r.IWindowService)],u),t.OpenFileFolderAction=u;var d=function(e){function t(t,n,i,r,o,s){var a=e.call(this,t,n)||this;return a.windowService=i,a.contextService=r,a.workspaceEditingService=o,a.viewletService=s,a}return h(t,e),t.prototype.run=function(){var e=this;return this.contextService.hasWorkspace()?this.windowService.pickFolder({buttonLabel:i.localize(3,null),title:i.localize(4,null)}).then(function(t){return e.workspaceEditingService.addRoots(t.map(function(e){return a.default.file(e)})).then(function(){return e.viewletService.openViewlet(e.viewletService.getDefaultViewletId(),!0)})}):this.windowService.pickFolderAndOpen(!1)},t}(n.Action);d.ID="workbench.action.addRootFolder",d.LABEL=i.localize(2,null),d=v([y(2,r.IWindowService),y(3,o.IWorkspaceContextService),y(4,s.IWorkspaceEditingService),y(5,c.IViewletService)],d),t.AddRootFolderAction=d;var p=function(e){function t(t,n,i,r){var o=e.call(this,n,i)||this;return o.rootUri=t,o.workspaceEditingService=r,o}return h(t,e),t.prototype.run=function(){return this.workspaceEditingService.removeRoots([this.rootUri])},t}(n.Action);p.ID="workbench.action.removeRootFolder",p.LABEL=i.localize(5,null),p=v([y(3,s.IWorkspaceEditingService)],p),t.RemoveRootFolderAction=p}),define(u[1344],d([1,0,619,15,11,49,88,171,429,35,50,6,27,38,153,60,208,344,32,17,72,39,93]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I){"use strict";function T(e,t,n){_.CommandsRegistry.registerCommand(e,n),l.MenuRegistry.appendMenuItem(l.MenuId.EditorTitleContext,{command:{id:e,title:t},when:E.ContextKeyExpr.equals("resourceScheme","file"),group:"2_files"})}function k(e,t,n,i,r){_.CommandsRegistry.registerCommand(e,r),l.MenuRegistry.appendMenuItem(l.MenuId.EditorTitle,{command:{id:e,title:t,iconClass:n},when:E.ContextKeyExpr.equals(c.CONFLICT_RESOLUTION_CONTEXT,!0),group:"navigation",order:i})}Object.defineProperty(t,"__esModule",{value:!0});var x=function(e){function t(t,n,i,r){var o=e.call(this)||this;return o.instantiationService=t,o.contextService=n,o.keybindingService=i,o.environmentService=r,o}return h(t,e),t.prototype.hasSecondaryActions=function(e){var t=e.element;return t instanceof g.FileStat||t instanceof g.Model},t.prototype.getSecondaryActions=function(e){var t=e.element,n=e.viewer,i=[],r=!1;if(t instanceof g.Model)return[this.instantiationService.createInstance(b.AddRootFolderAction,b.AddRootFolderAction.ID,b.AddRootFolderAction.LABEL)];if(t.isDirectory||(i.push(this.instantiationService.createInstance(a.OpenToSideAction,n,t.resource,!1)),r=!0),r&&i.push(new o.Separator(null,50)),t.isDirectory)i.push(this.instantiationService.createInstance(a.NewFileAction,n,t)),i.push(this.instantiationService.createInstance(a.NewFolderAction,n,t)),i.push(new o.Separator(null,50));else if(!t.isDirectory){var s=this.instantiationService.createInstance(a.CompareResourcesAction,t.resource,n);s._isEnabled()&&i.push(s),i.push(this.instantiationService.createInstance(a.SelectResourceForCompareAction,t.resource,n)),i.push(new o.Separator(null,100))}t.isRoot&&"stable"!==this.environmentService.appQuality&&((u=this.instantiationService.createInstance(b.AddRootFolderAction,b.AddRootFolderAction.ID,b.AddRootFolderAction.LABEL)).order=52,i.push(u),this.contextService.getWorkspace2().roots.length>1&&((u=this.instantiationService.createInstance(b.RemoveRootFolderAction,t.resource,b.RemoveRootFolderAction.ID,b.RemoveRootFolderAction.LABEL)).order=53,i.push(u)),i.push(new o.Separator(null,54))),t.isRoot||i.push(this.instantiationService.createInstance(a.CopyFileAction,n,t)),t.isDirectory&&i.push(this.instantiationService.createInstance(a.PasteFileAction,n,t)),t.isRoot||(i.push(new o.Separator(null,150)),i.push(this.instantiationService.createInstance(a.TriggerRenameFileAction,n,t)),i.push(this.instantiationService.createInstance(a.MoveFileToTrashAction,n,t)));for(var c=10,l=0;l<i.length;l++){var u=i[l];u.order?c=u.order:(c+=10,u.order=c)}return i},t.prototype.getActionItem=function(e,t){if(e&&e.element instanceof g.FileStat){var n=this.keybindingService.lookupKeybinding(t.id);if(n)return new o.ActionItem(e,t,{label:!0,keybinding:n.getLabel()})}return null},t}(s.ActionBarContributor);x=v([y(0,d.IInstantiationService),y(1,p.IWorkspaceContextService),y(2,f.IKeybindingService),y(3,w.IEnvironmentService)],x);var A=function(e){function t(t){var n=e.call(this)||this;return n.instantiationService=t,n}return h(t,e),t.prototype.hasSecondaryActions=function(e){var t=e.element;return!!I.explorerItemToFileResource(t)},t.prototype.getSecondaryActions=function(e){var t=[];if(this.hasSecondaryActions(e)){var n=I.explorerItemToFileResource(e.element).resource;t.push(this.instantiationService.createInstance(a.RevealInOSAction,n)),t.push(this.instantiationService.createInstance(a.CopyPathAction,n))}return t},t}(s.ActionBarContributor);A=v([y(0,d.IInstantiationService)],A);var L=i.Registry.as(s.Extensions.Actionbar);L.registerActionBarContributor(s.Scope.VIEWER,x),L.registerActionBarContributor(s.Scope.VIEWER,A);var P=n.localize(0,null),D=i.Registry.as(u.Extensions.WorkbenchActions);D.registerWorkbenchAction(new l.SyncActionDescriptor(a.GlobalCopyPathAction,a.GlobalCopyPathAction.ID,a.GlobalCopyPathAction.LABEL,{primary:m.KeyChord(2089,46)}),"Files: Copy Path of Active File",P),D.registerWorkbenchAction(new l.SyncActionDescriptor(a.SaveFileAction,a.SaveFileAction.ID,a.SaveFileAction.LABEL,{primary:2097}),"Files: Save",P),D.registerWorkbenchAction(new l.SyncActionDescriptor(a.SaveAllAction,a.SaveAllAction.ID,a.SaveAllAction.LABEL,{primary:void 0,mac:{primary:2609},win:{primary:m.KeyChord(2089,49)}}),"Files: Save All",P),D.registerWorkbenchAction(new l.SyncActionDescriptor(a.SaveFilesAction,a.SaveFilesAction.ID,null),null),D.registerWorkbenchAction(new l.SyncActionDescriptor(a.RevertFileAction,a.RevertFileAction.ID,a.RevertFileAction.LABEL),"Files: Revert File",P),D.registerWorkbenchAction(new l.SyncActionDescriptor(a.GlobalNewFileAction,a.GlobalNewFileAction.ID,a.GlobalNewFileAction.LABEL),"Files: New File",P),D.registerWorkbenchAction(new l.SyncActionDescriptor(a.GlobalNewFolderAction,a.GlobalNewFolderAction.ID,a.GlobalNewFolderAction.LABEL),"Files: New Folder",P),D.registerWorkbenchAction(new l.SyncActionDescriptor(a.GlobalCompareResourcesAction,a.GlobalCompareResourcesAction.ID,a.GlobalCompareResourcesAction.LABEL),"Files: Compare Active File With...",P),D.registerWorkbenchAction(new l.SyncActionDescriptor(a.FocusOpenEditorsView,a.FocusOpenEditorsView.ID,a.FocusOpenEditorsView.LABEL,{primary:m.KeyChord(2089,35)}),"Files: Focus on Open Editors View",P),D.registerWorkbenchAction(new l.SyncActionDescriptor(a.FocusFilesExplorer,a.FocusFilesExplorer.ID,a.FocusFilesExplorer.LABEL),"Files: Focus on Files Explorer",P),D.registerWorkbenchAction(new l.SyncActionDescriptor(a.ShowActiveFileInExplorer,a.ShowActiveFileInExplorer.ID,a.ShowActiveFileInExplorer.LABEL),"Files: Reveal Active File in Side Bar",P),D.registerWorkbenchAction(new l.SyncActionDescriptor(a.CollapseExplorerView,a.CollapseExplorerView.ID,a.CollapseExplorerView.LABEL),"Files: Collapse Folders in Explorer",P),D.registerWorkbenchAction(new l.SyncActionDescriptor(a.RefreshExplorerView,a.RefreshExplorerView.ID,a.RefreshExplorerView.LABEL),"Files: Refresh Explorer",P),D.registerWorkbenchAction(new l.SyncActionDescriptor(a.SaveFileAsAction,a.SaveFileAsAction.ID,a.SaveFileAsAction.LABEL,{primary:3121}),"Files: Save As...",P),D.registerWorkbenchAction(new l.SyncActionDescriptor(a.GlobalNewUntitledFileAction,a.GlobalNewUntitledFileAction.ID,a.GlobalNewUntitledFileAction.LABEL,{primary:2092}),"Files: New Untitled File",P),D.registerWorkbenchAction(new l.SyncActionDescriptor(a.GlobalRevealInOSAction,a.GlobalRevealInOSAction.ID,a.GlobalRevealInOSAction.LABEL,{primary:m.KeyChord(2089,48)}),"Files: Reveal Active File",P),D.registerWorkbenchAction(new l.SyncActionDescriptor(a.ShowOpenedFileInNewWindow,a.ShowOpenedFileInNewWindow.ID,a.ShowOpenedFileInNewWindow.LABEL,{primary:m.KeyChord(2089,45)}),"Files: Open Active File in New Window",P),r.isMacintosh?D.registerWorkbenchAction(new l.SyncActionDescriptor(b.OpenFileFolderAction,b.OpenFileFolderAction.ID,b.OpenFileFolderAction.LABEL,{primary:2093}),"Files: Open...",P):(D.registerWorkbenchAction(new l.SyncActionDescriptor(a.OpenFileAction,a.OpenFileAction.ID,a.OpenFileAction.LABEL,{primary:2093}),"Files: Open File...",P),D.registerWorkbenchAction(new l.SyncActionDescriptor(b.OpenFolderAction,b.OpenFolderAction.ID,b.OpenFolderAction.LABEL,{primary:m.KeyChord(2089,2093)}),"Files: Open Folder...",P)),_.CommandsRegistry.registerCommand("_files.pickFolderAndOpen",S.openFolderPickerCommand),_.CommandsRegistry.registerCommand("_files.windowOpen",S.openWindowCommand),_.CommandsRegistry.registerCommand("workbench.action.files.openFileInNewWindow",S.openFileInNewWindowCommand);C.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"explorer.openToSide",weight:C.KeybindingsRegistry.WEIGHT.workbenchContrib(10),when:I.ExplorerFocusCondition,primary:2051,mac:{primary:259},handler:S.openFocusedExplorerItemSideBySideCommand}),C.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"renameFile",weight:C.KeybindingsRegistry.WEIGHT.workbenchContrib(10),when:I.FilesExplorerFocusCondition,primary:60,mac:{primary:3},handler:S.renameFocusedFilesExplorerViewItemCommand}),C.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"moveFileToTrash",weight:C.KeybindingsRegistry.WEIGHT.workbenchContrib(10),when:I.FilesExplorerFocusCondition,primary:20,mac:{primary:2049},handler:S.moveFocusedFilesExplorerViewItemToTrashCommand}),C.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"deleteFile",weight:C.KeybindingsRegistry.WEIGHT.workbenchContrib(10),when:I.FilesExplorerFocusCondition,primary:1044,mac:{primary:2561},handler:S.deleteFocusedFilesExplorerViewItemCommand}),C.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"filesExplorer.copy",weight:C.KeybindingsRegistry.WEIGHT.workbenchContrib(10),when:I.FilesExplorerFocusCondition,primary:2081,handler:S.copyFocusedFilesExplorerViewItem}),C.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"filesExplorer.paste",weight:C.KeybindingsRegistry.WEIGHT.workbenchContrib(10),when:I.FilesExplorerFocusCondition,primary:2100,handler:a.pasteIntoFocusedFilesExplorerViewItem}),C.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"copyFilePath",weight:C.KeybindingsRegistry.WEIGHT.workbenchContrib(10),when:I.ExplorerFocusCondition,primary:2593,win:{primary:1569},handler:S.copyPathOfFocusedExplorerItem}),C.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"revealFileInOS",weight:C.KeybindingsRegistry.WEIGHT.workbenchContrib(10),when:I.ExplorerFocusCondition,primary:2608,win:{primary:1584},handler:S.revealInOSFocusedFilesExplorerItem}),T("_workbench.action.files.revealInOS",a.RevealInOSAction.LABEL,S.revealInOSCommand),T("_workbench.action.files.copyPath",a.CopyPathAction.LABEL,S.copyPathCommand),T("_workbench.action.files.revealInExplorer",n.localize(1,null),S.revealInExplorerCommand),k("workbench.files.action.acceptLocalChanges",n.localize(2,null),"save-conflict-action-accept-changes",-10,c.acceptLocalChangesCommand),k("workbench.files.action.revertLocalChanges",n.localize(3,null),"save-conflict-action-revert-changes",-9,c.revertLocalChangesCommand)}),define(u[1345],d([1,0,623,7,11,9,4,362,40,148,6,208,55,13,38,41,174]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,b,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var _=function(e){function t(t,i,r,o,s){var a=e.call(this,m({},t,{ariaHeaderLabel:n.localize(1,null),sizing:S.ViewSizing.Flexible}),o,s)||this;return a.themeService=i,a.instantiationService=r,a}return h(t,e),t.prototype.renderHeader=function(e){var t=c.$("div.title").appendTo(e);c.$("span").text(this.name).appendTo(t)},t.prototype.renderBody=function(e){var t=this;o.addClass(e,"explorer-empty-view");var s=c.$("div.section").appendTo(e);c.$("p").text(n.localize(2,null)).appendTo(s);var l=c.$("div.section").appendTo(e);this.openFolderButton=new a.Button(l),p.attachButtonStyler(this.openFolderButton,this.themeService),this.openFolderButton.label=n.localize(3,null),this.openFolderButton.addListener("click",function(){var e=r.isMacintosh?d.OpenFileFolderAction:d.OpenFolderAction,n=t.instantiationService.createInstance(e,e.ID,e.LABEL);t.actionRunner.run(n).done(function(){n.dispose()},function(e){n.dispose(),i.onUnexpectedError(e)})})},t.prototype.layoutBody=function(e){},t.prototype.create=function(){return s.TPromise.as(null)},t.prototype.setVisible=function(e){return s.TPromise.as(null)},t.prototype.focusBody=function(){this.openFolderButton&&this.openFolderButton.getElement().focus()},t.prototype.reveal=function(e,t){return s.TPromise.as(null)},t.prototype.getActions=function(){return[]},t.prototype.getSecondaryActions=function(){return[]},t.prototype.getActionItem=function(e){return null},t.prototype.shutdown=function(){},t}(l.CollapsibleView);_.ID="workbench.explorer.emptyView",_.NAME=n.localize(0,null),_=v([y(1,f.IThemeService),y(2,u.IInstantiationService),y(3,g.IKeybindingService),y(4,b.IContextMenuService)],_),t.EmptyView=_}),define(u[1346],d([1,0,9,93,148,23,65,411,1318,1345,1319,31,6,59,27,19,222,118,22,45,17,13,166,41,961]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,b,S,_,E,C,w,I,T,k){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var x=function(e){function t(n,r,o,s,c,l,u,d,h,p,f,g){var v=e.call(this,i.VIEWLET_ID,T.ViewLocation.Explorer,t.EXPLORER_VIEWS_STATE,n,o,u,p,r,d,f,g)||this;return v.contextService=r,v.storageService=o,v.editorGroupService=s,v.editorService=c,v.configurationService=l,v.instantiationService=u,v.configurationEditingService=h,v.viewletState=new a.FileViewletState,v.viewletVisibleContextKey=i.ExplorerViewletVisibleContext.bindTo(d),v.openEditorsVisibleContextKey=i.OpenEditorsVisibleContext.bindTo(d),v.registerViews(),v.onConfigurationUpdated(),v._register(v.configurationService.onDidUpdateConfiguration(function(e){return v.onConfigurationUpdated()})),v._register(v.contextService.onDidChangeWorkspaceRoots(function(e){return v.updateTitleArea()})),v}return h(t,e),t.prototype.create=function(t){var i=this;return e.prototype.create.call(this,t).then(function(){return n.addClass(i.viewletContainer,"explorer-viewlet")})},t.prototype.registerViews=function(){var e=[];e.push(this.createOpenEditorsViewDescriptor()),this.contextService.hasWorkspace()?e.push(this.createExplorerViewDescriptor()):e.push(this.createEmptyViewDescriptor()),T.ViewsRegistry.registerViews(e)},t.prototype.createOpenEditorsViewDescriptor=function(){return{id:u.OpenEditorsView.ID,name:u.OpenEditorsView.NAME,location:T.ViewLocation.Explorer,ctor:u.OpenEditorsView,order:0,when:i.OpenEditorsVisibleCondition}},t.prototype.createEmptyViewDescriptor=function(){return{id:l.EmptyView.ID,name:l.EmptyView.NAME,location:T.ViewLocation.Explorer,ctor:l.EmptyView,order:1}},t.prototype.createExplorerViewDescriptor=function(){return{id:c.ExplorerView.ID,name:this.contextService.getWorkspace2().name,location:T.ViewLocation.Explorer,ctor:c.ExplorerView,order:1}},t.prototype.onConfigurationUpdated=function(){this.openEditorsVisibleContextKey.set(!this.contextService.hasWorkspace()||0!==this.configurationService.getConfiguration().explorer.openEditors.visible)},t.prototype.createView=function(t,n){var i=this;if(t.id===c.ExplorerView.ID){var r=this.instantiationService.createInstance(S.DelegatingWorkbenchEditorService);return r.setEditorOpenHandler(function(e,t,n){var r=i.getOpenEditorsView();if(r){var o=0;if(!!i.configurationService.getConfiguration().workbench.editor.enablePreview&&(!1===n||"number"!=typeof n)){var s=i.editorGroupService.getStacksModel().activeGroup;s&&s.previewEditor||(o=250)}r.setStructuralRefreshDelay(o)}var a=function(e){var t=i.getOpenEditorsView();return t&&t.setStructuralRefreshDelay(0),e};return i.editorService.openEditor(e,t,n).then(a,a)}),this.instantiationService.createChild(new _.ServiceCollection([E.IWorkbenchEditorService,r])).createInstance(c.ExplorerView,m({},n,{viewletState:this.viewletState}))}return e.prototype.createView.call(this,t,n)},t.prototype.getExplorerView=function(){return this.getView(c.ExplorerView.ID)},t.prototype.getOpenEditorsView=function(){return this.getView(u.OpenEditorsView.ID)},t.prototype.getEmptyView=function(){return this.getView(l.EmptyView.ID)},t.prototype.setVisible=function(t){return this.viewletVisibleContextKey.set(t),e.prototype.setVisible.call(this,t)},t.prototype.focus=function(){var t=!!this.editorGroupService.getStacksModel().activeGroup,n=this.getOpenEditorsView();if(this.lastFocusedView&&this.lastFocusedView.isExpanded()&&this.hasSelectionOrFocus(this.lastFocusedView)&&(this.lastFocusedView!==n||t))this.lastFocusedView.focusBody();else{if(this.hasSelectionOrFocus(n)&&t)return n.focusBody();var i=this.getExplorerView();if(this.hasSelectionOrFocus(i))return i.focusBody();if(n&&n.isExpanded()&&t)return n.focusBody();if(i&&i.isExpanded())return i.focusBody();var r=this.getEmptyView();if(r&&r.isExpanded())return r.focusBody();e.prototype.focus.call(this)}},t.prototype.hasSelectionOrFocus=function(e){if(!e)return!1;if(!e.isExpanded())return!1;if(e instanceof c.ExplorerView||e instanceof u.OpenEditorsView){var t=e.getViewer();return!!t&&(!!t.getFocus()||t.getSelection()&&t.getSelection().length>0)}return!1},t.prototype.getActionRunner=function(){return this.actionRunner||(this.actionRunner=new a.ActionRunner(this.viewletState)),this.actionRunner},t.prototype.getViewletState=function(){return this.viewletState},t}(r.ComposedViewsViewlet);x.EXPLORER_VIEWS_STATE="workbench.explorer.views.state",x=v([y(0,b.ITelemetryService),y(1,g.IWorkspaceContextService),y(2,d.IStorageService),y(3,C.IEditorGroupService),y(4,E.IWorkbenchEditorService),y(5,o.IConfigurationService),y(6,p.IInstantiationService),y(7,w.IContextKeyService),y(8,s.IConfigurationEditingService),y(9,I.IThemeService),y(10,k.IContextMenuService),y(11,f.IExtensionService)],x),t.ExplorerViewlet=x}),define(u[1347],d([1,0,671,4,8,33,5,7,114,11,18,12,9,89,40,220,128,161,126,45,43,103,211,407,110,156,22,31,23,41,6,20,109,27,17,19,1023,1310,374,251,193,36,99,208,197,90,13,29,441,55,125,58,247,304,951]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A,L,P,D,O,R,M,N,F,W,B,V,z,H,K,U,j,G,q,$,Y,X,Q,Z,J,ee,te,ne){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var ie=function(e){function t(t,n,i,o,s,a,c,l,d,h,p,f,g,v,m,y,b,_,E){var C=e.call(this,q.VIEWLET_ID,t,_)||this;return C.fileService=n,C.editorService=i,C.editorGroupService=o,C.progressService=s,C.messageService=a,C.storageService=c,C.contextViewService=l,C.instantiationService=d,C.configurationService=h,C.contextService=p,C.searchWorkbenchService=f,C.contextKeyService=g,C.replaceService=v,C.untitledEditorService=m,C.preferencesService=y,C.listService=b,C.themeService=_,C.outputService=E,C.toDispose=[],C.viewletVisible=q.SearchViewletVisibleKey.bindTo(g),C.inputBoxFocussed=q.InputBoxFocussedKey.bindTo(C.contextKeyService),C.firstMatchFocussed=q.FirstMatchFocusKey.bindTo(g),C.fileMatchOrMatchFocussed=q.FileMatchOrMatchFocusKey.bindTo(g),C.fileMatchFocussed=q.FileFocusKey.bindTo(g),C.matchFocussed=q.MatchFocusKey.bindTo(C.contextKeyService),C.callOnModelChange=[],C.queryBuilder=C.instantiationService.createInstance(T.QueryBuilder),C.viewletSettings=C.getMemento(c,S.Scope.WORKSPACE),C.toUnbind.push(C.fileService.onFileChanges(function(e){return C.onFilesChanged(e)})),C.toUnbind.push(C.untitledEditorService.onDidChangeDirty(function(e){return C.onUntitledDidChangeDirty(e)})),C.toUnbind.push(C.configurationService.onDidUpdateConfiguration(function(e){return C.onConfigurationUpdated()})),C.selectCurrentMatchEmitter=new r.Emitter,r.debounceEvent(C.selectCurrentMatchEmitter.event,function(e,t){return t},100,!0)(function(){return C.selectCurrentMatch()}),C.delayedRefresh=new u.Delayer(250),C}return h(t,e),t.prototype.onConfigurationUpdated=function(){var e=this.contextService.hasWorkspace()?this.contextService.getWorkspace2().roots[0]:void 0,t=this.configurationService.getConfiguration(void 0,{resource:e});this.updateGlobalPatternExclusions(t)},t.prototype.create=function(t){var r=this;e.prototype.create.call(this,t),this.viewModel=this.searchWorkbenchService.searchModel;var o;this.domNode=t.div({class:"search-viewlet"},function(e){o=e}),o.div({class:["search-widgets-container"]},function(e){r.searchWidgetsContainer=e}),this.createSearchWidget(this.searchWidgetsContainer);var s=this.viewletSettings["query.filePatterns"]||"",a=this.viewletSettings["query.folderExclusions"]||"",c=this.viewletSettings["query.exclusionsUsePattern"],l=this.viewletSettings["query.includesUsePattern"],u=this.viewletSettings["query.folderIncludes"]||"",d=this.viewletSettings["query.queryDetailsExpanded"]||"",h="boolean"==typeof this.viewletSettings["query.useIgnoreFiles"]?this.viewletSettings["query.useIgnoreFiles"]:this.configurationService.getConfiguration().search.useIgnoreFilesByDefault;return this.queryDetails=this.searchWidgetsContainer.div({class:["query-details"]},function(e){e.div({class:"more",tabindex:0,role:"button",title:n.localize(0,null)}).on(p.EventType.CLICK,function(e){p.EventHelper.stop(e),r.toggleQueryDetails(!0)}).on(p.EventType.KEY_UP,function(e){var t=new f.StandardKeyboardEvent(e);(t.equals(3)||t.equals(10))&&(p.EventHelper.stop(e),r.toggleQueryDetails())}),e.div({class:"file-types"},function(e){var t=n.localize(1,null);e.element("h4",{text:t}),r.inputPatternIncludes=new B.PatternInputWidget(e.getContainer(),r.contextViewService,r.themeService,{ariaLabel:n.localize(2,null)}),r.inputPatternIncludes.setIsGlobPattern(l),r.inputPatternIncludes.setValue(u),r.inputPatternIncludes.on(m.FindInput.OPTION_CHANGE,function(e){r.onQueryChanged(!1)}),r.inputPatternIncludes.onSubmit(function(){return r.onQueryChanged(!0,!0)}),r.trackInputBox(r.inputPatternIncludes.inputFocusTracker)}),e.div({class:"file-types"},function(e){var t=n.localize(3,null);e.element("h4",{text:t}),r.inputPatternExclusions=new B.ExcludePatternInputWidget(e.getContainer(),r.contextViewService,r.themeService,r.telemetryService,{ariaLabel:n.localize(4,null)}),r.inputPatternExclusions.setIsGlobPattern(c),r.inputPatternExclusions.setValue(a),r.inputPatternExclusions.setUseIgnoreFiles(h),r.inputPatternExclusions.setUseExcludeSettings(!0),r.inputPatternExclusions.on(m.FindInput.OPTION_CHANGE,function(e){r.onQueryChanged(!1)}),r.inputPatternExclusions.onSubmit(function(){return r.onQueryChanged(!0,!0)}),r.trackInputBox(r.inputPatternExclusions.inputFocusTracker)}),r.inputPatternGlobalExclusionsContainer=e.div({class:"file-types global-exclude"},function(e){var t=n.localize(5,null);e.element("h4",{text:t}),r.inputPatternGlobalExclusions=new k.InputBox(e.getContainer(),r.contextViewService,{actions:[r.instantiationService.createInstance(H.ConfigureGlobalExclusionsAction)],ariaLabel:n.localize(6,null),inputBackground:ee.Color.transparent,inputForeground:null}),r.inputPatternGlobalExclusions.inputElement.readOnly=!0,g.$(r.inputPatternGlobalExclusions.inputElement).attr("aria-readonly","true")}).hide()}).getHTMLElement(),this.messages=o.div({class:"messages"}).hide().clone(),this.contextService.hasWorkspace()||this.searchWithoutFolderMessage(this.clearMessage()),this.createSearchResultsView(o),this.actionRegistry={},[new H.CollapseAllAction(this),new H.RefreshAction(this),new H.ClearSearchResultsAction(this)].forEach(function(e){r.actionRegistry[e.id]=e}),""===s&&""===a&&""===u&&""===d||this.toggleQueryDetails(!0,!0,!0),this.updateGlobalPatternExclusions(this.configurationService.getConfiguration()),this.toUnbind.push(this.viewModel.searchResult.onChange(function(e){return r.onSearchResultsChanged(e)})),i.TPromise.as(null)},Object.defineProperty(t.prototype,"searchAndReplaceWidget",{get:function(){return this.searchWidget},enumerable:!0,configurable:!0}),t.prototype.createSearchWidget=function(e){var n=this,i=this.viewletSettings["query.contentPattern"]||"",r=!0===this.viewletSettings["query.regex"],o=!0===this.viewletSettings["query.wholeWords"],s=!0===this.viewletSettings["query.caseSensitive"];this.searchWidget=this.instantiationService.createInstance(z.SearchWidget,e,{value:i,isRegex:r,isCaseSensitive:s,isWholeWords:o}),this.storageService.getBoolean(t.SHOW_REPLACE_STORAGE_KEY,L.StorageScope.WORKSPACE,!0)&&this.searchWidget.toggleReplace(!0),this.toUnbind.push(this.searchWidget),this.toUnbind.push(this.searchWidget.onSearchSubmit(function(e){return n.onQueryChanged(e)})),this.toUnbind.push(this.searchWidget.onSearchCancel(function(){return n.cancelSearch()})),this.toUnbind.push(this.searchWidget.searchInput.onDidOptionChange(function(e){return n.onQueryChanged(!0,e)})),this.toUnbind.push(this.searchWidget.onReplaceToggled(function(){return n.onReplaceToggled()})),this.toUnbind.push(this.searchWidget.onReplaceStateChange(function(e){n.viewModel.replaceActive=e,n.tree.refresh()})),this.toUnbind.push(this.searchWidget.onReplaceValueChanged(function(e){n.viewModel.replaceString=n.searchWidget.getReplaceValue(),n.delayedRefresh.trigger(function(){return n.tree.refresh()})})),this.toUnbind.push(this.searchWidget.onReplaceAll(function(){return n.replaceAll()})),this.trackInputBox(this.searchWidget.searchInputFocusTracker),this.trackInputBox(this.searchWidget.replaceInputFocusTracker)},t.prototype.trackInputBox=function(e){var t=this;this.toUnbind.push(e.addFocusListener(function(){t.inputBoxFocussed.set(!0)})),this.toUnbind.push(e.addBlurListener(function(){t.inputBoxFocussed.set(t.searchWidget.searchInputHasFocus()||t.searchWidget.replaceInputHasFocus()||t.inputPatternIncludes.inputHasFocus()||t.inputPatternExclusions.inputHasFocus())}))},t.prototype.onReplaceToggled=function(){this.layout(this.size),this.searchAndReplaceWidget.isReplaceShown()?this.storageService.remove(t.SHOW_REPLACE_STORAGE_KEY):this.storageService.store(t.SHOW_REPLACE_STORAGE_KEY,!1,L.StorageScope.WORKSPACE)},t.prototype.onSearchResultsChanged=function(e){var t=this;return this.refreshTree(e).then(function(){t.searchWidget.setReplaceAllActionState(!t.viewModel.searchResult.isEmpty()),t.updateSearchResultCount()})},t.prototype.refreshTree=function(e){return!e||e.added||e.removed?this.tree.refresh(this.viewModel.searchResult):1===e.elements.length?this.tree.refresh(e.elements[0]):this.tree.refresh(e.elements)},t.prototype.replaceAll=function(){var e=this;if(0!==this.viewModel.searchResult.count()){var t=this.progressService.show(100),i=this.viewModel.searchResult.count(),r=this.viewModel.searchResult.fileCount(),o=this.searchWidget.getReplaceValue()||"",s=this.buildAfterReplaceAllMessage(i,r,o),c={title:n.localize(7,null),message:this.buildReplaceAllConfirmationMessage(i,r,o),primaryButton:n.localize(8,null),type:"question"};this.messageService.confirm(c)&&(this.searchWidget.setReplaceAllActionState(!1),this.viewModel.searchResult.replaceAll(t).then(function(){t.done(),e.clearMessage().p({text:s})},function(n){t.done(),a.isPromiseCanceledError(n),e.messageService.show(U.default.Error,n)}))}},t.prototype.buildAfterReplaceAllMessage=function(e,t,i){return 1===e?1===t?i?n.localize(9,null,e,t,i):n.localize(10,null,e,t):i?n.localize(11,null,e,t,i):n.localize(12,null,e,t):1===t?i?n.localize(13,null,e,t,i):n.localize(14,null,e,t):i?n.localize(15,null,e,t,i):n.localize(16,null,e,t)},t.prototype.buildReplaceAllConfirmationMessage=function(e,t,i){return 1===e?1===t?i?n.localize(17,null,e,t,i):n.localize(18,null,e,t):i?n.localize(19,null,e,t,i):n.localize(20,null,e,t):1===t?i?n.localize(21,null,e,t,i):n.localize(22,null,e,t):i?n.localize(23,null,e,t,i):n.localize(24,null,e,t)},t.prototype.clearMessage=function(){return this.messages.empty().show().asContainer().div({class:"message"}).asContainer()},t.prototype.createSearchResultsView=function(e){var t=this;e.div({class:"results"},function(e){t.results=e,t.results.addClass("show-file-icons");var i=new V.SearchDataSource,o=t.instantiationService.createInstance(V.SearchRenderer,t.getActionRunner(),t);t.tree=new b.Tree(e.getHTMLElement(),{dataSource:i,renderer:o,sorter:new V.SearchSorter,filter:new V.SearchFilter,accessibilityProvider:t.instantiationService.createInstance(V.SearchAccessibilityProvider)},{ariaLabel:n.localize(25,null),keyboardSupport:!1}),t.toDispose.push(Z.attachListStyler(t.tree,t.themeService)),t.tree.setInput(t.viewModel.searchResult),t.toUnbind.push(o),t.toUnbind.push(t.listService.register(t.tree));var s=t._register(new Q.default(t.tree));t._register(r.debounceEvent(s.openFile,function(e,t){return t},75,!0)(function(e){if(e.element instanceof I.Match){var n=e.element;t.currentSelectedFileMatch&&t.currentSelectedFileMatch.setSelectedMatch(null),t.currentSelectedFileMatch=n.parent(),t.currentSelectedFileMatch.setSelectedMatch(n),e.payload&&e.payload.preventEditorOpen||t.onFocus(n,e.editorOptions.preserveFocus,e.sideBySide,e.editorOptions.pinned)}})),t.toUnbind.push(t.tree.onDOMFocus(function(e){var n=t.tree.getFocus();t.firstMatchFocussed.set(t.tree.getNavigator().first()===t.tree.getFocus()),t.fileMatchOrMatchFocussed.set(!0),t.fileMatchFocussed.set(n instanceof I.FileMatch),t.matchFocussed.set(n instanceof I.Match)})),t.toUnbind.push(t.tree.onDOMBlur(function(e){t.firstMatchFocussed.reset(),t.fileMatchOrMatchFocussed.reset(),t.fileMatchFocussed.reset(),t.matchFocussed.reset()}))})},t.prototype.updateGlobalPatternExclusions=function(e){if(this.inputPatternGlobalExclusionsContainer){var t=x.getExcludes(e);if(t){var i=Object.getOwnPropertyNames(t).filter(function(e){return!0===t[e]||"string"==typeof t[e].when}).map(function(e){return!0===t[e]?e:n.localize(26,null,e,t[e].when)});if(i.length){var r=i.join(", ");this.inputPatternGlobalExclusions.value=r,this.inputPatternGlobalExclusions.inputElement.title=r,this.inputPatternGlobalExclusionsContainer.show()}else this.inputPatternGlobalExclusionsContainer.hide()}}},t.prototype.selectCurrentMatch=function(){var e=this.tree.getFocus(),t={focusEditor:!0};this.tree.setSelection([e],t)},t.prototype.selectNextMatch=function(){var e=this.tree.getSelection()[0];e instanceof I.FileMatch&&(this.tree.isExpanded(e)||this.tree.expand(e));var t=this.tree.getNavigator(e,!1),n=t.next();n||(n=(t=this.tree.getNavigator(this.tree.getInput(),!0)).first()),n instanceof I.Match||(this.tree.isExpanded(n)||this.tree.expand(n),n=t.next());var i={preventEditorOpen:!0};this.tree.setFocus(n,i),this.tree.setSelection([n],i),this.tree.reveal(n),this.selectCurrentMatchEmitter.fire()},t.prototype.selectPreviousMatch=function(){var e=this.tree.getSelection()[0],t=this.tree.getNavigator(e,!1),n=t.previous();if(!(n instanceof I.Match)){if(!(n=t.previous())){n=(t=this.tree.getNavigator(this.tree.getInput(),!0)).last(),this.tree.expand(n);for(var i=void 0;i=t.next();)n=i}n instanceof I.Match||(t.next(),this.tree.expand(n),n=t.previous())}if(n){var r={preventEditorOpen:!0};this.tree.setFocus(n,r),this.tree.setSelection([n],r),this.tree.reveal(n),this.selectCurrentMatchEmitter.fire()}},t.prototype.setVisible=function(t){var n;if(this.viewletVisible.set(t),t?(n=e.prototype.setVisible.call(this,t),this.tree.onVisible()):(this.tree.onHidden(),n=e.prototype.setVisible.call(this,t)),this.viewModel&&this.viewModel.searchResult.toggleHighlights(t),t&&!this.editorService.getActiveEditor()){var i=this.tree.getFocus();i&&this.onFocus(i,!0)}return n},t.prototype.focus=function(){e.prototype.focus.call(this);var t=this.getSearchTextFromEditor();t&&this.searchWidget.searchInput.setValue(t),this.searchWidget.focus()},t.prototype.focusNextInputBox=function(){if(this.searchWidget.searchInputHasFocus())this.searchWidget.isReplaceShown()?this.searchWidget.focus(!0,!0):this.moveFocusFromSearchOrReplace();else{if(!this.searchWidget.replaceInputHasFocus())return this.inputPatternIncludes.inputHasFocus()?(this.inputPatternExclusions.focus(),void this.inputPatternExclusions.select()):void(this.inputPatternExclusions.inputHasFocus()&&this.selectTreeIfNotSelected());this.moveFocusFromSearchOrReplace()}},t.prototype.moveFocusFromSearchOrReplace=function(){this.showsFileTypes()?this.toggleQueryDetails(!0,this.showsFileTypes()):this.selectTreeIfNotSelected()},t.prototype.focusPreviousInputBox=function(){if(!this.searchWidget.searchInputHasFocus())if(this.searchWidget.replaceInputHasFocus())this.searchWidget.focus(!0);else{if(!this.inputPatternIncludes.inputHasFocus())return this.inputPatternExclusions.inputHasFocus()?(this.inputPatternIncludes.focus(),void this.inputPatternIncludes.select()):void(this.tree.isDOMFocused()&&this.moveFocusFromResults());this.searchWidget.focus(!0,!0)}},t.prototype.moveFocusFromResults=function(){this.showsFileTypes()?this.toggleQueryDetails(!0,!0,!1,!0):this.searchWidget.focus(!0,!0)},t.prototype.reLayout=function(){if(!this.isDisposed){this.searchWidget.setWidth(this.size.width-25),this.inputPatternExclusions.setWidth(this.size.width-28),this.inputPatternIncludes.setWidth(this.size.width-28),this.inputPatternGlobalExclusions.width=this.size.width-28-24;var e=this.messages.isHidden()?0:p.getTotalHeight(this.messages.getHTMLElement()),t=this.size.height-e-p.getTotalHeight(this.searchWidgetsContainer.getContainer());this.results.style({height:t+"px"}),this.tree.layout(t)}},t.prototype.layout=function(e){this.size=e,this.reLayout()},t.prototype.getControl=function(){return this.tree},t.prototype.clearSearchResults=function(){this.viewModel.searchResult.clear(),this.showEmptyStage(),this.contextService.hasWorkspace()||this.searchWithoutFolderMessage(this.clearMessage()),this.searchWidget.clear(),this.viewModel.cancelSearch()},t.prototype.cancelSearch=function(){return!!this.viewModel.cancelSearch()&&(this.searchWidget.focus(),!0)},t.prototype.selectTreeIfNotSelected=function(){this.tree.getInput()&&(this.tree.DOMFocus(),0===this.tree.getSelection().length&&this.tree.focusNext())},t.prototype.getSearchTextFromEditor=function(){if(!this.editorService.getActiveEditor())return null;var e=this.editorService.getActiveEditor().getControl();if(o.isCommonDiffEditor(e)&&(e=e.getOriginalEditor().isFocused()?e.getOriginalEditor():e.getModifiedEditor()),!o.isCommonCodeEditor(e))return null;var t=e,n=t.getSelection();if(!n)return null;if(n.isEmpty()&&!this.searchWidget.searchInput.getValue()){var i=t.getModel().getWordAtPosition(n.getStartPosition());if(i)return i.word}if(!n.isEmpty()&&n.startLineNumber===n.endLineNumber){var r=e.getModel().getLineContent(n.startLineNumber);return r=r.substring(n.startColumn-1,n.endColumn-1)}return null},t.prototype.showsFileTypes=function(){return p.hasClass(this.queryDetails,"more")},t.prototype.toggleCaseSensitive=function(){this.searchWidget.searchInput.setCaseSensitive(!this.searchWidget.searchInput.getCaseSensitive()),this.onQueryChanged(!0,!0)},t.prototype.toggleWholeWords=function(){this.searchWidget.searchInput.setWholeWords(!this.searchWidget.searchInput.getWholeWords()),this.onQueryChanged(!0,!0)},t.prototype.toggleRegex=function(){this.searchWidget.searchInput.setRegex(!this.searchWidget.searchInput.getRegex()),this.onQueryChanged(!0,!0)},t.prototype.toggleQueryDetails=function(e,t,n,i){this.telemetryService.publicLog("search.toggleQueryDetails");t=void 0===t?!p.hasClass(this.queryDetails,"more"):Boolean(t),this.viewletSettings["query.queryDetailsExpanded"]=t,n=Boolean(n),t?(p.addClass(this.queryDetails,"more"),e&&(i?(this.inputPatternExclusions.focus(),this.inputPatternExclusions.select()):(this.inputPatternIncludes.focus(),this.inputPatternIncludes.select()))):(p.removeClass(this.queryDetails,"more"),e&&this.searchWidget.focus()),!n&&this.size&&this.layout(this.size)},t.prototype.searchInFolder=function(e){var t=null,n=this.contextService.getWorkspace2();if(n&&(1===n.roots.length?(t=this.contextService.toWorkspaceRelativePath(e))&&"."!==t&&(t="./"+t):t=e.fsPath),!t||"."===t)return this.inputPatternIncludes.setValue(""),void this.searchWidget.focus();this.showsFileTypes()||this.toggleQueryDetails(!0,!0),this.inputPatternIncludes.setIsGlobPattern(!1),this.inputPatternIncludes.setValue(t),this.searchWidget.focus(!1)},t.prototype.onQueryChanged=function(e,n){var i=this.searchWidget.searchInput.getRegex(),r=this.searchWidget.searchInput.getWholeWords(),o=this.searchWidget.searchInput.getCaseSensitive(),s=this.searchWidget.searchInput.getValue(),a=this.inputPatternExclusions.getValue().trim(),c=this.inputPatternIncludes.getValue().trim(),l=this.inputPatternExclusions.useIgnoreFiles(),u=this.inputPatternExclusions.useExcludeSettings();if(e&&0!==s.length){if(i){var h=void 0;try{h=new RegExp(s)}catch(e){return}if(d.regExpLeadsToEndlessLoop(h))return}var p={pattern:s,isRegExp:i,isCaseSensitive:o,isWordMatch:r,wordSeparators:this.configurationService.getConfiguration().editor.wordSeparators},f=this.inputPatternExclusions.getGlob().expression,g=this.inputPatternIncludes.getGlob(),v=g.expression,m=g.searchPaths,y={extraFileResources:te.getOutOfWorkspaceEditorResources(this.editorGroupService,this.contextService),excludePattern:f,includePattern:v,maxResults:t.MAX_TEXT_RESULTS,disregardIgnoreFiles:!l,disregardExcludeSettings:!u,searchPaths:m},b=this.contextService.hasWorkspace()?this.contextService.getWorkspace2().roots:[];this.onQueryTriggered(this.queryBuilder.text(p,b,y),a,c),n||this.searchWidget.focus(!1)}},t.prototype.onQueryTriggered=function(e,t,i){var r=this;this.viewModel.cancelSearch();var o=0,s=e.useRipgrep?this.progressService.show(!0):this.progressService.show(1e3);this.loading=!0,this.searchWidget.searchInput.clearMessage(),this.showEmptyStage();var l=!1,u=this.outputService.getChannel("search"),d=function(d){e.useRipgrep&&u.append("\n"),l=!0,d&&!e.useRipgrep?(s.worked(1e3-o),setTimeout(function(){return s.done()},200)):s.done(),r.onSearchResultsChanged().then(function(){if(1===r.viewModel.searchResult.count()){var e=r.viewModel.searchResult.matches()[0];if(e.count()<50)return r.tree.expand(e)}return null}).done(null,a.onUnexpectedError),r.viewModel.replaceString=r.searchWidget.getReplaceValue();var h=!r.viewModel.searchResult.isEmpty();if(r.loading=!1,r.actionRegistry.refresh.enabled=!0,r.actionRegistry["vs.tree.collapse"].enabled=h,r.actionRegistry.clearSearchResults.enabled=h,d&&d.limitHit&&r.searchWidget.searchInput.showMessage({content:n.localize(27,null),type:k.MessageType.WARNING}),h)r.viewModel.searchResult.toggleHighlights(!0),c.status(n.localize(36,null,r.viewModel.searchResult.count(),r.viewModel.searchResult.fileCount()));else{var f=!!t,v=!!i,m=void 0;m=d?v&&f?n.localize(29,null,i,t):v?n.localize(30,null,i):f?n.localize(31,null,t):n.localize(32,null):n.localize(28,null),c.status(m),r.tree.onHidden(),r.results.hide();var y=r.clearMessage(),b=g.$(y).p({text:m});d?v||f?g.$(b).a({class:["pointer","prominent"],tabindex:"0",text:n.localize(34,null)}).on(p.EventType.CLICK,function(e){p.EventHelper.stop(e,!1),r.inputPatternExclusions.setValue(""),r.inputPatternIncludes.setValue(""),r.onQueryChanged(!0)}):g.$(b).a({class:["pointer","prominent"],tabindex:"0",text:n.localize(35,null)}).on(p.EventType.CLICK,function(e){p.EventHelper.stop(e,!1),(r.contextService.hasWorkspace()?r.preferencesService.openWorkspaceSettings():r.preferencesService.openGlobalSettings()).done(function(e){e instanceof ne.PreferencesEditor&&e.focusSearch(".exclude")},a.onUnexpectedError)}):g.$(b).a({class:["pointer","prominent"],text:n.localize(33,null)}).on(p.EventType.CLICK,function(e){p.EventHelper.stop(e,!1),r.onQueryChanged(!0)}),r.contextService.hasWorkspace()||r.searchWithoutFolderMessage(y)}},h=0,f=0,v=0,m=setInterval(function(){if(l)window.clearInterval(m);else{if(!e.useRipgrep){var t=!0;if(h>0&&f>0){var n=Math.round(f/h*1e3);n>o&&(s.worked(n-o),o=n,t=!1)}if(t&&o<900){var i=Math.round((900-o)/900*12)||1;o+=i,s.worked(i)}}var c=r.viewModel.searchResult.fileCount();v!==c&&(v=c,r.tree.refresh().done(null,a.onUnexpectedError),r.updateSearchResultCount()),c>0&&(r.actionRegistry["vs.tree.collapse"].enabled||(r.actionRegistry["vs.tree.collapse"].enabled=!0))}},100);this.searchWidget.setReplaceAllActionState(!1),this.viewModel.search(e).done(d,function(t){e.useRipgrep&&u.append("\n"),a.isPromiseCanceledError(t)?d(null):(r.loading=!1,l=!0,s.done(),r.searchWidget.searchInput.showMessage({content:t.message,type:k.MessageType.ERROR}))},function(e){e.total&&(h=e.total),e.worked&&(f=e.worked),e.message&&u.append(e.message)})},t.prototype.updateSearchResultCount=function(){var e=this.viewModel.searchResult.fileCount(),t=this.messages.isHidden();if(e>0){var n=this.clearMessage();g.$(n).p({text:this.buildResultCountMessage(this.viewModel.searchResult.count(),e)}),t&&this.reLayout()}else t||this.messages.hide()},t.prototype.buildResultCountMessage=function(e,t){return 1===e&&1===t?n.localize(37,null,e,t):1===e?n.localize(38,null,e,t):1===t?n.localize(39,null,e,t):n.localize(40,null,e,t)},t.prototype.searchWithoutFolderMessage=function(e){var t=this;g.$(e).p({text:n.localize(41,null)}).asContainer().a({class:["pointer","prominent"],tabindex:"0",text:n.localize(42,null)}).on(p.EventType.CLICK,function(e){p.EventHelper.stop(e,!1);var n=l.isMacintosh?G.OpenFileFolderAction:G.OpenFolderAction,i=t.instantiationService.createInstance(n,n.ID,n.LABEL);t.actionRunner.run(i).done(function(){i.dispose()},function(e){i.dispose(),a.onUnexpectedError(e)})})},t.prototype.showEmptyStage=function(){this.actionRegistry.refresh.enabled=!1,this.actionRegistry["vs.tree.collapse"].enabled=!1,this.actionRegistry.clearSearchResults.enabled=!1,this.messages.hide(),this.results.show(),this.tree.onVisible(),this.currentSelectedFileMatch=null},t.prototype.onFocus=function(e,t,n,r){return e instanceof I.Match?(this.telemetryService.publicLog("searchResultChosen"),this.viewModel.isReplaceActive()&&this.viewModel.replaceString?this.replaceService.openReplacePreview(e,t,n,r):this.open(e,t,n,r)):(this.viewModel.searchResult.rangeHighlightDecorations.removeHighlightRange(),i.TPromise.as(!0))},t.prototype.open=function(e,t,n,i){var r=this,o=this.getSelectionFrom(e),s=e instanceof I.Match?e.parent().resource():e.resource();return this.editorService.openEditor({resource:s,options:{preserveFocus:t,pinned:i,selection:o,revealIfVisible:!n}},n).then(function(n){n&&e instanceof I.Match&&t?r.viewModel.searchResult.rangeHighlightDecorations.highlightRange({resource:s,range:e.range()},n.getControl()):r.viewModel.searchResult.rangeHighlightDecorations.removeHighlightRange()},a.onUnexpectedError)},t.prototype.getSelectionFrom=function(e){var t=null;if(e instanceof I.Match&&(t=e),e instanceof I.FileMatch&&e.count()>0&&(t=e.matches()[e.matches().length-1]),t){var n=t.range();if(this.viewModel.isReplaceActive()&&this.viewModel.replaceString){var i=t.replaceString;return{startLineNumber:n.startLineNumber,startColumn:n.startColumn,endLineNumber:n.startLineNumber,endColumn:n.startColumn+i.length}}return n}},t.prototype.onUntitledDidChangeDirty=function(e){if(this.viewModel&&!this.untitledEditorService.isDirty(e))for(var t=this.viewModel.searchResult.matches(),n=0,i=t.length;n<i;n++)e.toString()===t[n].resource().toString()&&this.viewModel.searchResult.remove(t[n])},t.prototype.onFilesChanged=function(e){if(this.viewModel)for(var t=this.viewModel.searchResult.matches(),n=0,i=t.length;n<i;n++)e.contains(t[n].resource(),C.FileChangeType.DELETED)&&this.viewModel.searchResult.remove(t[n])},t.prototype.getActions=function(){return[this.actionRegistry.refresh,this.actionRegistry["vs.tree.collapse"],this.actionRegistry.clearSearchResults]},t.prototype.shutdown=function(){var t=this.searchWidget.searchInput.getRegex(),n=this.searchWidget.searchInput.getWholeWords(),i=this.searchWidget.searchInput.getCaseSensitive(),r=this.searchWidget.searchInput.getValue(),o=this.inputPatternExclusions.getValue().trim(),s=this.inputPatternExclusions.isGlobPattern(),a=this.inputPatternIncludes.getValue().trim(),c=this.inputPatternIncludes.isGlobPattern(),l=this.inputPatternExclusions.useIgnoreFiles();this.viewletSettings["query.contentPattern"]=r,this.viewletSettings["query.regex"]=t,this.viewletSettings["query.wholeWords"]=n,this.viewletSettings["query.caseSensitive"]=i,this.viewletSettings["query.folderExclusions"]=o,this.viewletSettings["query.exclusionsUsePattern"]=s,this.viewletSettings["query.folderIncludes"]=a,this.viewletSettings["query.includesUsePattern"]=c,this.viewletSettings["query.useIgnoreFiles"]=l,this.viewletSettings["query.contentPattern"]=r,e.prototype.shutdown.call(this)},t.prototype.dispose=function(){this.isDisposed=!0,this.toDispose=s.dispose(this.toDispose),this.tree&&this.tree.dispose(),this.searchWidget.dispose(),this.inputPatternIncludes.dispose(),this.inputPatternExclusions.dispose(),this.viewModel.dispose(),e.prototype.dispose.call(this)},t}(w.Viewlet);ie.MAX_TEXT_RESULTS=1e4,ie.SHOW_REPLACE_STORAGE_KEY="vs.search.show.replace",ie=v([y(0,W.ITelemetryService),y(1,C.IFileService),y(2,A.IWorkbenchEditorService),y(3,E.IEditorGroupService),y(4,M.IProgressService),y(5,R.IMessageService),y(6,L.IStorageService),y(7,D.IContextViewService),y(8,O.IInstantiationService),y(9,P.IConfigurationService),y(10,N.IWorkspaceContextService),y(11,I.ISearchWorkbenchService),y(12,F.IContextKeyService),y(13,K.IReplaceService),y(14,j.IUntitledEditorService),y(15,_.IPreferencesService),y(16,$.IListService),y(17,Y.IThemeService),y(18,J.IOutputService)],ie),t.SearchViewlet=ie,Y.registerThemingParticipant(function(e,t){var n=e.getColor(X.editorFindMatchHighlight);n&&t.addRule(".monaco-workbench .search-viewlet .findInFileMatch { background-color: "+n+"; }");var i=e.getColor(X.diffInserted);i&&t.addRule(".monaco-workbench .search-viewlet .replaceMatch { background-color: "+i+"; }");var r=e.getColor(X.diffRemoved);r&&t.addRule(".monaco-workbench .search-viewlet .replace.findInFileMatch { background-color: "+r+"; }");var o=e.getColor(X.diffInsertedOutline);o&&t.addRule(".monaco-workbench .search-viewlet .replaceMatch:not(:empty) { border: 1px dashed "+o+"; }");var s=e.getColor(X.diffRemovedOutline);s&&t.addRule(".monaco-workbench .search-viewlet .replace.findInFileMatch { border: 1px dashed "+s+"; }");var a=e.getColor(X.activeContrastBorder);a&&t.addRule("\n\t\t\t.monaco-workbench .search-viewlet .findInFileMatch { border: 1px dashed "+a+"; }\n\t\t")})}),define(u[1348],d([1,0,40,5,26,11,38,708,15,19,64,27,85,69,23,169,168,171,208,234,47,134,197,299,943]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,m,b,S,_,E,C,w,I){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var T={text:a.localize(0,null),ids:[_.ShowAllCommandsAction.ID]},k={text:a.localize(1,null),ids:[g.GlobalQuickOpenAction.ID]},x={text:a.localize(2,null),ids:[b.OpenFileAction.ID],mac:!1},A={text:a.localize(3,null),ids:[S.OpenFolderAction.ID],mac:!1},L={text:a.localize(4,null),ids:[S.OpenFileFolderAction.ID],mac:!0},P={text:a.localize(5,null),ids:[m.OpenRecentAction.ID]},D={text:a.localize(6,null),ids:[b.GlobalNewUntitledFileAction.ID]},O=r.assign({mac:!0},D),R={text:a.localize(7,null),ids:[I.ToggleTerminalAction.ID]},M=[T,x,A,L,P,O,R],N=[T,k,{text:a.localize(8,null),ids:[w.FindInFilesActionId]},{text:a.localize(9,null),ids:[C.StartAction.ID]},R],F=a.localize(10,null),W=function(){function e(e,t,n,i,r,o){var s=this;this.partService=t,this.keybindingService=n,this.contextService=i,this.telemetryService=r,this.configurationService=o,this.toDispose=[],e.onShutdown(this.dispose,this),this.partService.joinCreation().then(function(){s.enabled=s.configurationService.lookup("workbench.tips.enabled").value,s.enabled&&s.create()}),this.configurationService.onDidUpdateConfiguration(function(e){var t=s.configurationService.lookup("workbench.tips.enabled").value;t!==s.enabled&&(s.enabled=t,s.enabled?s.create():s.destroy())})}return e.prototype.getId=function(){return"vs.watermark"},e.prototype.create=function(){var e=this,t=this.partService.getContainer(E.Parts.EDITOR_PART);t.classList.add("has-watermark"),this.watermark=n.$().div({class:"watermark"});var i=n.$(this.watermark).div({class:"watermark-box"}),r=this.contextService.hasWorkspace()?N:M.filter(function(e){return!("mac"in e)||e.mac===o.isMacintosh}),s=function(){var t=n.$(i);t.clearChildren(),r.map(function(n){t.element("dl",{},function(t){t.element("dt",{},function(e){return e.text(n.text)}),t.element("dd",{},function(t){return t.innerHtml(n.ids.map(function(t){var n=e.keybindingService.lookupKeybinding(t);return n?'<span class="shortcuts">'+n.getLabel()+"</span>":'<span class="unbound">'+F+"</span>"}).join(" / "))})})})},a=function(){var e=t.getBoundingClientRect().height;t.classList[e<=478?"add":"remove"]("max-height-478px")};s(),this.watermark.build(t.firstElementChild,0),a(),this.toDispose.push(this.keybindingService.onDidUpdateKeybindings(s)),this.toDispose.push(this.partService.onEditorLayout(a))},e.prototype.destroy=function(){this.watermark&&(this.watermark.destroy(),this.partService.getContainer(E.Parts.EDITOR_PART).classList.remove("has-watermark"),this.dispose())},e.prototype.dispose=function(){this.toDispose=i.dispose(this.toDispose)},e}();W=v([y(0,p.ILifecycleService),y(1,E.IPartService),y(2,s.IKeybindingService),y(3,d.IWorkspaceContextService),y(4,l.ITelemetryService),y(5,f.IConfigurationService)],W),t.WatermarkContribution=W,c.Registry.as(h.Extensions.Workbench).registerWorkbenchContribution(W),c.Registry.as(u.Extensions.Configuration).registerConfiguration({id:"workbench",order:7,title:a.localize(11,null),properties:{"workbench.tips.enabled":{type:"boolean",default:!0,description:a.localize(12,null)}}})}),define(u[1349],d([1,0,34,4,27,65,23,39]),function(e,t,n,i,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t,n,i){this.configurationEditingService=e,this.configurationService=t,this.contextService=n,this.environmentService=i}return e.prototype.supported=function(){return!!this.contextService.hasWorkspace()&&"stable"!==this.environmentService.appQuality},e.prototype.addRoots=function(e){if(!this.supported)return i.TPromise.as(void 0);var t=this.contextService.getWorkspace2().roots;return this.doSetRoots(t.concat(e))},e.prototype.removeRoots=function(e){if(!this.supported)return i.TPromise.as(void 0);var t=this.contextService.getWorkspace2().roots,n=e.map(function(e){return e.toString()});return this.doSetRoots(t.filter(function(e){return-1===n.indexOf(e.toString())}))},e.prototype.doSetRoots=function(e){var t=this.configurationService.lookup("workspace").user||Object.create(null),r=this.contextService.getWorkspace2().roots[0],s=r.toString(!0),a=this.validateRoots(r,t[s]&&t[s].folders),c=this.validateRoots(r,e);return n.equals(a,c)?i.TPromise.as(void 0):(c.length?t[s]={folders:c}:delete t[s],this.configurationEditingService.writeConfiguration(o.ConfigurationTarget.USER,{key:"workspace",value:t}).then(function(){}))},e.prototype.validateRoots=function(e,t){if(!t)return[];var i=n.distinct(t.map(function(e){return e.toString(!0)})),r=i.indexOf(e.toString(!0));return r>=0&&i.splice(r,1),i},e}();c=v([y(0,o.IConfigurationEditingService),y(1,s.IConfigurationService),y(2,r.IWorkspaceContextService),y(3,a.IEnvironmentService)],c),t.WorkspaceEditingService=c}),define(u[259],d([1,0,543,4,5,8,9,40,18,66,144,414,1266,7,1065,139,107,15,11,63,85,30,1108,1288,1324,1326,1325,1136,1106,1286,88,106,367,116,222,47,27,31,1078,221,23,65,1214,780,38,327,17,175,57,1328,1107,43,90,226,1095,78,394,22,54,255,738,45,160,6,95,1340,51,163,1172,109,1327,1284,71,69,62,20,199,35,770,41,39,19,50,168,72,169,363,1349,998]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A,L,P,D,O,R,M,N,F,W,B,V,z,H,K,U,j,G,q,$,Y,X,Q,Z,J,ee,te,ne,ie,re,oe,se,ae,ce,le,ue,de,he,pe,fe,ge,ve,me,ye,be,Se,_e,Ee,Ce,we,Ie,Te,ke,xe,Ae,Le,Pe,De,Oe,Re,Me){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessagesVisibleContext=new $.RawContextKey("globalMessageVisible",!1),t.EditorsVisibleContext=new $.RawContextKey("editorIsOpen",!1),t.InZenModeContext=new $.RawContextKey("inZenMode",!1),t.NoEditorsVisibleContext=t.EditorsVisibleContext.toNegated();var Ne={WORKBENCH_CONTAINER:"workbench.main.container",TITLEBAR_PART:"workbench.parts.titlebar",ACTIVITYBAR_PART:"workbench.parts.activitybar",SIDEBAR_PART:"workbench.parts.sidebar",PANEL_PART:"workbench.parts.panel",EDITOR_PART:"workbench.parts.editor",STATUSBAR_PART:"workbench.parts.statusbar"},Fe=function(){function e(e,t,n,r,s,a,l,u,d,h,p,f,g,v){var m=this;this.instantiationService=a,this.contextService=l,this.storageService=u,this.lifecycleService=d,this.messageService=h,this.configurationService=p,this.telemetryService=f,this.environmentService=g,this.windowService=v,this.parent=e,this.container=t,this.workbenchParams={options:r,configuration:n,serviceCollection:s},this.hasFilesToCreateOpenOrDiff=r.filesToCreate&&r.filesToCreate.length>0||r.filesToOpen&&r.filesToOpen.length>0||r.filesToDiff&&r.filesToDiff.length>0,this.toDispose=[],this.toShutdown=[],this.editorBackgroundDelayer=new c.Delayer(50),this._onTitleBarVisibilityChange=new o.Emitter,this.creationPromise=new i.TPromise(function(e){m.creationPromiseComplete=e})}return Object.defineProperty(e.prototype,"onTitleBarVisibilityChange",{get:function(){return this._onTitleBarVisibilityChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorLayout",{get:function(){return o.chain(this.editorPart.onLayout).map(function(){}).event},enumerable:!0,configurable:!0}),e.prototype.startup=function(n){var r=this;u.ok(!this.workbenchStarted,"Can not start a workbench that was already started"),u.ok(!this.workbenchShutdown,"Can not start a workbench that was shutdown");try{this.workbenchStarted=!0,this.callbacks=n,this.createWorkbench(),this.createGlobalActions(),this.initServices(),this.callbacks&&this.callbacks.onServicesCreated&&this.callbacks.onServicesCreated(),this.messagesVisibleContext=t.MessagesVisibleContext.bindTo(this.contextKeyService),this.editorsVisibleContext=t.EditorsVisibleContext.bindTo(this.contextKeyService),this.inZenMode=t.InZenModeContext.bindTo(this.contextKeyService),this.registerListeners(),this.initSettings(),this.renderWorkbench(),this.createWorkbenchLayout();var o,s,a=[];if(!this.sideBarHidden){this.shouldRestoreLastOpenedViewlet()&&(s=this.storageService.get(k.SidebarPart.activeViewletSettingsKey,B.StorageScope.WORKSPACE)),s||(s=this.viewletService.getDefaultViewletId()),o=d.StopWatch.create();var c=h.startTimer("restore:viewlet");a.push(c.while(this.viewletService.openViewlet(s)).then(function(){o.stop()}))}var l=b.Registry.as(O.Extensions.Panels),f=this.storageService.get(x.PanelPart.activePanelSettingsKey,B.StorageScope.WORKSPACE,l.getDefaultPanelId());!this.panelHidden&&f&&a.push(this.panelPart.openPanel(f,!1));var g=d.StopWatch.create(),v=[],y=h.startTimer("restore:editors");a.push(y.while(this.resolveEditorsToOpen().then(function(e){return(e.length?r.editorService.openEditors(e.map(function(e){return{input:e,position:_.Position.ONE}})):r.editorPart.restoreEditors()).then(function(e){r.onEditorsChanged(),g.stop();for(var t=0,n=e;t<n.length;t++){var i=n[t];i.input?v.push(i.input.getName()):v.push("other:"+i.getId())}})}))),this.storageService.getBoolean(e.zenModeActiveSettingKey,B.StorageScope.WORKSPACE,!1)&&this.toggleZenMode(!0);var S=function(e){r.workbenchCreated=!0,r.creationPromiseComplete(!0),r.callbacks&&r.callbacks.onWorkbenchStarted&&r.callbacks.onWorkbenchStarted({customKeybindingsCount:r.keybindingService.customKeybindingsCount(),restoreViewletDuration:o?Math.round(o.elapsed()):0,restoreEditorsDuration:Math.round(g.elapsed()),pinnedViewlets:r.activitybarPart.getPinned(),restoredViewlet:s,restoredEditors:v}),e&&p.onUnexpectedError(e)};i.TPromise.join(a).then(function(){return S()},function(e){return S(e)})}catch(e){throw console.error(m.toErrorMessage(e,!0)),e}},e.prototype.createGlobalActions=function(){var e=!this.environmentService.isBuilt||this.environmentService.isExtensionDevelopment,t=b.Registry.as(Le.Extensions.WorkbenchActions);t.registerWorkbenchAction(new Ie.SyncActionDescriptor(Pe.ReloadWindowAction,Pe.ReloadWindowAction.ID,Pe.ReloadWindowAction.LABEL,e?{primary:2096}:void 0),"Reload Window"),t.registerWorkbenchAction(new Ie.SyncActionDescriptor(Pe.ToggleDevToolsAction,Pe.ToggleDevToolsAction.ID,Pe.ToggleDevToolsAction.LABEL,e?{primary:3111,mac:{primary:2599}}:void 0),"Developer: Toggle Developer Tools",n.localize(0,null)),t.registerWorkbenchAction(new Ie.SyncActionDescriptor(Pe.OpenRecentAction,Pe.OpenRecentAction.ID,Pe.OpenRecentAction.LABEL,{primary:e?null:2096,mac:{primary:304}}),"File: Open Recent...",n.localize(1,null));var i=$.ContextKeyExpr.and(Oe.inQuickOpenContext,$.ContextKeyExpr.has(Pe.inRecentFilesPickerContextKey));De.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.quickOpenNavigateNextInRecentFilesPicker",weight:De.KeybindingsRegistry.WEIGHT.workbenchContrib(50),handler:Oe.getQuickNavigateHandler("workbench.action.quickOpenNavigateNextInRecentFilesPicker",!0),when:i,primary:2096,mac:{primary:304}});De.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.quickOpenNavigatePreviousInRecentFilesPicker",weight:De.KeybindingsRegistry.WEIGHT.workbenchContrib(50),handler:Oe.getQuickNavigateHandler("workbench.action.quickOpenNavigatePreviousInRecentFilesPicker",!1),when:i,primary:3120,mac:{primary:1328}})},e.prototype.resolveEditorsToOpen=function(){if(this.hasFilesToCreateOpenOrDiff){var e=this.workbenchParams.options,t=e.filesToCreate||[],n=e.filesToOpen||[],r=e.filesToDiff;if(r&&2===r.length)return i.TPromise.as([{leftResource:r[0].resource,rightResource:r[1].resource,options:{pinned:!0}}]);var o=t.map(function(e){return{filePath:e.resource.fsPath,options:{pinned:!0}}});return i.TPromise.as([].concat(n).concat(o))}return!this.contextService.hasWorkspace()&&this.openUntitledFile()?this.editorPart.hasEditorsToRestore()?i.TPromise.as([]):this.backupFileService.hasBackups().then(function(e){return e?i.TPromise.as([]):i.TPromise.as([{}])}):i.TPromise.as([])},e.prototype.openUntitledFile=function(){var e=this.configurationService.lookup("workbench.startupEditor");if(!e.user&&!e.workspace){var t=this.configurationService.lookup("workbench.welcome.enabled");if(void 0!==t.value&&null!==t.value)return!t.value}return"newUntitledFile"===e.value},e.prototype.initServices=function(){var e=this,t=this.workbenchParams.serviceCollection;this.toDispose.push(this.lifecycleService.onShutdown(this.shutdownComponents,this)),t.set(F.IPartService,this),t.set(ae.IClipboardService,new ce.ClipboardService),this.statusbarPart=this.instantiationService.createInstance(A.StatusbarPart,Ne.STATUSBAR_PART),this.toDispose.push(this.statusbarPart),this.toShutdown.push(this.statusbarPart),t.set(we.IStatusbarService,this.statusbarPart),t.set(me.IProgressService2,new he.SyncDescriptor(ye.ProgressService2)),this.contextKeyService=this.instantiationService.createInstance(j.ContextKeyService),t.set($.IContextKeyService,this.contextKeyService),this.keybindingService=this.instantiationService.createInstance(z.WorkbenchKeybindingService,window),t.set(G.IKeybindingService,this.keybindingService),t.set(ee.IListService,this.instantiationService.createInstance(ee.ListService)),t.set(ke.IContextMenuService,new he.SyncDescriptor(V.ContextMenuService)),t.set(Ie.IMenuService,new he.SyncDescriptor(Te.MenuService)),this.sidebarPart=this.instantiationService.createInstance(k.SidebarPart,Ne.SIDEBAR_PART),this.toDispose.push(this.sidebarPart),this.toShutdown.push(this.sidebarPart),this.viewletService=this.instantiationService.createInstance(Q.ViewletService,this.sidebarPart),t.set(X.IViewletService,this.viewletService),this.panelPart=this.instantiationService.createInstance(x.PanelPart,Ne.PANEL_PART),this.toDispose.push(this.panelPart),this.toShutdown.push(this.panelPart),t.set(ie.IPanelService,this.panelPart),this.activitybarPart=this.instantiationService.createInstance(I.ActivitybarPart,Ne.ACTIVITYBAR_PART),this.toDispose.push(this.activitybarPart),this.toShutdown.push(this.activitybarPart),t.set(Y.IActivityBarService,this.activitybarPart),this.editorPart=this.instantiationService.createInstance(T.EditorPart,Ne.EDITOR_PART,!this.hasFilesToCreateOpenOrDiff),this.toDispose.push(this.editorPart),this.toShutdown.push(this.editorPart),this.editorService=this.instantiationService.createInstance(N.WorkbenchEditorService,this.editorPart),t.set(oe.IWorkbenchEditorService,this.editorService),t.set(le.IEditorGroupService,this.editorPart),this.titlebarPart=this.instantiationService.createInstance(L.TitlebarPart,Ne.TITLEBAR_PART),this.toDispose.push(this.titlebarPart),this.toShutdown.push(this.titlebarPart),t.set(re.ITitleService,this.titlebarPart);var n=this.instantiationService.createInstance(Z.FileService);t.set(J.IFileService,n),this.toDispose.push(n.onFileChanges(function(t){return e.configurationService.handleWorkspaceFileEvents(t)})),t.set(ue.IHistoryService,new he.SyncDescriptor(w.HistoryService)),this.backupFileService=this.instantiationService.createInstance(f.BackupFileService,this.workbenchParams.configuration.backupPath),t.set(g.IBackupFileService,this.backupFileService),t.set(fe.ITextFileService,new he.SyncDescriptor(pe.TextFileService)),t.set(ge.ISCMService,new he.SyncDescriptor(ve.SCMService)),t.set(Se.ITextModelService,new he.SyncDescriptor(be.TextModelResolverService)),this.configurationEditingService=this.instantiationService.createInstance(U.ConfigurationEditingService),t.set(K.IConfigurationEditingService,this.configurationEditingService),t.set(Re.IWorkspaceEditingService,new he.SyncDescriptor(Me.WorkspaceEditingService)),t.set(q.IKeybindingEditingService,this.instantiationService.createInstance(q.KeybindingsEditingService)),t.set(te.IConfigurationResolverService,new he.SyncDescriptor(ne.ConfigurationResolverService,process.env)),this.quickOpen=this.instantiationService.createInstance(R.QuickOpenController),this.toDispose.push(this.quickOpen),this.toShutdown.push(this.quickOpen),t.set(se.IQuickOpenService,this.quickOpen);for(var i=0,r=M.getServices();i<r.length;i++){var o=r[i];t.set(o.id,o.descriptor)}b.Registry.as(D.Extensions.Actionbar).setInstantiationService(this.instantiationService),b.Registry.as(E.Extensions.Workbench).setInstantiationService(this.instantiationService),b.Registry.as(C.Extensions.Editors).setInstantiationService(this.instantiationService)},e.prototype.initSettings=function(){this.sideBarHidden=this.storageService.getBoolean(e.sidebarHiddenSettingKey,B.StorageScope.WORKSPACE,!this.contextService.hasWorkspace());var t=b.Registry.as(O.Extensions.Panels);this.panelHidden=this.storageService.getBoolean(e.panelHiddenSettingKey,B.StorageScope.WORKSPACE,!0),t.getDefaultPanelId()||(this.panelHidden=!0);var n=this.configurationService.lookup(e.sidebarPositionConfigurationKey).value;this.sideBarPosition="right"===n?F.Position.RIGHT:F.Position.LEFT;var i=this.configurationService.lookup(e.statusbarVisibleConfigurationKey).value;this.statusBarHidden=!i;var r=this.configurationService.lookup(e.activityBarVisibleConfigurationKey).value;this.activityBarHidden=!r,this.zenMode={active:!1,transitionedToFullScreen:!1,wasSideBarVisible:!1,wasPanelVisible:!1}},e.prototype.isStarted=function(){return this.workbenchStarted&&!this.workbenchShutdown},e.prototype.isCreated=function(){return this.workbenchCreated&&this.workbenchStarted},e.prototype.joinCreation=function(){return this.creationPromise},e.prototype.hasFocus=function(e){var t=document.activeElement;if(!t)return!1;var n=this.getContainer(e);return s.isAncestor(t,n)},e.prototype.getContainer=function(e){var t=null;switch(e){case F.Parts.TITLEBAR_PART:t=this.titlebarPart.getContainer();break;case F.Parts.ACTIVITYBAR_PART:t=this.activitybarPart.getContainer();break;case F.Parts.SIDEBAR_PART:t=this.sidebarPart.getContainer();break;case F.Parts.PANEL_PART:t=this.panelPart.getContainer();break;case F.Parts.EDITOR_PART:t=this.editorPart.getContainer();break;case F.Parts.STATUSBAR_PART:t=this.statusbarPart.getContainer()}return t&&t.getHTMLElement()},e.prototype.isVisible=function(e){switch(e){case F.Parts.TITLEBAR_PART:return this.getCustomTitleBarStyle()&&!l.isFullscreen();case F.Parts.SIDEBAR_PART:return!this.sideBarHidden;case F.Parts.PANEL_PART:return!this.panelHidden;case F.Parts.STATUSBAR_PART:return!this.statusBarHidden;case F.Parts.ACTIVITYBAR_PART:return!this.activityBarHidden}return!0},e.prototype.getTitleBarOffset=function(){var e=0;return this.isVisible(F.Parts.TITLEBAR_PART)&&(e=22/l.getZoomFactor()),e},e.prototype.getCustomTitleBarStyle=function(){if(!S.isMacintosh)return null;if(!this.environmentService.isBuilt||this.environmentService.isExtensionDevelopment)return null;var e=this.configurationService.getConfiguration();if(e&&e.window){if(e.window.nativeTabs)return null;var t=e.window.titleBarStyle;if("custom"===t)return t}return null},e.prototype.setStatusBarHidden=function(e,t){this.statusBarHidden=e,t||this.workbenchLayout.layout()},e.prototype.setActivityBarHidden=function(e,t){this.activityBarHidden=e,t||this.workbenchLayout.layout()},e.prototype.setSideBarHidden=function(t,n){var r=this;this.sideBarHidden=t,t?this.workbench.addClass("nosidebar"):this.workbench.removeClass("nosidebar");var o=i.TPromise.as(null);if(t&&this.sidebarPart.getActiveViewlet())o=this.sidebarPart.hideActiveViewlet().then(function(){var e=r.editorPart.getActiveEditor(),t=r.panelPart.getActivePanel();r.hasFocus(F.Parts.PANEL_PART)&&t?t.focus():e&&e.focus()});else if(!t&&!this.sidebarPart.getActiveViewlet()){var s=this.sidebarPart.getLastActiveViewletId();s&&(o=this.sidebarPart.openViewlet(s,!0))}return o.then(function(){var i=!r.contextService.hasWorkspace();t!==i?r.storageService.store(e.sidebarHiddenSettingKey,t?"true":"false",B.StorageScope.WORKSPACE):r.storageService.remove(e.sidebarHiddenSettingKey,B.StorageScope.WORKSPACE),n||r.workbenchLayout.layout()})},e.prototype.setPanelHidden=function(t,n){var r=this;this.panelHidden=t,t?this.workbench.addClass("nopanel"):this.workbench.removeClass("nopanel");var o=i.TPromise.as(null);if(t&&this.panelPart.getActivePanel())o=this.panelPart.hideActivePanel().then(function(){var e=r.editorPart.getActiveEditor();e&&e.focus()});else if(!t&&!this.panelPart.getActivePanel()){var s=this.panelPart.getLastActivePanelId();s&&(o=this.panelPart.openPanel(s,!0))}return o.then(function(){t?r.storageService.remove(e.panelHiddenSettingKey,B.StorageScope.WORKSPACE):r.storageService.store(e.panelHiddenSettingKey,"false",B.StorageScope.WORKSPACE),n||r.workbenchLayout.layout()})},e.prototype.toggleMaximizedPanel=function(){this.workbenchLayout.layout({toggleMaximizedPanel:!0})},e.prototype.isPanelMaximized=function(){return this.workbenchLayout.isPanelMaximized()},e.prototype.getSideBarPosition=function(){return this.sideBarPosition},e.prototype.setSideBarPosition=function(e){this.sideBarHidden&&this.setSideBarHidden(!1,!0).done(void 0,p.onUnexpectedError);var t=e===F.Position.LEFT?"left":"right",n=this.sideBarPosition===F.Position.LEFT?"left":"right";this.sideBarPosition=e,this.activitybarPart.getContainer().removeClass(n),this.sidebarPart.getContainer().removeClass(n),this.activitybarPart.getContainer().addClass(t),this.sidebarPart.getContainer().addClass(t),this.activitybarPart.updateStyles(),this.sidebarPart.updateStyles(),this.workbenchLayout.layout()},e.prototype.dispose=function(){this.isStarted()&&(this.shutdownComponents(),this.workbenchShutdown=!0),this.toDispose=r.dispose(this.toDispose)},e.prototype.layout=function(e){this.isStarted()&&this.workbenchLayout.layout(e)},e.prototype.shutdownComponents=function(t){void 0===t&&(t=_e.ShutdownReason.QUIT),t===_e.ShutdownReason.RELOAD&&this.storageService.store(e.sidebarRestoreSettingKey,"true",B.StorageScope.WORKSPACE),(this.configurationService.getConfiguration("zenMode").restore||t===_e.ShutdownReason.RELOAD)&&this.zenMode.active?this.storageService.store(e.zenModeActiveSettingKey,!0,B.StorageScope.WORKSPACE):this.storageService.remove(e.zenModeActiveSettingKey,B.StorageScope.WORKSPACE),this.toShutdown.forEach(function(e){return e.shutdown()})},e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.editorPart.onEditorsChanged(function(){return e.onEditorsChanged()})),this.toDispose.push(this.messageService.onMessagesShowing(function(){return e.messagesVisibleContext.set(!0)})),this.toDispose.push(this.messageService.onMessagesCleared(function(){return e.messagesVisibleContext.reset()})),this.toDispose.push(this.quickOpen.onShow(function(){return e.messageService.suspend()})),this.toDispose.push(this.quickOpen.onHide(function(){return e.messageService.resume()})),this.toDispose.push(this.configurationService.onDidUpdateConfiguration(function(){return e.onDidUpdateConfiguration()})),this.toDispose.push(l.onDidChangeFullscreen(function(){return e.onFullscreenChanged()}))},e.prototype.onFullscreenChanged=function(){this.isCreated&&(l.isFullscreen()?this.addClass("fullscreen"):(this.removeClass("fullscreen"),this.zenMode.transitionedToFullScreen&&this.zenMode.active&&this.toggleZenMode()),"custom"===this.getCustomTitleBarStyle()&&(this._onTitleBarVisibilityChange.fire(),this.layout()))},e.prototype.onEditorsChanged=function(){var e=this.editorService.getVisibleEditors().length,t=this.editorPart.getContainer();0===e?(this.editorsVisibleContext.reset(),this.editorBackgroundDelayer.trigger(function(){return t.addClass("empty")})):(this.editorsVisibleContext.set(!0),this.editorBackgroundDelayer.trigger(function(){return t.removeClass("empty")}))},e.prototype.onDidUpdateConfiguration=function(t){var n="right"===this.configurationService.lookup(e.sidebarPositionConfigurationKey).value?F.Position.RIGHT:F.Position.LEFT;if(n!==this.getSideBarPosition()&&this.setSideBarPosition(n),!this.zenMode.active){var i=!this.configurationService.lookup(e.statusbarVisibleConfigurationKey).value;i!==this.statusBarHidden&&this.setStatusBarHidden(i,t);var r=!this.configurationService.lookup(e.activityBarVisibleConfigurationKey).value;r!==this.activityBarHidden&&this.setActivityBarHidden(r,t)}},e.prototype.createWorkbenchLayout=function(){this.workbenchLayout=this.instantiationService.createInstance(P.WorkbenchLayout,a.$(this.container),this.workbench,{titlebar:this.titlebarPart,activitybar:this.activitybarPart,editor:this.editorPart,sidebar:this.sidebarPart,panel:this.panelPart,statusbar:this.statusbarPart},this.quickOpen),this.toDispose.push(this.workbenchLayout)},e.prototype.createWorkbench=function(){this.workbenchContainer=a.$(".monaco-workbench-container"),this.workbench=a.$().div({class:"monaco-workbench "+(S.isWindows?"windows":S.isLinux?"linux":"mac"),id:Ne.WORKBENCH_CONTAINER}).appendTo(this.workbenchContainer)},e.prototype.renderWorkbench=function(){this.sideBarHidden&&this.workbench.addClass("nosidebar"),this.panelHidden&&this.workbench.addClass("nopanel");var e=this.getCustomTitleBarStyle();e&&s.addClass(this.parent,"titlebar-style-"+e),l.isFullscreen()&&this.workbench.addClass("fullscreen"),this.createTitlebarPart(),this.createActivityBarPart(),this.createSidebarPart(),this.createEditorPart(),this.createPanelPart(),this.createStatusbarPart(),this.workbenchContainer.build(this.container)},e.prototype.createTitlebarPart=function(){var e=a.$(this.workbench).div({class:["part","titlebar"],id:Ne.TITLEBAR_PART,role:"contentinfo"});this.titlebarPart.create(e)},e.prototype.createActivityBarPart=function(){var e=a.$(this.workbench).div({class:["part","activitybar",this.sideBarPosition===F.Position.LEFT?"left":"right"],id:Ne.ACTIVITYBAR_PART,role:"navigation"});this.activitybarPart.create(e)},e.prototype.createSidebarPart=function(){var e=a.$(this.workbench).div({class:["part","sidebar",this.sideBarPosition===F.Position.LEFT?"left":"right"],id:Ne.SIDEBAR_PART,role:"complementary"});this.sidebarPart.create(e)},e.prototype.createPanelPart=function(){var e=a.$(this.workbench).div({class:["part","panel"],id:Ne.PANEL_PART,role:"complementary"});this.panelPart.create(e)},e.prototype.createEditorPart=function(){var e=a.$(this.workbench).div({class:["part","editor","empty"],id:Ne.EDITOR_PART,role:"main"});this.editorPart.create(e)},e.prototype.createStatusbarPart=function(){var e=a.$(this.workbench).div({class:["part","statusbar"],id:Ne.STATUSBAR_PART,role:"contentinfo"});this.statusbarPart.create(e)},e.prototype.getEditorPart=function(){return u.ok(this.workbenchStarted,"Workbench is not started. Call startup() first."),this.editorPart},e.prototype.getSidebarPart=function(){return u.ok(this.workbenchStarted,"Workbench is not started. Call startup() first."),this.sidebarPart},e.prototype.getPanelPart=function(){return u.ok(this.workbenchStarted,"Workbench is not started. Call startup() first."),this.panelPart},e.prototype.getInstantiationService=function(){return u.ok(this.workbenchStarted,"Workbench is not started. Call startup() first."),this.instantiationService},e.prototype.addClass=function(e){this.workbench&&this.workbench.addClass(e)},e.prototype.removeClass=function(e){this.workbench&&this.workbench.removeClass(e)},e.prototype.getWorkbenchElementId=function(){return Ne.WORKBENCH_CONTAINER},e.prototype.toggleZenMode=function(e){this.zenMode.active=!this.zenMode.active;var t=!1;if(this.zenMode.active){var n=this.configurationService.getConfiguration("zenMode");t=!l.isFullscreen()&&n.fullScreen,this.zenMode.transitionedToFullScreen=t,this.zenMode.wasSideBarVisible=this.isVisible(F.Parts.SIDEBAR_PART),this.zenMode.wasPanelVisible=this.isVisible(F.Parts.PANEL_PART),this.setPanelHidden(!0,!0).done(void 0,p.onUnexpectedError),this.setSideBarHidden(!0,!0).done(void 0,p.onUnexpectedError),n.hideActivityBar&&this.setActivityBarHidden(!0,!0),n.hideStatusBar&&this.setStatusBarHidden(!0,!0),n.hideTabs&&this.editorPart.hideTabs(!0)}else{this.zenMode.wasPanelVisible&&this.setPanelHidden(!1,!0).done(void 0,p.onUnexpectedError),this.zenMode.wasSideBarVisible&&this.setSideBarHidden(!1,!0).done(void 0,p.onUnexpectedError),this.onDidUpdateConfiguration(!0),this.editorPart.hideTabs(!1);var i=this.editorPart.getActiveEditor();i&&i.focus(),t=this.zenMode.transitionedToFullScreen&&l.isFullscreen()}this.inZenMode.set(this.zenMode.active),e||this.layout(),t&&this.windowService.toggleFullScreen().done(void 0,p.onUnexpectedError)},e.prototype.resizePart=function(e,t){switch(e){case F.Parts.SIDEBAR_PART:case F.Parts.PANEL_PART:case F.Parts.EDITOR_PART:this.workbenchLayout.resizePart(e,t);break;default:return}},e.prototype.shouldRestoreLastOpenedViewlet=function(){if(!this.environmentService.isBuilt)return!0;var t=this.storageService.getBoolean(e.sidebarRestoreSettingKey,B.StorageScope.WORKSPACE);return t&&this.storageService.remove(e.sidebarRestoreSettingKey,B.StorageScope.WORKSPACE),t},e}();Fe.sidebarHiddenSettingKey="workbench.sidebar.hidden",Fe.sidebarRestoreSettingKey="workbench.sidebar.restore",Fe.panelHiddenSettingKey="workbench.panel.hidden",Fe.zenModeActiveSettingKey="workbench.zenmode.active",Fe.sidebarPositionConfigurationKey="workbench.sideBar.location",Fe.statusbarVisibleConfigurationKey="workbench.statusBar.visible",Fe.activityBarVisibleConfigurationKey="workbench.activityBar.visible",Fe=v([y(5,de.IInstantiationService),y(6,W.IWorkspaceContextService),y(7,B.IStorageService),y(8,_e.ILifecycleService),y(9,Ce.IMessageService),y(10,H.IConfigurationService),y(11,Ae.ITelemetryService),y(12,xe.IEnvironmentService),y(13,Ee.IWindowService)],Fe),t.Workbench=Fe}),define(u[1351],d([1,0,537,60,72,47,25,129,259,62,90,176,7,32,22]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerCommands=function(){function e(e,t){var n=e.get(u.IListService).getFocused();if(n instanceof d.List){var i=n;i.setFocus([0]),i.reveal(0)}else if(n){var r=n;r.focusFirst({origin:"keyboard"},t&&t.fromFocused?r.getFocus():void 0),r.reveal(r.getFocus()).done(null,h.onUnexpectedError)}}function t(e,t){var n=e.get(u.IListService).getFocused();if(n instanceof d.List){var i=n;i.setFocus([i.length-1]),i.reveal(i.length-1)}else if(n){var r=n;r.focusLast({origin:"keyboard"},t&&t.fromFocused?r.getFocus():void 0),r.reveal(r.getFocus()).done(null,h.onUnexpectedError)}}r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"list.focusDown",weight:r.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:u.ListFocusContext,primary:18,mac:{primary:18,secondary:[300]},handler:function(e,t){var n=e.get(u.IListService).getFocused(),i="number"==typeof t?t:1;if(n instanceof d.List){var r=n;r.focusNext(i),r.reveal(r.getFocus()[0])}else if(n){var o=n;o.focusNext(i,{origin:"keyboard"}),o.reveal(o.getFocus()).done(null,h.onUnexpectedError)}}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"list.focusUp",weight:r.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:u.ListFocusContext,primary:16,mac:{primary:16,secondary:[302]},handler:function(e,t){var n=e.get(u.IListService).getFocused(),i="number"==typeof t?t:1;if(n instanceof d.List){var r=n;r.focusPrevious(i),r.reveal(r.getFocus()[0])}else if(n){var o=n;o.focusPrevious(i,{origin:"keyboard"}),o.reveal(o.getFocus()).done(null,h.onUnexpectedError)}}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"list.collapse",weight:r.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:u.ListFocusContext,primary:15,mac:{primary:15,secondary:[2064]},handler:function(e){var t=e.get(u.IListService).getFocused();if(t&&!(t instanceof d.List)){var n=t,i=n.getFocus();n.collapse(i).then(function(e){if(i&&!e)return n.focusParent({origin:"keyboard"}),n.reveal(n.getFocus())}).done(null,h.onUnexpectedError)}}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"list.expand",weight:r.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:u.ListFocusContext,primary:17,handler:function(e){var t=e.get(u.IListService).getFocused();if(t&&!(t instanceof d.List)){var n=t,i=n.getFocus();n.expand(i).then(function(e){if(i&&!e)return n.focusFirstChild({origin:"keyboard"}),n.reveal(n.getFocus())}).done(null,h.onUnexpectedError)}}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"list.focusPageUp",weight:r.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:u.ListFocusContext,primary:11,handler:function(e){var t=e.get(u.IListService).getFocused();if(t instanceof d.List){var n=t;n.focusPreviousPage(),n.reveal(n.getFocus()[0])}else if(t){var i=t;i.focusPreviousPage({origin:"keyboard"}),i.reveal(i.getFocus()).done(null,h.onUnexpectedError)}}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"list.focusPageDown",weight:r.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:u.ListFocusContext,primary:12,handler:function(e){var t=e.get(u.IListService).getFocused();if(t instanceof d.List){var n=t;n.focusNextPage(),n.reveal(n.getFocus()[0])}else if(t){var i=t;i.focusNextPage({origin:"keyboard"}),i.reveal(i.getFocus()).done(null,h.onUnexpectedError)}}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"list.focusFirst",weight:r.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:u.ListFocusContext,primary:14,handler:function(t){return e(t)}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"list.focusFirstChild",weight:r.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:u.ListFocusContext,primary:null,handler:function(t){return e(t,{fromFocused:!0})}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"list.focusLast",weight:r.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:u.ListFocusContext,primary:13,handler:function(e){return t(e)}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"list.focusLastChild",weight:r.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:u.ListFocusContext,primary:null,handler:function(e){return t(e,{fromFocused:!0})}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"list.select",weight:r.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:u.ListFocusContext,primary:3,secondary:[2051],mac:{primary:3,secondary:[2051,2066]},handler:function(e){var t=e.get(u.IListService).getFocused();if(t instanceof d.List){var n=t;n.setSelection(n.getFocus()),n.open(n.getFocus())}else if(t){var i=t,r=i.getFocus();r&&i.setSelection([r],{origin:"keyboard"})}}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"list.toggleExpand",weight:r.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:u.ListFocusContext,primary:10,handler:function(e){var t=e.get(u.IListService).getFocused();if(t&&!(t instanceof d.List)){var n=t,i=n.getFocus();i&&n.toggleExpansion(i)}}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"list.clear",weight:r.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:u.ListFocusContext,primary:9,handler:function(e){var t=e.get(u.IListService).getFocused();if(t&&!(t instanceof d.List)){var n=t;if(n.getSelection().length)return void n.clearSelection({origin:"keyboard"});if(n.getFocus())return void n.clearFocus({origin:"keyboard"})}}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.closeWindow",weight:r.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:c.NoEditorsVisibleContext,primary:2101,handler:function(e){e.get(a.IWindowIPCService).getWindow().close()}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.exitZenMode",weight:s.CommonEditorRegistry.commandWeight(-1e3),handler:function(e,t){e.get(o.IPartService).toggleZenMode()},when:c.InZenModeContext,primary:i.KeyChord(9,9)}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.quit",weight:r.KeybindingsRegistry.WEIGHT.workbenchContrib(),handler:function(e){e.get(l.IWindowsService).quit()},when:void 0,primary:2095,win:{primary:void 0}}),p.CommandsRegistry.registerCommand("_workbench.diff",function(e,t){var i=e.get(f.IWorkbenchEditorService),r=t[0],o=t[1],s=t[2],a=t[3],c=t[4],l=t[5];return c&&"object"==typeof c||(c={preserveFocus:!1,pinned:!0}),s||(s=n.localize(0,null,r.toString(!0),o.toString(!0))),i.openEditor({leftResource:r,rightResource:o,label:s,description:a,options:c},l).then(function(){})}),p.CommandsRegistry.registerCommand("_workbench.open",function(e,t){var n=e.get(f.IWorkbenchEditorService),i=t[0],r=t[1];return n.openEditor({resource:i},r).then(function(){})})}}),define(u[1352],d([1,0,15,540,80,96,35,64,50,60,11,168,259,1351,208]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),p.registerCommands();var g=i.localize(0,null),v=i.localize(1,null),m=i.localize(2,null),y=n.Registry.as(c.Extensions.WorkbenchActions);y.registerWorkbenchAction(new s.SyncActionDescriptor(d.NewWindowAction,d.NewWindowAction.ID,d.NewWindowAction.LABEL,{primary:3116}),"New Window"),y.registerWorkbenchAction(new s.SyncActionDescriptor(d.CloseWindowAction,d.CloseWindowAction.ID,d.CloseWindowAction.LABEL,{primary:3125}),"Close Window"),y.registerWorkbenchAction(new s.SyncActionDescriptor(d.SwitchWindow,d.SwitchWindow.ID,d.SwitchWindow.LABEL,{primary:null,mac:{primary:309}}),"Switch Window..."),y.registerWorkbenchAction(new s.SyncActionDescriptor(d.QuickSwitchWindow,d.QuickSwitchWindow.ID,d.QuickSwitchWindow.LABEL),"Quick Switch Window..."),y.registerWorkbenchAction(new s.SyncActionDescriptor(d.QuickOpenRecentAction,d.QuickOpenRecentAction.ID,d.QuickOpenRecentAction.LABEL),"File: Quick Open Recent...",m),y.registerWorkbenchAction(new s.SyncActionDescriptor(d.CloseFolderAction,d.CloseFolderAction.ID,d.CloseFolderAction.LABEL,{primary:l.KeyChord(2089,36)}),"File: Close Folder",m),r.default.reportIssueUrl&&(y.registerWorkbenchAction(new s.SyncActionDescriptor(d.ReportIssueAction,d.ReportIssueAction.ID,d.ReportIssueAction.LABEL),"Help: Report Issues",v),y.registerWorkbenchAction(new s.SyncActionDescriptor(d.ReportPerformanceIssueAction,d.ReportPerformanceIssueAction.ID,d.ReportPerformanceIssueAction.LABEL),"Help: Report Performance Issue",v)),d.KeybindingsReferenceAction.AVAILABLE&&y.registerWorkbenchAction(new s.SyncActionDescriptor(d.KeybindingsReferenceAction,d.KeybindingsReferenceAction.ID,d.KeybindingsReferenceAction.LABEL,{primary:l.KeyChord(2089,2096)}),"Help: Keyboard Shortcuts Reference",v),d.OpenDocumentationUrlAction.AVAILABLE&&y.registerWorkbenchAction(new s.SyncActionDescriptor(d.OpenDocumentationUrlAction,d.OpenDocumentationUrlAction.ID,d.OpenDocumentationUrlAction.LABEL),"Help: Documentation",v),d.OpenIntroductoryVideosUrlAction.AVAILABLE&&y.registerWorkbenchAction(new s.SyncActionDescriptor(d.OpenIntroductoryVideosUrlAction,d.OpenIntroductoryVideosUrlAction.ID,d.OpenIntroductoryVideosUrlAction.LABEL),"Help: Introductory Videos",v),d.OpenTipsAndTricksUrlAction.AVAILABLE&&y.registerWorkbenchAction(new s.SyncActionDescriptor(d.OpenTipsAndTricksUrlAction,d.OpenTipsAndTricksUrlAction.ID,d.OpenTipsAndTricksUrlAction.LABEL),"Help: Tips and Tricks",v),y.registerWorkbenchAction(new s.SyncActionDescriptor(d.ZoomInAction,d.ZoomInAction.ID,d.ZoomInAction.LABEL,{primary:2129,secondary:[3153,2152]}),"View: Zoom In",g),y.registerWorkbenchAction(new s.SyncActionDescriptor(d.ZoomOutAction,d.ZoomOutAction.ID,d.ZoomOutAction.LABEL,{primary:2131,secondary:[3155,2154],linux:{primary:2131,secondary:[2154]}}),"View: Zoom Out",g),y.registerWorkbenchAction(new s.SyncActionDescriptor(d.ZoomResetAction,d.ZoomResetAction.ID,d.ZoomResetAction.LABEL,{primary:2141}),"View: Reset Zoom",g),y.registerWorkbenchAction(new s.SyncActionDescriptor(d.CloseMessagesAction,d.CloseMessagesAction.ID,d.CloseMessagesAction.LABEL,{primary:9,secondary:[1033]},h.MessagesVisibleContext),"Close Notification Messages"),y.registerWorkbenchAction(new s.SyncActionDescriptor(d.CloseEditorAction,d.CloseEditorAction.ID,d.CloseEditorAction.LABEL,{primary:2101,win:{primary:2110,secondary:[2101]}}),"View: Close Editor",g),y.registerWorkbenchAction(new s.SyncActionDescriptor(d.ToggleFullScreenAction,d.ToggleFullScreenAction.ID,d.ToggleFullScreenAction.LABEL,{primary:69,mac:{primary:2340}}),"View: Toggle Full Screen",g),(u.isWindows||u.isLinux)&&y.registerWorkbenchAction(new s.SyncActionDescriptor(d.ToggleMenuBarAction,d.ToggleMenuBarAction.ID,d.ToggleMenuBarAction.LABEL),"View: Toggle Menu Bar",g),y.registerWorkbenchAction(new s.SyncActionDescriptor(d.NavigateUpAction,d.NavigateUpAction.ID,d.NavigateUpAction.LABEL,null),"View: Move to the View Above",g),y.registerWorkbenchAction(new s.SyncActionDescriptor(d.NavigateDownAction,d.NavigateDownAction.ID,d.NavigateDownAction.LABEL,null),"View: Move to the View Below",g),y.registerWorkbenchAction(new s.SyncActionDescriptor(d.NavigateLeftAction,d.NavigateLeftAction.ID,d.NavigateLeftAction.LABEL,null),"View: Move to the View on the Left",g),y.registerWorkbenchAction(new s.SyncActionDescriptor(d.NavigateRightAction,d.NavigateRightAction.ID,d.NavigateRightAction.LABEL,null),"View: Move to the View on the Right",g),y.registerWorkbenchAction(new s.SyncActionDescriptor(d.IncreaseViewSizeAction,d.IncreaseViewSizeAction.ID,d.IncreaseViewSizeAction.LABEL,null),"View: Increase Current View Size",g),y.registerWorkbenchAction(new s.SyncActionDescriptor(d.DecreaseViewSizeAction,d.DecreaseViewSizeAction.ID,d.DecreaseViewSizeAction.LABEL,null),"View: Decrease Current View Size",g),"stable"!==r.default.quality&&y.registerWorkbenchAction(new s.SyncActionDescriptor(f.AddRootFolderAction,f.AddRootFolderAction.ID,f.AddRootFolderAction.LABEL),"Files: Add Folder to Workspace...",m);var b=i.localize(3,null);y.registerWorkbenchAction(new s.SyncActionDescriptor(d.ShowStartupPerformance,d.ShowStartupPerformance.ID,d.ShowStartupPerformance.LABEL),"Developer: Startup Performance",b),y.registerWorkbenchAction(new s.SyncActionDescriptor(d.ToggleSharedProcessAction,d.ToggleSharedProcessAction.ID,d.ToggleSharedProcessAction.LABEL),"Developer: Toggle Shared Process",b);var S=n.Registry.as(a.Extensions.Configuration),_={"workbench.editor.showTabs":{type:"boolean",description:i.localize(4,null),default:!0},"workbench.editor.tabCloseButton":{type:"string",enum:["left","right","off"],default:"right",description:i.localize(5,null)},"workbench.editor.showIcons":{type:"boolean",description:i.localize(6,null),default:!0},"workbench.editor.enablePreview":{type:"boolean",description:i.localize(7,null),default:!0},"workbench.editor.enablePreviewFromQuickOpen":{type:"boolean",description:i.localize(8,null),default:!0},"workbench.editor.openPositioning":{type:"string",enum:["left","right","first","last"],default:"right",description:i.localize(9,null)},"workbench.editor.revealIfOpen":{type:"boolean",description:i.localize(10,null),default:!1},"workbench.commandPalette.history":{type:"number",description:i.localize(11,null),default:50},"workbench.commandPalette.preserveInput":{type:"boolean",description:i.localize(12,null),default:!1},"workbench.quickOpen.closeOnFocusLost":{type:"boolean",description:i.localize(13,null),default:!0},"workbench.settings.openDefaultSettings":{type:"boolean",description:i.localize(14,null),default:!0},"workbench.sideBar.location":{type:"string",enum:["left","right"],default:"left",description:i.localize(15,null)},"workbench.statusBar.visible":{type:"boolean",default:!0,description:i.localize(16,null)},"workbench.activityBar.visible":{type:"boolean",default:!0,description:i.localize(17,null)},"workbench.editor.closeOnFileDelete":{type:"boolean",description:i.localize(18,null),default:!0}};u.isMacintosh&&(_["workbench.editor.swipeToNavigate"]={type:"boolean",description:i.localize(19,null),default:!1}),S.registerConfiguration({id:"workbench",order:7,title:i.localize(20,null),type:"object",properties:_});var E={"window.openFilesInNewWindow":{type:"string",enum:["on","off","default"],enumDescriptions:[i.localize(21,null),i.localize(22,null),i.localize(23,null)],default:"off",description:i.localize(24,null)},"window.openFoldersInNewWindow":{type:"string",enum:["on","off","default"],enumDescriptions:[i.localize(25,null),i.localize(26,null),i.localize(27,null)],default:"default",description:i.localize(28,null)},"window.restoreWindows":{type:"string",enum:["all","folders","one","none"],enumDescriptions:[i.localize(29,null),i.localize(30,null),i.localize(31,null),i.localize(32,null)],default:"one",description:i.localize(33,null)},"window.restoreFullscreen":{type:"boolean",default:!1,description:i.localize(34,null)},"window.zoomLevel":{type:"number",default:0,description:i.localize(35,null)},"window.title":{type:"string",default:u.isMacintosh?"${activeEditorShort}${separator}${folderName}":"${dirty}${activeEditorShort}${separator}${folderName}${separator}${appName}",description:i.localize(36,null)},"window.newWindowDimensions":{type:"string",enum:["default","inherit","maximized","fullscreen"],enumDescriptions:[i.localize(37,null),i.localize(38,null),i.localize(39,null),i.localize(40,null)],default:"default",description:i.localize(41,null)}};(u.isWindows||u.isLinux)&&(E["window.menuBarVisibility"]={type:"string",enum:["default","visible","toggle","hidden"],enumDescriptions:[i.localize(42,null),i.localize(43,null),i.localize(44,null),i.localize(45,null)],default:"default",description:i.localize(46,null)},E["window.enableMenuBarMnemonics"]={type:"boolean",default:!0,description:i.localize(47,null)}),u.isWindows&&(E["window.autoDetectHighContrast"]={type:"boolean",default:!0,description:i.localize(48,null)}),u.isMacintosh&&(E["window.titleBarStyle"]={type:"string",enum:["native","custom"],default:"custom",description:i.localize(49,null)},0===o.release().indexOf("16.")&&"1.4.6"!==process.versions.electron&&(E["window.nativeTabs"]={type:"boolean",default:!1,description:i.localize(50,null)})),S.registerConfiguration({id:"window",order:8,title:i.localize(51,null),type:"object",properties:E}),S.registerConfiguration({id:"zenMode",order:9,title:i.localize(52,null),type:"object",properties:{"zenMode.fullScreen":{type:"boolean",default:!0,description:i.localize(53,null)},"zenMode.hideTabs":{type:"boolean",default:!0,description:i.localize(54,null)},"zenMode.hideStatusBar":{type:"boolean",default:!0,description:i.localize(55,null)},"zenMode.hideActivityBar":{type:"boolean",default:!0,description:i.localize(56,null)},"zenMode.restore":{type:"boolean",default:!1,description:i.localize(57,null)}}}),"stable"!==r.default.quality&&S.registerConfiguration({id:"workspace",order:1e4,title:i.localize(58,null),type:"object",properties:{workspace:{type:"object",description:i.localize(59,null),additionalProperties:{anyOf:[{type:"object",description:i.localize(60,null),properties:{folders:{description:i.localize(61,null),type:"array",items:{type:"string"}}}}]}}}})}),define(u[1353],d([1,0,730,9,24,8,52,4,7,46,42,1365,137,387,297,215,246,897,58]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,m,b,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var _=function(){function e(){this._onDidEncounterLanguage=new o.Emitter,this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._scopeNameToLanguageRegistration=Object.create(null),this._encounteredLanguages=[]}return e.prototype.register=function(e,t,n){this._scopeNameToLanguageRegistration[e]=new E(e,t,n)},e.prototype.getLanguageRegistration=function(e){return this._scopeNameToLanguageRegistration[e]||null},e.prototype.getFilePath=function(e){var t=this.getLanguageRegistration(e);return t?t.grammarFilePath:null},e.prototype.onEncounteredLanguage=function(e){this._encounteredLanguages[e]||(this._encounteredLanguages[e]=!0,this._onDidEncounterLanguage.fire(e))},e}();t.TMScopeRegistry=_;var E=function(){return function(e,t,n){if(this.scopeName=e,this.grammarFilePath=t,this.embeddedLanguages=Object.create(null),n)for(var i=Object.keys(n),r=0,o=i.length;r<o;r++){var s=i[r],a=n[s];"string"==typeof a&&(this.embeddedLanguages[s]=a)}}}();t.TMLanguageRegistration=E;var C=function(){function e(e,t){var n=this;this._styleElement=i.createStyleSheet(),this._styleElement.className="vscode-tokens-styles",this._modeService=e,this._themeService=t,this._scopeRegistry=new _,this.onDidEncounterLanguage=this._scopeRegistry.onDidEncounterLanguage,this._injections={},this._languageToScope=new Map,this._grammarRegistry=new d.Registry({getFilePath:function(e){return n._scopeRegistry.getFilePath(e)},getInjections:function(e){return n._injections[e]}}),this._updateTheme(),this._themeService.onDidColorThemeChange(function(e){return n._updateTheme()}),p.grammarsExtPoint.setHandler(function(e){for(var t=0;t<e.length;t++)for(var i=e[t].value,r=0;r<i.length;r++)n._handleGrammarExtensionPointUser(e[t].description.extensionFolderPath,i[r],e[t].collector)}),this._modeService.onDidCreateMode(function(e){var t=e.getId();n._languageToScope.has(t)&&n.registerDefinition(t)})}return e._toColorMap=function(e){for(var t=[null],n=1,i=e.length;n<i;n++)t[n]=S.Color.fromHex(e[n]);return t},e.prototype._updateTheme=function(){var t=this._themeService.getColorTheme();this._grammarRegistry.setTheme({name:t.label,settings:t.tokenColors});var n=e._toColorMap(this._grammarRegistry.getColorMap()),i=b.generateTokensCSSForColorMap(n);this._styleElement.innerHTML=i,l.TokenizationRegistry.setColorMap(n)},e.prototype._handleGrammarExtensionPointUser=function(e,t,i){if(!t.language||"string"==typeof t.language&&this._modeService.isRegisteredMode(t.language))if(t.scopeName&&"string"==typeof t.scopeName)if(t.path&&"string"==typeof t.path)if(!t.injectTo||Array.isArray(t.injectTo)&&!t.injectTo.some(function(e){return"string"!=typeof e}))if(!t.embeddedLanguages||r.isObject(t.embeddedLanguages)){var o=s.normalize(s.join(e,t.path));if(0!==o.indexOf(e)&&i.warn(n.localize(5,null,p.grammarsExtPoint.name,o,e)),this._scopeRegistry.register(t.scopeName,o,t.embeddedLanguages),t.injectTo)for(var a=0,c=t.injectTo;a<c.length;a++){var l=c[a],u=this._injections[l];u||(this._injections[l]=u=[]),u.push(t.scopeName)}var d=t.language;d&&this._languageToScope.set(d,t.scopeName)}else i.error(n.localize(4,null,p.grammarsExtPoint.name,JSON.stringify(t.embeddedLanguages)));else i.error(n.localize(3,null,p.grammarsExtPoint.name,JSON.stringify(t.injectTo)));else i.error(n.localize(2,null,p.grammarsExtPoint.name,String(t.path)));else i.error(n.localize(1,null,p.grammarsExtPoint.name,String(t.scopeName)));else i.error(n.localize(0,null,p.grammarsExtPoint.name,String(t.language)))},e.prototype._resolveEmbeddedLanguages=function(e){for(var t=Object.keys(e),n=Object.create(null),i=0,r=t.length;i<r;i++){var o=t[i],s=e[o],a=this._modeService.getLanguageIdentifier(s);a&&(n[o]=a.id)}return n},e.prototype.createGrammar=function(e){return this._createGrammar(e).then(function(e){return e.grammar})},e.prototype._createGrammar=function(e){var t=this,i=this._languageToScope.get(e),r=this._scopeRegistry.getLanguageRegistration(i);if(!r)return a.TPromise.wrapError(new Error(n.localize(6,null)));var o=this._resolveEmbeddedLanguages(r.embeddedLanguages),s=this._modeService.getLanguageIdentifier(e).id,c=Object.keys(o).length>0;return new a.TPromise(function(e,n,r){t._grammarRegistry.loadGrammarWithEmbeddedLanguages(i,s,o,function(t,i){if(t)return n(t);e({languageId:s,grammar:i,containsEmbeddedLanguages:c})})})},e.prototype.registerDefinition=function(e){var t=this;this._createGrammar(e).then(function(n){l.TokenizationRegistry.register(e,new w(t._scopeRegistry,n.languageId,n.grammar,n.containsEmbeddedLanguages))},c.onUnexpectedError)},e}();C=v([y(0,u.IModeService),y(1,h.IWorkbenchThemeService)],C),t.TextMateService=C;var w=function(){function e(e,t,n,i){this._scopeRegistry=e,this._languageId=t,this._grammar=n,this._containsEmbeddedLanguages=i,this._seenLanguages=[]}return e.prototype.getInitialState=function(){return d.INITIAL},e.prototype.tokenize=function(e,t,n){throw new Error("Not supported!")},e.prototype.tokenize2=function(e,t,n){if(0!==n)throw new Error("Unexpected: offsetDelta should be 0.");if(e.length>=2e4)return console.log("Line ("+e.substr(0,15)+"...): longer than 20k characters, tokenization skipped."),m.nullTokenize2(this._languageId,e,t,n);var i=this._grammar.tokenizeLine2(e,t);if(this._containsEmbeddedLanguages)for(var r=this._seenLanguages,o=i.tokens,s=0,a=o.length>>>1;s<a;s++){var c=o[1+(s<<1)],l=g.TokenMetadata.getLanguageId(c);r[l]||(r[l]=!0,this._scopeRegistry.onEncounteredLanguage(l))}var u;return u=t.equals(i.ruleStack)?t:i.ruleStack,new f.TokenizationResult2(i.tokens,u)},e}()}),define(u[1355],d([1,0,1357,96,4,7,135,263,329]),function(e,t,n,i,r,o,s,a,c){"use strict";function l(e){var t=e.get("telemetry.instanceId")||s.generateUuid();return e.store("telemetry.instanceId",t),r.TPromise.as(t)}function u(e){var t=e.get(c.machineIdStorageKey);return t?r.TPromise.as(t):a.getMachineId().then(function(t){return e.store(c.machineIdStorageKey,t),t})}function d(e){var t=e.get("telemetry.sqm.userId");return t?r.TPromise.as(t):p(f,"UserId",n.HKCU).then(function(t){if(t)return e.store("telemetry.sqm.userId",t),t})}function h(e){var t=e.get("telemetry.sqm.machineId");return t?r.TPromise.as(t):p(f,"MachineId",n.HKLM).then(function(t){if(t)return e.store("telemetry.sqm.machineId",t),t})}function p(e,t,i){return new r.TPromise(function(r,s){if("win32"===process.platform)try{new n({hive:i,key:e}).get(t,function(e,t){e||!t?s(null):r(t.value)})}catch(e){o.onUnexpectedError(e),s(e)}else r(null)}).then(void 0,function(e){})}Object.defineProperty(t,"__esModule",{value:!0});var f="\\Software\\Microsoft\\SQMClient";t.resolveWorkbenchCommonProperties=function(e,t,n){return c.resolveCommonProperties(t,n).then(function(t){t["common.version.shell"]=process.versions&&process.versions.electron,t["common.version.renderer"]=process.versions&&process.versions.chrome,t["common.osVersion"]=i.release();var n=e.get("telemetry.lastSessionDate"),o=e.get("telemetry.firstSessionDate")||(new Date).toUTCString();e.store("telemetry.firstSessionDate",o),e.store("telemetry.lastSessionDate",(new Date).toUTCString()),t["common.firstSessionDate"]=o,t["common.lastSessionDate"]=n,t["common.isNewSession"]=n?"0":"1";var s=[];return s.push(l(e).then(function(e){return t["common.instanceId"]=e})),s.push(u(e).then(function(e){return t["common.machineId"]=e})),"win32"===process.platform&&(s.push(d(e).then(function(e){return t["common.sqm.userid"]=e})),s.push(h(e).then(function(e){return t["common.sqm.machineid"]=e}))),r.TPromise.join(s).then(function(){return t})})},t.getOrCreateMachineId=u}),define(u[1354],d([1,0,157,96,52,5,697,11,9,8,16,1358,40,17,38,20,78,120,27,22,6,89,228,1093,1049,13,29,4,255,160]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A,L,P){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var D=function(){function t(){}return t.prototype.create=function(t){return n.fork("./terminalProcess",[],{env:t,cwd:u.default.parse(r.dirname(e.toUrl("./terminalProcess"))).fsPath})},t}(),O=function(){function t(e,n,i,r,o,s,a,c,u,d,h,p,f){var g=this;this._terminalFocusContextKey=e,this._configHelper=n,this._container=i,this._shellLaunchConfig=r,this._contextKeyService=o,this._keybindingService=s,this._messageService=a,this._panelService=c,this._contextService=u,this._editorService=d,this._instantiationService=h,this._clipboardService=p,this._historyService=f,this._instanceDisposables=[],this._processDisposables=[],this._skipTerminalCommands=[],this._isExiting=!1,this._hadFocusOnExit=!1,this._isLaunching=!0,this._isVisible=!1,this._isDisposed=!1,this._id=t._idCounter++,this._terminalHasTextContextKey=b.KEYBINDING_CONTEXT_TERMINAL_TEXT_SELECTED.bindTo(this._contextKeyService),this._onDisposed=new l.Emitter,this._onDataForApi=new l.Emitter,this._onProcessIdReady=new l.Emitter,this._onTitleChanged=new l.Emitter,this._processReady=new A.TPromise(function(e){g.onProcessIdReady(function(){return e(void 0)})}),this._initDimensions(),this._createProcess(this._historyService.getLastActiveWorkspaceRoot(),this._shellLaunchConfig),this._createXterm(),i&&this.attachToElement(i)}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"processId",{get:function(){return this._processId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDisposed",{get:function(){return this._onDisposed.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDataForApi",{get:function(){return this._onDataForApi.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onProcessIdReady",{get:function(){return this._onProcessIdReady.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onTitleChanged",{get:function(){return this._onTitleChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hadFocusOnExit",{get:function(){return this._hadFocusOnExit},enumerable:!0,configurable:!0}),t.prototype.addDisposable=function(e){this._instanceDisposables.push(e)},t.prototype._initDimensions=function(){if(this._container){var e=window.getComputedStyle(this._container),t=parseInt(e.getPropertyValue("width").replace("px",""),10),n=parseInt(e.getPropertyValue("height").replace("px",""),10);this._evaluateColsAndRows(t,n)}},t.prototype._evaluateColsAndRows=function(e,t){var n=this._getDimension(e,t);if(!n)return null;var i=this._configHelper.getFont();return this._cols=Math.max(Math.floor(n.width/i.charWidth),1),this._rows=Math.max(Math.floor(n.height/i.charHeight),1),n.width},t.prototype._getDimension=function(e,n){var i=this._configHelper.getFont();if(!i||!i.charWidth||!i.charHeight)return null;if(!n)return t._lastKnownDimensions;this._xterm&&this._xterm.emit("scroll",this._xterm.ydisp);var r=e-2*parseInt(getComputedStyle(document.querySelector(".terminal-outer-container")).paddingLeft.split("px")[0],10);return t._lastKnownDimensions=new h.Dimension(r,n),t._lastKnownDimensions},t.prototype._createXterm=function(){var e=this;this._xterm=d({scrollback:this._configHelper.config.scrollback}),this._shellLaunchConfig.initialText&&this._xterm.writeln(this._shellLaunchConfig.initialText),this._process.on("message",function(t){return e._sendPtyDataToXterm(t)}),this._xterm.on("data",function(t){return e._process&&e._process.send({event:"input",data:e._sanitizeInput(t)}),!1}),this._linkHandler=this._instantiationService.createInstance(I.TerminalLinkHandler,this._xterm,a.platform),this._linkHandler.registerLocalLinkHandler()},t.prototype.attachToElement=function(e){var t=this;if(this._wrapperElement)throw new Error("The terminal instance has already been attached to a container");this._container=e,this._wrapperElement=document.createElement("div"),c.addClass(this._wrapperElement,"terminal-wrapper"),this._xtermElement=document.createElement("div"),this._xterm.open(this._xtermElement,!1),this._xterm.attachCustomKeydownHandler(function(e){if(t._isExiting)return!1;var n=new C.StandardKeyboardEvent(e),i=t._keybindingService.softDispatch(n,n.target);return i&&t._skipTerminalCommands.some(function(e){return e===i.commandId})?(e.preventDefault(),!1):(!w.TabFocus.getTabFocusMode()||9!==e.keyCode)&&void 0}),this._instanceDisposables.push(c.addDisposableListener(this._xterm.element,"mouseup",function(e){setTimeout(function(){t._refreshSelectionContextKey()},0)})),this._instanceDisposables.push(c.addDisposableListener(this._xterm.element,"keyup",function(e){setTimeout(function(){t._refreshSelectionContextKey()},0)}));var n=this._xterm.element.querySelector(".xterm-helpers"),i=document.createElement("div");i.setAttribute("tabindex","0"),c.addClass(i,"focus-trap"),this._instanceDisposables.push(c.addDisposableListener(i,"focus",function(e){for(var t=i;!c.hasClass(t,"part");)t=t.parentElement;t.querySelector(".hide-panel-action").focus()})),n.insertBefore(i,this._xterm.textarea),this._instanceDisposables.push(c.addDisposableListener(this._xterm.textarea,"focus",function(e){t._terminalFocusContextKey.set(!0)})),this._instanceDisposables.push(c.addDisposableListener(this._xterm.textarea,"blur",function(e){t._terminalFocusContextKey.reset(),t._refreshSelectionContextKey()})),this._instanceDisposables.push(c.addDisposableListener(this._xterm.element,"focus",function(e){t._terminalFocusContextKey.set(!0)})),this._instanceDisposables.push(c.addDisposableListener(this._xterm.element,"blur",function(e){t._terminalFocusContextKey.reset(),t._refreshSelectionContextKey()})),this._wrapperElement.appendChild(this._xtermElement),this._widgetManager=new T.TerminalWidgetManager(this._configHelper,this._wrapperElement),this._linkHandler.setWidgetManager(this._widgetManager),this._container.appendChild(this._wrapperElement);var r=window.getComputedStyle(this._container),o=parseInt(r.getPropertyValue("width").replace("px",""),10),s=parseInt(r.getPropertyValue("height").replace("px",""),10);this.layout(new h.Dimension(o,s)),this.setVisible(this._isVisible),this.updateConfig(),this._xterm.getOption("disableStdin")&&this._attachPressAnyKeyToCloseListener()},t.prototype.registerLinkMatcher=function(e,t,n,i){return this._linkHandler.registerCustomLinkHandler(e,t,n,i)},t.prototype.deregisterLinkMatcher=function(e){this._xterm.deregisterLinkMatcher(e)},t.prototype.hasSelection=function(){return this._xterm.hasSelection()},t.prototype.copySelection=function(){this.hasSelection()?this._clipboardService.writeText(this._xterm.getSelection()):this._messageService.show(g.Severity.Warning,s.localize(0,null))},t.prototype.clearSelection=function(){this._xterm.clearSelection()},t.prototype.selectAll=function(){this._xterm.focus(),this._xterm.selectAll()},t.prototype.findNext=function(e){return this._xterm.findNext(e)},t.prototype.findPrevious=function(e){return this._xterm.findPrevious(e)},t.prototype.notifyFindWidgetFocusChanged=function(e){this._terminalFocusContextKey.set(e||document.activeElement===this._xterm.textarea)},t.prototype.dispose=function(){this._linkHandler&&this._linkHandler.dispose(),this._xterm&&this._xterm.element&&(this._hadFocusOnExit=c.hasClass(this._xterm.element,"focus")),this._wrapperElement&&(this._container.removeChild(this._wrapperElement),this._wrapperElement=null),this._xterm&&(this._xterm.destroy(),this._xterm=null),this._process&&(this._process.connected&&this._process.kill(),this._process=null),this._isDisposed||(this._isDisposed=!0,this._onDisposed.fire(this)),this._processDisposables=o.dispose(this._processDisposables),this._instanceDisposables=o.dispose(this._instanceDisposables)},t.prototype.focus=function(e){this._xterm&&(window.getSelection().toString()&&!e||this._xterm.focus())},t.prototype.paste=function(){this.focus(),document.execCommand("paste")},t.prototype.sendText=function(e,t){var n=this;this._processReady.then(function(){e=n._sanitizeInput(e),t&&"\r"!==e.substr(e.length-1)&&(e+="\r"),n._process.send({event:"input",data:e})})},t.prototype.setVisible=function(e){this._isVisible=e,this._wrapperElement&&c.toggleClass(this._wrapperElement,"active",e),e&&this._xterm&&this._xterm.emit("scroll",this._xterm.ydisp)},t.prototype.scrollDownLine=function(){this._xterm.scrollDisp(1)},t.prototype.scrollDownPage=function(){this._xterm.scrollPages(1)},t.prototype.scrollToBottom=function(){this._xterm.scrollToBottom()},t.prototype.scrollUpLine=function(){this._xterm.scrollDisp(-1)},t.prototype.scrollUpPage=function(){this._xterm.scrollPages(-1)},t.prototype.scrollToTop=function(){this._xterm.scrollToTop()},t.prototype.clear=function(){this._xterm.clear()},t.prototype._refreshSelectionContextKey=function(){var e=this._panelService.getActivePanel(),t=e&&e.getId()===b.TERMINAL_PANEL_ID;this._terminalHasTextContextKey.set(t&&this.hasSelection())},t.prototype._sanitizeInput=function(e){return"string"==typeof e?e.replace(t.WINDOWS_EOL_REGEX,"\r"):e},t.prototype._getCwd=function(e,n){if(e.cwd)return e.cwd;var o;if(!e.ignoreConfigurationCwd){var s=this._configHelper.config.cwd;s&&(r.isAbsolute(s)?o=s:n&&(o=r.normalize(r.join(n.fsPath,s))))}return o||(o=n?n.fsPath:i.homedir()),t._sanitizeCwd(o)},t.prototype._createProcess=function(i,o){var s=this,c=this._configHelper.config.setLocaleVariables?a.locale:void 0;o.executable||this._configHelper.mergeDefaultShellPathAndArgs(o);var l=t.createTerminalEnv(process.env,o,this._getCwd(o,i),c,this._cols,this._rows);this._title=o.name||"",this._process=n.fork(u.default.parse(e.toUrl("bootstrap")).fsPath,["--type=terminal"],{env:l,cwd:u.default.parse(r.dirname(e.toUrl("../node/terminalProcess"))).fsPath}),o.name||(this._messageTitleListener=function(e){"title"===e.type&&(s._title=e.content?e.content:"",s._onTitleChanged.fire(s._title))},this._process.on("message",this._messageTitleListener)),this._process.on("message",function(e){"pid"===e.type&&(s._processId=e.content,s._onProcessIdReady.fire(s))}),this._process.on("exit",function(e){return s._onPtyProcessExit(e)}),setTimeout(function(){s._isLaunching=!1},500)},t.prototype._sendPtyDataToXterm=function(e){"data"===e.type&&(this._widgetManager&&this._widgetManager.closeMessage(),this._xterm&&this._xterm.write(e.content))},t.prototype._onPtyProcessExit=function(e){if(!this._isExiting){this._isExiting=!0,this._process=null;var t;if(e&&(t=s.localize(1,null,e)),null!==e&&this._shellLaunchConfig.waitOnExit){e&&this._xterm.writeln(t);var n="string"==typeof this._shellLaunchConfig.waitOnExit?this._shellLaunchConfig.waitOnExit:s.localize(2,null);n="\n[1m"+n+"[0m",this._xterm.writeln(n),this._xterm.setOption("disableStdin",!0),this._xterm.textarea&&this._attachPressAnyKeyToCloseListener()}else if(this.dispose(),e)if(this._isLaunching){var i="";"string"==typeof this._shellLaunchConfig.args?i=this._shellLaunchConfig.args:this._shellLaunchConfig.args&&this._shellLaunchConfig.args.length&&(i=" "+this._shellLaunchConfig.args.map(function(e){return-1!==e.indexOf(" ")?"'"+e+"'":e}).join(" ")),this._messageService.show(g.Severity.Error,s.localize(3,null,this._shellLaunchConfig.executable,i,e))}else this._messageService.show(g.Severity.Error,t)}},t.prototype._attachPressAnyKeyToCloseListener=function(){var e=this;this._processDisposables.push(c.addDisposableListener(this._xterm.textarea,"keypress",function(t){e.dispose(),t.preventDefault()}))},t.prototype.reuseTerminal=function(e){var t=this;this._process&&(this._process.removeAllListeners("exit"),this._process.connected&&this._process.kill(),this._process=null),o.dispose(this._processDisposables),this._processDisposables=[],this._xterm.write("\n[G"),e.initialText&&this._xterm.writeln(e.initialText);var n=this._title;this._createProcess(this._historyService.getLastActiveWorkspaceRoot(),e),n!==this._title&&this._onTitleChanged.fire(this._title),this._process.on("message",function(e){return t._sendPtyDataToXterm(e)}),this._isExiting&&this._shellLaunchConfig.waitOnExit&&(this._xterm.setOption("disableStdin",!1),this._isExiting=!1),this._shellLaunchConfig=e},t.createTerminalEnv=function(e,n,i,r,o,s){var a=n.env?n.env:t._cloneEnv(e);return a.PTYPID=process.pid.toString(),a.PTYSHELL=n.executable,n.args&&("string"==typeof n.args?a.PTYSHELLCMDLINE=n.args:n.args.forEach(function(e,t){return a["PTYSHELLARG"+t]=e})),a.PTYCWD=i,a.LANG=t._getLangEnvVariable(r),o&&s&&(a.PTYCOLS=o.toString(),a.PTYROWS=s.toString()),a.AMD_ENTRYPOINT="vs/workbench/parts/terminal/node/terminalProcess",a},t.prototype.onData=function(e){var t=this,n=function(t){"data"===t.type&&e(t.content)};return this._process.on("message",n),{dispose:function(){t._process&&t._process.removeListener("message",n)}}},t.prototype.onExit=function(e){var t=this;return this._process.on("exit",e),{dispose:function(){t._process&&t._process.removeListener("exit",e)}}},t._sanitizeCwd=function(e){return a.platform===a.Platform.Windows&&e&&":"===e[1]?e[0].toUpperCase()+e.substr(1):e},t._cloneEnv=function(e){var t=Object.create(null);return Object.keys(e).forEach(function(n){t[n]=e[n]}),t},t._getLangEnvVariable=function(e){var t=e?e.split("-"):[],n=t.length;if(0===n)return"en_US.UTF-8";if(1===n){var i={de:"DE",en:"US",es:"ES",fr:"FR",it:"IT",ja:"JP",ko:"KR",ru:"RU",zh:"CN"};t[0]in i&&t.push(i[t[0]])}else t[1]=t[1].toUpperCase();return t.join("_")+".UTF-8"},t.prototype.updateConfig=function(){this._setCursorBlink(this._configHelper.config.cursorBlinking),this._setCursorStyle(this._configHelper.config.cursorStyle),this._setCommandsToSkipShell(this._configHelper.config.commandsToSkipShell),this._setScrollback(this._configHelper.config.scrollback)},t.prototype._setCursorBlink=function(e){this._xterm&&this._xterm.getOption("cursorBlink")!==e&&(this._xterm.setOption("cursorBlink",e),this._xterm.refresh(0,this._xterm.rows-1))},t.prototype._setCursorStyle=function(e){if(this._xterm&&this._xterm.getOption("cursorStyle")!==e){var t="line"===e?"bar":e;this._xterm.setOption("cursorStyle",t)}},t.prototype._setCommandsToSkipShell=function(e){this._skipTerminalCommands=e},t.prototype._setScrollback=function(e){this._xterm&&this._xterm.getOption("scrollback")!==e&&this._xterm.setOption("scrollback",e)},t.prototype.layout=function(e){var t=this,n=this._evaluateColsAndRows(e.width,e.height);n&&(this._xterm&&(this._xterm.resize(this._cols,this._rows),this._xterm.element.style.width=n+"px"),this._processReady.then(function(){if(t._process&&t._process.connected)try{t._process.send({event:"resize",cols:t._cols,rows:t._rows})}catch(e){if("EPIPE"!==e.code&&"ERR_IPC_CHANNEL_CLOSED"!==e.code)throw e}}))},t.prototype.enableApiOnData=function(){var e=this;this.onData(function(t){return e._onDataForApi.fire({instance:e,data:t})})},t.setTerminalProcessFactory=function(e){this._terminalProcessFactory=e},t.prototype.setTitle=function(e){var t=e!==this._title;this._title=e,t&&this._onTitleChanged.fire(e),this._process&&this._messageTitleListener&&(this._process.removeListener("message",this._messageTitleListener),this._messageTitleListener=null)},t}();O.WINDOWS_EOL_REGEX=/\r?\n/g,O._terminalProcessFactory=new D,O._lastKnownDimensions=null,O._idCounter=1,O=v([y(4,p.IContextKeyService),y(5,f.IKeybindingService),y(6,g.IMessageService),y(7,m.IPanelService),y(8,S.IWorkspaceContextService),y(9,_.IWorkbenchEditorService),y(10,E.IInstantiationService),y(11,L.IClipboardService),y(12,P.IHistoryService)],O),t.TerminalInstance=O,k.registerThemingParticipant(function(e,t){var n=e.getColor(x.scrollbarSliderBackground);n&&t.addRule("\n\t\t\t.monaco-workbench .panel.integrated-terminal .xterm.focus .xterm-viewport,\n\t\t\t.monaco-workbench .panel.integrated-terminal .xterm:focus .xterm-viewport,\n\t\t\t.monaco-workbench .panel.integrated-terminal .xterm:hover .xterm-viewport { background-color: "+n+"; }");var i=e.getColor(x.scrollbarSliderHoverBackground);i&&t.addRule(".monaco-workbench .panel.integrated-terminal .xterm .xterm-viewport::-webkit-scrollbar-thumb:hover { background-color: "+i+"; }");var r=e.getColor(x.scrollbarSliderActiveBackground);r&&t.addRule(".monaco-workbench .panel.integrated-terminal .xterm .xterm-viewport::-webkit-scrollbar-thumb:active { background-color: "+r+"; }")})}),define(u[1336],d([1,0,700,76,11,80,17,6,69,78,47,129,23,65,54,120,1160,1067,1354,4,20,36,31,388]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var k=function(e){function t(t,n,i,o,s,a,c,l,u,d,h){var p=e.call(this,t,n,i,o,s)||this;return p._instantiationService=a,p._windowService=c,p._quickOpenService=l,p._configurationEditingService=u,p._choiceService=d,p._storageService=h,p._configHelper=p._instantiationService.createInstance(S.TerminalConfigHelper,r.platform),p}return h(t,e),Object.defineProperty(t.prototype,"configHelper",{get:function(){return this._configHelper},enumerable:!0,configurable:!0}),t.prototype.createInstance=function(e,t){void 0===e&&(e={});var n=this._instantiationService.createInstance(_.TerminalInstance,this._terminalFocusContextKey,this._configHelper,this._terminalContainer,e);return n.addDisposable(n.onTitleChanged(this._onInstanceTitleChanged.fire,this._onInstanceTitleChanged)),n.addDisposable(n.onDisposed(this._onInstanceDisposed.fire,this._onInstanceDisposed)),n.addDisposable(n.onDataForApi(this._onInstanceData.fire,this._onInstanceData)),n.addDisposable(n.onProcessIdReady(this._onInstanceProcessIdReady.fire,this._onInstanceProcessIdReady)),this.terminalInstances.push(n),1===this.terminalInstances.length&&this.setActiveInstanceByIndex(0),this._onInstancesChanged.fire(),this._suggestShellChange(t),n},t.prototype.focusFindWidget=function(){var e=this;return this.showPanel(!1).then(function(){e._panelService.getActivePanel().focusFindWidget(),e._findWidgetVisible.set(!0)})},t.prototype.hideFindWidget=function(){var e=this._panelService.getActivePanel();e&&e.getId()===m.TERMINAL_PANEL_ID&&(e.hideFindWidget(),this._findWidgetVisible.reset(),e.focus())},t.prototype._suggestShellChange=function(e){var t=this;if(r.isWindows&&e&&!this._storageService.getBoolean(m.NEVER_SUGGEST_SELECT_WINDOWS_SHELL_STORAGE_KEY,I.StorageScope.GLOBAL,!1))if(this._configHelper.config.shell.windows===T.TERMINAL_DEFAULT_SHELL_WINDOWS){var i=n.localize(0,null),o=[n.localize(1,null),n.localize(2,null),n.localize(3,null)];this._choiceService.choose(w.default.Info,i,o,1).then(function(e){switch(e){case 0:return t.selectDefaultWindowsShell().then(function(e){if(!e)return E.TPromise.as(null);var n=t.createInstance({executable:e,args:t._configHelper.config.shellArgs.windows});return n&&t.setActiveInstance(n),E.TPromise.as(null)});case 1:return E.TPromise.as(null);case 2:t._storageService.store(m.NEVER_SUGGEST_SELECT_WINDOWS_SHELL_STORAGE_KEY,!0);default:return E.TPromise.as(null)}})}else this._storageService.store(m.NEVER_SUGGEST_SELECT_WINDOWS_SHELL_STORAGE_KEY,!0)},t.prototype.selectDefaultWindowsShell=function(){var e=this;return this._detectWindowsShells().then(function(t){var i={placeHolder:n.localize(4,null)};return e._quickOpenService.pick(t,i).then(function(t){if(!t)return null;var n=t.description,i={key:"terminal.integrated.shell.windows",value:n};return e._configurationEditingService.writeConfiguration(f.ConfigurationTarget.USER,i).then(function(){return n})})})},t.prototype._detectWindowsShells=function(){var e=this,t=process.env.windir,n={"Command Prompt":[t+"\\Sysnative\\cmd.exe",t+"\\System32\\cmd.exe"],PowerShell:[t+"\\Sysnative\\WindowsPowerShell\\v1.0\\powershell.exe",t+"\\System32\\WindowsPowerShell\\v1.0\\powershell.exe"],"WSL Bash":[t+"\\Sysnative\\bash.exe"],"Git Bash":[process.env.ProgramW6432+"\\Git\\bin\\bash.exe",process.env.ProgramW6432+"\\Git\\usr\\bin\\bash.exe",process.env.ProgramFiles+"\\Git\\bin\\bash.exe",process.env.ProgramFiles+"\\Git\\usr\\bin\\bash.exe"]},i=[];return Object.keys(n).forEach(function(t){return i.push(e._validateShellPaths(t,n[t]))}),E.TPromise.join(i).then(function(e){return e.filter(function(e){return!!e}).map(function(e){return{label:e[0],description:e[1]}})})},t.prototype._validateShellPaths=function(e,t){var n=this,r=t.shift();return i.fileExists(r).then(function(i){return i?[e,r]:0===t.length?null:n._validateShellPaths(e,t)})},t.prototype.getActiveOrCreateInstance=function(e){var t=this.getActiveInstance();return t||this.createInstance(void 0,e)},t.prototype._showTerminalCloseConfirmation=function(){var e;e=1===this.terminalInstances.length?n.localize(5,null):n.localize(6,null,this.terminalInstances.length);var t={title:o.default.nameLong,message:e,type:"warning",buttons:[n.localize(7,null),n.localize(8,null)],noLink:!0,cancelId:1};return 1===this._windowService.getWindow().showMessageBox(t)},t.prototype.setContainers=function(e,t){var n=this;this._configHelper.panelContainer=e,this._terminalContainer=t,this._terminalInstances.forEach(function(e){e.attachToElement(n._terminalContainer)})},t}(b.TerminalService);k=v([y(0,s.IContextKeyService),y(1,p.IConfigurationService),y(2,l.IPanelService),y(3,u.IPartService),y(4,c.ILifecycleService),y(5,a.IInstantiationService),y(6,d.IWindowIPCService),y(7,g.IQuickOpenService),y(8,f.IConfigurationEditingService),y(9,C.IChoiceService),y(10,I.IStorageService)],k),t.TerminalService=k}),define(u[1330],d([1,0,134,692,106,11,64,169,120,388,50,17,299,15,234,35,1336,302,116,72,206,124,321,168,949,948,946,947]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,v,m,y,b,S,_,E,C){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),p.Registry.as(s.Extensions.Configuration).registerConfiguration({id:"terminal",order:100,title:i.localize(0,null),type:"object",properties:{"terminal.integrated.shell.linux":{description:i.localize(1,null),type:"string",default:l.TERMINAL_DEFAULT_SHELL_LINUX},"terminal.integrated.shellArgs.linux":{description:i.localize(2,null),type:"array",items:{type:"string"},default:[]},"terminal.integrated.shell.osx":{description:i.localize(3,null),type:"string",default:l.TERMINAL_DEFAULT_SHELL_OSX},"terminal.integrated.shellArgs.osx":{description:i.localize(4,null),type:"array",items:{type:"string"},default:["-l"]},"terminal.integrated.shell.windows":{description:i.localize(5,null),type:"string",default:l.TERMINAL_DEFAULT_SHELL_WINDOWS},"terminal.integrated.shellArgs.windows":{description:i.localize(6,null),type:"array",items:{type:"string"},default:[]},"terminal.integrated.rightClickCopyPaste":{description:i.localize(7,null),type:"boolean",default:c.TERMINAL_DEFAULT_RIGHT_CLICK_COPY_PASTE},"terminal.integrated.fontFamily":{description:i.localize(8,null),type:"string"},"terminal.integrated.fontLigatures":{description:i.localize(9,null),type:"boolean",default:!1},"terminal.integrated.fontSize":{description:i.localize(10,null),type:"number",default:_.EDITOR_FONT_DEFAULTS.fontSize},"terminal.integrated.lineHeight":{description:i.localize(11,null),type:"number",default:1.2},"terminal.integrated.enableBold":{type:"boolean",description:i.localize(12,null),default:!0},"terminal.integrated.cursorBlinking":{description:i.localize(13,null),type:"boolean",default:!1},"terminal.integrated.cursorStyle":{description:i.localize(14,null),enum:[c.TerminalCursorStyle.BLOCK,c.TerminalCursorStyle.LINE,c.TerminalCursorStyle.UNDERLINE],default:c.TerminalCursorStyle.BLOCK},"terminal.integrated.scrollback":{description:i.localize(15,null),type:"number",default:1e3},"terminal.integrated.setLocaleVariables":{description:i.localize(16,null),type:"boolean",default:o.isMacintosh},"terminal.integrated.cwd":{description:i.localize(17,null),type:"string",default:void 0},"terminal.integrated.confirmOnExit":{description:i.localize(18,null),type:"boolean",default:!1},"terminal.integrated.commandsToSkipShell":{description:i.localize(19,null),type:"array",items:{type:"string"},default:[m.ToggleTabFocusModeAction.ID,S.FocusActiveGroupAction.ID,a.GlobalQuickOpenAction.ID,f.ShowAllCommandsAction.ID,h.CreateNewTerminalAction.ID,h.CopyTerminalSelectionAction.ID,h.KillTerminalAction.ID,h.FocusActiveTerminalAction.ID,h.FocusPreviousTerminalAction.ID,h.FocusNextTerminalAction.ID,h.FocusTerminalAtIndexAction.getId(1),h.FocusTerminalAtIndexAction.getId(2),h.FocusTerminalAtIndexAction.getId(3),h.FocusTerminalAtIndexAction.getId(4),h.FocusTerminalAtIndexAction.getId(5),h.FocusTerminalAtIndexAction.getId(6),h.FocusTerminalAtIndexAction.getId(7),h.FocusTerminalAtIndexAction.getId(8),h.FocusTerminalAtIndexAction.getId(9),h.TerminalPasteAction.ID,h.RunSelectedTextInTerminalAction.ID,h.RunActiveFileInTerminalAction.ID,h.ToggleTerminalAction.ID,h.ScrollDownTerminalAction.ID,h.ScrollDownPageTerminalAction.ID,h.ScrollToBottomTerminalAction.ID,h.ScrollUpTerminalAction.ID,h.ScrollUpPageTerminalAction.ID,h.ScrollToTopTerminalAction.ID,h.ClearTerminalAction.ID,n.StartAction.ID,n.StopAction.ID,n.RunAction.ID,n.RestartAction.ID,n.ContinueAction.ID,n.PauseAction.ID,S.OpenNextRecentlyUsedEditorInGroupAction.ID,S.OpenPreviousRecentlyUsedEditorInGroupAction.ID,S.FocusFirstGroupAction.ID,S.FocusSecondGroupAction.ID,S.FocusThirdGroupAction.ID,h.SelectAllTerminalAction.ID,h.FocusTerminalFindWidgetAction.ID,h.HideTerminalFindWidgetAction.ID,C.NavigateUpAction.ID,C.NavigateDownAction.ID,C.NavigateRightAction.ID,C.NavigateLeftAction.ID].sort()}}}),y.registerSingleton(c.ITerminalService,v.TerminalService),p.Registry.as(r.Extensions.Panels).registerPanel(new r.PanelDescriptor("vs/workbench/parts/terminal/electron-browser/terminalPanel","TerminalPanel",c.TERMINAL_PANEL_ID,i.localize(20,null),"terminal",40,h.ToggleTerminalAction.ID));var w=i.localize(21,null),I=p.Registry.as(u.Extensions.WorkbenchActions);I.registerWorkbenchAction(new g.SyncActionDescriptor(h.KillTerminalAction,h.KillTerminalAction.ID,h.KillTerminalAction.LABEL),"Terminal: Kill the Active Terminal Instance",w),I.registerWorkbenchAction(new g.SyncActionDescriptor(h.CopyTerminalSelectionAction,h.CopyTerminalSelectionAction.ID,h.CopyTerminalSelectionAction.LABEL,{primary:2081,linux:{primary:3105}},d.ContextKeyExpr.and(c.KEYBINDING_CONTEXT_TERMINAL_TEXT_SELECTED,c.KEYBINDING_CONTEXT_TERMINAL_FOCUS)),"Terminal: Copy Selection",w),I.registerWorkbenchAction(new g.SyncActionDescriptor(h.CreateNewTerminalAction,h.CreateNewTerminalAction.ID,h.CreateNewTerminalAction.LABEL,{primary:3158,mac:{primary:1366}}),"Terminal: Create New Integrated Terminal",w),I.registerWorkbenchAction(new g.SyncActionDescriptor(h.FocusActiveTerminalAction,h.FocusActiveTerminalAction.ID,h.FocusActiveTerminalAction.LABEL),"Terminal: Focus Terminal",w),I.registerWorkbenchAction(new g.SyncActionDescriptor(h.FocusNextTerminalAction,h.FocusNextTerminalAction.ID,h.FocusNextTerminalAction.LABEL),"Terminal: Focus Next Terminal",w),I.registerWorkbenchAction(new g.SyncActionDescriptor(h.FocusPreviousTerminalAction,h.FocusPreviousTerminalAction.ID,h.FocusPreviousTerminalAction.LABEL),"Terminal: Focus Previous Terminal",w);for(var T=1;T<10;T++)I.registerWorkbenchAction(new g.SyncActionDescriptor(h.FocusTerminalAtIndexAction,h.FocusTerminalAtIndexAction.getId(T),h.FocusTerminalAtIndexAction.getLabel(T)),"Terminal: Focus Terminal "+T,w);I.registerWorkbenchAction(new g.SyncActionDescriptor(h.TerminalPasteAction,h.TerminalPasteAction.ID,h.TerminalPasteAction.LABEL,{primary:2100,linux:{primary:3124},mac:{primary:null}},c.KEYBINDING_CONTEXT_TERMINAL_FOCUS),"Terminal: Paste into Active Terminal",w),I.registerWorkbenchAction(new g.SyncActionDescriptor(h.SelectAllTerminalAction,h.SelectAllTerminalAction.ID,h.SelectAllTerminalAction.LABEL,{primary:null,mac:{primary:2079}},c.KEYBINDING_CONTEXT_TERMINAL_FOCUS),"Terminal: Select All",w),I.registerWorkbenchAction(new g.SyncActionDescriptor(h.RunSelectedTextInTerminalAction,h.RunSelectedTextInTerminalAction.ID,h.RunSelectedTextInTerminalAction.LABEL),"Terminal: Run Selected Text In Active Terminal",w),I.registerWorkbenchAction(new g.SyncActionDescriptor(h.RunActiveFileInTerminalAction,h.RunActiveFileInTerminalAction.ID,h.RunActiveFileInTerminalAction.LABEL),"Terminal: Run Active File In Active Terminal",w),I.registerWorkbenchAction(new g.SyncActionDescriptor(h.ToggleTerminalAction,h.ToggleTerminalAction.ID,h.ToggleTerminalAction.LABEL,{primary:2134,mac:{primary:342}}),"View: Toggle Integrated Terminal",i.localize(22,null)),I.registerWorkbenchAction(new g.SyncActionDescriptor(h.ScrollDownTerminalAction,h.ScrollDownTerminalAction.ID,h.ScrollDownTerminalAction.LABEL,{primary:2066,linux:{primary:3090}},c.KEYBINDING_CONTEXT_TERMINAL_FOCUS),"Terminal: Scroll Down (Line)",w),I.registerWorkbenchAction(new g.SyncActionDescriptor(h.ScrollDownPageTerminalAction,h.ScrollDownPageTerminalAction.ID,h.ScrollDownPageTerminalAction.LABEL,{primary:1036,mac:{primary:12}},c.KEYBINDING_CONTEXT_TERMINAL_FOCUS),"Terminal: Scroll Down (Page)",w),I.registerWorkbenchAction(new g.SyncActionDescriptor(h.ScrollToBottomTerminalAction,h.ScrollToBottomTerminalAction.ID,h.ScrollToBottomTerminalAction.LABEL,{primary:2061,linux:{primary:1037}},c.KEYBINDING_CONTEXT_TERMINAL_FOCUS),"Terminal: Scroll to Bottom",w),I.registerWorkbenchAction(new g.SyncActionDescriptor(h.ScrollUpTerminalAction,h.ScrollUpTerminalAction.ID,h.ScrollUpTerminalAction.LABEL,{primary:2064,linux:{primary:3088}},c.KEYBINDING_CONTEXT_TERMINAL_FOCUS),"Terminal: Scroll Up (Line)",w),I.registerWorkbenchAction(new g.SyncActionDescriptor(h.ScrollUpPageTerminalAction,h.ScrollUpPageTerminalAction.ID,h.ScrollUpPageTerminalAction.LABEL,{primary:1035,mac:{primary:11}},c.KEYBINDING_CONTEXT_TERMINAL_FOCUS),"Terminal: Scroll Up (Page)",w),I.registerWorkbenchAction(new g.SyncActionDescriptor(h.ScrollToTopTerminalAction,h.ScrollToTopTerminalAction.ID,h.ScrollToTopTerminalAction.LABEL,{primary:2062,linux:{primary:1038}},c.KEYBINDING_CONTEXT_TERMINAL_FOCUS),"Terminal: Scroll to Top",w),I.registerWorkbenchAction(new g.SyncActionDescriptor(h.ClearTerminalAction,h.ClearTerminalAction.ID,h.ClearTerminalAction.LABEL,{primary:2089,linux:{primary:null}},c.KEYBINDING_CONTEXT_TERMINAL_FOCUS,b.KeybindingsRegistry.WEIGHT.workbenchContrib(1)),"Terminal: Clear",w),o.isWindows&&I.registerWorkbenchAction(new g.SyncActionDescriptor(h.SelectDefaultShellWindowsTerminalAction,h.SelectDefaultShellWindowsTerminalAction.ID,h.SelectDefaultShellWindowsTerminalAction.LABEL),"Terminal: Select Default Shell",w),I.registerWorkbenchAction(new g.SyncActionDescriptor(h.AllowWorkspaceShellTerminalCommand,h.AllowWorkspaceShellTerminalCommand.ID,h.AllowWorkspaceShellTerminalCommand.LABEL),"Terminal: Allow Workspace Shell Configuration",w),I.registerWorkbenchAction(new g.SyncActionDescriptor(h.DisallowWorkspaceShellTerminalCommand,h.DisallowWorkspaceShellTerminalCommand.ID,h.DisallowWorkspaceShellTerminalCommand.LABEL),"Terminal: Disallow Workspace Shell Configuration",w),I.registerWorkbenchAction(new g.SyncActionDescriptor(h.RenameTerminalAction,h.RenameTerminalAction.ID,h.RenameTerminalAction.LABEL),"Terminal: Rename",w),I.registerWorkbenchAction(new g.SyncActionDescriptor(h.FocusTerminalFindWidgetAction,h.FocusTerminalFindWidgetAction.ID,h.FocusTerminalFindWidgetAction.LABEL,{primary:2084},c.KEYBINDING_CONTEXT_TERMINAL_FOCUS),"Terminal: Focus Find Widget",w),I.registerWorkbenchAction(new g.SyncActionDescriptor(h.HideTerminalFindWidgetAction,h.HideTerminalFindWidgetAction.ID,h.HideTerminalFindWidgetAction.LABEL,{primary:9,secondary:[13]},d.ContextKeyExpr.and(c.KEYBINDING_CONTEXT_TERMINAL_FOCUS,c.KEYBINDING_CONTEXT_TERMINAL_FIND_WIDGET_VISIBLE)),"Terminal: Focus Find Widget",w),E.registerColors()}),define(u[307],d([1,0,4,24,1362,1363,1279,130,26,1364]),function(e,t,n,i,r,o,s,a,c,l){"use strict";function u(e){return"https:"===s.parse(e.url).protocol?r.request:o.request}function d(e){var t;return new n.TPromise(function(n,r){var o=s.parse(e.url),a=(e.getRawRequest||u)(e),h={hostname:o.hostname,port:o.port?parseInt(o.port):"https:"===o.protocol?443:80,protocol:o.protocol,path:o.path,method:e.type||"GET",headers:e.headers,agent:e.agent,rejectUnauthorized:!i.isBoolean(e.strictSSL)||e.strictSSL};e.user&&e.password&&(h.auth=e.user+":"+e.password),(t=a(h,function(t){var o=i.isNumber(e.followRedirects)?e.followRedirects:3;if(t.statusCode>=300&&t.statusCode<400&&o>0&&t.headers.location)d(c.assign({},e,{url:t.headers.location,followRedirects:o-1})).done(n,r);else{var s=t;"gzip"===t.headers["content-encoding"]&&(s=s.pipe(l.createGunzip())),n({res:t,stream:s})}})).on("error",r),e.timeout&&t.setTimeout(e.timeout),e.data&&t.write(e.data),t.end()},function(){return t&&t.abort()})}function h(e){return e.res.statusCode>=200&&e.res.statusCode<300||1223===e.res.statusCode}function p(e){return 204===e.res.statusCode}Object.defineProperty(t,"__esModule",{value:!0}),t.request=d,t.download=function(e,t){return new n.TPromise(function(n,i){var r=a.createWriteStream(e);r.once("finish",function(){return n(null)}),t.stream.once("error",i),t.stream.pipe(r)})},t.asText=function(e){return new n.Promise(function(t,n){if(!h(e))return n("Server returned "+e.res.statusCode);if(p(e))return t(null);var i=[];e.stream.on("data",function(e){return i.push(e)}),e.stream.on("end",function(){return t(i.join(""))}),e.stream.on("error",n)})},t.asJson=function(e){return new n.Promise(function(t,n){if(!h(e))return n("Server returned "+e.res.statusCode);if(p(e))return t(null);if(!/application\/json/.test(e.res.headers["content-type"]))return n("Response doesn't appear to be JSON");var i=[];e.stream.on("data",function(e){return i.push(e)}),e.stream.on("end",function(){return t(JSON.parse(i.join("")))}),e.stream.on("error",n)})}});S=this&&this.__generator||function(e,t){function n(e){return function(t){return i([e,t])}}function i(n){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,o&&(s=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){c.label=n[1];break}if(6===n[0]&&c.label<s[1]){c.label=s[1],s=n;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(n);break}s[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],o=0}finally{r=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var r,o,s,a,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};define(u[1299],d([1,0,488,96,52,4,135,34,7,87,141,26,305,19,307,23,136,80,450,791]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,m,_,E,C){"use strict";function w(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return String(e.reduce(function(e,t){return e|t},0))}function I(e,t){var n=(e||[]).filter(function(e){return e.statisticName===t})[0];return n?n.value:0}function T(t,n){if(!t.files.filter(function(e){return e.assetType===n})[0]){if(n===D.Icon){var i=e.toUrl("./media/defaultIcon.png");return{uri:i,fallbackUri:i}}return null}return n===D.VSIX?{uri:t.fallbackAssetUri+"/"+n+"?redirect=true&install=true",fallbackUri:t.fallbackAssetUri+"/"+n+"?install=true"}:{uri:t.assetUri+"/"+n,fallbackUri:t.fallbackAssetUri+"/"+n}}function k(e){var t=e.properties?e.properties.filter(function(e){return e.key===O.Dependency}):[],n=t.length>0&&t[0].value;return n?n.split(",").map(function(e){return u.adoptToGalleryExtensionId(e)}):[]}function x(e){var t=e.properties?e.properties.filter(function(e){return e.key===O.Engine}):[];return t.length>0&&t[0].value||""}function A(e,t){var n=e.versions[0],i={manifest:T(n,D.Manifest),readme:T(n,D.Details),changelog:T(n,D.Changelog),download:T(n,D.VSIX),icon:T(n,D.Icon),license:T(n,D.License)};return{uuid:e.extensionId,id:u.getGalleryExtensionId(e.publisher.publisherName,e.extensionName),name:e.extensionName,version:n.version,date:n.lastUpdated,displayName:e.displayName,publisherId:e.publisher.publisherId,publisher:e.publisher.publisherName,publisherDisplayName:e.publisher.displayName,description:e.shortDescription||"",installCount:I(e.statistics,"install"),rating:I(e.statistics,"averagerating"),ratingCount:I(e.statistics,"ratingcount"),assets:i,properties:{dependencies:k(n),engine:x(n)}}}Object.defineProperty(t,"__esModule",{value:!0});var L;!function(e){e[e.None=0]="None",e[e.IncludeVersions=1]="IncludeVersions",e[e.IncludeFiles=2]="IncludeFiles",e[e.IncludeCategoryAndTags=4]="IncludeCategoryAndTags",e[e.IncludeSharedAccounts=8]="IncludeSharedAccounts",e[e.IncludeVersionProperties=16]="IncludeVersionProperties",e[e.ExcludeNonValidated=32]="ExcludeNonValidated",e[e.IncludeInstallationTargets=64]="IncludeInstallationTargets",e[e.IncludeAssetUri=128]="IncludeAssetUri",e[e.IncludeStatistics=256]="IncludeStatistics",e[e.IncludeLatestVersionOnly=512]="IncludeLatestVersionOnly",e[e.Unpublished=4096]="Unpublished"}(L||(L={}));var P;!function(e){e[e.Tag=1]="Tag",e[e.ExtensionId=4]="ExtensionId",e[e.Category=5]="Category",e[e.ExtensionName=7]="ExtensionName",e[e.Target=8]="Target",e[e.Featured=9]="Featured",e[e.SearchText=10]="SearchText",e[e.ExcludeWithFlags=12]="ExcludeWithFlags"}(P||(P={}));var D={Icon:"Microsoft.VisualStudio.Services.Icons.Default",Details:"Microsoft.VisualStudio.Services.Content.Details",Changelog:"Microsoft.VisualStudio.Services.Content.Changelog",Manifest:"Microsoft.VisualStudio.Code.Manifest",VSIX:"Microsoft.VisualStudio.Services.VSIXPackage",License:"Microsoft.VisualStudio.Services.Content.License"},O={Dependency:"Microsoft.VisualStudio.Code.ExtensionDependencies",Engine:"Microsoft.VisualStudio.Code.Engine"},R={pageNumber:1,pageSize:10,sortBy:l.SortBy.NoneOrRelevance,sortOrder:l.SortOrder.Default,flags:L.None,criteria:[],assetTypes:[]},M=function(){function e(e){void 0===e&&(e=R),this.state=e}return Object.defineProperty(e.prototype,"pageNumber",{get:function(){return this.state.pageNumber},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageSize",{get:function(){return this.state.pageSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortBy",{get:function(){return this.state.sortBy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortOrder",{get:function(){return this.state.sortOrder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flags",{get:function(){return this.state.flags},enumerable:!0,configurable:!0}),e.prototype.withPage=function(t,n){return void 0===n&&(n=this.state.pageSize),new e(d.assign({},this.state,{pageNumber:t,pageSize:n}))},e.prototype.withFilter=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=this.state.criteria.concat(n.map(function(e){return{filterType:t,value:e}}));return new e(d.assign({},this.state,{criteria:r}))},e.prototype.withSortBy=function(t){return new e(d.assign({},this.state,{sortBy:t}))},e.prototype.withSortOrder=function(t){return new e(d.assign({},this.state,{sortOrder:t}))},e.prototype.withFlags=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new e(d.assign({},this.state,{flags:t.reduce(function(e,t){return e|t},0)}))},e.prototype.withAssetTypes=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new e(d.assign({},this.state,{assetTypes:t}))},Object.defineProperty(e.prototype,"raw",{get:function(){var e=this.state,t=e.criteria,n=e.pageNumber,i=e.pageSize,r=e.sortBy,o=e.sortOrder,s=e.flags;return{filters:[{criteria:t,pageNumber:n,pageSize:i,sortBy:r,sortOrder:o}],assetTypes:e.assetTypes,flags:s}},enumerable:!0,configurable:!0}),e}(),N=function(){function e(e,t,n){this.requestService=e,this.telemetryService=t,this.configurationService=n;var i=_.default.extensionsGallery;this.extensionsGalleryUrl=i&&i.serviceUrl,this.commonHTTPHeaders=C.getCommonHTTPHeaders()}return e.prototype.api=function(e){return void 0===e&&(e=""),""+this.extensionsGalleryUrl+e},e.prototype.isEnabled=function(){return!!this.extensionsGalleryUrl},e.prototype.getRequestHeaders=function(){return this.commonHTTPHeaders},e.prototype.query=function(e){var t=this;if(void 0===e&&(e={}),!this.isEnabled())return o.TPromise.wrapError(new Error("No extension gallery service configured."));var n=e.names?"ids":e.text?"text":"all",i=e.text||"",r=d.getOrDefault(e,function(e){return e.pageSize},50);this.telemetryService.publicLog("galleryService:query",{type:n,text:i});var s=(new M).withFlags(L.IncludeLatestVersionOnly,L.IncludeAssetUri,L.IncludeStatistics,L.IncludeFiles,L.IncludeVersionProperties).withPage(1,r).withFilter(P.Target,"Microsoft.VisualStudio.Code").withFilter(P.ExcludeWithFlags,w(L.Unpublished)).withAssetTypes(D.Icon,D.License,D.Details,D.Manifest,D.VSIX,D.Changelog);return i?((i=(i=(i=i.replace(/\bcategory:("([^"]*)"|([^"]\S*))(\s+|\b|$)/g,function(e,t,n){return s=s.withFilter(P.Category,n||t),""})).replace(/\btag:("([^"]*)"|([^"]\S*))(\s+|\b|$)/g,function(e,t,n){return s=s.withFilter(P.Tag,n||t),""})).trim())&&(s=s.withFilter(P.SearchText,i)),s=s.withSortBy(l.SortBy.NoneOrRelevance)):s=e.ids?s.withFilter.apply(s,[P.ExtensionId].concat(e.ids)):e.names?s.withFilter.apply(s,[P.ExtensionName].concat(e.names)):s.withSortBy(l.SortBy.InstallCount),"number"==typeof e.sortBy&&(s=s.withSortBy(e.sortBy)),"number"==typeof e.sortOrder&&(s=s.withSortOrder(e.sortOrder)),this.queryGallery(s).then(function(e){var n=e.galleryExtensions,i=e.total;return{firstPage:n.map(function(e){return A(e,t.extensionsGalleryUrl)}),total:i,pageSize:s.pageSize,getPage:function(e){return t.queryGallery(s.withPage(e+1)).then(function(e){return e.galleryExtensions.map(function(e){return A(e,t.extensionsGalleryUrl)})})}}})},e.prototype.queryGallery=function(e){return b(this,void 0,o.TPromise,function(){var t,n,i,r,o,s,a,c,l;return S(this,function(u){switch(u.label){case 0:return[4,this.commonHTTPHeaders];case 1:return t=u.sent(),n=JSON.stringify(e.raw),i=d.assign({},t,{"Content-Type":"application/json",Accept:"application/json;api-version=3.0-preview.1","Accept-Encoding":"gzip","Content-Length":n.length}),[4,this.requestService.request({type:"POST",url:this.api("/extensionquery"),data:n,headers:i})];case 2:return(r=u.sent()).res.statusCode>=400&&r.res.statusCode<500?[2,{galleryExtensions:[],total:0}]:[4,f.asJson(r)];case 3:return o=u.sent(),s=o.results[0],a=s.extensions,c=s.resultMetadata&&s.resultMetadata.filter(function(e){return"ResultCount"===e.metadataType})[0],l=c&&c.metadataItems.filter(function(e){return"TotalCount"===e.name})[0].count||0,[2,{galleryExtensions:a,total:l}]}})})},e.prototype.download=function(e){var t=this;return this.loadCompatibleVersion(e).then(function(e){var n=r.join(i.tmpdir(),s.generateUuid()),o=u.getGalleryExtensionTelemetryData(e),a=(new Date).getTime(),c=function(e){return t.telemetryService.publicLog("galleryService:downloadVSIX",d.assign(o,{duration:e}))};return t.getAsset(e.assets.download).then(function(e){return f.download(n,e)}).then(function(){return c((new Date).getTime()-a)}).then(function(){return n})})},e.prototype.getReadme=function(e){return this.getAsset(e.assets.readme).then(f.asText)},e.prototype.getManifest=function(e){return this.getAsset(e.assets.manifest).then(f.asText).then(JSON.parse)},e.prototype.getChangelog=function(e){return this.getAsset(e.assets.changelog).then(f.asText)},e.prototype.getAllDependencies=function(e){var t=this;return this.loadCompatibleVersion(e).then(function(n){return t.getDependenciesReccursively(n.properties.dependencies,[],e)})},e.prototype.loadCompatibleVersion=function(e){var t=this;if(e.properties.engine&&this.isEngineValid(e.properties.engine))return o.TPromise.wrap(e);var i=(new M).withFlags(L.IncludeVersions,L.IncludeFiles,L.IncludeVersionProperties).withPage(1,1).withFilter(P.Target,"Microsoft.VisualStudio.Code").withFilter(P.ExcludeWithFlags,w(L.Unpublished)).withAssetTypes(D.Manifest,D.VSIX).withFilter(P.ExtensionId,e.uuid);return this.queryGallery(i).then(function(i){var r=i.galleryExtensions[0];return r?t.getLastValidExtensionVersion(r,r.versions).then(function(t){return e.properties.dependencies=k(t),e.properties.engine=x(t),e.assets.download=T(t,D.VSIX),e.version=t.version,e}):o.TPromise.wrapError(new Error(n.localize(0,null)))})},e.prototype.loadDependencies=function(e){var t=this;if(!e||0===e.length)return o.TPromise.as([]);var n=(i=(new M).withFlags(L.IncludeLatestVersionOnly,L.IncludeAssetUri,L.IncludeStatistics,L.IncludeFiles,L.IncludeVersionProperties).withPage(1,e.length).withFilter(P.Target,"Microsoft.VisualStudio.Code").withFilter(P.ExcludeWithFlags,w(L.Unpublished)).withAssetTypes(D.Icon,D.License,D.Details,D.Manifest,D.VSIX)).withFilter.apply(i,[P.ExtensionName].concat(e));return this.queryGallery(n).then(function(e){for(var n=[],i=[],r=0,o=e.galleryExtensions;r<o.length;r++){var s=o[r];-1===i.indexOf(s.extensionId)&&(n.push(A(s,t.extensionsGalleryUrl)),i.push(s.extensionId))}return n});var i},e.prototype.getDependenciesReccursively=function(t,n,i){var r=this;return t&&t.length?(-1!==t.indexOf(i.publisher+"."+i.name)&&-1===n.indexOf(i)&&n.push(i),(t=n.length?t.filter(function(t){return!e.hasExtensionByName(n,t)}):t).length?this.loadDependencies(t).then(function(t){for(var o=new Set,s=0,c=t;s<c.length;s++){var l=c[s];l.properties.dependencies&&l.properties.dependencies.forEach(function(e){return o.add(e)})}n=a.distinct(n.concat(t),function(e){return e.uuid});var u=[];return o.forEach(function(t){return!e.hasExtensionByName(n,t)&&u.push(t)}),r.getDependenciesReccursively(u,n,i)}):o.TPromise.wrap(n)):o.TPromise.wrap(n)},e.prototype.getAsset=function(e,t){var n=this;void 0===t&&(t={});var i={type:"GET"};return this.commonHTTPHeaders.then(function(r){r=d.assign({},r,t.headers||{}),t=d.assign({},t,i,{headers:r});var s=d.assign({},t,{url:e.uri});return n.requestService.request(s).then(function(e){return 200===e.res.statusCode?e:o.TPromise.wrapError(new Error("expected 200"))}).then(null,function(i){n.telemetryService.publicLog("galleryService:requestError",{cdn:!0,message:c.getErrorMessage(i)}),n.telemetryService.publicLog("galleryService:cdnFallback",{url:e.uri});var r=d.assign({},t,{url:e.fallbackUri});return n.requestService.request(r).then(null,function(e){return n.telemetryService.publicLog("galleryService:requestError",{cdn:!1,message:c.getErrorMessage(e)}),o.TPromise.wrapError(e)})})})},e.prototype.getLastValidExtensionVersion=function(e,t){var n=this.getLastValidExtensionVersionFromProperties(e,t);return n||this.getLastValidExtensionVersionReccursively(e,t)},e.prototype.getLastValidExtensionVersionFromProperties=function(e,t){for(var n=0,i=t;n<i.length;n++){var r=i[n],s=x(r);if(!s)return null;if(this.isEngineValid(s))return o.TPromise.wrap(r)}return null},e.prototype.getLastValidExtensionVersionReccursively=function(e,t){var i=this;if(!t.length)return o.TPromise.wrapError(new Error(n.localize(1,null,e.displayName||e.extensionName)));var r=t[0],s=T(r,D.Manifest),a={"Accept-Encoding":"gzip"};return this.getAsset(s,{headers:a}).then(function(e){return f.asJson(e)}).then(function(n){var o=n.engines.vscode;return i.isEngineValid(o)?(r.properties=r.properties||[],r.properties.push({key:O.Engine,value:n.engines.vscode}),r):i.getLastValidExtensionVersionReccursively(e,t.slice(1))})},e.prototype.isEngineValid=function(e){return"*"===e||E.isVersionValid(m.default.version,e)},e.hasExtensionByName=function(e,t){for(var n=0,i=e;n<i.length;n++){var r=i[n];if(r.publisher+"."+r.name===t)return!0}return!1},e}();N=v([y(0,h.IRequestService),y(1,p.ITelemetryService),y(2,g.IConfigurationService)],N),t.ExtensionGalleryService=N}),define(u[1276],d([1,0,26,307,1285,23]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e){var t=this;this.disposables=[],this.configure(e.getConfiguration()),e.onDidUpdateConfiguration(function(){return t.configure(e.getConfiguration())},this,this.disposables)}return e.prototype.configure=function(e){this.proxyUrl=e.http&&e.http.proxy,this.strictSSL=e.http&&e.http.proxyStrictSSL,this.authorization=e.http&&e.http.proxyAuthorization},e.prototype.request=function(e,t){void 0===t&&(t=i.request);var o=this,s=o.proxyUrl,a=o.strictSSL;return e.agent=e.agent||r.getProxyAgent(e.url,{proxyUrl:s,strictSSL:a}),e.strictSSL=a,this.authorization&&(e.headers=n.assign(e.headers||{},{"Proxy-Authorization":this.authorization})),t(e)},e}();s=v([y(0,o.IConfigurationService)],s),t.RequestService=s}),define(u[1268],d([1,0,4,784,1276]),function(e,t,n,i,r){"use strict";function o(e,t){if(t.headers)e:for(var n in t.headers){switch(n){case"User-Agent":case"Accept-Encoding":case"Content-Length":continue e}e.setRequestHeader(n,t.headers[n])}}function s(e){for(var t=Object.create(null),n=0,i=e.getAllResponseHeaders().split(/\r\n|\n|\r/g);n<i.length;n++){var r=i[n];if(r){var o=r.indexOf(":");t[r.substr(0,o).trim().toLowerCase()]=r.substr(o+1).trim()}}return t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return h(n,e),n.prototype.request=function(n){return e.prototype.request.call(this,n,t.xhrRequest)},n}(r.RequestService);t.RequestService=a;var c=function(e){function t(t){var n=e.call(this)||this;return n._buffer=new Buffer(new Uint8Array(t)),n._offset=0,n._length=n._buffer.length,n}return h(t,e),t.prototype._read=function(e){this._offset<this._length?(this.push(this._buffer.slice(this._offset,this._offset+e)),this._offset+=e):this.push(null)},t}(i.Readable);t.xhrRequest=function(e){var t=new XMLHttpRequest;return new n.TPromise(function(n,i){return t.open(e.type||"GET",e.url,!0,e.user,e.password),o(t,e),t.responseType="arraybuffer",t.onerror=i,t.onload=function(e){n({res:{statusCode:t.status,headers:s(t)},stream:new c(t.response)})},t.send(e.data),null},function(){t.abort()})}}),define(u[1267],d([1,0,541,11,40,9,114,5,7,107,80,95,136,863,259,19,164,336,331,829,828,1332,1355,329,1174,129,62,924,925,1339,305,1268,23,1282,1338,1263,785,44,803,871,56,826,238,436,186,410,31,118,775,41,69,142,39,20,789,156,83,32,771,27,59,275,42,99,301,1080,963,132,417,1235,739,87,933,920,314,923,416,440,281,97,295,158,66,137,1341,146,760,13,29,1353,237,999,797]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,v,m,y,b,S,_,E,C,w,I,T,k,x,A,L,P,D,O,R,M,N,F,W,B,V,z,H,K,U,j,G,q,$,Y,X,Q,Z,J,ee,te,ne,ie,re,oe,se,ae,ce,le,ue,de,he,pe,fe,ge,ve,me,ye,be,Se,_e,Ee,Ce,we,Ie,Te,ke,xe,Ae,Le,Pe,De,Oe,Re,Me,Ne){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var Fe=Ie.remote.getCurrentWindow(),We=function(){function e(e,t,n,i){this.container=e,this.configuration=n,this.options=i,this.contextService=t.contextService,this.configurationService=t.configurationService,this.environmentService=t.environmentService,this.timerService=t.timerService,this.storageService=t.storageService,this.toUnbind=[],this.previousErrorTime=0}return e.prototype.createContents=function(e){var t=this;s.setARIAContainer(document.body);var n=r.$(e).div(),i=this.initServiceCollection(e.getHTMLElement()),o=i[0],a=i[1];this.workbench=o.createInstance(f.Workbench,e.getHTMLElement(),n.getHTMLElement(),this.configuration,this.options,a),this.workbench.startup({onWorkbenchStarted:function(e){t.onWorkbenchStarted(e),o.createInstance(he.NodeCachedDataManager),t.lifecycleService.phase=X.LifecyclePhase.Running}});var c=this.workbench.getInstantiationService().createInstance(_.ElectronWindow,Fe,this.container);this.windowIPCService.registerWindow(c);var l=setTimeout(function(){console.warn("Workbench did not finish loading in 10 seconds, that might be a problem that should be reported.")},1e4);return this.workbench.joinCreation().then(function(){clearTimeout(l)}),n},e.prototype.onWorkbenchStarted=function(e){var t=this,r=this.options,o=r.filesToOpen,s=r.filesToCreate,a=r.filesToDiff;this.telemetryService.publicLog("workspaceLoad",{userAgent:navigator.userAgent,windowSize:{innerHeight:window.innerHeight,innerWidth:window.innerWidth,outerHeight:window.outerHeight,outerWidth:window.outerWidth},emptyWorkbench:!this.contextService.hasWorkspace(),"workbench.filesToOpen":o&&o.length||void 0,"workbench.filesToCreate":s&&s.length||void 0,"workbench.filesToDiff":a&&a.length||void 0,customKeybindingsCount:e.customKeybindingsCount,theme:this.themeService.getColorTheme().id,language:i.language,experiments:this.telemetryService.getExperiments(),pinnedViewlets:e.pinnedViewlets,restoredViewlet:e.restoredViewlet,restoredEditors:e.restoredEditors.length,startupKind:this.lifecycleService.startupKind}),this.timerService.workbenchStarted=Date.now(),this.timerService.restoreEditorsDuration=e.restoreEditorsDuration,this.timerService.restoreViewletDuration=e.restoreViewletDuration,this.extensionService.onReady().done(function(){t.telemetryService.publicLog("startupTime",t.timerService.startupMetrics)});var c=this.workbench.getInstantiationService().createInstance(w.WorkspaceStats);c.reportWorkspaceTags(this.options),c.reportCloudStats(),(i.isLinux||i.isMacintosh)&&0===process.getuid()&&this.messageService.show(J.Severity.Warning,n.localize(0,null))},e.prototype.initServiceCollection=function(e){var t=this,n=[],i=new q.ServiceCollection;i.set(oe.IWorkspaceContextService,this.contextService),i.set(D.IConfigurationService,this.configurationService),i.set(Z.IEnvironmentService,this.environmentService),i.set(we.ITimerService,this.timerService),i.set(G.IStorageService,this.storageService);var r=new $.InstantiationService(i,!0);this.windowIPCService=r.createInstance(I.WindowIPCService),i.set(I.IWindowIPCService,this.windowIPCService);var o=new ge.Client(String("window"+Fe.id));n.push(o);var s=o.getChannel("windows");this.windowsService=new k.WindowsChannelClient(s),i.set(T.IWindowsService,this.windowsService),i.set(T.IWindowService,new d.SyncDescriptor(x.WindowService,this.windowIPCService.getWindowId()));var c=this.windowsService.whenSharedProcessReady().then(function(){return fe.connect(t.environmentService.sharedIPCHandle,"window:"+t.windowIPCService.getWindowId())});if(c.done(function(e){return e.registerChannel("choice",r.createInstance(ee.ChoiceChannel))}),ke.restoreFontInfo(this.storageService),ke.readFontInfo(Te.BareFontInfo.createFromRawSettings(this.configurationService.getConfiguration("editor"),xe.getZoomLevel())),this.sendMachineIdToMain(this.storageService),this.environmentService.isBuilt&&!this.environmentService.isExtensionDevelopment&&u.default.enableTelemetry){var l=pe.getDelayedChannel(c.then(function(e){return e.getChannel("telemetryAppender")})),f=u.default.commit,_=h.default.version,C={appender:new m.TelemetryAppenderClient(l),commonProperties:E.resolveWorkbenchCommonProperties(this.storageService,f,_),piiPaths:[this.environmentService.appRoot,this.environmentService.extensionsPath],experiments:r.invokeFunction(v.loadExperiments)},w=r.createInstance(y.TelemetryService,C);this.telemetryService=w;var he=new S.default(w),Ie=new b.IdleMonitor(12e4),Oe=Ie.onStatusChange(function(e){return t.telemetryService.publicLog(e===b.UserStatus.Active?y.TelemetryService.IDLE_STOP_EVENT_NAME:y.TelemetryService.IDLE_START_EVENT_NAME)});n.push(w,he,Oe,Ie)}else v.NullTelemetryService._experiments=r.invokeFunction(v.loadExperiments),this.telemetryService=v.NullTelemetryService;i.set(g.ITelemetryService,this.telemetryService),n.push(v.configurationTelemetry(this.telemetryService,this.configurationService));var Re=ue.NullCrashReporterService;u.default.crashReporter&&u.default.hockeyApp&&(Re=r.createInstance(de.CrashReporterService)),i.set(ue.ICrashReporterService,Re),this.messageService=r.createInstance(A.MessageService,e),i.set(J.IMessageService,this.messageService),i.set(J.IChoiceService,this.messageService);var We=r.createInstance(R.LifecycleService);this.toUnbind.push(We.onShutdown(function(e){return a.dispose(n)})),this.toUnbind.push(We.onShutdown(function(e){return ke.saveFontInfo(t.storageService)})),i.set(X.ILifecycleService,We),n.push(v.lifecycleTelemetry(this.telemetryService,We)),this.lifecycleService=We;var Be=pe.getDelayedChannel(c.then(function(e){return e.getChannel("extensions")}));i.set(me.IExtensionManagementService,new d.SyncDescriptor(ve.ExtensionManagementChannelClient,Be));var Ve=r.createInstance(ye.ExtensionEnablementService);i.set(me.IExtensionEnablementService,Ve),n.push(Ve);var ze=r.createInstance(Ce.ExtensionHostProcessWorker);this.threadService=r.createInstance(M.MainThreadService,ze.messagingProtocol),i.set(ne.IThreadService,this.threadService),this.timerService.beforeExtensionLoad=Date.now(),this.extensionService=r.createInstance(j.MainProcessExtensionService),i.set(se.IExtensionService,this.extensionService),ze.start(this.extensionService),this.extensionService.onReady().done(function(){t.timerService.afterExtensionLoad=Date.now()}),this.themeService=r.createInstance(Le.WorkbenchThemeService,document.body),i.set(Ae.IWorkbenchThemeService,this.themeService),i.set(ie.ICommandService,new d.SyncDescriptor(re.CommandService)),this.contextViewService=r.createInstance(p.ContextViewService,this.container),i.set(Y.IContextViewService,this.contextViewService),i.set(L.IRequestService,new d.SyncDescriptor(P.RequestService)),i.set(Q.IMarkerService,new d.SyncDescriptor(N.MarkerService)),i.set(ce.IModeService,new d.SyncDescriptor(ae.WorkbenchModeServiceImpl)),i.set(F.IModelService,new d.SyncDescriptor(W.ModelServiceImpl)),i.set(Pe.ITextResourceConfigurationService,new d.SyncDescriptor(De.TextResourceConfigurationService)),i.set(U.IEditorWorkerService,new d.SyncDescriptor(K.EditorWorkerServiceImpl)),i.set(le.IUntitledEditorService,new d.SyncDescriptor(le.UntitledEditorService)),i.set(Ne.ITextMateService,new d.SyncDescriptor(Me.TextMateService)),i.set(te.ISearchService,new d.SyncDescriptor(O.SearchService)),i.set(V.ICodeEditorService,new d.SyncDescriptor(B.CodeEditorServiceImpl)),i.set(H.IIntegrityService,new d.SyncDescriptor(z.IntegrityServiceImpl));var He=o.getChannel("update");i.set(Se.IUpdateService,new d.SyncDescriptor(be.UpdateChannelClient,He));var Ke=o.getChannel("url");return i.set(Ee.IURLService,new d.SyncDescriptor(_e.URLChannelClient,Ke,this.windowIPCService.getWindowId())),[r,i]},e.prototype.sendMachineIdToMain=function(e){E.getOrCreateMachineId(e).then(function(e){Ie.ipcRenderer.send(C.machineIdIpcChannel,e)}).then(null,c.onUnexpectedError)},e.prototype.open=function(){var e=this;c.setUnexpectedErrorHandler(function(t){e.onUnexpectedError(t)}),r.$(this.container).addClass("monaco-shell"),this.content=r.$(".monaco-shell-content").appendTo(this.container).getHTMLElement(),this.contentsContainer=this.createContents(r.$(this.content)),this.layout(),this.registerListeners()},e.prototype.registerListeners=function(){var e=this;r.$(window).on(o.EventType.RESIZE,function(){return e.layout()},this.toUnbind)},e.prototype.onUnexpectedError=function(e){var t=l.toErrorMessage(e,!0);if(t){var n=Date.now();t===this.previousErrorValue&&n-this.previousErrorTime<=1e3||(this.previousErrorTime=n,this.previousErrorValue=t,console.error(t),e&&e.friendlyMessage&&this.messageService&&this.messageService.show(J.Severity.Error,e.friendlyMessage))}},e.prototype.layout=function(){var e=r.$(this.container).getClientArea(),t=new r.Dimension(e.width,e.height);this.contentsContainer.size(t.width,t.height),this.contextViewService.layout(),this.workbench.layout()},e.prototype.joinCreation=function(){return this.workbench.joinCreation()},e.prototype.dispose=function(){this.workbench&&this.workbench.dispose(),this.contextViewService.dispose(),this.toUnbind=a.dispose(this.toUnbind),r.$(this.container).empty()},e}();t.WorkbenchShell=We,Oe.registerThemingParticipant(function(e,t){var n=e.getColor(Re.foreground);n&&t.addRule(".monaco-shell { color: "+n+"; }");var i=e.getColor(Re.selectionBackground);i&&t.addRule(".monaco-shell ::selection { background-color: "+i+"; }");var r=e.getColor(Re.inputPlaceholderForeground);r&&(t.addRule(".monaco-shell input::-webkit-input-placeholder { color: "+r+"; }"),t.addRule(".monaco-shell textarea::-webkit-input-placeholder { color: "+r+"; }"));var o=e.getColor(Re.listHighlightForeground);o&&t.addRule("\n\t\t\t.monaco-shell .monaco-tree .monaco-tree-row .monaco-highlighted-label .highlight,\n\t\t\t.monaco-shell .monaco-list .monaco-list-row .monaco-highlighted-label .highlight {\n\t\t\t\tcolor: "+o+";\n\t\t\t}\n\t\t");var s;switch(e.type){case"dark":s="#252526";break;case"light":s="#F3F3F3";break;default:s="#000000"}t.addRule(".monaco-workbench { background-color: "+s+"; }");var a=e.getColor(Re.scrollbarShadow);a&&t.addRule("\n\t\t\t.monaco-shell .monaco-scrollable-element > .shadow.top {\n\t\t\t\tbox-shadow: "+a+" 0 6px 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-shell .monaco-scrollable-element > .shadow.left {\n\t\t\t\tbox-shadow: "+a+" 6px 0 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-shell .monaco-scrollable-element > .shadow.top.left {\n\t\t\t\tbox-shadow: "+a+" 6px 6px 6px -6px inset;\n\t\t\t}\n\t\t");var c=e.getColor(Re.scrollbarSliderBackground);c&&t.addRule("\n\t\t\t.monaco-shell .monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\tbackground: "+c+";\n\t\t\t}\n\t\t");var l=e.getColor(Re.scrollbarSliderHoverBackground);l&&t.addRule("\n\t\t\t.monaco-shell .monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\tbackground: "+l+";\n\t\t\t}\n\t\t");var u=e.getColor(Re.scrollbarSliderActiveBackground);u&&t.addRule("\n\t\t\t.monaco-shell .monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\tbackground: "+u+";\n\t\t\t}\n\t\t");var d=e.getColor(Re.focusBorder);d&&t.addRule('\n\t\t\t.monaco-shell [tabindex="0"]:focus,\n\t\t\t.monaco-shell .synthetic-focus,\n\t\t\t.monaco-shell select:focus,\n\t\t\t.monaco-shell .monaco-tree.focused.no-focused-item:focus:before,\n\t\t\t.monaco-shell input[type="button"]:focus,\n\t\t\t.monaco-shell input[type="text"]:focus,\n\t\t\t.monaco-shell button:focus,\n\t\t\t.monaco-shell textarea:focus,\n\t\t\t.monaco-shell input[type="search"]:focus,\n\t\t\t.monaco-shell input[type="checkbox"]:focus {\n\t\t\t\toutline-color: '+d+";\n\t\t\t}\n\t\t")})}),define(u[1264],d([1,0,539,4,1267,66,9,7,233,11,28,16,12,27,1075,76,793,52,1370,1265,221,827,97,130,143]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,v,m,y,b,S,_,E,C,w){"use strict";function I(e,t){return e.map(function(e){var n={};return n.resource=t?d.default.from({scheme:"untitled",path:e.filePath}):d.default.file(e.filePath),n.options={pinned:!0},e.lineNumber&&(n.options.selection={startLineNumber:e.lineNumber,startColumn:e.columnNumber}),n})}function T(e,t){return x(e).then(function(n){var i=k(n),o=new v.EnvironmentService(e,e.execPath),a=new f.WorkspaceConfigurationService(o,i),c=new b.TimerService(window.MonacoEnvironment.timers,!!i),l=A(n,i,e,o);return a.initialize().then(function(){return c.beforeDOMContentLoaded=Date.now(),s.domContentLoaded().then(function(){c.afterDOMContentLoaded=Date.now(),c.beforeWorkbenchOpen=Date.now();var n=new r.WorkbenchShell(document.body,{contextService:a,configurationService:a,environmentService:o,timerService:c,storageService:l},e,t);n.open(),self.require.config({onError:function(e){"load"===e.errorCode&&n.onUnexpectedError(L(e))}})})})})}function k(e){return e?new p.Workspace(w.createHash("md5").update(e.resource.fsPath).update(e.ctime?String(e.ctime):"").digest("hex"),m.basename(e.resource.fsPath),[e.resource]):null}function x(e){return e.workspacePath?g.realpath(e.workspacePath).then(function(t){return u.isUNC(t)&&h.endsWith(t,u.nativeSep)&&(t=h.rtrim(t,u.nativeSep)),e.workspacePath=t,g.stat(t).then(function(e){return new p.LegacyWorkspace(d.default.file(t),l.isLinux?e.ino:e.birthtime.getTime())})},function(e){return a.onUnexpectedError(e),null}):i.TPromise.as(null)}function A(e,t,n,i){var r;t?r=e.resource.toString():n.backupPath&&(r=d.default.from({path:m.basename(n.backupPath),scheme:"empty"}).toString());var o=!!i.extensionTestsPath?_.inMemoryLocalStorageInstance:window.localStorage;return new _.StorageService(o,o,{id:r,name:t&&t.name,roots:t&&t.roots},e?e.ctime:void 0)}function L(e){return l.isWeb?new Error(n.localize(0,null)):new Error(n.localize(1,null,JSON.stringify(e)))}Object.defineProperty(t,"__esModule",{value:!0}),y.gracefulify(C),t.startup=function(e){return o.setZoomFactor(E.webFrame.getZoomFactor()),o.setZoomLevel(E.webFrame.getZoomLevel(),!0),o.setFullscreen(!!e.fullscreen),S.KeyboardMapperFactory.INSTANCE._onKeyboardLayoutChanged(e.isISOKeyboard),o.setAccessibilitySupport(e.accessibilitySupport?2:1),c.setFileNameComparer(new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"})),T(e,{filesToOpen:e.filesToOpen&&e.filesToOpen.length?I(e.filesToOpen):null,filesToCreate:e.filesToCreate&&e.filesToCreate.length?I(e.filesToCreate):null,filesToDiff:e.filesToDiff&&e.filesToDiff.length?I(e.filesToDiff):null})}}),define(u[1247],d([1,0,609,7,60,15,35,116,87,1299,50,1296,85,125,98,30,95,92,1086,210,437,303,103,1293,349,84,64,123,445,32,443,141,966]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f,g,v,m,y,b,S,_,E,C,w,I,T,k,x,A,L,P){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.registerSingleton(c.IExtensionGalleryService,l.ExtensionGalleryService),a.registerSingleton(c.IExtensionTipsService,d.ExtensionTipsService),a.registerSingleton(m.IExtensionsWorkbenchService,y.ExtensionsWorkbenchService);var D=o.Registry.as(h.Extensions.Workbench);D.registerWorkbenchContribution(w.StatusUpdater),D.registerWorkbenchContribution(L.KeymapExtensions),D.registerWorkbenchContribution(L.BetterMergeDisabled),o.Registry.as(p.Extensions.OutputChannels).registerChannel(c.ExtensionsChannelId,c.ExtensionsLabel),o.Registry.as(I.Extensions.Quickopen).registerQuickOpenHandler(new I.QuickOpenHandlerDescriptor("vs/workbench/parts/extensions/browser/extensionsQuickOpen","ExtensionsHandler","ext ",null,n.localize(0,null),!0)),o.Registry.as(I.Extensions.Quickopen).registerQuickOpenHandler(new I.QuickOpenHandlerDescriptor("vs/workbench/parts/extensions/browser/extensionsQuickOpen","GalleryExtensionsHandler","ext install ",null,n.localize(1,null),!0));var O=new f.EditorDescriptor(C.ExtensionEditor.ID,n.localize(2,null),"vs/workbench/parts/extensions/browser/extensionEditor","ExtensionEditor");o.Registry.as(g.Extensions.Editors).registerEditor(O,[new v.SyncDescriptor(_.ExtensionsInput)]);var R=new E.ViewletDescriptor("vs/workbench/parts/extensions/electron-browser/extensionsViewlet","ExtensionsViewlet",m.VIEWLET_ID,n.localize(3,null),"extensions",100);o.Registry.as(E.Extensions.Viewlets).registerViewlet(R);var M=o.Registry.as(u.Extensions.WorkbenchActions),N=new s.SyncActionDescriptor(b.OpenExtensionsViewletAction,b.OpenExtensionsViewletAction.ID,b.OpenExtensionsViewletAction.LABEL,{primary:3126});M.registerWorkbenchAction(N,"View: Show Extensions",n.localize(4,null));var F=new s.SyncActionDescriptor(b.InstallExtensionsAction,b.InstallExtensionsAction.ID,b.InstallExtensionsAction.LABEL);M.registerWorkbenchAction(F,"Extensions: Install Extensions",c.ExtensionsLabel);var W=new s.SyncActionDescriptor(b.ShowOutdatedExtensionsAction,b.ShowOutdatedExtensionsAction.ID,b.ShowOutdatedExtensionsAction.LABEL);M.registerWorkbenchAction(W,"Extensions: Show Outdated Extensions",c.ExtensionsLabel);var B=new s.SyncActionDescriptor(b.ShowRecommendedExtensionsAction,b.ShowRecommendedExtensionsAction.ID,b.ShowRecommendedExtensionsAction.LABEL);M.registerWorkbenchAction(B,"Extensions: Show Recommended Extensions",c.ExtensionsLabel);var V=new s.SyncActionDescriptor(b.ShowRecommendedKeymapExtensionsAction,b.ShowRecommendedKeymapExtensionsAction.ID,b.ShowRecommendedKeymapExtensionsAction.SHORT_LABEL,{primary:r.KeyChord(2089,2091)});M.registerWorkbenchAction(V,"Preferences: Keymaps",c.PreferencesLabel);var z=new s.SyncActionDescriptor(b.ShowLanguageExtensionsAction,b.ShowLanguageExtensionsAction.ID,b.ShowLanguageExtensionsAction.SHORT_LABEL);M.registerWorkbenchAction(z,"Preferences: Language Extensions",c.PreferencesLabel);var H=new s.SyncActionDescriptor(b.ShowWorkspaceRecommendedExtensionsAction,b.ShowWorkspaceRecommendedExtensionsAction.ID,b.ShowWorkspaceRecommendedExtensionsAction.LABEL);M.registerWorkbenchAction(H,"Extensions: Show Workspace Recommended Extensions",c.ExtensionsLabel);var K=new s.SyncActionDescriptor(b.ShowPopularExtensionsAction,b.ShowPopularExtensionsAction.ID,b.ShowPopularExtensionsAction.LABEL);M.registerWorkbenchAction(K,"Extensions: Show Popular Extensions",c.ExtensionsLabel);var U=new s.SyncActionDescriptor(b.ShowInstalledExtensionsAction,b.ShowInstalledExtensionsAction.ID,b.ShowInstalledExtensionsAction.LABEL);M.registerWorkbenchAction(U,"Extensions: Show Installed Extensions",c.ExtensionsLabel);var j=new s.SyncActionDescriptor(b.ShowDisabledExtensionsAction,b.ShowDisabledExtensionsAction.ID,b.ShowDisabledExtensionsAction.LABEL);M.registerWorkbenchAction(j,"Extensions: Show Disabled Extensions",c.ExtensionsLabel);var G=new s.SyncActionDescriptor(b.UpdateAllAction,b.UpdateAllAction.ID,b.UpdateAllAction.LABEL);M.registerWorkbenchAction(G,"Extensions: Update All Extensions",c.ExtensionsLabel);var q=new s.SyncActionDescriptor(S.OpenExtensionsFolderAction,S.OpenExtensionsFolderAction.ID,S.OpenExtensionsFolderAction.LABEL);M.registerWorkbenchAction(q,"Extensions: Open Extensions Folder",c.ExtensionsLabel);var $=new s.SyncActionDescriptor(b.ConfigureWorkspaceRecommendedExtensionsAction,b.ConfigureWorkspaceRecommendedExtensionsAction.ID,b.ConfigureWorkspaceRecommendedExtensionsAction.LABEL);M.registerWorkbenchAction($,"Extensions: Configure Recommended Extensions (Workspace)",c.ExtensionsLabel);var Y=new s.SyncActionDescriptor(S.InstallVSIXAction,S.InstallVSIXAction.ID,S.InstallVSIXAction.LABEL);M.registerWorkbenchAction(Y,"Extensions: Install from VSIX...",c.ExtensionsLabel);var X=new s.SyncActionDescriptor(b.DisableAllAction,b.DisableAllAction.ID,b.DisableAllAction.LABEL);M.registerWorkbenchAction(X,"Extensions: Disable All Installed Extensions",c.ExtensionsLabel);var Q=new s.SyncActionDescriptor(b.DisableAllWorkpsaceAction,b.DisableAllWorkpsaceAction.ID,b.DisableAllWorkpsaceAction.LABEL);M.registerWorkbenchAction(Q,"Extensions: Disable All Installed Extensions for this Workspace",c.ExtensionsLabel);var Z=new s.SyncActionDescriptor(b.EnableAllAction,b.EnableAllAction.ID,b.EnableAllAction.LABEL);M.registerWorkbenchAction(Z,"Extensions: Enable All Installed Extensions",c.ExtensionsLabel);var J=new s.SyncActionDescriptor(b.EnableAllWorkpsaceAction,b.EnableAllWorkpsaceAction.ID,b.EnableAllWorkpsaceAction.LABEL);M.registerWorkbenchAction(J,"Extensions: Enable All Installed Extensions for this Workspace",c.ExtensionsLabel);var ee=new s.SyncActionDescriptor(b.CheckForUpdatesAction,b.CheckForUpdatesAction.ID,b.CheckForUpdatesAction.LABEL);M.registerWorkbenchAction(ee,"Extensions: Check for Updates",c.ExtensionsLabel),M.registerWorkbenchAction(new s.SyncActionDescriptor(b.EnableAutoUpdateAction,b.EnableAutoUpdateAction.ID,b.EnableAutoUpdateAction.LABEL),"Extensions: Enable Auto Updating Extensions",c.ExtensionsLabel),M.registerWorkbenchAction(new s.SyncActionDescriptor(b.DisableAutoUpdateAction,b.DisableAutoUpdateAction.ID,b.DisableAutoUpdateAction.LABEL),"Extensions: Disable Auto Updating Extensions",c.ExtensionsLabel),o.Registry.as(T.Extensions.Configuration).registerConfiguration({id:"extensions",order:30,title:n.localize(5,null),type:"object",properties:{"extensions.autoUpdate":{type:"boolean",description:n.localize(6,null),default:!0},"extensions.ignoreRecommendations":{type:"boolean",description:n.localize(7,null),default:!1}}}),o.Registry.as(k.Extensions.JSONContribution).registerSchema(x.ExtensionsConfigurationSchemaId,x.ExtensionsConfigurationSchema),A.CommandsRegistry.registerCommand("_extensions.manage",function(e,t){var n=e.get(m.IExtensionsWorkbenchService);t=P.adoptToGalleryExtensionId(t);var r=n.local.filter(function(e){return e.id===t});1===r.length&&n.open(r[0]).done(null,i.onUnexpectedError)})}),define(u[1232],d([1,0,704,36,4,21,8,5,49,20,136,80,16,22,175,6,318,305,307,38,243,119,32,31,314,324,11]),function(e,t,n,i,r,o,s,a,c,l,u,d,p,f,g,m,b,S,_,E,C,w,I,T,k,x,A){"use strict";function L(e,t){var i=e.get(S.IRequestService),o=e.get(E.IKeybindingService),s=/^(\d+\.\d+)\./.exec(t);if(!s)return r.TPromise.wrapError(new Error("not found"));var a="https://code.visualstudio.com/raw/v"+s[1].replace(/\./g,"_")+".md",c=n.localize(2,null),l=function(e){return e.replace(/kb\(([a-z.\d\-]+)\)/gi,function(e,t){var n=o.lookupKeybinding(t);return n?n.getLabel():c}).replace(/kbstyle\(([^\)]+)\)/gi,function(e,t){var n=C.KeybindingIO.readKeybinding(t,A.OS);if(!n)return c;var i=o.resolveKeybinding(n);return 0===i.length?c:i[0].getLabel()})};return O[t]||(O[t]=i.request({url:a}).then(_.asText).then(function(e){return l(e)})),O[t]}Object.defineProperty(t,"__esModule",{value:!0});var P=function(e){function t(t){var i=e.call(this,"update.applyUpdate",n.localize(0,null),null,!0)||this;return i.updateService=t,i}return h(t,e),t.prototype.run=function(){return this.updateService.quitAndInstall()},t}(o.Action);P=v([y(0,k.IUpdateService)],P);var D=new o.Action("update.later",n.localize(1,null),null,!0,function(){return r.TPromise.as(!0)}),O=Object.create(null);t.loadReleaseNotes=L;var R=function(e){function t(t){var i=e.call(this,"update.openLatestReleaseNotes",n.localize(3,null),null,!0)||this;return i.openerService=t,i}return h(t,e),t.prototype.run=function(){var e=p.default.parse(d.default.releaseNotesUrl);return this.openerService.open(e)},t}(o.Action);R=v([y(0,w.IOpenerService)],R),t.OpenLatestReleaseNotesInBrowserAction=R;var M=function(e){function t(t,n,i,r,o,s){var a=e.call(this,t,n,null,!0)||this;return a.returnValue=i,a.version=r,a.editorService=o,a.instantiationService=s,a}return h(t,e),t.prototype.run=function(){var e=this;return this.enabled?(this.enabled=!1,this.instantiationService.invokeFunction(L,this.version).then(function(t){return e.editorService.openEditor(e.instantiationService.createInstance(b.ReleaseNotesInput,e.version,t),{pinned:!0})}).then(function(){return!0}).then(null,function(){return e.instantiationService.createInstance(R).run().then(function(){return!1})})):r.TPromise.as(!1)},t}(o.Action);M=v([y(4,f.IWorkbenchEditorService),y(5,m.IInstantiationService)],M),t.AbstractShowReleaseNotesAction=M;var N=function(e){function t(t,i,r,o){return e.call(this,"update.showReleaseNotes",n.localize(4,null),t,i,r,o)||this}return h(t,e),t}(M);N=v([y(2,f.IWorkbenchEditorService),y(3,m.IInstantiationService)],N),t.ShowReleaseNotesAction=N;var F=function(e){function t(n,i,r,o){return void 0===n&&(n=t.ID),void 0===i&&(i=t.LABEL),e.call(this,n,i,!0,u.default.version,r,o)||this}return h(t,e),t}(M);F.ID="update.showCurrentReleaseNotes",F.LABEL=n.localize(5,null),F=v([y(2,f.IWorkbenchEditorService),y(3,m.IInstantiationService)],F),t.ShowCurrentReleaseNotesAction=F;var W=function(e){function t(t,i){var r=e.call(this,"update.download",n.localize(6,null),null,!0)||this;return r.url=t,r.updateService=i,r}return h(t,e),t.prototype.run=function(){return this.updateService.quitAndInstall()},t}(o.Action);W=v([y(1,k.IUpdateService)],W),t.DownloadAction=W;var B=function(e,t,n){return new o.Action(e,t,null,!0,function(){return window.open(n),r.TPromise.as(null)})},V=function(){function e(t,i,r,o){var s=t.get(e.KEY,T.StorageScope.GLOBAL,"");d.default.releaseNotesUrl&&s&&u.default.version!==s&&i.invokeFunction(L,u.default.version).then(function(e){return o.openEditor(i.createInstance(b.ReleaseNotesInput,u.default.version,e),{pinned:!0})},function(){r.show(l.Severity.Info,{message:n.localize(7,null,d.default.nameLong,u.default.version),actions:[i.createInstance(R),l.CloseAction]})}),
// should we show the new license?
d.default.licenseUrl&&s&&x.satisfies(s,"<1.0.0")&&x.satisfies(u.default.version,">=1.0.0")&&r.show(l.Severity.Info,{message:n.localize(8,null,d.default.nameLong,u.default.version),actions:[B("update.showLicense",n.localize(9,null),d.default.licenseUrl),l.CloseAction]}),t.store(e.KEY,u.default.version,T.StorageScope.GLOBAL)}return e.prototype.getId=function(){return"vs.product"},e}();V.KEY="releaseNotes/lastVersion",V=v([y(0,T.IStorageService),y(1,m.IInstantiationService),y(2,l.IMessageService),y(3,f.IWorkbenchEditorService)],V),t.ProductContribution=V;var z=function(e){function t(t,n,i){var r=e.call(this,"command-action:"+t,n,void 0,!0,function(){return i.executeCommand(t)})||this;return r.commandService=i,r}return h(t,e),t}(o.Action);z=v([y(2,I.ICommandService)],z);var H=function(){function e(e,t,n,i,r,o,a){this.storageService=e,this.commandService=t,this.instantiationService=n,this.messageService=i,this.updateService=r,this.activityBarService=a,this.disposables=[],(A.isLinux?s.mapEvent(r.onUpdateAvailable,function(e){return e.version}):s.mapEvent(r.onUpdateReady,function(e){return e.version}))(this.onUpdateAvailable,this,this.disposables),r.onError(this.onError,this,this.disposables),r.onUpdateNotAvailable(this.onUpdateNotAvailable,this,this.disposables),d.default.commit!==this.storageService.get("update/lastKnownVersion",T.StorageScope.GLOBAL)&&(this.storageService.remove("update/lastKnownVersion",T.StorageScope.GLOBAL),this.storageService.remove("update/updateNotificationTime",T.StorageScope.GLOBAL))}return Object.defineProperty(e.prototype,"id",{get:function(){return"vs.update"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssClass",{get:function(){return"update-activity"},enumerable:!0,configurable:!0}),e.prototype.onUpdateAvailable=function(e){var t=new g.NumberBadge(1,function(){return n.localize(10,null)});this.activityBarService.showGlobalActivity(this.id,t);var i=d.default.commit,r=(new Date).getTime();i!==this.storageService.get("update/lastKnownVersion",T.StorageScope.GLOBAL)&&(this.storageService.store("update/lastKnownVersion",i,T.StorageScope.GLOBAL),this.storageService.store("update/updateNotificationTime",r,T.StorageScope.GLOBAL)),(r-this.storageService.getInteger("update/updateNotificationTime",T.StorageScope.GLOBAL,r))/864e5>5&&this.showUpdateNotification(e)},e.prototype.showUpdateNotification=function(e){var t=this.instantiationService.createInstance(N,!1,e);if(A.isLinux){var r=this.instantiationService.createInstance(W,e);this.messageService.show(i.default.Info,{message:n.localize(11,null),actions:[r,D,t]})}else{var o=this.instantiationService.createInstance(P);this.messageService.show(i.default.Info,{message:n.localize(12,null,d.default.nameLong),actions:[o,D,t]})}},e.prototype.onUpdateNotAvailable=function(e){e&&this.messageService.show(i.default.Info,n.localize(13,null))},e.prototype.onError=function(e){this.messageService.show(i.default.Error,e)},e.prototype.getActions=function(){var t=this.getUpdateAction();return[new z(e.showCommandsId,n.localize(14,null),this.commandService),new c.Separator,new z(e.openSettingsId,n.localize(15,null),this.commandService),new z(e.openKeybindingsId,n.localize(16,null),this.commandService),new c.Separator,new z(e.selectColorThemeId,n.localize(17,null),this.commandService),new z(e.selectIconThemeId,n.localize(18,null),this.commandService),new c.Separator,t]},e.prototype.getUpdateAction=function(){var e=this;switch(this.updateService.state){case k.State.Uninitialized:return new o.Action("update.notavailable",n.localize(19,null),void 0,!1);case k.State.CheckingForUpdate:return new o.Action("update.checking",n.localize(20,null),void 0,!1);case k.State.UpdateAvailable:if(A.isLinux)return new o.Action("update.linux.available",n.localize(21,null),void 0,!0,function(){return e.updateService.quitAndInstall()});var t=A.isWindows?n.localize(22,null):n.localize(23,null);return new o.Action("update.available",t,void 0,!1);case k.State.UpdateDownloaded:return new o.Action("update.restart",n.localize(24,null),void 0,!0,function(){return e.updateService.quitAndInstall()});default:return new o.Action("update.check",n.localize(25,null),void 0,this.updateService.state===k.State.Idle,function(){return e.updateService.checkForUpdates(!0)})}},e.prototype.dispose=function(){this.disposables=a.dispose(this.disposables)},e}();H.showCommandsId="workbench.action.showCommands",H.openSettingsId="workbench.action.openGlobalSettings",H.openKeybindingsId="workbench.action.openGlobalKeybindings",H.selectColorThemeId="workbench.action.selectTheme",H.selectIconThemeId="workbench.action.selectIconTheme",H=v([y(0,T.IStorageService),y(1,I.ICommandService),y(2,m.IInstantiationService),y(3,l.IMessageService),y(4,k.IUpdateService),y(5,f.IWorkbenchEditorService),y(6,g.IActivityBarService)],H),t.UpdateContribution=H}),define(u[1117],d([1,0,705,15,85,1163,318,98,380,30,95,50,35,64,1232,945]),function(e,t,n,i,r,o,s,a,c,l,u,d,h,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.Registry.as(r.Extensions.Workbench).registerWorkbenchContribution(f.ProductContribution),i.Registry.as(c.GlobalActivityExtensions).registerActivity(f.UpdateContribution);var g=new a.EditorDescriptor(o.ReleaseNotesEditor.ID,n.localize(0,null),"vs/workbench/parts/update/electron-browser/releaseNotesEditor","ReleaseNotesEditor");i.Registry.as(l.Extensions.Editors).registerEditor(g,[new u.SyncDescriptor(s.ReleaseNotesInput)]),i.Registry.as(d.Extensions.WorkbenchActions).registerWorkbenchAction(new h.SyncActionDescriptor(f.ShowCurrentReleaseNotesAction,f.ShowCurrentReleaseNotesAction.ID,f.ShowCurrentReleaseNotesAction.LABEL),"Show Release Notes"),i.Registry.as(p.Extensions.Configuration).registerConfiguration({id:"update",order:15,title:n.localize(1,null),type:"object",properties:{"update.channel":{type:"string",enum:["none","default"],default:"default",description:n.localize(2,null)}}})}),define(u[1374],d([1,0,12,7,932,813,1321,444,1133,1132,1131,439,1134,1218,1115,1128,1202,1305,1105,1346,1344,1301,1274,1312,1347,1228,1306,1308,1334,973,1145,1290,1315,1154,420,1149,1213,1247,1295,349,1166,1156,1208,1330,1162,259,1068,1020,1211,982,1192,1226,987,1147,1159,1313,997,1059,1117,1033,1032,1337,1137,1270,1352,1264,1229,1348,1164]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})})}).call(this);
//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/cb82febafda0c8c199b9201ad274e25d9a76874e/core/vs\workbench\electron-browser\workbench.main.js.map
